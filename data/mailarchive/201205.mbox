From users-return-233875-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 01:54:29 2012
Return-Path: <users-return-233875-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D9819DBB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 01:54:29 +0000 (UTC)
Received: (qmail 28694 invoked by uid 500); 1 May 2012 01:54:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28629 invoked by uid 500); 1 May 2012 01:54:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28615 invoked by uid 99); 1 May 2012 01:54:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 01:54:26 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lbrtchx@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 01:54:19 +0000
Received: by obbwd20 with SMTP id wd20so3679803obb.18
        for <users@tomcat.apache.org>; Mon, 30 Apr 2012 18:53:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=UUywEuWIRKXlajzGQht94Ey5Zgdlx1Tlul0TR/TdJ2I=;
        b=PlBiOc/LGOlUKSef/hOBlvPm2dkH4j1I8F6nlLHxjqxmsDKiBmggKxoQ/lpGfEZVTC
         IrDQVBqSPD8v9fGQ0gi4VrvWjVGT44yMrKFFggd4VxuCUITAqbSsN+tO3EzzHo2DaZQ1
         3uSpVWG0cjmRs8TdWZt4R/z2kBlovSruOQVP1L9OxYQGaQj6W4TQ1EdkTmI1UvMW6J7w
         MorlxRCj6PWxaczpfbufATq0r8ZOjj0/KRKL/lnm8VgaCYh6DAhab43ibwF6535rY03F
         A7zuOCiEw1ouk2kOwt7FKivl87weJM/p2ENGIbFk8A9Db9kmFu2C0vqRYCNYDreFUKRf
         KHmw==
MIME-Version: 1.0
Received: by 10.182.131.7 with SMTP id oi7mr30682575obb.74.1335837239154; Mon,
 30 Apr 2012 18:53:59 -0700 (PDT)
Received: by 10.182.70.167 with HTTP; Mon, 30 Apr 2012 18:53:59 -0700 (PDT)
In-Reply-To: <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com>
	<CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
Date: Tue, 1 May 2012 01:53:59 +0000
Message-ID: <CAFakBwjKQL8Yr40u1Zku6qvtmaF74ZOCLdMC8_eRYZr4eBL1rQ@mail.gmail.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
From: Albretch Mueller <lbrtchx@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

~
 I really don't know how to make sence of this, but ant does not
appear to like symbolic links ...
~
 lbrtchx
~
$ ls -l /usr/bin/ant
lrwxrwxrwx 1 root root 20 Sep 13  2011 /usr/bin/ant -> ../share/ant/bin/ant

$ ls -lH /usr/bin/ant
-rwxr-xr-x 1 root root 9903 May 19  2011 /usr/bin/ant

$ ls -l /usr/share/ant/bin/ant
-rwxr-xr-x 1 root root 9903 May 19  2011 /usr/share/ant/bin/ant

$ ANT_HOME=3D/usr/share/ant
$ export PATH=3D$ANT_HOME/bin:$PATH

$ ant -verbose -debug -Dtests.haltonfailure=3Dfalse dist
Apache Ant(TM) version 1.8.3 compiled on April 30 2012
Trying the default build file: build.xml
Buildfile: /media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/junit/junit/build=
.xml
...
     [java] JUnit version 4.11-SNAPSHOT
     [java] ...............................................................=
...........................................................................=
...........................................................................=
...........................................................................=
.................I.I.......................................................=
...........................................................................=
.........................................................I.................=
...........................................................................=
.............
     [java] Time: 5.796
     [java]
     [java] OK (598 tests)
     [java]

BUILD SUCCESSFUL
Total time: 24 seconds

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233876-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 02:01:24 2012
Return-Path: <users-return-233876-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C90019E3F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 02:01:24 +0000 (UTC)
Received: (qmail 45895 invoked by uid 500); 1 May 2012 02:01:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45649 invoked by uid 500); 1 May 2012 02:01:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45640 invoked by uid 99); 1 May 2012 02:01:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 02:01:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.213] (HELO nm25-vm2.bullet.mail.ne1.yahoo.com) (98.138.91.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 May 2012 02:01:11 +0000
Received: from [98.138.90.54] by nm25.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:00:50 -0000
Received: from [98.138.226.167] by tm7.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:00:50 -0000
Received: from [127.0.0.1] by omp1068.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:00:50 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 148801.21006.bm@omp1068.mail.ne1.yahoo.com
Received: (qmail 63785 invoked by uid 60001); 1 May 2012 02:00:50 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1335837650; bh=Y9iNWNe7ToJJBgTFHXe6baFYHGQhjaeUDIhvbiAW1T0=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=UALy/8+nk1kNxe54rEZk5K/bz24SczQiCJfVhcevHCJtYtJdYceVvGQxRRitCxe5cV7J7Ri+Og63uC7zJj6tDmVDfsaBW7P9Svo8x0W5fTyqmZPkklUwr0HVY8LUE6/Beu3t3kFX5IUxHbsstn20DluOg/yel3PasjAGKp179hk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=F7PK0t387+mBtoemrx8ojgN5FIF1tNQMrp7dQSxYWDzfAtCv252B/Qa3q/+8a4Oz8CNn7e45mOIkbkRyDEbGIFUsCbMTF8GfeuNp7cE6DfJg47Z02zVhVdIi3oK4WFlv2t/iVKTpfd2x/ulgSLzIL8oUSbnSxTN/dAACj41TjMk=;
X-YMail-OSG: .1DlPrQVM1nU4r2epBGUJbpTD6TuYthB571ELksUrsrlDVg
 5ZJUs.b9InxM.IizHWkYCxRDA6PD5vDRlj9fMINZRs1JWmCPdKysv3D.XFHP
 ujNrR.unUkusd11UgQBM6BFwULz7yKs52NAd26gH54cyhNDx.KhxdPC_JjqK
 HJ.7I6mfFQ6EYITIwAeollPWIGrdDlpv88UlLJ0O6e67jcX2gzAgaV12J_ID
 eG4Jd_eatUzV4NHrFI7gk2RE3wa0Ihmm5Ona1YdEGy4iUDBCTWKHnrDLmllW
 CkI4zY8OTNRSPqQzaWgB8CwkebzBpdEwVypSBx.JzJXcEpJrc.yndQbiVn2I
 jyvSFbxqBRTh25.RHL6Qn6gX26ljl3CxtA7O7nBrtO8W2CN4dQAI1D89uY_6
 M5e2zCYc7AI83XfP6Ecp3LifZOu5L3DSGMcSH4nDcdimU3NB8WveUNjA6.Is
 Cj04Js_spTk8c5gskIyaQngewMDMjqZkvknaWpqJKtnHPqj_m5863dViaPu0
 DMGfqfJ2ovza0FhqyX.dKAg1cGSgwlmyseHrnA3KLEVo65RsjGq5CsgdY5Vw
 z9lcM54HITFAckMWuh03aAy24NQtdDP6tirAQTvAMhjo-
Received: from [71.134.9.186] by web125502.mail.ne1.yahoo.com via HTTP; Mon, 30 Apr 2012 19:00:49 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com> <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
Message-ID: <1335837649.37838.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Mon, 30 Apr 2012 19:00:49 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Albretch Mueller <lbrtchx@gmail.c=
om>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: =
Monday, April 30, 2012 4:07 PM=0A> Subject: Re: tomcat deps on ant which de=
ps on junit ... BUILD FAILED=0A> =0A>>  Exactly what Tomcat distribution (a=
nd from where) are you trying to =0A> install?=0A> ~=0A> Well, I got the so=
urce code from:=0A> ~=0A> http://apache.claz.org/tomcat/tomcat-7/v7.0.27/sr=
c/apache-tomcat-7.0.27-src.tar.gz=0A> ~=0A> and followed the build instruct=
ions=0A> ~=0A> lbrtchx=0A=0A=0AWell, that was fun . . . I've never built th=
is on a Windows platform before.=0A=0A1. Downloaded a copy of the source in=
 zip format=0A2. Unpacked it=0A3. Copied build.properties.default to build.=
properties=0A4. Edited build.properties=0A=A0 =A0a. aimed the download repo=
 area to something sensible=0A=A0 =A0 =A0 C:\Users\mdeggers\src\tc7-repo=0A=
=A0 =A0b. Added the following lines so I wouldn't build the Windows install=
er=0A=A0 =A0 =A0 # right after base.path=0A=A0 =A0 =A0=A0# skipping windows=
 installer=0A=A0 =A0 =A0 =A0 skip.installer=3Dtrue=0A5. Opened up a command=
 window and changed to the proper directory=0A6. ant release=0A=0AThis took=
 a little over 4 minutes running on a 3.2 GHz core duo with 6 GB memory and=
 Windows 7 Home Premium. I'm using JDK 1.6.0_32 and Ant 1.8.3. I've not cus=
tomized my Ant yet (with JUnit and XMLTask).=0A=0AWorked fine for me.=0A=0A=
. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233877-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 02:14:51 2012
Return-Path: <users-return-233877-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AAB39E79
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 02:14:50 +0000 (UTC)
Received: (qmail 72608 invoked by uid 500); 1 May 2012 02:14:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72529 invoked by uid 500); 1 May 2012 02:14:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72520 invoked by uid 99); 1 May 2012 02:14:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 02:14:47 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lbrtchx@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 02:14:41 +0000
Received: by obbwd20 with SMTP id wd20so3705567obb.18
        for <users@tomcat.apache.org>; Mon, 30 Apr 2012 19:14:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GSM/SeViKayit+AhG5D5BUJ6pmSTmKC8M1+iJNOe1mI=;
        b=SNFW06gw0LJuH4l5mSzoZMleSb1ph6ASJ9kTMYfVCyUKXkscwu9VhosHgQJiIlIrk+
         Vd24lA2uPAQWxQ8s/uLQuJtwcZRuWuUaX+zaniPypWlzJRG+XzXUmC83+UXi6yjrhBfp
         BHYbSJ1Jl8CFQken6vrGTbKCtHROhQFHewBHRYbI12N+T4ElInvFfI1i1xI+e0/u71UD
         3Itr70Tk3go6zs9+a8asWtX0DyXX9HmYiPpgNyly0x0OHdhtjAptSLJo/P8w3LQ44oFd
         qbodhR8M3bQJDwEhyC2HXBKN/2iHreNHsbZnBtbkre0OPJq5hvPmQBQs51g38gsT2a84
         GEuA==
MIME-Version: 1.0
Received: by 10.60.0.201 with SMTP id 9mr5286819oeg.59.1335838460830; Mon, 30
 Apr 2012 19:14:20 -0700 (PDT)
Received: by 10.182.70.167 with HTTP; Mon, 30 Apr 2012 19:14:20 -0700 (PDT)
In-Reply-To: <1335837649.37838.YahooMailNeo@web125502.mail.ne1.yahoo.com>
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com>
	<CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
	<1335837649.37838.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Tue, 1 May 2012 02:14:20 +0000
Message-ID: <CAFakBwiBJ=2-yFpKMbH4ig00eOP+No-YHKUUj79PYqgTiuyeUg@mail.gmail.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
From: Albretch Mueller <lbrtchx@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, Mark Eggers <its_toasted@yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

 For the record, I should have specified I am using:
~
$ uname -a
Linux Microknoppix 3.0.4 #12 SMP PREEMPT Thu Sep 8 05:27:05 CEST 2011
i686 GNU/Linux
~
 lbrtchx

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233878-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 02:22:05 2012
Return-Path: <users-return-233878-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B96E99E9D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 02:22:05 +0000 (UTC)
Received: (qmail 91137 invoked by uid 500); 1 May 2012 02:22:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91055 invoked by uid 500); 1 May 2012 02:22:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91045 invoked by uid 99); 1 May 2012 02:22:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 02:22:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.41] (HELO nm31-vm1.bullet.mail.ne1.yahoo.com) (98.138.229.41)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 May 2012 02:21:51 +0000
Received: from [98.138.90.56] by nm31.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:21:30 -0000
Received: from [98.138.89.199] by tm9.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:21:30 -0000
Received: from [127.0.0.1] by omp1057.mail.ne1.yahoo.com with NNFMP; 01 May 2012 02:21:30 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 359015.22066.bm@omp1057.mail.ne1.yahoo.com
Received: (qmail 6074 invoked by uid 60001); 1 May 2012 02:21:30 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1335838890; bh=L1zjJgX2BGhmV7uz+0VetU1gpsc30gmS46PuHeq34QI=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=SQVbmZVo2b3P+897DEIJynmYIiNyiP2PGfFz4oW//oQyZIVlj1z4sqeMTuFVb86U/UPa/aDvvUCRryHKDM6xpLq/7vVRWS8sAd1759Y7ZPBoul5gyETj89DWEDV8KFCYKxPCgJAkkcSLC3JJyk+PCnzn47t5pWL4pSp009XhwQk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VXZWm6P4PSUG8o8ITCYKLjZmvQswskgJUyoIx6BsDBAzIlPntivgaxEJc+lWzdud1sbTQcKp5Eoyoi3Pli54PrWAeMEsJnoFxO6patJI1iCkj51bx42WYkOWusTPQn2ed9hIa2kPA5ppofAkbyS4FXBTRs0mOFqnshqeTg/6hg0=;
X-YMail-OSG: Gc_kqpYVM1lzRN7z5TopXKZbSfYh56eD6GeucQYo6PIV58I
 HwptYGuFAXXMxiMXWWyVa1vUR5dDyByPC5eCZMBT8I64l8DbnbwcIJJ4Sv1c
 xTUxShHRiF4RQOO6VpTz7jPtYqKzOXGvpjHDBO3NyYu96n3pygUOx2PG9_Dv
 zgEX.ly7fsKaBxK5Tey_4WeDVqgFLfU5baU_XIz3QzFOROXf05kgZpS9dKlR
 C3agxTrALc5fY8fGOBsaAwJNEyH8si7YpthKzmEOKOTq0Ks3.Y8ZFMtiGmuI
 BruVN8yike9slzZC3H0z7sos10SPX6TMziKubzVV9pqiSBj3dl.7D2_lVvyP
 YaNcoPnnyTjKD2vszBQBt1fgYA2SEXKlq4VWOgFiOI3VQVegBl_Sa.KUGyH5
 pH70WcQuBOlztytlYnEqmN9faY_0C4TTuMcEhE_ydGEK9ZuvWljysMqq8hWn
 cpxiHMaDFbkFERZc_5Cbr57yEgyE-
Received: from [71.134.9.186] by web125504.mail.ne1.yahoo.com via HTTP; Mon, 30 Apr 2012 19:21:30 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com> <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com> <CAFakBwjKQL8Yr40u1Zku6qvtmaF74ZOCLdMC8_eRYZr4eBL1rQ@mail.gmail.com>
Message-ID: <1335838890.5885.YahooMailNeo@web125504.mail.ne1.yahoo.com>
Date: Mon, 30 Apr 2012 19:21:30 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAFakBwjKQL8Yr40u1Zku6qvtmaF74ZOCLdMC8_eRYZr4eBL1rQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Albretch Mueller <lbrtchx@gmail.c=
om>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: =
Monday, April 30, 2012 6:53 PM=0A> Subject: Re: tomcat deps on ant which de=
ps on junit ... BUILD FAILED=0A> =0A> ~=0A> I really don't know how to make=
 sence of this, but ant does not=0A> appear to like symbolic links ...=0A> =
~=0A> lbrtchx=0A> ~=0A> $ ls -l /usr/bin/ant=0A> lrwxrwxrwx 1 root root 20 =
Sep 13=A0 2011 /usr/bin/ant -> ../share/ant/bin/ant=0A> =0A> $ ls -lH /usr/=
bin/ant=0A> -rwxr-xr-x 1 root root 9903 May 19=A0 2011 /usr/bin/ant=0A> =0A=
> $ ls -l /usr/share/ant/bin/ant=0A> -rwxr-xr-x 1 root root 9903 May 19=A0 =
2011 /usr/share/ant/bin/ant=0A> =0A> $ ANT_HOME=3D/usr/share/ant=0A> $ expo=
rt PATH=3D$ANT_HOME/bin:$PATH=0A> =0A> $ ant -verbose -debug -Dtests.halton=
failure=3Dfalse dist=0A> Apache Ant(TM) version 1.8.3 compiled on April 30 =
2012=0A> Trying the default build file: build.xml=0A> Buildfile: /media/sdb=
1/prjx/sw/jwebXBL/java_baseline/srcs/junit/junit/build.xml=0A> ...=0A> =A0 =
=A0  [java] JUnit version 4.11-SNAPSHOT=0A> =A0 =A0  [java] =0A> ..........=
...........................................................................=
...........................................................................=
...........................................................................=
......................................................................I.I..=
...........................................................................=
...........................................................................=
...................................I.......................................=
..................................................................=0A> =A0 =
=A0  [java] Time: 5.796=0A> =A0 =A0  [java]=0A> =A0 =A0  [java] OK (598 tes=
ts)=0A> =A0 =A0  [java]=0A> =0A> BUILD SUCCESSFUL=0A> Total time: 24 second=
s=0A=0A=0AI use a soft link for ant on my Fedora system and Tomcat builds f=
ine.=0A=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233879-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 03:14:01 2012
Return-Path: <users-return-233879-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2039AC801
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 03:14:01 +0000 (UTC)
Received: (qmail 81863 invoked by uid 500); 1 May 2012 03:13:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81656 invoked by uid 500); 1 May 2012 03:13:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81615 invoked by uid 99); 1 May 2012 03:13:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 03:13:54 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lbrtchx@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 03:13:48 +0000
Received: by obbwd20 with SMTP id wd20so3773357obb.18
        for <users@tomcat.apache.org>; Mon, 30 Apr 2012 20:13:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=k/sOvmHpyUSAXGdXxkke3DuDe0zHpYVbCbxFWUtfrL4=;
        b=D0Wp9XyR/KCbp9I+XPo4p/Ti9NfUa1+q//T/PMwB8V+ifxXL2sBF5f/6proESF4AX2
         d0e5Qm6Ww9KGJVSy4ECe40aKn3CjSxUPAMmnmpW9B9Td5XrBR3MoINosutlcMniBjoal
         4lPZYc0TSS8k+sHPzbM/2j5GVETa6x/Vv3sKUiIlGZT99d/vKG4hJ5N3lEf5pwyh5UX6
         zvxwKwLprPY913hZlO2dRsBPmQi02jXQBsUbJB//swK5mYM4PjHoACnuhmth05fEO1WG
         OSCclkYmDSXTISIaJ+NA8f396Xx3KKYQU2wC8ebIvX1UsmygZFyIpe7ex59yB8kQedIE
         TOdA==
MIME-Version: 1.0
Received: by 10.60.1.67 with SMTP id 3mr30750858oek.15.1335842008032; Mon, 30
 Apr 2012 20:13:28 -0700 (PDT)
Received: by 10.182.70.167 with HTTP; Mon, 30 Apr 2012 20:13:27 -0700 (PDT)
In-Reply-To: <1335838890.5885.YahooMailNeo@web125504.mail.ne1.yahoo.com>
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com>
	<CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
	<CAFakBwjKQL8Yr40u1Zku6qvtmaF74ZOCLdMC8_eRYZr4eBL1rQ@mail.gmail.com>
	<1335838890.5885.YahooMailNeo@web125504.mail.ne1.yahoo.com>
Date: Tue, 1 May 2012 03:13:27 +0000
Message-ID: <CAFakBwgVEdFiN4TqjeRg-ZX1=n_xM+3BF9YLLt-43PC1dumNSQ@mail.gmail.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
From: Albretch Mueller <lbrtchx@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

 Now, I think this error relates to java
~
$ export _DT=`date +%Y%m%d%H%M%S`knoppix@Microknoppix:/media/sdb1/prjx
$ ant -verbose -debug -f build.xml > "apache-tomcat-7.0.27"$_DT".inst.log" 2>&1
$ cat "apache-tomcat-7.0.27"$_DT".inst.log"
Apache Ant(TM) version 1.8.2 compiled on May 19 2011
Buildfile: /media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml
Adding reference: ant.PropertyHelper
Detected Java version: 1.6 in: /usr/lib/jvm/java-6-openjdk/jre
Detected OS: Linux
Adding reference: ant.ComponentHelper
Setting ro project property: ant.file ->
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml
Setting ro project property: ant.file.type -> file
Adding reference: ant.projectHelper
Adding reference: ant.parsing.context
Adding reference: ant.targets
parsing buildfile
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml
with URI = file:/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml
Setting ro project property: ant.project.name -> Tomcat 7.0
Adding reference: Tomcat 7.0
Setting ro project property: ant.project.default-target -> deploy
Setting ro project property: ant.file.Tomcat 7.0 ->
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml
Setting ro project property: ant.file.type.Tomcat 7.0 -> file
Project base dir set to:
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src
 +Target:
...
build-manifests:
Skipped because property 'manifests.uptodate' set.

build-tomcat-dbcp:
fileset: Setup scanner in dir
/media/sdb1/inst/sw/jdk/commons-pool-1.5.7-src with patternSet{
includes: [**/*.java] excludes: [**/test/**] }
fileset: Setup scanner in dir
/media/sdb1/inst/sw/jdk/commons-dbcp-1.4-src with patternSet{
includes: [**/*.java] excludes: [**/test/**, **/managed/**] }
     [copy] src/java/org/apache/commons/pool/BaseKeyedObjectPool.java
added as src/java/org/apache/commons/pool/BaseKeyedObjectPool.java
doesn't exist.
...
    [javac] javac: invalid target release: 1.7
    [javac] Usage: javac <options> <source files>
    [javac] use -help for a list of possible options
  [antcall] Exiting
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml.

BUILD FAILED
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml:2321:
The following error occurred while executing this line:
/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml:2409:
Compile failed; see the compiler error output for details.
	at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1150)
	at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:912)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1368)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.Main.runBuild(Main.java:809)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)

Total time: 3 seconds

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233880-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 03:30:52 2012
Return-Path: <users-return-233880-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C75BD95F5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 03:30:52 +0000 (UTC)
Received: (qmail 28329 invoked by uid 500); 1 May 2012 03:30:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28260 invoked by uid 500); 1 May 2012 03:30:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28242 invoked by uid 99); 1 May 2012 03:30:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 03:30:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.163] (HELO nm3-vm4.bullet.mail.ne1.yahoo.com) (98.138.91.163)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 May 2012 03:30:39 +0000
Received: from [98.138.90.53] by nm3.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 03:30:18 -0000
Received: from [98.138.89.196] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 01 May 2012 03:30:18 -0000
Received: from [127.0.0.1] by omp1054.mail.ne1.yahoo.com with NNFMP; 01 May 2012 03:30:18 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 64709.22998.bm@omp1054.mail.ne1.yahoo.com
Received: (qmail 71958 invoked by uid 60001); 1 May 2012 03:30:18 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1335843017; bh=j4Dz9ed9lw6SQBp1eukUGPkg2MaqlzMPUjgcvuP0NcA=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=H64EvX1RVRrowiIL+omZC2nOsmxSE5qb8C5Y4ASzLGGGnut0nFTremx+5hjwIXC9a3kwivle6t4iPwP1NES8MMPeSLC4pZo2BDySzb3/Xo0bdzGft+DkjcsKwsJzEhHF933x0Pf5QeX/hCOOp7kUtYJmFUEix+8+VzEYFeiXa1w=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2uMZgVteSGiMEEbyEZk1fFvL39Z2cFGfIN7amlpcsHoSWV1xRZJahPzKlMI51uPqsq5EQhClgROtApTtWGRn4g1PJoWHgUPWgl+aNrXcdzU0vgFsPBGCCXZhxDoraM2z229k7VQnUahi/11EChy8jAJfq3M8SyWm7JvOIZRKbKc=;
X-YMail-OSG: uQcUNj4VM1m6eC.BFqtN5TPJD4sO.Iu45FtWbbcCQez5Y.5
 xdPaSQQhF9JVb0YmfvLTJVxVYjj5hOCw.t9XEUznKqvCjLUbmARwgt9y9GuF
 WOT1VEjZbV1fifjHLacVwNv1ymC0nK_6PbXZc3UNvHTQEc0k3IKNkfgeBCZP
 USxTtbEmn2pcxSTInsqErOKJMPSpPaJhjfVAOVIpoIllg6PI6qkb9KI_ylpl
 8O1ynZRmeMT7jH4m4wu1clYbaHlvo6cDKbgP1tPWwKnLNK8YWcl6G3zXftLV
 b3elFVZkV_wxGT15crFSlQGo3cOGX5zXbDa6xQOHfgXxkRzIGcgLVBsIiPqd
 C5C8CCuRxy8OrHDmzOP50DDueqE7Bbwjl1fKwsfMvOriXi9347efR06kCKjD
 3kxBlZvcWOBnp3kCrCCRTL92GFMctLqAcclSwPtAbr0M6ggngT0TfmgrKCK.
 zprY2OhMH9ws.PLB_flsotwFYcoDzUPefPr6X_wYLb71WWf0P6raVcTf03DU
 3sJCUsXvhgg_PNbmG.QlqamGWyUdXBEByrtUjerUSD4Lx2TEfeHsZtUZlpgn
 juH7PUZE5
Received: from [71.134.9.186] by web125504.mail.ne1.yahoo.com via HTTP; Mon, 30 Apr 2012 20:30:17 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com> <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com> <CAFakBwjKQL8Yr40u1Zku6qvtmaF74ZOCLdMC8_eRYZr4eBL1rQ@mail.gmail.com> <1335838890.5885.YahooMailNeo@web125504.mail.ne1.yahoo.com> <CAFakBwgVEdFiN4TqjeRg-ZX1=n_xM+3BF9YLLt-43PC1dumNSQ@mail.gmail.com>
Message-ID: <1335843017.49482.YahooMailNeo@web125504.mail.ne1.yahoo.com>
Date: Mon, 30 Apr 2012 20:30:17 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAFakBwgVEdFiN4TqjeRg-ZX1=n_xM+3BF9YLLt-43PC1dumNSQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Comment inline - search for =3D=3D=3D=3D=3D=3D=3D=3D=3D Comment =3D=3D=3D=
=3D=3D=3D=3D=3D=0A=0A=0A----- Original Message -----=0A> From: Albretch Mue=
ller <lbrtchx@gmail.com>=0A> To: Tomcat Users List <users@tomcat.apache.org=
>=0A> Cc: =0A> Sent: Monday, April 30, 2012 8:13 PM=0A> Subject: Re: tomcat=
 deps on ant which deps on junit ... BUILD FAILED=0A> =0A> Now, I think thi=
s error relates to java=0A> ~=0A> $ export _DT=3D`date +%Y%m%d%H%M%S`knoppi=
x@Microknoppix:/media/sdb1/prjx=0A> $ ant -verbose -debug -f build.xml > =
=0A> "apache-tomcat-7.0.27"$_DT".inst.log" 2>&1=0A> $ cat "apache-tomcat-7.=
0.27"$_DT".inst.log"=0A> Apache Ant(TM) version 1.8.2 compiled on May 19 20=
11=0A> Buildfile: =0A> /media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomca=
t/srcs/apache-tomcat-7.0.27-src/build.xml=0A> Adding reference: ant.Propert=
yHelper=0A> Detected Java version: 1.6 in: /usr/lib/jvm/java-6-openjdk/jre=
=0A> Detected OS: Linux=0A> Adding reference: ant.ComponentHelper=0A> Setti=
ng ro project property: ant.file ->=0A> /media/sdb1/prjx/sw/jwebXBL/java_ba=
seline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml=0A> Setting ro p=
roject property: ant.file.type -> file=0A> Adding reference: ant.projectHel=
per=0A> Adding reference: ant.parsing.context=0A> Adding reference: ant.tar=
gets=0A> parsing buildfile=0A> /media/sdb1/prjx/sw/jwebXBL/java_baseline/sr=
cs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml=0A> with URI =3D =0A> fil=
e:/media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-=
7.0.27-src/build.xml=0A> Setting ro project property: ant.project.name -> T=
omcat 7.0=0A> Adding reference: Tomcat 7.0=0A> Setting ro project property:=
 ant.project.default-target -> deploy=0A> Setting ro project property: ant.=
file.Tomcat 7.0 ->=0A> /media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomca=
t/srcs/apache-tomcat-7.0.27-src/build.xml=0A> Setting ro project property: =
ant.file.type.Tomcat 7.0 -> file=0A> Project base dir set to:=0A> /media/sd=
b1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src=
=0A> +Target:=0A> ...=0A> build-manifests:=0A> Skipped because property 'ma=
nifests.uptodate' set.=0A> =0A> build-tomcat-dbcp:=0A> fileset: Setup scann=
er in dir=0A> /media/sdb1/inst/sw/jdk/commons-pool-1.5.7-src with patternSe=
t{=0A> includes: [**/*.java] excludes: [**/test/**] }=0A> fileset: Setup sc=
anner in dir=0A> /media/sdb1/inst/sw/jdk/commons-dbcp-1.4-src with patternS=
et{=0A> includes: [**/*.java] excludes: [**/test/**, **/managed/**] }=0A> =
=A0 =A0  [copy] src/java/org/apache/commons/pool/BaseKeyedObjectPool.java=
=0A> added as src/java/org/apache/commons/pool/BaseKeyedObjectPool.java=0A>=
 doesn't exist.=0A> ...=0A> =A0 =A0 [javac] javac: invalid target release: =
1.7=0A> =A0 =A0 [javac] Usage: javac <options> <source files>=0A> =A0 =A0 [=
javac] use -help for a list of possible options=0A=0A=3D=3D=3D=3D=3D=3D=3D=
=3D=3D Comment =3D=3D=3D=3D=3D=3D=3D=3D=A0=0A=0ADid you change the followin=
g from this:=0A=0Acompile.source=3D1.6=0Acompile.target=3D1.6=0Acompile.deb=
ug=3Dtrue=0A=0Ato something like this?=0A=0Acompile.source=3D1.6=0Acompile.=
target=3D1.7=0Acompile.debug=3Dtrue=0A=0AOr do you have a systems property =
set somewhere?=0A=0A=3D=3D=3D=3D=3D=3D=3D=3D=3D Comment =3D=3D=3D=3D=3D=3D=
=3D=3D=A0=A0=0A=0A=0A> =A0 [antcall] Exiting=0A> /media/sdb1/prjx/sw/jwebXB=
L/java_baseline/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml.=0A> =
=0A> BUILD FAILED=0A> /media/sdb1/prjx/sw/jwebXBL/java_baseline/srcs/tomcat=
/srcs/apache-tomcat-7.0.27-src/build.xml:2321:=0A> The following error occu=
rred while executing this line:=0A> /media/sdb1/prjx/sw/jwebXBL/java_baseli=
ne/srcs/tomcat/srcs/apache-tomcat-7.0.27-src/build.xml:2409:=0A> Compile fa=
iled; see the compiler error output for details.=0A> =A0=A0=A0 at org.apach=
e.tools.ant.taskdefs.Javac.compile(Javac.java:1150)=0A> =A0=A0=A0 at org.ap=
ache.tools.ant.taskdefs.Javac.execute(Javac.java:912)=0A> =A0=A0=A0 at org.=
apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)=0A> =A0=A0=
=A0 at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)=0A> =A0=
=A0=A0 at =0A> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMe=
thodAccessorImpl.java:43)=0A> =A0=A0=A0 at java.lang.reflect.Method.invoke(=
Method.java:616)=0A> =A0=A0=A0 at =0A> org.apache.tools.ant.dispatch.Dispat=
chUtils.execute(DispatchUtils.java:106)=0A> =A0=A0=A0 at org.apache.tools.a=
nt.Task.perform(Task.java:348)=0A> =A0=A0=A0 at org.apache.tools.ant.Target=
.execute(Target.java:390)=0A> =A0=A0=A0 at org.apache.tools.ant.Target.perf=
ormTasks(Target.java:411)=0A> =A0=A0=A0 at org.apache.tools.ant.Project.exe=
cuteSortedTargets(Project.java:1399)=0A> =A0=A0=A0 at =0A> org.apache.tools=
.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)=
=0A> =A0=A0=A0 at org.apache.tools.ant.Project.executeTargets(Project.java:=
1251)=0A> =A0=A0=A0 at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:4=
42)=0A> =A0=A0=A0 at org.apache.tools.ant.taskdefs.CallTarget.execute(CallT=
arget.java:105)=0A> =A0=A0=A0 at org.apache.tools.ant.UnknownElement.execut=
e(UnknownElement.java:291)=0A> =A0=A0=A0 at sun.reflect.GeneratedMethodAcce=
ssor4.invoke(Unknown Source)=0A> =A0=A0=A0 at =0A> sun.reflect.DelegatingMe=
thodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)=0A> =A0=A0=A0=
 at java.lang.reflect.Method.invoke(Method.java:616)=0A> =A0=A0=A0 at =0A> =
org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)=
=0A> =A0=A0=A0 at org.apache.tools.ant.Task.perform(Task.java:348)=0A> =A0=
=A0=A0 at org.apache.tools.ant.Target.execute(Target.java:390)=0A> =A0=A0=
=A0 at org.apache.tools.ant.Target.performTasks(Target.java:411)=0A> =A0=A0=
=A0 at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)=
=0A> =A0=A0=A0 at org.apache.tools.ant.Project.executeTarget(Project.java:1=
368)=0A> =A0=A0=A0 at =0A> org.apache.tools.ant.helper.DefaultExecutor.exec=
uteTargets(DefaultExecutor.java:41)=0A> =A0=A0=A0 at org.apache.tools.ant.P=
roject.executeTargets(Project.java:1251)=0A> =A0=A0=A0 at org.apache.tools.=
ant.Main.runBuild(Main.java:809)=0A> =A0=A0=A0 at org.apache.tools.ant.Main=
.startAnt(Main.java:217)=0A> =A0=A0=A0 at org.apache.tools.ant.launch.Launc=
her.run(Launcher.java:280)=0A> =A0=A0=A0 at org.apache.tools.ant.launch.Lau=
ncher.main(Launcher.java:109)=0A> =0A> Total time: 3 seconds

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233881-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 10:05:36 2012
Return-Path: <users-return-233881-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 760269F11
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 10:05:36 +0000 (UTC)
Received: (qmail 65510 invoked by uid 500); 1 May 2012 10:05:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65292 invoked by uid 500); 1 May 2012 10:05:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65247 invoked by uid 99); 1 May 2012 10:05:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 10:05:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 10:05:21 +0000
Received: by eeit10 with SMTP id t10so1550738eei.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 03:04:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=bcL2zvmpua2hDc6qzKoO+ttiuDzghvph0rpMmLSRrOs=;
        b=axyU2UkTmd/IFvj/y5qr7O72Yxm2e0YN4V8YdC4ispiGEkuwQUHcZfI7q3qq7YeSM2
         GPubc8SioRjDrecgrquDfuQ8cT3IoYAfqCxTq2xk3TfpHr6BheQCsG7g+6Vs14q/WSCu
         SGZX2/PPTA++HlS844MuYCx3HAHs+am5RtWj5bswlX5x4C4SNy596d5ogRzPV0JGaNrx
         krC/UfIj+AEC5cNsLjgDZ8gkVOzlaGIHhiYlX7m6mclvEArpldLuiHKdCSBZOsShQMCK
         FPesYrrEsrCGACHuv1wc4PlR974Fy4vNxxpo0n6Tj+z4Mc2cywy+ZDSDbrdo6q+OLHLn
         yXzA==
MIME-Version: 1.0
Received: by 10.14.188.131 with SMTP id a3mr4753592een.92.1335866699748; Tue,
 01 May 2012 03:04:59 -0700 (PDT)
Received: by 10.213.29.13 with HTTP; Tue, 1 May 2012 03:04:59 -0700 (PDT)
Date: Tue, 1 May 2012 17:04:59 +0700
Message-ID: <CAMT20g-wkzgvg5R_ibs2pyvkkbVKAUWOcYY+ROpMim19Ho74PQ@mail.gmail.com>
Subject: [tomcat maven plugin] configure vm options on embedded tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I have successfully launched an embedded tomcat as detailed in here :
http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/adjust-embedded-tomcat-version.html

But i wonder whether it is possible to fork and set the extra vm
arguments for the embedded tomcat launch ?
I need to do it to supply javaagent argument because i am currently
using spring and aop.

Regards,
Albert Kam

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233882-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 10:46:02 2012
Return-Path: <users-return-233882-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AC46CB7D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 10:46:02 +0000 (UTC)
Received: (qmail 41254 invoked by uid 500); 1 May 2012 10:45:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41086 invoked by uid 500); 1 May 2012 10:45:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41070 invoked by uid 99); 1 May 2012 10:45:58 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 10:45:58 +0000
Received: from localhost (HELO mail-yx0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 10:45:58 +0000
Received: by yenr5 with SMTP id r5so2238678yen.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 03:45:57 -0700 (PDT)
Received: by 10.236.92.178 with SMTP id j38mr20584165yhf.58.1335869157597;
 Tue, 01 May 2012 03:45:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.14.18 with HTTP; Tue, 1 May 2012 03:45:37 -0700 (PDT)
In-Reply-To: <CAMT20g-wkzgvg5R_ibs2pyvkkbVKAUWOcYY+ROpMim19Ho74PQ@mail.gmail.com>
References: <CAMT20g-wkzgvg5R_ibs2pyvkkbVKAUWOcYY+ROpMim19Ho74PQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Tue, 1 May 2012 12:45:37 +0200
Message-ID: <CAPoyBqSBEYkHdiFqfhK-222A5yw-tdnxUOMYSmB1WcBtZVnooQ@mail.gmail.com>
Subject: Re: [tomcat maven plugin] configure vm options on embedded tomcat ?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/1 Albert Kam <moonblade.wolf@gmail.com>:
> I have successfully launched an embedded tomcat as detailed in here :
> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/adjust-embedded-tomcat-version.html
>
> But i wonder whether it is possible to fork and set the extra vm
> arguments for the embedded tomcat launch ?
We do not fork a new vm.
Extra vm arguments must be set via MAVEN_OPTS.
> I need to do it to supply javaagent argument because i am currently
> using spring and aop.
>
> Regards,
> Albert Kam
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233883-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 12:06:52 2012
Return-Path: <users-return-233883-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98B4A9B0F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 12:06:52 +0000 (UTC)
Received: (qmail 11201 invoked by uid 500); 1 May 2012 12:06:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11009 invoked by uid 500); 1 May 2012 12:06:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11000 invoked by uid 99); 1 May 2012 12:06:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 12:06:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 12:06:44 +0000
Received: by eeit10 with SMTP id t10so1589207eei.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 05:06:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EJQWoEUGQwtsB3IyjRwlHlpRk7er0Zv/494b11g1bAY=;
        b=pMj3dp09UZkibUU+rZCl6KigoE95vsF+Slzrx0Ebd93C9w/beT0071di/CVhUi2rab
         bpP5ZEWKSfr+mC+2M1wW4+zhsbUr/LAOYZM4owwtkt2q0JehYoXsoXSHFS0ybX4NL952
         aisHy6mlmPIYMUfGrVcz5py4QsMsaMSF6YS4KycE2SFR57/Z2riSpVVEqRkJZBwcDAnn
         pP6Js+5pWyQFePOumsiCQiHBwUsNopw2gDK5M+ip2sZuu4cuF+EN+EECGlajL4SllTi2
         anPmMsUvl1QMts4NhRhWXLbUDDhc1O7jpIoQAKcTQ+PHMvwPqOv1JswQ/WruBec7Rr3Y
         TR0w==
MIME-Version: 1.0
Received: by 10.213.113.17 with SMTP id y17mr1782061ebp.201.1335873983363;
 Tue, 01 May 2012 05:06:23 -0700 (PDT)
Received: by 10.213.29.13 with HTTP; Tue, 1 May 2012 05:06:23 -0700 (PDT)
In-Reply-To: <CAPoyBqSBEYkHdiFqfhK-222A5yw-tdnxUOMYSmB1WcBtZVnooQ@mail.gmail.com>
References: <CAMT20g-wkzgvg5R_ibs2pyvkkbVKAUWOcYY+ROpMim19Ho74PQ@mail.gmail.com>
	<CAPoyBqSBEYkHdiFqfhK-222A5yw-tdnxUOMYSmB1WcBtZVnooQ@mail.gmail.com>
Date: Tue, 1 May 2012 19:06:23 +0700
Message-ID: <CAMT20g_-JZzm8At5921GhF4JSJ3iKkyqzR26oAT4NJF4SxArVw@mail.gmail.com>
Subject: Re: [tomcat maven plugin] configure vm options on embedded tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Works great now, thank you !

On Tue, May 1, 2012 at 5:45 PM, Olivier Lamy <olamy@apache.org> wrote:
> 2012/5/1 Albert Kam <moonblade.wolf@gmail.com>:
>> I have successfully launched an embedded tomcat as detailed in here :
>> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/adjust-embedded-tomcat-version.html
>>
>> But i wonder whether it is possible to fork and set the extra vm
>> arguments for the embedded tomcat launch ?
> We do not fork a new vm.
> Extra vm arguments must be set via MAVEN_OPTS.
>> I need to do it to supply javaagent argument because i am currently
>> using spring and aop.
>>
>> Regards,
>> Albert Kam
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233884-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 14:18:52 2012
Return-Path: <users-return-233884-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 248389C16
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 14:18:52 +0000 (UTC)
Received: (qmail 47248 invoked by uid 500); 1 May 2012 14:18:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47029 invoked by uid 500); 1 May 2012 14:18:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47019 invoked by uid 99); 1 May 2012 14:18:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:18:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:18:42 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 4eCC1j0050bG4ec5FeJMXc; Tue, 01 May 2012 14:18:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id 4eJL1j00L38FjT13PeJLv0; Tue, 01 May 2012 14:18:20 +0000
Message-ID: <4F9FF0AE.3070102@christopherschultz.net>
Date: Tue, 01 May 2012 10:18:22 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Running Swing app under Tomcat 6 on Linux
References: <1538460097.217788.1335804392954.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
In-Reply-To: <1538460097.217788.1335804392954.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
X-Enigmail-Version: 1.4
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

DG,

At this point, we're way off-topic but I'll keep playing if you want to ;)

On 4/30/12 12:46 PM, dgchristensen@comcast.net wrote:
> Thanks for the input.  I guess I should give more rationale on why 
> I want to do this.  My webservice(s) use an open source project 
> that acts as a DB engine for retrieving data from the DB (google 
> 'zeidonjoe' if any of you are interested).  The data engine has a 
> browser that lets a developer view all the retrieved data in a 
> structured GUI.  In a way it would be like viewing all your active
>  Hibernate objects, showing data and relationships.  It can be a 
> very powerful tool while debugging.  The browser is dynamically 
> loaded+started by the data engine and it (the browser) has access 
> to the engine's internal objects so that the DB data can be 
> displayed.

This sounds a lot like what jhat does (gives you access to underlying
data in a "browser"). You might consider using the jhat model and
providing a web-based interface for the same data instead of swing.

If the swing interface makes the user experience that much better
(e.g. because you have certain widgets available, etc.) then you can
still use swing... just browsing a web-based interface (say,
delivering XML, binary data, or even serialized Java objects if you
really want to do that kind of thing).

> The browser is written using Swing, originally on Windows, and the
>  users (who are engineers) like it.  Now I'm trying to get it 
> working on Linux.  A better long-term solution would perhaps be to 
> create a JMX API but that's a lot of changes for something that 
> already works on Windows.

I don't think JMX is appropriate, here.

> As always, engineering time is short and I'm looking for the 
> quickest solution that doesn't confine me in the future.  I'm open 
> to any alternative ideas if they are relatively quick to 
> implement.

My suggestion would be to use HTTP as your transport protocol (you
*are* running on an HTTP-based application server so why not?) and
either a pure web-based interface or a swing app that actually runs on
the client and connects "remotely" (even if it's on the same box) to
the server.

At this point, you may be too far down the road to re-tool, but I
think you'll gain more flexibility if your users don't have to be
sitting on localhost in order to browse this data. Plus, you won't
have to go through these crazy hoops to get it to work.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+f8K4ACgkQ9CaO5/Lv0PD43QCdEW5+83VIVBQ/g4997N+IM+zt
ROIAn1mGHEKATUy//HhdyjPYNRHpideI
=BHtV
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233885-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 14:24:52 2012
Return-Path: <users-return-233885-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B7FAEC11A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 14:24:52 +0000 (UTC)
Received: (qmail 66028 invoked by uid 500); 1 May 2012 14:24:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65859 invoked by uid 500); 1 May 2012 14:24:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65848 invoked by uid 99); 1 May 2012 14:24:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:24:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:24:41 +0000
Received: by wgbdr1 with SMTP id dr1so3138015wgb.0
        for <users@tomcat.apache.org>; Tue, 01 May 2012 07:24:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=q8+kvj1+5EOW/Rsy7zDWulV8e/Sv7AIHb5lFt+d3VSs=;
        b=Il5yueQIrS3Dx+WIBoVCsuPwpT2kDVXCP73Z9V6KNnignQrwujCJi/13B/r5gSKRkt
         Q0touWT4NStsfpE5rSKbgbTQ7u2ai4SLfbz0gvzuhxpAx3xc6gFaSlpo3q0IaomDnzmV
         HNZaIDd/S/u4W0Z3tRzQZV5j35GTKAHYIcu/g=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=q8+kvj1+5EOW/Rsy7zDWulV8e/Sv7AIHb5lFt+d3VSs=;
        b=frk5S81yisjLgjXP29cbDwQjItjX/jGiXX6q+8ZBDRB+vVVxZv5wTLEjrpSHEtSjxl
         Kh8VfVqh+LNR/CRJ2ZkVseSCI/jRd4BkKNVYsIcUAM6+yrFumgirO/EXbV8js+P4fwVf
         0YITe9wPg7BgXnLX74Joh1RUomczSiMMW6ArTaTIxcE/O6i1isbnq0iT0lDs+EIEr0tn
         a3OfPbKCD9Qz6k6EW6fQSSWwpnMX0lbql5M6PntPe91luRE9d/Bwn4PBp1qEq4f+o6jz
         qytEe8oeMDXQgZei2n8A9u9X0D27WQqNB6PRzmPQgHiOJDWOqmfNAOTyrhUWmANQ7uQb
         KaZQ==
Received: by 10.216.135.66 with SMTP id t44mr9190005wei.8.1335882260756;
        Tue, 01 May 2012 07:24:20 -0700 (PDT)
Received: from Asura.local (host81-130-102-203.in-addr.btopenworld.com. [81.130.102.203])
        by mx.google.com with ESMTPS id ev10sm36804077wid.10.2012.05.01.07.24.18
        (version=SSLv3 cipher=OTHER);
        Tue, 01 May 2012 07:24:19 -0700 (PDT)
Message-ID: <4F9FF20F.8060009@pidster.com>
Date: Tue, 01 May 2012 15:24:15 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple Contexts - one classloader
References: <20F0D155-26FF-4FCC-AE75-BBC45AAF26F9@umich.edu>
In-Reply-To: <20F0D155-26FF-4FCC-AE75-BBC45AAF26F9@umich.edu>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig857A8ADAEED32A673539D14A"
X-Gm-Message-State: ALoCoQnFShEEXksHCv1+SWFIUP3RgGJqQ5e85YK2z/ku76h6B8q918U+p0ak0dBC6H0jW08DJSTI

--------------enig857A8ADAEED32A673539D14A
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 30/04/2012 20:28, Shanti Suresh wrote:
> All,
>=20
> Is there a way to specify with Tomcat 7, one webapp-base with multiple =
contexts?

I may regret asking: why do you want do this?


p

> If I create several XML files under <tomcat-home>/conf/Catalina/localho=
st/ and point the docbase to outside-appbase WAR path I get multiple clas=
sloaders.  I would like one application instance to serve the different c=
ontexts.  Is that possible?  An example of three context XML files follow=
s.  But I get three classloaders and multiple deployments:
>=20
> siteA.xml:
>=20
> <Context docBase=3D"/opt/tomcat/killerApp" path=3D"/siteA" crossContext=
=3D"true"
>          clearReferencesHttpClientKeepAliveThread=3D"true"
>          clearReferencesStopTimerThreads=3D"true"
>          swallowOutput=3D"true" />
>=20
>=20
> siteB.xml:
>=20
> <Context docBase=3D"/opt/tomcat/killerApp" path=3D"/siteB" crossContext=
=3D"true"
>          clearReferencesHttpClientKeepAliveThread=3D"true"
>          clearReferencesStopTimerThreads=3D"true"
>          swallowOutput=3D"true" />
>=20
>=20
> siteC.xml:
>=20
> <Context docBase=3D"/opt/tomcat/killerApp" path=3D"/siteC" crossContext=
=3D"true"
>          clearReferencesHttpClientKeepAliveThread=3D"true"
>          clearReferencesStopTimerThreads=3D"true"
>          swallowOutput=3D"true" />
>=20
> Thanks.
>=20
>                      -Shanti
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig857A8ADAEED32A673539D14A
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPn/IRAAoJEGoM2OGpOvr9Pr8QAKS0aTHE/PcAbKfL8eAbFMap
ylP9KF+DyCfW0XHeAvprSeb+3KV8m+PJrsH02+YCBZssGuec0nE1/RrPgiWzY/ZA
IYakOnAod0sX9jcBwJmOsnWkfhKubibEe8gLGkPAFEf23vc7tjpZ+ITck7tE5vlT
d/HQYWrv646jfGA4LSXQWcwhesiMUo7pNU2+vWYYm+d3nYypX7IU8PBIfOY77H9p
KrVSSGZvTLN+uM+7snkx1sReEJIfrMZNSYvuU4MXK+nb2A21iN7jQCB3sUatBmZO
tXhMrJ9Ks3b5vgGvUIfwF85+3fQK9NIbA++ZJGdqabrKx7WepeqRb/iSdSLLiQNz
vUEvvYBWNv5N0skag92dze5v44XpfXpVlOHJxL5csj1QyfS+cmDppRyy7OuGEMiC
U22L1U8Sc0xQmB7156uSE7MXIe1kgo9Hp2k+u/l0XrpRyhdbpWNvoUkrzCKzAmCb
3hSTzvDbjk5rwrmva3HsiyGxqF1XnJrTNXR8er1EIGoS/tD9PlYsSh1uBW/E3P1s
G8dic3Cv82t8ltHfyYMdMZ0TigZhVaLU0YjPjp0IjdsCw9Q7CenFOEtfk7ganyYI
8+65RStSsSjAqMNehO6PFjvtHjYQjfanozEeyCbP8wPQG9q6F/9+luA5kmA9Kakq
f/lLMrtlpXuOQnUtmUWl
=d0Kh
-----END PGP SIGNATURE-----

--------------enig857A8ADAEED32A673539D14A--

From users-return-233886-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 14:32:17 2012
Return-Path: <users-return-233886-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AADE5C5CA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 14:32:17 +0000 (UTC)
Received: (qmail 91985 invoked by uid 500); 1 May 2012 14:32:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91920 invoked by uid 500); 1 May 2012 14:32:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91911 invoked by uid 99); 1 May 2012 14:32:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:32:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:32:08 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id 4bBr1j0011ap0As59eXmq3; Tue, 01 May 2012 14:31:46 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id 4eXo1j00n38FjT13ieXoTH; Tue, 01 May 2012 14:31:48 +0000
Message-ID: <4F9FF3D5.4060602@christopherschultz.net>
Date: Tue, 01 May 2012 10:31:49 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com> <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
In-Reply-To: <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
X-Enigmail-Version: 1.4
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Albrecht,

On 4/30/12 7:07 PM, Albretch Mueller wrote:
>> Exactly what Tomcat distribution (and from where) are you trying 
>> to install?
> ~ Well, I got the source code from: ~ 
> http://apache.claz.org/tomcat/tomcat-7/v7.0.27/src/apache-tomcat-7.0.27-src.tar.gz
>
>
> 
~
> and followed the build instructions

Any particular reason you are building from source?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+f89UACgkQ9CaO5/Lv0PAhBwCaAumi06Y0oLSbybVVVEIHlYs6
wFcAoLa2x9SIWNHww8rh6JWFDNWdT8D9
=pfNu
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233887-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 14:33:05 2012
Return-Path: <users-return-233887-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB50AC5D3
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 14:33:05 +0000 (UTC)
Received: (qmail 99436 invoked by uid 500); 1 May 2012 14:33:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99361 invoked by uid 500); 1 May 2012 14:33:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99352 invoked by uid 99); 1 May 2012 14:33:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:33:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:32:55 +0000
Received: by wibhj13 with SMTP id hj13so3066595wib.0
        for <users@tomcat.apache.org>; Tue, 01 May 2012 07:32:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=j+4+b7GSk1yJLOOd6nBpB5YN0mMLazf6fh6u0K94LkI=;
        b=RQhZnpFHWIrVgmdh+Q3uR/BZzVGGEQ8yFn7bZQILNPr5tGaYf1XyKu7UXp9/EMAC4O
         qAtCjaeYC+Rtigrq7EHyKFqifwOtX37kqBHPgLxnIS+WUmW2RR0b6cSTDvIQRJu9v98G
         LBHKvM5BGXdXgNERea7K4bOSJDVlhFkwylBzk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=j+4+b7GSk1yJLOOd6nBpB5YN0mMLazf6fh6u0K94LkI=;
        b=I5JVPNzX2ZcRpfk+owKGcXCHKswj85CXTGwXRoBRl9+d7dJn3QC7DRrraPm+e59bRZ
         FdyUZo43ns40/n6IUCefSh01xjMGzdAX4eHj4dZcupvHuqKvSCxMgKa9iHHpO7uNLZJC
         iK8QHeiAC/hy20JWdzAPhfLSwgQFNYDBPkQZzfHP4kRPMPuBC7MnLRciuyQ/WC5OB6aO
         35g01TlIjODZAauwnMCgEskNA8nVFJzYiXihxty7M3NrIyMpaN2WipouqevhilOuXzzU
         pE17R+Gyl6nQMkhJrVym39EmrjF7vtHBsz4WS8cN6Iqjo202Luvav9klFR8Q6FOZd6K1
         sf/w==
Received: by 10.216.201.5 with SMTP id a5mr11185246weo.20.1335882754006;
        Tue, 01 May 2012 07:32:34 -0700 (PDT)
Received: from Asura.local (host81-130-102-203.in-addr.btopenworld.com. [81.130.102.203])
        by mx.google.com with ESMTPS id ex2sm58271859wib.8.2012.05.01.07.32.31
        (version=SSLv3 cipher=OTHER);
        Tue, 01 May 2012 07:32:31 -0700 (PDT)
Message-ID: <4F9FF3FC.3090006@pidster.com>
Date: Tue, 01 May 2012 15:32:28 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mvn tomcat:deploy fails with HTTP response 401
References: <CANnp+Av13q0zmbssmieoQ1_L675DOyrTx5wDc7VkoCp98ksBjw@mail.gmail.com>,<CAPoyBqTgaQh65qxGG6e8teCn8NVy2_KH65Z7_RJNRbTLK_4isA@mail.gmail.com>,<CANnp+AtkKfJs5wM1HoKs88eydJ4Ha1AB2uysgcATm70m-7Ooiw@mail.gmail.com>,<CAPoyBqSCBSCDxMC_V5wnw=zzR4qjAZtEfAYFymcx+zp1o_hiAw@mail.gmail.com>,<CANnp+Au8etMBDyiUqRZQ7z1PL-bUTNEdDhhynT=Ov7PAtivq1g@mail.gmail.com>,<CAPoyBqTa4_Mn1hfb1XesLBiRD2UE-dOQwsHYo2zaHTsXErMizw@mail.gmail.com>,<CANnp+AvAN544JskYk8npVAfwzVms3mH0vu4YTW_53fZDYmnMcw@mail.gmail.com> <BLU142-W12798FF14C5EB74356D7D3AE280@phx.gbl>
In-Reply-To: <BLU142-W12798FF14C5EB74356D7D3AE280@phx.gbl>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigA01E660B8A7C6C4D589DDD72"
X-Gm-Message-State: ALoCoQnIrlCn+KBsK5ma4xWg8xGM5I7YH8C9J6paSboNrsZwN+k1+R//ijGh7c1w6TmNaGqP37JQ

--------------enigA01E660B8A7C6C4D589DDD72
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 30/04/2012 11:26, Martin Gainty wrote:
>=20
>=20
> redirecting to maven users ..as this is a maven issue

Martin, FYI the Tomcat Maven Plugin community actually lives here.


p

> Thanks,
> Martin
> ______________________________________________=20
> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidential=
it=E9
> =20
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empf=
aenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugte We=
iterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht d=
ient lediglich dem Austausch von Informationen und entfaltet keine rechtl=
iche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails=
 koennen wir keine Haftung fuer den Inhalt uebernehmen.
> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EA=
tes pas le destinataire pr=E9vu, nous te demandons avec bont=E9 que pour =
satisfaire informez l'exp=E9diteur. N'importe quelle diffusion non autori=
s=E9e ou la copie de ceci est interdite. Ce message sert =E0 l'informatio=
n seulement et n'aura pas n'importe quel effet l=E9galement obligatoire. =
=C9tant donn=E9 que les email peuvent facilement =EAtre sujets =E0 la man=
ipulation, nous ne pouvons accepter aucune responsabilit=E9 pour le conte=
nu fourni.
>=20
>=20
>> Date: Sat, 28 Apr 2012 23:24:36 +0200
>> Subject: Re: mvn tomcat:deploy fails with HTTP response 401
>> From: hordine@gmail.com
>> To: users@tomcat.apache.org
>>
>> Awesome! I added the pluginGroup and it worked now.
>>
>> Thank you!
>>
>> 2012/4/28 Olivier Lamy <olamy@apache.org>
>>
>>> Have a look here
>>> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/index.html
>>>
>>> there is a section regarding content to add in ~/.m2/settings.xml
>>>
>>> or add the plugin declaration in the pom section build>plugins>plugin=

>>> (rather than pluginManagement)
>>>
>>> HTH
>>> --
>>> Olivier Lamy
>>> Talend: http://coders.talend.com
>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>
>>> 2012/4/28 Henrique Ordine <hordine@gmail.com>:
>>>> Thanks again for your help.
>>>>
>>>> I added <pluginRepositories> to my POM, but if I use tomcat6:deploy =
or
>>>> tomcat6:run, Maven says:
>>>>
>>>> The plugin 'org.apache.maven.plugins:maven-tomcat6-plugin' does not =
exist
>>>> or no valid version could be found
>>>>
>>>> I'm using Maven, 2.2.0 by the way.
>>>>
>>>> 2012/4/27 Olivier Lamy <olamy@apache.org>
>>>>
>>>>> Add
>>>>>  <pluginRepositories>
>>>>>    <pluginRepository>
>>>>>      <id>apache.snapshots</id>
>>>>>      <name>Apache Snapshots</name>
>>>>>      <url>http://repository.apache.org/content/groups/snapshots-gro=
up/
>>>>> </url>
>>>>>      <releases>
>>>>>        <enabled>false</enabled>
>>>>>      </releases>
>>>>>      <snapshots>
>>>>>        <enabled>true</enabled>
>>>>>      </snapshots>
>>>>>    </pluginRepository>
>>>>>  </pluginRepositories>
>>>>>
>>>>> Note now you must use tomcat6:run or tomcat7:run (depending tomcat
>>>>> version you want to use).
>>>>>
>>>>> I'd like to know the command line you are using ? It must be
>>>>> tomcat6:deploy or tomcat7:deploy
>>>>>
>>>>> 2012/4/27 Henrique Ordine <hordine@gmail.com>:
>>>>>> Thanks for your reply.
>>>>>>
>>>>>> I made the changes that you suggested but tomcat:deploy still fail=
s
>>> with
>>>>> the
>>>>>> same error.
>>>>>>
>>>>>> tomcat:run works, but it was already working before.
>>>>>>
>>>>>> My POM file is attached, if you could have a look at it, it would =
be
>>>>> great.
>>>>>> It's a small POM, I've only just started my App.
>>>>>>
>>>>>> Thanks in advance,
>>>>>>
>>>>>> Op 27 april 2012 12:14 schreef Olivier Lamy <olamy@apache.org> het=

>>>>> volgende:
>>>>>>>
>>>>>>> Hello,
>>>>>>>
>>>>>>> That's something which has been fixed in trunk (I will probably
>>>>>>> release a 2.0 next week).
>>>>>>>
>>>>>>>
>>>>>>> 2012/4/27 Henrique Ordine <hordine@gmail.com>:
>>>>>>>> Hi everybody,
>>>>>>>>
>>>>>>>> I'm trying to deploy my Maven Web App on my local Tomcat using t=
he
>>>>>>>> tomcat:deploy maven plugin, but the Manager application fails wi=
th
>>> a
>>>>>>>> response code 401.
>>>>>>>>
>>>>>>>> I have Tomcat 6 installed on Mac OS Leopard, with Java 1.5. I
>>> manage
>>>>> to
>>>>>>>> access my Tomcat/manager app with the user "hordine", that I
>>>>> configured
>>>>>>>> and
>>>>>>>> deploy
>>>>>>>>
>>>>>>>> I've configured my tomcat-users.xml, settings.xml, and POM files=
,
>>> like
>>>>>>>> this:
>>>>>>>>
>>>>>>>> I've added this user to my tomcat-users.xml:
>>>>>>>>  <role rolename=3D"tomcat"/>
>>>>>>>>  <role rolename=3D"manager"/>
>>>>>>>>  <role rolename=3D"manager-script"/>
>>>>>>>>  <user username=3D"tomcat" password=3D"tomcat" roles=3D"tomcat"/=
>
>>>>>>>>  <user username=3D"maventomcat" password=3D"maventomcat"
>>> roles=3D"manager"/>
>>>>>>>>  <user username=3D"hordine" password=3D"hordine" roles=3D"manage=
r,
>>>>>>>> manager-script"/>
>>>>>>>>
>>>>>>>>
>>>>>>>> I've added this server to my settings.xml:
>>>>>>>> <servers>
>>>>>>>>    <server>
>>>>>>>>        <id>hordineLocalTomcat</id>
>>>>>>>>        <username>hordine</username>
>>>>>>>>        <password>hordine</password>
>>>>>>>>    </server>
>>>>>>>> </servers>
>>>>>>>>
>>>>>>>> And I've configured my POM like this:
>>>>>>>>
>>>>>>>> <build>
>>>>>>>>
>>>>>>>> <finalName>hTask-web</finalName>
>>>>>>>>
>>>>>>>>  <pluginManagement>
>>>>>>>>
>>>>>>>>  <plugins>
>>>>>>>>
>>>>>>>>  <plugin>
>>>>>>>>
>>>>>>>>         <groupId>org.apache.tomcat.maven</groupId>
>>>>>>>>
>>>>>>>>           <artifactId>tomcat-maven-plugin</artifactId>
>>>>>>>>
>>>>>>>>           <version>1.1</version>
>>>>>>>
>>>>>>> Sure of that ????
>>>>>>>
>>>>>>> But to test if your issue is fixed in trunk try
>>>>>>> <version>2.0-SNAPSHOT</version>
>>>>>>>
>>>>>>> see mojo declaration and repositories here:
>>>>>>>
>>> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/snapshot-test.html=

>>>>>>>
>>>>>>>>
>>>>>>>>           <configuration>
>>>>>>>>
>>>>>>>>   <url>http://localhost:8080/manager</url>
>>>>>>>>
>>>>>>>>   <server>hordineLocalTomcat</server>
>>>>>>>>
>>>>>>>>   <path>/hTask-web</path>
>>>>>>>>
>>>>>>>>  </configuration>
>>>>>>>>
>>>>>>>>  </plugin>
>>>>>>>>
>>>>>>>>  </plugins>
>>>>>>>>
>>>>>>>>  </pluginManagement>
>>>>>>>>
>>>>>>>> </build>
>>>>>>>>
>>>>>>>>
>>>>>>>> I'd appreciate any help.
>>>>>>>>
>>>>>>>> This is the entire error's stack trace:
>>>>>>>>
>>>>>>>> Embedded error: Server returned HTTP response code: 401 for URL:=

>>>>>>>> http://localhost:8080/manager/deploy?path=3D%2FhTask-web&war=3D
>>>>>>>> [INFO]
>>>>>>>>
>>>>> -------------------------------------------------------------------=
-----
>>>>>>>> [INFO] Trace
>>>>>>>> org.apache.maven.lifecycle.LifecycleExecutionException: Cannot
>>> invoke
>>>>>>>> Tomcat manager
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa=
ultLifecycleExecutor.java:703)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandalone=
Goal(DefaultLifecycleExecutor.java:553)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(Defau=
ltLifecycleExecutor.java:523)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHan=
dleFailures(DefaultLifecycleExecutor.java:371)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegmen=
ts(DefaultLifecycleExecutor.java:332)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLi=
fecycleExecutor.java:181)
>>>>>>>> at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:356=
)
>>>>>>>> at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:137)
>>>>>>>> at org.apache.maven.cli.MavenCli.main(MavenCli.java:362)
>>>>>>>> at
>>>>>>>>
>>>>> org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java=
:41)
>>>>>>>> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.=
java:39)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces=
sorImpl.java:25)
>>>>>>>> at java.lang.reflect.Method.invoke(Method.java:592)
>>>>>>>> at
>>> org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
>>>>>>>> at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
>>>>>>>> at
>>>>> org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:43=
0)
>>>>>>>> at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
>>>>>>>> Caused by: org.apache.maven.plugin.MojoExecutionException: Canno=
t
>>>>> invoke
>>>>>>>> Tomcat manager
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.AbstractCatalinaMojo.execute(AbstractCatalin=
aMojo.java:149)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.AbstractWarCatalinaMojo.execute(AbstractWarC=
atalinaMojo.java:70)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPlugi=
nManager.java:483)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa=
ultLifecycleExecutor.java:678)
>>>>>>>> ... 17 more
>>>>>>>> Caused by: java.io.IOException: Server returned HTTP response co=
de:
>>>>> 401
>>>>>>>> for
>>>>>>>> URL: http://localhost:8080/manager/deploy?path=3D%2FhTask-web&wa=
r=3D
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon=
nection.java:1196)
>>>>>>>> at
>>>>> org.codehaus.mojo.tomcat.TomcatManager.invoke(TomcatManager.java:60=
4)
>>>>>>>> at
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.TomcatManager.deployImpl(TomcatManager.java:=
662)
>>>>>>>> at
>>>>> org.codehaus.mojo.tomcat.TomcatManager.deploy(TomcatManager.java:29=
5)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.AbstractDeployWarMojo.deployWar(AbstractDepl=
oyWarMojo.java:85)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.AbstractDeployMojo.invokeManager(AbstractDep=
loyMojo.java:85)
>>>>>>>> at
>>>>>>>>
>>>>>>>>
>>>>>
>>> org.codehaus.mojo.tomcat.AbstractCatalinaMojo.execute(AbstractCatalin=
aMojo.java:141)
>>>>>>>> ... 20 more
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Henrique Ordine
>>>>>>>>
>>>>>>>> http://hordine.wordpress.com/
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Olivier Lamy
>>>>>>> Talend: http://coders.talend.com
>>>>>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>>>>>
>>>>>>> -----------------------------------------------------------------=
----
>>>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Henrique Ordine
>>>>>>
>>>>>> http://hordine.wordpress.com/
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> ------------------------------------------------------------------=
---
>>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Olivier Lamy
>>>>> Talend: http://coders.talend.com
>>>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>>>
>>>>> -------------------------------------------------------------------=
--
>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Henrique Ordine
>>>>
>>>> http://hordine.wordpress.com/
>>>
>>> ---------------------------------------------------------------------=

>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> --=20
>> Henrique Ordine
>>
>> http://hordine.wordpress.com/
>  		 	   		 =20


--=20

[key:62590808]


--------------enigA01E660B8A7C6C4D589DDD72
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPn/P9AAoJEGoM2OGpOvr9Gr4P/iF4nNce34BJour4PAuPqIdi
C0WMvbyJLLgTRfc8g8HEl4I+J4O7VhFwy1FfldwykKSfaXR5cmxFp3+84EkvWcyf
wGAoGkbxo3VF2wRyR/7MYeQESKdY7h2xxCLQde2uWSD3J9TWzlRqplINiD/9/KU2
+gIx85ZLu/mJMBxSi5o0YJVDr2+Y25aHMfz0dj3plIUJZcmySmYRa8qeWsgdmOyp
SLd1hnVHuqkSYaGpDkZtZQNn1ZTAT2kR+u7RiSNDZ2Ox09YBc1sg9VP/JgxE2y/3
FwBMLT2pQ8mPlmdjffHSRu3OH9H7quWSbyXIR0TILWVA2YsyAR3FWflT6PPDDMkJ
oRfI4PyorS0v9dYL2wTgAycRrKMIBrXAaSw5lGQQ3dbc+S85WjmgVPySdLFDH4a3
3IKo+7nKRh4Yy7O8jYmjsrJbyEpClXDm//uJtlmVykQ29UumWbeyAjFJ4aJKXNJ3
NdHtZdCvanZ/yLhPHFsABWrB6KGC8ZxErMFy5wGVQh+NwxPjv8v+6e5GyoQdh1N7
onBkqgV/XEGo7Qv1duHEzxQrwpdz+CApO7Cqg59SDM+kO7RVeLLP2wjYvPrD8j1e
QHKNljw+C0klnDBKj3SdHLdVEDVavX5eIqlEnG/Og+MVBNNsXncB2Ayc0es5PRLc
pq4IW6FwBA+p/9Bu3uWs
=zfU4
-----END PGP SIGNATURE-----

--------------enigA01E660B8A7C6C4D589DDD72--

From users-return-233888-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 14:47:19 2012
Return-Path: <users-return-233888-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18989C619
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 14:47:19 +0000 (UTC)
Received: (qmail 46906 invoked by uid 500); 1 May 2012 14:47:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46845 invoked by uid 500); 1 May 2012 14:47:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46836 invoked by uid 99); 1 May 2012 14:47:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:47:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 14:47:09 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id 4emc1j0040xGWP85AemmFj; Tue, 01 May 2012 14:46:46 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id 4emo1j00s38FjT13YemoyB; Tue, 01 May 2012 14:46:49 +0000
Message-ID: <4F9FF75A.10808@christopherschultz.net>
Date: Tue, 01 May 2012 10:46:50 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: determining cause of MaxThreads exhausted
References: <10691_1334304500_4F87DEF4_10691_2289_1_4F87DEF7.3080707@yahoo.es> <-3027381026767059488@unknownmsgid> <23916_1334305640_4F87E368_23916_347_1_4F87E36C.3050605@yahoo.es> <4F888D9B.8040800@christopherschultz.net> <12637_1334349617_4F888F31_12637_7950_1_4F888F3B.7080708@yahoo.es>
In-Reply-To: <12637_1334349617_4F888F31_12637_7950_1_4F888F3B.7080708@yahoo.es>
X-Enigmail-Version: 1.4
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 4/13/12 4:40 PM, Miguel Gonzlez Castaos wrote:
> 
>>> The app sends massive emails to users with some info that
>>> requires users to log on the webapp and fill in some forms. It
>>> seems (without any logs or metrics) that people tend to fill
>>> the forms right away after they got the emails and together
>>> with the mailing process (that requires DB use to get email
>>> addresses) is exhausting the maxthreads connections (300 as of
>>> yesterday which I have increased to 400).
>> Are you running out of request processors (<Connector>
>> maxThreads) or are you running out of database connections
>> (<Resource>  maxActive)?
> MaxThreads
>> Yes: log the timestamp of each access, then use one of the many
>> fine web server analysis tools to get a picture (literally) of
>> your volume.
> I have an access log with timestamps, which tool do you recommend
> to get an analysis?

http://lmgtfy.com/?q=web+server+log+analysis

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+f91oACgkQ9CaO5/Lv0PB0oACePzOY8ojlBL03lj8WGCUSgGXb
KOIAn2Rdpwi9t2UCr4DrkI25YWdIi+Tl
=PbcW
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233889-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 15:32:06 2012
Return-Path: <users-return-233889-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E2B79525
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 15:32:05 +0000 (UTC)
Received: (qmail 79104 invoked by uid 500); 1 May 2012 15:32:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78901 invoked by uid 500); 1 May 2012 15:32:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78891 invoked by uid 99); 1 May 2012 15:32:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 15:32:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 15:31:54 +0000
Received: from workstation (65-128-0-81.hlrn.qwest.net [65.128.0.81])
	by arizona.hanik.com (Postfix) with ESMTPSA id 9F70EA840BEB
	for <users@tomcat.apache.org>; Tue,  1 May 2012 09:28:18 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CAA1zootRBv6DukTbgMvcwmNDcTEUV=EgC27s9vyfjH3_M9NhZg@mail.gmail.com>
In-Reply-To: <CAA1zootRBv6DukTbgMvcwmNDcTEUV=EgC27s9vyfjH3_M9NhZg@mail.gmail.com>
Subject: RE: Signing and Encrypting messages using Apache tribes
Date: Tue, 1 May 2012 09:31:32 -0600
Message-ID: <00a901cd27af$7d656710$78303530$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQJSCirzu68m03b31VZkH1hIxW2seJWrShow
Content-Language: en-us



> -----Original Message-----
> From: Madhav Bhargava [mailto:unmarshall@gmail.com]
> Sent: Monday, April 30, 2012 4:16 PM
> To: users@tomcat.apache.org
> Subject: Signing and Encrypting messages using Apache tribes
>=20
> Hi All,
>=20
> We use apache tribes for inter node communication via multicast. For
> securing inter node communication two things are required:
>=20
> 1. Establishing the identity of a node as valid who is sending the
> message
> 2. Encrypting selective messages which are sensitive in nature.
>=20
> This topic was raised some time back (
> http://tomcat.10.n6.nabble.com/Securing-Tomcat-cluster-communication-
> td1973779.html
>  )
>=20
> It is recommended that encryption/decryption of messages be done using =
a
> custom interceptor or using a stunnel, the former approach being the
> preferred approach.=20
[Filip Hanik]=20
Correct, using an interceptor you can do that. That is the easiest way. =
You can also use it for membership as membership messages carry a =
payload.

It has also being mentioned that the option
> SEND_OPTIONS_SECURE has not been implemented. This was in 2011, how =
its
> 2012 - Has this been implemented now?
[Filip Hanik]
No.
=20
>=20
> What do you suggest is the best way using tribes to sign messages - =
via
> another interceptor=20
[Filip Hanik]=20
Yes, use an interceptor


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233890-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 15:37:57 2012
Return-Path: <users-return-233890-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3121F9556
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 15:37:57 +0000 (UTC)
Received: (qmail 97466 invoked by uid 500); 1 May 2012 15:37:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97359 invoked by uid 500); 1 May 2012 15:37:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97349 invoked by uid 99); 1 May 2012 15:37:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 15:37:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 15:37:47 +0000
Received: from workstation (65-128-0-81.hlrn.qwest.net [65.128.0.81])
	by arizona.hanik.com (Postfix) with ESMTPSA id B0F88A840BEB
	for <users@tomcat.apache.org>; Tue,  1 May 2012 09:34:12 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CAG7MYhmkZvk7Nfk9L--jnoOevDv0XnhNYuiLZz2+MPr4iHM3kQ@mail.gmail.com> <65775494-0122-4ceb-84e1-759c916ad481@arizona.hanik.com> <CAG7MYh=itrdWHsSPt6Nhfy6ePUec+1G+HQ-Ztn6d7iY3NJOrww@mail.gmail.com> <CAG7MYhk94vhTtVve+ZLawoxgs0ioqS+nxNKmnqv03ufqG32XTQ@mail.gmail.com>
In-Reply-To: <CAG7MYhk94vhTtVve+ZLawoxgs0ioqS+nxNKmnqv03ufqG32XTQ@mail.gmail.com>
Subject: RE: Tribes coordinator
Date: Tue, 1 May 2012 09:37:27 -0600
Message-ID: <00aa01cd27b0$50756290$f16027b0$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQIJaR9zrEH72GJ9FKLualG8MFYzjAMlkM0xAVR7LFQC9ZZTWZYBD+vg
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: Afkham Azeez [mailto:afkham@gmail.com]
> Sent: Tuesday, April 24, 2012 2:39 AM
> To: Tomcat Users List
> Subject: Re: Tribes coordinator
> 
> Hi Filip,
> I have integrated the NonBlockingCoordinator & committed to the Axis2
> trunk. One thing I noticed is that even if the current coordinator is
> alive, and a new member joins, it is possible for the new member to be
> made
> the coordinator while the existing coordinator transforms into a normal
> member. Is this the intended behavior? Is it possible to change the
> coordinator only if the existing coordinator fails?
[Filip Hanik] 
It was a while ago I wrote that. Non blocking coordinator means that 
Change of coordination can be happen while other activities take place.

I think the NonBlocking coordinator builds on the absolute order algorithm
for selecting a coordinator.
The absolute order is a stateless ranking system in tribes that let's you
order members with no chat/messages exchanged.
So, the answer to your question would be no, cause if a member joins with a
higher rank, it becomes coordinator.

Now, what you could do is change the criteria for the absolute order stuff,
instead of ranking it based on IP (IIRC) then rank on how long a member has
been alive. This way, the member with the largest uptime will always be
coordinator. Of course, instead of using uptime, use starttime, so you don't
use a value that changes with every membership message

Best
Filip

> 
> Thanks
> Azeez
> 
> On Tue, Apr 24, 2012 at 11:26 AM, Afkham Azeez <afkham@gmail.com> wrote:
> 
> > Thanks for the pointers Filip. I will take a look.
> >
> >
> > On Mon, Apr 23, 2012 at 9:12 PM, Filip Hanik Mailing Lists <
> > devlists@hanik.com> wrote:
> >
> >>
> >> http://tomcat.apache.org/tomcat-7.0-
> doc/api/org/apache/catalina/tribes/group/interceptors/package-
> summary.html
> >>
> >> Take a look at SimpleCoordinator and NonBlockingCoordinator
> >>
> >> Equally simple to implement your own based on the requirement you
> have
> >> for leader election.
> >>
> >> It does depend on what you need leader ship for, sometimes, like
> virtual
> >> synchrony, leaders are used to determine atomic delivery of a message
> to an
> >> entire group. Either the entire group gets it, or doesn't.
> >>
> >> Filip
> >>
> >> ----- Original Message -----
> >> > From: "Afkham Azeez" <afkham@gmail.com>
> >> > To: "Tomcat Users List" <users@tomcat.apache.org>
> >> > Sent: Monday, April 23, 2012 6:38:31 AM
> >> > Subject: Tribes coordinator
> >> >
> >> > We are using Tribes in Axis2. In a cluster, we want to have leader
> >> > election, and one member to be designated as the coordinator. How
> can
> >> > this
> >> > be achieved using Tribes?
> >> >
> >> > Thanks
> >> > Azeez
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233891-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 16:44:45 2012
Return-Path: <users-return-233891-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA30FC0F6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 16:44:44 +0000 (UTC)
Received: (qmail 6926 invoked by uid 500); 1 May 2012 16:44:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6807 invoked by uid 500); 1 May 2012 16:44:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6796 invoked by uid 99); 1 May 2012 16:44:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 16:44:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dgchristensen@comcast.net designates 76.96.30.64 as permitted sender)
Received: from [76.96.30.64] (HELO qmta07.emeryville.ca.mail.comcast.net) (76.96.30.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 16:44:33 +0000
Received: from omta14.emeryville.ca.mail.comcast.net ([76.96.30.60])
	by qmta07.emeryville.ca.mail.comcast.net with comcast
	id 4ghZ1j0061HpZEsA7gkDLN; Tue, 01 May 2012 16:44:13 +0000
Received: from sz0170.ev.mail.comcast.net ([76.96.27.99])
	by omta14.emeryville.ca.mail.comcast.net with comcast
	id 4gkC1j00b28HroU8agkCDc; Tue, 01 May 2012 16:44:12 +0000
Date: Tue, 1 May 2012 16:44:12 +0000 (UTC)
From: dgchristensen@comcast.net
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <887126279.273832.1335890652672.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
In-Reply-To: <4F9FF0AE.3070102@christopherschultz.net>
Subject: Re: Running Swing app under Tomcat 6 on Linux
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [63.116.56.194]
X-Mailer: Zimbra 6.0.13_GA_2944 (ZimbraWebClient - FF3.0 (Linux)/6.0.13_GA_2944)
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----
> From: "Christopher Schultz" <chris@christopherschultz.net>
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Sent: Tuesday, May 1, 2012 10:18:22 AM
> Subject: Re: Running Swing app under Tomcat 6 on Linux
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> DG,
> 
> At this point, we're way off-topic but I'll keep playing if you want
> to ;)

I appreciate your input.  Hopefully this isn't too far off and annoying other readers. :)

> This sounds a lot like what jhat does (gives you access to underlying
> data in a "browser"). You might consider using the jhat model and
> providing a web-based interface for the same data instead of swing.

jhat displays the raw data but the object browser allows the developer to view the data in a structured format.  At the risk of using another lousy analogy, the application data is formated in a sort of high-functioning, hierarchical DOM.  The browser lets the developer peruse (or, uh, browse) the data in this hierarchical format in real-time.  It's sort of like the DOM viewer in Firebug (but better! of course).  The first time developers see their data displayed by the browser there is almost always ooh-ing and ahh-ing.

> If the swing interface makes the user experience that much better
> (e.g. because you have certain widgets available, etc.) then you can
> still use swing... just browsing a web-based interface (say,
> delivering XML, binary data, or even serialized Java objects if you
> really want to do that kind of thing).
> 
> > The browser is written using Swing, originally on Windows, and the
> >  users (who are engineers) like it. Now I'm trying to get it
> > working on Linux. A better long-term solution would perhaps be to
> > create a JMX API but that's a lot of changes for something that
> > already works on Windows.
> 
> I don't think JMX is appropriate, here.
> 
> > As always, engineering time is short and I'm looking for the
> > quickest solution that doesn't confine me in the future. I'm open
> > to any alternative ideas if they are relatively quick to
> > implement.
> 
> My suggestion would be to use HTTP as your transport protocol (you
> *are* running on an HTTP-based application server so why not?) and
> either a pure web-based interface or a swing app that actually runs on
> the client and connects "remotely" (even if it's on the same box) to
> the server.
> 
> At this point, you may be too far down the road to re-tool, but I
> think you'll gain more flexibility if your users don't have to be
> sitting on localhost in order to browse this data. Plus, you won't
> have to go through these crazy hoops to get it to work.

I agree that some sort of remoting is the best solution.  That just takes time and I was hoping for a quick solution.  Woe is life. ;)

If you want to continue this further feel free to contact me directly.  I'm always open to informed opinions.  For the long run I'm looking at http://sites.google.com/site/simpleremoting/home

DG

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233892-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 17:39:38 2012
Return-Path: <users-return-233892-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 472A19D34
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 17:39:38 +0000 (UTC)
Received: (qmail 72610 invoked by uid 500); 1 May 2012 17:39:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72500 invoked by uid 500); 1 May 2012 17:39:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72491 invoked by uid 99); 1 May 2012 17:39:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 17:39:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dgchristensen@comcast.net designates 76.96.27.228 as permitted sender)
Received: from [76.96.27.228] (HELO qmta15.emeryville.ca.mail.comcast.net) (76.96.27.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 17:39:27 +0000
Received: from omta03.emeryville.ca.mail.comcast.net ([76.96.30.27])
	by qmta15.emeryville.ca.mail.comcast.net with comcast
	id 4hVC1j0050b6N64AFhf7VW; Tue, 01 May 2012 17:39:07 +0000
Received: from sz0170.ev.mail.comcast.net ([76.96.27.99])
	by omta03.emeryville.ca.mail.comcast.net with comcast
	id 4hf71j00U28HroU8Phf73h; Tue, 01 May 2012 17:39:07 +0000
Date: Tue, 1 May 2012 17:39:07 +0000 (UTC)
From: dgchristensen@comcast.net
To: Tomcat Users List <users@tomcat.apache.org>, 
	Mark Eggers <its_toasted@yahoo.com>
Message-ID: <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
In-Reply-To: <1335759837.69775.YahooMailNeo@web125505.mail.ne1.yahoo.com>
Subject: Re: Running Swing app under Tomcat 6 on Linux
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [63.116.56.194]
X-Mailer: Zimbra 6.0.13_GA_2944 (ZimbraWebClient - FF3.0 (Linux)/6.0.13_GA_2944)
X-Virus-Checked: Checked by ClamAV on apache.org


----- Original Message -----
> From: "Mark Eggers" <its_toasted@yahoo.com>
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Sent: Monday, April 30, 2012 12:23:57 AM
> Subject: Re: Running Swing app under Tomcat 6 on Linux
> Comment inline.
> =3D=3D=3D=3D=3D=3D Comment =3D=3D=3D=3D=3D=3D
>=20
>=20
> I don't know what magic the Ubuntu repackaging does. If it's anything
> like the CentOS repackaging, it's pretty involved.
>=20
> One thing you might try is the following:
>=20
> 1. sudo service tomcat6 stop
> 2. Download a copy of Tomcat from Apache
> 3. Unpack it in your home directory
> 4. Edit $CATALINA_HOME/conf/tomcat-users.xml
> 5. Add your application to $CATALINA_HOME/webapps
> 6. export JRE_HOME=3D[your Java JRE installation]
> 7. cd $CATALINA_HOME/bin
> 8. Make sure startup.sh is executable
> 9. ./startup.sh
>=20
> And see what happens.

Mark, you are a genius.  I followed the above and the Swing app starts with=
out a problem.  If anybody's willing to explain it, I'd like to understand =
what the difference is between starting Tomcat via startup.sh and starting =
it as a service.

Thanks again,
DG

>=20
> Also, run /sbin/chkconfig tomcat6
>=20
> If it's on at level 3, then it's been started before there's an X
> display. However, you'd think running
>=20
> sudo service tomcat6 start
>=20
> would then fail since it should already be running. I wonder if you're
> running two copies of Tomcat 6, and you've placed your application in
> the webapps directory started at run level 3.
>=20
> =3D=3D=3D=3D=3D=3D Comment =3D=3D=3D=3D=3D=3D
>=20
>=20
> >>  I've tried running startup.sh directly from the console but it
> > doesn't work. It looks like /etc/init.d/tomcat6 sets up some env
> > vars
> > before starting Tomcat. I can try updating my environment so I can
> > run
> > startup.sh if you think it worth attempting.
> >
> >>  Please don't top-post. Answer inline instead.
> >>
> >>  Tomcat has no knowledge of Swing, so or UI components of this
> >>  nature.
> >>  Is there a reason it has to be started from Tomcat?
> >
> > The app needs to be running in the same JVM as the Tomcat
> > applications so it can
> > access some of the application's objects. Some day I may re-write it
> > to use
> > JMX but that's a big change that won't happen soon. Getting it to
> > run
> > as a "normal" Swing app under Tomcat is the expedient solution for
> > now.
> >
> > I was assuming (perhaps wrongly) that Swing was just a collection of
> > classes
> > that didn't need any special environment (other than a running X
> > server).
> >
> >>  p
> >
> >>  Thanks,
> >>  DG
> >>
> >>  ----- Original Message -----
> >>  From: "Mark Eggers" <its_toasted@yahoo.com>
> >>  To: "Tomcat Users List" <users@tomcat.apache.org>
> >>  Sent: Saturday, April 28, 2012 6:50:07 PM
> >>  Subject: Re: Running Swing app under Tomcat 6 on Linux
> >>
> >>  Comments and questions are in line. Please note I run Fedora /
> >>  CentOS /
> > Redhat and I'm not so familiar with Ubuntu.
> >>
> >>  ----- Original Message -----
> >>
> >>>  From: "dgchristensen@comcast.net"
> > <dgchristensen@comcast.net>
> >>>  To: users@tomcat.apache.org
> >>>  Cc:
> >>>  Sent: Saturday, April 28, 2012 1:11 PM
> >>>  Subject: Running Swing app under Tomcat 6 on Linux
> >>>
> >>>  My version info:
> >>>
> >>>  =E2=80=A2 Tomcat 6.0.28
> >>>  =E2=80=A2 Java 1.6
> >>>  =E2=80=A2 Ubuntu 10.4
> >>>
> >>>
> >>>  I have a small debugging/monitoring app written in Java/Swing
> >>>  that
> > I'd like
> >>>  to run inside Tomcat to help with debugging. The app is started
> >>>  by
> >>>  dynamically loading the monitoring class from a webservice
> >>>  running
> > under
> >>>  Tomcat. The works in Windows (multiple flavors) but I'm having
> > problems
> >>>  getting this running on Ubuntu. What I've tried so far:
> >>
> >>  What does this give you that monitoring the application via JMX
> >>  (see
> > VisualVM, jconsole), and debugging with your favorite IDE (NetBeans,
> > Eclipse,
> > IntelliJ) doesn't give you? You can actually do both locally as well
> > as
> > remotely (with a little bit of setup).
> >>
> >>>
> >>>  1) First error I got was an Headless exception. Since the app is
> >>>  a GUI
> > app I
> >>>  can't run in headless mode. After searching around I changed
> > Tomcat's
> >>>  library path (via -Djava.library.path in catalina.sh) to point to
> >>>  the
> >>>  client lib (ie. .../java-6-sun-1.6.0.26/jre/lib/i386/client)
> >>>  instead of
> > the
> >>>  server lib.
> >>
> >>  Try setting JRE_HOME in the environment to point to a JRE
> >>  installation
> > instead. Or use JAVA_HOME and point to the JDK. Tomcat will figure
> > things out.
> >>
> >>  If your environment is not set up by default to do that (mine is
> >>  with
> > custom.sh in /etc/profiles.d), create and use a setenv.sh script in
> > CATALINA_HOME. In this set any CATALINA_OPTS, JAVA_OPTS, and other
> > environment
> > variables you need to.
> >>
> >>>
> >>>  2) After changing the libs the next error was that DISPLAY wasn't
> > set. After
> >>>  setting DISPLAY=3D0.0 in catalina.sh I get "Can't connect to X11
> > with
> >>>  DISPLAY=3D0.0" error. I've tried different values for DISPLAY
> > (e.g.
> >>>  localhost:0.0) and nothing makes a difference. I've also tried
> > fiddling
> >>>  around with the policies in case there's a permissions error. See
> > below for
> >>>  the call stack.
> >>
> >>  Are you running an X server? By that, are I mean is Ubuntu showing
> >>  up in
> > whatever GUI you've chosen (I guess Gnome 2 is that version's
> > default)?
> >>
> >>  If you only have a command line interface, then there's no place
> >>  to
> > create the screen. You can play games with a virtual frame buffer,
> > but that will
> > just allow your program to run, but without any screen output
> > (obviously).
> >>
> >>  Again, don't set the DISPLAY environment variable in catalina.sh.
> >>  Set
> > this in setenv.sh in the bin directory of CATALINA_HOME. There are
> > lots of
> > scenarios here. Three common ones come to mind.
> >>
> >>  1. Local X server
> >>
> >>  You're at the console and running in a GUI environment. The
> >>  display
> > environment variable should already be set (typically :0.0). If you
> > start Tomcat
> > with your application in this environment, the GUI interface should
> > just appear.
> >
> >>
> >>  2. Remote client, accessing the GUI via a VNC server (such as
> >>  TightVNC)
> >>
> >>  Your display environment should already be set. For example, I'm
> > currently on a remote CentOS 5.8 system via VNC. My DISPLAY
> > environment variable
> > is set to :0.2. If you start Tomcat with your application in this
> > environment,
> > the GUI interface should just appear in the VNC viewer (for example
> > TightVNC).
> >>
> >>  3. Remote client, X server
> >>
> >>  Note that an X server means your PC is serving the screen,
> >>  keyboard, and
> > mouse to a remote client (your application). To accomplish this
> > you'll have
> > to have an X server running (if you're on Windows, try XMing), and
> > you'll have to set the DISPLAY variable appropriately. Running Java
> > swing
> > applications in this fashion is not very pleasant especially if your
> > program is
> > graphics-intensive.
> >>
> >>>  The webservice app is a simple RESTEasy implementation. Since
> >>>  this
> > works in
> >>>  Windows I'm assuming (perhaps erroneously) that this can work in
> > Linux. Any
> >>>  help would be appreciated.
> >>>
> >>>  Thanks,
> >>>  DG
> >>>
> >>>  java . lang . InternalError : Can 't connect to X11 window server
> > using
> >>>  ' : 0 . 0 ' as the value of the DISPLAY variable.
> >>>  sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)
> >>>
> > sun.awt.X11GraphicsEnvironment.access$100(X11GraphicsEnvironment.java:5=
2)
> >>>  sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:155=
)
> >>>  java.security.AccessController.doPrivileged(Native Method)
> >>>
> > sun.awt.X11GraphicsEnvironment.<clinit>(X11GraphicsEnvironment.java:131=
)
> >>>  java.lang.Class.forName0(Native Method)
> >>>  java.lang.Class.forName(Class.java:169)
> >>>
> > java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnviro=
nment.java:68)
> >
> >>>
> >>>  java.awt.Window.init(Window.java:380)
> >>>  java.awt.Window.<init>(Window.java:433)
> >>>  java.awt.Frame.<init>(Frame.java:403)
> >>>  java.awt.Frame.<init>(Frame.java:368)
> >>>  javax.swing.JFrame.<init>(JFrame.java:158)
> >>>
> > com.quinsoft.zeidon.objectbrowser.ObjectBrowser.startup(ObjectBrowser.j=
ava:60)
> >>>
> >>
> >>
> >>  This should work just fine if you're running an X server on your
> >>  Ubuntu
> > system. The DISPLAY environment variable should be :0.0 (no spaces)
> > for a local
> > machine.
> >>
> >>  . . . . just my two cents.
> >>  /mde/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233893-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 21:01:00 2012
Return-Path: <users-return-233893-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7C169D8B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 21:00:59 +0000 (UTC)
Received: (qmail 35009 invoked by uid 500); 1 May 2012 21:00:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34844 invoked by uid 500); 1 May 2012 21:00:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34832 invoked by uid 99); 1 May 2012 21:00:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 21:00:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 21:00:49 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 4imd1j0091vXlb85Fl0TLA; Tue, 01 May 2012 21:00:27 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id 4l0T1j01138FjT13dl0Tw2; Tue, 01 May 2012 21:00:27 +0000
Message-ID: <4FA04EEA.2010506@christopherschultz.net>
Date: Tue, 01 May 2012 17:00:26 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Running Swing app under Tomcat 6 on Linux
References: <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
In-Reply-To: <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

DG,

On 5/1/12 1:39 PM, dgchristensen@comcast.net wrote:
> Mark, you are a genius.  I followed the above and the Swing app 
> starts without a problem.  If anybody's willing to explain it, I'd 
> like to understand what the difference is between starting Tomcat
> via startup.sh and starting it as a service.

If you run Tomcat as a "service" (whatever that means under Linux),
then it probably runs as some user other than "you" (the one who owns
the X environment). When you run it as "you", then you get access to X.

It would work as a service if:

1. X starts before Tomcat
2. X is configured with "xhost +" for whatever user it is
3. Tomcat's startup can have the proper DISPLAY variable set
(localhost:0?)

- -chris

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+gTuoACgkQ9CaO5/Lv0PBh6QCbBMXdRUUp6ZQyd+X4YzIahs8O
GB0An35Yf17m5FdrQXrW6OlRaUFvFput
=w5WE
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233894-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 21:03:51 2012
Return-Path: <users-return-233894-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 394DE9DA7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 21:03:51 +0000 (UTC)
Received: (qmail 47569 invoked by uid 500); 1 May 2012 21:03:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47362 invoked by uid 500); 1 May 2012 21:03:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47352 invoked by uid 99); 1 May 2012 21:03:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 21:03:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 21:03:41 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id 4bae1j0041swQuc55l3HuA; Tue, 01 May 2012 21:03:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id 4l3K1j00q38FjT13bl3LpE; Tue, 01 May 2012 21:03:20 +0000
Message-ID: <4FA04F97.9060106@christopherschultz.net>
Date: Tue, 01 May 2012 17:03:19 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Running Swing app under Tomcat 6 on Linux
References: <887126279.273832.1335890652672.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
In-Reply-To: <887126279.273832.1335890652672.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

DG,

On 5/1/12 12:44 PM, dgchristensen@comcast.net wrote:
> jhat displays the raw data but the object browser allows the 
> developer to view the data in a structured format.  At the risk of 
> using another lousy analogy, the application data is formated in a 
> sort of high-functioning, hierarchical DOM.  The browser lets the 
> developer peruse (or, uh, browse) the data in this hierarchical 
> format in real-time.  It's sort of like the DOM viewer in Firebug 
> (but better! of course).  The first time developers see their data 
> displayed by the browser there is almost always ooh-ing and
> ahh-ing.

Yeah, I guess jhat was a bad example. I just meant that jhat doesn't
include its own client... you provide your own (web browser).

If your data is hierarchical, it sounds like it would be natural to
express it in XML. It's fairly easy to write an XSL stylesheet that can
convert that into something that can expand/collapse with clicks, etc.

> I agree that some sort of remoting is the best solution.  That
> just takes time and I was hoping for a quick solution.  Woe is
> life. ;)
> 
> If you want to continue this further feel free to contact me 
> directly.  I'm always open to informed opinions.  For the long run 
> I'm looking at http://sites.google.com/site/simpleremoting/home

I wouldn't recommend JSON for large amounts of data, especially when
it's structured and nested in the way you have described. On the other
hand, XML is typically very verbose.

Good luck,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+gT5cACgkQ9CaO5/Lv0PAYbwCcD/RhCQ0D0EaLVlIi6KW883zC
XIYAn2QwWXytJh7HRuGSjRROHgvx6GHC
=dC81
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233895-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 22:18:21 2012
Return-Path: <users-return-233895-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D537E9FA4
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 22:18:21 +0000 (UTC)
Received: (qmail 63679 invoked by uid 500); 1 May 2012 22:18:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63598 invoked by uid 500); 1 May 2012 22:18:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63588 invoked by uid 99); 1 May 2012 22:18:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 22:18:18 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [194.51.201.69] (HELO esa-sf3.esa.gmessaging.net) (194.51.201.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 22:18:08 +0000
Received: from esa-sf3.esa.gmessaging.net (localhost [127.0.0.1])
	by localhost.esa.gmessaging.net (Postfix) with SMTP id 882F02F86A5
	for <users@tomcat.apache.org>; Wed,  2 May 2012 00:17:46 +0200 (CEST)
Received: from sciops-mailgw.vilspa.esa.int (sciops-mailgw.vilspa.esa.int [193.147.152.105])
	by esa-sf3.esa.gmessaging.net (Postfix) with ESMTP id 04B4A2F8A00
	for <users@tomcat.apache.org>; Wed,  2 May 2012 00:17:45 +0200 (CEST)
Received: from sciops.esac.int (scimail.esac.esa.int [193.147.152.87])
	by sciops-mailgw.vilspa.esa.int (Postfix) with ESMTP id E5E968B8E3
	for <users@tomcat.apache.org>; Wed,  2 May 2012 00:17:44 +0200 (CEST)
Received: from [127.0.0.1] (127.pool85-54-56.dynamic.orange.es [85.54.56.127])
	(authenticated bits=0)
	by sciops.esac.int (8.13.1/8.13.1) with ESMTP id q41MHhLX001703
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Wed, 2 May 2012 00:17:44 +0200
Message-ID: <11314_1335910666_4FA0610A_11314_8391_1_4FA06108.5030507@yahoo.es>
Date: Wed, 02 May 2012 00:17:44 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Javamelody and Struts
References: <4F8B28C6.4040800@yahoo.es> <CAAcgX+2o1UqVwpRETM+yamah3GNGw4+JROr919X+e_gW7pXs+w@mail.gmail.com> <4F8BCA3B.4020902@yahoo.es> <4F8BCC69.20603@yahoo.es> <CBB234E5.2AAB3%darryl.lewis@unsw.edu.au> <4F95B427.9040400@yahoo.es> <4F95B4C9.9010802@christopherschultz.net> <8998_1335633450_4F9C262A_8998_16662_1_4F9C2633.9040109@yahoo.es> <1335646258940-4937283.post@n6.nabble.com>
In-Reply-To: <1335646258940-4937283.post@n6.nabble.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120501-1, 01/05/2012), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

On 28/04/2012 22:50, evernat wrote:
> Hi Miguel,
>
> First, javamelody.war is *optional*. I suggest to try javamelody without
> using it.
> You may read the user guide for help with this:
> http://code.google.com/p/javamelody/wiki/UserGuide
> (if you have an exception, please copy the complete stack-trace)
>
> Then, there is an issue with Tomcat 5.5, only if you use javamelody v1.36.
> See http://code.google.com/p/javamelody/issues/detail?id=207
> It will be fixed in v1.37 soon.
>

That was the issue, we could have started with that :-)

Using v1.35 worked great. I'm even using the collector of version 1.36 
and it works together with the javamelody.jar from v1.35.

Thanks for the answer,

Miguel

This message and any attachments are intended for the use of the addressee or addressees only. The unauthorised disclosure, use, dissemination or copying (either in whole or in part) of its content is not permitted. If you received this message in error, please notify the sender and delete it from your system. Emails can be altered and their integrity cannot be guaranteed by the sender.

Please consider the environment before printing this email.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233896-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  1 23:54:09 2012
Return-Path: <users-return-233896-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D434497B7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  1 May 2012 23:54:09 +0000 (UTC)
Received: (qmail 96924 invoked by uid 500); 1 May 2012 23:54:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96752 invoked by uid 500); 1 May 2012 23:54:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96739 invoked by uid 99); 1 May 2012 23:54:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 23:54:06 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of umarfarooq125@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 May 2012 23:53:58 +0000
Received: by yenr5 with SMTP id r5so77455yen.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 16:53:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Lb1MAQLfoW9foBUPKJj0zk1mGLJdw0GIiND+1y6Osp0=;
        b=cfcrqJ+rWYJCvu0GFtQHmK54WR+fQcC28lELvSRDSvbBVE2CAWQopKShvgnubNSZwr
         bhLPBTULHBFcRfmKvI1OGzrhlCald1wqyNM/Hq+o6IZy1gNP7TFDcdPyACN+7ZxDn8pv
         fAjNoImUTXxYEtPMF7K7Svdw8KbwYcT9Tv+axRkd8nsNgs7PYPA74fxJGOUs3yvKtSnh
         gFszEoiugT/1GtdHxuK6JBPKdEQmszrGU/+Q1DCdfw2MZu3Duf4TqZutqZBFyBSeoTXH
         hoU2aGsxcnDflf+/rQFl7doiECwx48nxGMCu1zknhCGDVGUo1Uw6a07wB/Ce+q6fCNCE
         6o/g==
MIME-Version: 1.0
Received: by 10.50.194.228 with SMTP id hz4mr3205812igc.35.1335916417359; Tue,
 01 May 2012 16:53:37 -0700 (PDT)
Received: by 10.64.77.109 with HTTP; Tue, 1 May 2012 16:53:37 -0700 (PDT)
Date: Tue, 1 May 2012 16:53:37 -0700
Message-ID: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com>
Subject: WebSocket Help
From: umar farooq <umarfarooq125@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hi All,
       I am trying to use Chat example of WebSocket given in  Tomcat
version 7.0.27. Problem I faced are here.

1) After opening the web socket it closes the socket automatically
after 20 sec. I want connection open until Guest (i.e. user)
explicitly closes it.
2) Second thing is that It broad casts the message to all users but
what i want is to send message to a specific group of people.
Is there any method to send message to specific group.?? I checked API
for WebSocket but there is no method for multicast.

Kindly help me I have very short time to implement it.

Thanks..

-- 
*Regards,
*
*Muhammad Umar Farooq*
*Student **BIT* | SEECS, NUST *
*

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233897-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 00:06:32 2012
Return-Path: <users-return-233897-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8026B9823
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 00:06:32 +0000 (UTC)
Received: (qmail 27690 invoked by uid 500); 2 May 2012 00:06:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27510 invoked by uid 500); 2 May 2012 00:06:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27500 invoked by uid 99); 2 May 2012 00:06:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 00:06:29 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of umarfarooq125@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 00:06:22 +0000
Received: by yhoo21 with SMTP id o21so94196yho.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 17:06:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=EzEnYwcOfvPVno97FDOa0Y+DwCQNOR8hqv3Nv5Dimg0=;
        b=l3f0mHxKvWnUV1tDDH/o3WuXosI3C0OcMlNKuy1blu2jWsDc9OQhPAEK7plRNxAiOa
         JTKZPd7ksP4Tr4KrulWXLAfv+yu5bEPPPd+2LWi0Si7/Lewu/ZwD3dX2acVSrD3BSkxB
         NKxJv0ZxvoktenHfbga+w49l8DaLPxGVNgYF2tQt8bni0RBvVvvsk6HR9o12b5fbYnol
         qSW8oKaeSqZNsNKpy6kUMP8NoXjWQBb8+mqoLUDDDC2l3SSVZ1PY1aLVjIT/ImzZrJp+
         oGaEreTzITM64+mag6M+oJVXl9w0yUPRqp0T7AIaRTeHW/8/1M/8qaT5Y5KR94j0btTD
         xoeg==
MIME-Version: 1.0
Received: by 10.42.97.194 with SMTP id p2mr19718972icn.36.1335917162242; Tue,
 01 May 2012 17:06:02 -0700 (PDT)
Received: by 10.64.77.109 with HTTP; Tue, 1 May 2012 17:06:02 -0700 (PDT)
Date: Tue, 1 May 2012 17:06:02 -0700
Message-ID: <CAMRHovuUtjsbyArpe1GxAok_KBeF+k4xv9_Wn4f0G=UeuSzb2g@mail.gmail.com>
Subject: Web Socket Issue
From: umar farooq <umarfarooq125@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf303bf94ee7a3ff04bf02738d
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf303bf94ee7a3ff04bf02738d
Content-Type: text/plain; charset=ISO-8859-1

Hi All,
       I am trying to use Chat example of WebSocket given in  Tomcat version
 7.0.27. Problem I faced are here.

1) After opening the web socket it closes the socket automatically after 20
sec. I want connection open until Guest (i.e. user) explicitly closes it.
2) Second thing is that It broad casts the message to all users but what i
want is to send message to a specific group of people.
Is there any method to send message to specific group.?? I checked API for
WebSocket but there is no method for multicast.

Kindly help me I have very short time to implement it.

Thanks..
-- 
*Regards,
*
*Muhammad Umar Farooq*
*Student **BIT* | SEECS, NUST *
*

--20cf303bf94ee7a3ff04bf02738d--

From users-return-233898-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 01:13:29 2012
Return-Path: <users-return-233898-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B13FC281
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 01:13:29 +0000 (UTC)
Received: (qmail 74912 invoked by uid 500); 2 May 2012 01:13:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74845 invoked by uid 500); 2 May 2012 01:13:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74834 invoked by uid 99); 2 May 2012 01:13:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 01:13:25 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 01:13:19 +0000
Received: by qcsc20 with SMTP id c20so68159qcs.18
        for <users@tomcat.apache.org>; Tue, 01 May 2012 18:12:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=qgQ5NGSRqluCVxbtm8B342gvHMfKLLM2lhFXxyAf+mI=;
        b=VgdLBurdFm1zzj8ryrluPRsQaZjuD+kUL49FVJxzYhCQCUto8ySSSQfuElI0jez4Ep
         CEJ9hQbF50QgAEfQscBlvVz0dfHZLFd4Ti2HQiPpXdIdtTcLP0sEQDhL9mtFL6pe/9V7
         rkN8DATtojyw0Q81X1QM5ZIkr45ZfXd76YSUfKfvRHdHEdhKG9yW7vhg1FJGygxlICOQ
         r3V+QOtu05q6GcNrGI4BjY3b4kpPQrZpN0DxjegmKLU/mIZ0gH35pDKucUjLIy0LAo4k
         QdV96VlrfQZZ8+hF6tA8cYcEDGti+VgsWpYz6HE2ATyzhjW94tXE5scuUtdRVkkBWwI/
         8viA==
MIME-Version: 1.0
Received: by 10.224.220.142 with SMTP id hy14mr22547947qab.71.1335921178888;
 Tue, 01 May 2012 18:12:58 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Tue, 1 May 2012 18:12:58 -0700 (PDT)
Date: Wed, 2 May 2012 09:12:58 +0800
Message-ID: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>
Subject: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf3074b6e850ca6704bf0363b6
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3074b6e850ca6704bf0363b6
Content-Type: text/plain; charset=ISO-8859-1

Hi, All.
Any help ?




Thanks?

--20cf3074b6e850ca6704bf0363b6--

From users-return-233899-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 01:31:13 2012
Return-Path: <users-return-233899-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 465A39DC6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 01:31:13 +0000 (UTC)
Received: (qmail 12437 invoked by uid 500); 2 May 2012 01:31:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12380 invoked by uid 500); 2 May 2012 01:31:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12371 invoked by uid 99); 2 May 2012 01:31:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 01:31:09 +0000
X-ASF-Spam-Status: No, hits=4.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_BRBL_LASTEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of 490548661@qq.com designates 119.147.194.231 as permitted sender)
Received: from [119.147.194.231] (HELO smtpbg172.qq.com) (119.147.194.231)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 May 2012 01:31:03 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1335922242; bh=0CCD+B2XBY3nFSFcyCIsfFjSgDxqYrbCnEnzThMdDUg=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer:X-QQ-ReplyHash;
	b=RCi5JJQZ2/NzS9ZVqT1q8K4Ci39zndnLJKrXeBgu3JbJY6d93AlBadXAn9VluC7sL
	 aVfPvN31wNoFgF9MdvlwnuWF2ZFNYPY66YYLzWAHEOYhSReZ3p4qyICQKpIIS1V
X-QQ-SSF: 00000000000000F0000000000000000
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 14.104.240.233
X-QQ-STYLE: 
X-QQ-mid: webmail491t1335922241t5812362
From: "=?gb18030?B?NDkwNTQ4NjYx?=" <490548661@qq.com>
To: "=?gb18030?B?VG9tY2F0IFVzZXJzIExpc3Q=?=" <users@tomcat.apache.org>, "=?gb18030?B?dXNlcnM=?=" <users@tomcat.apache.org>
Subject: Re:How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4FA08E41_DD8DE030_7080A7BE"
Content-Transfer-Encoding: 8Bit
Date: Wed, 2 May 2012 09:30:41 +0800
X-Priority: 3
Message-ID: <tencent_38FCFC194427538300E9DD2E@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 3989538688
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4FA08E41_DD8DE030_7080A7BE
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

c2VlIHRvbWNhdCBkb21jdW1lbnQgbXliZSB0aGF0IHdpbGwgaGVscCB5b3UgDQogIA0KIA0K
LS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdpbmFsIC0tLS0tLS0tLS0tLS0tLS0tLQ0KRnJvbTog
Inp1eGlvbmcgbGluIjsgDQpEYXRlOiAyMDEyxOo11MIyyNUo0MfG2sj9KSDJz87nOToxMg0K
VG86ICJ1c2VycyI7IA0KU3ViamVjdDogSG93IHRvIGNvbmZpZyB0aGUgVG9tY2F0IDcueCBK
TkRJIGRhdGFzb3VyY2UgYnkgdXNpbmcgQm9uZUNQID8/DQoNCiANCkhpLCBBbGwuDQpBbnkg
aGVscCA/DQoNCg0KDQoNClRoYW5rcz8=

------=_NextPart_4FA08E41_DD8DE030_7080A7BE--


From users-return-233900-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 02:04:07 2012
Return-Path: <users-return-233900-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 759469EBE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 02:04:07 +0000 (UTC)
Received: (qmail 91826 invoked by uid 500); 2 May 2012 02:04:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91617 invoked by uid 500); 2 May 2012 02:04:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91608 invoked by uid 99); 2 May 2012 02:04:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 02:04:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.70] (HELO nm15-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 May 2012 02:03:56 +0000
Received: from [98.138.90.49] by nm15.bullet.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:03:35 -0000
Received: from [98.138.226.168] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:03:35 -0000
Received: from [127.0.0.1] by omp1069.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:03:35 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 16521.86745.bm@omp1069.mail.ne1.yahoo.com
Received: (qmail 73888 invoked by uid 60001); 2 May 2012 02:03:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1335924214; bh=bOSv1JiW5CV/dk3dW2hX549yIlus9J5MDWhqaNzEb0s=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=PVgIh4CdOBo6DbpoVl9ZzDKFhEJanK841DJzyhmCi3gICPgWwzEYjU8RCzIP3opfbCH7G9d3eAod0Vrf2SYskFmd/m0UIqwQAnXdzw9bV9Z27vrnY9N3Pf/N413pirssiCqgX4VMWr0fb89ZekkplV4abSwKh4jPb39YpM7YZAs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=bXTTrv8na+EIPzNkSY5l6HJ/sgek6TBn0X4VkUfZGyKQY/C4mvBLT6kuK9+bz6zHDAfDY/iVa7zpkHQqux7qvJqR0LIqkXORp3t3oIJchfnDXgkQM8cXVvfSkHVJvux++oGdS7mwQ5F44Q0+BoUA/F3AydOdnK3ZxFWSELG6xVQ=;
X-YMail-OSG: S62gTxQVM1lyB5kplHTMZ_M3fJlUkmgkmNEt_ZHHYxIsmYB
 PpLlWdmbyy.FRrLNtSqnBOeGhWccwDk.LONM3nXYwp47fuoZ0w50GlkwOQxB
 6miCgofsPx8_.f1P.II4xegGy3aqOncTiArMcLG2Gka6VE8ZILEqSpYpf602
 ArSmzsRVZxhVGAeBby4vRUUE8Qhc16jvpB9O7C0ChT0XuyZP1tufpjNdsYIG
 SXKKSGtcnhO43UkLQfEHJI6xdTUYsUpeDY6bzCa.eI0xFe0ddX7sc4v8Gov4
 KsROrWcyUjbzQeLldx7ReawQbx_05rjqMLxMX_vTtHo_.MbBDPqfwPHSMzQb
 PEhLwFFz625bOuzQP0Mdh7rX.4W7cro9iMtdrCtJtEKcTlt9N.RHVOMiRm_S
 aR1RMOKeEB7ZfwfZNh9Sfr_TX47toZGFkRd7lXYMogDxSW6hgdvAoktsNFVh
 BhGFWS1PMwD_2lrAtLnW2EmCwRRNNdlagALWPFSOqHf_bHMgHfLXraRaP70I
 NEtoM6ifeltL8GDR6y8nvnSIRSozTcqvGj1WUe.iESVK4S.iU0y8HSJdfM9r
 VfF4D6J7x2jVvCNXcd3Ac45km16zTHamf22FZWufeMvH8GxzAtTzHdi_f1Wq
 Y5TUkeG7C.IHKgHfZupEV7mLY4nxkBR8-
Received: from [71.134.9.186] by web125504.mail.ne1.yahoo.com via HTTP; Tue, 01 May 2012 19:03:34 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net> <4FA04EEA.2010506@christopherschultz.net>
Message-ID: <1335924214.49128.YahooMailNeo@web125504.mail.ne1.yahoo.com>
Date: Tue, 1 May 2012 19:03:34 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Running Swing app under Tomcat 6 on Linux
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FA04EEA.2010506@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Christopher Schultz <chris@christ=
opherschultz.net>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> C=
c: =0A> Sent: Tuesday, May 1, 2012 2:00 PM=0A> Subject: Re: Running Swing a=
pp under Tomcat 6 on Linux=0A> =0A> -----BEGIN PGP SIGNED MESSAGE-----=0A> =
Hash: SHA1=0A> =0A> DG,=0A> =0A> On 5/1/12 1:39 PM, dgchristensen@comcast.n=
et wrote:=0A>>  Mark, you are a genius.=A0 I followed the above and the Swi=
ng app =0A>>  starts without a problem.=A0 If anybody's willing to explain =
it, I'd =0A>>  like to understand what the difference is between starting T=
omcat=0A>>  via startup.sh and starting it as a service.=0A> =0A> If you ru=
n Tomcat as a "service" (whatever that means under Linux),=0A> then it prob=
ably runs as some user other than "you" (the one who owns=0A> the X environ=
ment). When you run it as "you", then you get access to =0A> X.=0A> =0A> It=
 would work as a service if:=0A> =0A> 1. X starts before Tomcat=0A=0A+1=0A=
=0AAt least on CentOS Tomcat starts at run level 3, so you won't have an X =
server available. You could try the following, but again I don't know if yo=
u can enforce the order.=0A=0AAs root, do the following:=0A=0Achkconfig --l=
evels 34 tomcat6 off=0A=0Achkconfig --list tomcat6=0A=0AYou should only see=
 tomcat6 start up on run level 5, which is multi-user plus X.=0A=0ANow, add=
 the display variable (DISPLAY=3Dlocalhost:0.0 or maybe DISPLAY=3Dlocalhost=
.localdomain:0.0) to setenv.sh. This is provided that the Ubuntu scripts do=
 the right thing and execute setenv.sh . . .=0A=0AI of course have no idea =
what happens when a person runs your web application remotely.=0A=0AI'm not=
 sure that this will help, but at least it's a shot.=0A=0A/mde/=0A=0A> 2. X=
 is configured with "xhost +" for whatever user it is=0A> 3. Tomcat's start=
up can have the proper DISPLAY variable set=0A> (localhost:0?)=0A> =0A> - -=
chris=0A> =0A> -----BEGIN PGP SIGNATURE-----=0A> Version: GnuPG/MacGPG2 v2.=
0.17 (Darwin)=0A> Comment: GPGTools - http://gpgtools.org=0A> Comment: Usin=
g GnuPG with Mozilla - http://enigmail.mozdev.org/=0A> =0A> iEYEARECAAYFAk+=
gTuoACgkQ9CaO5/Lv0PBh6QCbBMXdRUUp6ZQyd+X4YzIahs8O=0A> GB0An35Yf17m5FdrQXrW6=
OlRaUFvFput=0A> =3Dw5WE=0A> -----END PGP SIGNATURE-----=0A> =0A> ----------=
-----------------------------------------------------------=0A> To unsubscr=
ibe, e-mail: users-unsubscribe@tomcat.apache.org=0A> For additional command=
s, e-mail: users-help@tomcat.apache.org=0A> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233901-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 02:13:01 2012
Return-Path: <users-return-233901-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD82B9ED8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 02:13:01 +0000 (UTC)
Received: (qmail 13555 invoked by uid 500); 2 May 2012 02:12:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13321 invoked by uid 500); 2 May 2012 02:12:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13310 invoked by uid 99); 2 May 2012 02:12:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 02:12:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.176] (HELO nm16-vm4.bullet.mail.ne1.yahoo.com) (98.138.91.176)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 May 2012 02:12:49 +0000
Received: from [98.138.90.52] by nm16.bullet.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:12:29 -0000
Received: from [98.138.87.3] by tm5.bullet.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:12:29 -0000
Received: from [127.0.0.1] by omp1003.mail.ne1.yahoo.com with NNFMP; 02 May 2012 02:12:29 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 90244.74967.bm@omp1003.mail.ne1.yahoo.com
Received: (qmail 9450 invoked by uid 60001); 2 May 2012 02:12:29 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1335924749; bh=yqX2uIGCDuH0AId8+0NwPUdLPHREXhfpXEgz+AnevaQ=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=flgFtsp0e69xNBthBgBKotGIUltj2yn5j1Ms4Xb1nLnedS3ZmQxrnFGDd/haavbbAWqZ3Gj6CUYR3BaZHzNnXOGnzifvNvoZfCKmxZSIvualKq/wXmJbNHcXpNK6YCqLfHeVMPOeK+oKlDtP9qeyTulpImSrFvySY3Vcz0l8E9E=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=r0gtmB5jjoNZRPkTIjpX+/VJNTmpv5xVlS9Ng8zhbNZ04GJV5A2mGEhi72urIdhxBv30N7X2tDJTw78Fn/HzgP6jPDexL+KoXwavcdV7ciDzKteYK1PIK//cRVgp0HhCVZhBJ5ZghDrDZ8wT0m2x9hmVNODmDbyw+kKuSI2GpEQ=;
X-YMail-OSG: 4od0.4UVM1nZiPxiYOvE1Opld.TbRUN10Xo_VQ59xalyaQx
 Kmw6V.NfgwsxaI6TLQBgDcmdsBUKboLnN6DamkQOsh33dgpOr9odrMkCtWvy
 OW.k5H4XPN9wS3A.Zso4zGUdUj2LmAJJy05qi.VGSR4VzxqmiLSkMCm4Vb77
 RyYaKdMSnwIc4.9pbSpB7_CmL9Xs3eZgTzrD.7O8YRzR5E0gV1hRbG.5DA8N
 ZeCV1C3rlks3lYj4lSWNN6bspNF3uRBZFIcWrspNB4OfRrbJxKRi8Z5oCd3M
 SUIsCq9yzB0Dl87pqG7imu5I4LC6aFIDsFLJS6111dUM9KJoBVool3x_2mPx
 o.cBdA52EVJC5V8ZaKep0mEWwa0DMOTUysgwxO3NuCgD5mNudqqdx_AATOQo
 QAMojZTDTCeFsCY5H76TTXFsqzA43KL4rtepc7iH09wTWTPCeBeze_hsXxUF
 F5OtzQuCK8xp_YjMNawDnpcLxH9x0m.yV9o0GXJN6JqhUHnOTQ3zblJabY9q
 xPXs1s95SbZ8GDof0H1E-
Received: from [71.134.9.186] by web125501.mail.ne1.yahoo.com via HTTP; Tue, 01 May 2012 19:12:28 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1335759837.69775.YahooMailNeo@web125505.mail.ne1.yahoo.com> <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
Message-ID: <1335924748.5248.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Date: Tue, 1 May 2012 19:12:28 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Running Swing app under Tomcat 6 on Linux
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <83338720.277030.1335893947208.JavaMail.root@sz0170a.emeryville.ca.mail.comcast.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----=0A=0A> From: "dgchristensen@comcast.net" <dgch=
ristensen@comcast.net>=0A> To: Tomcat Users List <users@tomcat.apache.org>;=
 Mark Eggers <its_toasted@yahoo.com>=0A> Cc: =0A> Sent: Tuesday, May 1, 201=
2 10:39 AM=0A> Subject: Re: Running Swing app under Tomcat 6 on Linux=0A> =
=0A> =0A> ----- Original Message -----=0A>>  From: "Mark Eggers" <its_toast=
ed@yahoo.com>=0A>>  To: "Tomcat Users List" <users@tomcat.apache.org>=0A>> =
 Sent: Monday, April 30, 2012 12:23:57 AM=0A>>  Subject: Re: Running Swing =
app under Tomcat 6 on Linux=0A>>  Comment inline.=0A>>  =3D=3D=3D=3D=3D=3D =
Comment =3D=3D=3D=3D=3D=3D=0A>> =0A>> =0A>>  I don't know what magic the Ub=
untu repackaging does. If it's =0A> anything=0A>>  like the CentOS repackag=
ing, it's pretty involved.=0A>> =0A>>  One thing you might try is the follo=
wing:=0A>> =0A>>  1. sudo service tomcat6 stop=0A>>  2. Download a copy of =
Tomcat from Apache=0A>>  3. Unpack it in your home directory=0A>>  4. Edit =
$CATALINA_HOME/conf/tomcat-users.xml=0A>>  5. Add your application to $CATA=
LINA_HOME/webapps=0A>>  6. export JRE_HOME=3D[your Java JRE installation]=
=0A>>  7. cd $CATALINA_HOME/bin=0A>>  8. Make sure startup.sh is executable=
=0A>>  9. ./startup.sh=0A>> =0A>>  And see what happens.=0A> =0A> Mark, you=
 are a genius.=A0 I followed the above and the Swing app starts without a =
=0A> problem.=A0 If anybody's willing to explain it, I'd like to understand=
 =0A> what the difference is between starting Tomcat via startup.sh and sta=
rting it as =0A> a service.=0A=0A=0AYou're welcome. I'm glad it worked. See=
 my response to Christopher's message concerning what I think is going on a=
nd one way maybe to get around it.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233902-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 07:10:11 2012
Return-Path: <users-return-233902-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E06419D47
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 07:10:11 +0000 (UTC)
Received: (qmail 4342 invoked by uid 500); 2 May 2012 07:10:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3909 invoked by uid 500); 2 May 2012 07:10:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3870 invoked by uid 99); 2 May 2012 07:10:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 07:10:01 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 07:09:56 +0000
Received: by qcsc20 with SMTP id c20so196292qcs.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 00:09:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GEtPZJt7PlsLWoY9egEIkzRJ3eY44DqstNdC2DWc8og=;
        b=F3r+AdxUMczJ5SEgtUPvneerFbWmrxzfe1AKggpCfK5T3n5KoZCp7VjYHRcBqIGJZe
         AkkHv9Aqw8ViK2f2kwB0Njo4Fewml0T39L+tidg0Z/t3AnKWPtDP5NBwsOiiDyIRmubx
         3YvxcJoyMdzrbqPZi8VcJuF+I6ugUx3HaZeG5jjJxFWep5BYuKCTeECRBb0IYYtlpJZ9
         SgJndq6T+8OI9i7KlTMVY6sW6gc4gqZ7XqhuNoiaMGOvFHDlDm8DuZtfU/vHkxlW4b+y
         i4ihNZR7slDW+sRWDQrv0Hcq4cuvtOoR8bPCQ21Bzy3YcHSsnvZPIvyPSWdPU53MJdnl
         sa2g==
MIME-Version: 1.0
Received: by 10.229.106.151 with SMTP id x23mr7212303qco.14.1335942575670;
 Wed, 02 May 2012 00:09:35 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 00:09:35 -0700 (PDT)
In-Reply-To: <tencent_38FCFC194427538300E9DD2E@qq.com>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
Date: Wed, 2 May 2012 15:09:35 +0800
Message-ID: <CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=002354471980a9c57804bf085e77
X-Virus-Checked: Checked by ClamAV on apache.org

--002354471980a9c57804bf085e77
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Actually , I have do it 5 times by different way.
But Tomcat 7 tells me Exception!


In Tomcat 7 , conf/server.xml -> GlobalNamingResources
<!-- BoneCP datasource -->
<Resource acquireIncrement=3D"2" auth=3D"Container"
driverClass=3D"com.mysql.jdbc.Driver" *
factory=3D"com.jolbox.bonecp.BoneCPDataSource"* idleMaxAgeInMinutes=3D"600"
jdbcUrl=3D"jdbc:mysql://
10.20.216.18:3306/SoftmgrV3?useUnicode=3Dtrue&amp;characterEncoding=3DUTF-8=
"
lazyInit=3D"false" maxConnectionsPerPartition=3D"100"
minConnectionsPerPartition=3D"3" name=3D"jdbc/SoftmgrV3" partitionCount=3D"=
2"
password=3D"root" releaseHelperThreads=3D"2"
type=3D"com.jolbox.bonecp.BoneCPDataSource" username=3D"root" />

In my Web App:
META-INF/context.xml :
<Context>
<ResourceLink name=3D"jdbc/SoftmgrV3" global=3D"jdbc/SoftmgrV3"
type=3D"com.jolbox.bonecp.BoneCPDataSource" />
</Context>
web-inf/web.xml :
<resource-ref>
<description>jndi datasource</description>
<res-ref-name>jdbc/SoftmgrV3</res-ref-name>
<res-type>com.jolbox.bonecp.BoneCPDataSource</res-type>
<res-auth>Container</res-auth>
</resource-ref>
spring jee:
<jee:jndi-lookup id=3D"dataSource" jndi-name=3D"jdbc/SoftmgrV3"
resource-ref=3D"true" cache=3D"true" lookup-on-startup=3D"true" />

*But Excpeiotn:*
exception

org.springframework.web.util.NestedServletException: Request processing
failed; nested exception is
org.springframework.transaction.CannotCreateTransactionException: Could not
open JDBC Connection for transaction; nested exception is
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver
of class '' for connect URL 'null'
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkSe=
rvlet.java:894)
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.jav=
a:778)
javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(Sha=
llowEtagHeaderFilter.java:58)
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequest=
Filter.java:76)
org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(Cha=
racterEncodingFilter.java:88)
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequest=
Filter.java:76)
root cause

org.springframework.transaction.CannotCreateTransactionException: Could not
open JDBC Connection for transaction; nested exception is
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver
of class '' for connect URL 'null'
org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(Da=
taSourceTransactionManager.java:240)
org.springframework.transaction.support.AbstractPlatformTransactionManager.=
getTransaction(AbstractPlatformTransactionManager.java:371)
org.springframework.transaction.interceptor.TransactionAspectSupport.create=
TransactionIfNecessary(TransactionAspectSupport.java:335)
org.springframework.transaction.interceptor.TransactionInterceptor.invoke(T=
ransactionInterceptor.java:105)
org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Reflec=
tiveMethodInvocation.java:172)
org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Expo=
seInvocationInterceptor.java:90)
org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Reflec=
tiveMethodInvocation.java:172)
org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopPr=
oxy.java:202)
$Proxy14.getSoftwareTypes(Unknown Source)
com.kingsoft.softmgr.web.SoftwareController.general(SoftwareController.java=
:53)
com.kingsoft.softmgr.web.SoftwareController$$FastClassByCGLIB$$17a6cdbd.inv=
oke(<generated>)
net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)



Why does it appear .tomcat.dbcp.dbcp,
 not com.jolbox.bonecp.BoneCPDataSource implements DataSource,
ObjectFactory ???

















On Wed, May 2, 2012 at 9:30 AM, 490548661 <490548661@qq.com> wrote:

> see tomcat domcument mybe that will help you
>
>
> ------------------ Original ------------------
> From: "zuxiong lin";
> Date: 2012=E5=B9=B45=E6=9C=882=E6=97=A5(=E6=98=9F=E6=9C=9F=E4=B8=89) =E4=
=B8=8A=E5=8D=889:12
> To: "users";
> Subject: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
>
>
> Hi, All.
> Any help ?
>
>
>
>
> Thanks?
>

--002354471980a9c57804bf085e77--

From users-return-233903-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 08:08:04 2012
Return-Path: <users-return-233903-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7795C733
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 08:08:04 +0000 (UTC)
Received: (qmail 22109 invoked by uid 500); 2 May 2012 08:08:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21359 invoked by uid 500); 2 May 2012 08:07:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21345 invoked by uid 99); 2 May 2012 08:07:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:07:56 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:07:47 +0000
Received: by qcsc20 with SMTP id c20so226425qcs.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 01:07:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=TIzU0zGx4cYuK6LEZHPHXHXwMnFbSoqyPhl5lVbmBGY=;
        b=I1MErewFjHZK2JKiBxMv8ymYkNYdK8GZwVSO1sy7igXZ4gskERJ3rG99nvnE5LEet+
         wEWm6QvaKKJsKIXTtA3640++N1r6U8BwTfcpmOjLHEIsdXE8AUIcvUqAcK4C6bKU3GXY
         F9PVbvHcZvL2WXTrfA9iZkd0CE7vewUrF87fALOZrvyBrdhNfLUMUjnmH0yK/LlB0Rw7
         +hhhBASvfXc1N0kxeCKuvReq611IuIZfpTwbagblf/nYJiswWJ0C2iWt1Sb8kjoti5zC
         fQZhSt/Jfr1g18uQfKh1KamR/8tCn2G4awmxtRbAqA/4birNrHVMmvjLuh/vE6lQs3Wp
         gC5w==
MIME-Version: 1.0
Received: by 10.229.135.84 with SMTP id m20mr7108872qct.96.1335946046320; Wed,
 02 May 2012 01:07:26 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 01:07:26 -0700 (PDT)
In-Reply-To: <CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
Date: Wed, 2 May 2012 16:07:26 +0800
Message-ID: <CACSA5wYEb0Kpc3gg5PhtOe7bpsC4RSmDDP=7gT20eCKtsfEwOw@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00248c6a673287af4a04bf092dc7

--00248c6a673287af4a04bf092dc7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Another example:
1.In Tomcat 7, conf/server.xml -> GlobalNamingResources
    <!-- BoneCP datasource -->
    <Resource acquireIncrement=3D"2" auth=3D"Container"
*driverClass*=3D"com.mysql.jdbc.Driver"
*driverClassName*=3D"com.mysql.jdbc.Driver" *factory*=3D"*
com.jolbox.bonecp.BoneCPDataSource*"
        idleMaxAgeInMinutes=3D"600" jdbcUrl=3D"jdbc:mysql://
10.20.216.18:3306/SoftmgrV3?useUnicode=3Dtrue&amp;characterEncoding=3DUTF-8=
"
        lazyInit=3D"false" maxConnectionsPerPartition=3D"100"
minConnectionsPerPartition=3D"3" name=3D"jdbc/SoftmgrV3"
        partitionCount=3D"2" password=3D"root" releaseHelperThreads=3D"2"
*type*=3D"com.jolbox.bonecp.BoneCPDataSource"
username=3D"root" />
2.my web app . META-INF/context.xml
<Context>
<ResourceLink name=3D"jdbc/SoftmgrV3" global=3D"jdbc/SoftmgrV3"
type=3D"com.jolbox.bonecp.BoneCPDataSource" />
</Context>
3.my web app . web-inf/web.xml
<resource-env-ref>
<resource-env-ref-name>jdbc/SoftmgrV3</resource-env-ref-name>
<resource-env-ref-type>com.jolbox.bonecp.BoneCPDataSource</resource-env-ref=
-type>
</resource-env-ref>
4.my code , spring jee:
<jee:jndi-lookup id=3D"dataSource" jndi-name=3D"java:comp/env/jdbc/SoftmgrV=
3"
resource-ref=3D"true"
lookup-on-startup=3D"false"
expected-type=3D"com.jolbox.bonecp.BoneCPDataSource"
proxy-interface=3D"javax.sql.DataSource" />



Tomcat expcetion tells
me org.apache.naming.factory.ResourceEnvFactory.getObjectInstance ... Why
does it appear again?
HTTP Status 500 -
------------------------------

*type* Exception report

*message***

*description* *The server encountered an internal error () that prevented
it from fulfilling this request.*

*exception*

org.springframework.web.util.NestedServletException: Request
processing failed; nested exception is
org.springframework.transaction.CannotCreateTransactionException:
Could not open JDBC Connection for transaction; nested exception is
org.springframework.jndi.JndiLookupFailureException:
JndiObjectTargetSource failed to obtain new target object; nested
exception is javax.naming.NamingException: Cannot create resource
instance
	org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkS=
ervlet.java:894)
	org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.ja=
va:778)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(Sh=
allowEtagHeaderFilter.java:58)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(Ch=
aracterEncodingFilter.java:88)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)

*root cause*

org.springframework.transaction.CannotCreateTransactionException:
Could not open JDBC Connection for transaction; nested exception is
org.springframework.jndi.JndiLookupFailureException:
JndiObjectTargetSource failed to obtain new target object; nested
exception is javax.naming.NamingException: Cannot create resource
instance
	org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(D=
ataSourceTransactionManager.java:240)
	org.springframework.transaction.support.AbstractPlatformTransactionManager=
.getTransaction(AbstractPlatformTransactionManager.java:371)
	org.springframework.transaction.interceptor.TransactionAspectSupport.creat=
eTransactionIfNecessary(TransactionAspectSupport.java:335)
	org.springframework.transaction.interceptor.TransactionInterceptor.invoke(=
TransactionInterceptor.java:105)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopP=
roxy.java:202)
	$Proxy15.getSoftwareTypes(Unknown Source)
	com.kingsoft.softmgr.web.SoftwareController.general(SoftwareController.jav=
a:53)
	com.kingsoft.softmgr.web.SoftwareController$$FastClassByCGLIB$$17a6cdbd.in=
voke(<generated>)
	net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.inv=
okeJoinpoint(Cglib2AopProxy.java:689)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:150)
	org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJA=
fterThrowingAdvice.java:55)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.procee=
d(MethodInvocationProceedingJoinPoint.java:80)
	com.kingsoft.softmgr.aop.cache.MemcachedIntercepter.aroundMethod(Memcached=
Intercepter.java:87)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWi=
thGivenArgs(AbstractAspectJAdvice.java:621)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(A=
bstractAspectJAdvice.java:610)
	org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAd=
vice.java:65)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor=
.intercept(Cglib2AopProxy.java:622)
	com.kingsoft.softmgr.web.SoftwareController$$EnhancerByCGLIB$$a0a74ba2.gen=
eral(<generated>)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.web.method.support.InvocableHandlerMethod.invoke(Invoc=
ableHandlerMethod.java:213)
	org.springframework.web.method.support.InvocableHandlerMethod.invokeForReq=
uest(InvocableHandlerMethod.java:126)
	org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHand=
lerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
	org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.ha=
ndle(AbstractHandlerMethodAdapter.java:80)
	org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherSer=
vlet.java:923)
	org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServ=
let.java:852)
	org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkS=
ervlet.java:882)
	org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.ja=
va:778)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(Sh=
allowEtagHeaderFilter.java:58)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(Ch=
aracterEncodingFilter.java:88)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)

*root cause*

org.springframework.jndi.JndiLookupFailureException:
JndiObjectTargetSource failed to obtain new target object; nested
exception is javax.naming.NamingException: Cannot create resource
instance
	org.springframework.jndi.JndiObjectTargetSource.getTarget(JndiObjectTarget=
Source.java:139)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopP=
roxy.java:182)
	$Proxy14.getConnection(Unknown Source)
	org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(D=
ataSourceTransactionManager.java:202)
	org.springframework.transaction.support.AbstractPlatformTransactionManager=
.getTransaction(AbstractPlatformTransactionManager.java:371)
	org.springframework.transaction.interceptor.TransactionAspectSupport.creat=
eTransactionIfNecessary(TransactionAspectSupport.java:335)
	org.springframework.transaction.interceptor.TransactionInterceptor.invoke(=
TransactionInterceptor.java:105)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopP=
roxy.java:202)
	$Proxy15.getSoftwareTypes(Unknown Source)
	com.kingsoft.softmgr.web.SoftwareController.general(SoftwareController.jav=
a:53)
	com.kingsoft.softmgr.web.SoftwareController$$FastClassByCGLIB$$17a6cdbd.in=
voke(<generated>)
	net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.inv=
okeJoinpoint(Cglib2AopProxy.java:689)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:150)
	org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJA=
fterThrowingAdvice.java:55)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.procee=
d(MethodInvocationProceedingJoinPoint.java:80)
	com.kingsoft.softmgr.aop.cache.MemcachedIntercepter.aroundMethod(Memcached=
Intercepter.java:87)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWi=
thGivenArgs(AbstractAspectJAdvice.java:621)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(A=
bstractAspectJAdvice.java:610)
	org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAd=
vice.java:65)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor=
.intercept(Cglib2AopProxy.java:622)
	com.kingsoft.softmgr.web.SoftwareController$$EnhancerByCGLIB$$a0a74ba2.gen=
eral(<generated>)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.web.method.support.InvocableHandlerMethod.invoke(Invoc=
ableHandlerMethod.java:213)
	org.springframework.web.method.support.InvocableHandlerMethod.invokeForReq=
uest(InvocableHandlerMethod.java:126)
	org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHand=
lerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
	org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.ha=
ndle(AbstractHandlerMethodAdapter.java:80)
	org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherSer=
vlet.java:923)
	org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServ=
let.java:852)
	org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkS=
ervlet.java:882)
	org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.ja=
va:778)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(Sh=
allowEtagHeaderFilter.java:58)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(Ch=
aracterEncodingFilter.java:88)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)

*root cause*

javax.naming.NamingException: Cannot create resource instance
	org.apache.naming.factory.ResourceEnvFactory.getObjectInstance(ResourceEnv=
Factory.java:117)
	javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:304)
	org.apache.naming.NamingContext.lookup(NamingContext.java:843)
	org.apache.naming.NamingContext.lookup(NamingContext.java:154)
	org.apache.naming.NamingContext.lookup(NamingContext.java:831)
	org.apache.naming.NamingContext.lookup(NamingContext.java:154)
	org.apache.naming.NamingContext.lookup(NamingContext.java:831)
	org.apache.naming.NamingContext.lookup(NamingContext.java:154)
	org.apache.naming.NamingContext.lookup(NamingContext.java:831)
	org.apache.naming.NamingContext.lookup(NamingContext.java:168)
	org.apache.naming.SelectorContext.lookup(SelectorContext.java:158)
	javax.naming.InitialContext.lookup(InitialContext.java:392)
	org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154)
	org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87)
	org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152)
	org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)
	org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java=
:95)
	org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:1=
05)
	org.springframework.jndi.JndiObjectTargetSource.getTarget(JndiObjectTarget=
Source.java:132)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopP=
roxy.java:182)
	$Proxy14.getConnection(Unknown Source)
	org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(D=
ataSourceTransactionManager.java:202)
	org.springframework.transaction.support.AbstractPlatformTransactionManager=
.getTransaction(AbstractPlatformTransactionManager.java:371)
	org.springframework.transaction.interceptor.TransactionAspectSupport.creat=
eTransactionIfNecessary(TransactionAspectSupport.java:335)
	org.springframework.transaction.interceptor.TransactionInterceptor.invoke(=
TransactionInterceptor.java:105)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopP=
roxy.java:202)
	$Proxy15.getSoftwareTypes(Unknown Source)
	com.kingsoft.softmgr.web.SoftwareController.general(SoftwareController.jav=
a:53)
	com.kingsoft.softmgr.web.SoftwareController$$FastClassByCGLIB$$17a6cdbd.in=
voke(<generated>)
	net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.inv=
okeJoinpoint(Cglib2AopProxy.java:689)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:150)
	org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJA=
fterThrowingAdvice.java:55)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.procee=
d(MethodInvocationProceedingJoinPoint.java:80)
	com.kingsoft.softmgr.aop.cache.MemcachedIntercepter.aroundMethod(Memcached=
Intercepter.java:87)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWi=
thGivenArgs(AbstractAspectJAdvice.java:621)
	org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(A=
bstractAspectJAdvice.java:610)
	org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAd=
vice.java:65)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:161)
	org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Exp=
oseInvocationInterceptor.java:90)
	org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refle=
ctiveMethodInvocation.java:172)
	org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor=
.intercept(Cglib2AopProxy.java:622)
	com.kingsoft.softmgr.web.SoftwareController$$EnhancerByCGLIB$$a0a74ba2.gen=
eral(<generated>)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:=
39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm=
pl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.springframework.web.method.support.InvocableHandlerMethod.invoke(Invoc=
ableHandlerMethod.java:213)
	org.springframework.web.method.support.InvocableHandlerMethod.invokeForReq=
uest(InvocableHandlerMethod.java:126)
	org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHand=
lerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
	org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandle=
rAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
	org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.ha=
ndle(AbstractHandlerMethodAdapter.java:80)
	org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherSer=
vlet.java:923)
	org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServ=
let.java:852)
	org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkS=
ervlet.java:882)
	org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.ja=
va:778)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(Sh=
allowEtagHeaderFilter.java:58)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(Ch=
aracterEncodingFilter.java:88)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReques=
tFilter.java:76)

*note* *The full stack trace of the root cause is available in the Apache
Tomcat/7.0.26 logs.*
------------------------------
Apache Tomcat/7.0.26














On Wed, May 2, 2012 at 3:09 PM, zuxiong lin <linzuxiong1988@gmail.com>wrote=
:

> Actually , I have do it 5 times by different way.
> But Tomcat 7 tells me Exception!
>
>
> In Tomcat 7 , conf/server.xml -> GlobalNamingResources
> <!-- BoneCP datasource -->
>  <Resource acquireIncrement=3D"2" auth=3D"Container"
> driverClass=3D"com.mysql.jdbc.Driver" *
> factory=3D"com.jolbox.bonecp.BoneCPDataSource"* idleMaxAgeInMinutes=3D"60=
0"
> jdbcUrl=3D"jdbc:mysql://
> 10.20.216.18:3306/SoftmgrV3?useUnicode=3Dtrue&amp;characterEncoding=3DUTF=
-8<http://10.20.216.18:3306/SoftmgrV3?useUnicode=3Dtrue&characterEncoding=
=3DUTF-8>"
> lazyInit=3D"false" maxConnectionsPerPartition=3D"100"
> minConnectionsPerPartition=3D"3" name=3D"jdbc/SoftmgrV3" partitionCount=
=3D"2"
> password=3D"root" releaseHelperThreads=3D"2"
> type=3D"com.jolbox.bonecp.BoneCPDataSource" username=3D"root" />
>
> In my Web App:
> META-INF/context.xml :
> <Context>
> <ResourceLink name=3D"jdbc/SoftmgrV3" global=3D"jdbc/SoftmgrV3"
> type=3D"com.jolbox.bonecp.BoneCPDataSource" />
> </Context>
> web-inf/web.xml :
> <resource-ref>
> <description>jndi datasource</description>
>  <res-ref-name>jdbc/SoftmgrV3</res-ref-name>
> <res-type>com.jolbox.bonecp.BoneCPDataSource</res-type>
>  <res-auth>Container</res-auth>
> </resource-ref>
> spring jee:
>  <jee:jndi-lookup id=3D"dataSource" jndi-name=3D"jdbc/SoftmgrV3"
> resource-ref=3D"true" cache=3D"true" lookup-on-startup=3D"true" />
>
> *But Excpeiotn:*
> exception
>
> org.springframework.web.util.NestedServletException: Request processing
> failed; nested exception is
> org.springframework.transaction.CannotCreateTransactionException: Could n=
ot
> open JDBC Connection for transaction; nested exception is
> org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver
> of class '' for connect URL 'null'
>
> org.springframework.web.servlet.FrameworkServlet.processRequest(Framework=
Servlet.java:894)
>
> org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.j=
ava:778)
>  javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
> javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>
> org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(S=
hallowEtagHeaderFilter.java:58)
>
> org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReque=
stFilter.java:76)
>
> org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(C=
haracterEncodingFilter.java:88)
>
> org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerReque=
stFilter.java:76)
> root cause
>
> org.springframework.transaction.CannotCreateTransactionException: Could
> not open JDBC Connection for transaction; nested exception is
> org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver
> of class '' for connect URL 'null'
>
> org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(=
DataSourceTransactionManager.java:240)
>
> org.springframework.transaction.support.AbstractPlatformTransactionManage=
r.getTransaction(AbstractPlatformTransactionManager.java:371)
>
> org.springframework.transaction.interceptor.TransactionAspectSupport.crea=
teTransactionIfNecessary(TransactionAspectSupport.java:335)
>
> org.springframework.transaction.interceptor.TransactionInterceptor.invoke=
(TransactionInterceptor.java:105)
>
> org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refl=
ectiveMethodInvocation.java:172)
>
> org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(Ex=
poseInvocationInterceptor.java:90)
>
> org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(Refl=
ectiveMethodInvocation.java:172)
>
> org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAop=
Proxy.java:202)
>  $Proxy14.getSoftwareTypes(Unknown Source)
>
> com.kingsoft.softmgr.web.SoftwareController.general(SoftwareController.ja=
va:53)
>
> com.kingsoft.softmgr.web.SoftwareController$$FastClassByCGLIB$$17a6cdbd.i=
nvoke(<generated>)
> net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
>
>
>
> Why does it appear .tomcat.dbcp.dbcp,
>  not com.jolbox.bonecp.BoneCPDataSource implements DataSource,
> ObjectFactory ???
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> On Wed, May 2, 2012 at 9:30 AM, 490548661 <490548661@qq.com> wrote:
>
>> see tomcat domcument mybe that will help you
>>
>>
>> ------------------ Original ------------------
>> From: "zuxiong lin";
>> Date: 2012=E5=B9=B45=E6=9C=882=E6=97=A5(=E6=98=9F=E6=9C=9F=E4=B8=89) =E4=
=B8=8A=E5=8D=889:12
>> To: "users";
>> Subject: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
>>
>>
>> Hi, All.
>> Any help ?
>>
>>
>>
>>
>> Thanks?
>>
>
>

--00248c6a673287af4a04bf092dc7--

From users-return-233904-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 08:24:11 2012
Return-Path: <users-return-233904-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3280CC82F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 08:24:11 +0000 (UTC)
Received: (qmail 59687 invoked by uid 500); 2 May 2012 08:24:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59609 invoked by uid 500); 2 May 2012 08:24:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59588 invoked by uid 99); 2 May 2012 08:24:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:24:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:24:01 +0000
Received: by eaaf11 with SMTP id f11so144346eaa.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 01:23:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=rPexWSnTCb4JN8wlnwMbj6Mr5GeqIhPoyHX1I3th81k=;
        b=KTCbtxZuHz8dBjp2KQA72ntt4Odow7qMvViwsU3TMrLNK9fxUA1u8BCqXkGOu8w0lL
         HyCcxWGa9HA49AIKq5LPoH4BNCMGVAOn5DnAplhMB+Msji4W179DReUNEcO01lFEIWqB
         CeuMWajazB7mPDw1AzkzNm7dmDOqezXAMGfdo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=rPexWSnTCb4JN8wlnwMbj6Mr5GeqIhPoyHX1I3th81k=;
        b=YGNRsbCuM3ZdUgQVLJVLzGu4f3FJkUp1Yej6tv+aJoBqfyUgQN2no1oyFdih4wqdhN
         oCSWeNTv/zqXuH/Pc+FD3LhMxeQEp/Ixh7Z1Zuc+bqT798h+E/HYk6aBu+kE7dZpEpgL
         VxL2IqxJUOYHZtOMAv1r2alEVI3TYHL0xsFA4kTwPZJhfigv7mj6CDVB/k2zLpHsrr1W
         jMKFyqzFLzmAJkBD5O9b5DklDmK5PjMe1eXuCaxKB34x/xjVvFeaqu96ZcA8FR12YZzf
         fYdnGzAuC5LL0AHDva6Z0CzS3RE2p/ADd8ddo7BB6BFiM5i92zK8Wl/3emDaFbQM2R9j
         c1HA==
Received: by 10.213.4.8 with SMTP id 8mr2146268ebp.174.1335947018697;
        Wed, 02 May 2012 01:23:38 -0700 (PDT)
Received: from Asura.local (host81-130-102-203.in-addr.btopenworld.com. [81.130.102.203])
        by mx.google.com with ESMTPS id e56sm5390848eea.11.2012.05.02.01.23.36
        (version=SSLv3 cipher=OTHER);
        Wed, 02 May 2012 01:23:37 -0700 (PDT)
Message-ID: <4FA0EF06.2020000@pidster.com>
Date: Wed, 02 May 2012 09:23:34 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP
 ??
References: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>
In-Reply-To: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig2A38D2E4958EE4DAC18E5FB2"
X-Gm-Message-State: ALoCoQmsNTTUU0sbqcz6ukcOttJ25P1CRcgZpm99GlWeRRw8hqLoxSU+V1XpPlONVuiSbp5dZTkM
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig2A38D2E4958EE4DAC18E5FB2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 02/05/2012 02:12, zuxiong lin wrote:
> Hi, All.
> Any help ?
>=20
> Thanks?
>=20

Perhaps you could read the following:

 http://www.catb.org/~esr/faqs/smart-questions.html

and then rephrase your question?


p

--=20

[key:62590808]


--------------enig2A38D2E4958EE4DAC18E5FB2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPoO8JAAoJEGoM2OGpOvr9nIkP/2NdxQcd/w9DSJllkLr2p9AC
3nO8kQmfVJvrg5X4Rnj+ASENLgFM9sp6Plzp2QisJi5OlEcH9Kjd8FoQ/ey22jaR
oXyEkR7i+t0iTI04sNvgwjfAWCMJM5um7tTgwFGvPr3Pm6tsxkbdyBsiwZY6Bq1R
kHHAkMaeLrMzh9ujGj99zCpdY2h6yEdJp5l7fa77ygNY9hhAvkCSQJkUXwWvW8Np
PJ93csSdfO7CJkLnDWI7V+It7+JQn5YPGyEwpr3HLvzN6BOsT4KVtwrbf/ilww8q
jTSRWeXEWV5BVitBVeGPtfbzWQZHBgbTgyF/nIclgGnVnC6jim5dOoDubcG0Tjah
h7aUXkRe1LvyilrQn7DUfYTn1ifC08Y1yW2lfWO+kq7NeR+fcavuallpwu4Bag8S
NMOJdtKJ92gUdGLf7yh1Ai2lOFyzfm2j4t+1ZcS1ALSIAff4CP7eQAWyQZOhhHrf
rhO/4TPcy519rsdm3Yf4/91Je8OczuzE7wRWdB41/w8JRymVDRJ961UJghKRh9U8
f+QEAqUKBF8/GujL8+vLPSjO38L9jGcjqaaiNIFMs+YSucOwWCvVmoi+0Haapgs6
rhYepBxG9xkcV2yUIejkB/VcFFmNSSvK3TYvgeRkJqJCnFSD37r5VqfsuitQxjhP
OrBOjz7XeOfDopV4YqIj
=PE5c
-----END PGP SIGNATURE-----

--------------enig2A38D2E4958EE4DAC18E5FB2--

From users-return-233905-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 08:25:46 2012
Return-Path: <users-return-233905-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B78BCFB5
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 08:25:46 +0000 (UTC)
Received: (qmail 64676 invoked by uid 500); 2 May 2012 08:25:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64500 invoked by uid 500); 2 May 2012 08:25:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64488 invoked by uid 99); 2 May 2012 08:25:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:25:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:25:36 +0000
Received: by eaaf11 with SMTP id f11so145027eaa.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 01:25:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=aM+Xhj0qW1CxScPVIUzOQKLqkETFuRExcGVBVlI38Rs=;
        b=kITfjZLW4GJrwgNsbkZ4hr9cqeS4SOHSBdo2xA0jFMZIT5y4ZaMnPY3nAJObpsN+aI
         I71viUyGhx6YD1kjllUXLMnypCPjlkbbspnAjd79bn+7Y+VZ/WKIWIl2ZroZuQlJj9iZ
         HLC7UAokYBXU7NRwqIY7D82sJhORoYNpJlNtU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=aM+Xhj0qW1CxScPVIUzOQKLqkETFuRExcGVBVlI38Rs=;
        b=YE5cjYGtHB6u/oq4jeen919EH13ZuXpcqpmENgHtAmMPOIBLDMHS06XAcARzXPhLML
         hfZndPNFz7u2hKslh+Yft4uPyurPvXsEF9PVYCJ3Su86lTZ9DCbVsuNuBDN3/gEbehUN
         ml3GXXmh9MEKQ0cf9DFjIRT3c5xAlQDQI7fMS21AHwbYzNx0H/Y9xKkb5MKOf3o3LL89
         CcsQ3/VdaU7QbwwcgBsPV3A2lpTo+TUIrcjW4x4a8r88haVaWTuaqq4nCHKjo9I61NSQ
         xC2vPWnpV8RvIs9WBvyppaOUh8nLTxTwKovKwfBboKZ6wZGSXZ0LPbxxulWWQoIvFSSi
         ms9Q==
Received: by 10.213.102.6 with SMTP id e6mr168343ebo.255.1335947114616;
        Wed, 02 May 2012 01:25:14 -0700 (PDT)
Received: from Asura.local (host81-130-102-203.in-addr.btopenworld.com. [81.130.102.203])
        by mx.google.com with ESMTPS id r44sm5477284eef.2.2012.05.02.01.25.10
        (version=SSLv3 cipher=OTHER);
        Wed, 02 May 2012 01:25:11 -0700 (PDT)
Message-ID: <4FA0EF67.2070801@pidster.com>
Date: Wed, 02 May 2012 09:25:11 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: WebSocket Help
References: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com>
In-Reply-To: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigBB21F246B2A75862CA4829C5"
X-Gm-Message-State: ALoCoQmM/6kWcTzUbAxerhaKhGFdttr6bk++OIt8lVOh1Cvi8wXDph2QlJeSr+bR+3gonCjdXy6N
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigBB21F246B2A75862CA4829C5
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 02/05/2012 00:53, umar farooq wrote:
> Hi All,
>        I am trying to use Chat example of WebSocket given in  Tomcat
> version 7.0.27. Problem I faced are here.
>=20
> 1) After opening the web socket it closes the socket automatically
> after 20 sec. I want connection open until Guest (i.e. user)
> explicitly closes it.
> 2) Second thing is that It broad casts the message to all users but
> what i want is to send message to a specific group of people.
> Is there any method to send message to specific group.?? I checked API
> for WebSocket but there is no method for multicast.
>=20
> Kindly help me I have very short time to implement it.

This was answered when you posted on the dev list.


p


--=20

[key:62590808]


--------------enigBB21F246B2A75862CA4829C5
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPoO9nAAoJEGoM2OGpOvr9StEP/1NAcRmxljfXY/+ZYmR6YEs8
rnYcaBtGzOp81ygvzUsOjLdYoj37z3FWgwgU1UYvFdyYej+l+64qRj5JymrK57Xn
tDW9YRHM5aPUmYnyg9X3wJkXH0cIy5M/5YVwLHQr/AE76t0DUApI4DbxAEAUr+gM
WzxxiEgON26WZvR7BH713SZ2FTdcjVu9ajnXf8QIZYwHaDq4hvSRzfUeqSZH75Og
NSserO9Enkmij6zsBxdDawp4NRtzXbZm0atGA6FihEWfTSrjilOLOAHbHY7lgWmi
BNUSNoFYa06tGUf5bg5Brr0iq/m363nYy5RA5ekNec6BulXJ35eHS1JGTcaT6fRv
q8ws8GzK9iAuJcNaMEVjBrJ9jgzjePgc9S5wTlmRF3xexbYT1cY56AYvrI2Hkmxz
8MF7JSH5As/1oJIyxbdxQH9ofZ3GwtGHQTor+17KslJlUKdsjJqKaKuGokdMG3pG
5aiUnuNAY3c4QHCqb21Y8HFld+iseZ6bkf4h1vSzHPM+uVblN4jcqXOD7PlVqr5X
TC4nAyyU+MBgiFQb+XmWIa2GJcdS2GKcZvMqus3SbN5hm4QbITWlAXeGkAsQPt/Z
PqV4eHB68luQlzRHnjaIqexUMzZ6PScvx0OWiGovjwkCpe5XtWMBOPwEC2WDyWnN
m/Tkn4SX239t1zrOqXp0
=dVpF
-----END PGP SIGNATURE-----

--------------enigBB21F246B2A75862CA4829C5--

From users-return-233906-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 08:34:39 2012
Return-Path: <users-return-233906-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C825954D
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 08:34:38 +0000 (UTC)
Received: (qmail 86655 invoked by uid 500); 2 May 2012 08:34:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86590 invoked by uid 500); 2 May 2012 08:34:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86577 invoked by uid 99); 2 May 2012 08:34:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:34:33 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of umarfarooq125@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gy0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:34:28 +0000
Received: by ghrr14 with SMTP id r14so522000ghr.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 01:34:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Nax7BOh1DziSZkcFeOdCZ2H9C7g0xDhsRpL9lGTkVuI=;
        b=UzRdlUJEgDQKMJrX3JPx8871E+6LEdyAOBG2hTQvAoWuGYY1yAz6qFAQRP/uXBPHya
         BCrn1zZkTJdwnW/thqqIjuWtDx06wAcOXFJv3Bhq9u0ausbf+QOiXr19264BjGG85JDy
         lffad1xMDkR6L4fWtI1z5qVZOiXcJT9Ke/TX+LbGD6qja79qnJ1nBkhaDMyP0xp/MCXs
         keCygs4UJ0z/p9UKZ82GcIe8+cDNDkRSxvpRiUxIAtjHoSDSCxVPYLvp7DRmJoWgNkoV
         EEq6Q6PrTOrVuMPm9vkMiJBkDx59Dz2L0ZaNRkmkBUGNHLKxzkibgyT1pk5Wb5caE4x+
         Kuzg==
MIME-Version: 1.0
Received: by 10.50.194.228 with SMTP id hz4mr3846430igc.35.1335947647620; Wed,
 02 May 2012 01:34:07 -0700 (PDT)
Received: by 10.64.77.109 with HTTP; Wed, 2 May 2012 01:34:07 -0700 (PDT)
In-Reply-To: <4FA0EF67.2070801@pidster.com>
References: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com>
	<4FA0EF67.2070801@pidster.com>
Date: Wed, 2 May 2012 01:34:07 -0700
Message-ID: <CAMRHovtXpA_MP8=bc-3qqat6nZTx4ya29hj0C60h7__pBqpgsg@mail.gmail.com>
Subject: Re: WebSocket Help
From: umar farooq <umarfarooq125@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340691f9962104bf098c97
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340691f9962104bf098c97
Content-Type: text/plain; charset=ISO-8859-1

But the whole question was not answered there. They said that this question
is from user list.
kindly tell me how to increase 20sec timeout and how can we explicitly
close the connection.?
I am in trouble please help me.

On Wed, May 2, 2012 at 1:25 AM, Pid <pid@pidster.com> wrote:

> On 02/05/2012 00:53, umar farooq wrote:
> > Hi All,
> >        I am trying to use Chat example of WebSocket given in  Tomcat
> > version 7.0.27. Problem I faced are here.
> >
> > 1) After opening the web socket it closes the socket automatically
> > after 20 sec. I want connection open until Guest (i.e. user)
> > explicitly closes it.
> > 2) Second thing is that It broad casts the message to all users but
> > what i want is to send message to a specific group of people.
> > Is there any method to send message to specific group.?? I checked API
> > for WebSocket but there is no method for multicast.
> >
> > Kindly help me I have very short time to implement it.
>
> This was answered when you posted on the dev list.
>
>
> p
>
>
> --
>
> [key:62590808]
>
>


-- 
*Regards,
*
*Muhammad Umar Farooq*
*Student **BIT* | SEECS, NUST *
*

--14dae9340691f9962104bf098c97--

From users-return-233907-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 08:35:11 2012
Return-Path: <users-return-233907-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 467009554
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 08:35:11 +0000 (UTC)
Received: (qmail 92316 invoked by uid 500); 2 May 2012 08:35:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92200 invoked by uid 500); 2 May 2012 08:35:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92190 invoked by uid 99); 2 May 2012 08:35:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:35:07 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 08:35:03 +0000
Received: by qaeb19 with SMTP id b19so2342915qae.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 01:34:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=e8Yudet7nMHHsnxH3cgo5xnVl4s+RvSodU49iSqjwSA=;
        b=RYF0XcVgkl7vEUBbanLtJhsUCUuv2Fc6YyFGSgcB/EbD3EUCQ6hAM/ggn6v2FA4Kk/
         3HHXfKxDa4p+TjVHsPOXyjdQnSmaOBTUUp02v88GbhMMQOsYhusJ1Fr+Kl2N1hyee66i
         XSpL3Cej/bFoadOBbOFcyBRGOXbGgMHEurc3uDW/IVI132wkGOrwlQWIKggSItfGmcD8
         SOB0fBv8Ltg1Cw8aUHIjPz9wfShE4CSUJmFJnC+Sb6Sf0RXo+cqzbBW+RCxtMIBe6CJn
         SiQAsvonFG+OTh5hnzh0IbMldg9eAOgS/bpOTus2yILsUwiSQoatVxm66u8AAORRwatS
         hSgw==
MIME-Version: 1.0
Received: by 10.224.220.142 with SMTP id hy14mr23414524qab.71.1335947682427;
 Wed, 02 May 2012 01:34:42 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 01:34:42 -0700 (PDT)
In-Reply-To: <4FA0EF06.2020000@pidster.com>
References: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>
	<4FA0EF06.2020000@pidster.com>
Date: Wed, 2 May 2012 16:34:42 +0800
Message-ID: <CACSA5waZSWAZTb2qOEXSep9ZuH18NBofBUUOnkhXgX=_B88v_w@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3074b6e80cb1fa04bf098f14
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3074b6e80cb1fa04bf098f14
Content-Type: text/plain; charset=ISO-8859-1

See appending mail.

On Wed, May 2, 2012 at 4:23 PM, Pid <pid@pidster.com> wrote:

> On 02/05/2012 02:12, zuxiong lin wrote:
> > Hi, All.
> > Any help ?
> >
> > Thanks?
> >
>
> Perhaps you could read the following:
>
>  http://www.catb.org/~esr/faqs/smart-questions.html
>
> and then rephrase your question?
>
>
> p
>
> --
>
> [key:62590808]
>
>

--20cf3074b6e80cb1fa04bf098f14--

From users-return-233908-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 09:32:33 2012
Return-Path: <users-return-233908-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5510ACFFD
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 09:32:33 +0000 (UTC)
Received: (qmail 35405 invoked by uid 500); 2 May 2012 09:32:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35330 invoked by uid 500); 2 May 2012 09:32:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35310 invoked by uid 99); 2 May 2012 09:32:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 09:32:28 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lbrtchx@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 09:32:22 +0000
Received: by obbwd20 with SMTP id wd20so997109obb.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 02:32:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gIf68V9N/jj2r1icmpX6ySqvFizpl5Pv8aa7Mq5DI08=;
        b=I1x9hlNjSfJewHZhvhTZnhxLUa/Iex3ABiARDaSmImX0i/2pxupcLjjTM0xya9xKzV
         leMkV6DLTnVknf8TEopmMyzxViO0+c9TF7X84YaFbjE4f6zTZv0ZWTRyAwvPg3r92bge
         IQW2+awF4MnaiJyKeuJoEkCaT3fd2RYfWYDrCtClh8Tz1uDl8ZZdXgB5B7X6hqKw9AX+
         1/kGN69Wjb92sId1dR31SRJUwGbHs6ihvU0KTrJ0oQgeKvQuEopfuKwT475cgsfL0aWl
         PCfHfJav+2u90UMEWnfshY/Nm1Ds5zr+WzKYzvrV3+V8abreb/u8NGsE2q2SjUEPN5wV
         QB8w==
MIME-Version: 1.0
Received: by 10.60.1.67 with SMTP id 3mr37717360oek.15.1335951121701; Wed, 02
 May 2012 02:32:01 -0700 (PDT)
Received: by 10.182.70.167 with HTTP; Wed, 2 May 2012 02:32:01 -0700 (PDT)
In-Reply-To: <4F9FF3D5.4060602@christopherschultz.net>
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com>
	<CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com>
	<4F9FF3D5.4060602@christopherschultz.net>
Date: Wed, 2 May 2012 09:32:01 +0000
Message-ID: <CAFakBwiydbKO4BZa4ajKTVFeD0M5ZZJVg0Q4y6dz5mKar4vEcA@mail.gmail.com>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
From: Albretch Mueller <lbrtchx@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

> Any particular reason you are building from source?
~
 I may need to work on the source, for example, TC's log valve. So I
want to make sure that my baseline compiled
~
 Also, why should you have a "particular reason" to build from source? ;-)
~
 lbrtchx

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233909-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 12:16:38 2012
Return-Path: <users-return-233909-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E6EDCAB1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 12:16:37 +0000 (UTC)
Received: (qmail 39902 invoked by uid 500); 2 May 2012 12:16:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39832 invoked by uid 500); 2 May 2012 12:16:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39819 invoked by uid 99); 2 May 2012 12:16:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 12:16:33 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rthirunavukkarasu23@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 12:16:28 +0000
Received: by lbok6 with SMTP id k6so541781lbo.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 05:16:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=60GgZi4KC41dp3ShUvfP8aMd8U0U6LxdpmGEPk+Yeeg=;
        b=U8uG1q5Ru3/F72uA7k/25mxq8Lb+4ZM3sD1+6NBkpscMXnnHBAbsaiyCU5Ufc/0JzL
         01793f1o6NAjeMsLNYDuUTWoCE15hnKbzsDSRfXLW2wzzUjVPi424mMn2ejXleot2lB8
         K4XrW7pUBPlsRtZc4ojPnqFzeI4RZDTuVyUvu6iTUu6jXpmf+dLdH4tMCVT2aLdhYosj
         KEhb0qSVIr8ldE2En2eJOXjKaXQREd4SKFCnlhIvExQYkwPLcGCuA9d7nHDLoqJ7c5Nk
         4GP6hccWwhrHOiAFE+Sgb9RaBmCXSR0VXejSfPODdFu5DACHil5Efx6YudabsRfIcmPL
         yUyg==
MIME-Version: 1.0
Received: by 10.152.130.138 with SMTP id oe10mr1009281lab.5.1335960966689;
 Wed, 02 May 2012 05:16:06 -0700 (PDT)
Received: by 10.112.85.132 with HTTP; Wed, 2 May 2012 05:16:06 -0700 (PDT)
In-Reply-To: <1335800556.85780.YahooMailNeo@web125501.mail.ne1.yahoo.com>
References: <CAMSN5ZYFqZ0aF3fKSatfC3p1mfhiLBEutsJfD0n5vRFx0kZ__w@mail.gmail.com>
	<4F9E5593.8020805@apache.org>
	<CAMSN5Za4cnqw1o8vctOAgTyrd-tnYjpsG_ZxEv-f13RhV9K8OA@mail.gmail.com>
	<1335800556.85780.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Date: Wed, 2 May 2012 17:46:06 +0530
Message-ID: <CAMSN5ZYKV8ma1doVEyb5RzkCvWDmGaR7Q_OOYMrRqy=fwuadHQ@mail.gmail.com>
Subject: Re: SNI (Server Name Indication) supports in Tomcat (7.0.27)
From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, Mark Eggers <its_toasted@yahoo.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Apr 30, 2012 at 9:12 PM, Mark Eggers <its_toasted@yahoo.com> wrote:
> ----- Original Message -----
>
>> From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
>> To: Tomcat Users List <users@tomcat.apache.org>
>> Cc:
>> Sent: Monday, April 30, 2012 4:19 AM
>> Subject: Re: SNI (Server Name Indication) supports in Tomcat (7.0.27)
>>
>>T hanks. I could see all the clarifications there.
>>
>> Reka
>>
>> On Mon, Apr 30, 2012 at 2:34 PM, Mark Thomas <markt@apache.org> wrote:
>>> =C2=A0On 30/04/2012 09:58, Reka Thirunavukkarasu wrote:
>>>> =C2=A0Can you please provide any material
>>>> =C2=A0to got through to support SNI?
>>>
>>> =C2=A0http://tomcat.markmail.org/thread/q6d5czzlgih3r2ys
>>>
>>> =C2=A0Mark
>
>
> Reka,
>
> Another wrinkle, but I've not tried this with Tomcat . . .
>
> You could look at a SAN cert. I'm currently using a SAN cert in Apache HT=
TPD with named virtual hosts and SSL. The configuration check complains, bu=
t that complaint is apparently a bug since the actual feature is supported.
>
> I don't know what the performance impact would be with many hosts. I also=
 don't know how this would work since you let your users choose virtual hos=
t names. The SAN cert would have to be updated for each host name, which mi=
ght also be an issue for you.

Since we are dynamically handling the hosts, SAN is again an issue.
The eventual approach is using wild card for the host names to
overcome the issues with other approaches. Since we are using java 6,
using SNI at the moment is not much stable for us.
>
> . . . . just my two cents.
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

Reka.

--=20
Regards,
Reka
:)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233910-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 12:24:01 2012
Return-Path: <users-return-233910-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1991CCB50
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 12:24:01 +0000 (UTC)
Received: (qmail 62272 invoked by uid 500); 2 May 2012 12:23:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62098 invoked by uid 500); 2 May 2012 12:23:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62084 invoked by uid 99); 2 May 2012 12:23:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 12:23:57 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 12:23:50 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id CD2432846F
	for <users@tomcat.apache.org>; Wed,  2 May 2012 05:23:28 -0700 (PDT)
Received: from zimbra-prod-mta-3.vmware.com (zimbra-prod-mta-3.vmware.com [10.113.160.227])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id C83C8B0239
	for <users@tomcat.apache.org>; Wed,  2 May 2012 05:23:28 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id C37C910862C
	for <users@tomcat.apache.org>; Wed,  2 May 2012 05:23:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-3.vmware.com
Received: from zimbra-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jcjTNf4nhyDF for <users@tomcat.apache.org>;
	Wed,  2 May 2012 05:23:28 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id A842F108621
	for <users@tomcat.apache.org>; Wed,  2 May 2012 05:23:28 -0700 (PDT)
Date: Wed, 2 May 2012 05:23:28 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <25903578.35.1335961406202.JavaMail.daniel@cleveland>
In-Reply-To: <CAMRHovtXpA_MP8=bc-3qqat6nZTx4ya29hj0C60h7__pBqpgsg@mail.gmail.com>
Subject: Re: WebSocket Help
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [24.160.217.1]
X-Mailer: Zimbra 7.1.3_GA_3374 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> But the whole question was not answered there. They said that this
> question
> is from user list.

http://markmail.org/message/v5uztyakaczjxxrr

> kindly tell me how to increase 20sec timeout and how can we
> explicitly
> close the connection.?
> I am in trouble please help me.
> 
> On Wed, May 2, 2012 at 1:25 AM, Pid <pid@pidster.com> wrote:
> 
> > On 02/05/2012 00:53, umar farooq wrote:
> > > Hi All,
> > >        I am trying to use Chat example of WebSocket given in
> > >         Tomcat
> > > version 7.0.27. Problem I faced are here.
> > >
> > > 1) After opening the web socket it closes the socket
> > > automatically
> > > after 20 sec. I want connection open until Guest (i.e. user)
> > > explicitly closes it.
> > > 2) Second thing is that It broad casts the message to all users
> > > but
> > > what i want is to send message to a specific group of people.
> > > Is there any method to send message to specific group.?? I
> > > checked API
> > > for WebSocket but there is no method for multicast.
> > >
> > > Kindly help me I have very short time to implement it.
> >
> > This was answered when you posted on the dev list.
> >
> >
> > p
> >
> >
> > --
> >
> > [key:62590808]
> >
> >
> 
> 
> --
> *Regards,
> *
> *Muhammad Umar Farooq*
> *Student **BIT* | SEECS, NUST *
> *
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233911-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 14:36:33 2012
Return-Path: <users-return-233911-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B291291F1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 14:36:33 +0000 (UTC)
Received: (qmail 30592 invoked by uid 500); 2 May 2012 14:36:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30509 invoked by uid 500); 2 May 2012 14:36:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30500 invoked by uid 99); 2 May 2012 14:36:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:36:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:36:23 +0000
Received: from omta02.westchester.pa.mail.comcast.net ([76.96.62.19])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id 52RB1j0050QuhwU5A2bxkW; Wed, 02 May 2012 14:35:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta02.westchester.pa.mail.comcast.net with comcast
	id 52c31j00638FjT13N2c3ho; Wed, 02 May 2012 14:36:03 +0000
Message-ID: <4FA14653.80009@christopherschultz.net>
Date: Wed, 02 May 2012 10:36:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Javamelody and Struts
References: <4F8B28C6.4040800@yahoo.es> <CAAcgX+2o1UqVwpRETM+yamah3GNGw4+JROr919X+e_gW7pXs+w@mail.gmail.com> <4F8BCA3B.4020902@yahoo.es> <4F8BCC69.20603@yahoo.es> <CBB234E5.2AAB3%darryl.lewis@unsw.edu.au> <4F95B427.9040400@yahoo.es> <4F95B4C9.9010802@christopherschultz.net> <8998_1335633450_4F9C262A_8998_16662_1_4F9C2633.9040109@yahoo.es> <1335646258940-4937283.post@n6.nabble.com> <11314_1335910666_4FA0610A_11314_8391_1_4FA06108.5030507@yahoo.es>
In-Reply-To: <11314_1335910666_4FA0610A_11314_8391_1_4FA06108.5030507@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/1/12 6:17 PM, Miguel Gonzlez Castaos wrote:
> On 28/04/2012 22:50, evernat wrote:
>> Then, there is an issue with Tomcat 5.5, only if you use
>> javamelody v1.36. See
>> http://code.google.com/p/javamelody/issues/detail?id=207 It will
>> be fixed in v1.37 soon.
> 
> That was the issue, we could have started with that :-)

You asked the Tomcat users' group, not the Javamelody users' group:
did you expect to find many Javamelody experts around here?

> Using v1.35 worked great. I'm even using the collector of version
> 1.36 and it works together with the javamelody.jar from v1.35.

Glad to see you got things working.

- -chris

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+hRlMACgkQ9CaO5/Lv0PC1qQCgpOd7OtspjGqz3jEao5fX5FbY
zmUAnR2iWrnh3racxnkPxks0LIiUhfOb
=3Q2H
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233912-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 14:45:27 2012
Return-Path: <users-return-233912-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A6A89242
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 14:45:27 +0000 (UTC)
Received: (qmail 66281 invoked by uid 500); 2 May 2012 14:45:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66222 invoked by uid 500); 2 May 2012 14:45:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66213 invoked by uid 99); 2 May 2012 14:45:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:45:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:45:16 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 52dx1j00B1HzFnQ5F2kvoU; Wed, 02 May 2012 14:44:55 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id 52kv1j01J38FjT13a2kwvG; Wed, 02 May 2012 14:44:56 +0000
Message-ID: <4FA14867.4080302@christopherschultz.net>
Date: Wed, 02 May 2012 10:44:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat deps on ant which deps on junit ... BUILD FAILED
References: <CAFakBwjVkV5cL20wWuLSM13e8keJRHetz9H4Z2EdY+eRe7PaXQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01970AFBF@USEA-EXCH8.na.uis.unisys.com> <CAFakBwhDaO3mzWUWSOo0Wix5kw4F=6j64ekMSFT8U2a3tfN9Kw@mail.gmail.com> <4F9FF3D5.4060602@christopherschultz.net> <CAFakBwiydbKO4BZa4ajKTVFeD0M5ZZJVg0Q4y6dz5mKar4vEcA@mail.gmail.com>
In-Reply-To: <CAFakBwiydbKO4BZa4ajKTVFeD0M5ZZJVg0Q4y6dz5mKar4vEcA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Albrecht,

On 5/2/12 5:32 AM, Albretch Mueller wrote:
>> Any particular reason you are building from source?
> 
> I may need to work on the source, for example, TC's log valve. So I
>  want to make sure that my baseline compiled

Fair enough.

My release-testing script downloads, builds, and tests Tomcat 7 like
this (simplified, since my script is fairly complex):

$ wget ${BASE_URL}/${TOMCAT_SOURCE}
$ tar xzf ${TOMCAT_SOURCE}
$ cd ${TOMCAT_SOURCE_DIR}
$ echo "base.path=/place/to/store/downloads" \
  > "tarball/build.properties"
$ ant download-compile download-test-compile [might not be necessary]
$ ant test

At that point (well, several minutes later), you should have a
completely-tested source tree. Some of the tests may fail if you don't
have tcnative built. I'll leave it as an exercise for the reader to
figure out how to disable those tests (or build tcnative, which isn't
so hard).

If you want to build a deployable Tomcat so you can actually run it
(that is, build something that looks like CATALINA_HOME), you need to do:

$ ant deploy

Actually, "deploy" is the default target, so

$ ant

...should work.

> Also, why should you have a "particular reason" to build from
> source? ;-)

Some people think they must build Tomcat for some reason, even though
we package "binaries" that you can just use.

Happy hacking!

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+hSGcACgkQ9CaO5/Lv0PD90ACeLYgsNcYKqxRQnhkis3cIHOMJ
DekAoI1NqhY7slMaFLy0TbPXey8t7awk
=XHuG
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233913-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 14:49:17 2012
Return-Path: <users-return-233913-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 591C09257
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 14:49:17 +0000 (UTC)
Received: (qmail 80362 invoked by uid 500); 2 May 2012 14:49:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80284 invoked by uid 500); 2 May 2012 14:49:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80245 invoked by uid 99); 2 May 2012 14:49:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:49:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 14:49:06 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id 52jq1j0020xGWP8542ocUK; Wed, 02 May 2012 14:48:36 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id 52ol1j00h38FjT13Y2olrd; Wed, 02 May 2012 14:48:46 +0000
Message-ID: <4FA1494E.3040504@christopherschultz.net>
Date: Wed, 02 May 2012 10:48:46 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP
 ??
References: <tencent_38FCFC194427538300E9DD2E@qq.com> <CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
In-Reply-To: <CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Zuxiong,

On 5/2/12 3:09 AM, zuxiong lin wrote:
> In Tomcat 7 , conf/server.xml -> GlobalNamingResources <!-- BoneCP
> datasource --> <Resource acquireIncrement="2" auth="Container" 
> driverClass="com.mysql.jdbc.Driver" * 
> factory="com.jolbox.bonecp.BoneCPDataSource"*
> idleMaxAgeInMinutes="600" jdbcUrl="jdbc:mysql:// 
> 10.20.216.18:3306/SoftmgrV3?useUnicode=true&amp;characterEncoding=UTF-8"
>
> 
lazyInit="false" maxConnectionsPerPartition="100"
> minConnectionsPerPartition="3" name="jdbc/SoftmgrV3"
> partitionCount="2" password="root" releaseHelperThreads="2" 
> type="com.jolbox.bonecp.BoneCPDataSource" username="root" />

I suspect that "partitionCount" and friends might not work. You might
instead want to set those as attributes in your URL. I don't used a
partitioned MySQL, so I'm really not sure. I would double-check the
documentation for MySQL Connector/J.

> *But Excpeiotn:* exception
> 
> org.springframework.web.util.NestedServletException: Request
> processing failed; nested exception is 
> org.springframework.transaction.CannotCreateTransactionException:
> Could not open JDBC Connection for transaction; nested exception
> is org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create
> JDBC driver of class '' for connect URL 'null'

Where is your mysql-x.y.z.jar file?

Since you are using Tomcat to manage your connection pool, you'll need
to have the JAR files for MySQL Connector/J *and* BoneCP in Tomcat's
lib/ directory and *not* in your webapp's WEB-INF/lib directory.

Hope that helps,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+hSU4ACgkQ9CaO5/Lv0PDbbACeL1pxxn+SI/v10o6Yngxf60yy
OrUAn1DwTz6tZypOUYpUJU+Co7x5t5tU
=phDH
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233914-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 15:00:47 2012
Return-Path: <users-return-233914-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A57E92E8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 15:00:47 +0000 (UTC)
Received: (qmail 15569 invoked by uid 500); 2 May 2012 15:00:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15391 invoked by uid 500); 2 May 2012 15:00:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15382 invoked by uid 99); 2 May 2012 15:00:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 15:00:43 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.183.95] (HELO nm18-vm0.bullet.mail.ukl.yahoo.com) (217.146.183.95)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 May 2012 15:00:35 +0000
Received: from [217.146.183.217] by nm18.bullet.mail.ukl.yahoo.com with NNFMP; 02 May 2012 15:00:14 -0000
Received: from [77.238.184.55] by tm10.bullet.mail.ukl.yahoo.com with NNFMP; 02 May 2012 15:00:14 -0000
Received: from [127.0.0.1] by smtp124.mail.ukl.yahoo.com with NNFMP; 02 May 2012 15:00:14 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1335970814; bh=zU3RLuVHoMGJEEkttIKbMPqqLgko26z+tpCTehPK8QI=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=OtOIJ9ZOXACZxYGm3TcbcF02NJziu+0NAyDHOexRfexwxEXD3q1y0L6Bfq8wCzcitNlo6Wd5ZXTGf1H4AjpNxhvfMJQLh1D8GIJNigprsQ8kwVQcoCQj9EflW22Lv46MV857rBFSfHMax2gHacaKiE7Fv9aRsZYe6lJhg9eEVkQ=
X-Yahoo-Newman-Id: 677622.2547.bm@smtp124.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 06fjMjcVM1nFs9fq3XTpeOWP4n57HkB1wKX5ev3I7b9x8fi
 uCsvdd6lzg5cURfAz26l8cuRmBTVe_FRa73JnQRVdXgMG12b54E9lgPYV4I1
 i.xLSEXeIr978YnqjDj3iSTKUg4R8UDG7u1OpJM32hSJKwygRQYyAcZBpgdQ
 fpALQ31h_oITumqmAb5RtyDD6yZBjg4fD7BRvXxbyYqHdQkR108vH0IRv5dH
 DchtODu3l6iMvIcHznG4dY7WhRrUN0HSNlOlfXojF.9YRma1.9et6nzo606h
 NCjb5DpnyA1lbtbFVoCXXp.eZZlLjKgoOuvcqPZyfjiadvcIQ5c7h6RULJls
 E5WVcJXpPh6zqz4TfkeL48aT44OdaXD2n09QKZO7mDDJbILP6umyK1TBfWhv
 KkwuzdQ--
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.54.50.32 with plain)
        by smtp124.mail.ukl.yahoo.com with SMTP; 02 May 2012 15:00:14 +0000 GMT
Message-ID: <4FA14BFD.4010609@yahoo.es>
Date: Wed, 02 May 2012 17:00:13 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Javamelody and Struts
References: <4F8B28C6.4040800@yahoo.es> <CAAcgX+2o1UqVwpRETM+yamah3GNGw4+JROr919X+e_gW7pXs+w@mail.gmail.com> <4F8BCA3B.4020902@yahoo.es> <4F8BCC69.20603@yahoo.es> <CBB234E5.2AAB3%darryl.lewis@unsw.edu.au> <4F95B427.9040400@yahoo.es> <4F95B4C9.9010802@christopherschultz.net> <8998_1335633450_4F9C262A_8998_16662_1_4F9C2633.9040109@yahoo.es> <1335646258940-4937283.post@n6.nabble.com> <11314_1335910666_4FA0610A_11314_8391_1_4FA06108.5030507@yahoo.es> <4FA14653.80009@christopherschultz.net>
In-Reply-To: <4FA14653.80009@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120502-0, 02/05/2012), Outbound message
X-Antivirus-Status: Clean

> You asked the Tomcat users' group, not the Javamelody users' group:
> did you expect to find many Javamelody experts around here?
The author is around and some other users too, since the recommendation 
of using this software actually came from this user group.

Also in the beginning I thought It was a Tomcat or Struts issue

Sorry if my questions bothered you

Miguel


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233915-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 16:55:23 2012
Return-Path: <users-return-233915-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 694779D54
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 16:55:23 +0000 (UTC)
Received: (qmail 70589 invoked by uid 500); 2 May 2012 16:55:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70522 invoked by uid 500); 2 May 2012 16:55:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70513 invoked by uid 99); 2 May 2012 16:55:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 16:55:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 16:55:13 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id BD12CA840BE7
	for <users@tomcat.apache.org>; Wed,  2 May 2012 10:51:36 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>	<4FA0EF06.2020000@pidster.com> <CACSA5waZSWAZTb2qOEXSep9ZuH18NBofBUUOnkhXgX=_B88v_w@mail.gmail.com>
In-Reply-To: <CACSA5waZSWAZTb2qOEXSep9ZuH18NBofBUUOnkhXgX=_B88v_w@mail.gmail.com>
Subject: RE: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Date: Wed, 2 May 2012 10:54:52 -0600
Message-ID: <028401cd2884$4b960750$e2c215f0$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQI6Ne3t6EWuIS2U4SNIQAoM8NHCZAMo3YJfAoykV62VrvClQA==
Content-Language: en-us

http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html

> -----Original Message-----
> From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> Sent: Wednesday, May 02, 2012 2:35 AM
> To: Tomcat Users List
> Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> BoneCP ??
> 
> See appending mail.
> 
> On Wed, May 2, 2012 at 4:23 PM, Pid <pid@pidster.com> wrote:
> 
> > On 02/05/2012 02:12, zuxiong lin wrote:
> > > Hi, All.
> > > Any help ?
> > >
> > > Thanks?
> > >
> >
> > Perhaps you could read the following:
> >
> >  http://www.catb.org/~esr/faqs/smart-questions.html
> >
> > and then rephrase your question?
> >
> >
> > p
> >
> > --
> >
> > [key:62590808]
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233916-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 17:05:09 2012
Return-Path: <users-return-233916-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0E409DCD
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 17:05:09 +0000 (UTC)
Received: (qmail 99591 invoked by uid 500); 2 May 2012 17:05:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99522 invoked by uid 500); 2 May 2012 17:05:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99513 invoked by uid 99); 2 May 2012 17:05:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 17:05:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 17:04:58 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id E63E9A840BE7
	for <users@tomcat.apache.org>; Wed,  2 May 2012 11:01:22 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CAMRHovuUtjsbyArpe1GxAok_KBeF+k4xv9_Wn4f0G=UeuSzb2g@mail.gmail.com>
In-Reply-To: <CAMRHovuUtjsbyArpe1GxAok_KBeF+k4xv9_Wn4f0G=UeuSzb2g@mail.gmail.com>
Subject: RE: Web Socket Issue
Date: Wed, 2 May 2012 11:04:38 -0600
Message-ID: <028b01cd2885$a8fbad40$faf307c0$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQE0dNLbPdGH3hQ/NM2MLdTBMgkCAJfoIaGA
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

Have the client send a ping message every 10 seconds

> -----Original Message-----
> From: umar farooq [mailto:umarfarooq125@gmail.com]
> Sent: Tuesday, May 01, 2012 6:06 PM
> To: users@tomcat.apache.org
> Subject: Web Socket Issue
> 
> Hi All,
>        I am trying to use Chat example of WebSocket given in  Tomcat
> version
>  7.0.27. Problem I faced are here.
> 
> 1) After opening the web socket it closes the socket automatically after
> 20
> sec. I want connection open until Guest (i.e. user) explicitly closes
> it.
> 2) Second thing is that It broad casts the message to all users but what
> i
> want is to send message to a specific group of people.
> Is there any method to send message to specific group.?? I checked API
> for
> WebSocket but there is no method for multicast.
> 
> Kindly help me I have very short time to implement it.
> 
> Thanks..
> --
> *Regards,
> *
> *Muhammad Umar Farooq*
> *Student **BIT* | SEECS, NUST *
> *


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233917-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 18:45:06 2012
Return-Path: <users-return-233917-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A0279C7FB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 18:45:06 +0000 (UTC)
Received: (qmail 63746 invoked by uid 500); 2 May 2012 18:45:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63567 invoked by uid 500); 2 May 2012 18:45:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63557 invoked by uid 99); 2 May 2012 18:45:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:45:02 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of umarfarooq125@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:44:58 +0000
Received: by pbbro12 with SMTP id ro12so1621400pbb.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 11:44:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=bfxL8bGekeOtGM0Widcu6KcHVwLuWctjGJg2YqWlK0k=;
        b=xDYPn7O57PyQ0EymKb7AHAFIkLZAOpd9t0gnPdIt+N1tT78FfPqU0EuU9MeC1Fr5Ee
         EEOagQ9eNYgEz+X/G+ry1RWwb/Zn5l6y1dV0SLJBBWi/ViHJGQR3+7PBPQZf90TEJi2J
         ph3P5HWTY9OYLI4zX0lUW/VGUlYmnPItcYXYxkWCgzHgQ8jf3BfY/lXkliGTdKmtm9n0
         XYe7cyk2aNeftUmaCzsMM95cpRVC6OPuAiK08AznE4Z8SXSM8WoXNKkw8s87JvmTL4Jq
         S05yk9nO+vT/OyyP+AmDvCh7C0S6ckL2eK73LJqsMBeeSAXEcjVxdZbktQ82VTQf4MsH
         Nl+g==
MIME-Version: 1.0
Received: by 10.50.161.225 with SMTP id xv1mr6028305igb.35.1335984277586; Wed,
 02 May 2012 11:44:37 -0700 (PDT)
Received: by 10.64.77.109 with HTTP; Wed, 2 May 2012 11:44:37 -0700 (PDT)
In-Reply-To: <028b01cd2885$a8fbad40$faf307c0$@hanik.com>
References: <CAMRHovuUtjsbyArpe1GxAok_KBeF+k4xv9_Wn4f0G=UeuSzb2g@mail.gmail.com>
	<028b01cd2885$a8fbad40$faf307c0$@hanik.com>
Date: Wed, 2 May 2012 11:44:37 -0700
Message-ID: <CAMRHovtPyttVgX5acN+7xQVemYVP1oH5PHUoqtiyQfkMfUPzVw@mail.gmail.com>
Subject: Re: Web Socket Issue
From: umar farooq <umarfarooq125@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93412814a80e004bf121412
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae93412814a80e004bf121412
Content-Type: text/plain; charset=ISO-8859-1

But it is not requirement. I want to send ping once to open the socket
after that it should depend on user when he wants to close the connection.
Cannot I explicitly call some method to set timeout forever on client or
server side. Or any other mechanism..??

On Wed, May 2, 2012 at 10:04 AM, Filip Hanik (mailing lists) <
devlists@hanik.com> wrote:

> Have the client send a ping message every 10 seconds
>
> > -----Original Message-----
> > From: umar farooq [mailto:umarfarooq125@gmail.com]
> > Sent: Tuesday, May 01, 2012 6:06 PM
> > To: users@tomcat.apache.org
> > Subject: Web Socket Issue
> >
> > Hi All,
> >        I am trying to use Chat example of WebSocket given in  Tomcat
> > version
> >  7.0.27. Problem I faced are here.
> >
> > 1) After opening the web socket it closes the socket automatically after
> > 20
> > sec. I want connection open until Guest (i.e. user) explicitly closes
> > it.
> > 2) Second thing is that It broad casts the message to all users but what
> > i
> > want is to send message to a specific group of people.
> > Is there any method to send message to specific group.?? I checked API
> > for
> > WebSocket but there is no method for multicast.
> >
> > Kindly help me I have very short time to implement it.
> >
> > Thanks..
> > --
> > *Regards,
> > *
> > *Muhammad Umar Farooq*
> > *Student **BIT* | SEECS, NUST *
> > *
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
*Regards,
*
*Muhammad Umar Farooq*
*Student **BIT* | SEECS, NUST *
*

--14dae93412814a80e004bf121412--

From users-return-233918-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 18:47:11 2012
Return-Path: <users-return-233918-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9CE3C80E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 18:47:11 +0000 (UTC)
Received: (qmail 73744 invoked by uid 500); 2 May 2012 18:47:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73574 invoked by uid 500); 2 May 2012 18:47:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73564 invoked by uid 99); 2 May 2012 18:47:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:47:08 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.133] (HELO smtp133.ord.emailsrvr.com) (173.203.6.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:47:00 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp13.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 8BDE51980A9
	for <users@tomcat.apache.org>; Wed,  2 May 2012 14:46:37 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp13.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 306761980A1
	for <users@tomcat.apache.org>; Wed,  2 May 2012 14:46:36 -0400 (EDT)
Message-ID: <4FA18107.40006@computer.org>
Date: Wed, 02 May 2012 11:46:31 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Tomcat 7 Exception initializing page context; Cannot create a session
 after the response has been committed
Content-Type: multipart/alternative;
 boundary="------------000301070107090902000808"

--------------000301070107090902000808
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

We are running Tomcat 7.0.26 (no httpd front end) with BIO/NIO and SSL 
(entire webapp is in security context) and see this exception 
periodically on our Linux server:

May 2, 2012 3:03:45 AM org.apache.jasper.runtime.JspFactoryImpl 
internalGetPageContext
SEVERE: Exception initializing page context
java.lang.IllegalStateException: Cannot create a session after the 
response has been committed
         at 
org.apache.catalina.connector.Request.doGetSession(Request.java:2855)
         at 
org.apache.catalina.connector.Request.getSession(Request.java:2306)
         at 
org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:897)
         at 
org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:909)
         at 
org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:146)
         at 
org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:125)
         at 
org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:112)
         at 
org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:65)
*at 
org.apache.jsp.playerRegistration2_jsp._jspService(playerRegistration2_jsp.java:72)*
         at 
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
*at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)*
         at 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
         at 
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
         at 
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
*at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)*
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
         at 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
         at 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
         at 
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
         at 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
         at 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
         at 
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
         at 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
         at 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
         at 
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
         at 
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
         at 
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
         at java.lang.Thread.run(Thread.java:662)

That line of code in our JSP's .java file show it to be method 
_jspService's second statement:

       pageContext = _jspxFactory.getPageContext(this, request, response,
                         null, true, 8192, true);

What might cause this?  Curious as to why the 'service' method of 
HttpServlet line 722 is called twice in the call stack.  How could any 
response have been sent out and committed when this seems to be before 
my JSP's main body of code is even executed?  After that line of code, 
about 7 statements down is the code that emits the first HTML line from 
our JSP:

       out.write("<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" 
\"http://www.w3.org/TR/html4/strict.dtd\">\r\n");

And right after that is where my page bean class is instantiated or 
retrieved:

       bean = (org.example.PlayerRegistration2Page) 
_jspx_page_context.getAttribute("bean", 
javax.servlet.jsp.PageContext.REQUEST_SCOPE);
       if (bean == null){
         bean = new org.example.PlayerRegistration2Page();
         _jspx_page_context.setAttribute("bean", bean, 
javax.servlet.jsp.PageContext.REQUEST_SCOPE);
       }

My actual JSP source file top lines looks normal:

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
"http://www.w3.org/TR/html4/strict.dtd">
<%@page contentType="text/html; charset=ISO-8859-1" 
import="org.example.PlayerRegistration2Page"%>
<jsp:useBean id="bean" scope="request" 
class="org.example.PlayerRegistration2Page" />

So this is Tomcat throwing an exception before it even reaches my code.  
What might be the cause since of course the webapp works fine most of 
the time.

Thanks,
David


--------------000301070107090902000808--

From users-return-233919-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 18:51:24 2012
Return-Path: <users-return-233919-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB0C7C839
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 18:51:24 +0000 (UTC)
Received: (qmail 89090 invoked by uid 500); 2 May 2012 18:51:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89029 invoked by uid 500); 2 May 2012 18:51:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89019 invoked by uid 99); 2 May 2012 18:51:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:51:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:51:12 +0000
Received: from [192.168.245.129] (montserrat.wissensbank.com [212.85.37.175])
	by tor.combios.es (Postfix) with ESMTPA id 62CB2DA0695
	for <users@tomcat.apache.org>; Wed,  2 May 2012 20:50:50 +0200 (CEST)
Message-ID: <4FA1820B.2080607@ice-sa.com>
Date: Wed, 02 May 2012 20:50:51 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: WebSocket Help
References: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com> <4FA0EF67.2070801@pidster.com>
In-Reply-To: <4FA0EF67.2070801@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Pid wrote:
> On 02/05/2012 00:53, umar farooq wrote:
>> Hi All,
>>        I am trying to use Chat example of WebSocket given in  Tomcat
>> version 7.0.27. Problem I faced are here.
>>
>> 1) After opening the web socket it closes the socket automatically
>> after 20 sec. I want connection open until Guest (i.e. user)
>> explicitly closes it.
>> 2) Second thing is that It broad casts the message to all users but
>> what i want is to send message to a specific group of people.
>> Is there any method to send message to specific group.?? I checked API
>> for WebSocket but there is no method for multicast.
>>
>> Kindly help me I have very short time to implement it.
> 
> This was answered when you posted on the dev list.
> 
And I am not going to subscribe to the dev list to find out, because I think that I 
already have a pretty good idea of what that answer was...
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233920-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 18:52:25 2012
Return-Path: <users-return-233920-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53AA2C841
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 18:52:25 +0000 (UTC)
Received: (qmail 94312 invoked by uid 500); 2 May 2012 18:52:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94255 invoked by uid 500); 2 May 2012 18:52:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94245 invoked by uid 99); 2 May 2012 18:52:22 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:52:22 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 18:52:21 +0000
Message-ID: <4FA18260.6040003@apache.org>
Date: Wed, 02 May 2012 19:52:16 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: WebSocket Help
References: <CAMRHovudH9dd9Y-BtQyhqV0QoEfRxzJqNVxA0TuW7sVG91RUmg@mail.gmail.com> <4FA0EF67.2070801@pidster.com> <4FA1820B.2080607@ice-sa.com>
In-Reply-To: <4FA1820B.2080607@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

On 02/05/2012 19:50, Andr Warnier wrote:
> Pid wrote:
>> On 02/05/2012 00:53, umar farooq wrote:
>>> Hi All,
>>>        I am trying to use Chat example of WebSocket given in  Tomcat
>>> version 7.0.27. Problem I faced are here.
>>>
>>> 1) After opening the web socket it closes the socket automatically
>>> after 20 sec. I want connection open until Guest (i.e. user)
>>> explicitly closes it.
>>> 2) Second thing is that It broad casts the message to all users but
>>> what i want is to send message to a specific group of people.
>>> Is there any method to send message to specific group.?? I checked API
>>> for WebSocket but there is no method for multicast.
>>>
>>> Kindly help me I have very short time to implement it.
>>
>> This was answered when you posted on the dev list.
>>
> And I am not going to subscribe to the dev list to find out, because I
> think that I already have a pretty good idea of what that answer was...
> :-)

Actually, it was a complete answer because I replied before I realised I
was looking at the dev list.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233921-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 19:19:51 2012
Return-Path: <users-return-233921-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43AAFC965
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 19:19:51 +0000 (UTC)
Received: (qmail 72965 invoked by uid 500); 2 May 2012 19:19:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72905 invoked by uid 500); 2 May 2012 19:19:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72896 invoked by uid 99); 2 May 2012 19:19:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:19:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.133] (HELO smtp133.ord.emailsrvr.com) (173.203.6.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:19:40 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp13.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 052D91980D0
	for <users@tomcat.apache.org>; Wed,  2 May 2012 15:19:18 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp13.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id C58301980C0
	for <users@tomcat.apache.org>; Wed,  2 May 2012 15:19:18 -0400 (EDT)
Message-ID: <4FA188B2.9090002@computer.org>
Date: Wed, 02 May 2012 12:19:14 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Tomcat 7 NIO Socket accept failed - Too many open files
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I am running Tomcat 7.0.26 on Linux we received a lot of the following 
exceptions during load testing:

May 2, 2012 3:04:03 AM org.apache.tomcat.util.net.NioEndpoint$Acceptor run
SEVERE: Socket accept failed
java.io.IOException: Too many open files
         at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
         at 
sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
         at 
org.apache.tomcat.util.net.NioEndpoint$Acceptor.run(NioEndpoint.java:784)
         at java.lang.Thread.run(Thread.java:662)

Is there something I can tune to remove this as a problem?  My NIO+SSL 
connector is configured like this:

<Connector port="8443" 
protocol="org.apache.coyote.http11.Http11NioProtocol" SSLEnabled="true"
                maxThreads="800" scheme="https" secure="true" 
acceptCount="200" connectionTimeout="4000" acceptorThreadCount="2"
                 keystoreFile="keys/tomcatkeys" keystorePass="VALUEREMOVED"
                clientAuth="false" sslProtocol="TLS" />

During the test, we had created about 1,800 concurrent sessions, though 
I think many of those were active because of the exceptions kept the 
user's transaction from completing and when their session would end 
normally.

Thanks,
David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233922-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 19:35:58 2012
Return-Path: <users-return-233922-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1047D9760
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 19:35:58 +0000 (UTC)
Received: (qmail 24164 invoked by uid 500); 2 May 2012 19:35:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24111 invoked by uid 500); 2 May 2012 19:35:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24102 invoked by uid 99); 2 May 2012 19:35:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:35:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.210.43 as permitted sender)
Received: from [209.85.210.43] (HELO mail-pz0-f43.google.com) (209.85.210.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:35:48 +0000
Received: by dajz8 with SMTP id z8so287743daj.16
        for <users@tomcat.apache.org>; Wed, 02 May 2012 12:35:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=HFx4zMbAzkf0uc9Lwep/F9+fOLlegl/XNUNHC+sX2b4=;
        b=EfCK8Mfv+YXAG9h6bGdLtPFFaN11O7DgPXW2DQnJOSioXL9oa6aQId2IY8EbKtE3Xh
         2ChPyO4BMx2dxQH4iUoX7x8HWcbP6zc7wdslOvwEnjephO5FWtjapToyFdTh3ri8v3dV
         hosi13TXPoSwojloADW2biRizQ1fstJXIFw9A=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=HFx4zMbAzkf0uc9Lwep/F9+fOLlegl/XNUNHC+sX2b4=;
        b=KQW90oyzYjn7jvSIQ8/UNGNslPCend3niuCW2J7indKcZX4yR+oEJNS2c5+2DWcPBD
         16mioNEZ5hzncEp0su19rdqWuY/EBcdokqrsJ4pzMUanC1c9kwn/1BCZHE/cmPdoj25D
         BJxRbhHoMYHBsB4fDhPslClVdc6vF2IGrqRa3891MwUz7rzxRpT3Ti7nOOnQj9AEapJy
         BqRq43sb9pv/fRLvFyo9cTngd8iSvN56TiqQxIIPSYtgLinGc7Blv7JPDR9CGaLGi05t
         I2OamiLFCG4ewWgr+qrBkH6sSpLHgCwJK9kca4DNObuYSypA0v2ZBIw8E+3fX8uRSShF
         u5lA==
Received: by 10.68.227.6 with SMTP id rw6mr422711pbc.28.1335987327179; Wed, 02
 May 2012 12:35:27 -0700 (PDT)
References: <4FA188B2.9090002@computer.org>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FA188B2.9090002@computer.org>
Mime-Version: 1.0 (1.0)
Date: Wed, 2 May 2012 20:34:24 +0100
Message-ID: <-5850797534276219247@unknownmsgid>
Subject: Re: Tomcat 7 NIO Socket accept failed - Too many open files
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQluTLK8LTRNrixHAJV+WaILdrL6jEOPO+XBSEM6pJGh99pXnJymqPScPOKfN5kouE1/l15R

On 2 May 2012, at 20:19, David Wall <d.wall@computer.org> wrote:

> I am running Tomcat 7.0.26 on Linux we received a lot of the following exceptions during load testing:
>
> May 2, 2012 3:04:03 AM org.apache.tomcat.util.net.NioEndpoint$Acceptor run
> SEVERE: Socket accept failed
> java.io.IOException: Too many open files
>        at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
>        at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
>        at org.apache.tomcat.util.net.NioEndpoint$Acceptor.run(NioEndpoint.java:784)
>        at java.lang.Thread.run(Thread.java:662)
>
> Is there something I can tune to remove this as a problem?

It's an OS issue: google 'ulimit'.


p


> My NIO+SSL connector is configured like this:
>
> <Connector port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol" SSLEnabled="true"
>               maxThreads="800" scheme="https" secure="true" acceptCount="200" connectionTimeout="4000" acceptorThreadCount="2"
>                keystoreFile="keys/tomcatkeys" keystorePass="VALUEREMOVED"
>               clientAuth="false" sslProtocol="TLS" />
>
> During the test, we had created about 1,800 concurrent sessions, though I think many of those were active because of the exceptions kept the user's transaction from completing and when their session would end normally.
>
> Thanks,
> David
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233923-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 19:47:41 2012
Return-Path: <users-return-233923-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A20A897E6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 19:47:41 +0000 (UTC)
Received: (qmail 62266 invoked by uid 500); 2 May 2012 19:47:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62027 invoked by uid 500); 2 May 2012 19:47:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62017 invoked by uid 99); 2 May 2012 19:47:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:47:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 19:47:32 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id 90F4BA840BE7
	for <users@tomcat.apache.org>; Wed,  2 May 2012 13:43:56 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CAMRHovuUtjsbyArpe1GxAok_KBeF+k4xv9_Wn4f0G=UeuSzb2g@mail.gmail.com>	<028b01cd2885$a8fbad40$faf307c0$@hanik.com> <CAMRHovtPyttVgX5acN+7xQVemYVP1oH5PHUoqtiyQfkMfUPzVw@mail.gmail.com>
In-Reply-To: <CAMRHovtPyttVgX5acN+7xQVemYVP1oH5PHUoqtiyQfkMfUPzVw@mail.gmail.com>
Subject: RE: Web Socket Issue
Date: Wed, 2 May 2012 13:47:12 -0600
Message-ID: <02dd01cd289c$5ee3a980$1caafc80$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQE0dNLbPdGH3hQ/NM2MLdTBMgkCAAJ0DVSVAd3vK3KXxb7d0A==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

While the API call to set timeout is missing (it is present in Tomcat's
Comet implementation) a "forever" setting would not do you any good
Your application has to learn how to deal with disconnects, as they are very
common over WAN.
I expect that a future version will have that call, but it wont completely
solve your problem

Best
Filip

> -----Original Message-----
> From: umar farooq [mailto:umarfarooq125@gmail.com]
> Sent: Wednesday, May 02, 2012 12:45 PM
> To: Tomcat Users List
> Subject: Re: Web Socket Issue
> 
> But it is not requirement. I want to send ping once to open the socket
> after that it should depend on user when he wants to close the
> connection.
> Cannot I explicitly call some method to set timeout forever on client or
> server side. Or any other mechanism..??
> 
> On Wed, May 2, 2012 at 10:04 AM, Filip Hanik (mailing lists) <
> devlists@hanik.com> wrote:
> 
> > Have the client send a ping message every 10 seconds
> >
> > > -----Original Message-----
> > > From: umar farooq [mailto:umarfarooq125@gmail.com]
> > > Sent: Tuesday, May 01, 2012 6:06 PM
> > > To: users@tomcat.apache.org
> > > Subject: Web Socket Issue
> > >
> > > Hi All,
> > >        I am trying to use Chat example of WebSocket given in  Tomcat
> > > version
> > >  7.0.27. Problem I faced are here.
> > >
> > > 1) After opening the web socket it closes the socket automatically
> after
> > > 20
> > > sec. I want connection open until Guest (i.e. user) explicitly
> closes
> > > it.
> > > 2) Second thing is that It broad casts the message to all users but
> what
> > > i
> > > want is to send message to a specific group of people.
> > > Is there any method to send message to specific group.?? I checked
> API
> > > for
> > > WebSocket but there is no method for multicast.
> > >
> > > Kindly help me I have very short time to implement it.
> > >
> > > Thanks..
> > > --
> > > *Regards,
> > > *
> > > *Muhammad Umar Farooq*
> > > *Student **BIT* | SEECS, NUST *
> > > *
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
> 
> 
> --
> *Regards,
> *
> *Muhammad Umar Farooq*
> *Student **BIT* | SEECS, NUST *
> *


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233924-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 20:29:22 2012
Return-Path: <users-return-233924-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 488EFC283
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 20:29:22 +0000 (UTC)
Received: (qmail 70341 invoked by uid 500); 2 May 2012 20:29:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70292 invoked by uid 500); 2 May 2012 20:29:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70281 invoked by uid 99); 2 May 2012 20:29:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:29:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:29:11 +0000
Received: by pbbro12 with SMTP id ro12so1737647pbb.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 13:28:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=r03SY1n9BYJqGZRFR0LJ11XmFn31sbwh0qDYc35Q4xI=;
        b=Kc8Kfwi/ieL2medYcXTFfTxjIcQJJ0QRz/kDUFii3+ef64OQrvLKTYIvTzcC9dcGU7
         eusvfiPCqmqG58pLluF+BfYojZoxa+Rf1s7TVS4aWN6MXLb/NR/NKqvN+MoAZ++n2wR4
         oOV14xMU0Oy+cXczJLEyavtAji1XpMYJT3Bn6wkKRVJuPCT6F7Di4Xf3EgJCVoGk+xMr
         jqUSa8hYo/siy/keX9MqiR/k32RKiQrKAOpmPlGohO2oybyg8juIU40Av1CocS7baLlo
         seuDGULuLSaKuYQu+U4q0rPMxdqC2LlAGpgeDmiVLKtOIwdqqCx7geVJGGCGd70wdQgg
         SYQw==
MIME-Version: 1.0
Received: by 10.68.194.226 with SMTP id hz2mr803046pbc.22.1335990530452; Wed,
 02 May 2012 13:28:50 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Wed, 2 May 2012 13:28:50 -0700 (PDT)
Date: Wed, 2 May 2012 14:28:50 -0600
Message-ID: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
Subject: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7b10cc31fdad8604bf138862

--047d7b10cc31fdad8604bf138862
Content-Type: text/plain; charset=ISO-8859-1

Folks,

I'm trying to use the manager app, so that I can collect performance
metrics on our running Standalone Tomcat setup. The standalone came bundled
with an application - in an effort to provide a completely encapsulated
solution that runs right out of the box.

The problem is I'd like to collect performance data, and know that running
the manager app will provide this information for me.

Is it possible to install the manager app in an install like this?


- Thanks,


Todd

--047d7b10cc31fdad8604bf138862--

From users-return-233925-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 20:47:00 2012
Return-Path: <users-return-233925-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 99B9AC2D4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 20:47:00 +0000 (UTC)
Received: (qmail 18790 invoked by uid 500); 2 May 2012 20:46:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18560 invoked by uid 500); 2 May 2012 20:46:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18550 invoked by uid 99); 2 May 2012 20:46:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:46:57 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:46:49 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-7.tower-37.messagelabs.com!1335991583!16554330!11
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1046 invoked from network); 2 May 2012 20:46:27 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-7.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 2 May 2012 20:46:27 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 2 May 2012 15:46:08 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 2 May
 2012 15:46:07 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 2 May 2012 15:46:07 -0500
Subject: RE: Adding the manager app to a Standalone tomcat install
Thread-Topic: Adding the manager app to a Standalone tomcat install
Thread-Index: Ac0ookK5dOA2h+ArQ42yOpopFu93cQAAZHWw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
In-Reply-To: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]=20
> Subject: Adding the manager app to a Standalone tomcat install

> I'm trying to use the manager app, so that I can collect performance
> metrics on our running Standalone Tomcat setup.

What kind of performance information do you think the manager webapp will g=
ive you?  Have you looked at just enabling the AccessLogValve?  For real pe=
rformance data, you might want to look at these:

http://moskito.anotheria.net/
http://code.google.com/p/psi-probe/

> Is it possible to install the manager app in an install like this?

Sure - get a normal Tomcat download for the same version, and copy the mana=
ger webapp and its associated manager.xml file over to your installation.  =
You'll likely need to update conf/tomcat-users.xml or whatever authenticati=
on mechanism you have employed in order to access the manager.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233926-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 20:48:33 2012
Return-Path: <users-return-233926-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB29EC2E0
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 20:48:33 +0000 (UTC)
Received: (qmail 27383 invoked by uid 500); 2 May 2012 20:48:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27170 invoked by uid 500); 2 May 2012 20:48:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27161 invoked by uid 99); 2 May 2012 20:48:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:48:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:48:23 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp18.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 45D4130095
	for <users@tomcat.apache.org>; Wed,  2 May 2012 16:48:00 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp18.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 01DB130074
	for <users@tomcat.apache.org>; Wed,  2 May 2012 16:47:58 -0400 (EDT)
Message-ID: <4FA19D79.6090502@computer.org>
Date: Wed, 02 May 2012 13:47:53 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 NIO Socket accept failed - Too many open files
References: <4FA188B2.9090002@computer.org> <-5850797534276219247@unknownmsgid>
In-Reply-To: <-5850797534276219247@unknownmsgid>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit



On 5/2/2012 12:34 PM, Pid * wrote:
> It's an OS issue: google 'ulimit'.
>
>
> p

Yes, I am familiar with ulimit -Sn (it's 1024), but I suspect this could 
be a Tomcat issue somehow opening too many files and/or not releasing 
them.  I had never seen this issue before we upgraded from Tomcat 5.5 
(all using BIO) to Tomcat 7.0 (all using NIO).  We run on lots of 
servers, and none have shown this error before (and they are all Linux 
servers all set to 1024 for open files).  But we will give it a try by 
setting to a higher number.

The reason we suspect it's Tomcat is that we're getting other 
exceptions, too, those that indicate our session/request objects are not 
valid when our JSPs are running (and of course work fine when the loads 
are normal, but start to fail when we push lots of concurrent requests 
at Tomcat).

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233927-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 20:57:14 2012
Return-Path: <users-return-233927-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A559C309
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 20:57:14 +0000 (UTC)
Received: (qmail 48737 invoked by uid 500); 2 May 2012 20:57:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48565 invoked by uid 500); 2 May 2012 20:57:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48555 invoked by uid 99); 2 May 2012 20:57:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:57:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 20:57:03 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp18.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 79E20300BC
	for <users@tomcat.apache.org>; Wed,  2 May 2012 16:56:42 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp18.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 358F0300A2
	for <users@tomcat.apache.org>; Wed,  2 May 2012 16:56:41 -0400 (EDT)
Message-ID: <4FA19F85.3000302@computer.org>
Date: Wed, 02 May 2012 13:56:37 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Tomcat 7 - No modifications are allowed to a locked ParameterMap
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

We are running Tomcat 7.0.26 and have not see this except before running 
high load testing.  It's an odd exception in that our getParam() code is 
just calling: String[] pv = request.getParameterValues(name);

That is, we are not making a call that should be attempting to change 
any parameter value/map.  We are just trying to retrieve a parameter 
value using the standard HttpServletRequest given to JSP/servlet code.

May 2, 2012 1:55:03 AM org.apache.catalina.core.ApplicationDispatcher invoke
SEVERE: Servlet.service() for servlet jsp threw exception
java.lang.IllegalStateException: No modifications are allowed to a 
locked ParameterMap
         at org.apache.catalina.util.ParameterMap.put(ParameterMap.java:170)
         at 
org.apache.catalina.connector.Request.getParameterMap(Request.java:1167)
         at 
org.apache.catalina.connector.RequestFacade.getParameterMap(RequestFacade.java:444)
         at 
org.apache.catalina.core.ApplicationHttpRequest.parseParameters(ApplicationHttpRequest.java:755)
         at 
org.apache.catalina.core.ApplicationHttpRequest.getParameterValues(ApplicationHttpRequest.java:416)
         at com.esignforms.html.ServletUtil.getParam(ServletUtil.java:128)
         at com.esignforms.jsp.PageBean.getParam(PageBean.java:2813)
         at 
com.esignforms.jsp.PageBean.getViewOnlyPickupCodeFromRequest(PageBean.java:4131)
         at com.esignforms.jsp.PageBean.init(PageBean.java:277)
         at 
org.apache.jsp.playerRegistration2_jsp._jspService(playerRegistration2_jsp.java:92)
         at 
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
         at 
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
         at 
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
         at 
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
         at 
org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:471)
         at 
org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
         at 
org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
         at com.esignforms.servlet.Launch.doGet(Launch.java:100)
         at com.esignforms.servlet.Launch.doPost(Launch.java:116)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
         at 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
         at 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
         at 
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
         at 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
         at 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
         at 
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
         at 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
         at 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
         at 
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
         at 
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
         at 
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
         at java.lang.Thread.run(Thread.java:662)

It is coming from our Launch servlet at the line where we essentially 
are forwarding the request to a JSP page using: 
request.getRequestDispatcher(url).forward(request, response);

Why would Tomcat be changing the map when I'm just requesting to get a 
value from it?

Thanks,
David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233928-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:19:15 2012
Return-Path: <users-return-233928-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D75BFC3B1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:19:14 +0000 (UTC)
Received: (qmail 15105 invoked by uid 500); 2 May 2012 21:19:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15015 invoked by uid 500); 2 May 2012 21:19:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14931 invoked by uid 99); 2 May 2012 21:19:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:19:11 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.250.179] (HELO mail210.messagelabs.com) (216.82.250.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:19:02 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-210.messagelabs.com!1335993519!6922046!3
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.5; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1518 invoked from network); 2 May 2012 21:18:40 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-4.tower-210.messagelabs.com with RC4-SHA encrypted SMTP; 2 May 2012 21:18:40 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 2 May 2012 16:17:47 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 2 May
 2012 16:17:47 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 2 May 2012 16:17:46 -0500
Subject: RE: Tomcat 7 - No modifications are allowed to a locked ParameterMap
Thread-Topic: Tomcat 7 - No modifications are allowed to a locked
 ParameterMap
Thread-Index: Ac0opimZkU5wQeYGS7SYtjpPeiuUxgAAhouA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
References: <4FA19F85.3000302@computer.org>
In-Reply-To: <4FA19F85.3000302@computer.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: David Wall [mailto:d.wall@computer.org]=20
> Subject: Tomcat 7 - No modifications are allowed to a locked ParameterMap

> May 2, 2012 1:55:03 AM org.apache.catalina.core.ApplicationDispatcher inv=
oke
> SEVERE: Servlet.service() for servlet jsp threw exception
> java.lang.IllegalStateException: No modifications are allowed to a=20
> locked ParameterMap

Both this symptom and your earlier one about creating a session after a res=
ponse has been committed are representative of the kinds of errors seen whe=
n a webapp stores references in an inappropriate scope.  For example, keepi=
ng a reference to a request or response object in a static field, a session=
, or a thread-local, will often result in the wrong object being used later=
 on.  This is especially evident under high-load situations...

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233929-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:27:59 2012
Return-Path: <users-return-233929-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32ACFC513
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:27:59 +0000 (UTC)
Received: (qmail 38819 invoked by uid 500); 2 May 2012 21:27:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38548 invoked by uid 500); 2 May 2012 21:27:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38539 invoked by uid 99); 2 May 2012 21:27:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:27:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:27:49 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp14.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id EC3B1318090
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:27:27 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp14.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id A5478318093
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:27:27 -0400 (EDT)
Message-ID: <4FA1A6BA.1080507@computer.org>
Date: Wed, 02 May 2012 14:27:22 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a session
 after the response has been committed
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Here's another odd exception we are receiving on Tomcat 7.0.26 when 
doing load testing.

When this exception occurs, our code is basically calling: 
response.encodeURL(url);

It's in a FORM tag we created that is defined on a JSP page that should 
already have a session object created by:

<%@page contentType="text/html; charset=ISO-8859-1" 
import="org.example.PlayerRegistration2Page"%>

or more likely by our Launch servlet that is called before forwarding to 
the JSP with code like:

HttpSession session = request.getSession();
if ( session == null )
   return;

So we should already have a session created, and our FORM tag is in the 
middle of the JSP page where there is no code to invalidate the 
session.  It really seems like Tomcat is confusing sessions or the like 
when the load gets high, but not sure how to show/prove that.

May 2, 2012 1:55:48 AM org.apache.catalina.core.ApplicationDispatcher invoke
SEVERE: Servlet.service() for servlet jsp threw exception
java.lang.IllegalStateException: Cannot create a session after the 
response has been committed
         at 
org.apache.catalina.connector.Request.doGetSession(Request.java:2855)
         at 
org.apache.catalina.connector.Request.getSessionInternal(Request.java:2465)
         at 
org.apache.catalina.connector.Response.encodeURL(Response.java:1236)
         at 
org.apache.catalina.connector.ResponseFacade.encodeURL(ResponseFacade.java:406)
         at com.esignforms.jsp.PageBean.encodeSession(PageBean.java:3321)
         at com.esignforms.jsp.PageBean.getMySessionUrl(PageBean.java:3276)
         at com.esignforms.html.taglibs2.Form.doStartTag(Form.java:95)
         at 
org.apache.jsp.playerRegistration2_jsp._jspService(playerRegistration2_jsp.java:230)
         at 
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
         at 
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
         at 
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
         at 
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
         at 
org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:471)
         at 
org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
         at 
org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
         at com.esignforms.servlet.Launch.doGet(Launch.java:100)
         at com.esignforms.servlet.Launch.doPost(Launch.java:116)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
         at 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
         at 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
         at 
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
         at 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
         at 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
         at 
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
         at 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
         at 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
         at 
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
         at 
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
         at 
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
         at 
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
         at java.lang.Thread.run(Thread.java:662)

Has anybody seen this?  We never saw it under Tomcat 5.5, but then we're 
not sure it was ever under the same load we are now throwing at Tomcat 7.

Thanks,
David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233930-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:41:20 2012
Return-Path: <users-return-233930-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7370CC6B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:41:20 +0000 (UTC)
Received: (qmail 77513 invoked by uid 500); 2 May 2012 21:41:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77425 invoked by uid 500); 2 May 2012 21:41:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77416 invoked by uid 99); 2 May 2012 21:41:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:41:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:41:09 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id 9977FA840C09
	for <users@tomcat.apache.org>; Wed,  2 May 2012 15:37:33 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <4FA188B2.9090002@computer.org> <-5850797534276219247@unknownmsgid> <4FA19D79.6090502@computer.org>
In-Reply-To: <4FA19D79.6090502@computer.org>
Subject: RE: Tomcat 7 NIO Socket accept failed - Too many open files
Date: Wed, 2 May 2012 15:40:49 -0600
Message-ID: <032d01cd28ac$3e566df0$bb0349d0$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQII0jfiUZ7pvNDUrH9Tocdd/9vrrAMFc9adAhJn3v+WFvUDUA==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

Ok, lsof -p <pid> (IIRC) should do the trick, it will tell all the =
handles open for that process, and you can deduce where the problem =
stems from

> -----Original Message-----
> From: David Wall [mailto:d.wall@computer.org]
> Sent: Wednesday, May 02, 2012 2:48 PM
> To: users@tomcat.apache.org
> Subject: Re: Tomcat 7 NIO Socket accept failed - Too many open files
>=20
>=20
>=20
> On 5/2/2012 12:34 PM, Pid * wrote:
> > It's an OS issue: google 'ulimit'.
> >
> >
> > p
>=20
> Yes, I am familiar with ulimit -Sn (it's 1024), but I suspect this =
could
> be a Tomcat issue somehow opening too many files and/or not releasing
> them.  I had never seen this issue before we upgraded from Tomcat 5.5
> (all using BIO) to Tomcat 7.0 (all using NIO).  We run on lots of
> servers, and none have shown this error before (and they are all Linux
> servers all set to 1024 for open files).  But we will give it a try by
> setting to a higher number.
>=20
> The reason we suspect it's Tomcat is that we're getting other
> exceptions, too, those that indicate our session/request objects are =
not
> valid when our JSPs are running (and of course work fine when the =
loads
> are normal, but start to fail when we push lots of concurrent requests
> at Tomcat).
>=20
> David
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233931-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:42:42 2012
Return-Path: <users-return-233931-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 94384CC6C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:42:42 +0000 (UTC)
Received: (qmail 82186 invoked by uid 500); 2 May 2012 21:42:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82007 invoked by uid 500); 2 May 2012 21:42:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81994 invoked by uid 99); 2 May 2012 21:42:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:42:39 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:42:28 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-13.tower-201.messagelabs.com!1335994924!5765558!16
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.7; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 7227 invoked from network); 2 May 2012 21:42:07 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-13.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 2 May 2012 21:42:07 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 2 May 2012 16:41:43 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 2 May
 2012 16:41:43 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 2 May 2012 16:41:42 -0500
Subject: RE: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a
 session after the response has been committed
Thread-Topic: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a
 session after the response has been committed
Thread-Index: Ac0oqndiDVaBBpKrTSCMb3i3DHbtxgAAWzgw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01986E685@USEA-EXCH8.na.uis.unisys.com>
References: <4FA1A6BA.1080507@computer.org>
In-Reply-To: <4FA1A6BA.1080507@computer.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: David Wall [mailto:d.wall@computer.org]=20
> Subject: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a sessi=
on after the response has been committed

> It really seems like Tomcat is confusing sessions or the like=20
> when the load gets high, but not sure how to show/prove that.

Look carefully at the code in your webapp(s) for issues like the ones descr=
ibed in an earlier response.

> Has anybody seen this?

Lots of times - and it's _always_ been a problem in a webapp.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233932-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:44:36 2012
Return-Path: <users-return-233932-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1573CCC73
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:44:36 +0000 (UTC)
Received: (qmail 88568 invoked by uid 500); 2 May 2012 21:44:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88438 invoked by uid 500); 2 May 2012 21:44:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88193 invoked by uid 99); 2 May 2012 21:44:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:44:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:44:13 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp14.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id D3EAF318096
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:43:52 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp14.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id A0AC4318090
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:43:52 -0400 (EDT)
Message-ID: <4FA1AA93.9040002@computer.org>
Date: Wed, 02 May 2012 14:43:47 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit



On 5/2/2012 2:17 PM, Caldarale, Charles R wrote:
> Both this symptom and your earlier one about creating a session after a response has been committed are representative of the kinds of errors seen when a webapp stores references in an inappropriate scope.  For example, keeping a reference to a request or response object in a static field, a session, or a thread-local, will often result in the wrong object being used later on.  This is especially evident under high-load situations...
>
>   - Chuck

Thanks, Chuck.  I know you are an expert here.  That could be since it's 
very odd to have all of these different sorts of exceptions occurring on 
what should be standard JSP/servlet code, as if my 
request/response/session objects are messed up.

That being said, our "PageBean" class associated with our JSPs are all 
at the 'request' scope:

<jsp:useBean id="bean" scope="request" 
class="org.example.PlayerRegistration2Page" />

The PageBean holds a reference to the request, response and session 
objects, as defined in the JSP's java code, but we are passing in the 
standard objects our page should be getting from Tomcat:

bean.init(session,request,response);

I am pretty sure we never store the request/response objects in the 
session, static field or thread-local.  So once a response is sent back, 
it seems that our PageBean class should fall out of scope as it was tied 
into the request scope.

We have implemented our own HttpSessionListener so we can track 
sessionCreated and sessionDestroyed events.  So I am saving the session 
objects between the two events which we use to show "all active users" 
including the session start time and last accessed time (which is why we 
store the actual session object).   We started 13,350 sessions during 
the test, with a max of 1800 concurrent sessions.  But we don't seem to 
have trouble keeping track of them because now that the testing is done, 
we can see just the current user sessions listed (in this case, just 
two, both started recently), so all of those sessions eventually ended 
or expired and were then removed from our tracking list.

Is it possible that if we keep a handle on the session (though we remove 
that on sessionDestroyed) this prevents Tomcat from some sort of GC 
issue with respect to the sessions?

Your thoughts on this are much appreciated.

David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233933-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:49:42 2012
Return-Path: <users-return-233933-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BCA7CC91
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:49:42 +0000 (UTC)
Received: (qmail 5957 invoked by uid 500); 2 May 2012 21:49:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5898 invoked by uid 500); 2 May 2012 21:49:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5888 invoked by uid 99); 2 May 2012 21:49:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:49:38 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:49:32 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp14.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id EE28F318096
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:49:11 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp14.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id BD6B3318086
	for <users@tomcat.apache.org>; Wed,  2 May 2012 17:49:11 -0400 (EDT)
Message-ID: <4FA1ABD2.20606@computer.org>
Date: Wed, 02 May 2012 14:49:06 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a session
 after the response has been committed
References: <4FA1A6BA.1080507@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E685@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01986E685@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


On 5/2/2012 2:41 PM, Caldarale, Charles R wrote:
> Look carefully at the code in your webapp(s) for issues like the ones 
> described in an earlier response.
>> Has anybody seen this?
> Lots of times - and it's _always_ been a problem in a webapp.
>
>   - Chuck

I hope my comment about our session tracking may somehow be related, as 
that's a webapp-wide shared list.  I am pretty sure we don't have static 
references to session/request/response, store request/response objects 
in a session, or use thread-locals.  All of our code uses request scope 
operations.

Is there any tool or method I should use to find such a problem?  I 
mean, I can look over the key code areas, but do you know of anything 
that might help me find it?

Thanks again,
David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233934-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 21:51:53 2012
Return-Path: <users-return-233934-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CFEDCCA1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 21:51:53 +0000 (UTC)
Received: (qmail 17326 invoked by uid 500); 2 May 2012 21:51:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17073 invoked by uid 500); 2 May 2012 21:51:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17059 invoked by uid 99); 2 May 2012 21:51:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:51:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 21:51:39 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-6.tower-201.messagelabs.com!1335995474!5764697!20
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.7; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 23766 invoked from network); 2 May 2012 21:51:17 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-6.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 2 May 2012 21:51:17 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 2 May 2012 16:51:11 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 2 May
 2012 16:51:11 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 2 May 2012 16:51:10 -0500
Subject: RE: Tomcat 7 - No modifications are allowed to a locked ParameterMap
Thread-Topic: Tomcat 7 - No modifications are allowed to a locked
 ParameterMap
Thread-Index: Ac0orMVjr0WmDleJSFCoU7M/2p/0ugAAHsBQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01986E6AB@USEA-EXCH8.na.uis.unisys.com>
References: <4FA19F85.3000302@computer.org>
 <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
 <4FA1AA93.9040002@computer.org>
In-Reply-To: <4FA1AA93.9040002@computer.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: David Wall [mailto:d.wall@computer.org]=20
> Subject: Re: Tomcat 7 - No modifications are allowed to a locked Paramete=
rMap

> I am pretty sure we never store the request/response objects in the=20
> session, static field or thread-local.

> What about in your servlets?  Or third-party libraries?

> Is it possible that if we keep a handle on the session (though we=20
> remove that on sessionDestroyed) this prevents Tomcat from some=20
> sort of GC issue with respect to the sessions?

No, it will just increase your heap usage.  Tomcat doesn't do GC - that's a=
 function of the JVM.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233935-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  2 23:36:29 2012
Return-Path: <users-return-233935-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FFE89539
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  2 May 2012 23:36:29 +0000 (UTC)
Received: (qmail 76991 invoked by uid 500); 2 May 2012 23:36:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76920 invoked by uid 500); 2 May 2012 23:36:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76909 invoked by uid 99); 2 May 2012 23:36:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 23:36:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 May 2012 23:36:18 +0000
Received: by qcsc20 with SMTP id c20so1035360qcs.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 16:35:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=Eiq1K4ceAnLRUKM/2XSpBxghiwTVEirzEDT7H4A8Tqw=;
        b=f1Hb4F4zoi9cryUnOgJH8IV0ZlIKpvxOBA7UCPKKPmBQO0h/w/E+xVCC56kPiV7b3T
         fjLQ3WYT0sG5F7k5eOzbRYM+r9X2BLDMfPRVa0Y1tr22/rl8B7mdC39BUIw2JgwRKNjj
         jhVCYmMgU/EGjuoJwSNCt/fZnH87a29WsgkEMmYQL8WL0PwHc25ZlA7p1P5X801zQtNy
         VMIj6KxapVxlUebXyhgDvqxKRGCXmLdn3yDXzlfCC0ezFjcJaYH7uXS05r3tJNRk9k+a
         oNzokEc5Fry2lQDxyAB56+gqDLAzqeFD0c0sGSQWCD06mY0PYHcnSqa3nwcqm8c1hp5c
         JdCQ==
Received: by 10.224.219.144 with SMTP id hu16mr731445qab.97.1336001757376;
        Wed, 02 May 2012 16:35:57 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id i7sm5782464qae.20.2012.05.02.16.35.54
        (version=SSLv3 cipher=OTHER);
        Wed, 02 May 2012 16:35:55 -0700 (PDT)
Message-ID: <4FA1C4DA.3080604@poonam.org>
Date: Thu, 03 May 2012 05:05:54 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com>
In-Reply-To: <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Gm-Message-State: ALoCoQk2Mu5PC+TL/Vmym0OAfryEEHF7C6jTWmeT8fwmyuX8Xj0bTW3PhhLHJbHSW8rhB/UNq77x
X-Virus-Checked: Checked by ClamAV on apache.org

I just want to have one instance of tomcat up and running always 
whenever I start my system exactly the way I have httpd service running 
always.

ok now moving forward, I installed the tomcat 7.0.27 as service,made 
changes to shutdown ports/APR ports etc and now its runing fine as a 
service.I have now 2 tomcats sitting in same apache directory one is 
7.0.11(this runs with netbeans) and another is 7.0.27(this runs as 
windows service).

Now I want to deploy the my app war file to 7.0.27.But for some reasons 
Manager App is not accepting my credentials.Here is what I did,
I copied the tomcat users file of 7.0.11 to 7.0.27 and after copying 
restarted the service again,and tried to give the same credentials which 
are working fine in 7.0.11,but to my surprise,those are not working in 
7.0.27
here is tomcat users file,(Sorry for pasting some commented section in 
below file,but its imp for me not to delete anything for which I dont 
have much information or knowledge).Pls note that his tomcat users file 
works perfect fine in 7.0.11 for user kiran/kiran

<?xml version='1.0' encoding='cp1252'?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<tomcat-users>
<user name="admin" password="kiran" roles="admin-gui,manager-gui" />
<!--
   NOTE:  By default, no user is included in the "manager-gui" role required
   to operate the "/manager/html" web application.  If you wish to use 
this app,
   you must define such a user - the username and password are arbitrary.
-->
<!--
   NOTE:  The sample user and role entries below are wrapped in a comment
   and thus are ignored when reading this file. Do not forget to remove
<!.. ..> that surrounds them.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<tomcat-users>
<!--
   NOTE:  By default, no user is included in the "manager-gui" role required
   to operate the "/manager/html" web application.  If you wish to use 
this app,
   you must define such a user - the username and password are arbitrary.
-->
<!--
   NOTE:  The sample user and role entries below are wrapped in a comment
   and thus are ignored when reading this file. Do not forget to remove
<!.. ..> that surrounds them.
-->
<role rolename="AdminRole"/>
<role rolename="UserRole"/>
<user password="tomcat" roles="tomcat,role1" username="both"/>
<user password="tomcat" roles="UserRole" username="role1"/>
<user password="tomcat" roles="AdminRole,manager-script,admin" 
username="tomcat"/>
<role rolename="manager-gui"/>
<user username="kiran" password="kiran" roles="manager-gui"/>
<role rolename="probeuser" />
<role rolename="poweruser" />
<role rolename="poweruserplus" />
<role rolename="manager" />
<user username="admin" password="t0psecret" roles="manager" />
</tomcat-users>


Any ideas why its not working in 7.0.27 ?

My system is win 7 32 bit home premium with JDK 1.6.32
>> ________________________________
>> From: Andr Warnier<aw@ice-sa.com>
>> To: Tomcat Users List<users@tomcat.apache.org>
>> Sent: Sunday, April 29, 2012 2:18 PM
>> Subject: Re: How to run Tomcat as Service on windows start up.
>
>>> Mark Eggers wrote:
>>> NetBeans will complain that it cannot find the startup.bat and shutdown.bat
>>> required to do these tasks if you install the service.
>> Presumably then, you could replace startup.bat and shutdown.bat
>> by similarly-named .bat files which respectively do
>> net start "Apache Tomcat"
>> and
>> net stop "Apache Tomcat"
>> (to keep it simple)
>>
> I suppose you could. I don't know how intrusive NetBeans' investigation of the scripts are. In Windows Vista and Windows 7, UAC might become a problem. I'm not a Windows person, so I'd have to investigate this.
>
>> Similarly, it should be possible to create .bat files which run the Tomcat 
>> wrapper tomcatX.exe with the appropriate arguments to start, stop, or run 
>> Tomcat in debug mode.
>  From my recollection of the service, don't you have to configure the service for debug using the service configuration program? I'm not sure how you would handle that through NetBeans, since I believe it simply does what start.bat / catalina.bat require (pass the debug argument to catalina.bat).
>
> So, you might need a single startup.bat and shutdown.bat that would determine which service to run, and which service was running . . . .
>
>> No ?
>>
>> (Although, if I understood the OP's request correctly, the point here would
>> be to start Tomcat as a service as soon as Windows starts.  So presumably,
>> the necessity of having a "startup.bat" is not evident anymore).
> It's a little unclear as to what the OP request is. It sounds like the OP has two requirements:
>
> 1. Deal with Tomcat in a development environment using NetBeans
>
> To me this means starting, stopping, debugging, launching with the security manager, etc. That's hard to do when you don't own / completely control the service.
>
> The same problem exists in Linux. People want a system-wide Tomcat but want to use NetBean's deploy and debug facilities. There are all sorts of interesting permissions problems with this.
>
> NetBeans operates by deploying a context.xml file as [app-name].xml in the appropriate Engine/host directory. The application is actually run out of [project-name]/build. This works fine, and you can do a lot of dynamic updates in this fashion.
>
> What happens when the user of the IDE doesn't have access to post a context. xml to the appropriate directory? What happens when Tomcat doesn't have access to read a user's [project-name]/build directory?
>
> So for this use case, it's far easier and cleaner to maintain your own copy of Tomcat that can be registered, managed, and controlled by NetBeans.
>
> 2. Demonstrate works in progress to other developers
>
> Putting aside for the moment that turning development box into a demonstration server may not be a good thing, it's sometimes handy. For this I was recommending a system-wide Tomcat (run as a service). You then just use the manager application to update it with the latest demonstration-ready software.
>
> I think this has a few advantages. You don't show off intermediate (and potentially embarrassing) code. The service is up regardless of whether you're developing or not (OP's original request).
>
>
> . . . . just my two cents.
>
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233936-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 00:01:51 2012
Return-Path: <users-return-233936-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C22DB95D0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 00:01:51 +0000 (UTC)
Received: (qmail 40011 invoked by uid 500); 3 May 2012 00:01:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39966 invoked by uid 500); 3 May 2012 00:01:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39956 invoked by uid 99); 3 May 2012 00:01:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 00:01:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.141] (HELO smtp141.ord.emailsrvr.com) (173.203.6.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 00:01:40 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp10.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id EDDA237009E
	for <users@tomcat.apache.org>; Wed,  2 May 2012 20:01:18 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp10.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id BE090370093
	for <users@tomcat.apache.org>; Wed,  2 May 2012 20:01:17 -0400 (EDT)
Message-ID: <4FA1CAC8.1060703@computer.org>
Date: Wed, 02 May 2012 17:01:12 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit



On 5/2/2012 2:17 PM, Caldarale, Charles R wrote:
> Both this symptom and your earlier one about creating a session after a response has been committed are representative of the kinds of errors seen when a webapp stores references in an inappropriate scope.  For example, keeping a reference to a request or response object in a static field, a session, or a thread-local, will often result in the wrong object being used later on.  This is especially evident under high-load situations...
>
>   - Chuck

Okay, it looks like you put me on the right track. Just discovered that 
one of the servlets uses an instance variable to hold the 
request/response/session objects. Oy, and it was like that since 2008!  
Not positive this will resolve all the issues, but it's a clear bug.  
Thanks for your tip.

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233937-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:00:27 2012
Return-Path: <users-return-233937-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39B1DC197
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:00:27 +0000 (UTC)
Received: (qmail 70230 invoked by uid 500); 3 May 2012 01:00:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69999 invoked by uid 500); 3 May 2012 01:00:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69989 invoked by uid 99); 3 May 2012 01:00:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:00:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,T_FRT_LOLITA1
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:00:17 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 5CrR1j0040xGWP851Czrbb; Thu, 03 May 2012 00:59:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id 5Czw1j00138FjT13YCzwhN; Thu, 03 May 2012 00:59:56 +0000
Message-ID: <4FA1D88B.3020609@christopherschultz.net>
Date: Wed, 02 May 2012 20:59:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org>
In-Reply-To: <4FA18107.40006@computer.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 5/2/12 2:46 PM, David Wall wrote:
> We are running Tomcat 7.0.26 (no httpd front end) with BIO/NIO and
> SSL (entire webapp is in security context) and see this exception 
> periodically on our Linux server:
> 
> May 2, 2012 3:03:45 AM org.apache.jasper.runtime.JspFactoryImpl 
> internalGetPageContext SEVERE: Exception initializing page context 
> java.lang.IllegalStateException: Cannot create a session after the 
> response has been committed

Seems straightforward enough.

> That line of code in our JSP's .java file show it to be method 
> _jspService's second statement:
> 
> pageContext = _jspxFactory.getPageContext(this, request, response, 
> null, true, 8192, true);
> 
> What might cause this?

Producing enough data to cause a buffer-flush to the client, then
trying to create a session (and therefore a JSESSIONID cookie and
associated response header).

> Curious as to why the 'service' method of HttpServlet line 722 is
> called twice in the call stack.

JspServlet is a servlet. Your JSP is compiled into a servlet. One
calls the other. Boom.

> How could any response have been sent out and committed when this 
> seems to be before my JSP's main body of code is even executed?

I too would have expected a forward() or include() in the call stack
somewhere, but something must be generating the content. Or, you have
a tiny tiny response buffer. Or your JSP is flushing the buffer
explicitly or something like that.

> So this is Tomcat throwing an exception before it even reaches my
> code. What might be the cause since of course the webapp works fine
> most of the time.

Unfortunately, this is going to require a bunch of research on your
part to find out what is happening. If you are buffering in a web
server (httpd) or something like that then you may be able to log
state on both sides when these errors occur: httpd can tell you how
many bytes were sent back (or maybe even capture the entire response
if it's small enough) and log it to a file, while your webapp will
obviously be able to catch the exception and log it however you wish.

I would start by catching that exception in a Filter and logging
everything you can about the request and response at that time. Then
wait for it to happen again and see what you can learn. Don't be shy
about dumping absolutely everything to the log when you see that
exception. Just be sure it's the right exception or you might end up
with way too much log output for other mundane exceptions.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+h2IsACgkQ9CaO5/Lv0PCSjgCgun2oTLTpTXqDu2CgROjOzykA
PToAnjLZ/LRs1LpMQGU1PR/UDRHFRzpG
=A/Eu
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233938-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:08:15 2012
Return-Path: <users-return-233938-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96353C1BA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:08:15 +0000 (UTC)
Received: (qmail 88509 invoked by uid 500); 3 May 2012 01:08:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88419 invoked by uid 500); 3 May 2012 01:08:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88359 invoked by uid 99); 3 May 2012 01:08:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:08:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:08:03 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id 5C0y1j01S1ap0As54D7Yhv; Thu, 03 May 2012 01:07:32 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id 5D7k1j00738FjT13iD7kCH; Thu, 03 May 2012 01:07:44 +0000
Message-ID: <4FA1DA5E.2050503@christopherschultz.net>
Date: Wed, 02 May 2012 21:07:42 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org>
In-Reply-To: <4FA1CAC8.1060703@computer.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 5/2/12 8:01 PM, David Wall wrote:
> 
> 
> On 5/2/2012 2:17 PM, Caldarale, Charles R wrote:
>> Both this symptom and your earlier one about creating a session
>> after a response has been committed are representative of the
>> kinds of errors seen when a webapp stores references in an
>> inappropriate scope.  For example, keeping a reference to a
>> request or response object in a static field, a session, or a
>> thread-local, will often result in the wrong object being used
>> later on.  This is especially evident under high-load
>> situations...
>> 
>> - Chuck
> 
> Okay, it looks like you put me on the right track. Just discovered
> that one of the servlets uses an instance variable to hold the 
> request/response/session objects. Oy, and it was like that since
> 2008! Not positive this will resolve all the issues, but it's a
> clear bug. Thanks for your tip.

Here's another tip: run "findbugs" against your code. It will complain
about "class members in a Servlet" along with a zillion other things
that you might find will improve your code significantly.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+h2l4ACgkQ9CaO5/Lv0PBInwCePnYfQa0OHY+ZDFUJ1TqND3u0
Kn4AnRoxciJNHVQVNsb71oojwB5qeRc/
=cQfN
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233939-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:08:32 2012
Return-Path: <users-return-233939-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFE8AC1BC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:08:32 +0000 (UTC)
Received: (qmail 93605 invoked by uid 500); 3 May 2012 01:08:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93526 invoked by uid 500); 3 May 2012 01:08:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93517 invoked by uid 99); 3 May 2012 01:08:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:08:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:08:21 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 5Acz1j00J27AodY51D7wkj; Thu, 03 May 2012 01:07:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id 5D801j00L38FjT13fD813b; Thu, 03 May 2012 01:08:01 +0000
Message-ID: <4FA1DA6F.8050502@christopherschultz.net>
Date: Wed, 02 May 2012 21:07:59 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 NIO Socket accept failed - Too many open files
References: <4FA188B2.9090002@computer.org> <-5850797534276219247@unknownmsgid> <4FA19D79.6090502@computer.org> <032d01cd28ac$3e566df0$bb0349d0$@hanik.com>
In-Reply-To: <032d01cd28ac$3e566df0$bb0349d0$@hanik.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Filip,

On 5/2/12 5:40 PM, Filip Hanik (mailing lists) wrote:
> Ok, lsof -p <pid> (IIRC) should do the trick, it will tell all the 
> handles open for that process, and you can deduce where the
> problem stems from

+1

If you have maxThreads="800" then you're already most of the way to
1024 without even counting things like stdin/stdout/stderr, all the
files the JVM keeps open for various reasons, etc.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+h2m8ACgkQ9CaO5/Lv0PCTPwCgjU5NTNUXj8yWofJVsU9jQsMF
7dYAniD0ZHtfCHa4GPQqLy7Z0JPZzzPJ
=+3m8
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233940-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:13:53 2012
Return-Path: <users-return-233940-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3419C1C9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:13:52 +0000 (UTC)
Received: (qmail 5949 invoked by uid 500); 3 May 2012 01:13:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5788 invoked by uid 500); 3 May 2012 01:13:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5779 invoked by uid 99); 3 May 2012 01:13:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:13:49 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.41 as permitted sender)
Received: from [209.85.216.41] (HELO mail-qa0-f41.google.com) (209.85.216.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:13:43 +0000
Received: by qabg27 with SMTP id g27so3690332qab.0
        for <users@tomcat.apache.org>; Wed, 02 May 2012 18:13:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Vq3Y0WFggahQ6fVOCE3xS6XuNZ6EhPbAasi0xFkDOS0=;
        b=IvEMWuf2iCRwyIOd+jzVE8V9tf15p5gXbNoRIevhTmBbqE2z7TVX/73IdU3PmSHFDI
         SHyG9oaX43JWcMXtMpirEiw3jzgsFbPjRsbcOylXsf6/MG4yECfZjdzHNlqdHXXjAH55
         J0Pw+zScVs0A2qQgxhS+yz8nrJl1dKMDVMPn57SBYcbokzG8yximEVUBeLxcuYcvjBCk
         wUiiWyFjcDtzW/7+asJoTaoB3+onb73AJDCteXKYS9RA5nIIIRxVk9ThEPrbN9xkUwAG
         xfl0fmzeJ5AEj6H/DRCXqWyZkHLG3svsxGv/7ODrasGJ24UIwjXplaNilRVsaTnXQhqw
         GS3A==
MIME-Version: 1.0
Received: by 10.229.105.224 with SMTP id u32mr116951qco.41.1336007602487; Wed,
 02 May 2012 18:13:22 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 18:13:22 -0700 (PDT)
In-Reply-To: <4FA1494E.3040504@christopherschultz.net>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
	<4FA1494E.3040504@christopherschultz.net>
Date: Thu, 3 May 2012 09:13:22 +0800
Message-ID: <CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00235429cd4090436804bf17829f

--00235429cd4090436804bf17829f
Content-Type: text/plain; charset=ISO-8859-1

When I use BoneCP in per-web-app,  it is OK with  partitionCount .
"partitionCount " is a property of BoneCP.
 MySQL Connector/J  5.1.19,  I put it into both Tomcat's
lib/ directory and my webapp's WEB-INF/lib directory . (I can have a try. I
think it doesnot work :
> you'll need to have the JAR files for MySQL Connector/J *and* BoneCP in
Tomcat's
> lib/ directory and *not* in your webapp's WEB-INF/lib directory. )


On Wed, May 2, 2012 at 10:48 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Zuxiong,
>
> On 5/2/12 3:09 AM, zuxiong lin wrote:
> > In Tomcat 7 , conf/server.xml -> GlobalNamingResources <!-- BoneCP
> > datasource --> <Resource acquireIncrement="2" auth="Container"
> > driverClass="com.mysql.jdbc.Driver" *
> > factory="com.jolbox.bonecp.BoneCPDataSource"*
> > idleMaxAgeInMinutes="600" jdbcUrl="jdbc:mysql://
> > 10.20.216.18:3306/SoftmgrV3?useUnicode=true&amp;characterEncoding=UTF-8"
> >
> >
> lazyInit="false" maxConnectionsPerPartition="100"
> > minConnectionsPerPartition="3" name="jdbc/SoftmgrV3"
> > partitionCount="2" password="root" releaseHelperThreads="2"
> > type="com.jolbox.bonecp.BoneCPDataSource" username="root" />
>
> I suspect that "partitionCount" and friends might not work. You might
> instead want to set those as attributes in your URL. I don't used a
> partitioned MySQL, so I'm really not sure. I would double-check the
> documentation for MySQL Connector/J.
>
> > *But Excpeiotn:* exception
> >
> > org.springframework.web.util.NestedServletException: Request
> > processing failed; nested exception is
> > org.springframework.transaction.CannotCreateTransactionException:
> > Could not open JDBC Connection for transaction; nested exception
> > is org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create
> > JDBC driver of class '' for connect URL 'null'
>
> Where is your mysql-x.y.z.jar file?
>
> Since you are using Tomcat to manage your connection pool, you'll need
> to have the JAR files for MySQL Connector/J *and* BoneCP in Tomcat's
> lib/ directory and *not* in your webapp's WEB-INF/lib directory.
>
> Hope that helps,
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+hSU4ACgkQ9CaO5/Lv0PDbbACeL1pxxn+SI/v10o6Yngxf60yy
> OrUAn1DwTz6tZypOUYpUJU+Co7x5t5tU
> =phDH
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00235429cd4090436804bf17829f--

From users-return-233941-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:14:31 2012
Return-Path: <users-return-233941-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9BCBC1D8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:14:31 +0000 (UTC)
Received: (qmail 11380 invoked by uid 500); 3 May 2012 01:14:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11315 invoked by uid 500); 3 May 2012 01:14:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11305 invoked by uid 99); 3 May 2012 01:14:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:14:28 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qa0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:14:22 +0000
Received: by qady23 with SMTP id y23so1103238qad.0
        for <users@tomcat.apache.org>; Wed, 02 May 2012 18:14:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DygZHurVN+xEgMgfPDuZqhvVLD7MPK7UNbsZ1uKsDE4=;
        b=QHZR2zQ0y2cgi9rcGFtncMsq7uaO0zzBjNS3BopAWRYybV4Unezb0dF5RCL1FaZQdS
         aHGwWCg8EX8Hbb2SZInvBmniRaSeZQr0DH5BS8g+xgLKFPkQ0kFc+Prg3X+0ZQCPL09W
         z6SwOCDob3j4q+wtvhN0vm/IuARhER9ey95jTcYF5VFKcamMA7HrmZkCkaq5nGnCCj2K
         ip7BW0WPAyCv+fP/2CchzEdYOC/S0efVR612WalrEPWQIGktm6DV9XigzzPEmee3r2zA
         +w8Cqg9fxYzDZKJ0iz1zwLBAELciKY5226UzBhCFDm5Dee8IcAl+6y01PTGtlOI4ka4x
         SQ1g==
MIME-Version: 1.0
Received: by 10.224.117.77 with SMTP id p13mr858469qaq.71.1336007641966; Wed,
 02 May 2012 18:14:01 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 18:14:01 -0700 (PDT)
In-Reply-To: <028401cd2884$4b960750$e2c215f0$@hanik.com>
References: <CACSA5wZMajCGNn2MPyXuShDOmQPueBRV3-F6FBnpgvw7cDa4Sw@mail.gmail.com>
	<4FA0EF06.2020000@pidster.com>
	<CACSA5waZSWAZTb2qOEXSep9ZuH18NBofBUUOnkhXgX=_B88v_w@mail.gmail.com>
	<028401cd2884$4b960750$e2c215f0$@hanik.com>
Date: Thu, 3 May 2012 09:14:01 +0800
Message-ID: <CACSA5wZG378K6+qUgBMYvb=Jr6_d8tjR0MTXEjsi4UDQkQgmQw@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3074b264eaa78704bf1784a3

--20cf3074b264eaa78704bf1784a3
Content-Type: text/plain; charset=ISO-8859-1

I have a try , but it does work.

On Thu, May 3, 2012 at 12:54 AM, Filip Hanik (mailing lists) <
devlists@hanik.com> wrote:

> http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html
>
> > -----Original Message-----
> > From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> > Sent: Wednesday, May 02, 2012 2:35 AM
> > To: Tomcat Users List
> > Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> > BoneCP ??
> >
> > See appending mail.
> >
> > On Wed, May 2, 2012 at 4:23 PM, Pid <pid@pidster.com> wrote:
> >
> > > On 02/05/2012 02:12, zuxiong lin wrote:
> > > > Hi, All.
> > > > Any help ?
> > > >
> > > > Thanks?
> > > >
> > >
> > > Perhaps you could read the following:
> > >
> > >  http://www.catb.org/~esr/faqs/smart-questions.html
> > >
> > > and then rephrase your question?
> > >
> > >
> > > p
> > >
> > > --
> > >
> > > [key:62590808]
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf3074b264eaa78704bf1784a3--

From users-return-233942-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:19:44 2012
Return-Path: <users-return-233942-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A170C1EB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:19:44 +0000 (UTC)
Received: (qmail 24505 invoked by uid 500); 3 May 2012 01:19:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24330 invoked by uid 500); 3 May 2012 01:19:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24321 invoked by uid 99); 3 May 2012 01:19:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:19:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:19:33 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 4zkQ1j0051ei1Bg5FDKCFg; Thu, 03 May 2012 01:19:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id 5DKD1j02D38FjT13kDKEVt; Thu, 03 May 2012 01:19:14 +0000
Message-ID: <4FA1DD0F.5070607@christopherschultz.net>
Date: Wed, 02 May 2012 21:19:11 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP
 ??
References: <tencent_38FCFC194427538300E9DD2E@qq.com> <CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com> <4FA1494E.3040504@christopherschultz.net> <CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
In-Reply-To: <CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Zuxiong,

On 5/2/12 9:13 PM, zuxiong lin wrote:
> When I use BoneCP in per-web-app,  it is OK with  partitionCount . 
> "partitionCount " is a property of BoneCP.

Okay, that's fine then.

> MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/ 
> directory and my webapp's WEB-INF/lib directory.

Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
Also remove the JAR for BoneCP.

> I can have a try. I think it doesnot work :

Did you try it or not?

>> you'll need to have the JAR files for MySQL Connector/J *and* 
>> BoneCP in Tomcat's lib/ directory and *not* in your webapp's 
>> WEB-INF/lib directory.

I thought it was clear: Tomcat needs these libraries. Your webapp does
not. If you put those .jar files into WEB-INF/lib, things will ber
seriously confused.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
=k9mT
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233943-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 01:36:14 2012
Return-Path: <users-return-233943-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ABBA8CAA0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 01:36:14 +0000 (UTC)
Received: (qmail 70298 invoked by uid 500); 3 May 2012 01:36:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70225 invoked by uid 500); 3 May 2012 01:36:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70216 invoked by uid 99); 3 May 2012 01:36:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:36:11 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 01:36:07 +0000
Received: by qcsc20 with SMTP id c20so1079574qcs.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 18:35:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Isv6A70GANLoGdsM5T+CjJOVPx9dCAd6ubAfP+nZpKk=;
        b=QsvNv/Ks+lhTaj1iRt3bt5lLLveoKlKDmH1r6TLat7tqmJFgKdyyUDMN4nV81pckKY
         T3kbycVkfzMMlMrci1z1iCTNw8ToneaRfOvA+QeuzjXmjt4ze1eqOPjSoah31vSoW+nG
         /SBRSK1e3/yLkGTKI5fVmcgzX6o+X5Uc+AqAqyLYoPdyJfodz7Uykr9RoUZ4bpmUGl7J
         1I6YWn3JuAtvujOJ8f0JTWcEILQ4DQvxK/Sdq/SXGSaLbDhgif3Ieiyh8W08OxKwtNyl
         Bp4WWc2BvTFWUwPcIcZBDAi8VHEkP/pNveGTG4qOK4h4SP84dLsyrYaO4o47P5Snn50P
         EboA==
MIME-Version: 1.0
Received: by 10.229.106.151 with SMTP id x23mr144930qco.14.1336008946333; Wed,
 02 May 2012 18:35:46 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 18:35:46 -0700 (PDT)
In-Reply-To: <4FA1DD0F.5070607@christopherschultz.net>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
	<4FA1494E.3040504@christopherschultz.net>
	<CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
	<4FA1DD0F.5070607@christopherschultz.net>
Date: Thu, 3 May 2012 09:35:46 +0800
Message-ID: <CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=002354471980a9b79304bf17d2cc
X-Virus-Checked: Checked by ClamAV on apache.org

--002354471980a9b79304bf17d2cc
Content-Type: text/plain; charset=ISO-8859-1

> Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> Also remove the JAR for BoneCP.

I donot have a try now. This morning I received your mail ,UTC+8.
Before I sent my mail for help , I just put the jar in both Tomcat/lib dir
and webapp/WEB-INF/lib.
And I found I am very confused in Tomcat-> <Reasource *factory*="" /> ...
It seems that facotry doesnot work well.

I found com.jolbox.bonecp.BoneCPDataSource have properties
: driverClassName in javax.naming.spi.ObjectFactory#getObjectInstance
and driverClass .



Thanks!


On Thu, May 3, 2012 at 9:19 AM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Zuxiong,
>
> On 5/2/12 9:13 PM, zuxiong lin wrote:
> > When I use BoneCP in per-web-app,  it is OK with  partitionCount .
> > "partitionCount " is a property of BoneCP.
>
> Okay, that's fine then.
>
> > MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/
> > directory and my webapp's WEB-INF/lib directory.
>
> Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> Also remove the JAR for BoneCP.
>
> > I can have a try. I think it doesnot work :
>
> Did you try it or not?
>
> >> you'll need to have the JAR files for MySQL Connector/J *and*
> >> BoneCP in Tomcat's lib/ directory and *not* in your webapp's
> >> WEB-INF/lib directory.
>
> I thought it was clear: Tomcat needs these libraries. Your webapp does
> not. If you put those .jar files into WEB-INF/lib, things will ber
> seriously confused.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
> CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
> =k9mT
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--002354471980a9b79304bf17d2cc--

From users-return-233944-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 02:30:41 2012
Return-Path: <users-return-233944-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 92F5F99BF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 02:30:41 +0000 (UTC)
Received: (qmail 89200 invoked by uid 500); 3 May 2012 02:30:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89124 invoked by uid 500); 3 May 2012 02:30:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89114 invoked by uid 99); 3 May 2012 02:30:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:30:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:30:31 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id F1E42A840C0E
	for <users@tomcat.apache.org>; Wed,  2 May 2012 20:26:54 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>	<4FA1494E.3040504@christopherschultz.net>	<CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>	<4FA1DD0F.5070607@christopherschultz.net> <CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>
In-Reply-To: <CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>
Subject: RE: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Date: Wed, 2 May 2012 20:30:11 -0600
Message-ID: <03a701cd28d4$ab0483b0$010d8b10$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQG/1TqLI2N2xRTfKRN6/23Dba/wrwGnu3TvAoR47rABzjR1SwFBkqrGAuow0gCWgM1bYA==
Content-Language: en-us

BoneCP doesn't have a JNDI factory AFAICT, and it's also missing a lot of
critical features, like validation etc

Filip 

> -----Original Message-----
> From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> Sent: Wednesday, May 02, 2012 7:36 PM
> To: Tomcat Users List
> Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> BoneCP ??
> 
> > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> > Also remove the JAR for BoneCP.
> 
> I donot have a try now. This morning I received your mail ,UTC+8.
> Before I sent my mail for help , I just put the jar in both Tomcat/lib
> dir
> and webapp/WEB-INF/lib.
> And I found I am very confused in Tomcat-> <Reasource *factory*="" />
> ...
> It seems that facotry doesnot work well.
> 
> I found com.jolbox.bonecp.BoneCPDataSource have properties
> : driverClassName in javax.naming.spi.ObjectFactory#getObjectInstance
> and driverClass .
> 
> 
> 
> Thanks!
> 
> 
> On Thu, May 3, 2012 at 9:19 AM, Christopher Schultz <
> chris@christopherschultz.net> wrote:
> 
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Zuxiong,
> >
> > On 5/2/12 9:13 PM, zuxiong lin wrote:
> > > When I use BoneCP in per-web-app,  it is OK with  partitionCount .
> > > "partitionCount " is a property of BoneCP.
> >
> > Okay, that's fine then.
> >
> > > MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/
> > > directory and my webapp's WEB-INF/lib directory.
> >
> > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> > Also remove the JAR for BoneCP.
> >
> > > I can have a try. I think it doesnot work :
> >
> > Did you try it or not?
> >
> > >> you'll need to have the JAR files for MySQL Connector/J *and*
> > >> BoneCP in Tomcat's lib/ directory and *not* in your webapp's
> > >> WEB-INF/lib directory.
> >
> > I thought it was clear: Tomcat needs these libraries. Your webapp does
> > not. If you put those .jar files into WEB-INF/lib, things will ber
> > seriously confused.
> >
> > - -chris
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> >
> > iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
> > CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
> > =k9mT
> > -----END PGP SIGNATURE-----
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233945-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 02:40:40 2012
Return-Path: <users-return-233945-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8AE1199EE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 02:40:40 +0000 (UTC)
Received: (qmail 10750 invoked by uid 500); 3 May 2012 02:40:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10586 invoked by uid 500); 3 May 2012 02:40:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10554 invoked by uid 99); 3 May 2012 02:40:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:40:35 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:40:31 +0000
Received: by qcsc20 with SMTP id c20so1104688qcs.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 19:40:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FTyOtpJFBElPRd/OpKxCkK7eMP71PCgZhtjIG3AWn4s=;
        b=qWJrLAIi2wWGW6nADQ8H2834VDU4u8CUhm9vh98L2MS1/OHp+4Zjc6qcaZCteDLiTN
         xDLGqnOwTrGwLnytZwEPmG4gF8Cvyo67p81LwYynFe0DvFK3Sk7rRhWwKnvtEBHVnIfp
         K0o0XjMVpOiPieHtr0he3mVH4ryUAwvx9DR5OqiGKoiFQ3GNZpiT+3dygwvWLovgvt4j
         xUaOHRS1/4ZJ8pKPu0T3xOlC3dk2H92aGyj2sjdkCqp6og+458Q05/r8dXEETuMmNW8v
         fl828hQs4QJ2HW4CNY1rJE1Xyk7L0i/mHun0DOqf9NF1/5AAdBkA7Afwe0W/lHKm5zLR
         FkRA==
MIME-Version: 1.0
Received: by 10.229.137.73 with SMTP id v9mr151219qct.155.1336012810599; Wed,
 02 May 2012 19:40:10 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 19:40:10 -0700 (PDT)
In-Reply-To: <03a701cd28d4$ab0483b0$010d8b10$@hanik.com>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
	<4FA1494E.3040504@christopherschultz.net>
	<CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
	<4FA1DD0F.5070607@christopherschultz.net>
	<CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>
	<03a701cd28d4$ab0483b0$010d8b10$@hanik.com>
Date: Thu, 3 May 2012 10:40:10 +0800
Message-ID: <CACSA5wYHWXLM0PKdKPBqgJg3kj7y1cDkNK1CLh7C=otDH28NCg@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00235452fd9cfdbd8004bf18b83f
X-Virus-Checked: Checked by ClamAV on apache.org

--00235452fd9cfdbd8004bf18b83f
Content-Type: text/plain; charset=ISO-8859-1

com.jolbox.bonecp.BoneCPDataSource  implements DataSource, *ObjectFactory ,
*
*isnot it a JNDI factory ?
*
On Thu, May 3, 2012 at 10:30 AM, Filip Hanik (mailing lists) <
devlists@hanik.com> wrote:

> BoneCP doesn't have a JNDI factory AFAICT, and it's also missing a lot of
> critical features, like validation etc
>
> Filip
>
> > -----Original Message-----
> > From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> > Sent: Wednesday, May 02, 2012 7:36 PM
> > To: Tomcat Users List
> > Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> > BoneCP ??
> >
> > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> > > Also remove the JAR for BoneCP.
> >
> > I donot have a try now. This morning I received your mail ,UTC+8.
> > Before I sent my mail for help , I just put the jar in both Tomcat/lib
> > dir
> > and webapp/WEB-INF/lib.
> > And I found I am very confused in Tomcat-> <Reasource *factory*="" />
> > ...
> > It seems that facotry doesnot work well.
> >
> > I found com.jolbox.bonecp.BoneCPDataSource have properties
> > : driverClassName in javax.naming.spi.ObjectFactory#getObjectInstance
> > and driverClass .
> >
> >
> >
> > Thanks!
> >
> >
> > On Thu, May 3, 2012 at 9:19 AM, Christopher Schultz <
> > chris@christopherschultz.net> wrote:
> >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >
> > > Zuxiong,
> > >
> > > On 5/2/12 9:13 PM, zuxiong lin wrote:
> > > > When I use BoneCP in per-web-app,  it is OK with  partitionCount .
> > > > "partitionCount " is a property of BoneCP.
> > >
> > > Okay, that's fine then.
> > >
> > > > MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/
> > > > directory and my webapp's WEB-INF/lib directory.
> > >
> > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-INF/lib.
> > > Also remove the JAR for BoneCP.
> > >
> > > > I can have a try. I think it doesnot work :
> > >
> > > Did you try it or not?
> > >
> > > >> you'll need to have the JAR files for MySQL Connector/J *and*
> > > >> BoneCP in Tomcat's lib/ directory and *not* in your webapp's
> > > >> WEB-INF/lib directory.
> > >
> > > I thought it was clear: Tomcat needs these libraries. Your webapp does
> > > not. If you put those .jar files into WEB-INF/lib, things will ber
> > > seriously confused.
> > >
> > > - -chris
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > >
> > > iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
> > > CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
> > > =k9mT
> > > -----END PGP SIGNATURE-----
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00235452fd9cfdbd8004bf18b83f--

From users-return-233946-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 02:42:57 2012
Return-Path: <users-return-233946-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8736299F3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 02:42:57 +0000 (UTC)
Received: (qmail 17013 invoked by uid 500); 3 May 2012 02:42:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16957 invoked by uid 500); 3 May 2012 02:42:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16947 invoked by uid 99); 3 May 2012 02:42:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:42:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 02:42:47 +0000
Received: from workstation (65-128-8-142.hlrn.qwest.net [65.128.8.142])
	by arizona.hanik.com (Postfix) with ESMTPSA id AC84EA9C0226
	for <users@tomcat.apache.org>; Wed,  2 May 2012 20:39:04 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>	<4FA1494E.3040504@christopherschultz.net>	<CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>	<4FA1DD0F.5070607@christopherschultz.net>	<CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>	<03a701cd28d4$ab0483b0$010d8b10$@hanik.com> <CACSA5wYHWXLM0PKdKPBqgJg3kj7y1cDkNK1CLh7C=otDH28NCg@mail.gmail.com>
In-Reply-To: <CACSA5wYHWXLM0PKdKPBqgJg3kj7y1cDkNK1CLh7C=otDH28NCg@mail.gmail.com>
Subject: RE: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Date: Wed, 2 May 2012 20:42:21 -0600
Message-ID: <03ab01cd28d6$5df54580$19dfd080$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQG/1TqLI2N2xRTfKRN6/23Dba/wrwGnu3TvAoR47rABzjR1SwFBkqrGAuow0gAA/gjNWwKDziR1lmTB5vA=
Content-Language: en-us

Aah, yes you are right. The specify 

<Resource name="jdbc/DB" factory="com.jolbox.bonecp.BoneCPDataSource"
type="javax.sql.DataSource" .../>

Filip

> -----Original Message-----
> From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> Sent: Wednesday, May 02, 2012 8:40 PM
> To: Tomcat Users List
> Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> BoneCP ??
> 
> com.jolbox.bonecp.BoneCPDataSource  implements DataSource,
> *ObjectFactory ,
> *
> *isnot it a JNDI factory ?
> *
> On Thu, May 3, 2012 at 10:30 AM, Filip Hanik (mailing lists) <
> devlists@hanik.com> wrote:
> 
> > BoneCP doesn't have a JNDI factory AFAICT, and it's also missing a lot
> of
> > critical features, like validation etc
> >
> > Filip
> >
> > > -----Original Message-----
> > > From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> > > Sent: Wednesday, May 02, 2012 7:36 PM
> > > To: Tomcat Users List
> > > Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> > > BoneCP ??
> > >
> > > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-
> INF/lib.
> > > > Also remove the JAR for BoneCP.
> > >
> > > I donot have a try now. This morning I received your mail ,UTC+8.
> > > Before I sent my mail for help , I just put the jar in both
> Tomcat/lib
> > > dir
> > > and webapp/WEB-INF/lib.
> > > And I found I am very confused in Tomcat-> <Reasource *factory*=""
> />
> > > ...
> > > It seems that facotry doesnot work well.
> > >
> > > I found com.jolbox.bonecp.BoneCPDataSource have properties
> > > : driverClassName in
> javax.naming.spi.ObjectFactory#getObjectInstance
> > > and driverClass .
> > >
> > >
> > >
> > > Thanks!
> > >
> > >
> > > On Thu, May 3, 2012 at 9:19 AM, Christopher Schultz <
> > > chris@christopherschultz.net> wrote:
> > >
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > >
> > > > Zuxiong,
> > > >
> > > > On 5/2/12 9:13 PM, zuxiong lin wrote:
> > > > > When I use BoneCP in per-web-app,  it is OK with  partitionCount
> .
> > > > > "partitionCount " is a property of BoneCP.
> > > >
> > > > Okay, that's fine then.
> > > >
> > > > > MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/
> > > > > directory and my webapp's WEB-INF/lib directory.
> > > >
> > > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-
> INF/lib.
> > > > Also remove the JAR for BoneCP.
> > > >
> > > > > I can have a try. I think it doesnot work :
> > > >
> > > > Did you try it or not?
> > > >
> > > > >> you'll need to have the JAR files for MySQL Connector/J *and*
> > > > >> BoneCP in Tomcat's lib/ directory and *not* in your webapp's
> > > > >> WEB-INF/lib directory.
> > > >
> > > > I thought it was clear: Tomcat needs these libraries. Your webapp
> does
> > > > not. If you put those .jar files into WEB-INF/lib, things will ber
> > > > seriously confused.
> > > >
> > > > - -chris
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > Comment: GPGTools - http://gpgtools.org
> > > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > > >
> > > > iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
> > > > CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
> > > > =k9mT
> > > > -----END PGP SIGNATURE-----
> > > >
> > > > ------------------------------------------------------------------
> ---
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >
> > > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233947-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 03:39:50 2012
Return-Path: <users-return-233947-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6956DC402
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 03:39:50 +0000 (UTC)
Received: (qmail 15850 invoked by uid 500); 3 May 2012 03:39:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15756 invoked by uid 500); 3 May 2012 03:39:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15721 invoked by uid 99); 3 May 2012 03:39:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 03:39:43 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 03:39:36 +0000
Received: by qaeb19 with SMTP id b19so3338953qae.18
        for <users@tomcat.apache.org>; Wed, 02 May 2012 20:39:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OeAGUcb5O+OQcxtcxFSlLHEd87LoPjORFRzD6ug7jEg=;
        b=a0yWgvR97+7ZxNZr9/bnJchkI77eoZiXcbuXJ0M8TFzYtZx3/EwI+w6LDi9Orx5mgC
         IpTwDjPq2V6JxnIF4hyIn58eJ8MHra5XDIYlsW396b26jSyBYdhqz73DqQ68wxQ/PbpR
         NIM0OozRRsvKMIzn0nEQrcrXkCmJC1VEb71AukZSwBjyI/PiCI9AvfelG/6+p0A9hIx6
         EG1Vambh/KXDMXYhTvFUkITJG8yTQL5IXM+kXpLYpyPgrP2/8Bdx0OHqTxRGF5qjsvCv
         TN8j9ODCYQ5gcvZW5HjVjb6eN1wLFgb+c7hPqAl8WZr+VBSqPEyKc8ShkvhRqIZJwQcj
         E1Gg==
MIME-Version: 1.0
Received: by 10.229.137.73 with SMTP id v9mr197888qct.155.1336016356021; Wed,
 02 May 2012 20:39:16 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Wed, 2 May 2012 20:39:15 -0700 (PDT)
In-Reply-To: <03ab01cd28d6$5df54580$19dfd080$@hanik.com>
References: <tencent_38FCFC194427538300E9DD2E@qq.com>
	<CACSA5wYnEA6uDJy8GG+=udysOG+KUm90Vd+1iXGX5-DGnKW39w@mail.gmail.com>
	<4FA1494E.3040504@christopherschultz.net>
	<CACSA5wa20XduaD_yH451Srdj11MXQRm=Sc5ys3Kx11xF3fPnNQ@mail.gmail.com>
	<4FA1DD0F.5070607@christopherschultz.net>
	<CACSA5wbdLXfQJ24xoPQKQYoNWqrtJ3SLLJeEY0Wz8KyzUhFwBA@mail.gmail.com>
	<03a701cd28d4$ab0483b0$010d8b10$@hanik.com>
	<CACSA5wYHWXLM0PKdKPBqgJg3kj7y1cDkNK1CLh7C=otDH28NCg@mail.gmail.com>
	<03ab01cd28d6$5df54580$19dfd080$@hanik.com>
Date: Thu, 3 May 2012 11:39:15 +0800
Message-ID: <CACSA5wbHj-G-iU+dtqmOfGzvua0i-BS-kwbFATM0eBT1Y54ZjA@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00235452fd9c5095a204bf198c36

--00235452fd9c5095a204bf198c36
Content-Type: text/plain; charset=ISO-8859-1

So , why does tomcat report exception casued by  commons.dbcp ...factory ?
It is more like a bug...


On Thu, May 3, 2012 at 10:42 AM, Filip Hanik (mailing lists) <
devlists@hanik.com> wrote:

> Aah, yes you are right. The specify
>
> <Resource name="jdbc/DB" factory="com.jolbox.bonecp.BoneCPDataSource"
> type="javax.sql.DataSource" .../>
>
> Filip
>
> > -----Original Message-----
> > From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> > Sent: Wednesday, May 02, 2012 8:40 PM
> > To: Tomcat Users List
> > Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> > BoneCP ??
> >
> > com.jolbox.bonecp.BoneCPDataSource  implements DataSource,
> > *ObjectFactory ,
> > *
> > *isnot it a JNDI factory ?
> > *
> > On Thu, May 3, 2012 at 10:30 AM, Filip Hanik (mailing lists) <
> > devlists@hanik.com> wrote:
> >
> > > BoneCP doesn't have a JNDI factory AFAICT, and it's also missing a lot
> > of
> > > critical features, like validation etc
> > >
> > > Filip
> > >
> > > > -----Original Message-----
> > > > From: zuxiong lin [mailto:linzuxiong1988@gmail.com]
> > > > Sent: Wednesday, May 02, 2012 7:36 PM
> > > > To: Tomcat Users List
> > > > Subject: Re: How to config the Tomcat 7.x JNDI datasource by using
> > > > BoneCP ??
> > > >
> > > > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-
> > INF/lib.
> > > > > Also remove the JAR for BoneCP.
> > > >
> > > > I donot have a try now. This morning I received your mail ,UTC+8.
> > > > Before I sent my mail for help , I just put the jar in both
> > Tomcat/lib
> > > > dir
> > > > and webapp/WEB-INF/lib.
> > > > And I found I am very confused in Tomcat-> <Reasource *factory*=""
> > />
> > > > ...
> > > > It seems that facotry doesnot work well.
> > > >
> > > > I found com.jolbox.bonecp.BoneCPDataSource have properties
> > > > : driverClassName in
> > javax.naming.spi.ObjectFactory#getObjectInstance
> > > > and driverClass .
> > > >
> > > >
> > > >
> > > > Thanks!
> > > >
> > > >
> > > > On Thu, May 3, 2012 at 9:19 AM, Christopher Schultz <
> > > > chris@christopherschultz.net> wrote:
> > > >
> > > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > > Hash: SHA1
> > > > >
> > > > > Zuxiong,
> > > > >
> > > > > On 5/2/12 9:13 PM, zuxiong lin wrote:
> > > > > > When I use BoneCP in per-web-app,  it is OK with  partitionCount
> > .
> > > > > > "partitionCount " is a property of BoneCP.
> > > > >
> > > > > Okay, that's fine then.
> > > > >
> > > > > > MySQL Connector/J  5.1.19,  I put it into both Tomcat's lib/
> > > > > > directory and my webapp's WEB-INF/lib directory.
> > > > >
> > > > > Don't do that: remove mysql-connector-j-5.1.9.jar from WEB-
> > INF/lib.
> > > > > Also remove the JAR for BoneCP.
> > > > >
> > > > > > I can have a try. I think it doesnot work :
> > > > >
> > > > > Did you try it or not?
> > > > >
> > > > > >> you'll need to have the JAR files for MySQL Connector/J *and*
> > > > > >> BoneCP in Tomcat's lib/ directory and *not* in your webapp's
> > > > > >> WEB-INF/lib directory.
> > > > >
> > > > > I thought it was clear: Tomcat needs these libraries. Your webapp
> > does
> > > > > not. If you put those .jar files into WEB-INF/lib, things will ber
> > > > > seriously confused.
> > > > >
> > > > > - -chris
> > > > > -----BEGIN PGP SIGNATURE-----
> > > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > > Comment: GPGTools - http://gpgtools.org
> > > > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > > > >
> > > > > iEYEARECAAYFAk+h3Q8ACgkQ9CaO5/Lv0PBItwCZAQ46/6hFozDCuQuzD6CzAsFg
> > > > > CRAAoKLTCLFSoswkgvreSBUBYeShxM1R
> > > > > =k9mT
> > > > > -----END PGP SIGNATURE-----
> > > > >
> > > > > ------------------------------------------------------------------
> > ---
> > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > >
> > > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00235452fd9c5095a204bf198c36--

From users-return-233948-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 06:42:21 2012
Return-Path: <users-return-233948-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C06E9549
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 06:42:21 +0000 (UTC)
Received: (qmail 78328 invoked by uid 500); 3 May 2012 06:42:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78092 invoked by uid 500); 3 May 2012 06:42:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78067 invoked by uid 99); 3 May 2012 06:42:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 06:42:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vogliotti.m@gtt.to.it designates 89.184.107.23 as permitted sender)
Received: from [89.184.107.23] (HELO postaoutaem.gtt.to.it) (89.184.107.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 06:42:07 +0000
Received: from smtp.gtt.to.it (mailinterna [172.31.1.2])
	by postaoutaem.gtt.to.it (Postfix) with ESMTP id 5053CDB5A8
	for <users@tomcat.apache.org>; Thu,  3 May 2012 08:40:35 +0200 (CEST)
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: R: Problem "J2EE Web Profile support"
Date: Thu, 3 May 2012 08:40:28 +0200
Message-ID: <69E56F9824B18B4697B58E032CF77E0802A8D072@gttexc01.i.atm.to.it>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problem "J2EE Web Profile support"
Thread-Index: Ac0jtS0gRKemdPwhSJip2ERfW4IuNgFQX/OA
References: <69E56F9824B18B4697B58E032CF77E08029C01D4@gttexc01.i.atm.to.it> <4F995468.7080208@christopherschultz.net>
From: "Vogliotti Massimo" <Vogliotti.M@gtt.to.it>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-MailScanner-ID: 5053CDB5A8.9EBE6
X-GTT-MailScanner: Found to be clean
X-GTT-MailScanner-SpamCheck: non spam, SpamAssassin (not cached,
	punteggio=-1.44, necessario 6, autolearn=not spam,
	ALL_TRUSTED -1.44)
X-GTT-MailScanner-From: vogliotti.m@gtt.to.it
X-Old-Spam-Status: No

I downloaded and installed TomEE on my computer and connected it to =
NetBeans as you suggested, but the error is the same.
 Max

-----Messaggio originale-----
Da: Christopher Schultz [mailto:chris@christopherschultz.net]=20
Inviato: gioved=EC 26 aprile 2012 15.58
A: Tomcat Users List
Oggetto: Re: Problem "J2EE Web Profile support"

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Max,

On 4/26/12 4:25 AM, Vogliotti Massimo wrote:
> Hi, i use NetBeans 7.0.1 with tomcat 7.0.25 integrated. I'm creating a =

> web application with JSF 2.1 and Java EE 6, when I try to create a=20
> "JSF Pages from entity classes" I get the following error message:=20
> "JSF Pages for Java EE generated sources can not complete without=20
> servers with J2EE Web Profile support.". What can I do?

Tomcat only implements the servlet specification and IIRC not the full =
"web profile" of Java EE. I believe that TomEE was created specifically =
for that purpose: you might want to check them out.

http://openejb.apache.org/apache-tomee.html

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ZVGgACgkQ9CaO5/Lv0PAfeQCgp63ajafqnBclLHw0y7C5nAWF
o9AAoIc2hycukQvanIvF6mcQ+RWqVIcx
=3DqCuB
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233949-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 07:29:11 2012
Return-Path: <users-return-233949-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D4CDC041
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 07:29:11 +0000 (UTC)
Received: (qmail 1454 invoked by uid 500); 3 May 2012 07:29:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1399 invoked by uid 500); 3 May 2012 07:29:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1367 invoked by uid 99); 3 May 2012 07:29:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 07:29:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 07:28:58 +0000
Received: from [192.168.245.129] (montserrat.wissensbank.com [212.85.37.175])
	by tor.combios.es (Postfix) with ESMTPA id E4A3CDA005D
	for <users@tomcat.apache.org>; Thu,  3 May 2012 09:28:35 +0200 (CEST)
Message-ID: <4FA233A1.7010609@ice-sa.com>
Date: Thu, 03 May 2012 09:28:33 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org>
In-Reply-To: <4FA1C4DA.3080604@poonam.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Kiran Badi wrote:
> I just want to have one instance of tomcat up and running always 
> whenever I start my system exactly the way I have httpd service running 
> always.
> 
> ok now moving forward, I installed the tomcat 7.0.27 as service,made 
> changes to shutdown ports/APR ports etc and now its runing fine as a 
> service.I have now 2 tomcats sitting in same apache directory one is 
> 7.0.11(this runs with netbeans) and another is 7.0.27(this runs as 
> windows service).
> 
> Now I want to deploy the my app war file to 7.0.27.But for some reasons 
> Manager App is not accepting my credentials.Here is what I did,
> I copied the tomcat users file of 7.0.11 to 7.0.27 and after copying 
> restarted the service again,and tried to give the same credentials which 
> are working fine in 7.0.11,but to my surprise,those are not working in 
> 7.0.27
> here is tomcat users file,(Sorry for pasting some commented section in 
> below file,but its imp for me not to delete anything for which I dont 
> have much information or knowledge).Pls note that his tomcat users file 
> works perfect fine in 7.0.11 for user kiran/kiran

If it does, then there is severe bug somewhere.  As shown below, that file has 2 openin 
<tomcat-users> tags, and only one closing </tomcat-users> tag. That is invalid xml.
Try again.

It is usually a better idea to make a copy of the original file as it was in the 
distribution (adding some suffix like ".original"), and then make a "working" version, 
removing all superfluous comments and leaving only what is really effective.
It also makes it a lot easier for people on the list to spot the errors, without having to 
waft through kazillions of comment lines which may be badly-formatted in an email..



> 
> <?xml version='1.0' encoding='cp1252'?>
> <!--
>   Licensed to the Apache Software Foundation (ASF) under one or more
>   contributor license agreements.  See the NOTICE file distributed with
>   this work for additional information regarding copyright ownership.
>   The ASF licenses this file to You under the Apache License, Version 2.0
>   (the "License"); you may not use this file except in compliance with
>   the License.  You may obtain a copy of the License at
> 
>       http://www.apache.org/licenses/LICENSE-2.0
> 
>   Unless required by applicable law or agreed to in writing, software
>   distributed under the License is distributed on an "AS IS" BASIS,
>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
>   See the License for the specific language governing permissions and
>   limitations under the License.
> -->
> <tomcat-users>
> <user name="admin" password="kiran" roles="admin-gui,manager-gui" />
> <!--
>   NOTE:  By default, no user is included in the "manager-gui" role required
>   to operate the "/manager/html" web application.  If you wish to use 
> this app,
>   you must define such a user - the username and password are arbitrary.
> -->
> <!--
>   NOTE:  The sample user and role entries below are wrapped in a comment
>   and thus are ignored when reading this file. Do not forget to remove
> <!.. ..> that surrounds them.
> -->
> <?xml version="1.0" encoding="UTF-8"?>
> <!--
>   Licensed to the Apache Software Foundation (ASF) under one or more
>   contributor license agreements.  See the NOTICE file distributed with
>   this work for additional information regarding copyright ownership.
>   The ASF licenses this file to You under the Apache License, Version 2.0
>   (the "License"); you may not use this file except in compliance with
>   the License.  You may obtain a copy of the License at
> 
>       http://www.apache.org/licenses/LICENSE-2.0
> 
>   Unless required by applicable law or agreed to in writing, software
>   distributed under the License is distributed on an "AS IS" BASIS,
>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
>   See the License for the specific language governing permissions and
>   limitations under the License.
> -->
> <tomcat-users>
> <!--
>   NOTE:  By default, no user is included in the "manager-gui" role required
>   to operate the "/manager/html" web application.  If you wish to use 
> this app,
>   you must define such a user - the username and password are arbitrary.
> -->
> <!--
>   NOTE:  The sample user and role entries below are wrapped in a comment
>   and thus are ignored when reading this file. Do not forget to remove
> <!.. ..> that surrounds them.
> -->
> <role rolename="AdminRole"/>
> <role rolename="UserRole"/>
> <user password="tomcat" roles="tomcat,role1" username="both"/>
> <user password="tomcat" roles="UserRole" username="role1"/>
> <user password="tomcat" roles="AdminRole,manager-script,admin" 
> username="tomcat"/>
> <role rolename="manager-gui"/>
> <user username="kiran" password="kiran" roles="manager-gui"/>
> <role rolename="probeuser" />
> <role rolename="poweruser" />
> <role rolename="poweruserplus" />
> <role rolename="manager" />
> <user username="admin" password="t0psecret" roles="manager" />
> </tomcat-users>
> 
> 
> Any ideas why its not working in 7.0.27 ?
> 
> My system is win 7 32 bit home premium with JDK 1.6.32
>>> ________________________________
>>> From: Andr Warnier<aw@ice-sa.com>
>>> To: Tomcat Users List<users@tomcat.apache.org>
>>> Sent: Sunday, April 29, 2012 2:18 PM
>>> Subject: Re: How to run Tomcat as Service on windows start up.
>>
>>>> Mark Eggers wrote:
>>>> NetBeans will complain that it cannot find the startup.bat and 
>>>> shutdown.bat
>>>> required to do these tasks if you install the service.
>>> Presumably then, you could replace startup.bat and shutdown.bat
>>> by similarly-named .bat files which respectively do
>>> net start "Apache Tomcat"
>>> and
>>> net stop "Apache Tomcat"
>>> (to keep it simple)
>>>
>> I suppose you could. I don't know how intrusive NetBeans' 
>> investigation of the scripts are. In Windows Vista and Windows 7, UAC 
>> might become a problem. I'm not a Windows person, so I'd have to 
>> investigate this.
>>
>>> Similarly, it should be possible to create .bat files which run the 
>>> Tomcat wrapper tomcatX.exe with the appropriate arguments to start, 
>>> stop, or run Tomcat in debug mode.
>>  From my recollection of the service, don't you have to configure the 
>> service for debug using the service configuration program? I'm not 
>> sure how you would handle that through NetBeans, since I believe it 
>> simply does what start.bat / catalina.bat require (pass the debug 
>> argument to catalina.bat).
>>
>> So, you might need a single startup.bat and shutdown.bat that would 
>> determine which service to run, and which service was running . . . .
>>
>>> No ?
>>>
>>> (Although, if I understood the OP's request correctly, the point here 
>>> would
>>> be to start Tomcat as a service as soon as Windows starts.  So 
>>> presumably,
>>> the necessity of having a "startup.bat" is not evident anymore).
>> It's a little unclear as to what the OP request is. It sounds like the 
>> OP has two requirements:
>>
>> 1. Deal with Tomcat in a development environment using NetBeans
>>
>> To me this means starting, stopping, debugging, launching with the 
>> security manager, etc. That's hard to do when you don't own / 
>> completely control the service.
>>
>> The same problem exists in Linux. People want a system-wide Tomcat but 
>> want to use NetBean's deploy and debug facilities. There are all sorts 
>> of interesting permissions problems with this.
>>
>> NetBeans operates by deploying a context.xml file as [app-name].xml in 
>> the appropriate Engine/host directory. The application is actually run 
>> out of [project-name]/build. This works fine, and you can do a lot of 
>> dynamic updates in this fashion.
>>
>> What happens when the user of the IDE doesn't have access to post a 
>> context. xml to the appropriate directory? What happens when Tomcat 
>> doesn't have access to read a user's [project-name]/build directory?
>>
>> So for this use case, it's far easier and cleaner to maintain your own 
>> copy of Tomcat that can be registered, managed, and controlled by 
>> NetBeans.
>>
>> 2. Demonstrate works in progress to other developers
>>
>> Putting aside for the moment that turning development box into a 
>> demonstration server may not be a good thing, it's sometimes handy. 
>> For this I was recommending a system-wide Tomcat (run as a service). 
>> You then just use the manager application to update it with the latest 
>> demonstration-ready software.
>>
>> I think this has a few advantages. You don't show off intermediate 
>> (and potentially embarrassing) code. The service is up regardless of 
>> whether you're developing or not (OP's original request).
>>
>>
>> . . . . just my two cents.
>>
>> /mde/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233950-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 10:36:32 2012
Return-Path: <users-return-233950-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1136C494
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 10:36:32 +0000 (UTC)
Received: (qmail 66311 invoked by uid 500); 3 May 2012 10:36:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66054 invoked by uid 500); 3 May 2012 10:36:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66043 invoked by uid 99); 3 May 2012 10:36:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 10:36:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.183.234] (HELO nm6-vm0.bullet.mail.ukl.yahoo.com) (217.146.183.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 10:36:20 +0000
Received: from [217.146.183.209] by nm6.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 10:35:59 -0000
Received: from [77.238.184.53] by tm2.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 10:35:59 -0000
Received: from [127.0.0.1] by smtp122.mail.ukl.yahoo.com with NNFMP; 03 May 2012 10:35:59 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336041359; bh=H+lw8q6OR54ns+XxKqxD4ivj7BVJ6sTnqgbGa19Dj4Y=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=3GjBjhFDBh3/lln8xDH6GilCdtZha31ZsR5bUrASQ78QRQQM2JbqX6hz+RC8EXqqi+gB6w0KFjLSSsUU5n5up1KRRcHVDqirDCnlEh5rpNgviiRRCJzaPUAg/MrF75I9TIHj3E9GTp1qnA8h/M4uHnK9ZE4nZQ6rx3Q7u6i8hKc=
X-Yahoo-Newman-Id: 570912.2582.bm@smtp122.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: MzWaL4MVM1nPuFVnXn2PFiijPEZSYjZJcAikc98I22hoTWc
 vuUhw4AH.7SQrF0waK7N42EgSdQDfLNVoD4VaFajm.kqcdd70qfc3Khll6iw
 LDMmHMa22IbSZ7eNgHpAxqeecapB2B83cG8gQMulK.jlbrHNrpmOCgn8Dc2E
 Oo7plfB1WOro4YN4daDAUwxSpQWja7x_8kNOI2R7TqDNPeSVnXYHFt5LqT9X
 2G9SPZmQCaaneiVmOI7jlneQOiqbPlX8Nb7sW.tQwDE9qTBP9_Z6rXypee_Q
 aJ5tPHTUGd_fJY5ogG6oPHGMTXdfm0knvqJzn.i8VJ97dbP97KsXJZ4rfWNy
 WbvNBNvCgHO_zyUg51BR8sIv9jSuKegI11mSR6R.NQ0bcuNPVUXDbn39euAs
 rVoesb7Kgur9Dxexxe52MgFQOi5vM9gWkS_6ElPw8giyGbNB2eM_eoVvfEno
 OfEk-
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.193.157 with plain)
        by smtp122.mail.ukl.yahoo.com with SMTP; 03 May 2012 10:35:59 +0000 GMT
Message-ID: <4FA25F8C.6030804@yahoo.es>
Date: Thu, 03 May 2012 12:35:56 +0200
From: =?ISO-8859-1?Q?Miguel_Gonz=E1lez_Casta=F1os?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Tomcat pausing and no java process
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120503-0, 03/05/2012), Outbound message
X-Antivirus-Status: Clean

Dear all,

   My Tomcat 5.5 server reports in catalina.out under heavy load that 
Tomcat is pausing. I checked and no java process was running and I had 
to start Tomcat manually.

   No errors before in catalina.out. The only error found today (It 
crashed 3 times in 3 hours) was an outofmemory error.

   I changed from 1024Mb to 1536Mb in catalina.sh:

   CATALINA_OPTS="$CATALINA_OPTS -Xms1536m -Xmx1536m"

   After installing Javamelody I saw that memory use was reaching 1056 
Mb (probably that triggered the outofmemory error).

   Anything I can check or any setting I can set to get more information 
in the next crash?

   Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233951-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 10:52:33 2012
Return-Path: <users-return-233951-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C931C4D0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 10:52:33 +0000 (UTC)
Received: (qmail 8854 invoked by uid 500); 3 May 2012 10:52:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8701 invoked by uid 500); 3 May 2012 10:52:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8690 invoked by uid 99); 3 May 2012 10:52:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 10:52:30 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.250.139 is neither permitted nor denied by domain of hunters1094@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 10:52:25 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <hunters1094@gmail.com>)
	id 1SPtdl-0007md-C3
	for users@tomcat.apache.org; Thu, 03 May 2012 03:52:05 -0700
Date: Thu, 3 May 2012 03:52:05 -0700 (PDT)
From: hunters1094 <hunters1094@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1336042325364-4948903.post@n6.nabble.com>
In-Reply-To: <4FA18107.40006@computer.org>
References: <4FA18107.40006@computer.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

hi

I have this problem too. I tried to find the solution, tried to use this

http://stackoverflow.com/questions/8072311/illegalstateexception-cannot-create-a-session-after-the-response-has-been-commi

Solution state-saving-method

But it only reduces error times, but not removes completely.

Thanks.

--
View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-7-Exception-initializing-page-context-Cannot-create-a-session-after-the-response-has-been-comd-tp4947014p4948903.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233952-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:23:59 2012
Return-Path: <users-return-233952-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5FBAA95ED
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:23:59 +0000 (UTC)
Received: (qmail 26501 invoked by uid 500); 3 May 2012 13:23:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26269 invoked by uid 500); 3 May 2012 13:23:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26256 invoked by uid 99); 3 May 2012 13:23:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:23:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:23:49 +0000
Received: by eaaf11 with SMTP id f11so807842eaa.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:23:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=nongMEvSQY9fs2w/sOQ83qI0DOq0N4fOIC7tfcRsqOE=;
        b=f/tC8I292VJxru8OMC5g2OKYPNh7ByYVEXhvv/mlcFC6uXDvgEb0C41zwa90aLCASj
         7LKywtpWZxX6waFM5afa9+odkcjSZn247vXyCL/Oysyu8eFE235xZs5kWOowq5+NUYlI
         i0B7tJR6XXW4q/Cw69RCKRvxHEGRyqNFq21zI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=nongMEvSQY9fs2w/sOQ83qI0DOq0N4fOIC7tfcRsqOE=;
        b=Lcok5hujyjK7/KF4d9us3+VsYW1qDsrRO+Mf2SNLxuQJBLwHrYi2Tx4MTBrWTeXGTo
         8I1jAGwpycF0dKafe7i+6e242pn+1ZC2JT/0Tc9PIg0vtwqqVBslhjGDimAtgfUuqN9f
         bQM5PcU30GeFkr3mBtipUJTZeEnpiiFER6/0BlRkiQ2LruOELbK6nAAuY3O6qpERYhnj
         ofbqF+tpriyRme86RdwJWZQ3K4raIBFKJ7WnU7UYua1V4zs/h28Sp3IbrNsmRqimMwg1
         ldww4/+G7jj585khvpOxpSMRM/UDO0CKyehX2txvOfq5+K3U1UDq51JH6DTZNza+e1qp
         KZJA==
Received: by 10.14.127.139 with SMTP id d11mr418802eei.74.1336051406849;
        Thu, 03 May 2012 06:23:26 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id y53sm25429975eea.3.2012.05.03.06.23.24
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 06:23:25 -0700 (PDT)
Message-ID: <4FA286C7.2040500@pidster.com>
Date: Thu, 03 May 2012 14:23:19 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: R: Problem "J2EE Web Profile support"
References: <69E56F9824B18B4697B58E032CF77E08029C01D4@gttexc01.i.atm.to.it> <4F995468.7080208@christopherschultz.net> <69E56F9824B18B4697B58E032CF77E0802A8D072@gttexc01.i.atm.to.it>
In-Reply-To: <69E56F9824B18B4697B58E032CF77E0802A8D072@gttexc01.i.atm.to.it>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigFCC331838ADFC0E12446A479"
X-Gm-Message-State: ALoCoQkO6xrrhDkqk3IrSkvZU9L3J+l6vuHoZKa8JAo/UYP5OT+vS4hcPb+u0lN/lTivi0E26eEW
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigFCC331838ADFC0E12446A479
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 07:40, Vogliotti Massimo wrote:
> I downloaded and installed TomEE on my computer and connected it to Net=
Beans as you suggested, but the error is the same.
>  Max

Please don't top-post.

Either this is a NetBeans or a TomEE problem, or both.
Tomcat doesn't support Web Profile, so you're asking in the wrong place..=
=2E


p


> -----Messaggio originale-----
> Da: Christopher Schultz [mailto:chris@christopherschultz.net]=20
> Inviato: gioved=EC 26 aprile 2012 15.58
> A: Tomcat Users List
> Oggetto: Re: Problem "J2EE Web Profile support"
>=20
> Max,
>=20
> On 4/26/12 4:25 AM, Vogliotti Massimo wrote:
>> Hi, i use NetBeans 7.0.1 with tomcat 7.0.25 integrated. I'm creating a=
=20
>> web application with JSF 2.1 and Java EE 6, when I try to create a=20
>> "JSF Pages from entity classes" I get the following error message:=20
>> "JSF Pages for Java EE generated sources can not complete without=20
>> servers with J2EE Web Profile support.". What can I do?
>=20
> Tomcat only implements the servlet specification and IIRC not the full =
"web profile" of Java EE. I believe that TomEE was created specifically f=
or that purpose: you might want to check them out.
>=20
> http://openejb.apache.org/apache-tomee.html
>=20
> -chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enigFCC331838ADFC0E12446A479
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPoobLAAoJEGoM2OGpOvr9ATgP/3MKgEqHKkE5+EeV8vHso5MQ
077BDZzEG/KGGHlWwX8RnCA+oKMfYebHMQxFjIwMh6Ru81XXU+k/7FFSyHZ1IHMm
ZV/GtufeZoF3uOpQNn2LAHKSXscjSZzEFdm2sMKVQFy2H0E7Ak8sLZicByVNgS0f
Lhd8nKBq1PJf8r8HWF2NVyVhs9dryz2eJBVSpqlHUQpY4M5sWLxGiz1CnPwWZdEZ
Cy8rCAY/2T83y4Qv7JD95H4ivGwbJh0zblJqDdpJivdZ3nRjBOdxzeBTvynocvss
lHdfx+P3qz62VA5NSNksQlX+6vpGF2sasxje0HpXmCdZs4SALttZ0T6JEMvsZDIG
uc/vWCi7vRkQFFwZhKHegg2mcf4azh0yHy+OQE18iVFAlWNk6Lo3Gg6CkIJXY9Er
wCQ4lNlpYIhTI8gevFfmoZN1ROaJrQzB9xUOpoRv9aAYrGP/IkQ1eshwh1TIAMhc
dDt2aExXyc7uyk+kMwGk6BlDn6PFTm5MZEq+dV3ayglZ6H25PK9jYJ+khlKUc1eC
I8Fd0HcQ5XmBrnj6GSh+3lAMM04SChq2/xvW16bN45AC/KlXVjypWXMwiiFHFnco
0VSYYkAihw+rwc+/SMpm8glyxcaCFtqwFibGZY6m1fCYKgABeYmoqNgp7W+F+FDH
cZJQ7B9WBxnDjBqxNUIq
=N4Dx
-----END PGP SIGNATURE-----

--------------enigFCC331838ADFC0E12446A479--

From users-return-233953-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:24:10 2012
Return-Path: <users-return-233953-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7BD896E8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:24:10 +0000 (UTC)
Received: (qmail 29357 invoked by uid 500); 3 May 2012 13:24:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29300 invoked by uid 500); 3 May 2012 13:24:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29291 invoked by uid 99); 3 May 2012 13:24:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:24:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:24:01 +0000
Received: by yhoo21 with SMTP id o21so2354751yho.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:23:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=sIffal/BoQt6Nw7QBmB1hbkG9vNv8EtXBeGuxbXJ5aA=;
        b=ubxwA+CHxqV8q5N0EqHasNEygqA209Y5Q64M0iCrL5Nd8hTZVRN2IF3K1Uuc5N5LoX
         0DezX8m1psxlEW1fVPzGO0gwyTtMZAJ73VS9fvZ6k+Gbk55vnDxfxu3+qt8RmBQbXABl
         CsbVIXIshM5gKs1D2RPP8EKhxKyck2p6CGuRp8MJ9SqSzdtz59K36OHQFPX3TWeOTbFh
         ytr5Atb7H13u1qDNXG163TVhMcnetsLGaMQfpzyUHpvf3TF3YFWdl1QvenG74FRRLVjF
         pUl/gKHmFdx1M+HC/zd8imPdgm1EGqyoBAvfpArF10RQWTPLzlIOae6bTr5gBcyoHA+q
         nkyQ==
MIME-Version: 1.0
Received: by 10.236.37.168 with SMTP id y28mr2861047yha.111.1336051420089;
 Thu, 03 May 2012 06:23:40 -0700 (PDT)
Received: by 10.146.161.7 with HTTP; Thu, 3 May 2012 06:23:39 -0700 (PDT)
In-Reply-To: <4FA1CAC8.1060703@computer.org>
References: <4FA19F85.3000302@computer.org>
	<99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
	<4FA1CAC8.1060703@computer.org>
Date: Thu, 3 May 2012 17:23:39 +0400
Message-ID: <CABzHfV=aM4DTrk2FNrt0vGPLXUW0Bnrai+-L=U_qDi5JCAx_2Q@mail.gmail.com>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/3 David Wall <d.wall@computer.org>:
>
>
> On 5/2/2012 2:17 PM, Caldarale, Charles R wrote:
>>
>> Both this symptom and your earlier one about creating a session after a
>> response has been committed are representative of the kinds of errors se=
en
>> when a webapp stores references in an inappropriate scope. =A0For exampl=
e,
>> keeping a reference to a request or response object in a static field, a
>> session, or a thread-local, will often result in the wrong object being =
used
>> later on. =A0This is especially evident under high-load situations...
>>
>> =A0- Chuck
>
>
> Okay, it looks like you put me on the right track. Just discovered that o=
ne
> of the servlets uses an instance variable to hold the
> request/response/session objects. Oy, and it was like that since 2008! =
=A0Not
> positive this will resolve all the issues, but it's a clear bug. =A0Thank=
s for
> your tip.
>

One more tip:
run with "org.apache.catalina.connector.RECYCLE_FACADES=3Dtrue"

That will be more secure and you will be able to more easily detect
errors like this one.

http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html
http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233954-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:27:35 2012
Return-Path: <users-return-233954-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E303C943
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:27:35 +0000 (UTC)
Received: (qmail 39729 invoked by uid 500); 3 May 2012 13:27:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39502 invoked by uid 500); 3 May 2012 13:27:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39493 invoked by uid 99); 3 May 2012 13:27:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:27:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:27:23 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id 9376CA840C06
	for <users@tomcat.apache.org>; Thu,  3 May 2012 07:23:46 -0600 (MDT)
Date: Thu, 03 May 2012 07:23:46 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Message-ID: <b239a017-3997-4000-9add-6c36cae3e631@arizona.hanik.com>
In-Reply-To: <CACSA5wYEb0Kpc3gg5PhtOe7bpsC4RSmDDP=7gT20eCKtsfEwOw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [174.253.184.119]
X-Mailer: Zimbra 7.1.1_GA_3196 (zclient/7.1.1_GA_3196)

reading this on my phone, but does your <Resource> element have a name attribute? 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233955-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:28:36 2012
Return-Path: <users-return-233955-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C7C84CE84
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:28:36 +0000 (UTC)
Received: (qmail 43945 invoked by uid 500); 3 May 2012 13:28:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43719 invoked by uid 500); 3 May 2012 13:28:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43710 invoked by uid 99); 3 May 2012 13:28:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:28:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:28:27 +0000
Received: by qaeb19 with SMTP id b19so304286qae.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:28:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=oE+78HwM3TSOFSwjg1ZUdF+qvzLiSz30CGuYfz989v4=;
        b=GmWJQ5QrmMAYeV1R3pQFYqIv7aJNJ5JRv16OJRcFREptIKBAxIEJdu4q/E8SoQRvqn
         MFw7hiIYXwg44KAtIlwvh7zUYyhuxGOBbnc80E/RfzvfyBm/4tM4GTWcVvdToTt1UXL6
         ScBumJBJw/4bbTTSo5CSP2PazJbn2PqphHdeRJYJFyRnxQH5Ze6mHqnTHW+EsA6S38Oa
         a6TqByjl3RzzbzYkgku6mSG0iiOkS/1Y/3XlaS5b0VTJuFsZjlrVjQ0BmIQ5zFEcvFET
         /8DVTbn4wEh5WGRLONIY0Gf8WlInsd0t/Di2Wa+YMCoo4u1oy7KIqBCxo8KzvASWRRge
         AL4g==
MIME-Version: 1.0
Received: by 10.229.136.130 with SMTP id r2mr981554qct.68.1336051686416; Thu,
 03 May 2012 06:28:06 -0700 (PDT)
Received: by 10.224.173.147 with HTTP; Thu, 3 May 2012 06:28:06 -0700 (PDT)
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
Date: Thu, 3 May 2012 07:28:06 -0600
Message-ID: <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00248c768f922ba27c04bf21c665

--00248c768f922ba27c04bf21c665
Content-Type: text/plain; charset=ISO-8859-1

I have a script in cacti that graphs data from the XML generated by the
manager app. I was using this before, with this same application, in a
non-standalone mode. I would love to switch back to the previous setup, but
cannot because of reasons beyond my control.


So if I wanted to drop in a manager app from a complete version of tomcat,
will I need a seperate virtual host to run it? Or can I run it's context
within the same host thats currently running my standalone app?

My previous efforts to do this resulted in a BLANK page when I tried
hitting the manager app - so any help would be appreciated.

Thoughts?



On Wed, May 2, 2012 at 2:46 PM, Caldarale, Charles R <
Chuck.Caldarale@unisys.com> wrote:

> > From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
> > Subject: Adding the manager app to a Standalone tomcat install
>
> > I'm trying to use the manager app, so that I can collect performance
> > metrics on our running Standalone Tomcat setup.
>
> What kind of performance information do you think the manager webapp will
> give you?  Have you looked at just enabling the AccessLogValve?  For real
> performance data, you might want to look at these:
>
> http://moskito.anotheria.net/
> http://code.google.com/p/psi-probe/
>
> > Is it possible to install the manager app in an install like this?
>
> Sure - get a normal Tomcat download for the same version, and copy the
> manager webapp and its associated manager.xml file over to your
> installation.  You'll likely need to update conf/tomcat-users.xml or
> whatever authentication mechanism you have employed in order to access the
> manager.
>
>  - Chuck
>
>
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY
> MATERIAL and is thus for use only by the intended recipient. If you
> received this in error, please contact the sender and delete the e-mail and
> its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00248c768f922ba27c04bf21c665--

From users-return-233956-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:28:40 2012
Return-Path: <users-return-233956-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91AACCEC7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:28:40 +0000 (UTC)
Received: (qmail 45462 invoked by uid 500); 3 May 2012 13:28:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45393 invoked by uid 500); 3 May 2012 13:28:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45351 invoked by uid 99); 3 May 2012 13:28:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:28:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:28:27 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id 39B95A840C06;
	Thu,  3 May 2012 07:24:50 -0600 (MDT)
Date: Thu, 03 May 2012 07:24:50 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Filip Hanik Mailing Lists <devlists@hanik.com>
Cc: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
Message-ID: <dd4772f5-b743-496a-a756-894fd345379c@arizona.hanik.com>
In-Reply-To: <b239a017-3997-4000-9add-6c36cae3e631@arizona.hanik.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [174.253.184.119]
X-Mailer: Zimbra 7.1.1_GA_3196 (zclient/7.1.1_GA_3196)
X-Virus-Checked: Checked by ClamAV on apache.org

found it, check the logs at startup for the error and post it here. 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233957-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:30:35 2012
Return-Path: <users-return-233957-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 029B1CFFA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:30:35 +0000 (UTC)
Received: (qmail 55304 invoked by uid 500); 3 May 2012 13:30:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55094 invoked by uid 500); 3 May 2012 13:30:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55084 invoked by uid 99); 3 May 2012 13:30:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:30:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:30:23 +0000
Received: by eekc4 with SMTP id c4so29321eek.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:30:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=WU940rMel8E5WYHqmntIWuNa6ahfLC1Gqfj2OfD6sq0=;
        b=GP90A6EypeSj+8ii/wHtu23jtzTgA8Pjtfs1ctIBb7Sv4SnEBLd10iso1FwKOVIHbq
         OrGkoh6Cobk6Hw4f/bb8pS1NUeGQu8HjrkbixStn7LgdW9F3ohgoRFt+riSayVYkaqGW
         +dg/LUvBEsxJcIq7BZ2qqVKCh/CT8Q3tLMbgU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=WU940rMel8E5WYHqmntIWuNa6ahfLC1Gqfj2OfD6sq0=;
        b=F5RFUsvo0IMmLC+V7jeaa2gYHqVIfgVWRpfSaPyL9KcntGXoDUcvLDfDbodSZxpFNK
         /Cqn6q0GOgJ2o4g6YBZ79BMtj2e5wnP1NkrW2mPdcM2ih0mkJF4KsGCg/3+rGptvmcaG
         ASk51BIUnILZm1X26p1Rza/ZD5fmznCMkKwJxXRdSzoL1b9Mcwh8Mk7i/G790stAw19Q
         ZGr3DIFsWKSZ4DSh+bd/2GKN63b5YNKh0pbYyN7VaCYBkNTxgDVRfrPB4SlCiGjPVYBO
         VGPsgpoHF32HAoCAHPYf439zjSuZt3Pto4Mg3vRW4qMXXaOH3EeBDJJRsJqQIJzgxQbS
         JaaA==
Received: by 10.213.34.132 with SMTP id l4mr444245ebd.87.1336051803151;
        Thu, 03 May 2012 06:30:03 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id d18sm25483943eeb.7.2012.05.03.06.30.00
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 06:30:01 -0700 (PDT)
Message-ID: <4FA28854.6000300@pidster.com>
Date: Thu, 03 May 2012 14:29:56 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es>
In-Reply-To: <4FA25F8C.6030804@yahoo.es>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig9DF5E529A8B71191C7885653"
X-Gm-Message-State: ALoCoQli/fqDz4t9VETwkhK6ziJbJzsW4Y8QXlEvMCQOf6ocVbWYdvy/rJLKKsX6SmghIBV3JtLR

--------------enig9DF5E529A8B71191C7885653
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 11:35, Miguel Gonz=E1lez Casta=F1os wrote:
> Dear all,
>=20
>   My Tomcat 5.5 server reports in catalina.out under heavy load that
> Tomcat is pausing. I checked and no java process was running and I had
> to start Tomcat manually.

Can you post an example of the message from catalina.out that says
Tomcat is pausing?


>   No errors before in catalina.out. The only error found today (It
> crashed 3 times in 3 hours) was an outofmemory error.
>=20
>   I changed from 1024Mb to 1536Mb in catalina.sh:
>=20
>   CATALINA_OPTS=3D"$CATALINA_OPTS -Xms1536m -Xmx1536m"

Do you actually have 2Gb of free RAM to assign to the Tomcat process?


>   After installing Javamelody I saw that memory use was reaching 1056 M=
b
> (probably that triggered the outofmemory error).
>=20
>   Anything I can check or any setting I can set to get more information=

> in the next crash?

Enable JMX & connect to Tomcat using VisualVM (with the MBean & Memory
Pool plugins).  Monitor thread counts & memory usage.

Enable an access log, process it to determine traffic volume.

Maybe there's a problem, maybe you're just seeing more traffic than your
app(s) can handle with a single Tomcat.


p


--=20

[key:62590808]


--------------enig9DF5E529A8B71191C7885653
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPoohWAAoJEGoM2OGpOvr9ydEP/R2Q9rEx+GFX4VI2Obf+8I5A
Z4Ip9sAfNLGDywVIVtMclPiEg95lZioMq7E5lqa9+6MsKUOIJFzXc5jEZbbzIOZZ
Y8YXtPbbikrcDDy81stFdDtMXSn55SqJuKV0uNqzTZgkX32iohM3BGFtNVHMtT5l
Z9zom3PgDCYeKBdi/ZldFKAw/a0iLhC9k3xFbvjaZ6aN0PhdmN/8KHr0zNgoU4yq
iGgch8Z94nEsygP5ugVRSaUQofFdYoU+UrAleKqJArIKbrkK2OiCitmNFef3PK76
X3KFkXzE4mXIceslVZD1cMJIwVhKLnVBqEGopWE3L2Z3cKlZbtnLzgBQY9j3E9Cq
Guvse+PXP1XHsEVdx2OQVmI3LyK/GirqbR6nq+lnLsmZVDlNKJqU4+gHiuWtwrjv
sPcO6BKCZ2Y+Lqk44ZW3qaKnr/R9J3ovIi6TWhu2/w/WNFQsd6UHLPvTz0rrUvit
ZXOY+jsZ5JCKjF7QiAfV0JXXqAEdX90HB5TY3cbeSbx55X8CQNvQufIfhHyiSViP
TBjjwN2EuZl9a5ISo+tlt/I1np50Hon6RjYrhYjkTJtL2qxwyeRBXX4HeIyAboYx
eheurzxVQze7bQ7rnJ4R3Itm0QLCfqgTupeRRw/t/J0pa32B3D52XQR6YEh81Vzu
hxdbgp6a1RobXjevvzrv
=h7lS
-----END PGP SIGNATURE-----

--------------enig9DF5E529A8B71191C7885653--

From users-return-233958-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:32:48 2012
Return-Path: <users-return-233958-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6D60C02D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:32:48 +0000 (UTC)
Received: (qmail 62973 invoked by uid 500); 3 May 2012 13:32:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62757 invoked by uid 500); 3 May 2012 13:32:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62748 invoked by uid 99); 3 May 2012 13:32:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:32:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:32:40 +0000
Received: by eekc4 with SMTP id c4so30545eek.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:32:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=CMt3v2bpwZmotpdXIRV1Szl51HwklAu3TkExo5tXisY=;
        b=s2kVtLAoOcQA9zejItazK/8nBZxIaDJSlyYTIy36IVcYBvgrckpwMRKmZX6IMGMXjY
         MNyrc1yA2lGGAcP9BxWdEXmubdOQnql6pv6HTC4C9hIrrnPMHI5RwURFgr+KWPW8Q9OY
         pCMh853tg+xRuBpkY+sotw/gvk/tlf1cX6LQY=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=CMt3v2bpwZmotpdXIRV1Szl51HwklAu3TkExo5tXisY=;
        b=jVkBl022f1sLNLRwixwi5W0nzB/Aaeh6oJ4aWh574Uj46+Y0/01EJQ0Vx/D9jtO2jv
         nO85su/f1KxoUGFI2d/FTcCvEbTLR//pJdqHb2g8p8GxaA2nZtWEy2Mu9r5616mHcu0s
         L0fl6AddakAMlGqIiYmlI1iOo0swTbEOE21xJKIwQnPDSjSqOu17INyu6dX7+0QqZSwU
         ZBtO+WxEMuRoP/SiMZfM2JuWzTbRLKyU3vuk9g8YgQ1p88BiFJlxlEotIve9+xU+I8uW
         bpIMSybBk3+Fbk/i/DzQGA8dHmKRGmCZoo1MrIhKfjZ/LHw/o5Agg3f1F0Lbht2PIkh6
         qC1g==
Received: by 10.14.119.15 with SMTP id m15mr427036eeh.34.1336051938414;
        Thu, 03 May 2012 06:32:18 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id z47sm25527972een.5.2012.05.03.06.32.15
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 06:32:16 -0700 (PDT)
Message-ID: <4FA288DD.3090305@pidster.com>
Date: Thu, 03 May 2012 14:32:13 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
In-Reply-To: <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigAC92C48E33BE30B898B26800"
X-Gm-Message-State: ALoCoQmJEJoN0Vm6eA5p7ChrbOLMYOxMtVVxhLoOZEkCZ4uZTIuBPExJyKSu41hHWCjM4LBvpXjn
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigAC92C48E33BE30B898B26800
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 14:28, Todd Seidenberg wrote:
> I have a script in cacti that graphs data from the XML generated by the=

> manager app. I was using this before, with this same application, in a
> non-standalone mode. I would love to switch back to the previous setup,=
 but
> cannot because of reasons beyond my control.
>=20
>=20
> So if I wanted to drop in a manager app from a complete version of tomc=
at,
> will I need a seperate virtual host to run it? Or can I run it's contex=
t
> within the same host thats currently running my standalone app?

The manager app must run in the same Host as the apps you want to
manage.  If you have multiple hosts, then you need multiple Manager app
installs.


> My previous efforts to do this resulted in a BLANK page when I tried
> hitting the manager app - so any help would be appreciated.
>=20
> Thoughts?

=2EoO( Please don't top post )


p

> On Wed, May 2, 2012 at 2:46 PM, Caldarale, Charles R <
> Chuck.Caldarale@unisys.com> wrote:
>=20
>>> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
>>> Subject: Adding the manager app to a Standalone tomcat install
>>
>>> I'm trying to use the manager app, so that I can collect performance
>>> metrics on our running Standalone Tomcat setup.
>>
>> What kind of performance information do you think the manager webapp w=
ill
>> give you?  Have you looked at just enabling the AccessLogValve?  For r=
eal
>> performance data, you might want to look at these:
>>
>> http://moskito.anotheria.net/
>> http://code.google.com/p/psi-probe/
>>
>>> Is it possible to install the manager app in an install like this?
>>
>> Sure - get a normal Tomcat download for the same version, and copy the=

>> manager webapp and its associated manager.xml file over to your
>> installation.  You'll likely need to update conf/tomcat-users.xml or
>> whatever authentication mechanism you have employed in order to access=
 the
>> manager.
>>
>>  - Chuck
>>
>>
>> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETA=
RY
>> MATERIAL and is thus for use only by the intended recipient. If you
>> received this in error, please contact the sender and delete the e-mai=
l and
>> its attachments from all computers.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>=20


--=20

[key:62590808]


--------------enigAC92C48E33BE30B898B26800
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPoojdAAoJEGoM2OGpOvr9XN8P/16BKzXByL9DRXAwv9uUR7gI
OHsVTSnrGGP3DVxQMZ6MgLEvR80QkvHHA67888eLN+U97GAGgYnakvoOY4deMTCk
9ujd617O5Cpf784SE+nvUUQlTROmVSkCygVVkNc5oj/kjLtdmrqCC7QW8ULc1/y+
UTMKe/VNYNeBl8eV3coReKZ/YliWION/K5YKyJa3QleFnJp7/WyaFqSsAQIGwLZr
rqQYqlNQ0muMq6X75BBNJhekG4S9Rs8Nm6x5b7kl8MtvaHRYyLIAwGYPveB8EhLt
48Bk2pd2oFWPdBjkVgtdsMETxheenmQYnM0oNUh/Pg9zoud9IIko+26C0EQDJtP8
U7QCtIitIoKGjnf/D1F7Uu7WyNaP+pY1z6BehrmixfKcCOYc0E3QmD+PWoS8aorY
Ltr1WI497gwSf22uGOeoVQYkqWqHCQjGKsFv2J5CCpPvRm/PrhUIiulrmGJCk5O+
LNCBDUKMnn85AnJ7HrUwI7TEIR2GCG6DbDmPOGqHuyR1gX/DFMkh0WYtxtLk14hT
PzUpG/ZvJR90EDN7IYNEEUFd/Okw+Tx8ryyea43qpIUYOULKVrtiNqeMYT/1I25l
wZ4dFEdJPNBzLaJTLuezrY8mkgVhB4uWlOMzigXHaFOg77YdLgcpbcUH2B/SzhJ1
i5NrdV8QWN5SnmR12aIh
=E9wt
-----END PGP SIGNATURE-----

--------------enigAC92C48E33BE30B898B26800--

From users-return-233959-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:36:43 2012
Return-Path: <users-return-233959-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25986C049
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:36:43 +0000 (UTC)
Received: (qmail 82404 invoked by uid 500); 3 May 2012 13:36:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82353 invoked by uid 500); 3 May 2012 13:36:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82344 invoked by uid 99); 3 May 2012 13:36:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:36:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:36:34 +0000
Received: by eekc4 with SMTP id c4so32590eek.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:36:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=c5LsUK2zL7PzBRXAnOu5GdziHGdZOdyEZ6KojZzTNNE=;
        b=NbIZdhXOUdu0msx1Rprxkcwzk+QL6emkgwPFhHnXAHl6xO+iXuPA8Hxt7M4iCrgPE+
         Ar82YEz2KR24vpe8bViqRfNkk98BgCEbBc2aH3MxJWp9T5vOBtSv6G0B1yN42/4xo46c
         EXpY28wEoLHMDw/GwUp7UVoiIo0Yc9LlYg3Jw=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=c5LsUK2zL7PzBRXAnOu5GdziHGdZOdyEZ6KojZzTNNE=;
        b=Tq/0esXCQCV018GnT2p3weJwjwW3TbubfFJ6JMP8w94+lPQ4tlb6yWJGiGy37qEITx
         +DEzQ526s+WF0tkS7wnZ+0oEEqCxGXLBx/oR+GDugYhKEk1Xf84Bh1ph6/ihoBCwilvt
         D5Ycbqu90pDOqWQw2Ccff4Kt4iaADJWib2OCX2zs2ho/peKdjwkJ2uIb92hpfTJGp2di
         K5ezm8WtVXpfEdz7OT7xwAQ9rFzuVj2PSaOkA5gnUYv1/Pxsq6UFbb4DMWNkmB41fWA0
         4wPe+3bQXxMo8wGk0et64DLqvqp4Vuf+W/LZ+iX7bTuUcrcCgBu5Q5BwWF9ahoE5z+v8
         1M6A==
Received: by 10.213.19.209 with SMTP id c17mr462723ebb.46.1336052172892;
        Thu, 03 May 2012 06:36:12 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id y53sm25586543eea.3.2012.05.03.06.36.09
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 06:36:11 -0700 (PDT)
Message-ID: <4FA289C7.8010806@pidster.com>
Date: Thu, 03 May 2012 14:36:07 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org> <1336042325364-4948903.post@n6.nabble.com>
In-Reply-To: <1336042325364-4948903.post@n6.nabble.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigB8EAA2B281F6B45578C6B1EE"
X-Gm-Message-State: ALoCoQmiu81uSv6lXO/wlYKmrKyBZto0B4PrJJD13uwVWYNNTHiYIqU1JI0VO860Ed6MZ9QdYYgA
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigB8EAA2B281F6B45578C6B1EE
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 11:52, hunters1094 wrote:
> hi
>=20
> I have this problem too. I tried to find the solution, tried to use thi=
s
>=20
> http://stackoverflow.com/questions/8072311/illegalstateexception-cannot=
-create-a-session-after-the-response-has-been-commi
>=20
> Solution state-saving-method
>=20
> But it only reduces error times, but not removes completely.
>=20
> Thanks.

As Chuck says earlier - this is, in almost all cases, a side-effect of
the application or framework incorrectly persisting a
request/response/session object in a Servlet instance field or some
other location that is not thread safe.


p


--=20

[key:62590808]


--------------enigB8EAA2B281F6B45578C6B1EE
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIbBAEBCgAGBQJPoonHAAoJEGoM2OGpOvr98X0P93B8z2AcJPcNpk82EuB3IHBX
7SHhJVoVc7NVYDIyDUiTijAcG0ZxF0JNe7kpAk1rCkg/7ygWqP/YhM0DXF6eUNq8
uCYsELWD1ISv98ecB6HlEFHoF5lOi6CEj+DAGnYFyFNlY4zVk8Ng9curRRh18I4Y
7gpObPVbxxpiLRupxY3ZAF5qkj4lhAb2SQjhJZ8CSPu8EU6UrTtFznbvYYzcz/JH
nFXn4Z0wCf9RnDSDIR5/RDYoDD6GgoV+ALhRbdrOGrXXK6NWfYZhkGTOl1W/W4+a
EZBSDUZIUmpWgThUEQ7XNAl0dKSGW2PGzY1b4bsf7VYBvatc9ISwzN67RaA+M5TO
SQ7uynoHVwenKoQvIoBb+ptukdEyuxaZQTuZYPuVq0K1X5NCENy+coVokrNEonme
j8KOvvwg/SomKz3/+MRiZ4DLHM+thvSkyqjNNApuvRxAEWh2Prkxm/ixxc7RlcTn
ilzWNhefqZ9DGAFZ6TqP2Pl86bq5liiTTrBAUckkIePIlWwM7jCBWYjBlNTY7XhL
l6TlZIWPX1FlvNJIocycY9ABoYCicUQNagRVgyMLqg4GvJy0uSimw874YE96onLc
HS7jN26s2EjnOtkCxShkF1pKkICaysM933H7ula1BCSIrRFckc64dWINKw0n10rX
z8b8w0k7USCld1PWXlM=
=xi72
-----END PGP SIGNATURE-----

--------------enigB8EAA2B281F6B45578C6B1EE--

From users-return-233960-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 13:38:28 2012
Return-Path: <users-return-233960-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5DDBC055
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 13:38:28 +0000 (UTC)
Received: (qmail 88463 invoked by uid 500); 3 May 2012 13:38:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88363 invoked by uid 500); 3 May 2012 13:38:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88354 invoked by uid 99); 3 May 2012 13:38:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:38:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 13:38:19 +0000
Received: by yenr5 with SMTP id r5so2349974yen.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 06:37:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Fxh3wncfJAEIsHpthWlQ+8lMyhDuMqryU5ByXKHWzNs=;
        b=Moor81C5xGHMDWJUssOWwfXxMQ6xyINv6ER4noyUC5nVbGdDfri+uL3NlbLhfL6WPR
         J9h13l9Tg8dqKY3BvVUEvGgjY2mYtC/R1/a+RV0i2+NSRTyBoF2i17Xi2LIoTloQeUD6
         /P2TyylQvwPqyEL2bA7+S6LAJ90HN8TK8X32Cek2mKsDc+KxRf7KZMxmjaF9XFOAw3Lw
         GrIYUiBcNaKmS7Z53llEyjy6ph6k6ve6/y+Y33fmbQRyYQocXdsFqbRMF6NYyPZNjvyk
         TZBn8VSeoL7j6nstLHEfK9R2btWFG33eOEa1Z9EbmrnCQdWnilvvA8tvJTSGjJlILa8L
         ADrw==
MIME-Version: 1.0
Received: by 10.236.191.233 with SMTP id g69mr3045338yhn.20.1336052278792;
 Thu, 03 May 2012 06:37:58 -0700 (PDT)
Received: by 10.146.161.7 with HTTP; Thu, 3 May 2012 06:37:58 -0700 (PDT)
In-Reply-To: <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
Date: Thu, 3 May 2012 17:37:58 +0400
Message-ID: <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/3 Todd Seidenberg <todd.seidenberg@gmail.com>:
> (..)

+1 to what Pid wrote.

>
> My previous efforts to do this resulted in a BLANK page when I tried
> hitting the manager app - so any help would be appreciated.
>

Blank page means that there is no ROOT web application deployed on that host.
You are likely hitting a wrong URL and there is no default application
to display user-friendly 404 page for you.

Anyway, a lot depends on how your "standalone" Tomcat actually
operates. If it is close to standard distribution, then changing its
configuration should be easy.

If it is "embedded" Tomcat where all configuration is done
programmatically by whatever starts is, then you are out of luck,
because configuration files will be irrelevant.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233961-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:00:47 2012
Return-Path: <users-return-233961-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8DEEC10A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:00:46 +0000 (UTC)
Received: (qmail 53981 invoked by uid 500); 3 May 2012 14:00:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53914 invoked by uid 500); 3 May 2012 14:00:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53905 invoked by uid 99); 3 May 2012 14:00:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:00:43 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of linzuxiong1988@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:00:38 +0000
Received: by qaeb19 with SMTP id b19so353037qae.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 07:00:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Jt5Rj/LeayAJABHr2fzGd7TW+cZCMZfprNO4UMGDIis=;
        b=nXCqi18qqrFXMk/TVdoZER+hehc6GeTtrBubQ+v+NrkD/FqXjJDEtg3vz05LFguUJ1
         m2rtgOCFVlQ/Urnjd6irr77nP+NXqTKd6/MNCjZKSJ8F0fJmC1h4Zur0ptQwidWwEZmo
         AyPbfxrGvL3H8iVQCToxqvxqFkRAbzur/lnN9bcBGpadKQHNcAG3NrMMtA7JMeD/AKQR
         DQzwCxhK2qW6UEd/jMdI0pVxmtJ5//TzKtoOv3bScQAsZqtxc7+bkXollelnQAx5XBK8
         TYTH12wX26ftrvNk2liEI4GNzDpNVzkusgnbnOfEr3Aziqp6qq2fKtpso6rHTvl1X4xQ
         v4Zg==
MIME-Version: 1.0
Received: by 10.224.215.132 with SMTP id he4mr3945873qab.96.1336053617869;
 Thu, 03 May 2012 07:00:17 -0700 (PDT)
Received: by 10.229.12.145 with HTTP; Thu, 3 May 2012 07:00:17 -0700 (PDT)
In-Reply-To: <dd4772f5-b743-496a-a756-894fd345379c@arizona.hanik.com>
References: <b239a017-3997-4000-9add-6c36cae3e631@arizona.hanik.com>
	<dd4772f5-b743-496a-a756-894fd345379c@arizona.hanik.com>
Date: Thu, 3 May 2012 22:00:17 +0800
Message-ID: <CACSA5wZ_4g4nq7_+2iziJQsr7NiSMhksqzV-2eNHbiMWrebO9Q@mail.gmail.com>
Subject: Re: How to config the Tomcat 7.x JNDI datasource by using BoneCP ??
From: zuxiong lin <linzuxiong1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf300513184b42db04bf2239f3
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf300513184b42db04bf2239f3
Content-Type: text/plain; charset=ISO-8859-1

Hei.   Of course, I write the name in <Resource> element.
But Tomcat 7's logs report it .
Please to find others before this letter, and you will read the Tomcat's
logs!
> minConnectionsPerPartition="3" name="jdbc/SoftmgrV3" partitionCount="2"


On Thu, May 3, 2012 at 9:24 PM, Filip Hanik Mailing Lists <
devlists@hanik.com> wrote:

> found it, check the logs at startup for the error and post it here.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf300513184b42db04bf2239f3--

From users-return-233962-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:03:25 2012
Return-Path: <users-return-233962-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B8ECC117
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:03:25 +0000 (UTC)
Received: (qmail 64507 invoked by uid 500); 3 May 2012 14:03:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64413 invoked by uid 500); 3 May 2012 14:03:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64404 invoked by uid 99); 3 May 2012 14:03:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:03:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:03:15 +0000
Received: by qcsc20 with SMTP id c20so1511448qcs.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 07:02:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=3C1liLTxP/Eb9mhFxQl4sznK1+hDJFUPE7u6FSu5/gg=;
        b=LrdRbhWs7WX3zNQMdv77Oxm/WSRCpj5GCdpFKp7+LlE8cPi6UvDAhPPmujijz3kt3K
         GHcsk7qRXrrfZuVikkHjRZ/Y+im0p+2e3F6FpAj9qne1pWS5XfOmhKL4PLbi69UHh/LF
         VGdhxzUGLl8t21pISQ5WKFGxKe/Z49BkWhZUulbzje3diLuHatl7KKlCuGpQ4KdOkz5p
         XQldcJN7zp/wmkyLcDaD4deULP7mBROWl7wf7RT6yQH7TxXTsI+URieCXmhT6ZH+wOFp
         8pVJTNTozWpX7R/06l+tUuRm6YwvZx6ENZmBeSN97h+A1ZmywPQiVwop7aLjOFXlRC3i
         ZG+w==
Received: by 10.229.134.212 with SMTP id k20mr997521qct.145.1336053773780;
        Thu, 03 May 2012 07:02:53 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id df2sm9154693qab.8.2012.05.03.07.02.51
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 07:02:52 -0700 (PDT)
Message-ID: <4FA2900A.70209@poonam.org>
Date: Thu, 03 May 2012 19:32:50 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com>
In-Reply-To: <4FA233A1.7010609@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Gm-Message-State: ALoCoQmpnsbXTlbYDBiOj2+udE1i6GcCFA/zdh+079X6n82tFxDipLoyOJgD+HlSRY4xOuDSUgX0
X-Virus-Checked: Checked by ClamAV on apache.org

No Luck Andre :-( , Removed one of the tomcat users tag,how do i 
validate xml ?

I tried with below tomcat users file,

<tomcat-users>
<user name="admin" password="kiran" roles="admin-gui,manager-gui" />
<role rolename="AdminRole"/>
<role rolename="UserRole"/>
<user password="tomcat" roles="tomcat,role1" username="both"/>
<user password="tomcat" roles="UserRole" username="role1"/>
<user password="tomcat" roles="AdminRole,manager-script,admin" 
username="tomcat"/>
<role rolename="manager-gui"/>
<user username="kiran" password="kiran" roles="manager-gui"/>
<role rolename="probeuser" />
<role rolename="poweruser" />
<role rolename="poweruserplus" />
<role rolename="manager" />
<user username="admin" password="t0psecret" roles="manager" />
</tomcat-users>
On 5/3/2012 12:58 PM, Andr Warnier wrote:
> Kiran Badi wrote:
>> I just want to have one instance of tomcat up and running always 
>> whenever I start my system exactly the way I have httpd service 
>> running always.
>>
>> ok now moving forward, I installed the tomcat 7.0.27 as service,made 
>> changes to shutdown ports/APR ports etc and now its runing fine as a 
>> service.I have now 2 tomcats sitting in same apache directory one is 
>> 7.0.11(this runs with netbeans) and another is 7.0.27(this runs as 
>> windows service).
>>
>> Now I want to deploy the my app war file to 7.0.27.But for some 
>> reasons Manager App is not accepting my credentials.Here is what I did,
>> I copied the tomcat users file of 7.0.11 to 7.0.27 and after copying 
>> restarted the service again,and tried to give the same credentials 
>> which are working fine in 7.0.11,but to my surprise,those are not 
>> working in 7.0.27
>> here is tomcat users file,(Sorry for pasting some commented section 
>> in below file,but its imp for me not to delete anything for which I 
>> dont have much information or knowledge).Pls note that his tomcat 
>> users file works perfect fine in 7.0.11 for user kiran/kiran
>
> If it does, then there is severe bug somewhere.  As shown below, that 
> file has 2 openin <tomcat-users> tags, and only one closing 
> </tomcat-users> tag. That is invalid xml.
> Try again.
>
> It is usually a better idea to make a copy of the original file as it 
> was in the distribution (adding some suffix like ".original"), and 
> then make a "working" version, removing all superfluous comments and 
> leaving only what is really effective.
> It also makes it a lot easier for people on the list to spot the 
> errors, without having to waft through kazillions of comment lines 
> which may be badly-formatted in an email..
>
>
>
>>
>> <?xml version='1.0' encoding='cp1252'?>
>> <!--
>>   Licensed to the Apache Software Foundation (ASF) under one or more
>>   contributor license agreements.  See the NOTICE file distributed with
>>   this work for additional information regarding copyright ownership.
>>   The ASF licenses this file to You under the Apache License, Version 
>> 2.0
>>   (the "License"); you may not use this file except in compliance with
>>   the License.  You may obtain a copy of the License at
>>
>>       http://www.apache.org/licenses/LICENSE-2.0
>>
>>   Unless required by applicable law or agreed to in writing, software
>>   distributed under the License is distributed on an "AS IS" BASIS,
>>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or 
>> implied.
>>   See the License for the specific language governing permissions and
>>   limitations under the License.
>> -->
>> <tomcat-users>
>> <user name="admin" password="kiran" roles="admin-gui,manager-gui" />
>> <!--
>>   NOTE:  By default, no user is included in the "manager-gui" role 
>> required
>>   to operate the "/manager/html" web application.  If you wish to use 
>> this app,
>>   you must define such a user - the username and password are arbitrary.
>> -->
>> <!--
>>   NOTE:  The sample user and role entries below are wrapped in a comment
>>   and thus are ignored when reading this file. Do not forget to remove
>> <!.. ..> that surrounds them.
>> -->
>> <?xml version="1.0" encoding="UTF-8"?>
>> <!--
>>   Licensed to the Apache Software Foundation (ASF) under one or more
>>   contributor license agreements.  See the NOTICE file distributed with
>>   this work for additional information regarding copyright ownership.
>>   The ASF licenses this file to You under the Apache License, Version 
>> 2.0
>>   (the "License"); you may not use this file except in compliance with
>>   the License.  You may obtain a copy of the License at
>>
>>       http://www.apache.org/licenses/LICENSE-2.0
>>
>>   Unless required by applicable law or agreed to in writing, software
>>   distributed under the License is distributed on an "AS IS" BASIS,
>>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or 
>> implied.
>>   See the License for the specific language governing permissions and
>>   limitations under the License.
>> -->
>> <tomcat-users>
>> <!--
>>   NOTE:  By default, no user is included in the "manager-gui" role 
>> required
>>   to operate the "/manager/html" web application.  If you wish to use 
>> this app,
>>   you must define such a user - the username and password are arbitrary.
>> -->
>> <!--
>>   NOTE:  The sample user and role entries below are wrapped in a comment
>>   and thus are ignored when reading this file. Do not forget to remove
>> <!.. ..> that surrounds them.
>> -->
>> <role rolename="AdminRole"/>
>> <role rolename="UserRole"/>
>> <user password="tomcat" roles="tomcat,role1" username="both"/>
>> <user password="tomcat" roles="UserRole" username="role1"/>
>> <user password="tomcat" roles="AdminRole,manager-script,admin" 
>> username="tomcat"/>
>> <role rolename="manager-gui"/>
>> <user username="kiran" password="kiran" roles="manager-gui"/>
>> <role rolename="probeuser" />
>> <role rolename="poweruser" />
>> <role rolename="poweruserplus" />
>> <role rolename="manager" />
>> <user username="admin" password="t0psecret" roles="manager" />
>> </tomcat-users>
>>
>>
>> Any ideas why its not working in 7.0.27 ?
>>
>> My system is win 7 32 bit home premium with JDK 1.6.32
>>>> ________________________________
>>>> From: Andr Warnier<aw@ice-sa.com>
>>>> To: Tomcat Users List<users@tomcat.apache.org>
>>>> Sent: Sunday, April 29, 2012 2:18 PM
>>>> Subject: Re: How to run Tomcat as Service on windows start up.
>>>
>>>>> Mark Eggers wrote:
>>>>> NetBeans will complain that it cannot find the startup.bat and 
>>>>> shutdown.bat
>>>>> required to do these tasks if you install the service.
>>>> Presumably then, you could replace startup.bat and shutdown.bat
>>>> by similarly-named .bat files which respectively do
>>>> net start "Apache Tomcat"
>>>> and
>>>> net stop "Apache Tomcat"
>>>> (to keep it simple)
>>>>
>>> I suppose you could. I don't know how intrusive NetBeans' 
>>> investigation of the scripts are. In Windows Vista and Windows 7, 
>>> UAC might become a problem. I'm not a Windows person, so I'd have to 
>>> investigate this.
>>>
>>>> Similarly, it should be possible to create .bat files which run the 
>>>> Tomcat wrapper tomcatX.exe with the appropriate arguments to start, 
>>>> stop, or run Tomcat in debug mode.
>>>  From my recollection of the service, don't you have to configure 
>>> the service for debug using the service configuration program? I'm 
>>> not sure how you would handle that through NetBeans, since I believe 
>>> it simply does what start.bat / catalina.bat require (pass the debug 
>>> argument to catalina.bat).
>>>
>>> So, you might need a single startup.bat and shutdown.bat that would 
>>> determine which service to run, and which service was running . . . .
>>>
>>>> No ?
>>>>
>>>> (Although, if I understood the OP's request correctly, the point 
>>>> here would
>>>> be to start Tomcat as a service as soon as Windows starts.  So 
>>>> presumably,
>>>> the necessity of having a "startup.bat" is not evident anymore).
>>> It's a little unclear as to what the OP request is. It sounds like 
>>> the OP has two requirements:
>>>
>>> 1. Deal with Tomcat in a development environment using NetBeans
>>>
>>> To me this means starting, stopping, debugging, launching with the 
>>> security manager, etc. That's hard to do when you don't own / 
>>> completely control the service.
>>>
>>> The same problem exists in Linux. People want a system-wide Tomcat 
>>> but want to use NetBean's deploy and debug facilities. There are all 
>>> sorts of interesting permissions problems with this.
>>>
>>> NetBeans operates by deploying a context.xml file as [app-name].xml 
>>> in the appropriate Engine/host directory. The application is 
>>> actually run out of [project-name]/build. This works fine, and you 
>>> can do a lot of dynamic updates in this fashion.
>>>
>>> What happens when the user of the IDE doesn't have access to post a 
>>> context. xml to the appropriate directory? What happens when Tomcat 
>>> doesn't have access to read a user's [project-name]/build directory?
>>>
>>> So for this use case, it's far easier and cleaner to maintain your 
>>> own copy of Tomcat that can be registered, managed, and controlled 
>>> by NetBeans.
>>>
>>> 2. Demonstrate works in progress to other developers
>>>
>>> Putting aside for the moment that turning development box into a 
>>> demonstration server may not be a good thing, it's sometimes handy. 
>>> For this I was recommending a system-wide Tomcat (run as a service). 
>>> You then just use the manager application to update it with the 
>>> latest demonstration-ready software.
>>>
>>> I think this has a few advantages. You don't show off intermediate 
>>> (and potentially embarrassing) code. The service is up regardless of 
>>> whether you're developing or not (OP's original request).
>>>
>>>
>>> . . . . just my two cents.
>>>
>>> /mde/
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233963-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:26:21 2012
Return-Path: <users-return-233963-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3EAB2CC9F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:26:21 +0000 (UTC)
Received: (qmail 31371 invoked by uid 500); 3 May 2012 14:26:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31280 invoked by uid 500); 3 May 2012 14:26:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31271 invoked by uid 99); 3 May 2012 14:26:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:26:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:26:10 +0000
Received: by eaaf11 with SMTP id f11so839682eaa.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 07:25:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=tikaaUkqxsVg4Hw32EOt7txAQ3rE1Wns38glqFVtXzo=;
        b=OKtn1yOhHhXah7DJoiRGo9khCK3Lec9+7k5useZhR5UOqLcEFgoV9XhBZV13blX+a+
         q0ZMJ2xoay7b4hKEFU+EBbRE30nl4tR1VzU3BaqK4Fq/Z8l5zufz4HXgIuPHRTI9NAvL
         W+z8dZlH6TU9CL0vkva0bqPyvWGbZN9rMAe9s=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=tikaaUkqxsVg4Hw32EOt7txAQ3rE1Wns38glqFVtXzo=;
        b=X9pTAzHp7JCueHf0+o8cMy1cFGqnfsth1XvYTvxVaj8jVNcycHW+9+V4vxqUVuhzEE
         DP8FjL6sAqcba1lpRQ4zfRV5J1+oRBBqJNqQW/TVALxq4T9C2RZe1Efm90AfDb6wiJ1A
         FGr842hpjWElTw4XHwOredsZDfVWTOTxkr4mPNJmIpAOTItFLvac1tfO2J/A0Fq15mqm
         9I8EqAwiHS/N2ug41PUYlMMQqu85LUSiBaB89Q7acSaskLNYm4jpNs/Xl4F6stnNHiek
         ffPxoEgdff4NBpivKw95bubaoPtO9zhIeMkkwrgusLc/FWcAR3qY3mX5j5qUqN1HF2bh
         pRCQ==
Received: by 10.213.121.1 with SMTP id f1mr500022ebr.139.1336055149812;
        Thu, 03 May 2012 07:25:49 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id r44sm26196840eef.2.2012.05.03.07.25.47
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 07:25:48 -0700 (PDT)
Message-ID: <4FA29566.70302@pidster.com>
Date: Thu, 03 May 2012 15:25:42 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com> <4FA2900A.70209@poonam.org>
In-Reply-To: <4FA2900A.70209@poonam.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig651A4B6685F7821CD4688C56"
X-Gm-Message-State: ALoCoQmWs27YkolvMU+mRUKj37X6zQtjxrRl7gkfOwKL6hO0yt6lEnt0zf8FV/AKZxwjJ8SvnGAr

--------------enig651A4B6685F7821CD4688C56
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 15:02, Kiran Badi wrote:
> No Luck Andre :-( , Removed one of the tomcat users tag,how do i
> validate xml ?
>=20
> I tried with below tomcat users file,
>=20
> <tomcat-users>
> <user name=3D"admin" password=3D"kiran" roles=3D"admin-gui,manager-gui"=
 />
> <role rolename=3D"AdminRole"/>
> <role rolename=3D"UserRole"/>
> <user password=3D"tomcat" roles=3D"tomcat,role1" username=3D"both"/>
> <user password=3D"tomcat" roles=3D"UserRole" username=3D"role1"/>
> <user password=3D"tomcat" roles=3D"AdminRole,manager-script,admin"
> username=3D"tomcat"/>
> <role rolename=3D"manager-gui"/>
> <user username=3D"kiran" password=3D"kiran" roles=3D"manager-gui"/>
> <role rolename=3D"probeuser" />
> <role rolename=3D"poweruser" />
> <role rolename=3D"poweruserplus" />
> <role rolename=3D"manager" />
> <user username=3D"admin" password=3D"t0psecret" roles=3D"manager" />
> </tomcat-users>

Please don't top-post.

Have you actually read the list of roles & users you have?

Perhaps if you tidied it up & put them all in a sensible order, you see
some of the problems you're making for yourself.


p



> On 5/3/2012 12:58 PM, Andr=E9 Warnier wrote:
>> Kiran Badi wrote:
>>> I just want to have one instance of tomcat up and running always
>>> whenever I start my system exactly the way I have httpd service
>>> running always.
>>>
>>> ok now moving forward, I installed the tomcat 7.0.27 as service,made
>>> changes to shutdown ports/APR ports etc and now its runing fine as a
>>> service.I have now 2 tomcats sitting in same apache directory one is
>>> 7.0.11(this runs with netbeans) and another is 7.0.27(this runs as
>>> windows service).
>>>
>>> Now I want to deploy the my app war file to 7.0.27.But for some
>>> reasons Manager App is not accepting my credentials.Here is what I di=
d,
>>> I copied the tomcat users file of 7.0.11 to 7.0.27 and after copying
>>> restarted the service again,and tried to give the same credentials
>>> which are working fine in 7.0.11,but to my surprise,those are not
>>> working in 7.0.27
>>> here is tomcat users file,(Sorry for pasting some commented section
>>> in below file,but its imp for me not to delete anything for which I
>>> dont have much information or knowledge).Pls note that his tomcat
>>> users file works perfect fine in 7.0.11 for user kiran/kiran
>>
>> If it does, then there is severe bug somewhere.  As shown below, that
>> file has 2 openin <tomcat-users> tags, and only one closing
>> </tomcat-users> tag. That is invalid xml.
>> Try again.
>>
>> It is usually a better idea to make a copy of the original file as it
>> was in the distribution (adding some suffix like ".original"), and
>> then make a "working" version, removing all superfluous comments and
>> leaving only what is really effective.
>> It also makes it a lot easier for people on the list to spot the
>> errors, without having to waft through kazillions of comment lines
>> which may be badly-formatted in an email..
>>
>>
>>
>>>
>>> <?xml version=3D'1.0' encoding=3D'cp1252'?>
>>> <!--
>>>   Licensed to the Apache Software Foundation (ASF) under one or more
>>>   contributor license agreements.  See the NOTICE file distributed wi=
th
>>>   this work for additional information regarding copyright ownership.=

>>>   The ASF licenses this file to You under the Apache License, Version=

>>> 2.0
>>>   (the "License"); you may not use this file except in compliance wit=
h
>>>   the License.  You may obtain a copy of the License at
>>>
>>>       http://www.apache.org/licenses/LICENSE-2.0
>>>
>>>   Unless required by applicable law or agreed to in writing, software=

>>>   distributed under the License is distributed on an "AS IS" BASIS,
>>>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
>>> implied.
>>>   See the License for the specific language governing permissions and=

>>>   limitations under the License.
>>> -->
>>> <tomcat-users>
>>> <user name=3D"admin" password=3D"kiran" roles=3D"admin-gui,manager-gu=
i" />
>>> <!--
>>>   NOTE:  By default, no user is included in the "manager-gui" role
>>> required
>>>   to operate the "/manager/html" web application.  If you wish to use=

>>> this app,
>>>   you must define such a user - the username and password are arbitra=
ry.
>>> -->
>>> <!--
>>>   NOTE:  The sample user and role entries below are wrapped in a comm=
ent
>>>   and thus are ignored when reading this file. Do not forget to remov=
e
>>> <!.. ..> that surrounds them.
>>> -->
>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
>>> <!--
>>>   Licensed to the Apache Software Foundation (ASF) under one or more
>>>   contributor license agreements.  See the NOTICE file distributed wi=
th
>>>   this work for additional information regarding copyright ownership.=

>>>   The ASF licenses this file to You under the Apache License, Version=

>>> 2.0
>>>   (the "License"); you may not use this file except in compliance wit=
h
>>>   the License.  You may obtain a copy of the License at
>>>
>>>       http://www.apache.org/licenses/LICENSE-2.0
>>>
>>>   Unless required by applicable law or agreed to in writing, software=

>>>   distributed under the License is distributed on an "AS IS" BASIS,
>>>   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
>>> implied.
>>>   See the License for the specific language governing permissions and=

>>>   limitations under the License.
>>> -->
>>> <tomcat-users>
>>> <!--
>>>   NOTE:  By default, no user is included in the "manager-gui" role
>>> required
>>>   to operate the "/manager/html" web application.  If you wish to use=

>>> this app,
>>>   you must define such a user - the username and password are arbitra=
ry.
>>> -->
>>> <!--
>>>   NOTE:  The sample user and role entries below are wrapped in a comm=
ent
>>>   and thus are ignored when reading this file. Do not forget to remov=
e
>>> <!.. ..> that surrounds them.
>>> -->
>>> <role rolename=3D"AdminRole"/>
>>> <role rolename=3D"UserRole"/>
>>> <user password=3D"tomcat" roles=3D"tomcat,role1" username=3D"both"/>
>>> <user password=3D"tomcat" roles=3D"UserRole" username=3D"role1"/>
>>> <user password=3D"tomcat" roles=3D"AdminRole,manager-script,admin"
>>> username=3D"tomcat"/>
>>> <role rolename=3D"manager-gui"/>
>>> <user username=3D"kiran" password=3D"kiran" roles=3D"manager-gui"/>
>>> <role rolename=3D"probeuser" />
>>> <role rolename=3D"poweruser" />
>>> <role rolename=3D"poweruserplus" />
>>> <role rolename=3D"manager" />
>>> <user username=3D"admin" password=3D"t0psecret" roles=3D"manager" />
>>> </tomcat-users>
>>>
>>>
>>> Any ideas why its not working in 7.0.27 ?
>>>
>>> My system is win 7 32 bit home premium with JDK 1.6.32
>>>>> ________________________________
>>>>> From: Andr=E9 Warnier<aw@ice-sa.com>
>>>>> To: Tomcat Users List<users@tomcat.apache.org>
>>>>> Sent: Sunday, April 29, 2012 2:18 PM
>>>>> Subject: Re: How to run Tomcat as Service on windows start up.
>>>>
>>>>>> Mark Eggers wrote:
>>>>>> NetBeans will complain that it cannot find the startup.bat and
>>>>>> shutdown.bat
>>>>>> required to do these tasks if you install the service.
>>>>> Presumably then, you could replace startup.bat and shutdown.bat
>>>>> by similarly-named .bat files which respectively do
>>>>> net start "Apache Tomcat"
>>>>> and
>>>>> net stop "Apache Tomcat"
>>>>> (to keep it simple)
>>>>>
>>>> I suppose you could. I don't know how intrusive NetBeans'
>>>> investigation of the scripts are. In Windows Vista and Windows 7,
>>>> UAC might become a problem. I'm not a Windows person, so I'd have to=

>>>> investigate this.
>>>>
>>>>> Similarly, it should be possible to create .bat files which run the=

>>>>> Tomcat wrapper tomcatX.exe with the appropriate arguments to start,=

>>>>> stop, or run Tomcat in debug mode.
>>>>  From my recollection of the service, don't you have to configure
>>>> the service for debug using the service configuration program? I'm
>>>> not sure how you would handle that through NetBeans, since I believe=

>>>> it simply does what start.bat / catalina.bat require (pass the debug=

>>>> argument to catalina.bat).
>>>>
>>>> So, you might need a single startup.bat and shutdown.bat that would
>>>> determine which service to run, and which service was running . . . =
=2E
>>>>
>>>>> No ?
>>>>>
>>>>> (Although, if I understood the OP's request correctly, the point
>>>>> here would
>>>>> be to start Tomcat as a service as soon as Windows starts.  So
>>>>> presumably,
>>>>> the necessity of having a "startup.bat" is not evident anymore).
>>>> It's a little unclear as to what the OP request is. It sounds like
>>>> the OP has two requirements:
>>>>
>>>> 1. Deal with Tomcat in a development environment using NetBeans
>>>>
>>>> To me this means starting, stopping, debugging, launching with the
>>>> security manager, etc. That's hard to do when you don't own /
>>>> completely control the service.
>>>>
>>>> The same problem exists in Linux. People want a system-wide Tomcat
>>>> but want to use NetBean's deploy and debug facilities. There are all=

>>>> sorts of interesting permissions problems with this.
>>>>
>>>> NetBeans operates by deploying a context.xml file as [app-name].xml
>>>> in the appropriate Engine/host directory. The application is
>>>> actually run out of [project-name]/build. This works fine, and you
>>>> can do a lot of dynamic updates in this fashion.
>>>>
>>>> What happens when the user of the IDE doesn't have access to post a
>>>> context. xml to the appropriate directory? What happens when Tomcat
>>>> doesn't have access to read a user's [project-name]/build directory?=

>>>>
>>>> So for this use case, it's far easier and cleaner to maintain your
>>>> own copy of Tomcat that can be registered, managed, and controlled
>>>> by NetBeans.
>>>>
>>>> 2. Demonstrate works in progress to other developers
>>>>
>>>> Putting aside for the moment that turning development box into a
>>>> demonstration server may not be a good thing, it's sometimes handy.
>>>> For this I was recommending a system-wide Tomcat (run as a service).=

>>>> You then just use the manager application to update it with the
>>>> latest demonstration-ready software.
>>>>
>>>> I think this has a few advantages. You don't show off intermediate
>>>> (and potentially embarrassing) code. The service is up regardless of=

>>>> whether you're developing or not (OP's original request).
>>>>
>>>>
>>>> . . . . just my two cents.
>>>>
>>>> /mde/
>>>>
>>>> --------------------------------------------------------------------=
-
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------=

>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig651A4B6685F7821CD4688C56
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPopVoAAoJEGoM2OGpOvr9i0cP/R6PMEShy9xb6WTCdTqiHTBg
J9e/zbNSN1rzpvi3ePQ4hrggvsi5yZRkGvwTSVIKRfw5EVjTdZko9U9h6CiGa/2B
/FYw9w4wRss5cqftxsyMUxWpiKPgCwTXgYZ+J6FnLec8nBQh24bEoQg2FWsofcrs
pGmQ7FNvHjpcibK8/RLE0soahfaLHIDbnKZGO3jMUvpPFDUkwBblvzRm7zFKMYeD
6I2sCUh3BuoTh4eefq6hqleeKHDUwelH/LV8v6pM3utvyPXSLD7qKdoyhf0NFsYQ
SZEHhT3NUZW9pew6JPOKRnQxAJ9GLVZX5ZcapDtRR4Q/xyKy2ATkAYpTAOUSi3qv
QK2c8uX4GTfu7K57PvOblSsbPB6AluZFBLk6pfPlSq4NakQaadcpXsFkySNALoEw
QJmooudjztnajHA7UoYEhGDSUkchhkSVUzqw0VrfVaLnyIHhdy9Js8aCNX8/NQHw
trDj8SOWaul0fC6XVky2RtNBafNu374/2GJiGIybZAAd/7no++1PlFIBtbqcAQTW
jyYzRK+NyvL8CZwTS9VLFxvFtpuxQB8OzkRGiKobhZzwquIT9+/oGSnJy4q/MK71
2Ojb6cSE3CZ1/pcQhy/npQWEVhbqiyBrTb5wfqFV1tSdTtdV1hP0N0lK8GKR42EY
rXFeyxeadIO6qaZox9JC
=LTyf
-----END PGP SIGNATURE-----

--------------enig651A4B6685F7821CD4688C56--

From users-return-233964-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:29:10 2012
Return-Path: <users-return-233964-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF512CA1B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:29:10 +0000 (UTC)
Received: (qmail 40960 invoked by uid 500); 3 May 2012 14:29:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40766 invoked by uid 500); 3 May 2012 14:29:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40737 invoked by uid 99); 3 May 2012 14:29:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:29:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.12.10.37] (HELO nm22-vm6.bullet.mail.ukl.yahoo.com) (217.12.10.37)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 14:28:59 +0000
Received: from [217.146.183.216] by nm22.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 14:28:38 -0000
Received: from [217.146.182.185] by tm9.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 14:28:38 -0000
Received: from [127.0.0.1] by smtp108.mail.ukl.yahoo.com with NNFMP; 03 May 2012 14:28:38 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336055318; bh=VoXcvnD1TM2HQeuwh7ZCJ9tuFvqUh5vUc+7RmQsulyw=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=YTy5dpTh5ZAQvbGvcTziy1KgV3kCHZbCLXpVn03Voif/WFxIEKoyQ47fIQrqzhOLYvOVYxposreMS0pE0S0xzbLYoWjXxeSRCE6AiSZ/mhavG1p6C6bViZBMm06wXarOA+rcuXirwds/Gzn8AZn2E+fYL+3ulEllyeCPaCpigWs=
X-Yahoo-Newman-Id: 822798.55863.bm@smtp108.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: mMmj2wwVM1nXAOcPaGb4QSrQ1LcBUQspV32.cdX7jr71zZq
 ZvZf0QPd8OdduVEscaUEnBivxD6DLUifoFlWcFIqd.WNcMvs.0eN6tU0Cyp.
 KF7n5OvMjmyc5CrLg3TgiMLu_5urNBaSn_usqoTJxndnruJ9.6sGwy4lOfBC
 jU1u44rFWrcaGvR5xO31YuAgao.WbQ5StYTrEnyowWmn4K0FKd1x3eOpMQkM
 9hiVYbq_IItGbVH8eE.liTH7y4Su8Vhla7XTpcb1KS5nuNyv84qcrubutPv7
 LYzQilJ7pJRPs72pmSTzz_wwiLxYWYuJK1bxE8QKQ3MSM2EzadxJPdqE.L6W
 CG3uxrE0P0L6ltaL4uT8xNJQmRLpWIZThxwQ6_MkEzs5Fuyk2HZHXnVSU2Xt
 32aD299qsiLdRW1_ylaD1msSZz12EgANCJEKy6yzCLiID8BcoyKHI_zrxezK
 GF9MQoDPKc_DOGDwdJbZGx4yk_70egTd_a9IVdrOWnk3szVV4cyAovQwKy5Y
 2036uDtwi37E.ksEPPHR1p7aDydO9U92oP1BAeWOVAE7N6kgcui81jUHLjV7
 XUdYC1xkr_eF3Y.E-
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.193.157 with plain)
        by smtp108.mail.ukl.yahoo.com with SMTP; 03 May 2012 07:28:38 -0700 PDT
Message-ID: <4FA29612.10106@yahoo.es>
Date: Thu, 03 May 2012 16:28:34 +0200
From: =?ISO-8859-1?Q?Miguel_Gonz=E1lez_Casta=F1os?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com>
In-Reply-To: <4FA28854.6000300@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 120503-0, 03/05/2012), Outbound message
X-Antivirus-Status: Clean

On 03/05/2012 15:29, Pid wrote:
> On 03/05/2012 11:35, Miguel Gonzlez Castaos wrote:
>> Dear all,
>>
>>    My Tomcat 5.5 server reports in catalina.out under heavy load that
>> Tomcat is pausing. I checked and no java process was running and I had
>> to start Tomcat manually.
> Can you post an example of the message from catalina.out that says
> Tomcat is pausing?
May 3, 2012 8:40:10 AM org.apache.catalina.storeconfig.StoreLoader load
INFO: Find registry server-registry.xml at classpath resource
May 3, 2012 8:40:10 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 5771 ms
May 3, 2012 9:56:54 AM org.apache.coyote.http11.Http11BaseProtocol pause
INFO: Pausing Coyote HTTP/1.1 on http-80
May 3, 2012 9:56:54 AM org.apache.coyote.http11.Http11BaseProtocol pause
INFO: Pausing Coyote HTTP/1.1 on http-443
May 3, 2012 1:35:03 PM org.apache.catalina.core.AprLifecycleListener 
lifecycleEvent
INFO: The Apache Tomcat Native library which allows optimal performance 
in production environments was not found on the java.library.path: 
/usr/bin/jdk1.5.0_17/jre/lib/i386/server:/usr/bin/jdk1.5.0_17/jre/lib/i386:/usr/bin/jdk1.5.0_17/jre/../lib/i386
May 3, 2012 1:35:03 PM org.apache.coyote.http11.Http11BaseProtocol init

I have just realized about that APR is missing, can be affecting to this 
issue?




>
>
>>    No errors before in catalina.out. The only error found today (It
>> crashed 3 times in 3 hours) was an outofmemory error.
>>
>>    I changed from 1024Mb to 1536Mb in catalina.sh:
>>
>>    CATALINA_OPTS="$CATALINA_OPTS -Xms1536m -Xmx1536m"
> Do you actually have 2Gb of free RAM to assign to the Tomcat process?

Well, the machine has 4 Gb and only runs MySQL and Tomcat.

>
>
>>    After installing Javamelody I saw that memory use was reaching 1056 Mb
>> (probably that triggered the outofmemory error).
>>
>>    Anything I can check or any setting I can set to get more information
>> in the next crash?
> Enable JMX&  connect to Tomcat using VisualVM (with the MBean&  Memory
> Pool plugins).  Monitor thread counts&  memory usage.
I have installed javamelody an the thread count is around 120, reaching 
a max of 180. Memory usage grows very fast until Tomcat hangs. I suspect 
is an issue of the garbage collector and setting the heap memory too 
high. I have reset it to 768 Mb and now the memory seems to keep quite 
low, some people say that Tomcat 5.x doesn't like much more than 1 Gb of 
heap memory and that GC is not doing his job:

http://serverfault.com/questions/281515/periodic-unresponsiveness-in-tomcat


Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233965-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:40:47 2012
Return-Path: <users-return-233965-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 589F3CA51
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:40:47 +0000 (UTC)
Received: (qmail 85324 invoked by uid 500); 3 May 2012 14:40:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85110 invoked by uid 500); 3 May 2012 14:40:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85101 invoked by uid 99); 3 May 2012 14:40:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:40:43 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:40:36 +0000
Received: from [192.168.1.8] (adsl-208-191-157-48.dsl.hstntx.swbell.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id 6556D2016B
	for <users@tomcat.apache.org>; Thu,  3 May 2012 09:40:15 -0500 (CDT)
Message-ID: <4FA298FA.3040503@tmbsw.com>
Date: Thu, 03 May 2012 09:40:58 -0500
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.4) Gecko/20100608 Thunderbird/3.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org>
In-Reply-To: <4FA18107.40006@computer.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

  On 1:59 PM, David Wall wrote:
> We are running Tomcat 7.0.26 (no httpd front end) with BIO/NIO and SSL 
> (entire webapp is in security context) and see this exception 
> periodically on our Linux server:
>
> May 2, 2012 3:03:45 AM org.apache.jasper.runtime.JspFactoryImpl 
> internalGetPageContext
> SEVERE: Exception initializing page context
> java.lang.IllegalStateException: Cannot create a session after the 
> response has been committed
>         at 
> org.apache.catalina.connector.Request.doGetSession(Request.java:2855)
>         at 
> org.apache.catalina.connector.Request.getSession(Request.java:2306)
>         at 
> org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:897)
>         at 
> org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:909)
>         at 
> org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:146)
>         at 
> org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:125)
>         at 
> org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:112)
>         at 
> org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:65)
> *at 
> org.apache.jsp.playerRegistration2_jsp._jspService(playerRegistration2_jsp.java:72)*
>         at 
> org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> *at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)*
>         at 
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
>         at 
> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
>         at 
> org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
> *at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)*
>         at 
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
>         at 
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
>         at 
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
>         at 
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
>         at 
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
>         at 
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
>         at 
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
>         at 
> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
>         at 
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
>         at 
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
>         at 
> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
>         at 
> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
>         at 
> org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600)
>         at 
> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
>         at 
> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
>         at java.lang.Thread.run(Thread.java:662)
>
> That line of code in our JSP's .java file show it to be method 
> _jspService's second statement:
>
>       pageContext = _jspxFactory.getPageContext(this, request, response,
>                         null, true, 8192, true);
>
> What might cause this?  Curious as to why the 'service' method of 
> HttpServlet line 722 is called twice in the call stack.  How could any 
> response have been sent out and committed when this seems to be before 
> my JSP's main body of code is even executed?  After that line of code, 
> about 7 statements down is the code that emits the first HTML line 
> from our JSP:
>
>       out.write("<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" 
> \"http://www.w3.org/TR/html4/strict.dtd\">\r\n");
>
> And right after that is where my page bean class is instantiated or 
> retrieved:
>
>       bean = (org.example.PlayerRegistration2Page) 
> _jspx_page_context.getAttribute("bean", 
> javax.servlet.jsp.PageContext.REQUEST_SCOPE);
>       if (bean == null){
>         bean = new org.example.PlayerRegistration2Page();
>         _jspx_page_context.setAttribute("bean", bean, 
> javax.servlet.jsp.PageContext.REQUEST_SCOPE);
>       }
>
> My actual JSP source file top lines looks normal:
>
> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
> "http://www.w3.org/TR/html4/strict.dtd">
> <%@page contentType="text/html; charset=ISO-8859-1" 
> import="org.example.PlayerRegistration2Page"%>
> <jsp:useBean id="bean" scope="request" 
> class="org.example.PlayerRegistration2Page" />
>
> So this is Tomcat throwing an exception before it even reaches my 
> code.  What might be the cause since of course the webapp works fine 
> most of the time.
>
> Thanks,
> David
>


How is the white space before and after the page directive handled?

-Terence Bandoian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233966-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:52:35 2012
Return-Path: <users-return-233966-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE47DCAFE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:52:35 +0000 (UTC)
Received: (qmail 19891 invoked by uid 500); 3 May 2012 14:52:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19677 invoked by uid 500); 3 May 2012 14:52:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19667 invoked by uid 99); 3 May 2012 14:52:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:52:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:52:24 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id 5Sl41j0040EZKEL5ESryik; Thu, 03 May 2012 14:51:58 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id 5Ss71j00F38FjT13MSs7Am; Thu, 03 May 2012 14:52:07 +0000
Message-ID: <4FA29B93.2040709@christopherschultz.net>
Date: Thu, 03 May 2012 10:52:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es>
In-Reply-To: <4FA25F8C.6030804@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/3/12 6:35 AM, Miguel Gonzlez Castaos wrote:
> Anything I can check or any setting I can set to get more
> information in the next crash?

Add "-XX:+HeapDumpOnOutOfMemoryError" to your CATALINA_OPTS
environment variable before you launch Tomcat and you'll get a heap
dump file when OOME occurs. You could also enable verbose gc if you
want to go back and graph the memory usage.. but if you're using
javamelody you probably already have that.

Once you have the heap dump, look for either single objects that are
taking a huge amount of memory or one particular class that has a lot
of objects and/or takes up a lot of memory per object. Follow those
objects to their GC roots and you'll find out where the references
are. Perhaps you have a memory leak entirely by accident, or maybe a
cache that isn't tuned properly for your heap size.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+im5MACgkQ9CaO5/Lv0PD7uQCgiKEtK56xU+l6kw/0UmxruLBf
95MAnRJ3hfZd/POoD09B12MglevNqekk
=tzaU
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233967-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:59:40 2012
Return-Path: <users-return-233967-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33DD5CB2F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:59:40 +0000 (UTC)
Received: (qmail 41933 invoked by uid 500); 3 May 2012 14:59:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41866 invoked by uid 500); 3 May 2012 14:59:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41856 invoked by uid 99); 3 May 2012 14:59:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:59:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.27.42.4] (HELO smtp4-g21.free.fr) (212.27.42.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:59:30 +0000
Received: from [127.0.0.1] (unknown [78.250.216.243])
	by smtp4-g21.free.fr (Postfix) with ESMTP id 9ADCB4C815C
	for <users@tomcat.apache.org>; Thu,  3 May 2012 16:59:05 +0200 (CEST)
Message-ID: <4FA29D31.6010407@free.fr>
Date: Thu, 03 May 2012 16:58:57 +0200
From: Vernat Emeric <evernat@free.fr>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA29B93.2040709@christopherschultz.net>
In-Reply-To: <4FA29B93.2040709@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi Miguel,

To be more precise about used memory and active threads count, I think 
that you could send a screenshot of the main graphics of javamelody in 
your browser (used memory, http sessions, active threads, etc...).

And once you have the heap dump as said by Christopher, "Eclipse MAT" is 
quite good to analyze the heap dump.

Emeric


Le 03/05/2012 16:52, Christopher Schultz a crit :
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Miguel,
>
> On 5/3/12 6:35 AM, Miguel Gonzlez Castaos wrote:
>> Anything I can check or any setting I can set to get more
>> information in the next crash?
> Add "-XX:+HeapDumpOnOutOfMemoryError" to your CATALINA_OPTS
> environment variable before you launch Tomcat and you'll get a heap
> dump file when OOME occurs. You could also enable verbose gc if you
> want to go back and graph the memory usage.. but if you're using
> javamelody you probably already have that.
>
> Once you have the heap dump, look for either single objects that are
> taking a huge amount of memory or one particular class that has a lot
> of objects and/or takes up a lot of memory per object. Follow those
> objects to their GC roots and you'll find out where the references
> are. Perhaps you have a memory leak entirely by accident, or maybe a
> cache that isn't tuned properly for your heap size.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+im5MACgkQ9CaO5/Lv0PD7uQCgiKEtK56xU+l6kw/0UmxruLBf
> 95MAnRJ3hfZd/POoD09B12MglevNqekk
> =tzaU
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233968-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 14:59:58 2012
Return-Path: <users-return-233968-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1121ECB37
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 14:59:58 +0000 (UTC)
Received: (qmail 45503 invoked by uid 500); 3 May 2012 14:59:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45447 invoked by uid 500); 3 May 2012 14:59:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45438 invoked by uid 99); 3 May 2012 14:59:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:59:54 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 14:59:48 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id 5RTo1j0051swQuc5DSzL03; Thu, 03 May 2012 14:59:20 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id 5SzT1j01N38FjT13bSzTDE; Thu, 03 May 2012 14:59:28 +0000
Message-ID: <4FA29D50.5060404@christopherschultz.net>
Date: Thu, 03 May 2012 10:59:28 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es>
In-Reply-To: <4FA29612.10106@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/3/12 10:28 AM, Miguel Gonzlez Castaos wrote:
> On 03/05/2012 15:29, Pid wrote:
>> On 03/05/2012 11:35, Miguel Gonzlez Castaos wrote:
>>> Dear all,
>>> 
>>> My Tomcat 5.5 server reports in catalina.out under heavy load
>>> that Tomcat is pausing. I checked and no java process was
>>> running and I had to start Tomcat manually.
>> Can you post an example of the message from catalina.out that
>> says Tomcat is pausing?
> May 3, 2012 8:40:10 AM org.apache.catalina.storeconfig.StoreLoader
> load INFO: Find registry server-registry.xml at classpath resource 
> May 3, 2012 8:40:10 AM org.apache.catalina.startup.Catalina start 
> INFO: Server startup in 5771 ms May 3, 2012 9:56:54 AM
> org.apache.coyote.http11.Http11BaseProtocol pause INFO: Pausing
> Coyote HTTP/1.1 on http-80 May 3, 2012 9:56:54 AM
> org.apache.coyote.http11.Http11BaseProtocol pause INFO: Pausing
> Coyote HTTP/1.1 on http-443 May 3, 2012 1:35:03 PM
> org.apache.catalina.core.AprLifecycleListener lifecycleEvent INFO:
> The Apache Tomcat Native library which allows optimal performance 
> in production environments was not found on the java.library.path: 
> /usr/bin/jdk1.5.0_17/jre/lib/i386/server:/usr/bin/jdk1.5.0_17/jre/lib/i386:/usr/bin/jdk1.5.0_17/jre/../lib/i386
>
>  May 3, 2012 1:35:03 PM org.apache.coyote.http11.Http11BaseProtocol
> init
> 
> I have just realized about that APR is missing, can be affecting to
> this issue?

Unlikely. If you are using SSL or serving large static files,
APR/tcnative should be something that you look into using.

Honestly, I would put more effort into upgrading to a more recent
version of Tomcat than looking into using APR/tcnative.

>>> No errors before in catalina.out. The only error found today
>>> (It crashed 3 times in 3 hours) was an outofmemory error.
>>> 
>>> I changed from 1024Mb to 1536Mb in catalina.sh:
>>> 
>>> CATALINA_OPTS="$CATALINA_OPTS -Xms1536m -Xmx1536m"
>> Do you actually have 2Gb of free RAM to assign to the Tomcat
>> process?
> 
> Well, the machine has 4 Gb and only runs MySQL and Tomcat.

I hope you have small indexes in MySQL :)

> I have installed javamelody an the thread count is around 120,
> reaching a max of 180. Memory usage grows very fast until Tomcat
> hangs. I suspect is an issue of the garbage collector and setting
> the heap memory too high.

If you suspect that you have set the heap memory too high, why are you
increasing it?

It really seems like you are just grasping at straws and trying
whatever technique comes to mind at the time. Stop. Instrument your
webapp. Take data. When you have something substantive, draw a
conclusion and confirm it. Only then should you take corrective
action. Right now, you are changing all sorts of things and you'll
never know what was the one thing that worked because you've changed
everything.

> I have reset it to 768 Mb and now the memory seems to keep quite 
> low, some people say that Tomcat 5.x doesn't like much more than 1
> Gb of heap memory and that GC is not doing his job:
> 
> http://serverfault.com/questions/281515/periodic-unresponsiveness-in-tomcat

Malarkey.
> 
Tomcat 5.5 doesn't really care what heap size it's got as
long as it's more than 4MiB or so. The page you referenced in here
doesn't even mention Tomcat 5.5.

Usually the GC does do its job properly, and that includes pausing the
whole JVM in order to reclaim memory if necessary. The above thread
from ServerFault is about unresponsiveness, not about OOME: the GC
caused unresponsiveness to avoid OOME (and it worked).

Stop making crazy claims and actually look at your own environment to
figure out what's going on.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+inVAACgkQ9CaO5/Lv0PB3PQCbBuaYoIurA30z8N3dtLElQXRf
MdAAnid8y+qveidJMq5j86946bVYD2Ip
=7lpb
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233969-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 15:02:54 2012
Return-Path: <users-return-233969-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9560BCB59
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 15:02:54 +0000 (UTC)
Received: (qmail 55599 invoked by uid 500); 3 May 2012 15:02:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55324 invoked by uid 500); 3 May 2012 15:02:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55312 invoked by uid 99); 3 May 2012 15:02:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:02:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:02:43 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id 5S3y1j00227AodY55T2GH7; Thu, 03 May 2012 15:02:16 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id 5T2P1j00F38FjT13fT2PmK; Thu, 03 May 2012 15:02:23 +0000
Message-ID: <4FA29DFF.8070008@christopherschultz.net>
Date: Thu, 03 May 2012 11:02:23 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org> <4FA298FA.3040503@tmbsw.com>
In-Reply-To: <4FA298FA.3040503@tmbsw.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Terence,

On 5/3/12 10:40 AM, Terence M. Bandoian wrote:
> On 1:59 PM, David Wall wrote:
>> 
>> My actual JSP source file top lines looks normal:
>> 
>> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
>> "http://www.w3.org/TR/html4/strict.dtd"> <%@page
>> contentType="text/html; charset=ISO-8859-1" 
>> import="org.example.PlayerRegistration2Page"%> <jsp:useBean
>> id="bean" scope="request" 
>> class="org.example.PlayerRegistration2Page" />
>> 
>> So this is Tomcat throwing an exception before it even reaches
>> my code.  What might be the cause since of course the webapp
>> works fine most of the time.
> 
> How is the white space before and after the page directive
> handled?

Assuming he doesn't have a few KiB of whitespace surrounding the
<@page> directive, it shouldn't be a problem: the default response
buffer size is 8KiB.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+inf8ACgkQ9CaO5/Lv0PDNzwCdETfq/jtICcKwoNsf6Luy94X3
nKUAoLcuKutpAFasLoNSeCRsa23+yhWa
=cyXv
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233970-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 15:04:25 2012
Return-Path: <users-return-233970-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1134CB72
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 15:04:25 +0000 (UTC)
Received: (qmail 61278 invoked by uid 500); 3 May 2012 15:04:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61218 invoked by uid 500); 3 May 2012 15:04:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61209 invoked by uid 99); 3 May 2012 15:04:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:04:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:04:16 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id 5Sdw1j0041wpRvQ59T3rby; Thu, 03 May 2012 15:03:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id 5T3v1j01e38FjT13eT3v0x; Thu, 03 May 2012 15:03:55 +0000
Message-ID: <4FA29E5C.2050808@christopherschultz.net>
Date: Thu, 03 May 2012 11:03:56 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org> <1336042325364-4948903.post@n6.nabble.com>
In-Reply-To: <1336042325364-4948903.post@n6.nabble.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hunters1094,

On 5/3/12 6:52 AM, hunters1094 wrote:
> I have this problem too. I tried to find the solution, tried to use
> this
> 
> http://stackoverflow.com/questions/8072311/illegalstateexception-cannot-create-a-session-after-the-response-has-been-commi
>
>  Solution state-saving-method
> 
> But it only reduces error times, but not removes completely.

This seems very Mojarra-specific. Since the OP didn't mention Mojarra,
why did you assume this was the same problem (and then not mention
that Mojarra was the problem)?

Your answer was confusing at best. Please post relevant followups.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEUEARECAAYFAk+inlwACgkQ9CaO5/Lv0PCymACWOMjmRpEMrz5/ZGtz+MITjuq6
6wCfb8bTic+x6gpXge75s59j3SGfKCs=
=DWJz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233971-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 15:10:30 2012
Return-Path: <users-return-233971-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CC6ACBB9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 15:10:30 +0000 (UTC)
Received: (qmail 92080 invoked by uid 500); 3 May 2012 15:10:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92036 invoked by uid 500); 3 May 2012 15:10:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92026 invoked by uid 99); 3 May 2012 15:10:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:10:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:10:19 +0000
Received: by eaaf11 with SMTP id f11so862810eaa.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 08:09:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=N/qSdOh0/Blh2YsFhksJL/DeyoxHaeC0fHIkj776sE0=;
        b=H6TOWK2Phy82GSteFj3jy8ULQc5TXkGHV1pzlhnw+7NeXTGakJXprogZqAT0SqYb2m
         nIw5cCcsSJsLFXAYQyzw0T9/xQ1agWQrJCzgHnsK0uRYONupE5oR7bauAEzA6TsAhNYo
         uCGsBt1D0fKG0W3rhBnpg0eNkp+AOCrcB7AF4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=N/qSdOh0/Blh2YsFhksJL/DeyoxHaeC0fHIkj776sE0=;
        b=gOTZW54qp9YMw3V+vU/1mVYE+3s69y2eVpkKDsDQoUceixFRDJVmFy0R0o2v4TqEXD
         nX2S3bQgk+7/b6XJCOcyLTjhM0n0GNqsdGI8Mf37Vo+vCQ4gFzUx94mMTLKKWkyeA3GE
         5tDsk94QTYFQ/O/ABHRu+7TtAsDbUD7BxUON7uEuDnjbLYJs0SYt5HNHFGrTkTwrZ1cs
         JF3dYvub9pPpYhHhGZ4eCF3eClZCK0OBhugEs0vYInVWtU3wN94iAoRddKnO25/fIhSX
         ISW9Y7vgHX7E/JMTR2e7qtikhY4m37GrCE/J8ztCB38GaAH1yKXgQrqmRxAdDPt52jlh
         S3EQ==
Received: by 10.213.29.211 with SMTP id r19mr452604ebc.68.1336057798984;
        Thu, 03 May 2012 08:09:58 -0700 (PDT)
Received: from Asura.local (host81-130-41-108.in-addr.btopenworld.com. [81.130.41.108])
        by mx.google.com with ESMTPS id u10sm10898288eem.1.2012.05.03.08.09.54
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 08:09:56 -0700 (PDT)
Message-ID: <4FA29FBB.4070806@pidster.com>
Date: Thu, 03 May 2012 16:09:47 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net>
In-Reply-To: <4FA29D50.5060404@christopherschultz.net>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigA2141228AEBB5C79F640DC0B"
X-Gm-Message-State: ALoCoQlXxDVZp2IVKOMIZFI9I2oq1SY013BfVD6xiX0pNhk4Rrixud0udlZVsnBl/kCj8Ug/EY/o

--------------enigA2141228AEBB5C79F640DC0B
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 15:59, Christopher Schultz wrote:
> Miguel,
>=20
> On 5/3/12 10:28 AM, Miguel Gonz=C3=A1lez Casta=C3=B1os wrote:
>> On 03/05/2012 15:29, Pid wrote:
>>> On 03/05/2012 11:35, Miguel Gonz=C3=A1lez Casta=C3=B1os wrote:
>>>> Dear all,
>>>>
>>>> My Tomcat 5.5 server reports in catalina.out under heavy load
>>>> that Tomcat is pausing. I checked and no java process was
>>>> running and I had to start Tomcat manually.
>>> Can you post an example of the message from catalina.out that
>>> says Tomcat is pausing?
>> May 3, 2012 8:40:10 AM org.apache.catalina.storeconfig.StoreLoader
>> load INFO: Find registry server-registry.xml at classpath resource=20
>> May 3, 2012 8:40:10 AM org.apache.catalina.startup.Catalina start=20
>> INFO: Server startup in 5771 ms May 3, 2012 9:56:54 AM
>> org.apache.coyote.http11.Http11BaseProtocol pause INFO: Pausing
>> Coyote HTTP/1.1 on http-80 May 3, 2012 9:56:54 AM
>> org.apache.coyote.http11.Http11BaseProtocol pause INFO: Pausing
>> Coyote HTTP/1.1 on http-443 May 3, 2012 1:35:03 PM
>> org.apache.catalina.core.AprLifecycleListener lifecycleEvent INFO:
>> The Apache Tomcat Native library which allows optimal performance=20
>> in production environments was not found on the java.library.path:=20
>> /usr/bin/jdk1.5.0_17/jre/lib/i386/server:/usr/bin/jdk1.5.0_17/jre/lib/=
i386:/usr/bin/jdk1.5.0_17/jre/../lib/i386
>=20
>>  May 3, 2012 1:35:03 PM org.apache.coyote.http11.Http11BaseProtocol
>> init
>=20
>> I have just realized about that APR is missing, can be affecting to
>> this issue?
>=20
> Unlikely. If you are using SSL or serving large static files,
> APR/tcnative should be something that you look into using.
>=20
> Honestly, I would put more effort into upgrading to a more recent
> version of Tomcat than looking into using APR/tcnative.
>=20
>>>> No errors before in catalina.out. The only error found today
>>>> (It crashed 3 times in 3 hours) was an outofmemory error.
>>>>
>>>> I changed from 1024Mb to 1536Mb in catalina.sh:
>>>>
>>>> CATALINA_OPTS=3D"$CATALINA_OPTS -Xms1536m -Xmx1536m"
>>> Do you actually have 2Gb of free RAM to assign to the Tomcat
>>> process?
>=20
>> Well, the machine has 4 Gb and only runs MySQL and Tomcat.

=2E.. and an operating system & some other system processes and services.=

You didn't actually answer the question.


> I hope you have small indexes in MySQL :)

Quite.


>> I have installed javamelody an the thread count is around 120,
>> reaching a max of 180. Memory usage grows very fast until Tomcat
>> hangs. I suspect is an issue of the garbage collector and setting
>> the heap memory too high.
>=20
> If you suspect that you have set the heap memory too high, why are you
> increasing it?
>=20
> It really seems like you are just grasping at straws and trying
> whatever technique comes to mind at the time. Stop. Instrument your
> webapp. Take data. When you have something substantive, draw a
> conclusion and confirm it. Only then should you take corrective
> action. Right now, you are changing all sorts of things and you'll
> never know what was the one thing that worked because you've changed
> everything.
>=20
>> I have reset it to 768 Mb and now the memory seems to keep quite=20
>> low, some people say that Tomcat 5.x doesn't like much more than 1
>> Gb of heap memory and that GC is not doing his job:

Utter nonsense.


>> http://serverfault.com/questions/281515/periodic-unresponsiveness-in-t=
omcat
>=20
> Malarkey.

+1

> Tomcat 5.5 doesn't really care what heap size it's got as
> long as it's more than 4MiB or so. The page you referenced in here
> doesn't even mention Tomcat 5.5.
>=20
> Usually the GC does do its job properly, and that includes pausing the
> whole JVM in order to reclaim memory if necessary. The above thread
> from ServerFault is about unresponsiveness, not about OOME: the GC
> caused unresponsiveness to avoid OOME (and it worked).
>=20
> Stop making crazy claims and actually look at your own environment to
> figure out what's going on.

+1


p

--=20

[key:62590808]


--------------enigA2141228AEBB5C79F640DC0B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPop/AAAoJEGoM2OGpOvr9C6AQAIHAVGXc/FqjJO3CQX/ZhSN4
NQoPjIOpV2z/EIm842b64KUNU2/uBqgNCO3OEr4PPkGo8t9Dg35PdzCppeozMb76
URYONKcq6ayDIqnbaGX1rZphi2GUVaY73oGUqpN2yYFxsITa4CtJD9HkVZzBtcKR
84/eceU7/qZBbw6j2fBxLbFEL17xuMH4RVxt4FUhWluo9ATBcGAJ7LeLP/28wMLd
I9FCbdTKvXSvm9eAz0yYOcjHYe22HJ/HrIxKmMvMDHbnXmhhHv/LpnpTPzKhXXCM
3H3BwO5qUBlM5ZG00lUwSOVh69Gi5sdyFRFpzJB/PduwzpzgLjx8HP0MXWLYsMvT
ibjx+Phh8XPTAtSRv7VtJwDecBU1zVXkntIJ63PCzNKFfHDSuZhRwX1IbKm4TI5Q
ueO8YyNlthqFAQ+MPajiJckZBRB2KI1KaK+e6lJt/V8vcKt692hXFxrESd6Cx3Nc
hT/yyGcOQTxt8l86zgbpHdRv+jbsyMCcuxIDIzDCPmnqn/Hwa7OELYKcpMliNlQJ
gdLWcPs4EnocqslaIc+p4v+0wSWGSQ59SW3C+h3+mU7bsMUN47nZWyOyZ804afqD
Ro0GV01+bhDRNjFXZAxQKFu2nCKc+hhyyP6TK3uvwo3XIF2cxwcFfc232TnBQSz4
7mKi2B8FbFg9XkGCCswm
=036U
-----END PGP SIGNATURE-----

--------------enigA2141228AEBB5C79F640DC0B--

From users-return-233972-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 15:17:59 2012
Return-Path: <users-return-233972-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B682CBDF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 15:17:59 +0000 (UTC)
Received: (qmail 16451 invoked by uid 500); 3 May 2012 15:17:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16379 invoked by uid 500); 3 May 2012 15:17:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16369 invoked by uid 99); 3 May 2012 15:17:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:17:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:17:49 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id 5Sck1j0051vXlb857THQWP; Thu, 03 May 2012 15:17:24 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id 5THV1j01038FjT13dTHVnh; Thu, 03 May 2012 15:17:29 +0000
Message-ID: <4FA2A188.7060906@christopherschultz.net>
Date: Thu, 03 May 2012 11:17:28 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <CABzHfV=aM4DTrk2FNrt0vGPLXUW0Bnrai+-L=U_qDi5JCAx_2Q@mail.gmail.com>
In-Reply-To: <CABzHfV=aM4DTrk2FNrt0vGPLXUW0Bnrai+-L=U_qDi5JCAx_2Q@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 5/3/12 9:23 AM, Konstantin Kolinko wrote:
> One more tip: run with
> "org.apache.catalina.connector.RECYCLE_FACADES=true"

RequestFacade is a fairly lightweight object: it's only got a single
(reference) member so it's weight is something around 3 or 4 times the
size of a pointer.

Why isn't this setting enabled by default? Generating 32 bytes of
garbage during a request is fairly trivial and, as you say, improves
security (for a broken webapp) and helps identify apps that improperly
store the request somewhere like this.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ioYgACgkQ9CaO5/Lv0PAVTACfXAtdih/SX5QKxeRNc9kBPj2j
1l0AniBXEOO3w8kDtzmIjBUIke+CoCea
=Ae+p
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233973-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 15:38:25 2012
Return-Path: <users-return-233973-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B2F99AAF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 15:38:25 +0000 (UTC)
Received: (qmail 85612 invoked by uid 500); 3 May 2012 15:38:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85499 invoked by uid 500); 3 May 2012 15:38:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85490 invoked by uid 99); 3 May 2012 15:38:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 15:38:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.183.250] (HELO nm14-vm0.bullet.mail.ukl.yahoo.com) (217.146.183.250)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 15:38:14 +0000
Received: from [217.146.183.183] by nm14.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 15:37:53 -0000
Received: from [77.238.184.53] by tm14.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 15:37:53 -0000
Received: from [127.0.0.1] by smtp122.mail.ukl.yahoo.com with NNFMP; 03 May 2012 15:37:53 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336059473; bh=g7WSvHuoDTWs2+YvZ4o0oN6v7Io8HNrLpu91DU5SOdc=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=52lnoM6E1j7c7auGJMfhctlpsit2wanVCKDbrhzfgdjlt3QcAkhRjSLWxcHykuoz55NMAi0Ff4VpGHI/MJxdtkdYKaJbjy2ej0xBHmCvo3pzvc+A6eW71AFJyCTPPt7crY3jx+c2ihQM+XIUSOHD4YT1DeNp9RJbrvGBQUFmkYk=
X-Yahoo-Newman-Id: 166278.2640.bm@smtp122.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: XFmcmq4VM1nf5aMWe0QpRi1QT1hgbLmaDSOq68_rOCyrVXA
 8Ug6Zp6nYl1SoHlh273R5itwGKAdURbla6r4F3AV1LQ4DlsivQFLbuenJul8
 v2hLjEJTglJEr8KPdk9Nc.567lrx_SqwiTHsvJpawo86bD6G66P_UoKmddXi
 z6Rg3U.N5FXy52dRL5T6SUFg0VZc3m13bsAIJ1N5DRgJqbhZN7ZUNqcQ7kJc
 5N.DVW04nBQJLd3mFUDkKiFm0wMN0.EilTZhuXNS6YDAGoLC2rBMj6xrZ1uT
 Nl0UkTcOxcw0ii0XPGNlrtFuyOQ3fqFoYcvsZLummsBAHAefHgBPYg6ASx4R
 zQS.layhY2KUy.fwWxHyxE6o0zq4Xm0cuuHiOc8e.irQhSLkMcRcb9r9bxAz
 QVxseXL2zyBaBoo3Zstv9mkmwXNucdNVBO1tU4kZkGrVeQFD.HrKFjYFzeLE
 O50U-
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.193.157 with plain)
        by smtp122.mail.ukl.yahoo.com with SMTP; 03 May 2012 15:37:52 +0000 GMT
Message-ID: <4FA2A64B.4050301@yahoo.es>
Date: Thu, 03 May 2012 17:37:47 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net>
In-Reply-To: <4FA29D50.5060404@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120503-0, 03/05/2012), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org


> Unlikely. If you are using SSL or serving large static files,
> APR/tcnative should be something that you look into using.
I do use SSL, but all is dynamic jsps
>
> Honestly, I would put more effort into upgrading to a more recent
> version of Tomcat than looking into using APR/tcnative.
>
>>>> No errors before in catalina.out. The only error found today
>>>> (It crashed 3 times in 3 hours) was an outofmemory error.
>>>>
>>>> I changed from 1024Mb to 1536Mb in catalina.sh:
>>>>
>>>> CATALINA_OPTS="$CATALINA_OPTS -Xms1536m -Xmx1536m"
>>> Do you actually have 2Gb of free RAM to assign to the Tomcat
>>> process?
Well, as someone asked:

]# cat /proc/meminfo
MemTotal:      4194304 kB
MemFree:      3700308 kB

> Tomcat 5.5 doesn't really care what heap size it's got as
> long as it's more than 4MiB or so. The page you referenced in here
> doesn't even mention Tomcat 5.5.
>
> Usually the GC does do its job properly, and that includes pausing the
> whole JVM in order to reclaim memory if necessary. The above thread
> from ServerFault is about unresponsiveness, not about OOME: the GC
> caused unresponsiveness to avoid OOME (and it worked).
>
> Stop making crazy claims and actually look at your own environment to
> figure out what's going on.
We had several crashes today:

First - 1 outofmemory error
Second- 3 Tomcat pausing
Third - 2 or 3 times where catalina.out didn't show any error and tomcat 
died, only a big increase of memory use right before the java process 
died. That's why I assumed that maybe I have set the heap memory too 
high (I set it up because of the out of memory errors). That's why I 
googled to see if anyone had seen issues and that's why I reached that URL

I have set up this:

-XX:+HeapDumpOnOutOfMemoryError -XX:+UseConcMarkSweepGC -Xms128m 
-Xmx768m -verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails

I hope this way I can trace if there is any memory leak in the webapp. 
Considering that the developer decided to restart Tomcat once a week 
because the webapp didn't have enough resources, I find this very likely.

Thanks for your inputs,

Miguel



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233974-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 16:13:54 2012
Return-Path: <users-return-233974-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3FD59C45
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 16:13:54 +0000 (UTC)
Received: (qmail 92923 invoked by uid 500); 3 May 2012 16:13:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92850 invoked by uid 500); 3 May 2012 16:13:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92841 invoked by uid 99); 3 May 2012 16:13:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:13:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:13:46 +0000
Received: by pbbro12 with SMTP id ro12so2950022pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 09:13:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=A4LVHw6z9EXXvj/hZ82zwf2+e7nystVlOyjI1RwHifY=;
        b=dYDa3MalX+moqZMVGpqa6yH4LMWwpvVuC8yg1RsN2libpxE5npaEI8ZSWjDkQDD2+0
         sidTEiSLr9Djg7aFZY1kk94/uKxjrCFnLHDFQr+snqF/84kq0XQ2C1yiACEJNjcGLUWp
         3xhF2WiI8Ise7R2J8uHxuG6tXhzioyaERTeHs/NbQ3W5Cd+GHt43Eoph+s0zZttG3Tpz
         /pn68KtQmPRlsuVqytBy+oJ6stKU3uiQO3FSvDkEjbUVKz7q+xSjPh4mtie1LGFiBPRt
         +dFwvhgK4Hf62I659FAUZ6PYYb85s32Q2npkS2lmBZmubYY5id4C/Z/F3h3lqBK4NKb7
         dHPQ==
MIME-Version: 1.0
Received: by 10.68.134.232 with SMTP id pn8mr9039471pbb.106.1336061606187;
 Thu, 03 May 2012 09:13:26 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 09:13:26 -0700 (PDT)
In-Reply-To: <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
Date: Thu, 3 May 2012 10:13:26 -0600
Message-ID: <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10c8616f52bc04bf241551
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b10c8616f52bc04bf241551
Content-Type: text/plain; charset=ISO-8859-1

On Thu, May 3, 2012 at 7:37 AM, Konstantin Kolinko <knst.kolinko@gmail.com>
wrote:
>
> 2012/5/3 Todd Seidenberg <todd.seidenberg@gmail.com>:
> > (..)
>
> +1 to what Pid wrote.
>
> >
> > My previous efforts to do this resulted in a BLANK page when I tried
> > hitting the manager app - so any help would be appreciated.
> >
>
> Blank page means that there is no ROOT web application deployed on that
host.
> You are likely hitting a wrong URL and there is no default application
> to display user-friendly 404 page for you.


Ok. Thank you for that. I've been able to successfully deploy the ROOT app,
and I get the standard default Tomcat page.

However, when I click on the tomcat manager link, I get:


---------

HTTP Status 404 - /manager/html

________________________________

type Status report

message /manager/html

description The requested resource (/manager/html) is not available.

________________________________

Apache Tomcat/6.0.32
-------------



Here's what I've done.

- I've determined the version of Tomcat that my standalone install is using
(6.0.32.)

- I've grabbed a tar.gz of the 6.0.32 standard tomcat and untarred it.

- I've rsync'd the  apache-tomcat-6.0.32/webapps/manager directory to my
standalone installation's webapp directory.

- I noted that I had NOTHING in my server.xml for the manager app. (I do
have context clauses in the server.xml for the main app that the standalone
tomcat was bundled with.)

- I made sure that tomcat was killed.

- I then started it up and tailed the log file (Note that the app I'm
running is called 'confluence.' It is running as expected.


----------

To run Confluence in the foreground, start the server with
start-confluence.sh -fg
executing using dedicated user: confluence
If you encounter issues starting up Confluence Standalone, please see the
Installation guide at
http://confluence.atlassian.com/display/DOC/Confluence+Installation+Guide

Server startup logs are located in /usr/local/confluence-4/logs/catalina.out
Using CATALINA_BASE:   /usr/local/confluence-4
Using CATALINA_HOME:   /usr/local/confluence-4
Using CATALINA_TMPDIR: /usr/local/confluence-4/temp
Using JRE_HOME:        /usr/local/confluence-4/jre/
Using CLASSPATH:       /usr/local/confluence-4/bin/bootstrap.jar
Using CATALINA_PID:    /usr/local/confluence-4/work/catalina.pid


SEVERE: The web application [/confluence] created a ThreadLocal with key of
type [com.opensymphony.xwork.ActionContext.ActionContextThreadLocal] (value
[com.opensymphony.xwork.ActionContext$ActionContextThreadLocal@132ba74])
and a value of type [com.opensymphony.xwork.ActionContext] (value
[com.opensymphony.xwork.ActionContext@16f488d]) but failed to remove it
when the web application was stopped. This is very likely to create a
memory leak.
May 3, 2012 9:53:10 AM org.apache.catalina.loader.WebappClassLoader
clearThreadLocalMap
SEVERE: The web application [/confluence] created a ThreadLocal with key of
type [com.atlassian.core.logging.ThreadLocalErrorCollection$2] (value
[com.atlassian.core.logging.ThreadLocalErrorCollection$2@1042d00]) and a
value of type [java.lang.Boolean] (value [false]) but failed to remove it
when the web application was stopped. This is very likely to create a
memory leak.
May 3, 2012 9:53:10 AM org.apache.catalina.loader.WebappClassLoader
clearThreadLocalMap
SEVERE: The web application [/confluence] created a ThreadLocal with key of
type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@12660a6]) and a
value of type [org.dom4j.DocumentFactory] (value
[org.dom4j.DocumentFactory@9352ad]) but failed to remove it when the web
application was stopped. This is very likely to create a memory leak.
May 3, 2012 9:53:10 AM org.apache.catalina.loader.WebappClassLoader
clearThreadLocalMap
SEVERE: The web application [/confluence] created a ThreadLocal with key of
type [com.atlassian.confluence.concurrent.ThreadLocalMap] (value
[com.atlassian.confluence.concurrent.ThreadLocalMap@191598]) and a value of
type [java.util.HashMap] (value [{}]) but failed to remove it when the web
application was stopped. This is very likely to create a memory leak.
log4j:ERROR LogMananger.repositorySelector was null likely due to error in
class reloading, using NOPLoggerRepository.
May 3, 2012 9:53:12 AM org.apache.coyote.http11.Http11Protocol destroy
INFO: Stopping Coyote HTTP/1.1 on http-8090
May 3, 2012 9:54:13 AM org.apache.tomcat.util.digester.SetPropertiesRule
begin
WARNING: [SetPropertiesRule]{Server} Setting property 'debug' to '0' did
not find a matching property.
May 3, 2012 9:54:13 AM org.apache.tomcat.util.digester.SetPropertiesRule
begin
WARNING: [SetPropertiesRule]{Server/Service/Engine} Setting property
'debug' to '0' did not find a matching property.
May 3, 2012 9:54:13 AM org.apache.tomcat.util.digester.SetPropertiesRule
begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host} Setting property
'debug' to '0' did not find a matching property.
May 3, 2012 9:54:13 AM org.apache.tomcat.util.digester.SetPropertiesRule
begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting
property 'debug' to '0' did not find a matching property.
May 3, 2012 9:54:14 AM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-8090
May 3, 2012 9:54:14 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 397 ms
May 3, 2012 9:54:14 AM org.apache.catalina.core.StandardService start
INFO: Starting service Tomcat-Standalone
May 3, 2012 9:54:14 AM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.32
2012-05-03 09:54:15,137 INFO [main] [com.atlassian.confluence.lifecycle]
contextInitialized Starting Confluence 4.1.9 (build #3148)




May 3, 2012 9:56:22 AM org.apache.catalina.startup.HostConfig
deployDescriptor
INFO: Deploying configuration descriptor manager.xml
May 3, 2012 9:56:22 AM org.apache.catalina.startup.HostConfig
deployDirectory
INFO: Deploying web application directory ROOT
May 3, 2012 9:56:22 AM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8090
May 3, 2012 9:56:22 AM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:8009
May 3, 2012 9:56:22 AM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/43  config=null
May 3, 2012 9:56:22 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 128937 ms

-------------

As you can see, the manager descriptor is deployed - and sure enough the
standard manager.xml file is created in
/usr/local/confluence-4/conf/Standalone/localhost.  However, I still don't
get the manager app.

This sounds like something very simple that I'm missing.  Any ideas?

- Thanks,

Todd




>> Anyway, a lot depends on how your "standalone" Tomcat actually
> operates. If it is close to standard distribution, then changing its
> configuration should be easy.
>
> If it is "embedded" Tomcat where all configuration is done
> programmatically by whatever starts is, then you are out of luck,
> because configuration files will be irrelevant.
>
> Best regards,
> Konstantin Kolinko
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

--047d7b10c8616f52bc04bf241551--

From users-return-233975-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 16:21:45 2012
Return-Path: <users-return-233975-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 74B7B9C84
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 16:21:45 +0000 (UTC)
Received: (qmail 14764 invoked by uid 500); 3 May 2012 16:21:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14702 invoked by uid 500); 3 May 2012 16:21:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14693 invoked by uid 99); 3 May 2012 16:21:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:21:42 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:21:34 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id 5UCz1j00617dt5G55UM6Rs; Thu, 03 May 2012 16:21:06 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id 5UMD1j00T38FjT13ZUME5e; Thu, 03 May 2012 16:21:14 +0000
Message-ID: <4FA2B078.10501@christopherschultz.net>
Date: Thu, 03 May 2012 12:21:12 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es>
In-Reply-To: <4FA2A64B.4050301@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/3/12 11:37 AM, Miguel Gonzlez Castaos wrote:
> We had several crashes today:
> 
> First - 1 outofmemory error Second- 3 Tomcat pausing

Do you mean that Tomcat actually paused its connectors, or do you mean
that your site became unresponsive? Were you able to capture a thread
dump during this unresponsive period? Did the JVM recover or did you
have to kill it and restart. If you had to kill it, that's called
beign "locked-up" and not just pausing for a while.

If you can't take a thread dump during these "pauses", you'll never
know what is happening.

Are you using a database? Are you using pooled connections? If so,
enable "abandoned" tracing if that's a possibility for you (Tomcat's
two built-in choices of dbcp can do abandoned tracing).

> Third - 2 or 3 times where catalina.out didn't show any error and
> tomcat died, only a big increase of memory use right before the
> java process died. That's why I assumed that maybe I have set the
> heap memory too high (I set it up because of the out of memory
> errors). That's why I googled to see if anyone had seen issues and
> that's why I reached that URL
> 
> I have set up this:
> 
> -XX:+HeapDumpOnOutOfMemoryError -XX:+UseConcMarkSweepGC -Xms128m 
> -Xmx768m -verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails

Great, so you've changed heap size *and* GC strategy and you still
have no idea what the problem is.

We had a performance problem last week that was very severe. One of my
friends said "well, if you're not using concurrent mark-and-sweep,
then that's probably the problem".  (I'm not sure of the nuances, but
the default GC on my system is "ConcurrentMarkSweep", so I don't know
if UseConcMarkSweepGC actually gets you anything). I was skeptical. I
did my research.

The problem was a missing index on a database table. A simple ALTER
statement changed 20-second response times back to more reasonable
sub-100ms response times. No mucking-around with the JVM required.

That's hy I suggest that you do some research *in your own
environment* instead of just guessing at random things and changing
every setting that you've found via Google.

> I hope this way I can trace if there is any memory leak in the
> webapp.

If you have a memory leak in your webapp and you have javamelody, I
would argue that you should set your heap to the /largest/ you can
possibly get away with and then watch it over time. A memory leak is
easy to see over time with a big heap. You are limited by a 32-bit JVM
and only ~1.5GiB heap limit, so it might be hard. Maybe you've just
outgrown your hardware.

> Considering that the developer decided to restart Tomcat once a
> week because the webapp didn't have enough resources, I find this
> very likely.

If you have a memory leak, changing the heap size and GC strategy
isn't going to help you at all: it will just waste your time.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+isHgACgkQ9CaO5/Lv0PBeJQCePi3qq6ZF8DuuMgooQtnBuLJA
NeUAoJ8HChlhmkiUCqkkLAAtY3X8PJKK
=jgRd
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233976-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 16:28:43 2012
Return-Path: <users-return-233976-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CBC5C47D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 16:28:43 +0000 (UTC)
Received: (qmail 39938 invoked by uid 500); 3 May 2012 16:28:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39718 invoked by uid 500); 3 May 2012 16:28:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39709 invoked by uid 99); 3 May 2012 16:28:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:28:40 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 16:28:33 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id 5T0x1j0061ZXKqc5EUU8rA; Thu, 03 May 2012 16:28:08 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id 5UUC1j01938FjT13hUUDJs; Thu, 03 May 2012 16:28:13 +0000
Message-ID: <4FA2B21C.6080308@christopherschultz.net>
Date: Thu, 03 May 2012 12:28:12 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com> <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com> <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
In-Reply-To: <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Todd,

On 5/3/12 12:13 PM, Todd Seidenberg wrote:
> However, when I click on the tomcat manager link, I get: HTTP
> Status 404 - /manager/html

:(

> Here's what I've done.
> 
> - I've determined the version of Tomcat that my standalone install
> is using (6.0.32.)
> 
> - I've grabbed a tar.gz of the 6.0.32 standard tomcat and untarred
> it.
> 
> - I've rsync'd the  apache-tomcat-6.0.32/webapps/manager directory
> to my standalone installation's webapp directory.
> 
> - I noted that I had NOTHING in my server.xml for the manager app.
> (I do have context clauses in the server.xml for the main app that
> the standalone tomcat was bundled with.)
> 
> - I made sure that tomcat was killed.
> 
> - I then started it up and tailed the log file (Note that the app
> I'm running is called 'confluence.' It is running as expected.

Thanks for giving us that. Most people don't.

> SEVERE: The web application [/confluence] created a ThreadLocal
> with key of type
> [com.opensymphony.xwork.ActionContext.ActionContextThreadLocal]
> (value 
> [com.opensymphony.xwork.ActionContext$ActionContextThreadLocal@132ba74])
>
> 
and a value of type [com.opensymphony.xwork.ActionContext] (value
> [com.opensymphony.xwork.ActionContext@16f488d]) but failed to
> remove it when the web application was stopped. This is very likely
> to create a memory leak.

You might want to tell Confluence about these: they can really kill
your serer if you do a lot of hot-redeployments.

> WARNING: [SetPropertiesRule]{Server} Setting property 'debug' to
> '0' did not find a matching property. WARNING:
> [SetPropertiesRule]{Server/Service/Engine} Setting property 'debug'
> to '0' did not find a matching property. WARNING:
> [SetPropertiesRule]{Server/Service/Engine/Host} Setting property 
> 'debug' to '0' did not find a matching property. WARNING:
> [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting 
> property 'debug' to '0' did not find a matching property.

I'm seeing a pattern, here. You should remove the "debug" attributes
from those elements as they have not been a part of Tomcat since .. I
dunno 4.x?

> INFO: Deploying configuration descriptor manager.xml

Good.

> As you can see, the manager descriptor is deployed - and sure
> enough the standard manager.xml file is created in 
> /usr/local/confluence-4/conf/Standalone/localhost.

Good.

> However, I still don't get the manager app.

Bad. You mean you get a 404 Not Found?

It doesn't look like you are using anything in front of Tomcat like
httpd, are you? Do you have more than one <Host> in your server.xml?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ishwACgkQ9CaO5/Lv0PAfDwCeNxhvYfRaa/INxLjxSnwrPd7v
PsIAn00I3c3k2At9KdebWMWQAWnhJnsM
=PFCq
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233977-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:03:38 2012
Return-Path: <users-return-233977-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29272C706
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:03:38 +0000 (UTC)
Received: (qmail 41484 invoked by uid 500); 3 May 2012 17:03:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41333 invoked by uid 500); 3 May 2012 17:03:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41324 invoked by uid 99); 3 May 2012 17:03:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:03:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.182.226] (HELO nm5.bullet.mail.ukl.yahoo.com) (217.146.182.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 17:03:25 +0000
Received: from [217.146.183.184] by nm5.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 17:03:04 -0000
Received: from [77.238.184.66] by tm15.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 17:03:04 -0000
Received: from [127.0.0.1] by smtp135.mail.ukl.yahoo.com with NNFMP; 03 May 2012 17:03:04 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336064584; bh=WYJo/wldlsBiwFXE1Uxmyw3BDwaNWtUIkF0Ey8f24Ho=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=PHqUDOyGY08bJi4mUIEtrXyxrfhdJIwOHISdEXDdzS3lXw5FbJTSycsvrfwwT25/cRLQ5FzxSRRe7Z6g8Q2XEmRVSjm4YlVpT16FrdAyq8UTxH9VICi4J6MK3wYd0hraAH1jb4wp9DS5JvHSo1YUoiGDVmmHGx6kslrpSd6CXjI=
X-Yahoo-Newman-Id: 503496.72352.bm@smtp135.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 8hnPf_sVM1nrT9eVSd3MUJSHk5rYApmucJyGmeNYcZnZ.MU
 xl8SPaQ6CXGyzvvfYWbapAWac1QlbZVLTxLDakUfwXcp7CGgRH9x7MAmY0iF
 WzqXZOL.pBJ5.9v0SGDZH1h9zIoVIMLxfQhIDynjsA2JwN59BE4A6kmnXL5V
 IfiDZtfWt8_UO7Gox45oG40VIOz0okmRoCJSJZF22Mk1uCXTqw51SfraGMH5
 PjEd66T7Csh2Nu1Zhw3FhloAssdhiu8Buz7Vla.v3wbT7dnDLF32Vf8zXdM4
 L_V7REpa6ygwvktIrrdBkS13fIhLyZkGk2LS.T4uTt6JY5.zzd9n.amekSma
 d.JRjrXwnv7nSuwzHNK.ZXid3Qr9LOLvqX2De5qjHlmWnKgLfZwCO0d50H.N
 tf96mXrbM
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.193.157 with plain)
        by smtp135.mail.ukl.yahoo.com with SMTP; 03 May 2012 17:03:04 +0000 GMT
Message-ID: <4FA2BA43.10102@yahoo.es>
Date: Thu, 03 May 2012 19:02:59 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net>
In-Reply-To: <4FA2B078.10501@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 120503-0, 03/05/2012), Outbound message
X-Antivirus-Status: Clean

On 03/05/2012 18:21, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Miguel,
>
> On 5/3/12 11:37 AM, Miguel Gonzlez Castaos wrote:
>> We had several crashes today:
>>
>> First - 1 outofmemory error Second- 3 Tomcat pausing
> Do you mean that Tomcat actually paused its connectors, or do you mean
> that your site became unresponsive? Were you able to capture a thread
> dump during this unresponsive period? Did the JVM recover or did you
> have to kill it and restart. If you had to kill it, that's called
> beign "locked-up" and not just pausing for a while.
Site became unresponsive. When I saw in catalina.out that the connector 
was pausing and the website was not responsive, I checked the java 
process and was dead, so I couldn't get a thread dump

>
> If you can't take a thread dump during these "pauses", you'll never
> know what is happening.
Any setting that can generate a dump automatically as for out of memory 
errors?
>
> Are you using a database? Are you using pooled connections? If so,
> enable "abandoned" tracing if that's a possibility for you (Tomcat's
> two built-in choices of dbcp can do abandoned tracing).

Yes, a mysql database and pooled connections. How can I enable that 
abandoned tracing?

I enabled slow queries for mysql, but the developer claims the queries 
are fine (although some report more than a second to be run).


>
>> Third - 2 or 3 times where catalina.out didn't show any error and
>> tomcat died, only a big increase of memory use right before the
>> java process died. That's why I assumed that maybe I have set the
>> heap memory too high (I set it up because of the out of memory
>> errors). That's why I googled to see if anyone had seen issues and
>> that's why I reached that URL
>>
>> I have set up this:
>>
>> -XX:+HeapDumpOnOutOfMemoryError -XX:+UseConcMarkSweepGC -Xms128m
>> -Xmx768m -verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails
> Great, so you've changed heap size *and* GC strategy and you still
> have no idea what the problem is.
Well, before the heap size was 512m so I have increased it just a little 
(to overcome the outofmemory errors). Is that increase that much?

I can revert the GC strategy. the verbose options for GC are fine?



>
> We had a performance problem last week that was very severe. One of my
> friends said "well, if you're not using concurrent mark-and-sweep,
> then that's probably the problem".  (I'm not sure of the nuances, but
> the default GC on my system is "ConcurrentMarkSweep", so I don't know
> if UseConcMarkSweepGC actually gets you anything). I was skeptical. I
> did my research.
>
> The problem was a missing index on a database table. A simple ALTER
> statement changed 20-second response times back to more reasonable
> sub-100ms response times. No mucking-around with the JVM required.

I'll retake that path of checking mysql indexes and slow queries.

>
> That's hy I suggest that you do some research *in your own
> environment* instead of just guessing at random things and changing
> every setting that you've found via Google.
>
>> I hope this way I can trace if there is any memory leak in the
>> webapp.
> If you have a memory leak in your webapp and you have javamelody, I
> would argue that you should set your heap to the /largest/ you can
> possibly get away with and then watch it over time. A memory leak is
> easy to see over time with a big heap. You are limited by a 32-bit JVM
> and only ~1.5GiB heap limit, so it might be hard. Maybe you've just
> outgrown your hardware.
That we have outgrown our hardware, that's probably for sure. This a 
virtual private server. I have said the owners to move to a dedicated 
server but I guess they want me to squeeze this VPS as much as I can.

Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233978-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:21:41 2012
Return-Path: <users-return-233978-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D981C77B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:21:41 +0000 (UTC)
Received: (qmail 97648 invoked by uid 500); 3 May 2012 17:21:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97586 invoked by uid 500); 3 May 2012 17:21:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97574 invoked by uid 99); 3 May 2012 17:21:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:21:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [165.21.101.74] (HELO comsmtp1.singnet.com.sg) (165.21.101.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:21:30 +0000
Received: from pike.singnet.com.sg (pike.singnet.com.sg [165.21.101.112])
	by comsmtp1.singnet.com.sg (8.14.1/8.13.6) with ESMTP id q43HL0O0011818
	for <users@tomcat.apache.org>; Fri, 4 May 2012 01:21:00 +0800
Received: from pike.singnet.com.sg (localhost.localdomain [127.0.0.1])
	by pike.singnet.com.sg (8.13.8/8.14.2) with ESMTP id q43HKw1Y010368
	for <users@tomcat.apache.org>; Fri, 4 May 2012 01:21:08 +0800
Received: (from cooluser@localhost)
	by pike.singnet.com.sg (8.13.8/8.14.2/Submit) id q43HKwFJ010367
	for users@tomcat.apache.org; Fri, 4 May 2012 01:20:58 +0800
X-Authentication-Warning: pike.singnet.com.sg: cooluser set sender to andii@singnet.com.sg using -f
To: users@tomcat.apache.org
Subject: Tomcat unable to validate SSL certificate authority
Message-ID: <1336065658.4fa2be7a47335@eel.singnet.com.sg>
Date: Fri, 04 May 2012 01:20:58 +0800 (SGT)
From: Andy Ee <andii@singnet.com.sg>
Reply-To: andii@singnet.com.sg
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
User-Agent: SingNet WebMail

Dear all,

I am stuck with this problem for over a month now, and I have tried all ways but to no avail.

My Tomcat 6.0.32 is running in Solaris 10 and the JDK version is 1.6.0_21. I deployed a java program in Tomcat webapps/ which will post some results to a web server via a HTTPS url. I received the following error in the catalina.out log.

[12-05-04 00:57:20] INFO  [http-8080-1]  Sending to (https://abc.test.com/payment/test.jsp) - timeout: 30000
[12-05-04 00:57:22] ERROR [http-8080-1] Encounter exception while send status to merchant status url! sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target

I downloaded and imported the required CA chain certificates into the java truststore cacerts but it does not help. 

Next, I tried to set JAVA_OPTS to point Tomcat to the cacerts as the truststore and it doesnt help either.

bash-3.00# /usr/ucb/ps -auxwww | grep tomcat
root     25578  0.1 11.01145892903712 pts/8    S 00:55:57  2:14 /usr/java/bin/java -Djava.util.logging.config.file=/usr/local/apache-tomcat-6.0.32/conf/logging.properties -Xms512m -Xmx1024m -XX:MaxPermSize=512m -XX:+DisableExplicitGC -Djavax.net.ssl.trustStore=/usr/java/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Dsun.net.inetaddr.ttl=0 -Djavax.net.ssl.keyStore=/usr/java/jre/lib/security/cacerts -Djavax.net.ssl.keyStorePassword=changeit -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.endorsed.dirs=/usr/local/apache-tomcat-6.0.32/endorsed -classpath /usr/local/apache-tomcat-6.0.32/bin/bootstrap.jar -Dcatalina.base=/usr/local/apache-tomcat-6.0.32 -Dcatalina.home=/usr/local/apache-tomcat-6.0.32 -Djava.io.tmpdir=/usr/local/apache-tomcat-6.0.32/temp org.apache.catalina.startup.Bootstrap start

The CA certificates were imported into cacerts using the following keytool command.

keytool -import -trustcacerts -keystore cacerts -file root.cer -alias BuiltinObjectToken-GoDaddyClass2CA
keytool -import -trustcacerts -keystore cacerts -file inter.cer -alias GoDaddySecureCertificationAuthority

I also tried to verify by using TestSSL.java and InstallCert.java and both could locate the CA certificates in cacerts. Therefore I am suspecting that Tomcat is not using cacerts properly.

Any help is greatly appreciated!

Regards,
Andii

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233979-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:28:47 2012
Return-Path: <users-return-233979-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A565955F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:28:47 +0000 (UTC)
Received: (qmail 20912 invoked by uid 500); 3 May 2012 17:28:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20802 invoked by uid 500); 3 May 2012 17:28:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20793 invoked by uid 99); 3 May 2012 17:28:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:28:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:28:39 +0000
Received: by pbbro12 with SMTP id ro12so3037565pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 10:28:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zQ1AIonICF3DAJZveTQnlYsB16CCfMXAGtC4fWW9QeM=;
        b=fiM+fK0JaAWO/4flZ8vjF3OHikbpmt8reMJfCxEU+b233w3qe4iRnDSqE4X/4m3IB+
         c1ZrYKB0gQMIF7SIFXoR4auXJEkDS2zexW+gmcey2jVbF+1dRv3xqZrTqSmmtdeo39L6
         LSH5dd3lp+eJyRgBxYtX+aDaAW3QHXSSX0muqCAoSaL16+pYkOYWDkfeWZhR78CdeSjj
         h2hsqIFnF+HZdECV+C1BofDKtQHH0NxENmOqJFNK6CbZkJlgf7V+GhFwVnEDbyd7io4Z
         DvBPos37aIvo3N6FQw/aTghB+Qz70CbZstASUibINuhW15ZvBPR1oQY2D1v8z64dtBYr
         6HrA==
MIME-Version: 1.0
Received: by 10.68.135.226 with SMTP id pv2mr5765145pbb.127.1336066099506;
 Thu, 03 May 2012 10:28:19 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 10:28:19 -0700 (PDT)
In-Reply-To: <4FA2B21C.6080308@christopherschultz.net>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
Date: Thu, 3 May 2012 11:28:19 -0600
Message-ID: <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10c86b41ef6e04bf252166
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b10c86b41ef6e04bf252166
Content-Type: text/plain; charset=ISO-8859-1

<snip>

> INFO: Deploying configuration descriptor manager.xml
>
> Good.
>
> > As you can see, the manager descriptor is deployed - and sure
> > enough the standard manager.xml file is created in
> > /usr/local/confluence-4/conf/Standalone/localhost.
>
> Good.
>
> > However, I still don't get the manager app.
>
> Bad. You mean you get a 404 Not Found?
>
>
Thats correct. I get the:

HTTP Status 404 - /manager/html message.


Very strange.



> It doesn't look like you are using anything in front of Tomcat like
> httpd, are you? Do you have more than one <Host> in your server.xml?
>
>
There is only one <Host> in my server.xml. We are currently running the AJP
connector in the server.xml, and have httpd utilizing that connector to
talk directly to the tomcat, but this is only for the convenience of
redirecting a meaningful http address into the actual tomcat URL. We do not
rely on it.




Weird, huh?





> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+ishwACgkQ9CaO5/Lv0PAfDwCeNxhvYfRaa/INxLjxSnwrPd7v
> PsIAn00I3c3k2At9KdebWMWQAWnhJnsM
> =PFCq
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b10c86b41ef6e04bf252166--

From users-return-233980-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:39:11 2012
Return-Path: <users-return-233980-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 042399597
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:39:11 +0000 (UTC)
Received: (qmail 54123 invoked by uid 500); 3 May 2012 17:39:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53949 invoked by uid 500); 3 May 2012 17:39:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53939 invoked by uid 99); 3 May 2012 17:39:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:39:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:39:01 +0000
Received: from [192.168.245.129] (montserrat.wissensbank.com [212.85.37.175])
	by tor.combios.es (Postfix) with ESMTPA id 4BC20DA06A6
	for <users@tomcat.apache.org>; Thu,  3 May 2012 19:38:37 +0200 (CEST)
Message-ID: <4FA2C29E.8020803@ice-sa.com>
Date: Thu, 03 May 2012 19:38:38 +0200
From: =?windows-1252?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat unable to validate SSL certificate authority
References: <1336065658.4fa2be7a47335@eel.singnet.com.sg>
In-Reply-To: <1336065658.4fa2be7a47335@eel.singnet.com.sg>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Andy Ee wrote:
> Dear all,
> 
> I am stuck with this problem for over a month now, and I have tried all ways but to no avail.
> 
> My Tomcat 6.0.32 is running in Solaris 10 and the JDK version is 1.6.0_21. I deployed a java program in Tomcat webapps/ which will post some results to a web server via a HTTPS url. 

So it is *this webapp* which is creating a HTTPS connection to some other webserver, and 
sending it some data, right ?


I received the following error in the catalina.out log.
> 
> [12-05-04 00:57:20] INFO  [http-8080-1]  Sending to (https://abc.test.com/payment/test.jsp) - timeout: 30000
> [12-05-04 00:57:22] ERROR [http-8080-1] Encounter exception while send status to merchant status url! sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target

and this is a log message *from the webapp*, right ?

> 
> I downloaded and imported the required CA chain certificates into the java truststore cacerts but it does not help. 
> 
> Next, I tried to set JAVA_OPTS to point Tomcat to the cacerts as the truststore and it doesnt help either.
> 
> bash-3.00# /usr/ucb/ps -auxwww | grep tomcat
> root     25578  0.1 11.01145892903712 pts/8    S 00:55:57  2:14 /usr/java/bin/java -Djava.util.logging.config.file=/usr/local/apache-tomcat-6.0.32/conf/logging.properties -Xms512m -Xmx1024m -XX:MaxPermSize=512m -XX:+DisableExplicitGC -Djavax.net.ssl.trustStore=/usr/java/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Dsun.net.inetaddr.ttl=0 -Djavax.net.ssl.keyStore=/usr/java/jre/lib/security/cacerts -Djavax.net.ssl.keyStorePassword=changeit -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.endorsed.dirs=/usr/local/apache-tomcat-6.0.32/endorsed -classpath /usr/local/apache-tomcat-6.0.32/bin/bootstrap.jar -Dcatalina.base=/usr/local/apache-tomcat-6.0.32 -Dcatalina.home=/usr/local/apache-tomcat-6.0.32 -Djava.io.tmpdir=/usr/local/apache-tomcat-6.0.32/temp org.apache.catalina.startup.Bootstrap start
> 
> The CA certificates were imported into cacerts using the following keytool command.
> 
> keytool -import -trustcacerts -keystore cacerts -file root.cer -alias BuiltinObjectToken-GoDaddyClass2CA
> keytool -import -trustcacerts -keystore cacerts -file inter.cer -alias GoDaddySecureCertificationAuthority
> 
> I also tried to verify by using TestSSL.java and InstallCert.java and both could locate the CA certificates in cacerts. 
> Therefore I am suspecting that Tomcat is not using cacerts properly.

And this is probably where you are making the wrong analysis.

According to your own description above, the only thing in common between your webapp and 
Tomcat, is that they are run by the same JVM.
Tomcat per se has nothing to do with whatever your webapp makes as connections to anything 
else.  Tomcat does not even know about this. No Tomcat code is involved in setting up that 
connection or using it.
It is matter for your webapp and the JVM alone.
In other words, if your webapp was a stand-alone Java program instead of being a webapp, 
you would get exactly the same error.

I have no idea what the problem really is, but it seems to me that by mentally leaving 
Tomcat out of the equation, you may be able to figure it out by yourself quicker.

For example, extract out of that webapp the code which is setting up that HTTPS 
connection, and make it into a standalone program.  Then run it with the same Java options 
as you do with Tomcat above, and see what you get.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233981-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:39:56 2012
Return-Path: <users-return-233981-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF29895A2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:39:56 +0000 (UTC)
Received: (qmail 58518 invoked by uid 500); 3 May 2012 17:39:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58331 invoked by uid 500); 3 May 2012 17:39:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58321 invoked by uid 99); 3 May 2012 17:39:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:39:53 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:39:44 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-45.messagelabs.com!1336066760!25747939!6
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 5060 invoked from network); 3 May 2012 17:39:22 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-10.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 17:39:22 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 12:38:50 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 3 May
 2012 12:38:49 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 12:38:45 -0500
Subject: RE: Tomcat unable to validate SSL certificate authority
Thread-Topic: Tomcat unable to validate SSL certificate authority
Thread-Index: Ac0pUTqErZCnVJcqSba93h2PbsIWVAAAEOIg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990DEB9@USEA-EXCH8.na.uis.unisys.com>
References: <1336065658.4fa2be7a47335@eel.singnet.com.sg>
In-Reply-To: <1336065658.4fa2be7a47335@eel.singnet.com.sg>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Andy Ee [mailto:andii@singnet.com.sg]=20
> Subject: Tomcat unable to validate SSL certificate authority

> I received the following error in the catalina.out log.

"Logging" to stdout is bad practice for anyone's webapp.

> Therefore I am suspecting that Tomcat is not using cacerts properly.

Therefore you are wrong, since Tomcat isn't using the JVM's cacerts file at=
 all.  It's your application that's making the outbound HTTPS request - Tom=
cat isn't involved.  You need to investigate the code that's making the out=
bound request; running it outside of Tomcat in a standalone program will pr=
obably be an easier environment to debug.  Once that's working, then try it=
 again in a webapp.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233982-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:40:51 2012
Return-Path: <users-return-233982-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 437DC95B2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:40:51 +0000 (UTC)
Received: (qmail 66081 invoked by uid 500); 3 May 2012 17:40:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66015 invoked by uid 500); 3 May 2012 17:40:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66004 invoked by uid 99); 3 May 2012 17:40:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:40:47 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:40:37 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-29.messagelabs.com!1336066810!23114039!11
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 24078 invoked from network); 3 May 2012 17:40:15 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-10.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 17:40:15 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 12:39:55 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 3 May
 2012 12:39:55 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 12:39:55 -0500
Subject: RE: Adding the manager app to a Standalone tomcat install
Thread-Topic: Adding the manager app to a Standalone tomcat install
Thread-Index: Ac0pUj5V8mtpPRwgTLCf75CLUwg9KwAAWiJA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990DEC3@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
 <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
In-Reply-To: <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]=20
> Subject: Re: Adding the manager app to a Standalone tomcat install

> As you can see, the manager descriptor is deployed - and sure
> enough the standard manager.xml file is created in
> /usr/local/confluence-4/conf/Standalone/localhost.

What exactly is in that manager.xml file?

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233983-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:45:16 2012
Return-Path: <users-return-233983-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F315C95CF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:45:15 +0000 (UTC)
Received: (qmail 81223 invoked by uid 500); 3 May 2012 17:45:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81141 invoked by uid 500); 3 May 2012 17:45:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81132 invoked by uid 99); 3 May 2012 17:45:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:45:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:45:04 +0000
Received: from [192.168.245.129] (montserrat.wissensbank.com [212.85.37.175])
	by tor.combios.es (Postfix) with ESMTPA id 0B196DA07FE
	for <users@tomcat.apache.org>; Thu,  3 May 2012 19:44:41 +0200 (CEST)
Message-ID: <4FA2C40B.6030701@ice-sa.com>
Date: Thu, 03 May 2012 19:44:43 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>	<4FA2B21C.6080308@christopherschultz.net> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
In-Reply-To: <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Todd Seidenberg wrote:
> <snip>
> 
>> INFO: Deploying configuration descriptor manager.xml
>>
>> Good.
>>
>>> As you can see, the manager descriptor is deployed - and sure
>>> enough the standard manager.xml file is created in
>>> /usr/local/confluence-4/conf/Standalone/localhost.
>> Good.
>>
>>> However, I still don't get the manager app.
>> Bad. You mean you get a 404 Not Found?
>>
>>
> Thats correct. I get the:
> 
> HTTP Status 404 - /manager/html message.

and is this an Apache or a Tomcat error page ? (easy to distinguish by the style)

> 
> 
> Very strange.
> 
> 
> 
>> It doesn't look like you are using anything in front of Tomcat like
>> httpd, are you? Do you have more than one <Host> in your server.xml?
>>
>>
> There is only one <Host> in my server.xml. We are currently running the AJP
> connector in the server.xml, and have httpd utilizing that connector to
> talk directly to the tomcat, but this is only for the convenience of
> redirecting a meaningful http address into the actual tomcat URL. We do not
> rely on it.
> 

And this is what I suspect : the instructions used at the Apache level to "proxy" some 
URLs to Tomcat, do not cover the URL "/manager/html".  Therefore, Apache/mod_jk is not 
forwarding this to Tomcat, and instead it is Apache httpd itself which tries to find the 
resource corresponding to /manager/html; but it does not find it, so it returns a 404.

> 
> 
> 
> Weird, huh?
> 

If my above suspicion is justified, then I would say that it's not weird at all.  It is 
entirely predictable and actually very frequent as an error.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233984-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:52:53 2012
Return-Path: <users-return-233984-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C3C495FD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:52:53 +0000 (UTC)
Received: (qmail 4596 invoked by uid 500); 3 May 2012 17:52:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4351 invoked by uid 500); 3 May 2012 17:52:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4342 invoked by uid 99); 3 May 2012 17:52:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:52:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:52:43 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 5NZS1j0011YDfWL51VsGJN; Thu, 03 May 2012 17:52:16 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id 5VsN1j01X38FjT13gVsNrD; Thu, 03 May 2012 17:52:22 +0000
Message-ID: <4FA2C5D5.9080805@christopherschultz.net>
Date: Thu, 03 May 2012 13:52:21 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>	<4FA2B21C.6080308@christopherschultz.net> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com> <4FA2C40B.6030701@ice-sa.com>
In-Reply-To: <4FA2C40B.6030701@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/3/12 1:44 PM, Andr Warnier wrote:
> And this is what I suspect : the instructions used at the Apache
> level to "proxy" some URLs to Tomcat, do not cover the URL
> "/manager/html". Therefore, Apache/mod_jk is not forwarding this to
> Tomcat, and instead it is Apache httpd itself which tries to find
> the resource corresponding to /manager/html; but it does not find
> it, so it returns a 404.

That would have been my first guess, but a) Todd didn't mention httpd
until recently and b) his original 404 error page appeared to have the
Tomcat 6.0.x footer (see Todd's 3rd message in the thread).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ixdUACgkQ9CaO5/Lv0PCUDACgmrcehNuzgNvh/M3cVyhzEP9v
to8AoMNVo7B81WvlpQPcX7yVqrtNQCG3
=40nz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233985-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:56:01 2012
Return-Path: <users-return-233985-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 348D3960C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:56:01 +0000 (UTC)
Received: (qmail 13516 invoked by uid 500); 3 May 2012 17:55:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13449 invoked by uid 500); 3 May 2012 17:55:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13439 invoked by uid 99); 3 May 2012 17:55:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:55:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.210.43 as permitted sender)
Received: from [209.85.210.43] (HELO mail-pz0-f43.google.com) (209.85.210.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:55:51 +0000
Received: by dajz8 with SMTP id z8so1880505daj.16
        for <users@tomcat.apache.org>; Thu, 03 May 2012 10:55:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eIqb+XD8frKHbnmn4nAZzaTpMiDlajBjWuafnAGlsRQ=;
        b=PYF+C6z0W+0R1zPEzUTLytNIhcq75laytcMR1Va8vn2Vd1NK1hfIxGxXgDGzdGNKyN
         i2HMuXeQ7jD3gkDCVz1U8xut9RChvar0vnEu+YjPjVGuDksBf15AVOI1pEc2ygJiJ0IT
         tVsT4XviqGY/hHEIYFp7/ojEulqzxMP8+nU/qNJ6YZMiUEJw4NHn2b5ast1iMj0r02ae
         URQ3a3EIJVsrlnPadBFHGB7pdtmBNNlA6t5VbItV/pzA/JFWkR7zcQg3MocKKc7ft155
         68jc626eBBz5894RUMWSaF8pBqGafffYsEdK1wpHchqYHiAHJUB7JwNYBktyG5rZwBT/
         /a0A==
MIME-Version: 1.0
Received: by 10.68.135.226 with SMTP id pv2mr6005390pbb.127.1336067729659;
 Thu, 03 May 2012 10:55:29 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 10:55:29 -0700 (PDT)
In-Reply-To: <4FA2C40B.6030701@ice-sa.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
Date: Thu, 3 May 2012 11:55:29 -0600
Message-ID: <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10c86b6c15b704bf2582a7

--047d7b10c86b6c15b704bf2582a7
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Thu, May 3, 2012 at 11:44 AM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Todd Seidenberg wrote:
>
>> <snip>
>>
>>  INFO: Deploying configuration descriptor manager.xml
>>>
>>> Good.
>>>
>>>  As you can see, the manager descriptor is deployed - and sure
>>>> enough the standard manager.xml file is created in
>>>> /usr/local/confluence-4/conf/**Standalone/localhost.
>>>>
>>> Good.
>>>
>>>  However, I still don't get the manager app.
>>>>
>>> Bad. You mean you get a 404 Not Found?
>>>
>>>
>>>  Thats correct. I get the:
>>
>> HTTP Status 404 - /manager/html message.
>>
>
> and is this an Apache or a Tomcat error page ? (easy to distinguish by th=
e
> style)
>
>
>
>>
>> Very strange.
>>
>>
>>
>>  It doesn't look like you are using anything in front of Tomcat like
>>> httpd, are you? Do you have more than one <Host> in your server.xml?
>>>
>>>
>>>  There is only one <Host> in my server.xml. We are currently running th=
e
>> AJP
>> connector in the server.xml, and have httpd utilizing that connector to
>> talk directly to the tomcat, but this is only for the convenience of
>> redirecting a meaningful http address into the actual tomcat URL. We do
>> not
>> rely on it.
>>
>>
> And this is what I suspect : the instructions used at the Apache level to
> "proxy" some URLs to Tomcat, do not cover the URL "/manager/html".
>  Therefore, Apache/mod_jk is not forwarding this to Tomcat, and instead i=
t
> is Apache httpd itself which tries to find the resource corresponding to
> /manager/html; but it does not find it, so it returns a 404.
>
>
>>
>>
>> Weird, huh?
>>
>>
> If my above suspicion is justified, then I would say that it's not weird
> at all.  It is entirely predictable and actually very frequent as an erro=
r.
>

I am definitely getting the 404 error from tomcat, not from httpd. Just to
be safe, I have turned httpd completely off.  I still get the same error.

Here are the contents of
my /usr/local/confluence-4/conf/Standalone/localhost/manager.xml file:
(remember that this was generated when I first started tomcat.)

----
<?xml version=3D"1.0" encoding=3D"UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<Context antiResourceLocking=3D"false" privileged=3D"true" useHttpOnly=3D"t=
rue" />
----




>


> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b10c86b6c15b704bf2582a7--

From users-return-233986-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 17:59:51 2012
Return-Path: <users-return-233986-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58E289626
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 17:59:51 +0000 (UTC)
Received: (qmail 27995 invoked by uid 500); 3 May 2012 17:59:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27926 invoked by uid 500); 3 May 2012 17:59:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27915 invoked by uid 99); 3 May 2012 17:59:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:59:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 17:59:41 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id 5Vda1j0030xGWP853VzDZ4; Thu, 03 May 2012 17:59:13 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id 5VzL1j00o38FjT13YVzLFE; Thu, 03 May 2012 17:59:21 +0000
Message-ID: <4FA2C778.8010008@christopherschultz.net>
Date: Thu, 03 May 2012 13:59:20 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net> <4FA2BA43.10102@yahoo.es>
In-Reply-To: <4FA2BA43.10102@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/3/12 1:02 PM, Miguel Gonzlez Castaos wrote:
> Any setting that can generate a dump automatically as for out of
> memory errors?

Just the -XX:+HeapDumpOnOutOfMemoryError you already have. Tomcat
usually doesn't shut down nicely (as evidenced by the "pausing" of
connectors in your log file) when you get an OOME. Are you sure that
weekly Tomcat-restart process isn't still running?

>> Are you using a database? Are you using pooled connections? If
>> so, enable "abandoned" tracing if that's a possibility for you
>> (Tomcat's two built-in choices of dbcp can do abandoned
>> tracing).
> 
> Yes, a mysql database and pooled connections. How can I enable
> that abandoned tracing?

Check the documentation for DBCP (which Tomcat uses) here:
http://commons.apache.org/dbcp/configuration.html

> I enabled slow queries for mysql, but the developer claims the
> queries are fine (although some report more than a second to be
> run).

Well, are you actually seeing slow queries in MySQL? It's not good
enough to just enable logging... you have to read the log ;)

> I can revert the GC strategy. the verbose options for GC are fine?

Sure: that's just logging. You will have a miniscule performance
degradation due to the logging, but I'm sure it's worth it to see what
is happening.

> I'll retake that path of checking mysql indexes and slow queries.

Just use mysqldumpslow to be sure. Also, if you suspect a query, use
EXPLAIN on it. Mysqldumpslow be default "anonymizes" queries so you
can see a "class" of equivalent queries that are failing. MySQL
determines its query plan based not just upon the structure of the
query, but also upon the data and the indexes that are available at
the time of the query. You might want to disable this anonymizing of
the dat to get an /actual/ query that was slow. Then run EXPLAIN on
that to see what the plan was: maybe MySQL is making a bad decision,
or maybe you need an additional index. Or maybe the query is just
written poorly in the first place. MySQL is notorious for using
DEPENDENT SUBQUERIES (awful performance) when such a query is not
necessary.

> That we have outgrown our hardware, that's probably for sure. This
> a virtual private server. I have said the owners to move to a
> dedicated server but I guess they want me to squeeze this VPS as
> much as I can.

Sheesh, if it's virtualized, just have them provision a larger
instance for you and move the virtual machine. I'd recommend a 64-bit
OS/JVM so you can get heaps bigger than about 1.5GiB.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ix3gACgkQ9CaO5/Lv0PA4mQCgnVETbX5COEfE7smzcYshFpQF
of0An0xRGmakspqFsTIcobjonz5QP81U
=F8mw
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233987-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:00:56 2012
Return-Path: <users-return-233987-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D82AC964B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:00:55 +0000 (UTC)
Received: (qmail 33203 invoked by uid 500); 3 May 2012 18:00:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33126 invoked by uid 500); 3 May 2012 18:00:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33116 invoked by uid 99); 3 May 2012 18:00:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:00:52 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:00:41 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-11.tower-200.messagelabs.com!1336068014!11572024!30
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22104 invoked from network); 3 May 2012 18:00:18 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-11.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 18:00:18 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 13:00:06 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 3 May
 2012 13:00:04 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 13:00:04 -0500
Subject: RE: Adding the manager app to a Standalone tomcat install
Thread-Topic: Adding the manager app to a Standalone tomcat install
Thread-Index: Ac0pVgEBdJqtKfFkR/6WFdr82PVZEAAADL+A
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
 <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
In-Reply-To: <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]=20
> Subject: Re: Adding the manager app to a Standalone tomcat install

> Here are the contents of my=20
> /usr/local/confluence-4/conf/Standalone/localhost/manager.xml file:

That looks reasonable.  How about posting your server.xml file, preferably =
with comments stripped out and secure information obfuscated.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233988-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:24:22 2012
Return-Path: <users-return-233988-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86105993C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:24:22 +0000 (UTC)
Received: (qmail 4628 invoked by uid 500); 3 May 2012 18:24:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4562 invoked by uid 500); 3 May 2012 18:24:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4553 invoked by uid 99); 3 May 2012 18:24:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:24:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:24:14 +0000
Received: by pbbro12 with SMTP id ro12so3102485pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 11:23:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VOMQgr3k6dW45IdBo3Rguj3PoXQF8wGScDnVmvb80iM=;
        b=zYity5U/UclbJhAyJW6i2NJDb/LOeqEQG6I+zKcOPhfpbp4nYWxSbu75qeR7qc/Dkt
         fJO8kUn1i164GblvSlizQtOBWQekl7WTs9OwZ3rzsy7jB18NLn9c6kipiz9flThKp2QZ
         f6GtdAca+BSzavQGds93YzThCKZINjan712mDZLvY3JfzTUcFdR6jRUeTiJF+M4fH3xr
         Y1ZvDMaHkMVq7wTKwQ6O50vI46fwDqCqfmSvbEN7hTwjEXzfJ1kVmA6+6c2cdWhsXJpU
         tx3/2PHxRfY1qimVC8j+stiTucNikAEQnobKJ87xhBp4owKI64iiALfGvscVh7PUpqD0
         7Cvw==
MIME-Version: 1.0
Received: by 10.68.134.232 with SMTP id pn8mr10153433pbb.106.1336069433819;
 Thu, 03 May 2012 11:23:53 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 11:23:53 -0700 (PDT)
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
Date: Thu, 3 May 2012 12:23:53 -0600
Message-ID: <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10c861ff83b304bf25e73e
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b10c861ff83b304bf25e73e
Content-Type: text/plain; charset=ISO-8859-1

On Thu, May 3, 2012 at 12:00 PM, Caldarale, Charles R <
Chuck.Caldarale@unisys.com> wrote:

> > From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
> > Subject: Re: Adding the manager app to a Standalone tomcat install
>
> > Here are the contents of my
> > /usr/local/confluence-4/conf/Standalone/localhost/manager.xml file:
>
> That looks reasonable.  How about posting your server.xml file, preferably
> with comments stripped out and secure information obfuscated.
>
>  - Chuck
>
>
Here's my server.xml stripped out of all secure info, as requested:

<Server port="8000" shutdown="SHUTDOWN" debug="0">
    <Service name="Tomcat-Standalone">
        <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
port="8090" minProcessors="5"
                   maxProcessors="75"
                   enableLookups="false" redirectPort="8443"
acceptCount="10" debug="0" connectionTimeout="20000"
                   useURIValidationHack="false" URIEncoding="UTF-8"
/>
    <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
        <Engine name="Standalone" defaultHost="localhost" debug="0">
            <Host name="localhost" debug="0" appBase="webapps"
unpackWARs="true" autoDeploy="true">
                <Context path="/confluence" docBase="../confluence"
debug="0" reloadable="false" useHttpOnly="true">
                    <Manager pathname="" />
<Resource
-----PRIVATE STUFF REMOVED-----
/>

<Resource
-----PRIVATE STUFF REMOVED-----
/>

<Resource
-----PRIVATE STUFF REMOVED-----
/>

<Resource
-----PRIVATE STUFF REMOVED-----
/>

<Resource
-----PRIVATE STUFF REMOVED-----
/>

<Resource
-----PRIVATE STUFF REMOVED-----
/>
                </Context>
            </Host>
</Engine>
    </Service>
</Server>



>
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY
> MATERIAL and is thus for use only by the intended recipient. If you
> received this in error, please contact the sender and delete the e-mail and
> its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b10c861ff83b304bf25e73e--

From users-return-233989-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:26:30 2012
Return-Path: <users-return-233989-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 602BCC516
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:26:30 +0000 (UTC)
Received: (qmail 14874 invoked by uid 500); 3 May 2012 18:26:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14651 invoked by uid 500); 3 May 2012 18:26:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14642 invoked by uid 99); 3 May 2012 18:26:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:26:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.182.225] (HELO nm4.bullet.mail.ukl.yahoo.com) (217.146.182.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 18:26:18 +0000
Received: from [217.146.183.211] by nm4.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 18:25:57 -0000
Received: from [217.146.182.88] by tm4.bullet.mail.ukl.yahoo.com with NNFMP; 03 May 2012 18:25:57 -0000
Received: from [127.0.0.1] by smtp151.mail.ukl.yahoo.com with NNFMP; 03 May 2012 18:25:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336069557; bh=s/Kjw403Wx8jnudTt/9HijxtiHTKv5kaY78zbAqYM3A=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=6HF3zv7zegw/cxElVT1I9VaJzN/OFolmp7GoHDf+LeyBiIcxyYPRd8B1SdBwiTUIWJ9XhshVwjoIHxDmZdOawk6nE4tvWFAVkiEz/U21sVzF0f0PpSgRWIf9QULR1PQfj744HxK1lVvLd51KurmphE6H/K0dbFrsAT1Swl8nKRY=
X-Yahoo-Newman-Id: 689253.46142.bm@smtp151.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: MVpb2h8VM1nHrTsMIYG2Tn8Px8l6AhsV9OKnJ1_gxRY5t2w
 IQkGKnFUIaQRXg8oSHjGOkIEWtYY8ljJMWtWUah0RTdg8G19VlDX_pAfuGVE
 wIkNNqQPxYXSfoXgUcqwiftOykBOw_Xi9v4SQj9Rv7KIM3Sy56MszqcMx5cy
 SkRFj895t.PhNf0U94.w5bFAg2wjQFgXlxbBg.hDdLQ7am1By2.jI34FxpSe
 vIfL1n4.Ap0Qxd5vhPMGL3YKJlgL4gmplfEV05WAXRK3t7WqHTPfBfpu7.MO
 xeXKnDWDCXbdBv9Qz5wakoIH.84fg4kotMjj.4zm.Mz3QreAAYb.HzNxQKJk
 PdiRsCs4B4lptUPQiTuCUw1uaOUYSNP2ztYfWEMV5cOvM81LhulyLsLcET.h
 Tpkfyth517893LQ2e_4V9CmF2V3YKPjkbNb9ynlc67l9BN6qSQMnpsHTXJIf
 5s.g_6lmFdBXPAgVZ5T5i7OFTdUTxSm8qgMgZKEKrP983JA--
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.193.157 with plain)
        by smtp151.mail.ukl.yahoo.com with SMTP; 03 May 2012 11:25:57 -0700 PDT
Message-ID: <4FA2CDB0.1050908@yahoo.es>
Date: Thu, 03 May 2012 20:25:52 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net> <4FA2BA43.10102@yahoo.es> <4FA2C778.8010008@christopherschultz.net>
In-Reply-To: <4FA2C778.8010008@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120503-0, 03/05/2012), Outbound message
X-Antivirus-Status: Clean

> Just the -XX:+HeapDumpOnOutOfMemoryError you already have. Tomcat
> usually doesn't shut down nicely (as evidenced by the "pausing" of
> connectors in your log file) when you get an OOME. Are you sure that
> weekly Tomcat-restart process isn't still running?
Yes, it's still running. Should i disable it?
>
>>> Are you using a database? Are you using pooled connections? If
>>> so, enable "abandoned" tracing if that's a possibility for you
>>> (Tomcat's two built-in choices of dbcp can do abandoned
>>> tracing).
>> Yes, a mysql database and pooled connections. How can I enable
>> that abandoned tracing?
> Check the documentation for DBCP (which Tomcat uses) here:
> http://commons.apache.org/dbcp/configuration.html
I have set logAbandoned=true. I haven't enabled the removeAbandoned and 
the removeAbandonedTimeout just in case. Will I get the info in the 
catalina log?

>
>> I enabled slow queries for mysql, but the developer claims the
>> queries are fine (although some report more than a second to be
>> run).
> Well, are you actually seeing slow queries in MySQL? It's not good
> enough to just enable logging... you have to read the log ;)
>
>> I can revert the GC strategy. the verbose options for GC are fine?
> Sure: that's just logging. You will have a miniscule performance
> degradation due to the logging, but I'm sure it's worth it to see what
> is happening.
>
>> I'll retake that path of checking mysql indexes and slow queries.
> Just use mysqldumpslow to be sure. Also, if you suspect a query, use
> EXPLAIN on it. Mysqldumpslow be default "anonymizes" queries so you
> can see a "class" of equivalent queries that are failing. MySQL
> determines its query plan based not just upon the structure of the
> query, but also upon the data and the indexes that are available at
> the time of the query. You might want to disable this anonymizing of
> the dat to get an /actual/ query that was slow. Then run EXPLAIN on
> that to see what the plan was: maybe MySQL is making a bad decision,
> or maybe you need an additional index. Or maybe the query is just
> written poorly in the first place. MySQL is notorious for using
> DEPENDENT SUBQUERIES (awful performance) when such a query is not
> necessary.
I'll check about the anonymizing thing.

Right now I get the following cronjob forwarded to my email

/usr/bin/mysqldumpslow -s -t /var/log/mysql-slow.log | mail -s ....

Yes, I have pinpointed several queries that took quite long and 
specially subqueries. I forwarded this info to the developer but she 
said it was alright. More than a second to run a query seems to be a lot 
to me. The problem is that since the database E/R is not documented, 
it's going to take a while to improve the performance of the queries. 
The developer is quitting so I hope a new developer is more cooperative 
and we can work out these things.

In the meantime I will check what I can do. I have also downloaded 
mysqltuner script and mysqlfragfinder a long time ago and follow the 
output of these tuning scripts.


>
>> That we have outgrown our hardware, that's probably for sure. This
>> a virtual private server. I have said the owners to move to a
>> dedicated server but I guess they want me to squeeze this VPS as
>> much as I can.
> Sheesh, if it's virtualized, just have them provision a larger
> instance for you and move the virtual machine. I'd recommend a 64-bit
> OS/JVM so you can get heaps bigger than about 1.5GiB.
:-) I'm trying to convince them.

Many thanks for your inputs, you have been very helpful

Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233990-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:40:29 2012
Return-Path: <users-return-233990-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B4C09C0D8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:40:29 +0000 (UTC)
Received: (qmail 71782 invoked by uid 500); 3 May 2012 18:40:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71702 invoked by uid 500); 3 May 2012 18:40:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71689 invoked by uid 99); 3 May 2012 18:40:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:40:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:40:18 +0000
Received: from [192.168.245.129] (montserrat.wissensbank.com [212.85.37.175])
	by tor.combios.es (Postfix) with ESMTPA id BC617DA07FB
	for <users@tomcat.apache.org>; Thu,  3 May 2012 20:39:55 +0200 (CEST)
Message-ID: <4FA2D0FC.6040701@ice-sa.com>
Date: Thu, 03 May 2012 20:39:56 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>	<4FA2B21C.6080308@christopherschultz.net>	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>	<4FA2C40B.6030701@ice-sa.com>	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
In-Reply-To: <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Todd Seidenberg wrote:
...

>>
> Here's my server.xml stripped out of all secure info, as requested:
> 
> <Server port="8000" shutdown="SHUTDOWN" debug="0">
>     <Service name="Tomcat-Standalone">
>         <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
> port="8090" minProcessors="5"

is that really Tomcat 4.x that you are using ?
How about platform, OS, JVM, Tomcat versions etc.. ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233991-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:54:59 2012
Return-Path: <users-return-233991-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63574C14B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:54:59 +0000 (UTC)
Received: (qmail 25027 invoked by uid 500); 3 May 2012 18:54:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24952 invoked by uid 500); 3 May 2012 18:54:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24943 invoked by uid 99); 3 May 2012 18:54:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:54:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [173.203.6.149] (HELO smtp149.ord.emailsrvr.com) (173.203.6.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:54:49 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp23.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 57D721C80BA
	for <users@tomcat.apache.org>; Thu,  3 May 2012 14:54:28 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp23.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 288691C8095
	for <users@tomcat.apache.org>; Thu,  3 May 2012 14:54:28 -0400 (EDT)
Message-ID: <4FA2D45D.3050407@computer.org>
Date: Thu, 03 May 2012 11:54:21 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net>
In-Reply-To: <4FA1DA5E.2050503@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Chris,

Thanks for the 'findbugs' tip.  I'm running it now in Eclipse and it has 
indeed found real bugs and some good stylistic ideas as well.

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233992-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 18:57:28 2012
Return-Path: <users-return-233992-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EAD2BC162
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 18:57:27 +0000 (UTC)
Received: (qmail 33882 invoked by uid 500); 3 May 2012 18:57:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33687 invoked by uid 500); 3 May 2012 18:57:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33678 invoked by uid 99); 3 May 2012 18:57:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:57:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 18:57:20 +0000
Received: by pbbro12 with SMTP id ro12so3139488pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 11:56:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=u5iUUzVyoYCTdve9NMxQqYv5gPU4Yyj7Y2BsRcegaAM=;
        b=QZk+uC2f1owHCx4amDbzPfb8DLQqsi2A08Fn+YiWddXwXPGqnjoECqckj726K8jT+h
         RJrxygGixtu3oogvBTnQjyc0APUtcQvHhKI9LBCPCmgG3rb5LBXnQSGUciiH1+/0bHTv
         3rsuIpG123o1xnWkSsb1JS7Jf0Od+4YeOucCn43smG0SBz7DuvVaMsYb5ex7aizkIFRp
         nn8Z5dv50Y0du40pqg0k8n/RmBuqoKdkaoTXRFqBqM0SDBWHYjOBpOrz+5xidXBYbWwZ
         mHZtw1rnjetCp6dF1AecNYGY8FmA3IO8P93hlV8QapaHkxJ/OmDvB+GjbtsRUok43grs
         pZAw==
MIME-Version: 1.0
Received: by 10.68.224.225 with SMTP id rf1mr39335pbc.148.1336071419712; Thu,
 03 May 2012 11:56:59 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 11:56:59 -0700 (PDT)
In-Reply-To: <4FA2D0FC.6040701@ice-sa.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
Date: Thu, 3 May 2012 12:56:59 -0600
Message-ID: <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff24b3b5dd26f04bf265e5c
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff24b3b5dd26f04bf265e5c
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Thu, May 3, 2012 at 12:39 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Todd Seidenberg wrote:
> ...
>
>
>
>>>  Here's my server.xml stripped out of all secure info, as requested:
>>
>> <Server port=3D"8000" shutdown=3D"SHUTDOWN" debug=3D"0">
>>    <Service name=3D"Tomcat-Standalone">
>>        <Connector className=3D"org.apache.coyote.**tomcat4.CoyoteConnect=
or"
>> port=3D"8090" minProcessors=3D"5"
>>
>
> is that really Tomcat 4.x that you are using ?
> How about platform, OS, JVM, Tomcat versions etc.. ?
>
>

Its actually not tomcat 4.0

Its 6.0.32. I think this server.xml, that came with the standalone app
(confluence) has some legacy still hanging around from the 4.0 days.


Here's the version.sh output:


# /usr/local/confluence-4/bin/version.sh

Server startup logs are located in /usr/local/confluence-4/logs/catalina.ou=
t
Using CATALINA_BASE:   /usr/local/confluence-4
Using CATALINA_HOME:   /usr/local/confluence-4
Using CATALINA_TMPDIR: /usr/local/confluence-4/temp
Using JRE_HOME:        /usr/local/confluence-4/jre/
Using CLASSPATH:       /usr/local/confluence-4/bin/bootstrap.jar
Using CATALINA_PID:    /usr/local/confluence-4/work/catalina.pid
Server version: Apache Tomcat/6.0.32
Server built:   February 2 2011 2003
Server number:  6.0.32.0
OS Name:        Linux
OS Version:     2.6.16.54-0.2.8-default
Architecture:   i386
JVM Version:    1.6.0_26-b03
JVM Vendor:     Sun Microsystems Inc.





>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff24b3b5dd26f04bf265e5c--

From users-return-233993-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 19:25:37 2012
Return-Path: <users-return-233993-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A9FCCCCB1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 19:25:37 +0000 (UTC)
Received: (qmail 28750 invoked by uid 500); 3 May 2012 19:25:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28691 invoked by uid 500); 3 May 2012 19:25:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28682 invoked by uid 99); 3 May 2012 19:25:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:25:34 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:25:26 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SQ1eC-0001hF-Oz
	for users@tomcat.apache.org; Thu, 03 May 2012 21:25:05 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 03 May 2012 21:25:04 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 03 May 2012 21:25:04 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: manager 404
Date: Thu, 3 May 2012 19:22:26 +0000 (UTC)
Lines: 19
Message-ID: <loom.20120503T211619-519@post.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)
X-Virus-Checked: Checked by ClamAV on apache.org

I know absolutely nothing about tomcat but my company has just purchased
a product that uses it, and lucky me, I get to install it!

I set up a brand new Amazon Linux box (basically CentOS with some Amazon
enhancements).  I installed tomcat6 and tomcat6-admin-webapps from yum.

Going to http://server:8080/manager results in a 404 error page

type Status report
message /manager/
description The requested resource (/manager/) is not available.

There is a manager and host-manager directory in /usr/share/tomcat6/webapps.
Those directories have files like META-INF and WEB-INF in them.

I was able to install the sample app from the tomcat site and that works fine,
but nothing else does.

How do I go about debugging this?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233994-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 19:53:38 2012
Return-Path: <users-return-233994-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FC159F34
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 19:53:38 +0000 (UTC)
Received: (qmail 20473 invoked by uid 500); 3 May 2012 19:53:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20272 invoked by uid 500); 3 May 2012 19:53:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20263 invoked by uid 99); 3 May 2012 19:53:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:53:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:53:28 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 5Qp21j0021ei1Bg51Xt1LM; Thu, 03 May 2012 19:53:01 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id 5Xt91j00538FjT13kXt9at; Thu, 03 May 2012 19:53:09 +0000
Message-ID: <4FA2E223.6070302@christopherschultz.net>
Date: Thu, 03 May 2012 15:53:07 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com> <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com> <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com> <4FA2B21C.6080308@christopherschultz.net> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com> <4FA2C40B.6030701@ice-sa.com> <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com> <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
In-Reply-To: <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Todd,

On 5/3/12 2:56 PM, Todd Seidenberg wrote:
> On Thu, May 3, 2012 at 12:39 PM, Andr Warnier <aw@ice-sa.com>
> wrote:
>>>> Here's my server.xml stripped out of all secure info, as
>>>> requested:
>>> 
>>> <Server port="8000" shutdown="SHUTDOWN" debug="0"> <Service
>>> name="Tomcat-Standalone"> <Connector
>>> className="org.apache.coyote.**tomcat4.CoyoteConnector" 
>>> port="8090" minProcessors="5"
>>> 
>> 
>> is that really Tomcat 4.x that you are using ? How about
>> platform, OS, JVM, Tomcat versions etc.. ?
> 
> Its actually not tomcat 4.0
> 
> Its 6.0.32. I think this server.xml, that came with the standalone
> app (confluence) has some legacy still hanging around from the 4.0
> days.

I'm not sure how this server.xlm could even start up properly with
that class name in there. Are you sure this is the one being used? Try
to completely break the XML or remove your confluence <Context> and
see if it starts up. Maybe you've been banging your head against the
wrong server.xml for some reason.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+i4iMACgkQ9CaO5/Lv0PAKVwCgsebTWiCL7zSlEtpj6eg9uyoq
g4gAnj4XtkJ8moamUNStjD7E9XwpDa3M
=4HcG
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233995-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 19:54:33 2012
Return-Path: <users-return-233995-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9C879F3E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 19:54:33 +0000 (UTC)
Received: (qmail 29117 invoked by uid 500); 3 May 2012 19:54:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29052 invoked by uid 500); 3 May 2012 19:54:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29043 invoked by uid 99); 3 May 2012 19:54:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:54:30 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.88] (HELO nm12-vm2.bullet.mail.ne1.yahoo.com) (98.138.91.88)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 May 2012 19:54:22 +0000
Received: from [98.138.90.49] by nm12.bullet.mail.ne1.yahoo.com with NNFMP; 03 May 2012 19:54:01 -0000
Received: from [98.138.226.164] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 03 May 2012 19:54:01 -0000
Received: from [127.0.0.1] by omp1065.mail.ne1.yahoo.com with NNFMP; 03 May 2012 19:54:01 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 228741.69474.bm@omp1065.mail.ne1.yahoo.com
Received: (qmail 29097 invoked by uid 60001); 3 May 2012 19:54:01 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1336074841; bh=HEgH5AFBTEAKqmxyeoJZtnhRzm3Jw9AQjvxQJnmF2HQ=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=E0PPsKR8rMlIysvukKKQDYA451yLLR3rLMSufKeHwizAl1vz3ZvQTCbDunDo74uJ8XXahu2HMu4w8OfP4H3qPb4kG95yCL9DqMkoQQ4NtJ1HPW0r/nIyB7tmvA/vcnHGZtDeb+1w5VBc0ApQI1Nr0ddl9fuhrZS89fvgl+OVj7w=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6NhhUoGMoThe8t3rOuE0QkgV1mlYgK8sKdGFkX/UovIl5aw2o0029ZpM1Q2PqNHAfisUjy1s8CvMSeEIhv2D/HAp4kcJGuHb2d/Q+UKrCf4YBMVn8I2mcZg21bOQRgnluLppr+XZTZgcrnf3h4XVk3jp1KyYx1LUhkpPuP95VUk=;
X-YMail-OSG: 9YNlxDEVM1lkm4rcQ8s6XpaX1ZcEplt89jWUWiqUlro11Ly
 pnyHf0G7gv3e_O7c6uGFRk6rwz8X3BaUVI1XeGsszp3Pm7.Rufr0WszvNvHK
 CWbfy7jV5y2RiBj3fgxrLSNIZZkM_xCfiDyQNBP.z2CHwpd5GQha1BuCHOMZ
 h_aolLl9EvzYuZHyITV6bgy_Sd0KCRYoX_rtqao8Y6ei_iHX3iYGm.c8fTgK
 sg1ZD0CVVWk0l9Rgrmwhd5fW7VL_lntq7P25ZMzU_whCXulNynH0ti_Evos6
 IlwvVN73GMRhrod5FKq6XBRHzgl7sLvD4cXZvlcYKcb0l6GFCYAVYHZLVCkX
 uAjecbrZPeWU_lZY2Fjkp1Vs0Xj.NttfRy1RrlFB0wnt15yV8Jf8J9FUSoCE
 f7NDOMc1kHji.DsBFKicsLJA5j9CtQZ85_wSYYuBwLuZFZzDLQNBhPNviHLY
 A..QhdDkmEB9L0DDg6aC4SZE4t.Q-
Received: from [71.134.9.186] by web125503.mail.ne1.yahoo.com via HTTP; Thu, 03 May 2012 12:54:01 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <loom.20120503T211619-519@post.gmane.org>
Message-ID: <1336074841.2647.YahooMailNeo@web125503.mail.ne1.yahoo.com>
Date: Thu, 3 May 2012 12:54:01 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: manager 404
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <loom.20120503T211619-519@post.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>________________________________=0A> From: Jon Drukman <jsd@cluttered.com>=
=0A>To: users@tomcat.apache.org =0A>Sent: Thursday, May 3, 2012 12:22 PM=0A=
>Subject: manager 404=0A> =0A>I know absolutely nothing about tomcat but my=
 company has just purchased=0A>a product that uses it, and lucky me, I get =
to install it!=0A>=0A>I set up a brand new Amazon Linux box (basically Cent=
OS with some Amazon=0A>enhancements).=A0 I installed tomcat6 and tomcat6-ad=
min-webapps from yum.=0A>=0A>Going to http://server:8080/manager results in=
 a 404 error page=0A>=0A>type Status report=0A>message /manager/=0A>descrip=
tion The requested resource (/manager/) is not available.=0A>=0A>There is a=
 manager and host-manager directory in /usr/share/tomcat6/webapps.=0A>Those=
 directories have files like META-INF and WEB-INF in them.=0A>=0A>I was abl=
e to install the sample app from the tomcat site and that works fine,=0A>bu=
t nothing else does.=0A>=0A>How do I go about debugging this?=0A=0A=0Ahttp:=
//tomcat.apache.org/tomcat-6.0-doc/index.html=A0=0A=0A=0APlease note that t=
he locations of various files will be different due to the packaging that C=
entOS does. However, the instructions (and information) should be applicabl=
e.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233996-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 19:58:48 2012
Return-Path: <users-return-233996-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83DBC9F7C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 19:58:48 +0000 (UTC)
Received: (qmail 42593 invoked by uid 500); 3 May 2012 19:58:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42529 invoked by uid 500); 3 May 2012 19:58:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42520 invoked by uid 99); 3 May 2012 19:58:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:58:45 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:58:35 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-14.tower-45.messagelabs.com!1336075094!28918049!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 11152 invoked from network); 3 May 2012 19:58:14 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-14.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 19:58:14 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 14:58:09 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 3 May
 2012 14:58:08 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 14:58:08 -0500
Subject: RE: Adding the manager app to a Standalone tomcat install
Thread-Topic: Adding the manager app to a Standalone tomcat install
Thread-Index: Ac0pXpad6ScxUfpUSDqu4FDhBIpC7wAB9wfg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
 <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
In-Reply-To: <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]=20
> Subject: Re: Adding the manager app to a Standalone tomcat install

> > > <Server port=3D"8000" shutdown=3D"SHUTDOWN" debug=3D"0">
> > >    <Service name=3D"Tomcat-Standalone">
> > >        <Connector className=3D"org.apache.coyote.**tomcat4.CoyoteConn=
ector"
> > > port=3D"8090" minProcessors=3D"5"

> > is that really Tomcat 4.x that you are using ?
> > How about platform, OS, JVM, Tomcat versions etc.. ?

> Its actually not tomcat 4.0

> Its 6.0.32.

Luckily, there is no longer a className attribute for <Connector>, so it wa=
s ignored.  However, this does indicate a rather cavalier and sloppy attitu=
de for confluence, so perhaps you should try to get them to clean up their =
act.  I would have a hard time trusting much of anything at this point.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233997-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 19:59:16 2012
Return-Path: <users-return-233997-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80D309F8A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 19:59:16 +0000 (UTC)
Received: (qmail 46511 invoked by uid 500); 3 May 2012 19:59:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46401 invoked by uid 500); 3 May 2012 19:59:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46175 invoked by uid 99); 3 May 2012 19:59:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:59:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 19:59:03 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id 5Vna1j00227AodY5BXyd4J; Thu, 03 May 2012 19:58:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id 5Xyj1j00C38FjT13fXyjEa; Thu, 03 May 2012 19:58:43 +0000
Message-ID: <4FA2E371.9030905@christopherschultz.net>
Date: Thu, 03 May 2012 15:58:41 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: manager 404
References: <loom.20120503T211619-519@post.gmane.org>
In-Reply-To: <loom.20120503T211619-519@post.gmane.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jon,

On 5/3/12 3:22 PM, Jon Drukman wrote:
> I set up a brand new Amazon Linux box (basically CentOS with some
> Amazon enhancements).  I installed tomcat6 and
> tomcat6-admin-webapps from yum.

You may hear some grumbling on the list about package-managed versions
of Tomcat. You will certainly get a lot of questions that you might
not know the answers to, so you'll have to do some digging.

> Going to http://server:8080/manager results in a 404 error page
> 
> type Status report message /manager/ description The requested
> resource (/manager/) is not available.

Presumably, that message comes from Tomcat itself. Can you confirm that?

> There is a manager and host-manager directory in
> /usr/share/tomcat6/webapps. Those directories have files like
> META-INF and WEB-INF in them.

That's where the stuff lives, but it still needs to be deployed.

> I was able to install the sample app from the tomcat site and that
> works fine, but nothing else does.

Where did you install the "sample app"? Did you just drop it into
/usr/share/tomcat6/webapps and it auto-deployed?

Do you know what your CATALINA_BASE is? If not, try running "jinfo
[pid]" where "[pid]" is the process-id of the JVM running Tomcat: it
will dump-out all the system properties. You're looking for
"catalina.base". (It wouldn't hurt to know what catalina.home is, too).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+i43EACgkQ9CaO5/Lv0PDJ6ACgq2aByr/qQF8Js1W/nxhGXAZM
e4QAn3a8CBqS8kcrQAfb/clMbfB7dsyQ
=dxNo
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233998-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 20:02:20 2012
Return-Path: <users-return-233998-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1DB29FD1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 20:02:19 +0000 (UTC)
Received: (qmail 62689 invoked by uid 500); 3 May 2012 20:02:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62465 invoked by uid 500); 3 May 2012 20:02:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62456 invoked by uid 99); 3 May 2012 20:02:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 20:02:16 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.196] (HELO mail46.messagelabs.com) (216.82.241.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 20:02:06 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-11.tower-46.messagelabs.com!1336075302!25335068!10
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1953 invoked from network); 3 May 2012 20:01:44 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-11.tower-46.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 20:01:44 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 15:01:07 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 3 May
 2012 15:01:07 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 15:01:06 -0500
Subject: RE: manager 404
Thread-Topic: manager 404
Thread-Index: Ac0pYo1KJqmWsitJRjut+bJo0owMDAABJn/Q
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990E2B3@USEA-EXCH8.na.uis.unisys.com>
References: <loom.20120503T211619-519@post.gmane.org>
In-Reply-To: <loom.20120503T211619-519@post.gmane.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Jon Drukman [mailto:jsd@cluttered.com]=20
> Subject: manager 404

> I installed tomcat6 and tomcat6-admin-webapps from yum.

Bad choice.  Remove those, then download and install a real Tomcat 7 from t=
omcat.apache.org.  The third-party repackaged versions of Tomcat garble so =
much that it's very difficult to provide any kind of support info for them.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-233999-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 20:05:25 2012
Return-Path: <users-return-233999-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E85A9FEE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 20:05:25 +0000 (UTC)
Received: (qmail 76182 invoked by uid 500); 3 May 2012 20:05:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76118 invoked by uid 500); 3 May 2012 20:05:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76109 invoked by uid 99); 3 May 2012 20:05:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 20:05:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 20:05:14 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 5VX11j0071ap0As5FY4tFW; Thu, 03 May 2012 20:04:53 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id 5Y4u1j00Y38FjT13iY4ujX; Thu, 03 May 2012 20:04:55 +0000
Message-ID: <4FA2E4E4.6050101@christopherschultz.net>
Date: Thu, 03 May 2012 16:04:52 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net> <4FA2BA43.10102@yahoo.es> <4FA2C778.8010008@christopherschultz.net> <4FA2CDB0.1050908@yahoo.es>
In-Reply-To: <4FA2CDB0.1050908@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/3/12 2:25 PM, Miguel Gonzlez Castaos wrote:
>> Just the -XX:+HeapDumpOnOutOfMemoryError you already have.
>> Tomcat usually doesn't shut down nicely (as evidenced by the
>> "pausing" of connectors in your log file) when you get an OOME.
>> Are you sure that weekly Tomcat-restart process isn't still
>> running?
> 
> Yes, it's still running. Should i disable it?

Well, if it's shutting-down your JVM while you're trying to observe
it, then maybe you don't want it doing that. *shrug* I'm just saying
that Tomcat doesn't usually just decide to shut down for no good reason.

> I have set logAbandoned=true. I haven't enabled the removeAbandoned
> and the removeAbandonedTimeout just in case. Will I get the info in
> the catalina log?

Yes. logAbandoned IIRC logs to System.out, so you'll get that stuff in
catalina.out. I also recommend setting logAbandonedTimeout to
something reasonable. I don't remember the default.

> Right now I get the following cronjob forwarded to my email
> 
> /usr/bin/mysqldumpslow -s -t /var/log/mysql-slow.log | mail -s
> ....

Whoever wrote that didn't read the mysqldump manual. Who knows *what*
that's going to give you.

> Yes, I have pinpointed several queries that took quite long and 
> specially subqueries. I forwarded this info to the developer but
> she said it was alright. More than a second to run a query seems to
> be a lot to me.

That depends on what the query does. If it checks permissions to
login, that's insane and you should get a new programmer. If it's a
reporting query that gathers lots of data then 1 second might not be
quite so far-fetched.

> The problem is that since the database E/R is not documented, it's
> going to take a while to improve the performance of the queries.

Look into SchemaSpy.

> The developer is quitting so I hope a new developer is more
> cooperative and we can work out these things.

So you're saying that you're not going to get a lot of good
information out of him/her?

> In the meantime I will check what I can do. I have also downloaded 
> mysqltuner script and mysqlfragfinder a long time ago and follow
> the output of these tuning scripts.

Just rememeber to vet all the recommendations. Don't just read
"increase your query cache size" as a recommendation and blindly apply
that rule. Many times the query cache is less useful that you might think.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+i5OQACgkQ9CaO5/Lv0PA/GwCgrrZL44k33jhm1AG4rPOefy3n
aFgAoKm3mqmr3bvOY1sTyogSPunPL4kt
=gl93
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234000-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 21:00:44 2012
Return-Path: <users-return-234000-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 837ADCA36
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 21:00:44 +0000 (UTC)
Received: (qmail 14472 invoked by uid 500); 3 May 2012 21:00:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14257 invoked by uid 500); 3 May 2012 21:00:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14247 invoked by uid 99); 3 May 2012 21:00:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:00:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:00:34 +0000
Received: by pbbro12 with SMTP id ro12so3257505pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 14:00:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=trgaI7LjH/gtmr+LDLuHZ/CiI8IVSnp7V2/iJV/64qM=;
        b=Lv7Nva7mfNMKcwivKdyqZlqPDFg5o9TGsZnuefsSiz/lbSJgrjSLaA/xnhVuq+Spkq
         sqH+NKO/67mFicSQQIQQcaSsjYY2iaddA+4PO7C8fPaoqFiP7ckixfErzUjJ1VFgg80P
         3JVsiZUgDZgI+hgDorPl/F0eHlaKXqyfYqR79QCR5OFtQ6gS8DhgCAzlM+6b6nqHGIRS
         mnSIrbfd7h9Z8HJPYc2hERQsRUpb7QFGPa1/gcuQPws7C6h4rhfY6kKyw7nk50FPjohQ
         M9HCxLennQC0LZvGKf1VuuiAEIdEYLUtwwuQrl9tuczFOdw6scVn9vFiirupnKlOKrTG
         ZxPw==
MIME-Version: 1.0
Received: by 10.68.227.227 with SMTP id sd3mr11325322pbc.64.1336078813089;
 Thu, 03 May 2012 14:00:13 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 14:00:13 -0700 (PDT)
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
Date: Thu, 3 May 2012 15:00:13 -0600
Message-ID: <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff24bcb0bd03604bf281740

--e89a8ff24bcb0bd03604bf281740
Content-Type: text/plain; charset=ISO-8859-1

On Thu, May 3, 2012 at 1:58 PM, Caldarale, Charles R <
Chuck.Caldarale@unisys.com> wrote:

> > From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
> > Subject: Re: Adding the manager app to a Standalone tomcat install
>
> > > > <Server port="8000" shutdown="SHUTDOWN" debug="0">
> > > >    <Service name="Tomcat-Standalone">
> > > >        <Connector
> className="org.apache.coyote.**tomcat4.CoyoteConnector"
> > > > port="8090" minProcessors="5"
>
> > > is that really Tomcat 4.x that you are using ?
> > > How about platform, OS, JVM, Tomcat versions etc.. ?
>
> > Its actually not tomcat 4.0
>
> > Its 6.0.32.
>
> Luckily, there is no longer a className attribute for <Connector>, so it
> was ignored.  However, this does indicate a rather cavalier and sloppy
> attitude for confluence, so perhaps you should try to get them to clean up
> their act.  I would have a hard time trusting much of anything at this
> point.
>
>  - Chuck
>
>
>
I agree.  However, I can deploy other apps.  The base examples that come
with tomcat work, for example.


I have removed all of the offending stuff from the server.xml but the
manager/html still gives me a 404.

Just for giggles, I have removed the confluence Context from the server.xml
file as well, and restarted.  I still get the ROOT page, but the manager
still gives me a 404.


Any other thoughts?


- Thanks,

Todd





> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY
> MATERIAL and is thus for use only by the intended recipient. If you
> received this in error, please contact the sender and delete the e-mail and
> its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff24bcb0bd03604bf281740--

From users-return-234001-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 21:04:30 2012
Return-Path: <users-return-234001-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02742CA49
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 21:04:30 +0000 (UTC)
Received: (qmail 24738 invoked by uid 500); 3 May 2012 21:04:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24652 invoked by uid 500); 3 May 2012 21:04:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24642 invoked by uid 99); 3 May 2012 21:04:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:04:26 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:04:17 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-28.messagelabs.com!1336079034!24851564!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 20696 invoked from network); 3 May 2012 21:03:55 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-4.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 3 May 2012 21:03:55 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 16:03:13 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 3 May
 2012 16:03:13 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 16:03:12 -0500
Subject: RE: Adding the manager app to a Standalone tomcat install
Thread-Topic: Adding the manager app to a Standalone tomcat install
Thread-Index: Ac0pb9UtU+zR2lOsQw+nQg6DHFMaUgAAC9rA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
 <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
In-Reply-To: <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]=20
> Subject: Re: Adding the manager app to a Standalone tomcat install

> I have removed all of the offending stuff from the server.xml but the
> manager/html still gives me a 404.

Just to be sure, exactly what URL are you using to try to access the manage=
r?

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234002-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 21:22:57 2012
Return-Path: <users-return-234002-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51C34CAC1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 21:22:57 +0000 (UTC)
Received: (qmail 76145 invoked by uid 500); 3 May 2012 21:22:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75899 invoked by uid 500); 3 May 2012 21:22:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75890 invoked by uid 99); 3 May 2012 21:22:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:22:54 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:22:47 +0000
Received: by pbbro12 with SMTP id ro12so3276745pbb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 14:22:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=JLrR2i14FZk7TfkFb3qTKrIguHmNh1rF3W17wjOsLVE=;
        b=hJaXEzH/ki1Z/qVTN0CTwsWYZQmTQ/+HBNP+5a5gHTj3IUouGcNTwWzW7sLDvZ82+I
         TrJxfVtW3CIUS6VFbFJ76qntWlICHrUIrko6RmjJSRrGFMLBXYRGfWSMIjchWw8Wc1Ue
         b0+Va5afCMNeEIFptJjv8qdCcCsEAj3PGxrQyK2jT+ANT55Dx7Zv0blpdFIbpX8lQzcg
         CyQBtiDQmpHbIwBPKQeZZ7XF2dT7RdWvkoatQND4lc3GLUKnrkG6uLG7PNoXMzqOWGWW
         8rTeFX+S5vobXQj4xR5Kako5+WTA6hzyWpMaFhg8d3wyDyiy5E1tyEOT3anwgqJTL27s
         d5sg==
MIME-Version: 1.0
Received: by 10.68.221.227 with SMTP id qh3mr4065800pbc.43.1336080146111; Thu,
 03 May 2012 14:22:26 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Thu, 3 May 2012 14:22:26 -0700 (PDT)
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01986E589@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOogTjM5xy6rPjOSr1Ea833R8dW-Nn+0gC9Bbt0V5vMKnA@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
Date: Thu, 3 May 2012 15:22:26 -0600
Message-ID: <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff255ae801aeb04bf2866ad

--e89a8ff255ae801aeb04bf2866ad
Content-Type: text/plain; charset=ISO-8859-1

On Thu, May 3, 2012 at 3:03 PM, Caldarale, Charles R <
Chuck.Caldarale@unisys.com> wrote:

> > From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
> > Subject: Re: Adding the manager app to a Standalone tomcat install
>
> > I have removed all of the offending stuff from the server.xml but the
> > manager/html still gives me a 404.
>
> Just to be sure, exactly what URL are you using to try to access the
> manager?
>
>  - Chuck
>
>
http://hostname:8090/manager/html




>
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY
> MATERIAL and is thus for use only by the intended recipient. If you
> received this in error, please contact the sender and delete the e-mail and
> its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff255ae801aeb04bf2866ad--

From users-return-234003-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 21:25:33 2012
Return-Path: <users-return-234003-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87CD092D0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 21:25:33 +0000 (UTC)
Received: (qmail 87400 invoked by uid 500); 3 May 2012 21:25:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87319 invoked by uid 500); 3 May 2012 21:25:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87310 invoked by uid 99); 3 May 2012 21:25:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:25:30 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 21:25:23 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SQ3WH-00014a-8t
	for users@tomcat.apache.org; Thu, 03 May 2012 23:25:01 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 03 May 2012 23:25:01 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 03 May 2012 23:25:01 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Re: manager 404
Date: Thu, 3 May 2012 21:24:52 +0000 (UTC)
Lines: 16
Message-ID: <loom.20120503T232248-106@post.gmane.org>
References: <loom.20120503T211619-519@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB01990E2B3@USEA-EXCH8.na.uis.unisys.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:

> Bad choice.  Remove those, then download and install a real Tomcat 7
> from tomcat.apache.org.  The
> third-party repackaged versions of Tomcat garble so much that it's
> very difficult to provide any kind of
> support info for them.

I removed the yum packages, then installed the official binary
distribution from the apache.org website and I can now
access the manager.  I'm still having 404 errors on the actual
app that I'm trying to run but hopefully their tech support
can straighten me out on that.

Thanks.
-jsd-


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234004-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 22:43:28 2012
Return-Path: <users-return-234004-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D5DCC4B7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 22:43:28 +0000 (UTC)
Received: (qmail 86189 invoked by uid 500); 3 May 2012 22:43:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86130 invoked by uid 500); 3 May 2012 22:43:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86121 invoked by uid 99); 3 May 2012 22:43:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 22:43:24 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of david.blevins@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 22:43:17 +0000
Received: by yenr5 with SMTP id r5so3047610yen.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 15:42:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=uVLtjoL+5NybNvSJYXQaz1jTacCQJf43e7+jZee+/eY=;
        b=HhIW4as0ktynX8Yun50kbugvUz18UjT73bXVXCqA3G7pibxZPW5PBMnGgoPGpotOgQ
         PN9ZIdT3kSNS+TIOb2uBEEgqbt8jM88CaQXNG9vDIP6ZhxnzLJkOZphZDaLoolIGdC+D
         4CMdlB0kOYmtrJwfSU4z2t7F4yNJz++C8kjqBQlAFkWDBiH34ykZK9yNIm0ALaTRdZJK
         G5o5LV8xUf5KstBirkKBt9tbJGkWFbWwHQHxXT7NYfP/4NMnK/PcuWvCB4zlJd/UgZCc
         Cec9FdfzZB1/mUKZuAry0t5cRbkDFoW+kpu9XrKzryljMBl8PYVLV5W+hUr0uuTZ9BKc
         nvwA==
Received: by 10.60.0.201 with SMTP id 9mr5302910oeg.59.1336084977060;
        Thu, 03 May 2012 15:42:57 -0700 (PDT)
Received: from [192.168.0.15] (cpe-76-166-177-239.socal.res.rr.com. [76.166.177.239])
        by mx.google.com with ESMTPS id s8sm5791449oec.1.2012.05.03.15.42.56
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 03 May 2012 15:42:56 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1251.1)
Subject: Re: Problem "J2EE Web Profile support"
From: David Blevins <david.blevins@gmail.com>
In-Reply-To: <69E56F9824B18B4697B58E032CF77E0802A8D072@gttexc01.i.atm.to.it>
Date: Thu, 3 May 2012 15:42:54 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <405E6117-0B43-48E7-B3EC-E9A8BB59B800@gmail.com>
References: <69E56F9824B18B4697B58E032CF77E08029C01D4@gttexc01.i.atm.to.it> <4F995468.7080208@christopherschultz.net> <69E56F9824B18B4697B58E032CF77E0802A8D072@gttexc01.i.atm.to.it>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1251.1)


On May 2, 2012, at 11:40 PM, Vogliotti Massimo wrote:

> I downloaded and installed TomEE on my computer and connected it to =
NetBeans as you suggested, but the error is the same.

The Netbeans crew is currently talking about adding support for TomEE =
using the Tomcat adapter.  Several of the developers are posting that =
the Tomcat adapter works fine already.  I recommend you post your error =
there to make sure it's on their radar.

=
http://netbeans-org.1045718.n5.nabble.com/72cat-J2EE-Apache-TomEE-1-0-Fina=
l-Released-td5677237.html


-David

> -----Messaggio originale-----
> Da: Christopher Schultz [mailto:chris@christopherschultz.net]=20
> Inviato: gioved=EC 26 aprile 2012 15.58
> A: Tomcat Users List
> Oggetto: Re: Problem "J2EE Web Profile support"
>=20
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Max,
>=20
> On 4/26/12 4:25 AM, Vogliotti Massimo wrote:
>> Hi, i use NetBeans 7.0.1 with tomcat 7.0.25 integrated. I'm creating =
a=20
>> web application with JSF 2.1 and Java EE 6, when I try to create a=20
>> "JSF Pages from entity classes" I get the following error message:=20
>> "JSF Pages for Java EE generated sources can not complete without=20
>> servers with J2EE Web Profile support.". What can I do?
>=20
> Tomcat only implements the servlet specification and IIRC not the full =
"web profile" of Java EE. I believe that TomEE was created specifically =
for that purpose: you might want to check them out.
>=20
> http://openejb.apache.org/apache-tomee.html
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEYEARECAAYFAk+ZVGgACgkQ9CaO5/Lv0PAfeQCgp63ajafqnBclLHw0y7C5nAWF
> o9AAoIc2hycukQvanIvF6mcQ+RWqVIcx
> =3DqCuB
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234005-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 23:06:03 2012
Return-Path: <users-return-234005-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CCD5C536
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 23:06:03 +0000 (UTC)
Received: (qmail 48118 invoked by uid 500); 3 May 2012 23:06:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48067 invoked by uid 500); 3 May 2012 23:06:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48058 invoked by uid 99); 3 May 2012 23:06:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:06:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of craig.silk@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:05:51 +0000
Received: by yhoo21 with SMTP id o21so3093055yho.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 16:05:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=qLjRz495OnS2OLr+F0elBQKEK/Oh3G7Fpn0mKmNUEGE=;
        b=vsPDRl9dQijsdL3e5hx9yYHMCMDUV2M9wsBGHMNlF8FoaqHFQ36qH+v3SQgEb0ffrN
         AGvDZy4bvD/KX0CNbJX4MNxD4OxlHae3juKMDABnIArS2WLR8Au9DiDI4nf5UqGce77R
         9KRzileuLIsoR4TI2kfHrj6ou2mfV0ZLwsVpzP2Xfx7Csgs+hmyIKhTKRcEj8mXG4VhB
         OLOtd6674j+s0k2a5XWCm1U8S5oitzWnfuPwn4HO0Yr6CTAUYyrbUsjKpLqldVRZzB1W
         nUXe2UZh06mwu01ZOwCUdqlhUd3riPY2q8E2Nn92OMFTk4WXKshyxl3KjGYCSja8DVsn
         FiVg==
MIME-Version: 1.0
Received: by 10.50.17.134 with SMTP id o6mr1765161igd.28.1336086330688; Thu,
 03 May 2012 16:05:30 -0700 (PDT)
Received: by 10.231.212.229 with HTTP; Thu, 3 May 2012 16:05:30 -0700 (PDT)
Date: Fri, 4 May 2012 00:05:30 +0100
Message-ID: <CAKaoAEx0tHUmgFA-LGqGT7O9BqpqCkTZ1hAsGTNr+7QZ14MQLw@mail.gmail.com>
Subject: OpenJDK 7
From: Craig Silk <craig.silk@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934049921448304bf29d75a

--14dae934049921448304bf29d75a
Content-Type: text/plain; charset=ISO-8859-1

Have there been any issues with OpenJDK7 compilations?

I'm seeing several errors in the build :

    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/BasicDataSource.java:53:
error: BasicDataSource is not abstract and does not override abstract
method getParentLogger() in CommonDataSource
    [javac] public class BasicDataSource implements DataSource {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingStatement.java:46:
error: DelegatingStatement is not abstract and does not override abstract
method isCloseOnCompletion() in Statement
    [javac] public class DelegatingStatement extends AbandonedTrace
implements Statement {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingPreparedStatement.java:57:
error: DelegatingPreparedStatement is not abstract and does not override
abstract method isCloseOnCompletion() in Statement
    [javac] public class DelegatingPreparedStatement extends
DelegatingStatement
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingCallableStatement.java:58:
error: DelegatingCallableStatement is not abstract and does not override
abstract method <T>getObject(String,Class<T>) in CallableStatement
    [javac] public class DelegatingCallableStatement extends
DelegatingPreparedStatement
    [javac]        ^
    [javac]   where T is a type-variable:
    [javac]     T extends Object declared in method
<T>getObject(String,Class<T>)
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingConnection.java:65:
error: DelegatingConnection is not abstract and does not override abstract
method getNetworkTimeout() in Connection
    [javac] public class DelegatingConnection extends AbandonedTrace
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingDatabaseMetaData.java:41:
error: DelegatingDatabaseMetaData is not abstract and does not override
abstract method generatedKeyAlwaysReturned() in DatabaseMetaData
    [javac] public class DelegatingDatabaseMetaData extends AbandonedTrace
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingResultSet.java:61:
error: DelegatingResultSet is not abstract and does not override abstract
method <T>getObject(String,Class<T>) in ResultSet
    [javac] public class DelegatingResultSet extends AbandonedTrace
implements ResultSet {
    [javac]        ^
    [javac]   where T is a type-variable:
    [javac]     T extends Object declared in method
<T>getObject(String,Class<T>)
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolableCallableStatement.java:38:
error: PoolableCallableStatement is not abstract and does not override
abstract method <T>getObject(String,Class<T>) in CallableStatement
    [javac] public class PoolableCallableStatement extends
DelegatingCallableStatement implements CallableStatement {
    [javac]        ^
    [javac]   where T is a type-variable:
    [javac]     T extends Object declared in method
<T>getObject(String,Class<T>)
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolablePreparedStatement.java:41:
error: PoolablePreparedStatement is not abstract and does not override
abstract method isCloseOnCompletion() in Statement
    [javac] public class PoolablePreparedStatement extends
DelegatingPreparedStatement implements PreparedStatement {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingConnection.java:45:
error: PoolingConnection is not abstract and does not override abstract
method getNetworkTimeout() in Connection
    [javac] public class PoolingConnection extends DelegatingConnection
implements Connection, KeyedPoolableObjectFactory {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingDataSource.java:45:
error: PoolingDataSource is not abstract and does not override abstract
method getParentLogger() in CommonDataSource
    [javac] public class PoolingDataSource implements DataSource {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingDriver.java:52:
error: PoolingDriver is not abstract and does not override abstract method
getParentLogger() in Driver
    [javac] public class PoolingDriver implements Driver {
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/cpdsadapter/DriverAdapterCPDS.java:87:
error: DriverAdapterCPDS is not abstract and does not override abstract
method getParentLogger() in CommonDataSource
    [javac] public class DriverAdapterCPDS
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/datasources/PerUserPoolDataSource.java:60:
error: PerUserPoolDataSource is not abstract and does not override abstract
method getParentLogger() in CommonDataSource
    [javac] public class PerUserPoolDataSource
    [javac]        ^
    [javac]
/home/craig/dev/tomcat/build-deps/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/datasources/SharedPoolDataSource.java:52:
error: SharedPoolDataSource is not abstract and does not override abstract
method getParentLogger() in CommonDataSource
    [javac] public class SharedPoolDataSource
    [javac]        ^
    [javac] Note: Some input files use or override a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 15 errors
    [javac] 1 warning

BUILD FAILED

--14dae934049921448304bf29d75a--

From users-return-234006-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 23:47:12 2012
Return-Path: <users-return-234006-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B535BCECD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 23:47:12 +0000 (UTC)
Received: (qmail 62507 invoked by uid 500); 3 May 2012 23:47:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62352 invoked by uid 500); 3 May 2012 23:47:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62340 invoked by uid 99); 3 May 2012 23:47:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:47:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:47:02 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id 5bMP1j0031YDfWL58bmbnD; Thu, 03 May 2012 23:46:35 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id 5bmg1j01S38FjT13gbmgVM; Thu, 03 May 2012 23:46:40 +0000
Message-ID: <4FA318DF.6090203@christopherschultz.net>
Date: Thu, 03 May 2012 19:46:39 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com> <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com> <4FA2B21C.6080308@christopherschultz.net> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com> <4FA2C40B.6030701@ice-sa.com> <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com> <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
In-Reply-To: <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Todd,

On 5/3/12 5:22 PM, Todd Seidenberg wrote:
> On Thu, May 3, 2012 at 3:03 PM, Caldarale, Charles R < 
> Chuck.Caldarale@unisys.com> wrote:
> 
>>> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com] 
>>> Subject: Re: Adding the manager app to a Standalone tomcat
>>> install
>> 
>>> I have removed all of the offending stuff from the server.xml
>>> but the manager/html still gives me a 404.
>> 
>> Just to be sure, exactly what URL are you using to try to access
>> the manager?
>> 
>> - Chuck
>> 
>> 
> http://hostname:8090/manager/html

Grasping at straws: is there an old instance of Tomcat still running
and bound to your port? If you enable the AccessLogValve, can you
confirm that the request is actually being handled by the instance you
are launching?

This is truly strange.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+jGN8ACgkQ9CaO5/Lv0PDy9wCdGiyBxh4YA+K4chnAQvp0nhpT
N8UAn3gcQebCujSwO5YEVADUoWkrKGel
=qT3S
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234007-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May  3 23:53:05 2012
Return-Path: <users-return-234007-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A9BAFCFBF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  3 May 2012 23:53:05 +0000 (UTC)
Received: (qmail 80865 invoked by uid 500); 3 May 2012 23:53:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80639 invoked by uid 500); 3 May 2012 23:53:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80630 invoked by uid 99); 3 May 2012 23:53:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:53:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 May 2012 23:52:55 +0000
Received: by qcsc20 with SMTP id c20so2010427qcs.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 16:52:33 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=bsCZvMg0Q1KLLsmvrML8fkWSXlSUQ8Or8lhCBgtyUng=;
        b=ArS1iAbJ5e+jZahtQin8MrYGVk1Uor0Z2Y/6bxLTwuwxf8pnS1sFDwULSqtlZCWwbF
         vYCaJfVKTU/HXcyuloDSd7vaWVHbNhaMibQioKh9Ty0tAvniHilHNnBzS1p7CD/zTvqk
         Q9JnMy1PULXR46Xn9Yi+hKs/Y46A1/gBkMEqhEiSx6MN3h87wV0BJp8di2QhB7YmVn1g
         rJIYXAkGX4t+eBNzaeGTKOsrrc+BVUJItv3u8AevZuHGL3ds+rpG31b+IzqMP4GXt24L
         T/a4Xa6AdcLIctUI9YPWhGuYyO3P//ZdsHXA4BGgSuJ3pySKSSZ67i+Kn+eCqvo6piGz
         2RwA==
Received: by 10.224.27.5 with SMTP id g5mr7110530qac.2.1336089152928;
        Thu, 03 May 2012 16:52:32 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id gb7sm11732209qab.12.2012.05.03.16.52.30
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 16:52:31 -0700 (PDT)
Message-ID: <4FA31A3F.5020102@poonam.org>
Date: Fri, 04 May 2012 05:22:31 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com> <4FA2900A.70209@poonam.org> <4FA29566.70302@pidster.com>
In-Reply-To: <4FA29566.70302@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Gm-Message-State: ALoCoQkTnwYvQS7FxnaALR7lVkye9CSOb7qjz0D0vq52lkhr4h6VrzCGQNMtNIPDsAKlN7jXItTo
X-Virus-Checked: Checked by ClamAV on apache.org

Got this fixed, you were correct, tomcat user file was mess.Aligned it 
correctly now.

Now I am getting some other issue while deploying my app war file.Let me 
start a different thread on that.

>>>Please don't top-post.

What do you mean by this ?



On 5/3/2012 7:55 PM, Pid wrote:
> On 03/05/2012 15:02, Kiran Badi wrote:
>> No Luck Andre :-( , Removed one of the tomcat users tag,how do i
>> validate xml ?
>>
>> I tried with below tomcat users file,
>>
>> <tomcat-users>
>> <user name="admin" password="kiran" roles="admin-gui,manager-gui" />
>> <role rolename="AdminRole"/>
>> <role rolename="UserRole"/>
>> <user password="tomcat" roles="tomcat,role1" username="both"/>
>> <user password="tomcat" roles="UserRole" username="role1"/>
>> <user password="tomcat" roles="AdminRole,manager-script,admin"
>> username="tomcat"/>
>> <role rolename="manager-gui"/>
>> <user username="kiran" password="kiran" roles="manager-gui"/>
>> <role rolename="probeuser" />
>> <role rolename="poweruser" />
>> <role rolename="poweruserplus" />
>> <role rolename="manager" />
>> <user username="admin" password="t0psecret" roles="manager" />
>> </tomcat-users>
> Please don't top-post.
>
> Have you actually read the list of roles&  users you have?
>
> Perhaps if you tidied it up&  put them all in a sensible order, you see
> some of the problems you're making for yourself.
>
>
> p
>
>
>
>> On 5/3/2012 12:58 PM, Andr Warnier wrote:
>>> Kiran Badi wrote:
>>>> I just want to have one instance of tomcat up and running always
>>>> whenever I start my system exactly the way I have httpd service
>>>> running always.
>>>>
>>>> ok now moving forward, I installed the tomcat 7.0.27 as service,made
>>>> changes to shutdown ports/APR ports etc and now its runing fine as a
>>>> service.I have now 2 tomcats sitting in same apache directory one is
>>>> 7.0.11(this runs with netbeans) and another is 7.0.27(this runs as
>>>> windows service).
>>>>
>>>> Now I want to deploy the my app war file to 7.0.27.But for some
>>>> reasons Manager App is not accepting my credentials.Here is what I did,
>>>> I copied the tomcat users file of 7.0.11 to 7.0.27 and after copying
>>>> restarted the service again,and tried to give the same credentials
>>>> which are working fine in 7.0.11,but to my surprise,those are not
>>>> working in 7.0.27
>>>> here is tomcat users file,(Sorry for pasting some commented section
>>>> in below file,but its imp for me not to delete anything for which I
>>>> dont have much information or knowledge).Pls note that his tomcat
>>>> users file works perfect fine in 7.0.11 for user kiran/kiran
>>> If it does, then there is severe bug somewhere.  As shown below, that
>>> file has 2 openin<tomcat-users>  tags, and only one closing
>>> </tomcat-users>  tag. That is invalid xml.
>>> Try again.
>>>
>>> It is usually a better idea to make a copy of the original file as it
>>> was in the distribution (adding some suffix like ".original"), and
>>> then make a "working" version, removing all superfluous comments and
>>> leaving only what is really effective.
>>> It also makes it a lot easier for people on the list to spot the
>>> errors, without having to waft through kazillions of comment lines
>>> which may be badly-formatted in an email..
>>>
>>>
>>>
>>>> <?xml version='1.0' encoding='cp1252'?>
>>>> <!--
>>>>    Licensed to the Apache Software Foundation (ASF) under one or more
>>>>    contributor license agreements.  See the NOTICE file distributed with
>>>>    this work for additional information regarding copyright ownership.
>>>>    The ASF licenses this file to You under the Apache License, Version
>>>> 2.0
>>>>    (the "License"); you may not use this file except in compliance with
>>>>    the License.  You may obtain a copy of the License at
>>>>
>>>>        http://www.apache.org/licenses/LICENSE-2.0
>>>>
>>>>    Unless required by applicable law or agreed to in writing, software
>>>>    distributed under the License is distributed on an "AS IS" BASIS,
>>>>    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
>>>> implied.
>>>>    See the License for the specific language governing permissions and
>>>>    limitations under the License.
>>>> -->
>>>> <tomcat-users>
>>>> <user name="admin" password="kiran" roles="admin-gui,manager-gui" />
>>>> <!--
>>>>    NOTE:  By default, no user is included in the "manager-gui" role
>>>> required
>>>>    to operate the "/manager/html" web application.  If you wish to use
>>>> this app,
>>>>    you must define such a user - the username and password are arbitrary.
>>>> -->
>>>> <!--
>>>>    NOTE:  The sample user and role entries below are wrapped in a comment
>>>>    and thus are ignored when reading this file. Do not forget to remove
>>>> <!.. ..>  that surrounds them.
>>>> -->
>>>> <?xml version="1.0" encoding="UTF-8"?>
>>>> <!--
>>>>    Licensed to the Apache Software Foundation (ASF) under one or more
>>>>    contributor license agreements.  See the NOTICE file distributed with
>>>>    this work for additional information regarding copyright ownership.
>>>>    The ASF licenses this file to You under the Apache License, Version
>>>> 2.0
>>>>    (the "License"); you may not use this file except in compliance with
>>>>    the License.  You may obtain a copy of the License at
>>>>
>>>>        http://www.apache.org/licenses/LICENSE-2.0
>>>>
>>>>    Unless required by applicable law or agreed to in writing, software
>>>>    distributed under the License is distributed on an "AS IS" BASIS,
>>>>    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
>>>> implied.
>>>>    See the License for the specific language governing permissions and
>>>>    limitations under the License.
>>>> -->
>>>> <tomcat-users>
>>>> <!--
>>>>    NOTE:  By default, no user is included in the "manager-gui" role
>>>> required
>>>>    to operate the "/manager/html" web application.  If you wish to use
>>>> this app,
>>>>    you must define such a user - the username and password are arbitrary.
>>>> -->
>>>> <!--
>>>>    NOTE:  The sample user and role entries below are wrapped in a comment
>>>>    and thus are ignored when reading this file. Do not forget to remove
>>>> <!.. ..>  that surrounds them.
>>>> -->
>>>> <role rolename="AdminRole"/>
>>>> <role rolename="UserRole"/>
>>>> <user password="tomcat" roles="tomcat,role1" username="both"/>
>>>> <user password="tomcat" roles="UserRole" username="role1"/>
>>>> <user password="tomcat" roles="AdminRole,manager-script,admin"
>>>> username="tomcat"/>
>>>> <role rolename="manager-gui"/>
>>>> <user username="kiran" password="kiran" roles="manager-gui"/>
>>>> <role rolename="probeuser" />
>>>> <role rolename="poweruser" />
>>>> <role rolename="poweruserplus" />
>>>> <role rolename="manager" />
>>>> <user username="admin" password="t0psecret" roles="manager" />
>>>> </tomcat-users>
>>>>
>>>>
>>>> Any ideas why its not working in 7.0.27 ?
>>>>
>>>> My system is win 7 32 bit home premium with JDK 1.6.32
>>>>>> ________________________________
>>>>>> From: Andr Warnier<aw@ice-sa.com>
>>>>>> To: Tomcat Users List<users@tomcat.apache.org>
>>>>>> Sent: Sunday, April 29, 2012 2:18 PM
>>>>>> Subject: Re: How to run Tomcat as Service on windows start up.
>>>>>>> Mark Eggers wrote:
>>>>>>> NetBeans will complain that it cannot find the startup.bat and
>>>>>>> shutdown.bat
>>>>>>> required to do these tasks if you install the service.
>>>>>> Presumably then, you could replace startup.bat and shutdown.bat
>>>>>> by similarly-named .bat files which respectively do
>>>>>> net start "Apache Tomcat"
>>>>>> and
>>>>>> net stop "Apache Tomcat"
>>>>>> (to keep it simple)
>>>>>>
>>>>> I suppose you could. I don't know how intrusive NetBeans'
>>>>> investigation of the scripts are. In Windows Vista and Windows 7,
>>>>> UAC might become a problem. I'm not a Windows person, so I'd have to
>>>>> investigate this.
>>>>>
>>>>>> Similarly, it should be possible to create .bat files which run the
>>>>>> Tomcat wrapper tomcatX.exe with the appropriate arguments to start,
>>>>>> stop, or run Tomcat in debug mode.
>>>>>    From my recollection of the service, don't you have to configure
>>>>> the service for debug using the service configuration program? I'm
>>>>> not sure how you would handle that through NetBeans, since I believe
>>>>> it simply does what start.bat / catalina.bat require (pass the debug
>>>>> argument to catalina.bat).
>>>>>
>>>>> So, you might need a single startup.bat and shutdown.bat that would
>>>>> determine which service to run, and which service was running . . . .
>>>>>
>>>>>> No ?
>>>>>>
>>>>>> (Although, if I understood the OP's request correctly, the point
>>>>>> here would
>>>>>> be to start Tomcat as a service as soon as Windows starts.  So
>>>>>> presumably,
>>>>>> the necessity of having a "startup.bat" is not evident anymore).
>>>>> It's a little unclear as to what the OP request is. It sounds like
>>>>> the OP has two requirements:
>>>>>
>>>>> 1. Deal with Tomcat in a development environment using NetBeans
>>>>>
>>>>> To me this means starting, stopping, debugging, launching with the
>>>>> security manager, etc. That's hard to do when you don't own /
>>>>> completely control the service.
>>>>>
>>>>> The same problem exists in Linux. People want a system-wide Tomcat
>>>>> but want to use NetBean's deploy and debug facilities. There are all
>>>>> sorts of interesting permissions problems with this.
>>>>>
>>>>> NetBeans operates by deploying a context.xml file as [app-name].xml
>>>>> in the appropriate Engine/host directory. The application is
>>>>> actually run out of [project-name]/build. This works fine, and you
>>>>> can do a lot of dynamic updates in this fashion.
>>>>>
>>>>> What happens when the user of the IDE doesn't have access to post a
>>>>> context. xml to the appropriate directory? What happens when Tomcat
>>>>> doesn't have access to read a user's [project-name]/build directory?
>>>>>
>>>>> So for this use case, it's far easier and cleaner to maintain your
>>>>> own copy of Tomcat that can be registered, managed, and controlled
>>>>> by NetBeans.
>>>>>
>>>>> 2. Demonstrate works in progress to other developers
>>>>>
>>>>> Putting aside for the moment that turning development box into a
>>>>> demonstration server may not be a good thing, it's sometimes handy.
>>>>> For this I was recommending a system-wide Tomcat (run as a service).
>>>>> You then just use the manager application to update it with the
>>>>> latest demonstration-ready software.
>>>>>
>>>>> I think this has a few advantages. You don't show off intermediate
>>>>> (and potentially embarrassing) code. The service is up regardless of
>>>>> whether you're developing or not (OP's original request).
>>>>>
>>>>>
>>>>> . . . . just my two cents.
>>>>>
>>>>> /mde/
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>
>>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234008-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 01:13:22 2012
Return-Path: <users-return-234008-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE3699D9C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 01:13:21 +0000 (UTC)
Received: (qmail 57407 invoked by uid 500); 4 May 2012 01:13:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57318 invoked by uid 500); 4 May 2012 01:13:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57308 invoked by uid 99); 4 May 2012 01:13:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 01:13:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of geddamsatish@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 01:13:13 +0000
Received: by obbwd20 with SMTP id wd20so4317429obb.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 18:12:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aRTYHp60cFYyV22uRaLUGeslzPGhVzL8CtW43MrZ5BE=;
        b=M9dE8hcNPLV0WGwuOH7490NWcWb1wCm8PW9DUWDEf9TgA84Y1G6XwOaJnPUbYdHYDZ
         QJFP/3VcHXKGVhZqcUNemn91zrzaHM5MnR4Gq26FQOE9caasAk+JPDOr0NJtu7CvmTSq
         V4wgd+6XJosWZRUTr1RZi3dpiMGuwQAJb8ZfIn4+/cNitMQRqsdequknlQteMEwHm9NS
         SlpPWcmpL/SFho3FWDXDNT5NQtF9YUxBrsDq80Xc3h2/MeLy19g+q7pjSpD0raWBkp+5
         JMoqc+e+Ks3J0mv7zAGiGWt3lMUtlVfdMEE15EFNmeWNnLSHE8UZ25lxAtCuWcqsHAvV
         ktvg==
MIME-Version: 1.0
Received: by 10.60.27.199 with SMTP id v7mr5243394oeg.41.1336093973119; Thu,
 03 May 2012 18:12:53 -0700 (PDT)
Received: by 10.182.7.165 with HTTP; Thu, 3 May 2012 18:12:52 -0700 (PDT)
In-Reply-To: <loom.20120503T232248-106@post.gmane.org>
References: <loom.20120503T211619-519@post.gmane.org>
	<99C8B2929B39C24493377AC7A121E21FB01990E2B3@USEA-EXCH8.na.uis.unisys.com>
	<loom.20120503T232248-106@post.gmane.org>
Date: Fri, 4 May 2012 06:42:52 +0530
Message-ID: <CAAkUWsEtR=86swDpqmnjDPruJZwjBDf085d_jqpNwovZ1jDoAA@mail.gmail.com>
Subject: Re: manager 404
From: Satish Kumar Geddam <geddamsatish@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb20078a7833504bf2b9e14
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb20078a7833504bf2b9e14
Content-Type: text/plain; charset=ISO-8859-1

update the tomcat-users.xml and create the users

On Fri, May 4, 2012 at 2:54 AM, Jon Drukman <jsd@cluttered.com> wrote:

> Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:
>
> > Bad choice.  Remove those, then download and install a real Tomcat 7
> > from tomcat.apache.org.  The
> > third-party repackaged versions of Tomcat garble so much that it's
> > very difficult to provide any kind of
> > support info for them.
>
> I removed the yum packages, then installed the official binary
> distribution from the apache.org website and I can now
> access the manager.  I'm still having 404 errors on the actual
> app that I'm trying to run but hopefully their tech support
> can straighten me out on that.
>
> Thanks.
> -jsd-
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8fb20078a7833504bf2b9e14--

From users-return-234009-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 01:59:45 2012
Return-Path: <users-return-234009-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E35F99D2A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 01:59:44 +0000 (UTC)
Received: (qmail 52831 invoked by uid 500); 4 May 2012 01:59:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52576 invoked by uid 500); 4 May 2012 01:59:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52567 invoked by uid 99); 4 May 2012 01:59:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 01:59:41 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.196] (HELO mail46.messagelabs.com) (216.82.241.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 01:59:31 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-14.tower-46.messagelabs.com!1336096745!28057111!5
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 25799 invoked from network); 4 May 2012 01:59:06 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-14.tower-46.messagelabs.com with RC4-SHA encrypted SMTP; 4 May 2012 01:59:06 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 20:58:52 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 3 May
 2012 20:58:52 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 20:58:49 -0500
Subject: RE: OpenJDK 7
Thread-Topic: OpenJDK 7
Thread-Index: Ac0pgVg2iMo6HDmSTXK/VHAqgc9e0wAF8r+w
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01997DE39@USEA-EXCH8.na.uis.unisys.com>
References: <CAKaoAEx0tHUmgFA-LGqGT7O9BqpqCkTZ1hAsGTNr+7QZ14MQLw@mail.gmail.com>
In-Reply-To: <CAKaoAEx0tHUmgFA-LGqGT7O9BqpqCkTZ1hAsGTNr+7QZ14MQLw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Craig Silk [mailto:craig.silk@gmail.com]=20
> Subject: OpenJDK 7

> Have there been any issues with OpenJDK7 compilations?

You cannot build Tomcat with Java 7, due to incompatibilities introduced by=
 Sun/Oracle.  Once Tomcat has been built on Java 6, you may run it on a Jav=
a 7 JRE.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234010-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 02:03:11 2012
Return-Path: <users-return-234010-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D3F49D58
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 02:03:11 +0000 (UTC)
Received: (qmail 64913 invoked by uid 500); 4 May 2012 02:03:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64741 invoked by uid 500); 4 May 2012 02:03:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64732 invoked by uid 99); 4 May 2012 02:03:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 02:03:07 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 02:03:00 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-37.messagelabs.com!1336096957!19191174!4
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22215 invoked from network); 4 May 2012 02:02:38 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-4.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 4 May 2012 02:02:38 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 3 May 2012 21:02:05 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 3 May
 2012 21:02:05 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 3 May 2012 21:02:01 -0500
Subject: RE: How to run Tomcat as Service on windows start up.
Thread-Topic: How to run Tomcat as Service on windows start up.
Thread-Index: Ac0ph+MxiBhPcgRdSkGsGRs/JZyPhQAEbNFA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB01997DE3D@USEA-EXCH8.na.uis.unisys.com>
References: <4F9B79B5.3060203@poonam.org>
 <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com>
 <4F9BD526.2090100@ice-sa.com>
 <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com>
 <4F9DB032.70604@ice-sa.com>
 <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com>
 <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com>
 <4FA2900A.70209@poonam.org> <4FA29566.70302@pidster.com>
 <4FA31A3F.5020102@poonam.org>
In-Reply-To: <4FA31A3F.5020102@poonam.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Kiran Badi [mailto:kiran@poonam.org]=20
> Subject: Re: How to run Tomcat as Service on windows start up.

> > >>>Please don't top-post.

> What do you mean by this ?

http://lmgtfy.com/?q=3Dtop+post

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234011-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 02:47:09 2012
Return-Path: <users-return-234011-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3FC59D17
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 02:47:09 +0000 (UTC)
Received: (qmail 60000 invoked by uid 500); 4 May 2012 02:47:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59940 invoked by uid 500); 4 May 2012 02:47:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59919 invoked by uid 99); 4 May 2012 02:47:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 02:47:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [165.21.101.75] (HELO comsmtp2.singnet.com.sg) (165.21.101.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 02:46:58 +0000
Received: from discus.singnet.com.sg (discus.singnet.com.sg [165.21.101.119])
	by comsmtp2.singnet.com.sg (8.13.8/8.13.6) with ESMTP id q442l7PB030033;
	Fri, 4 May 2012 10:47:08 +0800
Received: from discus.singnet.com.sg (localhost.localdomain [127.0.0.1])
	by discus.singnet.com.sg (8.13.8/8.14.2) with ESMTP id q442kIci013767;
	Fri, 4 May 2012 10:46:28 +0800
Received: (from cooluser@localhost)
	by discus.singnet.com.sg (8.13.8/8.14.2/Submit) id q442kFq1013740;
	Fri, 4 May 2012 10:46:15 +0800
X-Authentication-Warning: discus.singnet.com.sg: cooluser set sender to andii@singnet.com.sg using -f
To: Tomcat Users List <users@tomcat.apache.org>,
        Tomcat Users List <users@tomcat.apache.org>,
        =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Subject: Re: Tomcat unable to validate SSL certificate authority
Message-ID: <1336099575.4fa342f7d907e@discus.singnet.com.sg>
Date: Fri, 04 May 2012 10:46:15 +0800 (SGT)
From: Andy Ee <andii@singnet.com.sg>
Cc: Tomcat Users List <users@tomcat.apache.org>
References: <1336065658.4fa2be7a47335@eel.singnet.com.sg> <4FA2C29E.8020803@ice-sa.com>
In-Reply-To: <4FA2C29E.8020803@ice-sa.com>
Reply-To: andii@singnet.com.sg
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
User-Agent: SingNet WebMail
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Thanks for all the inputs. I found that another war file in webapps/ has set environment to point to it's own keystore, thus it overwrites the JAVA_OPTS somehow. Now that I have imported the certificates into that "keystore" as well, everything works!

Regards,
Andii

--- Andr Warnier <aw@ice-sa.com> wrote:

> Andy Ee wrote:
> > Dear all,
> > 
> > I am stuck with this problem for over a month now, and I have
> tried all ways but to no avail.
> > 
> > My Tomcat 6.0.32 is running in Solaris 10 and the JDK version is
> 1.6.0_21. I deployed a java program in Tomcat webapps/ which will
> post some results to a web server via a HTTPS url. 
> 
> So it is *this webapp* which is creating a HTTPS connection to some
> other webserver, and 
> sending it some data, right ?
> 
> 
> I received the following error in the catalina.out log.
> > 
> > [12-05-04 00:57:20] INFO  [http-8080-1]  Sending to
> (https://abc.test.com/payment/test.jsp) - timeout: 30000
> > [12-05-04 00:57:22] ERROR [http-8080-1] Encounter exception while
> send status to merchant status url!
> sun.security.validator.ValidatorException: PKIX path building
> failed: sun.security.provider.certpath.SunCertPathBuilderException:
> unable to find valid certification path to requested target
> 
> and this is a log message *from the webapp*, right ?
> 
> > 
> > I downloaded and imported the required CA chain certificates into
> the java truststore cacerts but it does not help. 
> > 
> > Next, I tried to set JAVA_OPTS to point Tomcat to the cacerts as
> the truststore and it doesnt help either.
> > 
> > bash-3.00# /usr/ucb/ps -auxwww | grep tomcat
> > root     25578  0.1 11.01145892903712 pts/8    S 00:55:57  2:14
> /usr/java/bin/java
> -Djava.util.logging.config.file=/usr/local/apache-tomcat-6.0.32/conf/logging.properties
> -Xms512m -Xmx1024m -XX:MaxPermSize=512m -XX:+DisableExplicitGC
> -Djavax.net.ssl.trustStore=/usr/java/jre/lib/security/cacerts
> -Djavax.net.ssl.trustStorePassword=changeit -Dsun.net.inetaddr.ttl=0
> -Djavax.net.ssl.keyStore=/usr/java/jre/lib/security/cacerts
> -Djavax.net.ssl.keyStorePassword=changeit
> -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
> -Djava.endorsed.dirs=/usr/local/apache-tomcat-6.0.32/endorsed
> -classpath /usr/local/apache-tomcat-6.0.32/bin/bootstrap.jar
> -Dcatalina.base=/usr/local/apache-tomcat-6.0.32
> -Dcatalina.home=/usr/local/apache-tomcat-6.0.32
> -Djava.io.tmpdir=/usr/local/apache-tomcat-6.0.32/temp
> org.apache.catalina.startup.Bootstrap start
> > 
> > The CA certificates were imported into cacerts using the following
> keytool command.
> > 
> > keytool -import -trustcacerts -keystore cacerts -file root.cer
> -alias BuiltinObjectToken-GoDaddyClass2CA
> > keytool -import -trustcacerts -keystore cacerts -file inter.cer
> -alias GoDaddySecureCertificationAuthority
> > 
> > I also tried to verify by using TestSSL.java and InstallCert.java
> and both could locate the CA certificates in cacerts. 
> > Therefore I am suspecting that Tomcat is not using cacerts
> properly.
> 
> And this is probably where you are making the wrong analysis.
> 
> According to your own description above, the only thing in common
> between your webapp and 
> Tomcat, is that they are run by the same JVM.
> Tomcat per se has nothing to do with whatever your webapp makes as
> connections to anything 
> else.  Tomcat does not even know about this. No Tomcat code is
> involved in setting up that 
> connection or using it.
> It is matter for your webapp and the JVM alone.
> In other words, if your webapp was a stand-alone Java program
> instead of being a webapp, 
> you would get exactly the same error.
> 
> I have no idea what the problem really is, but it seems to me that
> by mentally leaving 
> Tomcat out of the equation, you may be able to figure it out by
> yourself quicker.
> 
> For example, extract out of that webapp the code which is setting up
> that HTTPS 
> connection, and make it into a standalone program.  Then run it with
> the same Java options 
> as you do with Tomcat above, and see what you get.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234012-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 03:58:46 2012
Return-Path: <users-return-234012-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6457CC730
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 03:58:46 +0000 (UTC)
Received: (qmail 93593 invoked by uid 500); 4 May 2012 03:58:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93275 invoked by uid 500); 4 May 2012 03:58:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93244 invoked by uid 99); 4 May 2012 03:58:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 03:58:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 03:58:25 +0000
Received: by qaeb19 with SMTP id b19so1029221qae.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 20:58:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=sQ/gXRsv8qEGDoUPt2NrSsGYbDWbzADei75sUecoqxA=;
        b=OEfn+E9IvgKwSZ/wTpq0AdpVGO9q/0aGm2cJSeTYt5FE72RQRvF8YNy0s0MSPDMJoS
         dAe7LMZbVAsgERYSsEtbfoAp1z9RYfNhyW1UZe0aLREnakKiU0LtvjhJaDjZbwUo0rim
         bsOWiCOypCDiKjTWKlItqcxiMtEj7HqZhK4l84JFl6WvGOQ9nmHWxE+xovtliP9tiPkw
         nFyNK30e5ALesDIih2foORvsOCpDFwazOLLtE2VYXYVpmt3TB4LpU/0E4IQ1vNqAAIXk
         BFBBGqB6s5Vg+s8kPIaGOMtq/6N8rr0SJds8iO1pftdhHinCAS9K9mTz32Q5JsYvU8kq
         iylw==
Received: by 10.224.42.16 with SMTP id q16mr1549261qae.70.1336103884584;
        Thu, 03 May 2012 20:58:04 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id bm15sm12816390qab.17.2012.05.03.20.58.02
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 20:58:03 -0700 (PDT)
Message-ID: <4FA353CA.2080103@poonam.org>
Date: Fri, 04 May 2012 09:28:02 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com> <4FA2900A.70209@poonam.org> <4FA29566.70302@pidster.com> <4FA31A3F.5020102@poonam.org> <99C8B2929B39C24493377AC7A121E21FB01997DE3D@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB01997DE3D@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQlV4K2aTrzmxlIpLIXCeQ6jUJ5OzSw8voCQttkjVwcBuIZQuAliUgDMgoUTild5KUrjhc72




On 5/4/2012 7:32 AM, Caldarale, Charles R wrote:
>> From: Kiran Badi [mailto:kiran@poonam.org]
>> Subject: Re: How to run Tomcat as Service on windows start up.
>>>>>> Please don't top-post.
>> What do you mean by this ?
> http://lmgtfy.com/?q=top+post
>
>   - Chuck

Thanks Got it Chuck .Interesting stuff which I wasn't aware in spite of 
using usenet/online forums for years now.

Not sure as how relevant this topic is now given that most of the time 
even in our work environment,we often scroll down towards the bottom of 
the mail to see as what exactly is the communication about and each 
reply goes to the top of previous mail.

However I will ensure that I dont top post at least to this list.

>
>
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MATERIAL and is thus for use only by the intended recipient. If you received this in error, please contact the sender and delete the e-mail and its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234013-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 05:16:48 2012
Return-Path: <users-return-234013-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 247BB963F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 05:16:48 +0000 (UTC)
Received: (qmail 54544 invoked by uid 500); 4 May 2012 05:16:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54211 invoked by uid 500); 4 May 2012 05:16:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54184 invoked by uid 99); 4 May 2012 05:16:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:16:38 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [173.203.6.157] (HELO smtp157.ord.emailsrvr.com) (173.203.6.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:16:31 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp12.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 746F52E00B2
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:16:10 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp12.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 412442E0079
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:16:08 -0400 (EDT)
Message-ID: <4FA36613.4010100@computer.org>
Date: Thu, 03 May 2012 22:16:03 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org>
In-Reply-To: <4FA19F85.3000302@computer.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Just a quick update on these several threads of Tomcat 7 oddball 
exceptions.  It looks to be as Chuck believed that it was a coding error 
on our end that was causing this.  In particular, it was the no-no 
misuse of instance variables in a controlling servlet.

Thanks for everyone's help!

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234014-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 05:17:50 2012
Return-Path: <users-return-234014-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77A9E9648
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 05:17:50 +0000 (UTC)
Received: (qmail 59310 invoked by uid 500); 4 May 2012 05:17:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59128 invoked by uid 500); 4 May 2012 05:17:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59118 invoked by uid 99); 4 May 2012 05:17:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:17:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [173.203.6.157] (HELO smtp157.ord.emailsrvr.com) (173.203.6.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:17:39 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp12.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id E36B62E0085
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:17:15 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp12.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id B4D3E2E0079
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:17:15 -0400 (EDT)
Message-ID: <4FA36657.2080004@computer.org>
Date: Thu, 03 May 2012 22:17:11 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org>
In-Reply-To: <4FA18107.40006@computer.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Just a quick update on these several threads of Tomcat 7 oddball 
exceptions.  It looks to be as Chuck believed that it was a coding error 
on our end that was causing this.  In particular, it was the no-no 
misuse of instance variables in a controlling servlet.

Thanks for everyone's help!

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234015-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 05:18:10 2012
Return-Path: <users-return-234015-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA8CD964C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 05:18:10 +0000 (UTC)
Received: (qmail 62570 invoked by uid 500); 4 May 2012 05:18:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62400 invoked by uid 500); 4 May 2012 05:18:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62387 invoked by uid 99); 4 May 2012 05:18:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:18:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [173.203.6.157] (HELO smtp157.ord.emailsrvr.com) (173.203.6.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 05:18:00 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp12.relay.ord1a.emailsrvr.com (SMTP Server) with ESMTP id 889872E0089
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:17:40 -0400 (EDT)
X-Virus-Scanned: OK
Received: by smtp12.relay.ord1a.emailsrvr.com (Authenticated sender: david.wall-AT-yozons.com) with ESMTPSA id 577142E0081
	for <users@tomcat.apache.org>; Fri,  4 May 2012 01:17:40 -0400 (EDT)
Message-ID: <4FA3666F.5040607@computer.org>
Date: Thu, 03 May 2012 22:17:35 -0700
From: David Wall <d.wall@computer.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7 - .ApplicationDispatcher invoke - Cannot create a session
 after the response has been committed
References: <4FA1A6BA.1080507@computer.org>
In-Reply-To: <4FA1A6BA.1080507@computer.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Just a quick update on these several threads of Tomcat 7 oddball 
exceptions.  It looks to be as Chuck believed that it was a coding error 
on our end that was causing this.  In particular, it was the no-no 
misuse of instance variables in a controlling servlet.

Thanks for everyone's help!

David

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234016-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 06:45:32 2012
Return-Path: <users-return-234016-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EFFA9C16
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 06:45:32 +0000 (UTC)
Received: (qmail 38538 invoked by uid 500); 4 May 2012 06:45:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37350 invoked by uid 500); 4 May 2012 06:45:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37334 invoked by uid 99); 4 May 2012 06:45:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:45:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:45:16 +0000
Received: by wgbdr1 with SMTP id dr1so2092698wgb.0
        for <users@tomcat.apache.org>; Thu, 03 May 2012 23:44:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=Hl7jDS23v+wjP723C2gLqlM66zQcx0hFVsvZT2QO5eE=;
        b=ZycYMK0wkGsYEt508Jdo/56BArI/1U46InstmaH6cmlTSqzI5eLHW+NHsjjYR1G1r0
         FLvMpj3rJgQrD6KyEjReRDUjH7H6pIQOufAM6V7F5452LoIC4eaLcnlbcMpjXT8EqcrB
         JelRU3/fUcEHqk9O0Lh8RPb75Cr4c8FA94TbQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=Hl7jDS23v+wjP723C2gLqlM66zQcx0hFVsvZT2QO5eE=;
        b=PdePW8T3HbglqGL1KScNNZO9mjBIQh8Nt7nd6LVsHEpWcrCcEBtCNHUDwnpJ97Tltd
         UHdXsZHOS1tDqBnKf513mf9xzyn/PvBt/puYgR8x+KdwV5W1RqVbxEEc6+Nyps6FKz7X
         Qzr9hNN766RXUAmDiveHlqCgiWIQEKUog2yBL3p4ecEImUdyQDuhMS4VsD+glAMO67bn
         qZS9FViaZyrO3OdHKKtWcX1hYPV97BHoG+iApirB05WW8ZXswEwdnRLXz3vkmqdjnoi1
         Tr5JhMPQ9lAu50+Lj4jSgcE62XKBDqcQvqYYbp5bSLYLtg73CWNmGRg1fpcrHZZjlJbi
         rQWg==
Received: by 10.180.89.9 with SMTP id bk9mr9871810wib.11.1336113896065;
        Thu, 03 May 2012 23:44:56 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id ca3sm2610486wib.6.2012.05.03.23.44.54
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 23:44:54 -0700 (PDT)
Message-ID: <4FA37ADC.5000905@pidster.com>
Date: Fri, 04 May 2012 07:44:44 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: manager 404
References: <loom.20120503T211619-519@post.gmane.org>
In-Reply-To: <loom.20120503T211619-519@post.gmane.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigEC456586DDDBD141A0EBB1E3"
X-Gm-Message-State: ALoCoQmwjFnhUBmlpSb8wRsFoYrDT2k7nZQiL7cvKl5ppChJY/ifKWzvL4/2fmXYZfH1E7WipBox

--------------enigEC456586DDDBD141A0EBB1E3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 20:22, Jon Drukman wrote:
> I know absolutely nothing about tomcat but my company has just purchase=
d
> a product that uses it, and lucky me, I get to install it!
>=20
> I set up a brand new Amazon Linux box (basically CentOS with some Amazo=
n
> enhancements).  I installed tomcat6 and tomcat6-admin-webapps from yum.=

>=20
> Going to http://server:8080/manager results in a 404 error page

Try: http://server:8080/manager/html


p

> type Status report
> message /manager/
> description The requested resource (/manager/) is not available.
>=20
> There is a manager and host-manager directory in /usr/share/tomcat6/web=
apps.
> Those directories have files like META-INF and WEB-INF in them.
>=20
> I was able to install the sample app from the tomcat site and that work=
s fine,
> but nothing else does.
>=20
> How do I go about debugging this?
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigEC456586DDDBD141A0EBB1E3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPo3rkAAoJEGoM2OGpOvr9DS4QAK/Fl3q5oJFZ2ARa41J0Spf1
a4MHnc2SI3eX80p0XhPFvj8+H6ny/+HedaqpjtibQuvAhoxmgje9c/escgkCxreU
cf0fPhCJyegXMvhvJVu3mlwVASLvPT4btF/j0T31UeFX897m670SOUPOUrCXXqAF
wDYOBThRhsI+LiZ6tyiRYbzO/GZHht9C18cSDpRZYfJQtGBk7KjfVear8c268Twt
buNTyAV3lJcmlpRjJN9TYz5J3r9L0FtMsLIjkmr4HqiwkKcGECTLJkP0DQGk0LyT
WiqKn49wcOHr/AQM/wEiP41oAxg/ZgrfOo8P/32sj19brMjvU0XTi+Avizdlk6Pf
hnjVitCe0HexsxzPtwvIOpVp9sSumKIFg+3k9IzrC/hWPeidCx7TIPqqNUteeMgW
DBtJfOZyifNTz4V9olZN6skpNNbDQBDZMRp7SRPblQe31EFKkPganSNgFJwLD6e1
iCQTalRvbG/dc+/3pRxI6bbRDkelxksJ/e4oA/77p2tWd73pgk0+xO5Z6QHMKTVF
9Uy8V5yt72Rqa9WIe3jyvxMsK4e5AnzhZ2/UcVpViMbc62E37I1aDqB0iw/MRskw
gOgFkys/fm/OE1n5SB8gI4i8TH8QQ1ye8eFYsboAcWL3WOrSjRkSmpTtLEd5bnPs
hTwXZEM8dMYxeOh9tOkM
=9+vu
-----END PGP SIGNATURE-----

--------------enigEC456586DDDBD141A0EBB1E3--

From users-return-234017-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 06:54:02 2012
Return-Path: <users-return-234017-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9ACE9C38
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 06:54:02 +0000 (UTC)
Received: (qmail 61803 invoked by uid 500); 4 May 2012 06:53:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61591 invoked by uid 500); 4 May 2012 06:53:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61579 invoked by uid 99); 4 May 2012 06:53:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:53:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:53:53 +0000
Received: by werg1 with SMTP id g1so627018wer.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 23:53:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=3D3PSlBLqd4kjp27taidmDFogw7Nzh3gww+nfR96aPM=;
        b=h4C+ny6bcQBurM/V2PT7ylB7ShmMB/LJ/dZ1se5KumyZ11dZXJYp8fwoMhDnSkUdvg
         UaWQ2aAXmB2JoVo8voh4IRHiZ4ZRMha6P3R++54xssSAZomhgo5So6n3pfWRAZxUDd89
         uT7m7Bag4fcgKVqY7v4QzCsAkHss6SIa06Ats=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=3D3PSlBLqd4kjp27taidmDFogw7Nzh3gww+nfR96aPM=;
        b=mwg65nia6wuY0QUV6kvTZmm6lTAlcDYj9ypgk/8jLWKDMZjVQUfg/Bp1yUKUXBgT9B
         gYtysxg0n8CLAfonTiYCDSJLyPTDCF1RA0NWKRD9bz5f6KC0wv9xbgJTAk6RJJ2lXAxU
         zermdRHK04av0R1bqZz5lqvSV5IBoOgijORJlozSstryEQN690GTrN2oYlqKUreU4AhD
         oypyVQ7Y9rxrB/+XDABpyCH2OTHGj6uAQEhowXh5m8slERidp2383LzU4phPp/av4+ct
         yBQoaiMk8iJVckV9CN69XBYVpjpfPSGhLxTntvl7eEmhLcD95lsKRsf5eO7sjqvWFWJ9
         vcmw==
Received: by 10.216.139.73 with SMTP id b51mr3258016wej.72.1336114412562;
        Thu, 03 May 2012 23:53:32 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id fl2sm11994480wib.2.2012.05.03.23.53.30
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 23:53:31 -0700 (PDT)
Message-ID: <4FA37CE6.40204@pidster.com>
Date: Fri, 04 May 2012 07:53:26 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to run Tomcat as Service on windows start up.
References: <4F9B79B5.3060203@poonam.org> <CAOHnQjoPb=OY07P27GLrH6jpwJWfaxnrek1CCAf+h4CdyZH_Og@mail.gmail.com> <4F9BD526.2090100@ice-sa.com> <1335632275.59879.YahooMailNeo@web125505.mail.ne1.yahoo.com> <4F9DB032.70604@ice-sa.com> <1335756765.22426.YahooMailNeo@web125504.mail.ne1.yahoo.com> <4FA1C4DA.3080604@poonam.org> <4FA233A1.7010609@ice-sa.com> <4FA2900A.70209@poonam.org> <4FA29566.70302@pidster.com> <4FA31A3F.5020102@poonam.org> <99C8B2929B39C24493377AC7A121E21FB01997DE3D@USEA-EXCH8.na.uis.unisys.com> <4FA353CA.2080103@poonam.org>
In-Reply-To: <4FA353CA.2080103@poonam.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig3E28751137E8D3B7E473779E"
X-Gm-Message-State: ALoCoQl5XNS6tstQcZlgycFVXDwxlT50eO2y9+xaV4tkGv5FDgpTRcyRd61bn79gz+3WuSHEkvqv
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig3E28751137E8D3B7E473779E
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 04/05/2012 04:58, Kiran Badi wrote:
>=20
>=20
>=20
> On 5/4/2012 7:32 AM, Caldarale, Charles R wrote:
>>> From: Kiran Badi [mailto:kiran@poonam.org]
>>> Subject: Re: How to run Tomcat as Service on windows start up.
>>>>>>> Please don't top-post.
>>> What do you mean by this ?
>> http://lmgtfy.com/?q=3Dtop+post
>>
>>   - Chuck
>=20
> Thanks Got it Chuck .Interesting stuff which I wasn't aware in spite of=

> using usenet/online forums for years now.
>=20
> Not sure as how relevant this topic is now given that most of the time
> even in our work environment,we often scroll down towards the bottom of=

> the mail to see as what exactly is the communication about and each
> reply goes to the top of previous mail.

Relevant?!

Well, just imagine how much easier it would be if you read statements &
responses inline in chronological order, rather than having to
frantically scroll down and then up constantly to keep track of the
conversation.


p

> However I will ensure that I dont top post at least to this list.
>=20
>>
>>
>> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE
>> PROPRIETARY MATERIAL and is thus for use only by the intended
>> recipient. If you received this in error, please contact the sender
>> and delete the e-mail and its attachments from all computers.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig3E28751137E8D3B7E473779E
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPo3zoAAoJEGoM2OGpOvr9H2YP/ipY75eWeyWAWD/ak62BMmyn
LND/MPlVxW4Q2YdBZAeRaolFjisNOsEZ2FqV/HpY6IBgOg8XFpwM6IlCqKw4OJP8
Rgy6FyThMQMnkV5JuoLMBm+ivusIvr5ymzGiYQwU5CNbhdZffhE7PmB9KBlVSVNs
gAyOYYFdXunXgJ8lHPhiCXC0zD37lRbrtBFlFLAzpoyCGz6RxNgpAi8dSXF98/nf
m+rEOk4AKCvFNsFezfV33ko/4ZFO7A64IJGl71t9gSD4gVvES7/nc2dQs7ZU7lnc
Jm70xkxV/MaGw8u/xwSdKmhAc94v4QJnwMnhdSsyaVlirEt1jc3grbXC/HKzxy9H
D498PY18w+pKEy/qyKragrmsusqIWp+9K3ooVuhZm4D0qkwkW3TkZ/HXIq5Bimjj
fp3iuHo9NvWLwJ1EDuB6Bf2FGXUKOuiS2Wz6GhCY+KsKyeimRpssjwrMS7Bl49uz
uw6fgqI6xrmY/3KunXM9rBt9YhonMCMo00u/zQr+ipBO70QKYg4gftFjdV37kuRB
Iw7QEKt3B+SVdddERa4IL+NnVqdfvr0p8LEd85vsTmzjlCBx5E1EDsOuSXwq+uWi
c1r5x03K5Eogv7yMfAa1YU/MFCLyBmspIOmM6i+YSlMs1M6qu6P+3sCECBGycq+R
5erRw7DORHuXd+NnBfpB
=WRUV
-----END PGP SIGNATURE-----

--------------enig3E28751137E8D3B7E473779E--

From users-return-234018-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 06:54:58 2012
Return-Path: <users-return-234018-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E80409C3D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 06:54:57 +0000 (UTC)
Received: (qmail 65786 invoked by uid 500); 4 May 2012 06:54:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65550 invoked by uid 500); 4 May 2012 06:54:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65539 invoked by uid 99); 4 May 2012 06:54:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:54:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 06:54:47 +0000
Received: by eekc4 with SMTP id c4so338167eek.18
        for <users@tomcat.apache.org>; Thu, 03 May 2012 23:54:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=blT7Du9UsCcOE0t2q299paE3Ew8bPpvcueS/CqTh6Io=;
        b=PeRQ3hc2dbKMohne4SDeexhpkC925IA9HqClBMq30orMEIeETIb1S0du4nvPOnftZp
         DhIVS1GJ6KGQtNm5xLXWH2GxQCGLHRL8QmATQZDjH87MTEMx+46Y1sr6+O2bmur/+h3c
         QPA7GIv1GK7mV0bTNRPtLHBX0EXgL0huCUgWk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=blT7Du9UsCcOE0t2q299paE3Ew8bPpvcueS/CqTh6Io=;
        b=gNBKGewak6SSAkrfhRDIxbouAqT0ASXRx6Lbvli5CVENsJNOmgaMzz2NDcFh3Or1Vm
         xLOip5akIS5wdopj499J6l75SJwXEu5T5Gg0ASbaQRgr3nX2hHVmr3cV0+9lwTYi7FVA
         mXgydhVGuISEiYsJFL3y2djAAHHYpetdTljHjmsrkqeytRkZJ3pPcBACK3OOQEuuxez4
         gen9UkOmiydrITXvu08IwJqK8WvUPbsEaT+DPCOihjY0uUQC+hw9VDlJ8w9M+JI7f2n6
         0zUsrXpF0PMrnmDgEeTOO9RhE84kFMGVj4XktsMS+uS0BN4K/h4BG/h3TyByoFcsYmRM
         mfTQ==
Received: by 10.213.20.14 with SMTP id d14mr982887ebb.75.1336114467187;
        Thu, 03 May 2012 23:54:27 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id d18sm36736060eeb.7.2012.05.03.23.54.25
        (version=SSLv3 cipher=OTHER);
        Thu, 03 May 2012 23:54:25 -0700 (PDT)
Message-ID: <4FA37D1F.1070203@pidster.com>
Date: Fri, 04 May 2012 07:54:23 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net> <4FA2D45D.3050407@computer.org>
In-Reply-To: <4FA2D45D.3050407@computer.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig02C03883B05F1C963058D9F3"
X-Gm-Message-State: ALoCoQmcwrSLG1sYxXBmOd+P412EbXf/oT8rNDf73eFILI9bjLGyNL0n/66tfvcViaKpql2UFRup

--------------enig02C03883B05F1C963058D9F3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 03/05/2012 19:54, David Wall wrote:
> Chris,
>=20
> Thanks for the 'findbugs' tip.  I'm running it now in Eclipse and it ha=
s
> indeed found real bugs and some good stylistic ideas as well.

If you like that, try Sonar.

 http://www.sonarsource.org/


p


--=20

[key:62590808]


--------------enig02C03883B05F1C963058D9F3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPo30fAAoJEGoM2OGpOvr9tT4P/jxYHBf7MBDM0GEPsIIKKYOA
fmo09fZwBldnHSAnb3dEMSiSnkhP2qrHwDWiPTVgCwsV4hsbbm7WKWPz7sTZGaZe
gqoJDvZ5T6I9sYZ5a0whs4N3ZcWU0DXNLyX1yL2xktZrFIKzMfBx3i48GW8DByD2
haI2gh4kTSHKkLdrbHxJKLv6nkSErnINRqAtYxLIJumfCCGAkdpZrKoUP0ABVASN
LN/SnjcO0sGjEnDLxJZifl6uLlhuQ3kVdSVsoaKNzK/giSCqWeJ6xWTp77BHdjxu
r89d5+1lMQL58uH1+Nitz00nVM0xidIOUbNPqB7dcg3YwBetjuclGNtCgMfmktpx
u0+0psEmMCkJtdHr93LZ3uDhtB9S1ZU94X2xxAWDo48wZkyGXQY5XTTuM2VkA6hQ
3HlDb+yxXP/yKJbpjTB7NyNI+WQbRcPstD2/AX6ob8PYHK64uDs+nlifP2Fiirm9
g93plnLidOJxAyJZu2tmEn+duL/TTSeoX3/5wfwA0sWQRR/ftqcqMijb9CyxFt8j
gBl+E7Ex35+J5SE+7SZRjnCng/QCC9he8Zfb9RlNOUrDaZrZqf4Wbih03G1SeEKV
Erlbd7MGP+IZVWTc73wehxNewi/HyB9t+hUSmwz+TMCuLEAlnQqO8i5e8nDTgbzD
tzWwIn4rdbtAUb8LGc8j
=X4gC
-----END PGP SIGNATURE-----

--------------enig02C03883B05F1C963058D9F3--

From users-return-234019-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 10:31:16 2012
Return-Path: <users-return-234019-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C7AC9E1F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 10:31:16 +0000 (UTC)
Received: (qmail 87670 invoked by uid 500); 4 May 2012 10:31:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87561 invoked by uid 500); 4 May 2012 10:31:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87327 invoked by uid 99); 4 May 2012 10:31:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 10:31:12 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.250.139 is neither permitted nor denied by domain of hunters1094@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 10:31:03 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <hunters1094@gmail.com>)
	id 1SQFmd-0005oe-4f
	for users@tomcat.apache.org; Fri, 04 May 2012 03:30:43 -0700
Date: Fri, 4 May 2012 03:30:43 -0700 (PDT)
From: hunters1094 <hunters1094@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1336127443134-4951884.post@n6.nabble.com>
In-Reply-To: <4FA36657.2080004@computer.org>
References: <4FA18107.40006@computer.org> <4FA36657.2080004@computer.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

This is my stack trace

May 3, 2012 10:35:43 AM org.apache.jasper.runtime.JspFactoryImpl
internalGetPageContext
SEVERE: Exception initializing page context
java.lang.IllegalStateException: Cannot create a session after the response
has been committed
	at org.apache.catalina.connector.Request.doGetSession(Request.java:2301)
	at org.apache.catalina.connector.Request.getSession(Request.java:2075)
	at
org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:833)
	at
javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:216)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:545)
	at
javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:216)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:545)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:494)
	at
org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:146)
	at
org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:124)
	at
org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:107)
	at
org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:63)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.AssetReport.alertProcess.listAlertProcess_jsp._jspService(listAlertProcess_jsp.java:70)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)
	at
org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)
	at
org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)
	at
org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)
	at
org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:611)
	at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99)
	at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
	at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760)
	at
org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892)
	at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspx_meth_tiles_005finsert_005f4(layout_jsp.java:1154)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspService(layout_jsp.java:604)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)
	at
org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)
	at
org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)
	at
org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)
	at
org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)
	at
org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)
	at
org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:239)
	at
org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:302)
	at
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
com.moza.qldtktts.filter.TimeRequestFilter.doFilter(TimeRequestFilter.java:64)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at moza.passport.util.VsaFilter.doFilter(VsaFilter.java:109)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
	at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
	at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
	at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)
	at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
	at java.lang.Thread.run(Thread.java:619)
May 3, 2012 10:35:43 AM org.apache.jasper.runtime.JspFactoryImpl
internalGetPageContext
SEVERE: Exception initializing page context
java.lang.IllegalStateException: Cannot create a session after the response
has been committed
	at org.apache.catalina.connector.Request.doGetSession(Request.java:2301)
	at org.apache.catalina.connector.Request.getSession(Request.java:2075)
	at
org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:833)
	at
javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:216)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:545)
	at
javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:216)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:545)
	at
org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:494)
	at
org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:146)
	at
org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:124)
	at
org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:107)
	at
org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:63)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.layout.copyright_jsp._jspService(copyright_jsp.java:44)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)
	at
org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)
	at
org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)
	at
org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)
	at
org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:611)
	at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99)
	at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
	at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760)
	at
org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892)
	at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspx_meth_tiles_005finsert_005f5(layout_jsp.java:1173)
	at
org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspService(layout_jsp.java:634)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)
	at
org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)
	at
org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)
	at
org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)
	at
org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085)
	at
org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)
	at
org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:239)
	at
org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:302)
	at
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
com.moza.qldtktts.filter.TimeRequestFilter.doFilter(TimeRequestFilter.java:64)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at moza.passport.util.VsaFilter.doFilter(VsaFilter.java:109)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
	at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
	at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
	at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)
	at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
	at java.lang.Thread.run(Thread.java:619)

There are 2 exceptions at the same time. Why?

The exception is thrown out at
com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49). I
think about when CharsetFilter.doFilter get exception, i catch and check the
content of http request and response.  What do you think about it?

Thanks

--
View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-7-Exception-initializing-page-context-Cannot-create-a-session-after-the-response-has-been-comd-tp4947014p4951884.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234020-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 12:22:05 2012
Return-Path: <users-return-234020-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68252C958
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 12:22:05 +0000 (UTC)
Received: (qmail 78763 invoked by uid 500); 4 May 2012 12:22:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78706 invoked by uid 500); 4 May 2012 12:22:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78697 invoked by uid 99); 4 May 2012 12:22:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 12:22:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 12:21:55 +0000
Received: by eekc4 with SMTP id c4so482716eek.18
        for <users@tomcat.apache.org>; Fri, 04 May 2012 05:21:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=7Vk//sENPw81I9smx1LuoY0pNkyUWMK/YTqXpwZIT70=;
        b=mA0wkkjoYBmJASrGrGhk56KRFkKpNvlEDUDnTmjzbgjQhjFfNv6hFYG7m3bCJaU9Kk
         KC1GHVp76+JStlF+MbxsZcz49Ou/6c4sOeqETJFMblhk0xUJwy8u0MZaPq51LsgBjfDl
         eLwUn22bgxJ8KnaJxOzSEqJB5M9OK/ccsY5b0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=7Vk//sENPw81I9smx1LuoY0pNkyUWMK/YTqXpwZIT70=;
        b=ieijZs7+AsDw5t8Kyb82m5PHNJD8TBQGrPx7lDSypGzJCyAkolcJQGMsUcBK8xRNMo
         vDfpFGsE4EiP52oB91jNL8HTi+HCIsSvMYl3b8XFhWmxkpFTH/XV2yeZ1nKonyQd92nC
         TJT6SFVgUruSqdOzIb5jG85v3Jbf3Dv+ax5ydAQ2cw30d8O/i05XjNPW3HEypagFOLN0
         ihpUn6WGIPw6rdb9gLdlPzVE2MNiTYOuPeiBEONg3xKa4lIowrG2EGOyrR9C4dkH5DR+
         SyoDPAQ1lxMQsoZJ7HOFViC6FxxX3aVmo+AxDAcSN3jtg+0dmV6PaOl+ws6g/THdq6ec
         EcfA==
Received: by 10.14.96.6 with SMTP id q6mr1113070eef.64.1336134093602;
        Fri, 04 May 2012 05:21:33 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id x4sm40781407eef.10.2012.05.04.05.21.31
        (version=SSLv3 cipher=OTHER);
        Fri, 04 May 2012 05:21:32 -0700 (PDT)
Message-ID: <4FA3C9C5.8030305@pidster.com>
Date: Fri, 04 May 2012 13:21:25 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Exception initializing page context; Cannot create a
 session after the response has been committed
References: <4FA18107.40006@computer.org> <4FA36657.2080004@computer.org> <1336127443134-4951884.post@n6.nabble.com>
In-Reply-To: <1336127443134-4951884.post@n6.nabble.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigF9A47CB5264C8B81037268FE"
X-Gm-Message-State: ALoCoQlikfptbAVUPbc/CHg5TI4uMzNKSWTsAorZ8WfMnkCPab1ARIX65zXf8HvS9QhM6JMV/P8i
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigF9A47CB5264C8B81037268FE
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 04/05/2012 11:30, hunters1094 wrote:
> Hi
>=20
> This is my stack trace
>=20
> May 3, 2012 10:35:43 AM org.apache.jasper.runtime.JspFactoryImpl
> internalGetPageContext
> SEVERE: Exception initializing page context
> java.lang.IllegalStateException: Cannot create a session after the resp=
onse
> has been committed
> 	at org.apache.catalina.connector.Request.doGetSession(Request.java:230=
1)
> 	at org.apache.catalina.connector.Request.getSession(Request.java:2075)=

> 	at
> org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.ja=
va:833)
> 	at
> javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequ=
estWrapper.java:216)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:545)
> 	at
> javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequ=
estWrapper.java:216)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:545)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:494)
> 	at
> org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.j=
ava:146)
> 	at
> org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.ja=
va:124)
> 	at
> org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFact=
oryImpl.java:107)
> 	at
> org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.=
java:63)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.AssetReport.alertProcess.listAlert=
Process_jsp._jspService(listAlertProcess_jsp.java:70)
> 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j=
ava:374)
> 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java=
:342)
> 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispat=
cher.java:630)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDis=
patcher.java:535)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispa=
tcher.java:472)
> 	at
> org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.j=
ava:968)
> 	at
> org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:=
611)
> 	at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:=
99)
> 	at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
> 	at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:7=
60)
> 	at
> org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertT=
ag.java:892)
> 	at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:46=
2)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspx_meth_tiles=
_005finsert_005f4(layout_jsp.java:1154)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspService(layo=
ut_jsp.java:604)
> 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j=
ava:374)
> 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java=
:342)
> 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispat=
cher.java:630)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.processRequest(Applicati=
onDispatcher.java:436)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDis=
patcher.java:374)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispa=
tcher.java:302)
> 	at
> org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.ja=
va:1085)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestPro=
cessor.java:263)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(Ti=
lesRequestProcessor.java:239)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(Tile=
sRequestProcessor.java:302)
> 	at
> org.apache.struts.action.RequestProcessor.process(RequestProcessor.java=
:241)
> 	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1=
196)
> 	at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414=
)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49=
)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> com.moza.qldtktts.filter.TimeRequestFilter.doFilter(TimeRequestFilter.j=
ava:64)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at moza.passport.util.VsaFilter.doFilter(VsaFilter.java:109)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperVal=
ve.java:233)
> 	at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal=
ve.java:191)
> 	at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.jav=
a:128)
> 	at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.jav=
a:102)
> 	at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve=
=2Ejava:109)
> 	at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:=
286)
> 	at
> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:8=
45)
> 	at
> org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process=
(Http11Protocol.java:583)
> 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:=
447)
> 	at java.lang.Thread.run(Thread.java:619)
> May 3, 2012 10:35:43 AM org.apache.jasper.runtime.JspFactoryImpl
> internalGetPageContext
> SEVERE: Exception initializing page context
> java.lang.IllegalStateException: Cannot create a session after the resp=
onse
> has been committed
> 	at org.apache.catalina.connector.Request.doGetSession(Request.java:230=
1)
> 	at org.apache.catalina.connector.Request.getSession(Request.java:2075)=

> 	at
> org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.ja=
va:833)
> 	at
> javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequ=
estWrapper.java:216)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:545)
> 	at
> javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequ=
estWrapper.java:216)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:545)
> 	at
> org.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationH=
ttpRequest.java:494)
> 	at
> org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.j=
ava:146)
> 	at
> org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.ja=
va:124)
> 	at
> org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFact=
oryImpl.java:107)
> 	at
> org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.=
java:63)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.layout.copyright_jsp._jspService(c=
opyright_jsp.java:44)
> 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j=
ava:374)
> 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java=
:342)
> 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispat=
cher.java:630)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDis=
patcher.java:535)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispa=
tcher.java:472)
> 	at
> org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.j=
ava:968)
> 	at
> org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:=
611)
> 	at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:=
99)
> 	at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
> 	at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:7=
60)
> 	at
> org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertT=
ag.java:892)
> 	at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:46=
2)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspx_meth_tiles=
_005finsert_005f5(layout_jsp.java:1173)
> 	at
> org.apache.jsp.WEB_002dINF.jsp.pages.layout.layout_jsp._jspService(layo=
ut_jsp.java:634)
> 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j=
ava:374)
> 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java=
:342)
> 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispat=
cher.java:630)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.processRequest(Applicati=
onDispatcher.java:436)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDis=
patcher.java:374)
> 	at
> org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispa=
tcher.java:302)
> 	at
> org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.ja=
va:1085)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestPro=
cessor.java:263)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(Ti=
lesRequestProcessor.java:239)
> 	at
> org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(Tile=
sRequestProcessor.java:302)
> 	at
> org.apache.struts.action.RequestProcessor.process(RequestProcessor.java=
:241)
> 	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1=
196)
> 	at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414=
)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49=
)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> com.moza.qldtktts.filter.TimeRequestFilter.doFilter(TimeRequestFilter.j=
ava:64)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at moza.passport.util.VsaFilter.doFilter(VsaFilter.java:109)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applic=
ationFilterChain.java:235)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFil=
terChain.java:206)
> 	at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperVal=
ve.java:233)
> 	at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal=
ve.java:191)
> 	at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.jav=
a:128)
> 	at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.jav=
a:102)
> 	at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve=
=2Ejava:109)
> 	at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:=
286)
> 	at
> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:8=
45)
> 	at
> org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process=
(Http11Protocol.java:583)
> 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:=
447)
> 	at java.lang.Thread.run(Thread.java:619)
>=20
> There are 2 exceptions at the same time. Why?
>=20
> The exception is thrown out at
> com.moza.qldtktts.util.CharsetFilter.doFilter(CharsetFilter.java:49). I=

> think about when CharsetFilter.doFilter get exception, i catch and chec=
k the
> content of http request and response.  What do you think about it?

As explained to the OP of this thread, in 99.9% of cases this is because
the application is improperly retaining a reference to a request or
session object.

Check your code for a Servlet or something that sets one of those two
objects to an instance field, or retains it in some other way that is
not thread-safe.


p



--=20

[key:62590808]


--------------enigF9A47CB5264C8B81037268FE
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPo8nJAAoJEGoM2OGpOvr9GjkQAISXMpCsDwx+dE4zzo7hxzwu
7oc58fAftfgyg0Jjj31cr0TYpO8WiUmm4E8c8y9bG35LIx2WgvNIXdKd6tf+QKZv
yXywU8xHfu4zx3POsJFJYC6skzE2UtKVlhEUF1X5aSwaRNvVWHiWRxSSSq4fbkWu
4kXcFNufTajSzQaAZOEIGmItSYUX2gcdtm+TToe71J9A+1W7g8B5t4vBudqypW+h
7xN6Go7JxRYMfr34OHC08dqF2SKdlSYsPE9LW8BXfecz6VkJ8y7EVo7gTr4uXPq7
2rADlhqFbHt0sOLuRAeFRky2llrpznPPUnjUPmM0SgG0Ek3iJHnc/WTLj3tpZCX9
Tn9HfFmvSqFOoPEZInNZTtrkdmuEBf+xsbZ4AFlFqPfF4W4y10C8gAMWIc+X3pmK
LL+nReBzmRjA2InXTUEeIZMo3lCv3MhSD1XDmWNA6YAkWT4+DS1OxP3j3f4Nq8ga
xnSa/g5u0OUgst6iBqmqniwFNCsUF0sFOdgL24OqqGnIH+DH8CElsuQQ4ixRBnw2
OBmsPzbMacAm+uV7gg6uBZYf66gBZ9X73Pb5q4CdJf9y1ytmOJrmGwi9lz9NB0QB
fYSbEm/tJuDMUnvENhU6wCgJ2NrvBLfnX1uFR4CIUT3YajShYZzLlpJ2e24bkzGB
NCb47pZ81Rs7JO6a700q
=PMka
-----END PGP SIGNATURE-----

--------------enigF9A47CB5264C8B81037268FE--

From users-return-234021-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 13:03:22 2012
Return-Path: <users-return-234021-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B01DC99F6
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 13:03:22 +0000 (UTC)
Received: (qmail 98025 invoked by uid 500); 4 May 2012 13:03:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97981 invoked by uid 500); 4 May 2012 13:03:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97972 invoked by uid 99); 4 May 2012 13:03:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 13:03:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.210.42 as permitted sender)
Received: from [209.85.210.42] (HELO mail-pz0-f42.google.com) (209.85.210.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 13:03:15 +0000
Received: by dalf4 with SMTP id f4so313295dal.15
        for <users@tomcat.apache.org>; Fri, 04 May 2012 06:02:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UOVA2h1TmFJQ5eWv346fHS5nULhWGbAt/tqDE+V6D08=;
        b=yMwynus8hPfQqMWFRaDQzhk/Y0olCbGO0wE8+jsm70nl6MiE4ncfACiTNj9zJsFnNM
         70Jo2nulx2b2CE6ZQYeoKaUhHoFuCGldNgpXInQcv8ht5YCKDdyqx59fAZQ6yYLGysvE
         UFMJm8jtJr4UzFrecc/ZKRllrGfOlgEsZ9yZVm6HKUpolRK8zZLkWZ0V8ucBh6BRpgbF
         Dke2iHAQMp81xC1VkMX3F3JvJkQRLWr+ugRYyQPyKaP4KHwqsKrgEi8423qWRaKqhX9v
         Gg0YeUG1HxnrYaLnYBAm8KfJjldhBNaiwGNI8Dw9cOcqV2brRcPjE96hibQJp6z8kw7B
         VPhQ==
MIME-Version: 1.0
Received: by 10.68.227.227 with SMTP id sd3mr18117886pbc.64.1336136574509;
 Fri, 04 May 2012 06:02:54 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Fri, 4 May 2012 06:02:54 -0700 (PDT)
In-Reply-To: <4FA318DF.6090203@christopherschultz.net>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
	<4FA318DF.6090203@christopherschultz.net>
Date: Fri, 4 May 2012 07:02:54 -0600
Message-ID: <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff24bcbe522f404bf358952
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff24bcbe522f404bf358952
Content-Type: text/plain; charset=ISO-8859-1

On May 3, 2012 5:47 PM, "Christopher Schultz" <chris@christopherschultz.net>
wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Todd,
>
> On 5/3/12 5:22 PM, Todd Seidenberg wrote:
> > On Thu, May 3, 2012 at 3:03 PM, Caldarale, Charles R <
> > Chuck.Caldarale@unisys.com> wrote:
> >
> >>> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
> >>> Subject: Re: Adding the manager app to a Standalone tomcat
> >>> install
> >>
> >>> I have removed all of the offending stuff from the server.xml
> >>> but the manager/html still gives me a 404.
> >>
> >> Just to be sure, exactly what URL are you using to try to access
> >> the manager?
> >>
> >> - Chuck
> >>
> >>
> > http://hostname:8090/manager/html
>
> Grasping at straws: is there an old instance of Tomcat still running
> and bound to your port? If you enable the AccessLogValve, can you
> confirm that the request is actually being handled by the instance you
> are launching?
>
>
I've never enabled AccessLogValve. Can you give me a quick pointer for
turning it on so we can continue debugging? It sounds like something that I
should keep in my arsenal of tools.



> This is truly strange.
>
>
Agreed. Thanks for taking a look at it.



> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+jGN8ACgkQ9CaO5/Lv0PDy9wCdGiyBxh4YA+K4chnAQvp0nhpT
> N8UAn3gcQebCujSwO5YEVADUoWkrKGel
> =qT3S
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff24bcbe522f404bf358952--

From users-return-234022-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 14:18:25 2012
Return-Path: <users-return-234022-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5269AC5B4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 14:18:25 +0000 (UTC)
Received: (qmail 29583 invoked by uid 500); 4 May 2012 14:18:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29514 invoked by uid 500); 4 May 2012 14:18:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29505 invoked by uid 99); 4 May 2012 14:18:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:18:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:18:15 +0000
Received: by pbbro12 with SMTP id ro12so4276406pbb.18
        for <users@tomcat.apache.org>; Fri, 04 May 2012 07:17:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OxR0Pwd2iqBiXH/xHnmYgsHn2rWq7UH032gXK3xqLX4=;
        b=OVuBJDavLgBTs3gRBHyDJIyaOGsDZJ94/Ctvx8vUIdPZVRxZ6QuG6DLu87Iy3exoUM
         UF5bdm5R6cKm/wLnPo4MrltuR2CWemltK3DjgW623OplVLrmJyv729ZLQR2YR9XVODmd
         BLVhYvOZYh5Ia6psItCSXcKWFFpZy+OmjmQk9a+nLhv1ljQh2RGZIK01PLll7QlIthNj
         ncSLv+McEOHtIy7tRhJ6vK01JtuHOqZOfrUpOao9K71qxgNmCuh7heJYAZG0AgAlKsFr
         kEAns6A16v2zBnCn5k3ZIkWSZNPplpxq/PPxNPTAseOh50IWapnFcLYbnwlbhhzQWTfK
         1xxQ==
MIME-Version: 1.0
Received: by 10.68.221.227 with SMTP id qh3mr11438190pbc.43.1336141074284;
 Fri, 04 May 2012 07:17:54 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Fri, 4 May 2012 07:17:54 -0700 (PDT)
In-Reply-To: <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
	<CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
	<4FA2B21C.6080308@christopherschultz.net>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
	<4FA318DF.6090203@christopherschultz.net>
	<CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
Date: Fri, 4 May 2012 08:17:54 -0600
Message-ID: <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff255ae1a420c04bf369649

--e89a8ff255ae1a420c04bf369649
Content-Type: text/plain; charset=ISO-8859-1

On Fri, May 4, 2012 at 7:02 AM, Todd Seidenberg
<todd.seidenberg@gmail.com>wrote:

> On May 3, 2012 5:47 PM, "Christopher Schultz" <
> chris@christopherschultz.net> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Todd,
>>
>> On 5/3/12 5:22 PM, Todd Seidenberg wrote:
>> > On Thu, May 3, 2012 at 3:03 PM, Caldarale, Charles R <
>> > Chuck.Caldarale@unisys.com> wrote:
>> >
>> >>> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
>> >>> Subject: Re: Adding the manager app to a Standalone tomcat
>> >>> install
>> >>
>> >>> I have removed all of the offending stuff from the server.xml
>> >>> but the manager/html still gives me a 404.
>> >>
>> >> Just to be sure, exactly what URL are you using to try to access
>> >> the manager?
>> >>
>> >> - Chuck
>> >>
>> >>
>> > http://hostname:8090/manager/html
>>
>> Grasping at straws: is there an old instance of Tomcat still running
>> and bound to your port? If you enable the AccessLogValve, can you
>> confirm that the request is actually being handled by the instance you
>> are launching?
>>
>>
> I've never enabled AccessLogValve. Can you give me a quick pointer for
> turning it on so we can continue debugging? It sounds like something that I
> should keep in my arsenal of tools.
>
>
>
>> This is truly strange.
>>
>>
> Agreed. Thanks for taking a look at it.
>
>
>
By the way, I should also say that I have now COMPLETELY DISABLED the
confluence context in my server.xml file.


So it now looks like this:

 <Server port="8000" shutdown="SHUTDOWN" >
    <Service name="Tomcat-Standalone">
        <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
port="8090" minProcessors="5"
                   maxProcessors="75"
                   enableLookups="false" redirectPort="8443"
acceptCount="10" connectionTimeout="20000"
                   useURIValidationHack="false" URIEncoding="UTF-8"
        />
        <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
        <Engine name="Standalone" defaultHost="localhost">
            <Host name="localhost" appBase="webapps" unpackWARs="true"
autoDeploy="true">
           </Host>
        </Engine>
  </Service>
</Server>


This is the entirety of it. And of course, the manager still doesn't show
up.


just to reiterate.

- I have the server.xml listed above.
- I have grabbed the webapps/manager directory from a full fresh
tomcat-6.0.32 install
- I can start this standalone tomcat, and the
conf/Standalone/localhost/manager.xml is generated.
- I do not have an httpd running anywhere.
- I STILL get a 404 error when I try to go to
http://hostname:8090/manager/html.


Anything else I can try?


- Thanks,

Todd

--e89a8ff255ae1a420c04bf369649--

From users-return-234023-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 14:39:10 2012
Return-Path: <users-return-234023-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C56A921A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 14:39:10 +0000 (UTC)
Received: (qmail 84342 invoked by uid 500); 4 May 2012 14:39:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84289 invoked by uid 500); 4 May 2012 14:39:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84276 invoked by uid 99); 4 May 2012 14:39:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:39:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:39:00 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 5pQi1j0040EZKEL5Fqee5s; Fri, 04 May 2012 14:38:38 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id 5qej1j00J38FjT13MqejY2; Fri, 04 May 2012 14:38:43 +0000
Message-ID: <4FA3E9F1.7000304@christopherschultz.net>
Date: Fri, 04 May 2012 10:38:41 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com> <4FA2C40B.6030701@ice-sa.com> <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com> <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com> <4FA318DF.6090203@christopherschultz.net> <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com> <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
In-Reply-To: <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Todd,

On 5/4/12 10:17 AM, Todd Seidenberg wrote:
> - I have the server.xml listed above. - I have grabbed the
> webapps/manager directory from a full fresh tomcat-6.0.32 install

Where did you put it? In /usr/share/tomcat6/webapps?

> - I can start this standalone tomcat, and the 
> conf/Standalone/localhost/manager.xml is generated.

Okay. Where is "conf" rooted?

> - I do not have an httpd running anywhere. - I STILL get a 404
> error when I try to go to http://hostname:8090/manager/html.

What are catalina.base and catalina.home?

Access log documentation can be found here:
http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Access_Log_Valve

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+j6fEACgkQ9CaO5/Lv0PBCiACgtpjKeLfOi3EoCbc3CIJMh1Pe
HA0AoKd6nVnDXZJp8JLdO7246fjqvetI
=oLmi
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234024-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 14:47:02 2012
Return-Path: <users-return-234024-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EABEC925B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 14:47:02 +0000 (UTC)
Received: (qmail 6224 invoked by uid 500); 4 May 2012 14:46:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6174 invoked by uid 500); 4 May 2012 14:46:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6159 invoked by uid 99); 4 May 2012 14:46:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:46:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.210.42 as permitted sender)
Received: from [209.85.210.42] (HELO mail-pz0-f42.google.com) (209.85.210.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 14:46:54 +0000
Received: by dalf4 with SMTP id f4so459113dal.15
        for <users@tomcat.apache.org>; Fri, 04 May 2012 07:46:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wnqfgpbF2WzJRFpUvXcyNUfILhNYUn2LPmoax/z8ZGM=;
        b=YSgRVuY/Zp6k56piNZNef937trVSpdbkL6mzyx09vOc1xZV9TqBoZxiT8/Js/n7PTQ
         qEBUCBLwQT1T2oS3HTiqIbjy+j5rEdxdiv/ht/B5oIByV9EbN2Nz8XaOkWW0hUqV0p+Q
         L81d3OzO2KVR2iFQjw5AelZpimVR7cMhnCrgdomXMuee2K96LXAHA6lPvL+jdCyFPcZL
         tohjU+w9waZa3yHYHtmGBIhJqK0CNBKsn5Xp5WshrSd6MFd1+gGQFAZQwiNZtB4GLvwP
         WY6ORGYvglhEZJnC9o6fmhZKcnOYIHof6IOYEfxzPILBsWRzl6wxDvxzzuTdzdRG/hPV
         wjEg==
MIME-Version: 1.0
Received: by 10.68.227.227 with SMTP id sd3mr19104047pbc.64.1336142792810;
 Fri, 04 May 2012 07:46:32 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Fri, 4 May 2012 07:46:32 -0700 (PDT)
In-Reply-To: <4FA3E9F1.7000304@christopherschultz.net>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
	<4FA318DF.6090203@christopherschultz.net>
	<CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
	<CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
	<4FA3E9F1.7000304@christopherschultz.net>
Date: Fri, 4 May 2012 08:46:32 -0600
Message-ID: <CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff24bcb88e03704bf36fc22

--e89a8ff24bcb88e03704bf36fc22
Content-Type: text/plain; charset=ISO-8859-1

On Fri, May 4, 2012 at 8:38 AM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Todd,
>
> On 5/4/12 10:17 AM, Todd Seidenberg wrote:
> > - I have the server.xml listed above. - I have grabbed the
> > webapps/manager directory from a full fresh tomcat-6.0.32 install
>
> Where did you put it? In /usr/share/tomcat6/webapps?
>
>
/usr/local/confluence-4/webapps/manager


> > - I can start this standalone tomcat, and the
> > conf/Standalone/localhost/manager.xml is generated.
>
> Okay. Where is "conf" rooted?
>

/usr/local/confluence-4/conf



> > - I do not have an httpd running anywhere. - I STILL get a 404
> > error when I try to go to http://hostname:8090/manager/html.
>
> What are catalina.base and catalina.home?
>
>
Here's the output of version.sh:

---------
./version.sh
If you encounter issues starting up Confluence Standalone, please see the
Installation guide at
http://confluence.atlassian.com/display/DOC/Confluence+Installation+Guide

Server startup logs are located in /usr/local/confluence-4/logs/catalina.out
Using CATALINA_BASE:   /usr/local/confluence-4
Using CATALINA_HOME:   /usr/local/confluence-4
Using CATALINA_TMPDIR: /usr/local/confluence-4/temp
Using JRE_HOME:        /usr/local/confluence-4/jre/
Using CLASSPATH:       /usr/local/confluence-4/bin/bootstrap.jar
Using CATALINA_PID:    /usr/local/confluence-4/work/catalina.pid
Server version: Apache Tomcat/6.0.32
Server built:   February 2 2011 2003
Server number:  6.0.32.0
OS Name:        Linux
OS Version:     2.6.16.54-0.2.8-default
Architecture:   i386
JVM Version:    1.6.0_26-b03
JVM Vendor:     Sun Microsystems Inc.
 -------------

>


> Access log documentation can be found here:
> http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Access_Log_Valve
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+j6fEACgkQ9CaO5/Lv0PBCiACgtpjKeLfOi3EoCbc3CIJMh1Pe
> HA0AoKd6nVnDXZJp8JLdO7246fjqvetI
> =oLmi
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff24bcb88e03704bf36fc22--

From users-return-234025-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May  4 20:02:24 2012
Return-Path: <users-return-234025-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BA01C4A4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  4 May 2012 20:02:24 +0000 (UTC)
Received: (qmail 20955 invoked by uid 500); 4 May 2012 20:02:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20878 invoked by uid 500); 4 May 2012 20:02:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20869 invoked by uid 99); 4 May 2012 20:02:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 20:02:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.210.42 as permitted sender)
Received: from [209.85.210.42] (HELO mail-pz0-f42.google.com) (209.85.210.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 May 2012 20:02:15 +0000
Received: by dalf4 with SMTP id f4so874314dal.15
        for <users@tomcat.apache.org>; Fri, 04 May 2012 13:01:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=d17IqRwsnaMgZqgmWsnYogWAYMu6Wj94OOJ0ovcIENY=;
        b=Dcp+dkKHjO9ht0F3gPh3acQksqSBSaipyieEUOEiDGBHx7rYgJOXG5Pf8hpU0aaB5d
         sGL7BfdXHZDx2JZuAzroJL9obniusc6Gt5ENgrSR2+ptziMkN7mQ3s4tLXWs8/XORtOu
         C4g8xCYLIuNM0vm1rst8NI6PBdYqPB0gaabaB7sL3kwra0p3+jB4jykKX/45CnjkhmPX
         111sd+ZRHFavhY9u4uefbVyqnPKnwI45l6CDkmkBK16ZtrVMoxpx7u2oZMA+c9z2ic9F
         RsOVYQx2f4QRZOkQpC4EYz+r0oP8JZcorLVwpBikMNnh0MuD2KleQwHfiWMywVydO2Li
         rRcw==
MIME-Version: 1.0
Received: by 10.68.227.227 with SMTP id sd3mr21808523pbc.64.1336161713649;
 Fri, 04 May 2012 13:01:53 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Fri, 4 May 2012 13:01:53 -0700 (PDT)
In-Reply-To: <CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
	<4FA2C40B.6030701@ice-sa.com>
	<CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
	<4FA318DF.6090203@christopherschultz.net>
	<CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
	<CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
	<4FA3E9F1.7000304@christopherschultz.net>
	<CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com>
Date: Fri, 4 May 2012 14:01:53 -0600
Message-ID: <CAJF7AOqB=PwtB4P94Ck=qxYjQWTxZVjwrPVdtkoD6qGGAO9_qA@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff24bcb4df87504bf3b64ad

--e89a8ff24bcb4df87504bf3b64ad
Content-Type: text/plain; charset=ISO-8859-1

On Fri, May 4, 2012 at 8:46 AM, Todd Seidenberg
<todd.seidenberg@gmail.com>wrote:

>
>
> On Fri, May 4, 2012 at 8:38 AM, Christopher Schultz <
> chris@christopherschultz.net> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Todd,
>>
>> On 5/4/12 10:17 AM, Todd Seidenberg wrote:
>> > - I have the server.xml listed above. - I have grabbed the
>> > webapps/manager directory from a full fresh tomcat-6.0.32 install
>>
>> Where did you put it? In /usr/share/tomcat6/webapps?
>>
>>
> /usr/local/confluence-4/webapps/manager
>
>
>> > - I can start this standalone tomcat, and the
>> > conf/Standalone/localhost/manager.xml is generated.
>>
>> Okay. Where is "conf" rooted?
>>
>
> /usr/local/confluence-4/conf
>
>
>
>> > - I do not have an httpd running anywhere. - I STILL get a 404
>> > error when I try to go to http://hostname:8090/manager/html.
>>
>> What are catalina.base and catalina.home?
>>
>>
> Here's the output of version.sh:
>
> ---------
> ./version.sh
> If you encounter issues starting up Confluence Standalone, please see the
> Installation guide at
> http://confluence.atlassian.com/display/DOC/Confluence+Installation+Guide
>
> Server startup logs are located in
> /usr/local/confluence-4/logs/catalina.out
> Using CATALINA_BASE:   /usr/local/confluence-4
> Using CATALINA_HOME:   /usr/local/confluence-4
> Using CATALINA_TMPDIR: /usr/local/confluence-4/temp
> Using JRE_HOME:        /usr/local/confluence-4/jre/
> Using CLASSPATH:       /usr/local/confluence-4/bin/bootstrap.jar
> Using CATALINA_PID:    /usr/local/confluence-4/work/catalina.pid
> Server version: Apache Tomcat/6.0.32
> Server built:   February 2 2011 2003
> Server number:  6.0.32.0
> OS Name:        Linux
> OS Version:     2.6.16.54-0.2.8-default
> Architecture:   i386
> JVM Version:    1.6.0_26-b03
> JVM Vendor:     Sun Microsystems Inc.
>  -------------
>
>>
>
>
>> Access log documentation can be found here:
>>
>> http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Access_Log_Valve
>>
>>
I've enabled the Access_log_Valve, as listed below:

<snip>
            <Host name="localhost" appBase="webapps" unpackWARs="true"
autoDeploy="true">
                <Valve
 className="org.apache.catalina.valves.AccessLogValve"
                        directory="logs"
                        prefix="tomcat_access_Logs."
                        pattern="combined"
                        resolveHosts="false"
                />
</snip>


As expected, I still get the 404 error.  Enclosed is the line from the
'tomcat_access_Logs.' file.

xx.x.32.16 - - [04/May/2012:13:59:05 -0600] "GET /manager/html HTTP/1.1"
404 991 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.19 (KHTML,
like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151 Chrome/18.0.1025.151
Safari/535.19"
xx.x.32.16 - - [04/May/2012:13:59:34 -0600] "GET /manager/html HTTP/1.1"
404 991 "http://cascade:8090/" "Mozilla/5.0 (X11; Linux x86_64)
AppleWebKit/535.19 (KHTML, like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151
Chrome/18.0.1025.151 Safari/535.19"



Thoughts?

- Thanks,

Todd







> - -chris
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
>> Comment: GPGTools - http://gpgtools.org
>> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>>
>> iEYEARECAAYFAk+j6fEACgkQ9CaO5/Lv0PBCiACgtpjKeLfOi3EoCbc3CIJMh1Pe
>> HA0AoKd6nVnDXZJp8JLdO7246fjqvetI
>> =oLmi
>> -----END PGP SIGNATURE-----
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--e89a8ff24bcb4df87504bf3b64ad--

From users-return-234026-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May  5 04:11:04 2012
Return-Path: <users-return-234026-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0E4BC785
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  5 May 2012 04:11:04 +0000 (UTC)
Received: (qmail 67665 invoked by uid 500); 5 May 2012 04:11:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67546 invoked by uid 500); 5 May 2012 04:11:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67459 invoked by uid 99); 5 May 2012 04:10:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 May 2012 04:10:59 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [106.10.149.101] (HELO nm18-vm6.bullet.mail.sg3.yahoo.com) (106.10.149.101)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 May 2012 04:10:50 +0000
Received: from [106.10.166.113] by nm18.bullet.mail.sg3.yahoo.com with NNFMP; 05 May 2012 04:10:27 -0000
Received: from [106.10.150.23] by tm2.bullet.mail.sg3.yahoo.com with NNFMP; 05 May 2012 04:10:27 -0000
Received: from [127.0.0.1] by omp1024.mail.sg3.yahoo.com with NNFMP; 05 May 2012 04:10:27 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 342041.4788.bm@omp1024.mail.sg3.yahoo.com
Received: (qmail 40672 invoked by uid 60001); 5 May 2012 04:10:27 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1336191027; bh=fbrvLUbd0jWqQum3nnQ/4fHnReV9J8owbtoMoU+XNlU=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=FANMvHybLay9epfK/wFKMiDpdL/35Frt1p+/3VHrjgWrQNlB4mjvQo/Qsogi1o1BPB8OwfyAXzNoAcUSN2VECMzK7kJMxajWQA00kgF4dIdwA9Nvh45/ESCyUrvskoU9YhelyDnG8J2jBg9pAkLUIN/kGaEP1CHfjHFnHB9VfKE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=0JRQ2L8JFhmgw8QBfKOH3YGF/iZkNUDn28dL8lVlIqpzzx5bOsXF+RvUjToapAZgtasm0EOdZPsUCWl8epEJloM05SrBDKEY5BXW+KCYOtae0B7hVpc2Dr68mSRbHm3cOZHmXS5CCd3fEWPNTe3GbhgrOI7Oh/msR4gPv75QwpE=;
X-YMail-OSG: eMyNLXQVM1nuYXy_jxfTH7ynpAozeKPc6euYJ0EagQoZoRh
 CfzT2oZUGpxAA5IJYYj2CJtTvomIlENKTRZg340020DxFHtrjufFuyxcsE_I
 zNmsI2AXRiWF3mQHly1EOmS7K4bGvMSTifjum1W9tTGAioQQfsyuxaOydWsB
 Y61TXOsG0X_bwLJgJadnvcvkCpLe5uRCe_MUpbqXx.5itQjIEeIZQm6WcjRi
 MTXO7NA1eOBp2ZIUiZr9zKa4vuCy8D5Co8Zidkqh2FzVVPvvv63txTutZxff
 7QB_NF0.wnchbRts7zeMie5HwdzYr9Xlax4QwQJMlb3tNzD3UoRbUb5Kl2uh
 PB1GeP93Da5L_sGPxsrFsE9g46Kowp8f8OzmiOCfBYV9B2wLhjPfiOhn1faU
 Ew34I1fAWRH.R0Hd5YkLm9uxtG7g52D16qBEOxC5vTpu619e1xfPMfm9wWf_
 ckuDJR4XGIXePkr6Sh4UzpVxq4xBsU1dXDjqGOZQ-
Received: from [123.237.218.85] by web193203.mail.sg3.yahoo.com via HTTP; Sat, 05 May 2012 12:10:27 SGT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net> <4FA2D45D.3050407@computer.org> <4FA37D1F.1070203@pidster.com>
Message-ID: <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com>
Date: Sat, 5 May 2012 12:10:27 +0800 (SGT)
From: ravi kant chaturvedi <rk_choubey@yahoo.com>
Reply-To: ravi kant chaturvedi <rk_choubey@yahoo.com>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FA37D1F.1070203@pidster.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1733456068-117043372-1336191027=:31696"

--1733456068-117043372-1336191027=:31696
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

i got the proper solution for my problem, so i do not require more mails fr=
om this list.=0A=0Aplease stop the mail, because this is spoiling my mail b=
ox.=0A=0AThanks and Regards=0A----------------------------=0ARavi Kant Chat=
urvedi=0A=0A=0A________________________________=0A From: Pid <pid@pidster.c=
om>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Friday, 4 Ma=
y 2012 12:24 PM=0ASubject: Re: Tomcat 7 - No modifications are allowed to a=
 locked ParameterMap=0A =0AOn 03/05/2012 19:54, David Wall wrote:=0A> Chris=
,=0A> =0A> Thanks for the 'findbugs' tip.=A0 I'm running it now in Eclipse =
and it has=0A> indeed found real bugs and some good stylistic ideas as well=
.=0A=0AIf you like that, try Sonar.=0A=0Ahttp://www.sonarsource.org/=0A=0A=
=0Ap=0A=0A=0A-- =0A=0A[key:62590808]
--1733456068-117043372-1336191027=:31696--

From users-return-234027-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May  5 09:41:59 2012
Return-Path: <users-return-234027-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87A0AC1EB
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  5 May 2012 09:41:59 +0000 (UTC)
Received: (qmail 2578 invoked by uid 500); 5 May 2012 09:41:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2404 invoked by uid 500); 5 May 2012 09:41:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2378 invoked by uid 99); 5 May 2012 09:41:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 May 2012 09:41:52 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.183.246] (HELO nm12-vm0.bullet.mail.ukl.yahoo.com) (217.146.183.246)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 May 2012 09:41:43 +0000
Received: from [217.146.183.208] by nm12.bullet.mail.ukl.yahoo.com with NNFMP; 05 May 2012 09:41:21 -0000
Received: from [77.238.184.76] by tm1.bullet.mail.ukl.yahoo.com with NNFMP; 05 May 2012 09:41:21 -0000
Received: from [127.0.0.1] by smtp145.mail.ukl.yahoo.com with NNFMP; 05 May 2012 09:41:21 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336210881; bh=0UTQFQUQlVQmb+D4+ZCK95qTEQZUkJ00Vv4vYAuGRZM=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=PCGf9tEQ1EJ99BXJSRsep1x9gO6sSZ/x/2vFL/cDx+2xW+zpa1qc6Z8OFvfq4l0eDaOHCpVI6Crje6ZMkGSdu9RtsHvC9ImdvMFIdVbQsE/AJ/yCfFPBx6Y0/oEJYJUsL816+kDiXbLYDibFZllJbWFJzTVfIbpT0mjRxqpq/gA=
X-Yahoo-Newman-Id: 507580.72211.bm@smtp145.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: wEqbij8VM1lNSS.2Hb1FD2kqpz.c3b64l8iXixtfux0HD75
 x8K3mZzf47jgSvcSz1yikea6AWTyhiWIo45h59yufhZElBMwWQaNwWGnyf0b
 DUfp3.62jZ6XGZH63HS2W3EGBGEgZnWx2XHRxJLWLwn8lxVWkxJwV1_Soe9S
 V028CZyqHTqqQR8KOK4GLEmo55vxDuvuTIGPFAJZHYikTLPHFPyq258VGm7M
 KjwGd6G7v.EhnLgQ_hCpudd_tFY_AwYI.2uwfdhIg0lbfJ.QQCnl1sAKOWEq
 OZb6QzvSWvzVCJQzkH4Avq1zXcdyGBDMd22C1rHkreshBDDjNzICGOznPCgE
 nSD5yNdNpH3KlBL5yIIfEgcK7yOVdfVxsqYhjn0J8SXWTUGLUZOhLsjQrvQv
 J5VR_xHkf
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.202.154 with plain)
        by smtp145.mail.ukl.yahoo.com with SMTP; 05 May 2012 09:41:21 +0000 GMT
Message-ID: <4FA4F5BF.9080107@yahoo.es>
Date: Sat, 05 May 2012 11:41:19 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net> <4FA2BA43.10102@yahoo.es> <4FA2C778.8010008@christopherschultz.net> <4FA2CDB0.1050908@yahoo.es> <4FA2E4E4.6050101@christopherschultz.net>
In-Reply-To: <4FA2E4E4.6050101@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120504-1, 04/05/2012), Outbound message
X-Antivirus-Status: Clean


>> Yes, I have pinpointed several queries that took quite long and
>> specially subqueries. I forwarded this info to the developer but
>> she said it was alright. More than a second to run a query seems to
>> be a lot to me.
> That depends on what the query does. If it checks permissions to
> login, that's insane and you should get a new programmer. If it's a
> reporting query that gathers lots of data then 1 second might not be
> quite so far-fetched.

I have checked directly the slow query log to pinpoint the real queries. 
I found many subqueries, which I believe is not a good practice, am I 
right? Many queries take around 2 seconds and I found two queries that 
took 16 seconds and 64 seconds to run (with many subqueries nested).

Is there any way I can log if any query is causing any trouble in the 
Tomcat resources?

>
>> The problem is that since the database E/R is not documented, it's
>> going to take a while to improve the performance of the queries.
> Look into SchemaSpy.
Nice
>
>> The developer is quitting so I hope a new developer is more
>> cooperative and we can work out these things.
> So you're saying that you're not going to get a lot of good
> information out of him/her?
Not much.

>
>> In the meantime I will check what I can do. I have also downloaded
>> mysqltuner script and mysqlfragfinder a long time ago and follow
>> the output of these tuning scripts.
> Just rememeber to vet all the recommendations. Don't just read
> "increase your query cache size" as a recommendation and blindly apply
> that rule. Many times the query cache is less useful that you might think.

Ok, thanks for the hint.

Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234028-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May  5 11:26:02 2012
Return-Path: <users-return-234028-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 198CBC9BD
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  5 May 2012 11:26:02 +0000 (UTC)
Received: (qmail 87208 invoked by uid 500); 5 May 2012 11:25:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87153 invoked by uid 500); 5 May 2012 11:25:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87143 invoked by uid 99); 5 May 2012 11:25:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 May 2012 11:25:58 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_HELO_NON_FQDN_1,HELO_NO_DOMAIN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anvil@jumperz.net designates 121.1.251.31 as permitted sender)
Received: from [121.1.251.31] (HELO bitforest) (121.1.251.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 May 2012 11:25:52 +0000
Received: (qmail 3366 invoked from network); 5 May 2012 21:23:06 +0900
Received: from unknown (HELO ?192.168.3.100?) (192.168.3.100)
  by w251031.ppp.asahi-net.or.jp with SMTP; 5 May 2012 21:23:06 +0900
Message-ID: <4FA50E46.4050203@jumperz.net>
Date: Sat, 05 May 2012 20:25:58 +0900
From: Kanatoko <anvil@jumperz.net>
User-Agent: Thunderbird 2.0.0.24 (X11/20100623)
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: maxParameterCount not applied to multipart requests
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit

Hello list,

It seems that the Connector attribute "maxParameterCount" is not applied
to multipart requests.
(And, the default value is -1, maybe it should be 10000.)

Tested version: Tomcat 7 trunk

Thanks.

-- 
Kanatoko
http://www.jumperz.net/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234029-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May  5 14:10:42 2012
Return-Path: <users-return-234029-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D192C0B1
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  5 May 2012 14:10:42 +0000 (UTC)
Received: (qmail 67332 invoked by uid 500); 5 May 2012 14:10:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67074 invoked by uid 500); 5 May 2012 14:10:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67062 invoked by uid 99); 5 May 2012 14:10:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 May 2012 14:10:38 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mariadin@hotmail.fr designates 65.55.34.81 as permitted sender)
Received: from [65.55.34.81] (HELO col0-omc2-s7.col0.hotmail.com) (65.55.34.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 May 2012 14:10:28 +0000
Received: from COL113-W5 ([65.55.34.71]) by col0-omc2-s7.col0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sat, 5 May 2012 07:10:08 -0700
Message-ID: <COL113-W531810AFB2B57D447CAFDAF2D0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_906934a1-d9bd-43c7-9620-bfe4e3803142_"
X-Originating-IP: [41.229.104.2]
From: Maria Din <mariadin@hotmail.fr>
To: <users@tomcat.apache.org>
Subject: Problem Handler
Date: Sat, 5 May 2012 15:10:07 +0100
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 05 May 2012 14:10:08.0068 (UTC) FILETIME=[C6CBC040:01CD2AC8]
X-Virus-Checked: Checked by ClamAV on apache.org

--_906934a1-d9bd-43c7-9620-bfe4e3803142_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hello=2CI am a master student.I use "juddi "  on the server side and other =
tool on the client side. I could do the publication of a service.But=2C I c=
ouldn't do the discovery of a service! I have always a problem in "uddiProx=
y".In juddi  and especially in juddi.log=2C I get this error when I send th=
e semantic query: ERROR org.juddi.handler.HandlerMaker - can't find handler=
 for element type "capability_search".
By accessing juddi.jarIn the class HandlerMaker=2C I understand that this p=
roblem exists because handler =3D null.But=2C I am not understand the probl=
em!!!!I want to know if there is a configuration for "HandlerMaker" with to=
mcat or juddi.Please=2C have you any idea about my problem? I am really blo=
cked for a long period and I am unable to finish my master's project.Thank =
you for answering me.Best  regards=2C--Maria 		 	   		  =

--_906934a1-d9bd-43c7-9620-bfe4e3803142_--

From users-return-234030-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 08:41:45 2012
Return-Path: <users-return-234030-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9236D90F5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 08:41:45 +0000 (UTC)
Received: (qmail 81352 invoked by uid 500); 6 May 2012 08:41:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81015 invoked by uid 500); 6 May 2012 08:41:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80984 invoked by uid 99); 6 May 2012 08:41:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:41:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.210.44 as permitted sender)
Received: from [209.85.210.44] (HELO mail-pz0-f44.google.com) (209.85.210.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:41:33 +0000
Received: by dacx6 with SMTP id x6so5982878dac.3
        for <users@tomcat.apache.org>; Sun, 06 May 2012 01:41:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=PYsDI4lXceBr8O+yjy/cladlVrwsFueCD0hzEP5BkUQ=;
        b=GH1uv3osOJ5f9bhdLos0Bo8cDUOn6eNJHwBtDXJhtLlqKwlKEEre6OKQvuzshkExrh
         6cLsqV105bBI4Xm06ZFBYXdwYintYiA4cwgMEbFd8upmExWB2sv/tl+9tMzcL5nj9BZg
         B3y3+dLyZA9JG/+SJC+M+RPsA3W+c6tKkVlbI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=PYsDI4lXceBr8O+yjy/cladlVrwsFueCD0hzEP5BkUQ=;
        b=BtwzYYhR1e+QMt2cy/sS1zze/m93hdZFgGEDALS6/foFRzecZpa+wUYLOB8ApIg1RC
         tU9hQfd7dZAwYjsjLVBuhiOEZkaJLSBPFIB9k7AXyQZ3bCYZnejLJho2wCyQLUpYvrnV
         +cs9a0kxphQunX7Q+am7t9NTaq4sIgj/9IVU0m0hJR6TodN20e4lV6CdQyybHMp95z3D
         kh7J4NGUdI3wxQlQz8+MSfoAKEMZYqOsRyJ+ipIXnuaxtf/q44r90VDG33LW3GyzIvod
         cyBj7WKFZuh2Ry7+scbLokceMXz9ytKSymx/xUI3C3R+hlqg3mwXAGG3NUCqbQUaYYCH
         KjiA==
Received: by 10.68.203.225 with SMTP id kt1mr15747578pbc.133.1336293671809;
 Sun, 06 May 2012 01:41:11 -0700 (PDT)
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
 <CABzHfVkur-oEaoDSPcid9i-Ohoxa_xfOQACR-+3wKjUT0+009A@mail.gmail.com>
 <CAJF7AOouNkNSMNAT+JoSf4dL_262AM6SOEZLSjXxw_HHX_CKYA@mail.gmail.com>
 <4FA2B21C.6080308@christopherschultz.net> <CAJF7AOobbcYEP=KdgtX3NaU=rPfPOvpQpX4rL_U5Eas+JcVLow@mail.gmail.com>
 <4FA2C40B.6030701@ice-sa.com> <CAJF7AOrNqV21YOps7x9TZKmb2qem0uXkcpsVSTxa3=3OSJQ-gA@mail.gmail.com>
 <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
 <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
 <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
 <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
 <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
 <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
 <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
 <4FA318DF.6090203@christopherschultz.net> <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
 <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Sun, 6 May 2012 09:40:18 +0100
Message-ID: <-226309437562547185@unknownmsgid>
Subject: Re: Adding the manager app to a Standalone tomcat install
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQn1js2jQ1Yo7gUiMkVyRt1YgJmY4fU8428xSDV2tIRqv9orIdLkAFULcEnNA8ZPTouHSg0V
X-Virus-Checked: Checked by ClamAV on apache.org

On 4 May 2012, at 15:18, Todd Seidenberg <todd.seidenberg@gmail.com> wrote:

> On Fri, May 4, 2012 at 7:02 AM, Todd Seidenberg
> <todd.seidenberg@gmail.com>wrote:
>
>> On May 3, 2012 5:47 PM, "Christopher Schultz" <
>> chris@christopherschultz.net> wrote:
>>
>>> -----BEGIN PGP SIGNED MESSAGE-----
>>> Hash: SHA1
>>>
>>> Todd,
>>>
>>> On 5/3/12 5:22 PM, Todd Seidenberg wrote:
>>>> On Thu, May 3, 2012 at 3:03 PM, Caldarale, Charles R <
>>>> Chuck.Caldarale@unisys.com> wrote:
>>>>
>>>>>> From: Todd Seidenberg [mailto:todd.seidenberg@gmail.com]
>>>>>> Subject: Re: Adding the manager app to a Standalone tomcat
>>>>>> install
>>>>>
>>>>>> I have removed all of the offending stuff from the server.xml
>>>>>> but the manager/html still gives me a 404.
>>>>>
>>>>> Just to be sure, exactly what URL are you using to try to access
>>>>> the manager?
>>>>>
>>>>> - Chuck
>>>>>
>>>>>
>>>> http://hostname:8090/manager/html
>>>
>>> Grasping at straws: is there an old instance of Tomcat still running
>>> and bound to your port? If you enable the AccessLogValve, can you
>>> confirm that the request is actually being handled by the instance you
>>> are launching?
>>>
>>>
>> I've never enabled AccessLogValve. Can you give me a quick pointer for
>> turning it on so we can continue debugging? It sounds like something that I
>> should keep in my arsenal of tools.
>>
>>
>>
>>> This is truly strange.
>>>
>>>
>> Agreed. Thanks for taking a look at it.
>>
>>
>>
> By the way, I should also say that I have now COMPLETELY DISABLED the
> confluence context in my server.xml file.
>
>
> So it now looks like this:
>
> <Server port="8000" shutdown="SHUTDOWN" >
>    <Service name="Tomcat-Standalone">
>        <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
> port="8090" minProcessors="5"
>                   maxProcessors="75"
>                   enableLookups="false" redirectPort="8443"
> acceptCount="10" connectionTimeout="20000"
>                   useURIValidationHack="false" URIEncoding="UTF-8"
>        />

I think it's already been mentioned, but the above Connector
definition should be invalid for Tomcat 6.

Are you sure there's no extra information in the Tomcat log files that
might be useful?


p



>        <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
>        <Engine name="Standalone" defaultHost="localhost">
>            <Host name="localhost" appBase="webapps" unpackWARs="true"
> autoDeploy="true">
>           </Host>
>        </Engine>
>  </Service>
> </Server>
>
>
> This is the entirety of it. And of course, the manager still doesn't show
> up.
>
>
> just to reiterate.
>
> - I have the server.xml listed above.
> - I have grabbed the webapps/manager directory from a full fresh
> tomcat-6.0.32 install
> - I can start this standalone tomcat, and the
> conf/Standalone/localhost/manager.xml is generated.
> - I do not have an httpd running anywhere.
> - I STILL get a 404 error when I try to go to
> http://hostname:8090/manager/html.
>
>
> Anything else I can try?
>
>
> - Thanks,
>
> Todd

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234031-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 08:43:18 2012
Return-Path: <users-return-234031-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5E5790F7
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 08:43:18 +0000 (UTC)
Received: (qmail 86439 invoked by uid 500); 6 May 2012 08:43:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86226 invoked by uid 500); 6 May 2012 08:43:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86201 invoked by uid 99); 6 May 2012 08:43:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:43:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.210.44 as permitted sender)
Received: from [209.85.210.44] (HELO mail-pz0-f44.google.com) (209.85.210.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:43:10 +0000
Received: by dacx6 with SMTP id x6so5983554dac.3
        for <users@tomcat.apache.org>; Sun, 06 May 2012 01:42:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=QEU6jYsbHOIbvGyS+Z0ozmV5T+THscWUz784RZnAAmA=;
        b=N4jwa94xm4QBJuslgfl4GCLzexSsnQCjoDztH1xE4HnPG9jR+m+D0rWUz4v9v5UbzF
         zrQJyf2PFHX/06uDRG12mD7ugTG8BjkRT7NWPOQ0f0wuoHiR6Duaep+gmhsuhytOBZm4
         B5qQfE43zdYg/osOQmK6Cm7CH69sS3UHGtQT4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=QEU6jYsbHOIbvGyS+Z0ozmV5T+THscWUz784RZnAAmA=;
        b=SCnfyrXZ1KHKg0S9ga8zPn7bB5BrYAhViqAcfDzEaIEl+AdzdAGSlBE1hPoUWkxunc
         ZeKMN4+By9PqmkFeB9MrVPxo8yUUSomvLw0uHLUQyMJUdcqbAqSCwxBx0E/pS+Dtbwrv
         qBCtOssUQQTswnv3UCJQTzNKVLN3kjUrnt5OGJGNzPNaNKRyHa/3KmuEyJCdgmZx3NiL
         BpM+uRGRQ4pZDHCC3gTG1BdHN+YRYDlsRB14nTioKbh3hjDuZiXaAEL9XimPMTIa4/ow
         7awSrqZAvITVljydcig5rjUrgbn1rbnutuqElWaJtGysducuwWAzea+i1UxUNRVdh+ij
         nW+w==
Received: by 10.68.136.73 with SMTP id py9mr9558835pbb.49.1336293769870; Sun,
 06 May 2012 01:42:49 -0700 (PDT)
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com>
 <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net>
 <4FA2D45D.3050407@computer.org> <4FA37D1F.1070203@pidster.com> <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com>
Mime-Version: 1.0 (1.0)
Date: Sun, 6 May 2012 09:41:55 +0100
Message-ID: <99396116420145857@unknownmsgid>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQksjHsXKasKYCOoIpmDbvfJYsVhq1whWFv+B5oVJK1iqs9wA8EGIf87D7dSClqU932Gvt8K
X-Virus-Checked: Checked by ClamAV on apache.org

On 5 May 2012, at 05:11, ravi kant chaturvedi <rk_choubey@yahoo.com> wrote:

> i got the proper solution for my problem, so i do not require more mails from this list.
>
> please stop the mail, because this is spoiling my mail box.

If you don't want any more mail from this list, unsubscribe from the
mailing list. It's not like we're all personally including you on
every email we send.


p


>
> Thanks and Regards
> ----------------------------
> Ravi Kant Chaturvedi
>
>
> ________________________________
> From: Pid <pid@pidster.com>
> To: Tomcat Users List <users@tomcat.apache.org>
> Sent: Friday, 4 May 2012 12:24 PM
> Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
>
> On 03/05/2012 19:54, David Wall wrote:
>> Chris,
>>
>> Thanks for the 'findbugs' tip.  I'm running it now in Eclipse and it has
>> indeed found real bugs and some good stylistic ideas as well.
>
> If you like that, try Sonar.
>
> http://www.sonarsource.org/
>
>
> p
>
>
> --
>
> [key:62590808]

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234032-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 08:47:16 2012
Return-Path: <users-return-234032-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EE5990FD
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 08:47:16 +0000 (UTC)
Received: (qmail 94731 invoked by uid 500); 6 May 2012 08:47:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94671 invoked by uid 500); 6 May 2012 08:47:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94651 invoked by uid 99); 6 May 2012 08:47:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:47:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 08:47:05 +0000
Received: by pbbro12 with SMTP id ro12so5853647pbb.18
        for <users@tomcat.apache.org>; Sun, 06 May 2012 01:46:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=XStl3k3tAuCDfgEuQun4x6J2yJwFVRQ6yPgKWEw4kgc=;
        b=oIX2ynJNEnwOCTu2o/8K9azxvUJTeP0J9+NB/Q5MKc2Zp1KWWNAvDp1CPWfujp6ogj
         +NWdEIldilt+WYRMzhpvEnYh+ufwP+aqT8UDB1qvsacwztmqXe2otMCCem6JPKzunWhz
         4E535uTpnGW5djEaGr+57/c5ReSNbAa3cKgVo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=XStl3k3tAuCDfgEuQun4x6J2yJwFVRQ6yPgKWEw4kgc=;
        b=P8YOyDUoKgPIR1EcHgFberI+02DycANThw2Trn/boVWEaXi6M6K+H9lp4tPHIRgeBX
         NrpyHYmwuvEv5MR268+aipeZGZvoLX7dFLjYkxb8qbrrDdl0ZSEwkrW5G4Im8gviYAsh
         2s1W7x7zoO25oytMizug8Xy4SScIXqbyfXhu9d3U3MbumMdZ90FZAUxaKkQ182ZW6rYO
         dJOtn4hxn0hX07U0xH83Q9+1aG/S6sGXKCaPIhXFhc3rWt4pWUToP+jtAe0UKKb6w2Ai
         YSOsUpM4dqHgnx71YS9Xp1a0NC5joIH6V16+l3aTbcxVyv3fTFE4LVHCUgaV3XfjIZ+Y
         b/KQ==
Received: by 10.68.240.135 with SMTP id wa7mr5485009pbc.7.1336294004521; Sun,
 06 May 2012 01:46:44 -0700 (PDT)
References: <COL113-W531810AFB2B57D447CAFDAF2D0@phx.gbl>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <COL113-W531810AFB2B57D447CAFDAF2D0@phx.gbl>
Mime-Version: 1.0 (1.0)
Date: Sun, 6 May 2012 09:45:31 +0100
Message-ID: <3481932484983826263@unknownmsgid>
Subject: Re: Problem Handler
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQn+B5z1W5aRMMTWY0S7NbooRqrG+Y/qoz/hhLOX5u99KHbLh8xNUGHPHh6hSx80krVlclOL

On 5 May 2012, at 15:10, Maria Din <mariadin@hotmail.fr> wrote:

>
> Hello,I am a master student.I use "juddi "  on the server side and other =
tool on the client side. I could do the publication of a service.But, I cou=
ldn't do the discovery of a service! I have always a problem in "uddiProxy"=
.In juddi  and especially in juddi.log, I get this error when I send the se=
mantic query: ERROR org.juddi.handler.HandlerMaker - can't find handler for=
 element type "capability_search".
> By accessing juddi.jarIn the class HandlerMaker, I understand that this p=
roblem exists because handler =3D null.But, I am not understand the problem=
!!!!I want to know if there is a configuration for "HandlerMaker" with tomc=
at or juddi.Please, have you any idea about my problem? I am really blocked=
 for a long period and I am unable to finish my master's project.Thank you =
for answering me.Best  regards,--Maria


Is this a Tomcat problem?

In order for us to help you, perhaps you could be clearer about what
the problem is.  Please read this page [1] and then using it's advice,
try to explain again.

1. http://www.catb.org/~esr/faqs/smart-questions.html


p

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234033-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 09:01:41 2012
Return-Path: <users-return-234033-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D9E3913C
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 09:01:41 +0000 (UTC)
Received: (qmail 19128 invoked by uid 500); 6 May 2012 09:01:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18839 invoked by uid 500); 6 May 2012 09:01:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18812 invoked by uid 99); 6 May 2012 09:01:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 09:01:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mariadin@hotmail.fr designates 65.55.34.79 as permitted sender)
Received: from [65.55.34.79] (HELO col0-omc2-s5.col0.hotmail.com) (65.55.34.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 09:01:30 +0000
Received: from COL113-W39 ([65.55.34.73]) by col0-omc2-s5.col0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 6 May 2012 02:01:10 -0700
Message-ID: <COL113-W39EDFB33200D9933D61869AF120@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_2fe490fa-da06-4dbd-86cc-83852f5a1e91_"
X-Originating-IP: [41.224.184.156]
From: Maria Din <mariadin@hotmail.fr>
To: <users@tomcat.apache.org>
Subject: RE: Problem Handler
Date: Sun, 6 May 2012 10:01:09 +0100
Importance: Normal
In-Reply-To: <3481932484983826263@unknownmsgid>
References:
 <COL113-W531810AFB2B57D447CAFDAF2D0@phx.gbl>,<3481932484983826263@unknownmsgid>
MIME-Version: 1.0
X-OriginalArrivalTime: 06 May 2012 09:01:10.0042 (UTC) FILETIME=[C7AF37A0:01CD2B66]
X-Virus-Checked: Checked by ClamAV on apache.org

--_2fe490fa-da06-4dbd-86cc-83852f5a1e91_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hello=2CI use "juddi " on the server side under "Tomcat/webapps" and other =
tool on the client side. When I would like to do the discovery of a service=
. In juddi and especially in juddi.log=2C I get this error when I send the =
semantic query: ERROR org.juddi.handler.HandlerMaker - can't find handler f=
or element type "capability_search".
By accessing "juddi.jar" In the class HandlerMaker=2C I understand that thi=
s problem exists because handler =3D null.I want to know if there is a conf=
iguration for "HandlerMaker" with tomcat or juddi.Please=2C have you any id=
ea about my problem? Thank you for answering me.--Best regards=2CMaria



> From: pid@pidster.com
> Date: Sun=2C 6 May 2012 09:45:31 +0100
> Subject: Re: Problem Handler
> To: users@tomcat.apache.org
>=20
> On 5 May 2012=2C at 15:10=2C Maria Din <mariadin@hotmail.fr> wrote:
>=20
> >
> > Hello=2CI am a master student.I use "juddi "  on the server side and ot=
her tool on the client side. I could do the publication of a service.But=2C=
 I couldn't do the discovery of a service! I have always a problem in "uddi=
Proxy".In juddi  and especially in juddi.log=2C I get this error when I sen=
d the semantic query: ERROR org.juddi.handler.HandlerMaker - can't find han=
dler for element type "capability_search".
> > By accessing juddi.jarIn the class HandlerMaker=2C I understand that th=
is problem exists because handler =3D null.But=2C I am not understand the p=
roblem!!!!I want to know if there is a configuration for "HandlerMaker" wit=
h tomcat or juddi.Please=2C have you any idea about my problem? I am really=
 blocked for a long period and I am unable to finish my master's project.Th=
ank you for answering me.Best  regards=2C--Maria
>=20
>=20
> Is this a Tomcat problem?
>=20
> In order for us to help you=2C perhaps you could be clearer about what
> the problem is.  Please read this page [1] and then using it's advice=2C
> try to explain again.
>=20
> 1. http://www.catb.org/~esr/faqs/smart-questions.html
>=20
>=20
> p
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_2fe490fa-da06-4dbd-86cc-83852f5a1e91_--

From users-return-234034-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 09:05:41 2012
Return-Path: <users-return-234034-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9FC349142
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 09:05:41 +0000 (UTC)
Received: (qmail 26736 invoked by uid 500); 6 May 2012 09:05:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26665 invoked by uid 500); 6 May 2012 09:05:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26651 invoked by uid 99); 6 May 2012 09:05:37 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 09:05:37 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 09:05:35 +0000
Message-ID: <4FA63ED4.8000109@apache.org>
Date: Sun, 06 May 2012 10:05:24 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net>
In-Reply-To: <4FA50E46.4050203@jumperz.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit

On 05/05/2012 12:25, Kanatoko wrote:
> Hello list,
> 
> It seems that the Connector attribute "maxParameterCount" is not applied
> to multipart requests.

Correct. This is by design.

> (And, the default value is -1, maybe it should be 10000.)

Wrong. The default is 10000, as per the documentation.

> Tested version: Tomcat 7 trunk

Clearly not. If you had tested this you would have found that the limit
was indeed 10000.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234035-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 19:54:55 2012
Return-Path: <users-return-234035-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89641CADF
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 19:54:55 +0000 (UTC)
Received: (qmail 9103 invoked by uid 500); 6 May 2012 19:54:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8903 invoked by uid 500); 6 May 2012 19:54:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8890 invoked by uid 99); 6 May 2012 19:54:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 19:54:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 19:54:44 +0000
Received: from [192.168.245.129] (p549E1C3D.dip0.t-ipconnect.de [84.158.28.61])
	by tor.combios.es (Postfix) with ESMTPA id 338E9DA0754
	for <users@tomcat.apache.org>; Sun,  6 May 2012 21:54:20 +0200 (CEST)
Message-ID: <4FA6D6E9.6090600@ice-sa.com>
Date: Sun, 06 May 2012 21:54:17 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net> <4FA2D45D.3050407@computer.org> <4FA37D1F.1070203@pidster.com> <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com> <99396116420145857@unknownmsgid>
In-Reply-To: <99396116420145857@unknownmsgid>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Pid * wrote:
> On 5 May 2012, at 05:11, ravi kant chaturvedi <rk_choubey@yahoo.com> wrote:
> 
>> i got the proper solution for my problem, so i do not require more mails from this list.
>>
>> please stop the mail, because this is spoiling my mail box.
> 
> If you don't want any more mail from this list, unsubscribe from the
> mailing list. It's not like we're all personally including you on
> every email we send.
> 
.. and all our apologies for spoiling your mailbox.  Believe us, it was entirely 
unintentional. We can only hope that you forgive us.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234036-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May  6 20:02:10 2012
Return-Path: <users-return-234036-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFBEECB08
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  6 May 2012 20:02:10 +0000 (UTC)
Received: (qmail 22658 invoked by uid 500); 6 May 2012 20:02:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22396 invoked by uid 500); 6 May 2012 20:02:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22386 invoked by uid 99); 6 May 2012 20:02:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 20:02:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 May 2012 20:01:57 +0000
Received: from [192.168.245.129] (p549E1C3D.dip0.t-ipconnect.de [84.158.28.61])
	by tor.combios.es (Postfix) with ESMTPA id 76689DA0754
	for <users@tomcat.apache.org>; Sun,  6 May 2012 22:01:35 +0200 (CEST)
Message-ID: <4FA6D89F.3080601@ice-sa.com>
Date: Sun, 06 May 2012 22:01:35 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem Handler
References: <COL113-W531810AFB2B57D447CAFDAF2D0@phx.gbl>,<3481932484983826263@unknownmsgid> <COL113-W39EDFB33200D9933D61869AF120@phx.gbl>
In-Reply-To: <COL113-W39EDFB33200D9933D61869AF120@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Maria Din wrote:
> Hello,I use "juddi " on the server side under "Tomcat/webapps" and other tool on the client side. When I would like to do the discovery of a service. In juddi and especially in juddi.log, I get this error when I send the semantic query: ERROR org.juddi.handler.HandlerMaker - can't find handler for element type "capability_search".
> By accessing "juddi.jar" In the class HandlerMaker, I understand that this problem exists because handler = null.I want to know if there is a configuration for "HandlerMaker" with tomcat or juddi.Please, have you any idea about my problem? Thank you for answering me.--Best regards,Maria
> 
>

I may be wrong, but this sounds like a problem in/with the "juddi" webapp, rather than a 
problem with Tomcat per se.

You could try the juddi mailing list maybe ? http://juddi.apache.org/mail-lists.html


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234037-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 00:28:48 2012
Return-Path: <users-return-234037-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5C979C95
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 00:28:48 +0000 (UTC)
Received: (qmail 57153 invoked by uid 500); 7 May 2012 00:28:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57097 invoked by uid 500); 7 May 2012 00:28:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57088 invoked by uid 99); 7 May 2012 00:28:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 00:28:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of treespace@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 00:28:37 +0000
Received: by yenm4 with SMTP id m4so1203193yen.18
        for <users@tomcat.apache.org>; Sun, 06 May 2012 17:28:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Qd4K2GhS434sfX3GkMsoPfRqveCaOvUarq2oPh28lQs=;
        b=cLWX0kWI3T/jFh8H5ZCFDo/xwas4ZdZFQt8BIUONA1/fcIu/ZeHYqSnT3bkmBqKWHf
         mYikV822guMT21bdubytE9wGno4UH76Js8Vofq7ALkOQL9cB144JKR8DZMX2Z7Yw1voK
         hcIeBUAbAELHuIIEArnx8Nw0/7gIAVCLCHkALV0ZpuFYLnOO4n8DuRFMnMpSkqSIzZ/q
         XPas29b9tRmglX2Wo7focdz2W5dFroWRYANZ/gq7DSXLcuE475fdZQ/pHiDzRVgSZ8Uo
         Bttgpx3udWinxJzQofvEpAjNULEztlxd3PXaQqx0702/95nHn5dUEPi90PNiEJAss2Yw
         BE8w==
MIME-Version: 1.0
Received: by 10.43.131.194 with SMTP id hr2mr7267527icc.34.1336350496730; Sun,
 06 May 2012 17:28:16 -0700 (PDT)
Received: by 10.64.12.141 with HTTP; Sun, 6 May 2012 17:28:16 -0700 (PDT)
Date: Sun, 6 May 2012 17:28:16 -0700
Message-ID: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com>
Subject: JAX-RS on Tomcat 7 and Java 1.7
From: Rod Macpherson <treespace@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf307f35faa72f0404bf67585f

--20cf307f35faa72f0404bf67585f
Content-Type: text/plain; charset=ISO-8859-1

I was under the impression Tomcat 7 supported JAX-RS out of the box.  I
have one jsp page (that works) and one JAX-RS annotated class: that
generates a 404 error when trying to access it.

@Path("foo") public class Foo
{
@GET String getBar()
{
return "bar";
}
}

Tried various paths, slash, no slash, no luck.  I tried adding an
Application and overriding getClasses... no luck.

@ApplicationPath("/*") public class MyApp extends Application

Is there a simple working example of JAX-RS under Tomcat 7?

(P.S. not using and do not want to use either RESTEasy or Wink or Jersey,
since JAX-RS should be built right in now).

--20cf307f35faa72f0404bf67585f--

From users-return-234038-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 07:06:18 2012
Return-Path: <users-return-234038-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C19BEC4EC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 07:06:18 +0000 (UTC)
Received: (qmail 55253 invoked by uid 500); 7 May 2012 07:06:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55031 invoked by uid 500); 7 May 2012 07:06:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54998 invoked by uid 99); 7 May 2012 07:06:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 07:06:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.80] (HELO smtpout.wanadoo.co.uk) (80.12.242.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 07:05:59 +0000
Received: from mail.homeinbox.net ([2.24.218.92])
	by mwinf5d68 with ME
	id 6v5d1j00T20C1M603v5dk6; Mon, 07 May 2012 09:05:38 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 69943B22002
	for <users@tomcat.apache.org>; Mon,  7 May 2012 08:05:37 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id C4L5XAoDVyiy for <users@tomcat.apache.org>;
	Mon,  7 May 2012 08:05:19 +0100 (BST)
Received: from [192.168.23.205] (unknown [2.24.218.92])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 709D1B22001
	for <users@tomcat.apache.org>; Mon,  7 May 2012 08:05:19 +0100 (BST)
References: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com>
User-Agent: K-9 Mail for Android
In-Reply-To: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: JAX-RS on Tomcat 7 and Java 1.7
From: markt@apache.org
Date: Mon, 07 May 2012 08:04:51 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com>

Rod Macpherson <treespace@gmail.com> wrote:

>I was under the impression Tomcat 7 supported JAX-RS out of the box.

What gave you that impression?

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234039-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 07:13:33 2012
Return-Path: <users-return-234039-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3565C503
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 07:13:33 +0000 (UTC)
Received: (qmail 74183 invoked by uid 500); 7 May 2012 07:13:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74096 invoked by uid 500); 7 May 2012 07:13:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74085 invoked by uid 99); 7 May 2012 07:13:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 07:13:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.85.149.56] (HELO gate.sluno.cz) (193.85.149.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 07:13:22 +0000
Received: from gate.sluno.cz (localhost [127.0.0.1])
	by gate.sluno.cz (Postfix) with ESMTP id E718EEEBD65
	for <users@tomcat.apache.org>; Mon,  7 May 2012 09:13:01 +0200 (CEST)
X-Virus-Scanner: This message was checked by NOD32 Antivirus system
	for Linux/BSD Server. For more information on NOD32 Antivirus System,
	please, visit our website: http://www.eset.com/.
Received: from mail.sluno.cz (calendar [192.168.231.194])
	by gate.sluno.cz (Postfix) with ESMTP id E486EEEA4AD
	for <users@tomcat.apache.org>; Mon,  7 May 2012 09:13:01 +0200 (CEST)
Subject: RE: JAX-RS on Tomcat 7 and Java 1.7
Date: Mon, 7 May 2012 09:13:00 +0200
Message-ID: <413E01AC49F08A41890E364B1F3431F205B644C3@calendar.u-sluno.cz>
In-Reply-To: <04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: JAX-RS on Tomcat 7 and Java 1.7
Content-class: urn:content-classes:message
Thread-Index: Ac0sH+emrMlgbA7VSL6/UT5NrzFgyAAAIMOQ
References: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com> <04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5
From: =?utf-8?B?UGV0ciBWw6F2cmE=?= <pvavra@sluno.cz>
To: "Tomcat Users List" <users@tomcat.apache.org>

SGVsbG8sDQogIG15IHF1ZXN0aW9uIGlzIGRpZmZlcmVudDogaWYgVG9tY2F0IGlzIHN1cHBvcnRl
ZCBieSBzb21lIHRyb3VibGVzaG9vdGVyIHRlYW0gaWYgZm9yIGV4YW1wbGUgc29tZSBzZXJ2aWNl
IHNodXRkb3duLyBzdG9wIGFuZCBjdXN0b21lciBuZWVkIGhlbHA/DQpUaGFuayB5b3UNClBldHIg
Vi4NCg0KLS0tLS1Qxa92b2Ruw60genByw6F2YS0tLS0tDQpPZDogbWFya3RAYXBhY2hlLm9yZyBb
bWFpbHRvOm1hcmt0QGFwYWNoZS5vcmddIA0KT2Rlc2zDoW5vOiA3LiBrdsSbdG5hIDIwMTIgOTow
NQ0KS29tdTogVG9tY2F0IFVzZXJzIExpc3QNClDFmWVkbcSbdDogUmU6IEpBWC1SUyBvbiBUb21j
YXQgNyBhbmQgSmF2YSAxLjcNCg0KUm9kIE1hY3BoZXJzb24gPHRyZWVzcGFjZUBnbWFpbC5jb20+
IHdyb3RlOg0KDQo+SSB3YXMgdW5kZXIgdGhlIGltcHJlc3Npb24gVG9tY2F0IDcgc3VwcG9ydGVk
IEpBWC1SUyBvdXQgb2YgdGhlIGJveC4NCg0KV2hhdCBnYXZlIHlvdSB0aGF0IGltcHJlc3Npb24/
DQoNCk1hcmsNCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJz
LXVuc3Vic2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywg
ZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg0KDQpPdGVzdG92YW5vIE5P
RDMyIHBybyBMaW51eC4NCg0KICBwYXJ0MDAwLnR4dCAtIGlzIE9LDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234040-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 08:14:16 2012
Return-Path: <users-return-234040-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 836B89278
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 08:14:16 +0000 (UTC)
Received: (qmail 24817 invoked by uid 500); 7 May 2012 08:14:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24644 invoked by uid 500); 7 May 2012 08:14:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24611 invoked by uid 99); 7 May 2012 08:14:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 08:14:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 08:14:03 +0000
Received: from [192.168.245.129] (p549E8D72.dip0.t-ipconnect.de [84.158.141.114])
	by tor.combios.es (Postfix) with ESMTPA id 70739DA069B
	for <users@tomcat.apache.org>; Mon,  7 May 2012 10:13:39 +0200 (CEST)
Message-ID: <4FA78433.4080302@ice-sa.com>
Date: Mon, 07 May 2012 10:13:39 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JAX-RS on Tomcat 7 and Java 1.7
References: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com> <04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com> <413E01AC49F08A41890E364B1F3431F205B644C3@calendar.u-sluno.cz>
In-Reply-To: <413E01AC49F08A41890E364B1F3431F205B644C3@calendar.u-sluno.cz>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Petr Vvra wrote:
> Hello,
>   my question is different: if Tomcat is supported by some troubleshooter team if for example some service shutdown/ stop and customer need help?
> Thank you
> Petr V.

Petr,
please do not "hijack threads". Do not just hit "reply" on a message of the list, if your 
subject/question is different.  Create a new message (with a new subject) and send it to 
users@tomcat.apache.org

Otherwise, it makes it very difficult for other people to follow the original message and 
the responses which really relate to it.  And it makes it frustrating to search the list 
archives later on.




> 
> -----Pvodn zprva-----
> Od: markt@apache.org [mailto:markt@apache.org] 
> Odeslno: 7. kvtna 2012 9:05
> Komu: Tomcat Users List
> Pedmt: Re: JAX-RS on Tomcat 7 and Java 1.7
> 
> Rod Macpherson <treespace@gmail.com> wrote:
> 
>> I was under the impression Tomcat 7 supported JAX-RS out of the box.
> 
> What gave you that impression?
> 
> Mark
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 
> 
> Otestovano NOD32 pro Linux.
> 
>   part000.txt - is OK
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234041-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 14:03:11 2012
Return-Path: <users-return-234041-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46E57902D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 14:03:11 +0000 (UTC)
Received: (qmail 23284 invoked by uid 500); 7 May 2012 14:03:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23076 invoked by uid 500); 7 May 2012 14:03:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23066 invoked by uid 99); 7 May 2012 14:03:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:03:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.17 as permitted sender)
Received: from [206.46.173.17] (HELO vms173017pub.verizon.net) (206.46.173.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:02:59 +0000
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173017.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M3N00BPKOBRKMM0@vms173017.mailsrvcs.net> for
 users@tomcat.apache.org; Mon, 07 May 2012 09:02:20 -0500 (CDT)
Message-id: <4FA7D5E7.6040103@verizon.net>
Date: Mon, 07 May 2012 10:02:15 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.27)
 Gecko/20120216 Thunderbird/3.1.19
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Webapp reading from .war rather than from exploded files
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

I have an app running in TC 5.5.25 on Windows Server 2008, which seems 
to be reading some text that I use for creating a page footer, from the 
unexploded .war file rather than from the file on disk.

My deployment procedure is that when I start TC, I let it explode the 
.war file, then I overwrite a single .txt file with a different one, 
which replaces the default information with a file customized for the 
specific installation.  It's just a 1-line (60 byte) file.  I deploy the 
.war file as both ROOT.war, and as a specific name.  Both work as 
expected except for this specific problem.

Most of the time it work, and in fact it was working last week.  This 
week, users who connect to the ROOT one (which is set as the default 
application) are seeing the default file, while the named one are seeing 
the customized information.  I have verified several times that the same 
.txt file is copied to both locations.

Is there something that would cause a ROOT webapp to read from its .war 
file even with the exploded files present?  unpackwars is set in both 
server.xml files, and the wars are unpacked on startup.

TIA!
D

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234042-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 14:07:05 2012
Return-Path: <users-return-234042-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 439989057
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 14:07:05 +0000 (UTC)
Received: (qmail 38642 invoked by uid 500); 7 May 2012 14:07:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38606 invoked by uid 500); 7 May 2012 14:07:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38597 invoked by uid 99); 7 May 2012 14:07:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:07:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:06:54 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id 7FC29D4C62
	for <users@tomcat.apache.org>; Mon,  7 May 2012 16:06:33 +0200 (CEST)
Received: from poczta2.ceti.pl (ip-62-121-128-70.ceti.net.pl [62.121.128.70])
	by tau.ceti.pl (Postfix) with ESMTP id 0F23C202FE7;
	Mon,  7 May 2012 16:06:33 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Mon, 07 May 2012 16:06:33 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Webapp reading from .war rather than from exploded files
In-Reply-To: <4FA7D5E7.6040103@verizon.net>
References: <4FA7D5E7.6040103@verizon.net>
Message-ID: <f2ba349defffc9f2d5f373f9dca3b639@tau.ceti.pl>
X-Sender: miki@ceti.pl
User-Agent: CETI Webmail/0.7.2
X-Virus-Checked: Checked by ClamAV on apache.org

On 07.05.2012 16:02, David kerber wrote:

> Is there something that would cause a ROOT webapp to read from its
> .war file even with the exploded files present?  unpackwars is set in
> both server.xml files, and the wars are unpacked on startup.

Maybe try to disable unpacking war files? Is it the option?
AFAIR Tomcat will not read/unpack war on startup when unpacked 
directory already exists.

-- 
Mikolaj Rydzewski <miki@ceti.pl>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234043-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 14:29:38 2012
Return-Path: <users-return-234043-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 967C4CDB2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 14:29:38 +0000 (UTC)
Received: (qmail 15309 invoked by uid 500); 7 May 2012 14:29:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15075 invoked by uid 500); 7 May 2012 14:29:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15066 invoked by uid 99); 7 May 2012 14:29:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:29:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 14:29:27 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Mon, 7 May 2012 10:30:02 -0400
From: Charles Shreve <charles@citinc.biz>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltg==
Date: Mon, 7 May 2012 14:30:00 +0000
Message-ID: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.10.1.69]
Content-Type: multipart/alternative;
	boundary="_000_EAEC5C1838DEEA44BA6D3B7416B12EE21177F752MDS01mdslocal_"
MIME-Version: 1.0

--_000_EAEC5C1838DEEA44BA6D3B7416B12EE21177F752MDS01mdslocal_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

We have Tomcat running tomcat on Red Hat 5.1.  We have our web application =
accessible to us on the local subnet with no problems.  We have all firewal=
ls turned off to prevent any problems.  We are trying to load up the applic=
ation from a remote location across a VPN that connects the two offices.  W=
e are able to open a test.html page from the remote location but we cannot =
open our web app from the remote location.  Does Tomcat, by default, only a=
llow local subnet access?



IP address of server is: 192.168.5.253

IP of local subnet is: 192.168.5.0/255.255.255.0

IP of remote subnet is: 10.10.1.0/255.255.255.0



If we hook up a windows machine, we are able to open up web pages on the IP=
  using port 80 and 443.  We have file sharing working between the remote l=
ocation and the local office along with access to OWA from our two Windows =
servers.  We can ping the red hat server and get a response back.  We can a=
lso telnet from the remote location to the red hat server and login as root=
 with no problems.  The only thing we can't do is access our web app.



Thank You,

Charles

--_000_EAEC5C1838DEEA44BA6D3B7416B12EE21177F752MDS01mdslocal_--

From users-return-234044-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 15:01:07 2012
Return-Path: <users-return-234044-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A050CCEED
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 15:01:07 +0000 (UTC)
Received: (qmail 33135 invoked by uid 500); 7 May 2012 15:01:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33069 invoked by uid 500); 7 May 2012 15:01:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33060 invoked by uid 99); 7 May 2012 15:01:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:01:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:00:59 +0000
Received: by qcsc20 with SMTP id c20so1555938qcs.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 08:00:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=UcFuwDxuTLMkBI5iMJ5WfwSuLKxCElJHLPIVuvb47qI=;
        b=IeqibaIXeQpUtjSmPaT0i/uUnohHsis9VjvBxez+epy3XKcirLMbx5MGnqa4xvYH/W
         NVlbf+bO5h+DFu8ubTDpBRD+D3pEskDIhFM+QxY+dhiebkIKsxEANS7GfBizyamdfuf6
         QZfQr5hk+3mJS4vNzSIuH9JuxvW6RxTI4YSG0Rp1i6LHopuB3CcLPfR2OFp1aGDtiU4j
         WcVOUOkP8ipBia3/HsX3CN25xpNiA/6JyWtVsab2PyMTOu4VyZSCgdQfM8GS5qwE1197
         CbUvqKYheJ2lh6rN9Fq0fEdnsTLIgo7SXuRZa4D72wXnsaTidBxycVvn4QCFmOyf/DoM
         JenA==
Received: by 10.60.9.102 with SMTP id y6mr8605262oea.46.1336402838164; Mon, 07
 May 2012 08:00:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.113.241 with HTTP; Mon, 7 May 2012 08:00:18 -0700 (PDT)
In-Reply-To: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Mon, 7 May 2012 17:00:18 +0200
Message-ID: <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
Subject: Re: Tomcat from remote subnet
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/7 Charles Shreve <charles@citinc.biz>:
>=A0We are able to open a test.html page from the remote location but we ca=
nnot open our web app from the remote
> location. =A0Does Tomcat, by default, only allow local subnet access?

If you can access to a test.html page from remote site, looks like  it
doesn't do it
Do you see any message in access.log?

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234045-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 15:04:33 2012
Return-Path: <users-return-234045-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B337CCEFC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 15:04:33 +0000 (UTC)
Received: (qmail 45015 invoked by uid 500); 7 May 2012 15:04:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44918 invoked by uid 500); 7 May 2012 15:04:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44909 invoked by uid 99); 7 May 2012 15:04:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:04:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.3 as permitted sender)
Received: from [206.46.173.3] (HELO vms173003pub.verizon.net) (206.46.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:04:21 +0000
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M3N000TBR5X3721@vms173003.mailsrvcs.net> for
 users@tomcat.apache.org; Mon, 07 May 2012 10:03:34 -0500 (CDT)
Message-id: <4FA7E445.70303@verizon.net>
Date: Mon, 07 May 2012 11:03:33 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.27)
 Gecko/20120216 Thunderbird/3.1.19
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Live changes to web.xml
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

When TC 5.5.25 reloads due to a web.xml change, do the context listeners 
fire?

Whenever I get a tc reload/restart without stopping and starting the TC 
service, my db connection gets messed up, and if the contextlistener 
fires, ISTM that would be a good place for me to reset the connection.

Or is there a better place?

Tks!
D

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234046-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 15:42:13 2012
Return-Path: <users-return-234046-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBA5A9FE8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 15:42:13 +0000 (UTC)
Received: (qmail 77659 invoked by uid 500); 7 May 2012 15:42:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77557 invoked by uid 500); 7 May 2012 15:42:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77548 invoked by uid 99); 7 May 2012 15:42:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:42:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:42:02 +0000
Received: by ggnp1 with SMTP id p1so595225ggn.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 08:41:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VTnBhZGJ+xe7/4GW2ODtNndB9IxPUAQDYHBmqcfo/rw=;
        b=bsoJC5ifx0KIrjYJiFNZJRyo2iVYe30H7k5nLH6vriqBiGVxC2n1bN2gLxNwXO/3Pj
         i7D5qZ+h99lYHo8e0sMxzkHRQoO5cGdBckDdDWrPl3KcNppuBhSFgAPp+UtCa/lZvgLA
         AVfjQAArgOo2gYn1ckUPJGWbjSZOOzzNGgwdOXzzOvaO8nfg9Cn5mJ0lmbR9TJ1qcSA+
         0N0RVU6yWDatDaJgGSvpCdQLstcFrAcu61Nau9ELomg6nRvcjSJCzBVDsLjxX1gstStp
         B1n5q/BaBcr2y8YswXIJ92xLxuVlKo4s81flN2N2dNcXPP2dXQE71YjqWgA2cM2spfmj
         b3Ig==
MIME-Version: 1.0
Received: by 10.236.170.71 with SMTP id o47mr19742068yhl.104.1336405301916;
 Mon, 07 May 2012 08:41:41 -0700 (PDT)
Received: by 10.146.161.7 with HTTP; Mon, 7 May 2012 08:41:41 -0700 (PDT)
In-Reply-To: <4FA7E445.70303@verizon.net>
References: <4FA7E445.70303@verizon.net>
Date: Mon, 7 May 2012 19:41:41 +0400
Message-ID: <CABzHfVm1QH-buvg3yUcAuok+WK8Sg51+4nJXL2DdStx+_YuJ3g@mail.gmail.com>
Subject: Re: Live changes to web.xml
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/7 David kerber <dckerber@verizon.net>:
> When TC 5.5.25 reloads due to a web.xml change, do the context listeners
> fire?
>
> Whenever I get a tc reload/restart without stopping and starting the TC
> service, my db connection gets messed up, and if the contextlistener fires,
> ISTM that would be a good place for me to reset the connection.
>

Try for youself?

5.5 is near EOL, so whatever is there wouldn't change.

> Or is there a better place?
>

Describe what "messed up" means.  Troubles with DB connections are
usually solved with a validation query (checkOnBorrow=true).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234047-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 15:59:05 2012
Return-Path: <users-return-234047-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B240C90BF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 15:59:05 +0000 (UTC)
Received: (qmail 35854 invoked by uid 500); 7 May 2012 15:59:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35789 invoked by uid 500); 7 May 2012 15:59:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35778 invoked by uid 99); 7 May 2012 15:59:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:59:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 15:58:56 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Mon, 7 May 2012 11:59:30 -0400
From: Charles Shreve <charles@citinc.biz>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltgAJcU4A///Ne2A=
Date: Mon, 7 May 2012 15:59:29 +0000
Message-ID: <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>,<CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
In-Reply-To: <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Where would I find the access.log?

Thank You,
Charles Shreve
540-662-1414
----- Original Message -----
From:"Jose Mar=EDa Zaragoza" <demablogia@gmail.com>
To:"Tomcat Users List" <users@tomcat.apache.org>
Sent:5/7/2012 11:02 AM
Subject:Re: Tomcat from remote subnet



2012/5/7 Charles Shreve <charles@citinc.biz>:
>=A0We are able to open a test.html page from the remote location but we ca=
nnot open our web app from the remote
> location.  Does Tomcat, by default, only allow local subnet access?

If you can access to a test.html page from remote site, looks like  it
doesn't do it
Do you see any message in access.log?

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234048-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 16:17:00 2012
Return-Path: <users-return-234048-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CE559194
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 16:17:00 +0000 (UTC)
Received: (qmail 1478 invoked by uid 500); 7 May 2012 16:16:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1240 invoked by uid 500); 7 May 2012 16:16:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1227 invoked by uid 99); 7 May 2012 16:16:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 16:16:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.182.226] (HELO nm5.bullet.mail.ukl.yahoo.com) (217.146.182.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 May 2012 16:16:48 +0000
Received: from [217.146.183.208] by nm5.bullet.mail.ukl.yahoo.com with NNFMP; 07 May 2012 16:16:27 -0000
Received: from [77.238.184.67] by tm1.bullet.mail.ukl.yahoo.com with NNFMP; 07 May 2012 16:16:27 -0000
Received: from [127.0.0.1] by smtp136.mail.ukl.yahoo.com with NNFMP; 07 May 2012 16:16:27 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336407387; bh=icCC6SCvR4NRNOcWyiV5s33T2FYi93VhC7AfbANsEoY=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=FoF2kVdR9mbkBOhqMLxCdqDO6X1feovDgy0o/oksAkKnuutkP7FAJHem254lLNwapDqknZSb5jMyLet1LPkmtSh4rSJL91j5hadyGqyiqUOmeRMWuKMGj/0knjfTxkYPlscCl34p4Rq4umw1f4XRgO6qTmKWXqNpBmx3wMYwmsE=
X-Yahoo-Newman-Id: 915260.2318.bm@smtp136.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 9E7zXzgVM1kqRk1Jb.E0MgSKJZGDHxmgpmaTm.4pQhY36XA
 rus7tJ52epNrhl8NutiLJFLZVQTzte6S79bRgydkM_1nx.Hs.T85qMqDTvA4
 zJyL9JtRan81E3MgxQaUa9AtaDOmiy8TQrOY4EzVXCuFdqBQe59IkZsaHwoe
 DHYniq0gEf1qw2EmxPOz6Aq3TcDdzCcGI28cTSr1LVYB_xefPivyKcEQFTXS
 Xymh2M_qcwccIECxzfKpWkrhldpSI9mvzXerU9UXY.Ptdl5KnY8NwUoLs69.
 uKlK6ji4lp6A8OeT9Wgpw6o0f6uVHqt6g_gWP66Rw8AFzy.J.DUC35OztVlF
 FUy_6LTqRZbgXWQX71CJxd9yIt.RRl0MSfQTfYTP8.elZULlTQIqpowLx5OS
 t1838AeiI
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.49.204.244 with plain)
        by smtp136.mail.ukl.yahoo.com with SMTP; 07 May 2012 16:16:27 +0000 GMT
Message-ID: <4FA7F557.5070407@yahoo.es>
Date: Mon, 07 May 2012 18:16:23 +0200
From: =?ISO-8859-1?Q?Miguel_Gonz=E1lez_Casta=F1os?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: munin tomcat and mysql
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120507-0, 07/05/2012), Outbound message
X-Antivirus-Status: Clean

Dear all,

    I'm thinking about installing munin to monitor mysql, tomcat and 
system resources (specially memory and network). I'm going to install it 
under CentOS and Tomcat 5.5.

    Since it's a virtual machine, is munin going to take many resources 
of my system or is it a light tool?

    Does anyone know of any nice tutorial of installing in CentOS and 
Tomcat? I find many articles about installing in CentOS and Apache, but 
not Tomcat

    Regards,

    Miguel





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234049-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 16:27:40 2012
Return-Path: <users-return-234049-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54CAA9BD7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 16:27:40 +0000 (UTC)
Received: (qmail 38404 invoked by uid 500); 7 May 2012 16:27:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38331 invoked by uid 500); 7 May 2012 16:27:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38322 invoked by uid 99); 7 May 2012 16:27:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 16:27:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 147.91.1.120 is neither permitted nor denied by domain of ognjen.d.blagojevic@gmail.com)
Received: from [147.91.1.120] (HELO afrodita.rcub.bg.ac.rs) (147.91.1.120)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 16:27:29 +0000
Received: from [IPv6:2001:4170:0:4::66] (unknown [IPv6:2001:4170:0:4::66])
	by afrodita.rcub.bg.ac.rs (Postfix) with ESMTP id 641292150003
	for <users@tomcat.apache.org>; Mon,  7 May 2012 18:27:07 +0200 (CEST)
Message-ID: <4FA7F7DB.9040404@gmail.com>
Date: Mon, 07 May 2012 18:27:07 +0200
From: Ognjen Blagojevic <ognjen.d.blagojevic@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com> <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com> <4FA318DF.6090203@christopherschultz.net> <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com> <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com> <4FA3E9F1.7000304@christopherschultz.net> <CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com> <CAJF7AOqB=PwtB4P94Ck=qxYjQWTxZVjwrPVdtkoD6qGGAO9_qA@mail.gmail.com>
In-Reply-To: <CAJF7AOqB=PwtB4P94Ck=qxYjQWTxZVjwrPVdtkoD6qGGAO9_qA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-RCUB-MailScanner-Information: Please contact the ISP for more information
X-RCUB-MailScanner-ID: 641292150003.A9C90
X-RCUB-MailScanner: Found to be clean
X-RCUB-MailScanner-SpamCheck: not spam, SpamAssassin (not cached,
	score=-2.599, required 5, BAYES_00 -2.60, NO_RELAYS -0.00,
	WEIRD_PORT 0.00)

Todd,

On 4.5.2012 22:01, Todd Seidenberg wrote:
> xx.x.32.16 - - [04/May/2012:13:59:05 -0600] "GET /manager/html HTTP/1.1"
> 404 991 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.19 (KHTML,
> like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151 Chrome/18.0.1025.151
> Safari/535.19"
> xx.x.32.16 - - [04/May/2012:13:59:34 -0600] "GET /manager/html HTTP/1.1"
> 404 991 "http://cascade:8090/" "Mozilla/5.0 (X11; Linux x86_64)
> AppleWebKit/535.19 (KHTML, like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151
> Chrome/18.0.1025.151 Safari/535.19"

Brainstorming...

Did you check access permissions for webapps/manager directory and its 
contents? User running Tomcat must be able to read it.

-Ognjen

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234050-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 16:29:28 2012
Return-Path: <users-return-234050-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B719A911C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 16:29:28 +0000 (UTC)
Received: (qmail 45669 invoked by uid 500); 7 May 2012 16:29:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45585 invoked by uid 500); 7 May 2012 16:29:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45574 invoked by uid 99); 7 May 2012 16:29:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 16:29:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.1 as permitted sender)
Received: from [206.46.173.1] (HELO vms173001pub.verizon.net) (206.46.173.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 16:29:16 +0000
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173001.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M3N001O6V3GC9L0@vms173001.mailsrvcs.net> for
 users@tomcat.apache.org; Mon, 07 May 2012 11:28:29 -0500 (CDT)
Message-id: <4FA7F82C.3090500@verizon.net>
Date: Mon, 07 May 2012 12:28:28 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.27)
 Gecko/20120216 Thunderbird/3.1.19
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Live changes to web.xml
References: <4FA7E445.70303@verizon.net>
 <CABzHfVm1QH-buvg3yUcAuok+WK8Sg51+4nJXL2DdStx+_YuJ3g@mail.gmail.com>
In-reply-to:
 <CABzHfVm1QH-buvg3yUcAuok+WK8Sg51+4nJXL2DdStx+_YuJ3g@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

On 5/7/2012 11:41 AM, Konstantin Kolinko wrote:
> 2012/5/7 David kerber<dckerber@verizon.net>:
>> When TC 5.5.25 reloads due to a web.xml change, do the context listeners
>> fire?
>>
>> Whenever I get a tc reload/restart without stopping and starting the TC
>> service, my db connection gets messed up, and if the contextlistener fires,
>> ISTM that would be a good place for me to reset the connection.
>>
>
> Try for youself?

I tried, but couldn't get it to reload in eclipse without restarting the 
whole thing.  Doing it on a running server won't tell me much unless I 
add code to the context listener just to log whether or not it is executed.


>
> 5.5 is near EOL, so whatever is there wouldn't change.
>
>> Or is there a better place?
>>
>
> Describe what "messed up" means.  Troubles with DB connections are
> usually solved with a validation query (checkOnBorrow=true).

After a context reload, it is unable to make connections, and tells me 
that there is no suitable driver.  Restarting the service puts 
everything back in proper operation.

I do my pooling inside the app, and don't use TC's pooling.


>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234051-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 17:38:16 2012
Return-Path: <users-return-234051-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D53891EF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 17:38:16 +0000 (UTC)
Received: (qmail 8846 invoked by uid 500); 7 May 2012 17:38:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8774 invoked by uid 500); 7 May 2012 17:38:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8763 invoked by uid 99); 7 May 2012 17:38:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 17:38:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 17:38:07 +0000
Received: by obbwd20 with SMTP id wd20so11690804obb.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 10:37:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=V46mct2fm+ibOpQC3oo+Au2xNYt6YlRrreGsRGexrmg=;
        b=pv77N9z4x6O2Ut9hq3o76zFgTeGrMlgW7ft7IHjUyVabmLajyB2u8nI6samirDQQOx
         TcUE/9DRLHsf5+eAMoKwNnMlVD5t4NbHS75JGFdaE3q517eTGh7UWqEBvu7TA/sqmsuL
         tiNRBPbGRl1qkSGzTMFSXnwXxlffEpFTJb040RSEEff1pr7LSSheuRdQUe+hb5cfOhP3
         Fkaq8e5A/H62z/Hs9TwSf7j30Kg7ij4Man0uBJG3s7OmthYFxb05Lmf+g9CyJ7rrpqfE
         iLP7e3wKiMkIo92ZKlA77JLTxn/n2BpGro1QhDVUdH4hqvSdFErJyIckMVaSx/RONnVV
         rO6w==
Received: by 10.182.245.17 with SMTP id xk17mr22523080obc.66.1336412266532;
 Mon, 07 May 2012 10:37:46 -0700 (PDT)
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com> <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
In-Reply-To: <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>
Mime-Version: 1.0 (iPod Mail 8C148)
Date: Mon, 7 May 2012 19:32:42 +0200
Message-ID: <-905237787951138327@unknownmsgid>
Subject: Re: Tomcat from remote subnet
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

El 07/05/2012, a las 17:59, Charles Shreve <charles@citinc.biz> escribi=F3:

> Where would I find the access.log?
>

Under tomcat folder, into  logs folder

> Thank You,
> Charles Shreve
> 540-662-1414
> ----- Original Message -----
> From:"Jose Mar=EDa Zaragoza" <demablogia@gmail.com>
> To:"Tomcat Users List" <users@tomcat.apache.org>
> Sent:5/7/2012 11:02 AM
> Subject:Re: Tomcat from remote subnet
>
>
>
> 2012/5/7 Charles Shreve <charles@citinc.biz>:
>>  We are able to open a test.html page from the remote location but we ca=
nnot open our web app from the remote
>> location.  Does Tomcat, by default, only allow local subnet access?
>
> If you can access to a test.html page from remote site, looks like  it
> doesn't do it
> Do you see any message in access.log?
>
> Regards
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234052-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 19:37:35 2012
Return-Path: <users-return-234052-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C728A9CD8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 19:37:35 +0000 (UTC)
Received: (qmail 55146 invoked by uid 500); 7 May 2012 19:37:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55066 invoked by uid 500); 7 May 2012 19:37:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55056 invoked by uid 99); 7 May 2012 19:37:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:37:32 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,MIME_BASE64_TEXT,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [65.55.88.13] (HELO tx2outboundpool.messaging.microsoft.com) (65.55.88.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:37:24 +0000
Received: from mail111-tx2-R.bigfish.com (10.9.14.243) by
 TX2EHSOBE004.bigfish.com (10.9.40.24) with Microsoft SMTP Server id
 14.1.225.23; Mon, 7 May 2012 19:36:50 +0000
Received: from mail111-tx2 (localhost [127.0.0.1])	by
 mail111-tx2-R.bigfish.com (Postfix) with ESMTP id EC8F026024C	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 19:36:49 +0000 (UTC)
X-SpamScore: 0
X-BigFish: VPS0(zzc85fhzz1202hzz8275bh8275dhz2dh2a8h668h839hd25h)
X-Forefront-Antispam-Report: CIP:65.55.171.153;KIP:(null);UIP:(null);IPV:NLI;H:VA3DIAHUB099.RED001.local;RD:smtp801.microsoftonline.com;EFVD:NLI
Received: from mail111-tx2 (localhost.localdomain [127.0.0.1]) by mail111-tx2
 (MessageSwitch) id 1336419390748048_16023; Mon,  7 May 2012 19:36:30 +0000
 (UTC)
Received: from TX2EHSMHS036.bigfish.com (unknown [10.9.14.244])	by
 mail111-tx2.bigfish.com (Postfix) with ESMTP id CE63EA01F4	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 19:36:18 +0000 (UTC)
Received: from VA3DIAHUB099.RED001.local (65.55.171.153) by
 TX2EHSMHS036.bigfish.com (10.9.99.136) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Mon, 7 May 2012 19:36:16 +0000
Received: from VA3DIAXVSA21.RED001.local ([10.16.28.68]) by
 VA3DIAHUB099.RED001.local ([10.8.158.158]) with mapi; Mon, 7 May 2012
 12:36:28 -0700
From: Sanjeev Sharma <sanjeev.sharma@buchanan-edwards.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 7 May 2012 12:36:25 -0700
Subject: JDBC Connection over VPN
Thread-Topic: JDBC Connection over VPN
Thread-Index: Ac0siLDufs7xKNPvRQu1H/qLN4u9AA==
Message-ID: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_6A6CD2CCB56C3F448F6609172C07A21818A0A7FBVA3DIAXVSA21RED_"
MIME-Version: 1.0
X-OriginatorOrg: buchanan-edwards.com
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_6A6CD2CCB56C3F448F6609172C07A21818A0A7FBVA3DIAXVSA21RED_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: base64

SGksDQoNCk5vdCBzdXJlIGlmIHRoaXMgaXMgYSBUb21jYXQgaXNzdWUuICBXaGVuIEkgY29ubmVj
dCBkaXJlY3RseSB0byBhIG5ldHdvcmsgYW5kIHN0YXJ0dXAgbXkgdG9tY2F0IDcsIG15IEpEQkMg
Y29ubmVjdGlvbiB0byBhbiBPcmFjbGUgMTFnIG5ldHdvcmsgd29ya3MganVzdCBmaW5lLCBidXQg
aWYgSSB0dW5uZWwgaW50byB0aGUgc2FtZSBuZXR3b3JrLCBKREJDIGZhaWxzIHRvIGNvbm5lY3Qg
dG8gdGhlIGRhdGFiYXNlLiAgQXQgdGhlIHNhbWUgdGltZSBJJ20gYWJsZSB0byBtYWtlIGEgY29u
bmVjdGlvbiB0byB0aGUgc2FtZSBkYXRhYmFzZSB1c2luZyBTUUwgRGV2ZWxvcGVyL1NRTCBQbHVz
LiAgTXkgbmV0d29yayBwZW9wbGUgdGVsbCBtZSB0aGF0IGFsbCBwb3J0cyBhcmUgb3BlbiB0byBt
ZSBhbmQgd2hlbiB0aGV5IHRyeSB0byBjYXB0dXJlIHBhY2tldHMgY29taW5nIGZyb20gbWUsIHRo
ZXkgc2VlIG5vdGhpbmcgaWYgSSdtIHN0YXJ0aW5nIHVwIG15IHRvbWNhdC4gIEknbSBub3QgYSBO
ZXR3b3JrIG9yIFZQTiBleHBlcnQsIGJ1dCBhcyBmYXIgYXMgSSBrbm93LCBhdCB0aGUgYXBwbGlj
YXRpb24gbGV2ZWwgaXQgc2hvdWxkIGJlaGF2ZSBqdXN0IGFzIGlmIEknbSBjb25uZWN0ZWQgZGly
ZWN0bHkgdG8gdGhlIG5ldHdvcmsgYW5kIHNob3VsZG4ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHdo
aWNoIG5ldHdvcmsgYWRhcHRlciB0byB1c2UgKGJ1aWx0IGluIG9yIFZQTiksIGFuZCBzaG91bGRu
J3QgaGF2ZSB0byB3b3JyeSBhYm91dCByb3V0aW5nLiAgSSdtIGF0IGEgY29tcGxldGUgbG9zcywg
c28gSSdtIGp1c3QgaG9waW5nIHRoZXJlIGlzIG1hZ2ljYWwgdG9tY2F0IHNldHRpbmcgd2hpY2gg
d2lsbCBmaXggbXkgcHJvYmxlbS4gIEFueSBoZWxwIHdvdWxkIGJlIGFwcHJlY2lhdGVkIC4NCg0K
VGhhbmtzLg0K

--_000_6A6CD2CCB56C3F448F6609172C07A21818A0A7FBVA3DIAXVSA21RED_--

From users-return-234053-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 19:41:23 2012
Return-Path: <users-return-234053-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 585F89CE6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 19:41:23 +0000 (UTC)
Received: (qmail 64813 invoked by uid 500); 7 May 2012 19:41:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64724 invoked by uid 500); 7 May 2012 19:41:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64713 invoked by uid 99); 7 May 2012 19:41:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:41:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:41:14 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Mon, 7 May 2012 15:41:49 -0400
From: Charles Shreve <charles@citinc.biz>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltgAJcU4A///Ne2CAAF0ZAP//4QA3
Date: Mon, 7 May 2012 19:41:46 +0000
Message-ID: <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
 <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>,<-905237787951138327@unknownmsgid>
In-Reply-To: <-905237787951138327@unknownmsgid>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

I've tried to locate a access.log file but can't seem to find one.

Thank You,
Charles Shreve
540-662-1414
----- Original Message -----
From:"Jose Mar=EDa Zaragoza" <demablogia@gmail.com>
To:"Tomcat Users List" <users@tomcat.apache.org>
Sent:5/7/2012 1:39 PM
Subject:Re: Tomcat from remote subnet



El 07/05/2012, a las 17:59, Charles Shreve <charles@citinc.biz> escribi=F3:

> Where would I find the access.log?
>

Under tomcat folder, into  logs folder

> Thank You,
> Charles Shreve
> 540-662-1414
> ----- Original Message -----
> From:"Jose Mar=EDa Zaragoza" <demablogia@gmail.com>
> To:"Tomcat Users List" <users@tomcat.apache.org>
> Sent:5/7/2012 11:02 AM
> Subject:Re: Tomcat from remote subnet
>
>
>
> 2012/5/7 Charles Shreve <charles@citinc.biz>:
>>  We are able to open a test.html page from the remote location but we ca=
nnot open our web app from the remote
>> location.  Does Tomcat, by default, only allow local subnet access?
>
> If you can access to a test.html page from remote site, looks like  it
> doesn't do it
> Do you see any message in access.log?
>
> Regards
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234054-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 19:44:08 2012
Return-Path: <users-return-234054-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EF629CFC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 19:44:08 +0000 (UTC)
Received: (qmail 72968 invoked by uid 500); 7 May 2012 19:44:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72905 invoked by uid 500); 7 May 2012 19:44:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72893 invoked by uid 99); 7 May 2012 19:44:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:44:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of barry.l.propes@citi.com designates 67.231.145.106 as permitted sender)
Received: from [67.231.145.106] (HELO mx0a-00123c01.pphosted.com) (67.231.145.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:43:53 +0000
Received: from pps.filterd (m0008095 [127.0.0.1])
	by mx0a-00123c02.pphosted.com (8.14.5/8.14.5) with SMTP id q47JeVqR030185
	for <users@tomcat.apache.org>; Mon, 7 May 2012 19:43:30 GMT
Received: from mail.citigroup.com ([192.193.158.10])
	by mx0a-00123c02.pphosted.com with ESMTP id 14jamv42p1-1
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT)
	for <users@tomcat.apache.org>; Mon, 07 May 2012 19:43:30 +0000
Received: from imbhub-ru02.nam.nsroot.net (namdlpdimpsw04.nam.nsroot.net [153.40.172.110])
	by smtpinbound.citigroup.com (Switch-3.4.1/Switch-3.4.1) with ESMTP id q47JfcLw015058
	for <users@tomcat.apache.org>; Mon, 7 May 2012 19:43:29 GMT
Received: from exlnjiht01.lac.nsroot.net (EXLNJIHT01.lac.nsroot.net [150.110.183.29])
	by imbhub-ru02.nam.nsroot.net (Switch-3.4.1/Switch-3.4.1) with ESMTP id q47JgGhd002353
	for <users@tomcat.apache.org>; Mon, 7 May 2012 19:43:24 GMT
Received: from exnjht03.nam.nsroot.net (150.110.165.223) by
 exlnjiht01.lac.nsroot.net (150.110.183.29) with Microsoft SMTP Server (TLS)
 id 8.3.245.1; Mon, 7 May 2012 15:43:21 -0400
Received: from exlgtiht01.lac.nsroot.net (168.72.74.47) by
 exnjht03.nam.nsroot.net (150.110.165.223) with Microsoft SMTP Server (TLS) id
 8.3.245.1; Mon, 7 May 2012 15:43:20 -0400
Received: from exgtmb06.nam.nsroot.net ([169.171.98.118]) by
 exlgtiht01.lac.nsroot.net ([168.72.74.47]) with mapi; Mon, 7 May 2012
 14:43:19 -0500
From: "Propes, Barry L " <barry.l.propes@citi.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
Date: Mon, 7 May 2012 14:43:18 -0500
Subject: RE: JDBC Connection over VPN
Thread-Topic: JDBC Connection over VPN
Thread-Index: Ac0siLDufs7xKNPvRQu1H/qLN4u9AAAANqDA
Message-ID: <08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
References: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
In-Reply-To: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-WiganSS: 01000000010017exnjht03.nam.nsroot.net
	ID0044<08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
X-CFilter-Loop: Reflected
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.6.7580,1.0.260,0.0.0000
 definitions=2012-05-07_04:2012-05-07,2012-05-07,1970-01-01 signatures=0

Could the VPN connection be utlizing the same port Tomcat or Oracle usually=
 does? Like something at 8080?

Not sure if that's the case; or conversely, does going into VPN block those=
 ports?


-----Original Message-----
From: Sanjeev Sharma [mailto:sanjeev.sharma@buchanan-edwards.com]
Sent: Monday, May 07, 2012 2:36 PM
To: Tomcat Users List
Subject: JDBC Connection over VPN

Hi,

Not sure if this is a Tomcat issue.  When I connect directly to a network a=
nd startup my tomcat 7, my JDBC connection to an Oracle 11g network works j=
ust fine, but if I tunnel into the same network, JDBC fails to connect to t=
he database.  At the same time I'm able to make a connection to the same da=
tabase using SQL Developer/SQL Plus.  My network people tell me that all po=
rts are open to me and when they try to capture packets coming from me, the=
y see nothing if I'm starting up my tomcat.  I'm not a Network or VPN exper=
t, but as far as I know, at the application level it should behave just as =
if I'm connected directly to the network and shouldn't have to worry about =
which network adapter to use (built in or VPN), and shouldn't have to worry=
 about routing.  I'm at a complete loss, so I'm just hoping there is magica=
l tomcat setting which will fix my problem.  Any help would be appreciated =
.

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234055-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 19:47:06 2012
Return-Path: <users-return-234055-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 399F39D08
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 19:47:06 +0000 (UTC)
Received: (qmail 80726 invoked by uid 500); 7 May 2012 19:47:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80685 invoked by uid 500); 7 May 2012 19:47:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80675 invoked by uid 99); 7 May 2012 19:47:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:47:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.32.181.181] (HELO ch1outboundpool.messaging.microsoft.com) (216.32.181.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:46:53 +0000
Received: from mail186-ch1-R.bigfish.com (10.43.68.232) by
 CH1EHSOBE012.bigfish.com (10.43.70.62) with Microsoft SMTP Server id
 14.1.225.23; Mon, 7 May 2012 19:46:19 +0000
Received: from mail186-ch1 (localhost [127.0.0.1])	by
 mail186-ch1-R.bigfish.com (Postfix) with ESMTP id B4BE61206A7	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 19:46:18 +0000 (UTC)
X-SpamScore: -7
X-BigFish: VPS-7(zz9371I542M62a3Izz1202hzz8275dhz2dh2a8h668h839h944hd25h)
X-Forefront-Antispam-Report: CIP:65.55.171.153;KIP:(null);UIP:(null);IPV:NLI;H:VA3DIAHUB076.RED001.local;RD:smtp801.microsoftonline.com;EFVD:NLI
Received: from mail186-ch1 (localhost.localdomain [127.0.0.1]) by mail186-ch1
 (MessageSwitch) id 1336419976430261_10729; Mon,  7 May 2012 19:46:16 +0000
 (UTC)
Received: from CH1EHSMHS022.bigfish.com (snatpool3.int.messaging.microsoft.com
 [10.43.68.227])	by mail186-ch1.bigfish.com (Postfix) with ESMTP id 59FFBE00BD
	for <users@tomcat.apache.org>; Mon,  7 May 2012 19:46:16 +0000 (UTC)
Received: from VA3DIAHUB076.RED001.local (65.55.171.153) by
 CH1EHSMHS022.bigfish.com (10.43.70.22) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Mon, 7 May 2012 19:46:14 +0000
Received: from VA3DIAXVSA21.RED001.local ([10.16.28.68]) by
 VA3DIAHUB076.RED001.local ([10.8.230.172]) with mapi; Mon, 7 May 2012
 12:46:26 -0700
From: Sanjeev Sharma <sanjeev.sharma@buchanan-edwards.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 7 May 2012 12:46:22 -0700
Subject: RE: JDBC Connection over VPN
Thread-Topic: JDBC Connection over VPN
Thread-Index: Ac0siLDufs7xKNPvRQu1H/qLN4u9AAAANqDAAAAVmRA=
Message-ID: <6A6CD2CCB56C3F448F6609172C07A21818A0A805@VA3DIAXVSA21.RED001.local>
References: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
 <08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
In-Reply-To: <08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: buchanan-edwards.com

VXNpbmcgcG9ydCAxNTIxIGluIGJvdGggY2FzZXMsIGJ1dCBpdCBvbmx5IGZhaWxzIGZvciBKREJD
Lg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogUHJvcGVzLCBCYXJyeSBMIFtt
YWlsdG86YmFycnkubC5wcm9wZXNAY2l0aS5jb21dIA0KU2VudDogTW9uZGF5LCBNYXkgMDcsIDIw
MTIgMzo0MyBQTQ0KVG86ICdUb21jYXQgVXNlcnMgTGlzdCcNClN1YmplY3Q6IFJFOiBKREJDIENv
bm5lY3Rpb24gb3ZlciBWUE4NCg0KQ291bGQgdGhlIFZQTiBjb25uZWN0aW9uIGJlIHV0bGl6aW5n
IHRoZSBzYW1lIHBvcnQgVG9tY2F0IG9yIE9yYWNsZSB1c3VhbGx5IGRvZXM/IExpa2Ugc29tZXRo
aW5nIGF0IDgwODA/DQoNCk5vdCBzdXJlIGlmIHRoYXQncyB0aGUgY2FzZTsgb3IgY29udmVyc2Vs
eSwgZG9lcyBnb2luZyBpbnRvIFZQTiBibG9jayB0aG9zZSBwb3J0cz8NCg0KDQotLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogU2FuamVldiBTaGFybWEgW21haWx0bzpzYW5qZWV2LnNo
YXJtYUBidWNoYW5hbi1lZHdhcmRzLmNvbV0NClNlbnQ6IE1vbmRheSwgTWF5IDA3LCAyMDEyIDI6
MzYgUE0NClRvOiBUb21jYXQgVXNlcnMgTGlzdA0KU3ViamVjdDogSkRCQyBDb25uZWN0aW9uIG92
ZXIgVlBODQoNCkhpLA0KDQpOb3Qgc3VyZSBpZiB0aGlzIGlzIGEgVG9tY2F0IGlzc3VlLiAgV2hl
biBJIGNvbm5lY3QgZGlyZWN0bHkgdG8gYSBuZXR3b3JrIGFuZCBzdGFydHVwIG15IHRvbWNhdCA3
LCBteSBKREJDIGNvbm5lY3Rpb24gdG8gYW4gT3JhY2xlIDExZyBuZXR3b3JrIHdvcmtzIGp1c3Qg
ZmluZSwgYnV0IGlmIEkgdHVubmVsIGludG8gdGhlIHNhbWUgbmV0d29yaywgSkRCQyBmYWlscyB0
byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZS4gIEF0IHRoZSBzYW1lIHRpbWUgSSdtIGFibGUgdG8g
bWFrZSBhIGNvbm5lY3Rpb24gdG8gdGhlIHNhbWUgZGF0YWJhc2UgdXNpbmcgU1FMIERldmVsb3Bl
ci9TUUwgUGx1cy4gIE15IG5ldHdvcmsgcGVvcGxlIHRlbGwgbWUgdGhhdCBhbGwgcG9ydHMgYXJl
IG9wZW4gdG8gbWUgYW5kIHdoZW4gdGhleSB0cnkgdG8gY2FwdHVyZSBwYWNrZXRzIGNvbWluZyBm
cm9tIG1lLCB0aGV5IHNlZSBub3RoaW5nIGlmIEknbSBzdGFydGluZyB1cCBteSB0b21jYXQuICBJ
J20gbm90IGEgTmV0d29yayBvciBWUE4gZXhwZXJ0LCBidXQgYXMgZmFyIGFzIEkga25vdywgYXQg
dGhlIGFwcGxpY2F0aW9uIGxldmVsIGl0IHNob3VsZCBiZWhhdmUganVzdCBhcyBpZiBJJ20gY29u
bmVjdGVkIGRpcmVjdGx5IHRvIHRoZSBuZXR3b3JrIGFuZCBzaG91bGRuJ3QgaGF2ZSB0byB3b3Jy
eSBhYm91dCB3aGljaCBuZXR3b3JrIGFkYXB0ZXIgdG8gdXNlIChidWlsdCBpbiBvciBWUE4pLCBh
bmQgc2hvdWxkbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcm91dGluZy4gIEknbSBhdCBhIGNvbXBs
ZXRlIGxvc3MsIHNvIEknbSBqdXN0IGhvcGluZyB0aGVyZSBpcyBtYWdpY2FsIHRvbWNhdCBzZXR0
aW5nIHdoaWNoIHdpbGwgZml4IG15IHByb2JsZW0uICBBbnkgaGVscCB3b3VsZCBiZSBhcHByZWNp
YXRlZCAuDQoNClRoYW5rcy4NCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWls
OiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29t
bWFuZHMsIGUtbWFpbDogdXNlcnMtaGVscEB0b21jYXQuYXBhY2hlLm9yZw0KDQoNCg==

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234056-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 19:50:08 2012
Return-Path: <users-return-234056-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F1D09DBC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 19:50:08 +0000 (UTC)
Received: (qmail 92634 invoked by uid 500); 7 May 2012 19:50:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92563 invoked by uid 500); 7 May 2012 19:50:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92552 invoked by uid 99); 7 May 2012 19:50:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:50:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of saurabh.makol@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 19:49:58 +0000
Received: by yhoo21 with SMTP id o21so1631231yho.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 12:49:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=LKOtX69c2HB/gyh1j6BFAt6gE5q4bAnUzZF4X4zZxdA=;
        b=DT/hPoCGcdmNoLjNbfDJogZT9sI240cK7bL9sGKdNZP74+vybh3dHRmwFkLrNbDlI4
         VSE4ZxxftclDdoM3TtOVOpY2JZC8VdwAgMe6BO7x53KtzGw5dT6GH/fXdwQf8g+uBGRd
         okTfnq283fpczOhzjM1Z5FYEaeulMcKQCaR1mnorc8BfLoGW26ytF11xa3aoUFU278sz
         wxdZGOYRXRkY/IDKofzxGHs7pFAs0tvCJhRoK3ywJ1iJytLYI4DASMTrTAkBu55JSBmQ
         2LwbOFh/3wdhHZFUweOQOJFHvWtb3zCm3ddfcKhQFEYPmBr87dUhUAYrlqmcFm7qEjX4
         GKRA==
MIME-Version: 1.0
Received: by 10.50.51.169 with SMTP id l9mr1812906igo.53.1336420177224; Mon,
 07 May 2012 12:49:37 -0700 (PDT)
Received: by 10.68.230.229 with HTTP; Mon, 7 May 2012 12:49:37 -0700 (PDT)
In-Reply-To: <6A6CD2CCB56C3F448F6609172C07A21818A0A805@VA3DIAXVSA21.RED001.local>
References: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
	<08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
	<6A6CD2CCB56C3F448F6609172C07A21818A0A805@VA3DIAXVSA21.RED001.local>
Date: Mon, 7 May 2012 15:49:37 -0400
Message-ID: <CA+Fk9f5tR=r8od62-U0dF5kV7qa1KNNUcOtvHeknREBKpeYjcA@mail.gmail.com>
Subject: Re: JDBC Connection over VPN
From: Saurabh Makol <saurabh.makol@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93408b3ef24b204bf77919f

--14dae93408b3ef24b204bf77919f
Content-Type: text/plain; charset=ISO-8859-1

Can you run

telnet <DatahbaseIpaddress> 1521 from command prompt when you VPN into your
network?

On Mon, May 7, 2012 at 3:46 PM, Sanjeev Sharma <
sanjeev.sharma@buchanan-edwards.com> wrote:

> Using port 1521 in both cases, but it only fails for JDBC.
>
> -----Original Message-----
> From: Propes, Barry L [mailto:barry.l.propes@citi.com]
> Sent: Monday, May 07, 2012 3:43 PM
> To: 'Tomcat Users List'
> Subject: RE: JDBC Connection over VPN
>
> Could the VPN connection be utlizing the same port Tomcat or Oracle
> usually does? Like something at 8080?
>
> Not sure if that's the case; or conversely, does going into VPN block
> those ports?
>
>
> -----Original Message-----
> From: Sanjeev Sharma [mailto:sanjeev.sharma@buchanan-edwards.com]
> Sent: Monday, May 07, 2012 2:36 PM
> To: Tomcat Users List
> Subject: JDBC Connection over VPN
>
> Hi,
>
> Not sure if this is a Tomcat issue.  When I connect directly to a network
> and startup my tomcat 7, my JDBC connection to an Oracle 11g network works
> just fine, but if I tunnel into the same network, JDBC fails to connect to
> the database.  At the same time I'm able to make a connection to the same
> database using SQL Developer/SQL Plus.  My network people tell me that all
> ports are open to me and when they try to capture packets coming from me,
> they see nothing if I'm starting up my tomcat.  I'm not a Network or VPN
> expert, but as far as I know, at the application level it should behave
> just as if I'm connected directly to the network and shouldn't have to
> worry about which network adapter to use (built in or VPN), and shouldn't
> have to worry about routing.  I'm at a complete loss, so I'm just hoping
> there is magical tomcat setting which will fix my problem.  Any help would
> be appreciated .
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>

--14dae93408b3ef24b204bf77919f--

From users-return-234057-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:05:01 2012
Return-Path: <users-return-234057-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6CB689E71
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:05:01 +0000 (UTC)
Received: (qmail 40537 invoked by uid 500); 7 May 2012 20:04:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40442 invoked by uid 500); 7 May 2012 20:04:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40430 invoked by uid 99); 7 May 2012 20:04:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:04:57 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=5.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [65.55.88.15] (HELO tx2outboundpool.messaging.microsoft.com) (65.55.88.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:04:51 +0000
Received: from mail64-tx2-R.bigfish.com (10.9.14.237) by
 TX2EHSOBE009.bigfish.com (10.9.40.29) with Microsoft SMTP Server id
 14.1.225.23; Mon, 7 May 2012 20:04:16 +0000
Received: from mail64-tx2 (localhost [127.0.0.1])	by mail64-tx2-R.bigfish.com
 (Postfix) with ESMTP id A11AB12C029D	for <users@tomcat.apache.org>; Mon,  7
 May 2012 20:04:16 +0000 (UTC)
X-SpamScore: -16
X-BigFish: VPS-16(zz9371I542M1432N98dK62a3Izz1202hzz8275bh8275dhz2dh2a8h668h839h944hd25h)
X-Forefront-Antispam-Report: CIP:65.55.171.153;KIP:(null);UIP:(null);IPV:NLI;H:VA3DIAHUB047.RED001.local;RD:smtp801.microsoftonline.com;EFVD:NLI
Received: from mail64-tx2 (localhost.localdomain [127.0.0.1]) by mail64-tx2
 (MessageSwitch) id 1336421054173751_22941; Mon,  7 May 2012 20:04:14 +0000
 (UTC)
Received: from TX2EHSMHS012.bigfish.com (unknown [10.9.14.238])	by
 mail64-tx2.bigfish.com (Postfix) with ESMTP id 1B9A2184008E	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 20:04:14 +0000 (UTC)
Received: from VA3DIAHUB047.RED001.local (65.55.171.153) by
 TX2EHSMHS012.bigfish.com (10.9.99.112) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Mon, 7 May 2012 20:04:12 +0000
Received: from VA3DIAXVSA21.RED001.local ([10.16.28.68]) by
 VA3DIAHUB047.RED001.local ([10.32.21.121]) with mapi; Mon, 7 May 2012
 13:04:25 -0700
From: Sanjeev Sharma <sanjeev.sharma@buchanan-edwards.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 7 May 2012 13:04:22 -0700
Subject: RE: JDBC Connection over VPN
Thread-Topic: JDBC Connection over VPN
Thread-Index: Ac0sip7yR+tmOd94SsmxSsV3Di9DSgAAC4dg
Message-ID: <6A6CD2CCB56C3F448F6609172C07A21818A0A813@VA3DIAXVSA21.RED001.local>
References: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
	<08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
	<6A6CD2CCB56C3F448F6609172C07A21818A0A805@VA3DIAXVSA21.RED001.local>
 <CA+Fk9f5tR=r8od62-U0dF5kV7qa1KNNUcOtvHeknREBKpeYjcA@mail.gmail.com>
In-Reply-To: <CA+Fk9f5tR=r8od62-U0dF5kV7qa1KNNUcOtvHeknREBKpeYjcA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: buchanan-edwards.com
X-Virus-Checked: Checked by ClamAV on apache.org

VGVsbmV0IHNlZW1zIHRvIGNvbm5lY3QuDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpG
cm9tOiBTYXVyYWJoIE1ha29sIFttYWlsdG86c2F1cmFiaC5tYWtvbEBnbWFpbC5jb21dIA0KU2Vu
dDogTW9uZGF5LCBNYXkgMDcsIDIwMTIgMzo1MCBQTQ0KVG86IFRvbWNhdCBVc2VycyBMaXN0DQpT
dWJqZWN0OiBSZTogSkRCQyBDb25uZWN0aW9uIG92ZXIgVlBODQoNCkNhbiB5b3UgcnVuDQoNCnRl
bG5ldCA8RGF0YWhiYXNlSXBhZGRyZXNzPiAxNTIxIGZyb20gY29tbWFuZCBwcm9tcHQgd2hlbiB5
b3UgVlBOIGludG8geW91ciBuZXR3b3JrPw0KDQpPbiBNb24sIE1heSA3LCAyMDEyIGF0IDM6NDYg
UE0sIFNhbmplZXYgU2hhcm1hIDwgc2FuamVldi5zaGFybWFAYnVjaGFuYW4tZWR3YXJkcy5jb20+
IHdyb3RlOg0KDQo+IFVzaW5nIHBvcnQgMTUyMSBpbiBib3RoIGNhc2VzLCBidXQgaXQgb25seSBm
YWlscyBmb3IgSkRCQy4NCj4NCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTog
UHJvcGVzLCBCYXJyeSBMIFttYWlsdG86YmFycnkubC5wcm9wZXNAY2l0aS5jb21dDQo+IFNlbnQ6
IE1vbmRheSwgTWF5IDA3LCAyMDEyIDM6NDMgUE0NCj4gVG86ICdUb21jYXQgVXNlcnMgTGlzdCcN
Cj4gU3ViamVjdDogUkU6IEpEQkMgQ29ubmVjdGlvbiBvdmVyIFZQTg0KPg0KPiBDb3VsZCB0aGUg
VlBOIGNvbm5lY3Rpb24gYmUgdXRsaXppbmcgdGhlIHNhbWUgcG9ydCBUb21jYXQgb3IgT3JhY2xl
IA0KPiB1c3VhbGx5IGRvZXM/IExpa2Ugc29tZXRoaW5nIGF0IDgwODA/DQo+DQo+IE5vdCBzdXJl
IGlmIHRoYXQncyB0aGUgY2FzZTsgb3IgY29udmVyc2VseSwgZG9lcyBnb2luZyBpbnRvIFZQTiBi
bG9jayANCj4gdGhvc2UgcG9ydHM/DQo+DQo+DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t
DQo+IEZyb206IFNhbmplZXYgU2hhcm1hIFttYWlsdG86c2FuamVldi5zaGFybWFAYnVjaGFuYW4t
ZWR3YXJkcy5jb21dDQo+IFNlbnQ6IE1vbmRheSwgTWF5IDA3LCAyMDEyIDI6MzYgUE0NCj4gVG86
IFRvbWNhdCBVc2VycyBMaXN0DQo+IFN1YmplY3Q6IEpEQkMgQ29ubmVjdGlvbiBvdmVyIFZQTg0K
Pg0KPiBIaSwNCj4NCj4gTm90IHN1cmUgaWYgdGhpcyBpcyBhIFRvbWNhdCBpc3N1ZS4gIFdoZW4g
SSBjb25uZWN0IGRpcmVjdGx5IHRvIGEgDQo+IG5ldHdvcmsgYW5kIHN0YXJ0dXAgbXkgdG9tY2F0
IDcsIG15IEpEQkMgY29ubmVjdGlvbiB0byBhbiBPcmFjbGUgMTFnIA0KPiBuZXR3b3JrIHdvcmtz
IGp1c3QgZmluZSwgYnV0IGlmIEkgdHVubmVsIGludG8gdGhlIHNhbWUgbmV0d29yaywgSkRCQyAN
Cj4gZmFpbHMgdG8gY29ubmVjdCB0byB0aGUgZGF0YWJhc2UuICBBdCB0aGUgc2FtZSB0aW1lIEkn
bSBhYmxlIHRvIG1ha2UgYSANCj4gY29ubmVjdGlvbiB0byB0aGUgc2FtZSBkYXRhYmFzZSB1c2lu
ZyBTUUwgRGV2ZWxvcGVyL1NRTCBQbHVzLiAgTXkgDQo+IG5ldHdvcmsgcGVvcGxlIHRlbGwgbWUg
dGhhdCBhbGwgcG9ydHMgYXJlIG9wZW4gdG8gbWUgYW5kIHdoZW4gdGhleSB0cnkgDQo+IHRvIGNh
cHR1cmUgcGFja2V0cyBjb21pbmcgZnJvbSBtZSwgdGhleSBzZWUgbm90aGluZyBpZiBJJ20gc3Rh
cnRpbmcgdXAgDQo+IG15IHRvbWNhdC4gIEknbSBub3QgYSBOZXR3b3JrIG9yIFZQTiBleHBlcnQs
IGJ1dCBhcyBmYXIgYXMgSSBrbm93LCBhdCANCj4gdGhlIGFwcGxpY2F0aW9uIGxldmVsIGl0IHNo
b3VsZCBiZWhhdmUganVzdCBhcyBpZiBJJ20gY29ubmVjdGVkIA0KPiBkaXJlY3RseSB0byB0aGUg
bmV0d29yayBhbmQgc2hvdWxkbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgd2hpY2ggDQo+IG5ldHdv
cmsgYWRhcHRlciB0byB1c2UgKGJ1aWx0IGluIG9yIFZQTiksIGFuZCBzaG91bGRuJ3QgaGF2ZSB0
byB3b3JyeSANCj4gYWJvdXQgcm91dGluZy4gIEknbSBhdCBhIGNvbXBsZXRlIGxvc3MsIHNvIEkn
bSBqdXN0IGhvcGluZyB0aGVyZSBpcyANCj4gbWFnaWNhbCB0b21jYXQgc2V0dGluZyB3aGljaCB3
aWxsIGZpeCBteSBwcm9ibGVtLiAgQW55IGhlbHAgd291bGQgYmUgYXBwcmVjaWF0ZWQgLg0KPg0K
PiBUaGFua3MuDQo+DQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1
c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQo+DQo+DQo+DQo=

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234058-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:12:57 2012
Return-Path: <users-return-234058-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B48A9EB4
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:12:57 +0000 (UTC)
Received: (qmail 69078 invoked by uid 500); 7 May 2012 20:12:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69012 invoked by uid 500); 7 May 2012 20:12:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69001 invoked by uid 99); 7 May 2012 20:12:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:12:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of treespace@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:12:46 +0000
Received: by yhoo21 with SMTP id o21so1660370yho.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 13:12:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QLDSx6mu4yMvrJ4CVKXHCjiCNLk9VoeEM7HxfPS+yOI=;
        b=Jas0hXiGmSz/da/gwAdXxWu/y0xztJf0OKA6GmnzX1FDQw6h71zL5PC1rD2PqkCVv7
         Og6BPLAEq7So93eyHWWZGmdsooUzDnGtxiDO2DNO0EYyNpgRHcqZ25JXjFfZFfZgyBVn
         4T7gSIqVCf+N1a335ydjFYRAIrVVRjPbAg6/bnlX0DSZHt9klxuGC3DDvMpaJERElx3+
         K5RWZJZcHwxexwiJhA1WxjJlzmaHXpaAoeXAI4UfqY+x1oQarAYT7kUGbrDVC5DpUnph
         pjtD0AWnJFHH2eglgfmvLLU9uohApN2NKkRi9Y7qDqIh1CfvDFAkp5HwiEIGswbGSimJ
         Z/bA==
MIME-Version: 1.0
Received: by 10.50.36.230 with SMTP id t6mr9051197igj.61.1336421544900; Mon,
 07 May 2012 13:12:24 -0700 (PDT)
Received: by 10.64.12.141 with HTTP; Mon, 7 May 2012 13:12:24 -0700 (PDT)
In-Reply-To: <04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com>
References: <CAHbFqB3xjBp6ATLWg7ajoygQH9HHB8K4OOOyhrCi+9nkN++wBw@mail.gmail.com>
	<04aff8af-99d6-4ec2-9359-f674c2b1fb87@email.android.com>
Date: Mon, 7 May 2012 13:12:24 -0700
Message-ID: <CAHbFqB33F+=kbjN99ZhnJ9kN8Q+Z0da-xMTOO-AO8NP7w62TZw@mail.gmail.com>
Subject: Re: JAX-RS on Tomcat 7 and Java 1.7
From: Rod Macpherson <treespace@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934054f74371504bf77e3b6
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae934054f74371504bf77e3b6
Content-Type: text/plain; charset=ISO-8859-1

>> What gave you that impression?

Honestly? Web-based anecdotal reports to that effect (can't find the link
now, of course). Anyway,  I assume that's not the case based on your
question:)  I shall drop in an implementation (e.g., RESTEasy) and go from
there.

Thanks

On Mon, May 7, 2012 at 12:04 AM, <markt@apache.org> wrote:

> Rod Macpherson <treespace@gmail.com> wrote:
>
> >I was under the impression Tomcat 7 supported JAX-RS out of the box.
>
> What gave you that impression?
>
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae934054f74371504bf77e3b6--

From users-return-234059-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:27:40 2012
Return-Path: <users-return-234059-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1935C0BC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:27:40 +0000 (UTC)
Received: (qmail 21589 invoked by uid 500); 7 May 2012 20:27:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21400 invoked by uid 500); 7 May 2012 20:27:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21385 invoked by uid 99); 7 May 2012 20:27:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:27:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.155] (HELO nm25-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.155)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 May 2012 20:27:27 +0000
Received: from [98.138.90.48] by nm25.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 20:27:06 -0000
Received: from [98.138.226.164] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 20:27:05 -0000
Received: from [127.0.0.1] by omp1065.mail.ne1.yahoo.com with NNFMP; 07 May 2012 20:27:05 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 891834.16365.bm@omp1065.mail.ne1.yahoo.com
Received: (qmail 21216 invoked by uid 60001); 7 May 2012 20:27:05 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1336422425; bh=QqHOjXfEHTbXLvBirQxXCFUA90JmQWwF3YDIZP9FvDw=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=NJ1EJ5Rahu6Ugea5+rZ29HrixfylGHHDL//QdN5RlYNecTaKGhyQe89qfH4SyninjgT0Wofl+AJhRAYCbS5+vbUYLc0q8y+MTfeYHHDlN3cHHST0JT2OteUEEOYcn/V5ox4GUqbpuPi7CAOy8teE2AU+s+gUdUIswrCA/M0FeT0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JpYjRyTkhDdojpGg5fDMTqQMRCimapRfVSb+P1Cn509lFF7EAuCa/+rVKXtpEoZsoEQwCGARS56K08QqVq4sRgUdncCUwgtq84WxdyYpMdew30wjILLS8cH7MjBCjtA8kNxRTAAUl8klNFX0WKnTEd27OV5HyFqOdGL2c4Md4t8=;
X-YMail-OSG: xV14j40VM1lmrp_uFjz4UiEhOGt1HaJOkOzM.SRLdi29Dw_
 VDsLv5dV45SYsWx8kFVPoqK7XX0mWVxRcApHsPnd1Ther_h32VG0kKMrhpxf
 AEzY0KJ94F6aSzhS.F5BTtRR.SciaXEwf2WkQLrcfU1j.jjheJ10xxtcm2ew
 kEKFRPMnYY1oh5RDF1WQK4wu1AIvQOur6sWFSEk7muADnnIfb0uJ8m0wc9sW
 mnowLcqI5LG5PHtBziKJko.TFRriIOrFcBgu3HLyw36EXmbBpspYUjSGW8DN
 iW_gB7WGLTEYTxFrhEttvZDKwEpwKiA7wc6b_lNn1otsp8lCVfl5VRB_jhxd
 T_TfqTOUc61D4Sd19bHCbVtk8QEwiYoo4yULAYU3JAU58k_ElIkoMrfXauyn
 xBhjB3nPbWbnUB8mBMD62RN2FPzr5PgtVgJgkTXRbM7WKDY23m0AzKETj8Z6
 m3uDKwT6EMm_pK0VBXa2K8f8_tztn5BOOQPfcfL3p380QCugLknyijSEI4Ze
 Dl1mq5liG9UXzbk79JvZjXkzy3yVj
Received: from [71.134.9.186] by web125505.mail.ne1.yahoo.com via HTTP; Mon, 07 May 2012 13:27:05 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local> <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com> <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>,<-905237787951138327@unknownmsgid> <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
Message-ID: <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
Date: Mon, 7 May 2012 13:27:05 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Tomcat from remote subnet
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Charles Shreve <charles@citinc.bi=
z>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: M=
onday, May 7, 2012 12:41 PM=0A> Subject: RE: Tomcat from remote subnet=0A> =
=0A> I've tried to locate a access.log file but can't seem to find one.=0A>=
 =0A> Thank You,=0A> Charles Shreve=0A> 540-662-1414=0A> ----- Original Mes=
sage -----=0A> From:"Jose Mar=EDa Zaragoza" <demablogia@gmail.com>=0A> To:"=
Tomcat Users List" <users@tomcat.apache.org>=0A> Sent:5/7/2012 1:39 PM=0A> =
Subject:Re: Tomcat from remote subnet=0A> =0A> =0A> =0A> El 07/05/2012, a l=
as 17:59, Charles Shreve <charles@citinc.biz> escribi=F3:=0A> =0A>>  Where =
would I find the access.log?=0A>> =0A> =0A> Under tomcat folder, into=A0 lo=
gs folder=0A> =0A>>  Thank You,=0A>>  Charles Shreve=0A>>  540-662-1414=0A>=
>  ----- Original Message -----=0A>>  From:"Jose Mar=EDa Zaragoza" <demablo=
gia@gmail.com>=0A>>  To:"Tomcat Users List" <users@tomcat.apache.org>=0A>> =
 Sent:5/7/2012 11:02 AM=0A>>  Subject:Re: Tomcat from remote subnet=0A>> =
=0A>> =0A>> =0A>>  2012/5/7 Charles Shreve <charles@citinc.biz>:=0A>>> =A0 =
We are able to open a test.html page from the remote location but we =0A> c=
annot open our web app from the remote=0A>>>  location.=A0 Does Tomcat, by =
default, only allow local subnet access?=0A>> =0A>>  If you can access to a=
 test.html page from remote site, looks like=A0 it=0A>>  doesn't do it=0A>>=
  Do you see any message in access.log?=0A>> =0A>>  Regards=0A=0A=0AYou've =
said very little about your environment.=0A=0AIt would be nice to know:=0A=
=0A1. Tomcat version - be precise=0A2. Package install or downloaded from t=
omcat.apache.org=0A3. Fronted by Apache HTTPD or not=0A4. If fronted by Apa=
che HTTPD, how (mod_proxy_http, mod_proxy_ajp, mod_ajp)=0A=0AThat being sai=
d, I'll make some guesses.=0A=0AI'm going to guess for 1 and 2 . . . Tomcat=
 5.5.x installed from an RPM.=0A=0AFor 3, I'm going to guess no, and that y=
ou're either running as root for ports 80 and 443 (not advisable) or using =
commons-daemon.=0A=0ASince I'm guessing 3 is no, that renders question 4 mo=
ot.=0A=0ABy default the access log valve is commented out in the stock Tomc=
at 5.5.x and 6.0.x. It's enabled by default in Tomcat 7.0.x.=0A=0ATo turn i=
t on in 5.5.x, you need to find server.xml and uncomment the following sect=
ion.=0A=0A<!--=0A<Valve className=3D"org.apache.catalina.valves.FastCommonA=
ccessLogValve"=0A=A0 directory=3D"logs" =A0prefix=3D"localhost_access_log."=
 suffix=3D".txt"=0A=A0 pattern=3D"common" resolveHosts=3D"false"/>=0A-->=0A=
=0AThe entry will look a bit different for Tomcat 6.0.x, but it should be f=
airly obvious.=0A=0AThen restart your Tomcat service.=0A=0ANow you will nee=
d to find your log file. I suspect that RedHat places the log files in /var=
/log or a subdirectory.=0A=0AIf this is a stock Tomcat installation, then t=
he log file will be in a subdirectory called logs of your Tomcat installati=
on.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234060-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:39:37 2012
Return-Path: <users-return-234060-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A9EF3C804
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:39:37 +0000 (UTC)
Received: (qmail 50763 invoked by uid 500); 7 May 2012 20:39:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50715 invoked by uid 500); 7 May 2012 20:39:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50702 invoked by uid 99); 7 May 2012 20:39:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:39:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:39:26 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Mon, 7 May 2012 16:40:01 -0400
From: Charles Shreve <charles@citinc.biz>
To: Tomcat Users List <users@tomcat.apache.org>, Mark Eggers
	<its_toasted@yahoo.com>
Subject: RE: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltgAJcU4A///Ne2CAAF0ZAP//4QA3gABPuYCAAEBb8A==
Date: Mon, 7 May 2012 20:40:00 +0000
Message-ID: <EAEC5C1838DEEA44BA6D3B7416B12EE21177FA27@MDS01.mds.local>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
 <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>,<-905237787951138327@unknownmsgid>
 <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
 <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
In-Reply-To: <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.10.1.66]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

You've said very little about your environment.

It would be nice to know:

1. Tomcat version - be precise
2. Package install or downloaded from tomcat.apache.org 3. Fronted by Apach=
e HTTPD or not 4. If fronted by Apache HTTPD, how (mod_proxy_http, mod_prox=
y_ajp, mod_ajp)

That being said, I'll make some guesses.

I'm going to guess for 1 and 2 . . . Tomcat 5.5.x installed from an RPM.

For 3, I'm going to guess no, and that you're either running as root for po=
rts 80 and 443 (not advisable) or using commons-daemon.

Since I'm guessing 3 is no, that renders question 4 moot.

By default the access log valve is commented out in the stock Tomcat 5.5.x =
and 6.0.x. It's enabled by default in Tomcat 7.0.x.

To turn it on in 5.5.x, you need to find server.xml and uncomment the follo=
wing section.

<!--
<Valve className=3D"org.apache.catalina.valves.FastCommonAccessLogValve"
=A0 directory=3D"logs" =A0prefix=3D"localhost_access_log." suffix=3D".txt"
=A0 pattern=3D"common" resolveHosts=3D"false"/>
-->

The entry will look a bit different for Tomcat 6.0.x, but it should be fair=
ly obvious.

Then restart your Tomcat service.

Now you will need to find your log file. I suspect that RedHat places the l=
og files in /var/log or a subdirectory.

If this is a stock Tomcat installation, then the log file will be in a subd=
irectory called logs of your Tomcat installation.

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org



Mark,

Tomcat version is 5.5.23

I'm not sure how it was installed, as I was not involved with the setup of =
tomcat from the beginning so I can't answer that question.

If fronted by Apache, I'm not sure, but I do not believe so, because Apache=
 is not running.

Unfortunately, we are using ports 80 and 443.  Again, I got handed this pro=
ject because it wasn't working right, so I'm caught in the middle with the =
whole setup. =20

I have looked at the server.xml file and found that the log is commented ou=
t, so I will get that changed which will hopefully point us to our main pro=
blem. =20

Thanks, Charles


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234061-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:53:35 2012
Return-Path: <users-return-234061-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7ABD4C85F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:53:35 +0000 (UTC)
Received: (qmail 1192 invoked by uid 500); 7 May 2012 20:53:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1127 invoked by uid 500); 7 May 2012 20:53:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1117 invoked by uid 99); 7 May 2012 20:53:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:53:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:53:24 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id 77kX1j0021ap0As598t3Cl; Mon, 07 May 2012 20:53:03 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id 78t21j01238FjT13i8t3U4; Mon, 07 May 2012 20:53:03 +0000
Message-ID: <4FA8362E.1040605@christopherschultz.net>
Date: Mon, 07 May 2012 16:53:02 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: munin tomcat and mysql
References: <4FA7F557.5070407@yahoo.es>
In-Reply-To: <4FA7F557.5070407@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/7/12 12:16 PM, Miguel Gonzlez Castaos wrote:
> Since it's a virtual machine, is munin going to take many
> resources of my system or is it a light tool?

Maybe ask on the Munin list?

> Does anyone know of any nice tutorial of installing in CentOS and 
> Tomcat? I find many articles about installing in CentOS and Apache,
> but not Tomcat

It appears that Munin is written in Perl, which isn't the best
environment for deploying into Tomcat. Tomcat does support CGI (you'll
have to enable it: there is fairly clear documentation on how to set
it up) but it's probably more appropriate to use Apache httpd or one
of the lighter HTTP servers out there (lighttpd, nginx, etc.).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oNi4ACgkQ9CaO5/Lv0PCF5gCdG3D7mCALTUC9ULBkSjSZdHDj
+wQAnRtg1ygFWU+ddgkyj2L1QC8QhyOR
=QORh
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234062-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 20:58:11 2012
Return-Path: <users-return-234062-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 19CFBC89F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 20:58:11 +0000 (UTC)
Received: (qmail 16914 invoked by uid 500); 7 May 2012 20:58:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16784 invoked by uid 500); 7 May 2012 20:58:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16773 invoked by uid 99); 7 May 2012 20:58:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:58:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 20:57:59 +0000
Received: from [192.168.245.129] (p549E0CA9.dip0.t-ipconnect.de [84.158.12.169])
	by tor.combios.es (Postfix) with ESMTPA id 2ADC4DA07A8
	for <users@tomcat.apache.org>; Mon,  7 May 2012 22:57:35 +0200 (CEST)
Message-ID: <4FA8373F.3080102@ice-sa.com>
Date: Mon, 07 May 2012 22:57:35 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Adding the manager app to a Standalone tomcat install
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com> <4FA2D0FC.6040701@ice-sa.com> <CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com> <CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com> <4FA318DF.6090203@christopherschultz.net> <CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com> <CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com> <4FA3E9F1.7000304@christopherschultz.net> <CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com> <CAJF7AOqB=PwtB4P94Ck=qxYjQWTxZVjwrPVdtkoD6qGGAO9_qA@mail.gmail.com> <4FA7F7DB.9040404@gma
 il.com>
In-Reply-To: <4FA7F7DB.9040404@gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Ognjen Blagojevic wrote:
> Todd,
> 
> On 4.5.2012 22:01, Todd Seidenberg wrote:
>> xx.x.32.16 - - [04/May/2012:13:59:05 -0600] "GET /manager/html HTTP/1.1"
>> 404 991 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.19 (KHTML,
>> like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151 Chrome/18.0.1025.151
>> Safari/535.19"
>> xx.x.32.16 - - [04/May/2012:13:59:34 -0600] "GET /manager/html HTTP/1.1"
>> 404 991 "http://cascade:8090/" "Mozilla/5.0 (X11; Linux x86_64)
>> AppleWebKit/535.19 (KHTML, like Gecko) Ubuntu/12.04 
>> Chromium/18.0.1025.151
>> Chrome/18.0.1025.151 Safari/535.19"
> 
> Brainstorming...
> 
> Did you check access permissions for webapps/manager directory and its 
> contents? User running Tomcat must be able to read it.
> 

And one more thing to try :
- Stop Tomcat
- delete all the Tomcat logfiles (before that, save a copy somewhere, for later reference)
- delete the directory /usr/local/confluence-4/conf/Standalone/ and all its content 
(Tomcat will regenerate it)
- start Tomcat and try again to access the manager app
- stop Tomcat
- paste the full content here, of the logfile which shows Tomcat being started and the 
applications being deployed, up to the end showing Tomcat being stopped

Note: the directory /usr/local/confluence-4/conf/Standalone/ is named so, instead of the 
more classic /usr/local/confluence-4/conf/Catalina/, because in your server.xml, the 
<Engine> tag has been modified, compared to the standard Tomcat 6 server.xml.
(the "name" attribute value was changed from "Catalina" to "Standalone").
(And maybe this has something to do with the issue here; it may in any case change the way 
things are being logged)





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234063-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:00:28 2012
Return-Path: <users-return-234063-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C664C8CA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:00:28 +0000 (UTC)
Received: (qmail 24863 invoked by uid 500); 7 May 2012 21:00:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24679 invoked by uid 500); 7 May 2012 21:00:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24670 invoked by uid 99); 7 May 2012 21:00:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:00:25 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [65.55.88.11] (HELO tx2outboundpool.messaging.microsoft.com) (65.55.88.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:00:17 +0000
Received: from mail144-tx2-R.bigfish.com (10.9.14.235) by
 TX2EHSOBE007.bigfish.com (10.9.40.27) with Microsoft SMTP Server id
 14.1.225.23; Mon, 7 May 2012 20:59:42 +0000
Received: from mail144-tx2 (localhost [127.0.0.1])	by
 mail144-tx2-R.bigfish.com (Postfix) with ESMTP id 44B1336023D	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 20:59:42 +0000 (UTC)
X-SpamScore: -16
X-BigFish: VPS-16(zz9371I542M1432N98dK62a3Izz1202hzz8275bh8275dhz2dh2a8h668h839h944hd25h)
X-Forefront-Antispam-Report: CIP:65.55.171.153;KIP:(null);UIP:(null);IPV:NLI;H:VA3DIAHUB050.RED001.local;RD:smtp801.microsoftonline.com;EFVD:NLI
Received: from mail144-tx2 (localhost.localdomain [127.0.0.1]) by mail144-tx2
 (MessageSwitch) id 1336424380416881_27920; Mon,  7 May 2012 20:59:40 +0000
 (UTC)
Received: from TX2EHSMHS004.bigfish.com (unknown [10.9.14.252])	by
 mail144-tx2.bigfish.com (Postfix) with ESMTP id 6108730005A	for
 <users@tomcat.apache.org>; Mon,  7 May 2012 20:59:40 +0000 (UTC)
Received: from VA3DIAHUB050.RED001.local (65.55.171.153) by
 TX2EHSMHS004.bigfish.com (10.9.99.104) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Mon, 7 May 2012 20:59:39 +0000
Received: from VA3DIAXVSA21.RED001.local ([10.16.28.68]) by
 VA3DIAHUB050.RED001.local ([10.8.230.49]) with mapi; Mon, 7 May 2012 13:59:43
 -0700
From: Sanjeev Sharma <sanjeev.sharma@buchanan-edwards.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 7 May 2012 13:59:41 -0700
Subject: RE: JDBC Connection over VPN
Thread-Topic: JDBC Connection over VPN
Thread-Index: Ac0sip7yR+tmOd94SsmxSsV3Di9DSgAAC4dgAAI/k0A=
Message-ID: <6A6CD2CCB56C3F448F6609172C07A21818A0A846@VA3DIAXVSA21.RED001.local>
References: <6A6CD2CCB56C3F448F6609172C07A21818A0A7FB@VA3DIAXVSA21.RED001.local>
	<08382548D50D3049BD5599E1E3146B34174C2118B7@exgtmb06.nam.nsroot.net>
	<6A6CD2CCB56C3F448F6609172C07A21818A0A805@VA3DIAXVSA21.RED001.local>
 <CA+Fk9f5tR=r8od62-U0dF5kV7qa1KNNUcOtvHeknREBKpeYjcA@mail.gmail.com>
 <6A6CD2CCB56C3F448F6609172C07A21818A0A813@VA3DIAXVSA21.RED001.local>
In-Reply-To: <6A6CD2CCB56C3F448F6609172C07A21818A0A813@VA3DIAXVSA21.RED001.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: buchanan-edwards.com

Rm91bmQgYSBzb2x1dGlvbnMgZm9yIHRoaXMuICBBcHBhcmVudGx5IEphdmEgNyB3cmFwcyBJUFY0
IGFkZHJlc3NlcyBhcyBJUFY2LCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IENpc2NvIEFueWNv
bm5lY3QuICBUdXJuaW5nIG9mIElQVjYgb24gdGhlIENpc2NvIFZQTiBhZGFwdGVyIChDb250cm9s
IFBhbmVsXE5ldHdvcmsgYW5kIEludGVybmV0XE5ldHdvcmsgQ29ubmVjdGlvbnMpIGZpeGVkIHRo
ZSBwcm9ibGVtLg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogU2FuamVldiBT
aGFybWEgW21haWx0bzpzYW5qZWV2LnNoYXJtYUBidWNoYW5hbi1lZHdhcmRzLmNvbV0gDQpTZW50
OiBNb25kYXksIE1heSAwNywgMjAxMiA0OjA0IFBNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1
YmplY3Q6IFJFOiBKREJDIENvbm5lY3Rpb24gb3ZlciBWUE4NCg0KVGVsbmV0IHNlZW1zIHRvIGNv
bm5lY3QuDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBTYXVyYWJoIE1ha29s
IFttYWlsdG86c2F1cmFiaC5tYWtvbEBnbWFpbC5jb21dDQpTZW50OiBNb25kYXksIE1heSAwNywg
MjAxMiAzOjUwIFBNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJlOiBKREJDIENv
bm5lY3Rpb24gb3ZlciBWUE4NCg0KQ2FuIHlvdSBydW4NCg0KdGVsbmV0IDxEYXRhaGJhc2VJcGFk
ZHJlc3M+IDE1MjEgZnJvbSBjb21tYW5kIHByb21wdCB3aGVuIHlvdSBWUE4gaW50byB5b3VyIG5l
dHdvcms/DQoNCk9uIE1vbiwgTWF5IDcsIDIwMTIgYXQgMzo0NiBQTSwgU2FuamVldiBTaGFybWEg
PCBzYW5qZWV2LnNoYXJtYUBidWNoYW5hbi1lZHdhcmRzLmNvbT4gd3JvdGU6DQoNCj4gVXNpbmcg
cG9ydCAxNTIxIGluIGJvdGggY2FzZXMsIGJ1dCBpdCBvbmx5IGZhaWxzIGZvciBKREJDLg0KPg0K
PiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBQcm9wZXMsIEJhcnJ5IEwgW21h
aWx0bzpiYXJyeS5sLnByb3Blc0BjaXRpLmNvbV0NCj4gU2VudDogTW9uZGF5LCBNYXkgMDcsIDIw
MTIgMzo0MyBQTQ0KPiBUbzogJ1RvbWNhdCBVc2VycyBMaXN0Jw0KPiBTdWJqZWN0OiBSRTogSkRC
QyBDb25uZWN0aW9uIG92ZXIgVlBODQo+DQo+IENvdWxkIHRoZSBWUE4gY29ubmVjdGlvbiBiZSB1
dGxpemluZyB0aGUgc2FtZSBwb3J0IFRvbWNhdCBvciBPcmFjbGUgDQo+IHVzdWFsbHkgZG9lcz8g
TGlrZSBzb21ldGhpbmcgYXQgODA4MD8NCj4NCj4gTm90IHN1cmUgaWYgdGhhdCdzIHRoZSBjYXNl
OyBvciBjb252ZXJzZWx5LCBkb2VzIGdvaW5nIGludG8gVlBOIGJsb2NrIA0KPiB0aG9zZSBwb3J0
cz8NCj4NCj4NCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogU2FuamVldiBT
aGFybWEgW21haWx0bzpzYW5qZWV2LnNoYXJtYUBidWNoYW5hbi1lZHdhcmRzLmNvbV0NCj4gU2Vu
dDogTW9uZGF5LCBNYXkgMDcsIDIwMTIgMjozNiBQTQ0KPiBUbzogVG9tY2F0IFVzZXJzIExpc3QN
Cj4gU3ViamVjdDogSkRCQyBDb25uZWN0aW9uIG92ZXIgVlBODQo+DQo+IEhpLA0KPg0KPiBOb3Qg
c3VyZSBpZiB0aGlzIGlzIGEgVG9tY2F0IGlzc3VlLiAgV2hlbiBJIGNvbm5lY3QgZGlyZWN0bHkg
dG8gYSANCj4gbmV0d29yayBhbmQgc3RhcnR1cCBteSB0b21jYXQgNywgbXkgSkRCQyBjb25uZWN0
aW9uIHRvIGFuIE9yYWNsZSAxMWcgDQo+IG5ldHdvcmsgd29ya3MganVzdCBmaW5lLCBidXQgaWYg
SSB0dW5uZWwgaW50byB0aGUgc2FtZSBuZXR3b3JrLCBKREJDIA0KPiBmYWlscyB0byBjb25uZWN0
IHRvIHRoZSBkYXRhYmFzZS4gIEF0IHRoZSBzYW1lIHRpbWUgSSdtIGFibGUgdG8gbWFrZSBhIA0K
PiBjb25uZWN0aW9uIHRvIHRoZSBzYW1lIGRhdGFiYXNlIHVzaW5nIFNRTCBEZXZlbG9wZXIvU1FM
IFBsdXMuICBNeSANCj4gbmV0d29yayBwZW9wbGUgdGVsbCBtZSB0aGF0IGFsbCBwb3J0cyBhcmUg
b3BlbiB0byBtZSBhbmQgd2hlbiB0aGV5IHRyeSANCj4gdG8gY2FwdHVyZSBwYWNrZXRzIGNvbWlu
ZyBmcm9tIG1lLCB0aGV5IHNlZSBub3RoaW5nIGlmIEknbSBzdGFydGluZyB1cCANCj4gbXkgdG9t
Y2F0LiAgSSdtIG5vdCBhIE5ldHdvcmsgb3IgVlBOIGV4cGVydCwgYnV0IGFzIGZhciBhcyBJIGtu
b3csIGF0IA0KPiB0aGUgYXBwbGljYXRpb24gbGV2ZWwgaXQgc2hvdWxkIGJlaGF2ZSBqdXN0IGFz
IGlmIEknbSBjb25uZWN0ZWQgDQo+IGRpcmVjdGx5IHRvIHRoZSBuZXR3b3JrIGFuZCBzaG91bGRu
J3QgaGF2ZSB0byB3b3JyeSBhYm91dCB3aGljaCANCj4gbmV0d29yayBhZGFwdGVyIHRvIHVzZSAo
YnVpbHQgaW4gb3IgVlBOKSwgYW5kIHNob3VsZG4ndCBoYXZlIHRvIHdvcnJ5IA0KPiBhYm91dCBy
b3V0aW5nLiAgSSdtIGF0IGEgY29tcGxldGUgbG9zcywgc28gSSdtIGp1c3QgaG9waW5nIHRoZXJl
IGlzIA0KPiBtYWdpY2FsIHRvbWNhdCBzZXR0aW5nIHdoaWNoIHdpbGwgZml4IG15IHByb2JsZW0u
ICBBbnkgaGVscCB3b3VsZCBiZSBhcHByZWNpYXRlZCAuDQo+DQo+IFRoYW5rcy4NCj4NCj4gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRv
bWNhdC5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVzZXJz
LWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCj4NCj4NCj4NCgNCP0tLS0tLS0tLS0tLS0tLS0tLS0tL
S0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0I/Gz8dWz8/
WD8/Pz9YP0sIGUtbWFpbDQo/HVw/XD8/XVs/P1g/Pz8/WD9QHRs/WD9dDQo/XBhYPxlLPz8/P0I/
Pz8/GFkZGl0aWz8/WwgYPz9bWFs/HD8IGUtbWFpbDQo/HVw/XD8/WhlbHBAdGz9YP10NCj9cGFg/
GUs/Pz8/Qj8NCg==

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234064-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:01:36 2012
Return-Path: <users-return-234064-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96C25C8D4
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:01:36 +0000 (UTC)
Received: (qmail 33789 invoked by uid 500); 7 May 2012 21:01:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33709 invoked by uid 500); 7 May 2012 21:01:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33700 invoked by uid 99); 7 May 2012 21:01:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:01:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:01:26 +0000
Received: from omta02.westchester.pa.mail.comcast.net ([76.96.62.19])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 783P1j0030QuhwU5191572; Mon, 07 May 2012 21:01:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta02.westchester.pa.mail.comcast.net with comcast
	id 79151j00e38FjT13N9151f; Mon, 07 May 2012 21:01:05 +0000
Message-ID: <4FA83811.5010401@christopherschultz.net>
Date: Mon, 07 May 2012 17:01:05 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 - No modifications are allowed to a locked ParameterMap
References: <4FA19F85.3000302@computer.org> <99C8B2929B39C24493377AC7A121E21FB01986E625@USEA-EXCH8.na.uis.unisys.com> <4FA1CAC8.1060703@computer.org> <4FA1DA5E.2050503@christopherschultz.net> <4FA2D45D.3050407@computer.org> <4FA37D1F.1070203@pidster.com> <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com>
In-Reply-To: <1336191027.31696.YahooMailNeo@web193203.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ravi,

On 5/5/12 12:10 AM, ravi kant chaturvedi wrote:
> i got the proper solution for my problem, so i do not require more 
> mails from this list.
> 
> please stop the mail, because this is spoiling my mail box.

Pro tip: filter your email. It's what all the cool kids are doing
these days.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oOBEACgkQ9CaO5/Lv0PDruACfXdlNov5EOvbRMogT+A7aUcu3
ed0AmQEymREUPDcvAF4CJzwjyK7UsFLF
=QqeW
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234065-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:03:12 2012
Return-Path: <users-return-234065-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DA23C8E6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:03:12 +0000 (UTC)
Received: (qmail 42016 invoked by uid 500); 7 May 2012 21:03:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41788 invoked by uid 500); 7 May 2012 21:03:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41779 invoked by uid 99); 7 May 2012 21:03:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:03:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:03:01 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id 792b1j0010vyq2s5992hGo; Mon, 07 May 2012 21:02:41 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id 792h1j00p38FjT13R92h4h; Mon, 07 May 2012 21:02:41 +0000
Message-ID: <4FA83870.5070905@christopherschultz.net>
Date: Mon, 07 May 2012 17:02:40 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org>
In-Reply-To: <4FA63ED4.8000109@apache.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mark,

On 5/6/12 5:05 AM, Mark Thomas wrote:
> On 05/05/2012 12:25, Kanatoko wrote:
>> Hello list,
>> 
>> It seems that the Connector attribute "maxParameterCount" is not
>> applied to multipart requests.
> 
> Correct. This is by design.

Doesn't that make it trivial to launch a DOS on a server by simply
using multipart/form-data?

Why not limit parameters for multipart messages?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oOHAACgkQ9CaO5/Lv0PBkkQCfdeU08rQROXXu3xuna1Wy4sFy
QigAoLhO+gH1ilVSwSUNhVO6QbgvBP6b
=7J+w
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234066-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:11:26 2012
Return-Path: <users-return-234066-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3713C93F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:11:26 +0000 (UTC)
Received: (qmail 70961 invoked by uid 500); 7 May 2012 21:11:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70899 invoked by uid 500); 7 May 2012 21:11:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70830 invoked by uid 99); 7 May 2012 21:11:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:11:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:11:15 +0000
Received: from [192.168.245.129] (p549E0CA9.dip0.t-ipconnect.de [84.158.12.169])
	by tor.combios.es (Postfix) with ESMTPA id 4FB04DA07A8
	for <users@tomcat.apache.org>; Mon,  7 May 2012 23:10:50 +0200 (CEST)
Message-ID: <4FA83A5A.5030300@ice-sa.com>
Date: Mon, 07 May 2012 23:10:50 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net>
In-Reply-To: <4FA83870.5070905@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Mark,
> 
> On 5/6/12 5:05 AM, Mark Thomas wrote:
>> On 05/05/2012 12:25, Kanatoko wrote:
>>> Hello list,
>>>
>>> It seems that the Connector attribute "maxParameterCount" is not
>>> applied to multipart requests.
>> Correct. This is by design.
> 
> Doesn't that make it trivial to launch a DOS on a server by simply
> using multipart/form-data?
> 
> Why not limit parameters for multipart messages?

Impish guess : because "by design" means that it is a lot harder to go dig into the code 
borrowed from Commons/FileUpload and to modify it to find out and limit the number of 
parameters ?
(and probably a "patches welcome" to follow)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234067-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:13:54 2012
Return-Path: <users-return-234067-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 635CDC960
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:13:54 +0000 (UTC)
Received: (qmail 82910 invoked by uid 500); 7 May 2012 21:13:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82858 invoked by uid 500); 7 May 2012 21:13:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82844 invoked by uid 99); 7 May 2012 21:13:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:13:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:13:44 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 6z8R1j0051ei1Bg519DQ2h; Mon, 07 May 2012 21:13:24 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id 79DQ1j01f38FjT13k9DQCc; Mon, 07 May 2012 21:13:24 +0000
Message-ID: <4FA83AF4.6060908@christopherschultz.net>
Date: Mon, 07 May 2012 17:13:24 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat pausing and no java process
References: <4FA25F8C.6030804@yahoo.es> <4FA28854.6000300@pidster.com> <4FA29612.10106@yahoo.es> <4FA29D50.5060404@christopherschultz.net> <4FA2A64B.4050301@yahoo.es> <4FA2B078.10501@christopherschultz.net> <4FA2BA43.10102@yahoo.es> <4FA2C778.8010008@christopherschultz.net> <4FA2CDB0.1050908@yahoo.es> <4FA2E4E4.6050101@christopherschultz.net> <4FA4F5BF.9080107@yahoo.es>
In-Reply-To: <4FA4F5BF.9080107@yahoo.es>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/5/12 5:41 AM, Miguel Gonzlez Castaos wrote:
>>> Yes, I have pinpointed several queries that took quite long
>>> and specially subqueries. I forwarded this info to the
>>> developer but she said it was alright. More than a second to
>>> run a query seems to be a lot to me.
>> That depends on what the query does. If it checks permissions to 
>> login, that's insane and you should get a new programmer. If it's
>> a reporting query that gathers lots of data then 1 second might
>> not be quite so far-fetched.
> 
> I have checked directly the slow query log to pinpoint the real
> queries. I found many subqueries, which I believe is not a good
> practice, am I right?

There's nothing wrong with subqueries in general, it's just that the
MySQL query optimizer appears to be particularly stupid when it comes
to them, and you often end up with *DEPENDENT* subqueries which
essentially issue N queries instead of only 2 queries (if the subquery
for instance were to be independent, it could be evaluated first and
then essentially substituted in the outer query). Only EXPLAIN can
tell you what will happen with each query. Remember to use live data
with EXPLAIN because the query optimizer is very sensitive to the data
it will be scanning... if you have a test table with 5 records in it,
you're going to get worthless EXPLAIN results.

> Many queries take around 2 seconds and I found two queries that 
> took 16 seconds and 64 seconds to run (with many subqueries
> nested).

Those numbers are meaningless to anyone who isn't on your development
team. A 2-second query might be perfectly reasonable... depending on
the actual query, the requirements, the frequency of that query being
executed, user expectations, etc.

> Is there any way I can log if any query is causing any trouble in
> the Tomcat resources?

If a query takes 64 seconds to run, it means that a JDBC Connection
will be absent from your connection pool for *at least* that long. If
you have P pooled connections that take T seconds to execute on
average, than you can only serve P/T requests per second. If your
webapp is very database-heavy, that can be a problem depending on your
values for P and T. Note that simply increasing the number of
connections in your pool may make things worse (because you are giving
the database more work that it can't keep up with). Sometimes,
limiting the number of connections can be beneficial, because the
average response time from the database will improve, while the
average wait time for a connection from the pool will increase. It all
gets down to the resources you have.

The Tomcat DBCP (not the default one) has some nice options for
instrumentation -- you'll have to read about those on your own because
I don't have any experience with them. Tomcat and/or commons-dbcp
expose some information via JMX but I think it's fairly basic stuff
like average-wait-times for checkout and stuff like that.

Something I've done over the years is develop a habit of putting trace
logs everywhere. You can always configure the logger on the fly to log
some trace output during times where performance starts to nosedive.

Thread dumps can be very helpful as well. You might also want to look
at running 'sar' all the time to get CPU/IO/etc sampling to see if you
have any other kind of resource shortcoming.

>>> The developer is quitting so I hope a new developer is more 
>>> cooperative and we can work out these things.
>> 
>> So you're saying that you're not going to get a lot of good 
>> information out of him/her?
>> 
> Not much.

$0.02: Don't wait to fire him or her: revoke access to everything and
get them out the door. If they aren't going to be helpful, at least
make sure they aren't going to be harmful.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oOvQACgkQ9CaO5/Lv0PASbwCfXtxWE+aCAAk4COYToY4twySX
szEAoLUdvfr7Qm/SOmdHm1p/NtjoVu+W
=4uoI
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234068-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:21:52 2012
Return-Path: <users-return-234068-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD382C9B3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:21:52 +0000 (UTC)
Received: (qmail 5114 invoked by uid 500); 7 May 2012 21:21:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5053 invoked by uid 500); 7 May 2012 21:21:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5043 invoked by uid 99); 7 May 2012 21:21:49 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:21:49 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:21:49 +0000
Message-ID: <4FA83CEA.3070401@apache.org>
Date: Mon, 07 May 2012 22:21:46 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com>
In-Reply-To: <4FA83A5A.5030300@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 07/05/2012 22:10, Andr Warnier wrote:
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Mark,
>>
>> On 5/6/12 5:05 AM, Mark Thomas wrote:
>>> On 05/05/2012 12:25, Kanatoko wrote:
>>>> Hello list,
>>>>
>>>> It seems that the Connector attribute "maxParameterCount" is not
>>>> applied to multipart requests.
>>> Correct. This is by design.
>>
>> Doesn't that make it trivial to launch a DOS on a server by simply
>> using multipart/form-data?

Only if the application does something stupid which would make it an
application issue not a Tomcat one.

Tomcat only processes these requests for Servlet 3.0 file upload and
there are already sufficient limits in place for that case to prevent a DoS.

>> Why not limit parameters for multipart messages?
> 
> Impish guess : because "by design" means that it is a lot harder to go
> dig into the code borrowed from Commons/FileUpload and to modify it to
> find out and limit the number of parameters ?
> (and probably a "patches welcome" to follow)

Nope. See above.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234069-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:23:02 2012
Return-Path: <users-return-234069-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D784C9BA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:23:02 +0000 (UTC)
Received: (qmail 11022 invoked by uid 500); 7 May 2012 21:22:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10962 invoked by uid 500); 7 May 2012 21:22:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10952 invoked by uid 99); 7 May 2012 21:22:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:22:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:22:52 +0000
Received: from omta06.westchester.pa.mail.comcast.net ([76.96.62.51])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id 79KE1j00816LCl05B9NYhT; Mon, 07 May 2012 21:22:32 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta06.westchester.pa.mail.comcast.net with comcast
	id 79NY1j00Q38FjT13S9NYtB; Mon, 07 May 2012 21:22:32 +0000
Message-ID: <4FA83D18.8050406@christopherschultz.net>
Date: Mon, 07 May 2012 17:22:32 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com>
In-Reply-To: <4FA83A5A.5030300@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/7/12 5:10 PM, Andr Warnier wrote:
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> Mark,
>> 
>> On 5/6/12 5:05 AM, Mark Thomas wrote:
>>> On 05/05/2012 12:25, Kanatoko wrote:
>>>> Hello list,
>>>> 
>>>> It seems that the Connector attribute "maxParameterCount" is
>>>> not applied to multipart requests.
>>> Correct. This is by design.
>> 
>> Doesn't that make it trivial to launch a DOS on a server by
>> simply using multipart/form-data?
>> 
>> Why not limit parameters for multipart messages?
> 
> Impish guess : because "by design" means that it is a lot harder to
> go dig into the code borrowed from Commons/FileUpload and to modify
> it to find out and limit the number of parameters ?

Probably not: commons-fileupload isn't a dependency of Tomcat, at
least not in trunk. Tomcat performs its own multipart handling in
o.a.c.connector.Request.parseParts.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oPRgACgkQ9CaO5/Lv0PAcTgCfUQfTQT+kvWq42E9ECIBTXgiN
oEYAnRdnbUmTirs+CNJWFo1WwO5QPRW1
=dgQ6
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234070-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:25:19 2012
Return-Path: <users-return-234070-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EFFC904C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:25:19 +0000 (UTC)
Received: (qmail 19958 invoked by uid 500); 7 May 2012 21:25:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19881 invoked by uid 500); 7 May 2012 21:25:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19871 invoked by uid 99); 7 May 2012 21:25:15 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:25:15 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:25:15 +0000
Message-ID: <4FA83DB8.4000607@apache.org>
Date: Mon, 07 May 2012 22:25:12 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83D18.8050406@christopherschultz.net>
In-Reply-To: <4FA83D18.8050406@christopherschultz.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 07/05/2012 22:22, Christopher Schultz wrote:
> Andr,
> 
> On 5/7/12 5:10 PM, Andr Warnier wrote:
>> Christopher Schultz wrote:
>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>>> 
>>> Mark,
>>> 
>>> On 5/6/12 5:05 AM, Mark Thomas wrote:
>>>> On 05/05/2012 12:25, Kanatoko wrote:
>>>>> Hello list,
>>>>> 
>>>>> It seems that the Connector attribute "maxParameterCount"
>>>>> is not applied to multipart requests.
>>>> Correct. This is by design.
>>> 
>>> Doesn't that make it trivial to launch a DOS on a server by 
>>> simply using multipart/form-data?
>>> 
>>> Why not limit parameters for multipart messages?
> 
>> Impish guess : because "by design" means that it is a lot harder
>> to go dig into the code borrowed from Commons/FileUpload and to
>> modify it to find out and limit the number of parameters ?
> 
> Probably not: commons-fileupload isn't a dependency of Tomcat, at 
> least not in trunk. Tomcat performs its own multipart handling in 
> o.a.c.connector.Request.parseParts.

That is a packaged renamed fork of commons file upload.

Mark
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJPqD24AAoJEBDAHFovYFnn7K8QAJ2jSzQcFq8gZ6RP0rKIQqRv
Y79bgUOqE3uNnDJcDfLZJz30RTOL4jGKWM94RHPOT7VyGZrQCagg+LdsXDK3OB81
4TLOkX4UgmtJUU23yHrP9GdtwIOgc6dM/B2U6RUKoRovXz3i6nCcxLyZCxeid2kv
sQFLhatr4ZlGDP7zZb0mwoVrqfNLQK5GdGNbEHf76KAkJO70UzukbaynBiOYzuFs
xhB+j++pxvwKqWTWoubWpaZF3872DC7eMtXRaDrPE0jlhzjPb2fVtXgJ1YdaW77L
WvIoAkzvzmnsxNuYyuvZSIIOa0oF/fYmqa3vQgA0BEkc68Z8/E+56wORTVvlD2nr
spYv0bSHbOh2L6lohlfxVPdWlgRGnPrD7WwemWKTekStxvLcQtOW0dbLTowQJHw4
hfktr+EM6WzdXLM0/OGHJb4G7X4GCEtgJ37KZcQ9aFwZuigggD26XrTU8T/Lc+mF
rpkjyXf7wAncnyoY4dliEPOp19aLz/rt0sQ/7y2Pq9GzXyACtBz8GHmJzOVBVA/m
u1YHta/pySnkeYWp2zsTGiPlj7736MH9okdt9DgXElHsX51rzbzs/wiMZ4rSNv67
k7voLXv/AkaseKEJ8GJf3Dv8mqovaLA4BsgdnjOhAwEEz4GFUDC3EM0BBCB7Wn07
F9ONxVdq7EgSJWX3Iqfr
=niIb
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234071-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 21:27:00 2012
Return-Path: <users-return-234071-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04BC59A98
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 21:26:59 +0000 (UTC)
Received: (qmail 26471 invoked by uid 500); 7 May 2012 21:26:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26251 invoked by uid 500); 7 May 2012 21:26:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26240 invoked by uid 99); 7 May 2012 21:26:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:26:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 21:26:48 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id 79LV1j0070bG4ec5E9SUzZ; Mon, 07 May 2012 21:26:28 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id 79SU1j01G38FjT13P9SUTq; Mon, 07 May 2012 21:26:28 +0000
Message-ID: <4FA83E04.8020502@christopherschultz.net>
Date: Mon, 07 May 2012 17:26:28 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org>
In-Reply-To: <4FA83CEA.3070401@apache.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mark,

On 5/7/12 5:21 PM, Mark Thomas wrote:
>> Christopher Schultz wrote:
> 
> Tomcat only processes these requests for Servlet 3.0 file upload
> and there are already sufficient limits in place for that case to
> prevent a DoS.

Aah, right: multipart is only supported if the servlet has been marked
as such, and therefore the developer knows to expect large mounts of
data (and can configure such limits).

The wildcard is the "casual multipart parsing" which allows any
multipart request to be parsed without regard for such limits. Any
limits (data size) imposed on the connector will be used in those
cases, but "maximum number of parameters" is not one of them. I should
probably update the documentation for that feature to make a note of
this caveat.

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+oPgQACgkQ9CaO5/Lv0PDfsQCfenpODeLldl9RNBjyUPBfa/5u
cZQAoJ06K0bQNIwOC6UWi9/ZzuQAU3CN
=xodQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234072-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 22:34:15 2012
Return-Path: <users-return-234072-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DC6BC2B6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 22:34:15 +0000 (UTC)
Received: (qmail 15816 invoked by uid 500); 7 May 2012 22:34:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15757 invoked by uid 500); 7 May 2012 22:34:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15747 invoked by uid 99); 7 May 2012 22:34:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 22:34:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.61] (HELO nm26-vm1.bullet.mail.ne1.yahoo.com) (98.138.91.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 May 2012 22:34:02 +0000
Received: from [98.138.90.55] by nm26.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 22:33:40 -0000
Received: from [98.138.89.175] by tm8.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 22:33:40 -0000
Received: from [127.0.0.1] by omp1031.mail.ne1.yahoo.com with NNFMP; 07 May 2012 22:33:40 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 756679.47006.bm@omp1031.mail.ne1.yahoo.com
Received: (qmail 48459 invoked by uid 60001); 7 May 2012 22:33:40 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1336430020; bh=3mz09GqTnq1weo8+Ne/qx1A5c74AaJ6BJrqdCCbHWPI=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=6HBvsdhI1Ps0tzg6MfWvw4VmmveeB6hz0plgxVGXGmrcjwzM85TjF3rw23pAeWexq1g7mJjlUgYtfGj+VcEElc2hjU3sejggvEuV3PxDgQy3smGJFoMBTzqMMK0G5IrMPgcJGrKWjHaLDfD0s3FMC/I0HbKJwKBAHPYLL1wvlh8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=bjG+58wQlmHJIROM3cGrJXnXTBM1J3R45WYQVC8j1joOM2u6OAuDt8B3uJqjNxKNNT+lCAL4EAUErRAVJ5gZZNAVBlNClBb5WC24RoKMJmpfcZbCICfw+hcA1+iTJ/bowKqtyjofsNuVT32vFyBBtFfBhAGrMXk2FRzgB7lzcnw=;
X-YMail-OSG: Wh1hq8QVM1l_AAdVQpCdmyrFifr0JUdIpjjy9hDH_9ghf4q
 fvv_lSJz4KKz4hr9wtvV2NaUyKTPx0KHrJXCSnsDoiqnuGaRbLOT3ish7irN
 az5GIWEQMkgPE.WAdErRmnMh1.GMbUEGGjsSElJN.gvvp.0RT3_q70_oQS0n
 pVWf8t0sA37TMYoSnQGNNYKWDEWtsb2XMGRO4r9y.Vyyua4Rhn4_YQd2ukZJ
 grTzKfDdpOl1.7J.O3NnmcRnNFclIp9FQo0bNbjYAzKYzzJyrcVopQKzGU3g
 QBtYcgyLUMy5KwtCGt3VZuAOmmNEQ6djVtfWbkQHirR890gvyhZUSdwzCa1t
 EOX6hEz4hTc4aLKHkqiFCdcMH_sOUCgpDPJcgOb2audLHUcMWbYk.a8cSAtg
 UW_QfbYNRkekZKFZJVquWYUPZKs5UgQmTK76TB1c.Sp_jjyQmxFc1hY6fYm5
 y3LqS1f90RAAs2cuxLQ.XRLjbE_3.JDwayC1eo.88KwGpK8A1zz_u2oTqhoR
 j2bZZn3IELcb8rADzEu9hct_1eJyNsT5243SJQrnQw3gMeQ--
Received: from [98.207.210.141] by web125602.mail.ne1.yahoo.com via HTTP; Mon, 07 May 2012 15:33:39 PDT
X-Mailer: YahooMailClassic/15.0.6 YahooMailWebService/0.8.117.340979
Message-ID: <1336430019.36676.YahooMailClassic@web125602.mail.ne1.yahoo.com>
Date: Mon, 7 May 2012 15:33:39 -0700 (PDT)
From: Frank Serkland <fhserkland@yahoo.com>
Subject: Problem moving application to Tomcat 7.0.27
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1088529044-764853657-1336430019=:36676"
X-Virus-Checked: Checked by ClamAV on apache.org

---1088529044-764853657-1336430019=:36676
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I am having a problem moving an application from Tomcat 6 to Tomcat 7.0.27.=
 =A0Can anyone help me? =A0Here is my web.xml.
<?xml version=3D"1.0" encoding=3D"UTF-8"?><web-app id=3D"WebApp_ID" version=
=3D"2.4"=09xmlns=3D"http://java.sun.com/xml/ns/j2ee" xmlns:xsi=3D"http://ww=
w.w3.org/2001/XMLSchema-instance"=09xsi:schemaLocation=3D"http://java.sun.c=
om/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">=09<display=
-name>Granada High School Class of 1986</display-name>=09<filter>=09=09<fil=
ter-name>struts2</filter-name>=09=09<filter-class>org.apache.catalina.deplo=
y.WebXml.addFilter</filter-class>=09</filter>=09<filter-mapping>=09=09<filt=
er-name>struts2</filter-name>=09=09<url-pattern>/*</url-pattern>=09</filter=
-mapping>=09<listener>=09=09<listener-class>configuration.ConfigurationList=
ener</listener-class>=09</listener>=09<welcome-file-list>=09=09<welcome-fil=
e>home.jsp</welcome-file>=09</welcome-file-list></web-app>
Here is the error log on my console.SEVERE: End event threw exceptionjava.l=
ang.NoSuchMethodException: org.apache.catalina.deploy.WebXml addFilter=09at=
 org.apache.tomcat.util.IntrospectionUtils.callMethod1(IntrospectionUtils.j=
ava:855)=09at org.apache.tomcat.util.digester.SetNextRule.end(SetNextRule.j=
ava:201)=09at org.apache.tomcat.util.digester.Digester.endElement(Digester.=
java:1051)=09at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParse=
r.endElement(Unknown Source)=09at com.sun.org.apache.xerces.internal.impl.X=
MLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)=09at com.sun.o=
rg.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentConte=
ntDriver.next(Unknown Source)=09at com.sun.org.apache.xerces.internal.impl.=
XMLDocumentScannerImpl.next(Unknown Source)=09at com.sun.org.apache.xerces.=
internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)=
=09at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(U=
nknown
 Source)=09at com.sun.org.apache.xerces.internal.parsers.XML11Configuration=
.parse(Unknown Source)=09at com.sun.org.apache.xerces.internal.parsers.XMLP=
arser.parse(Unknown Source)=09at com.sun.org.apache.xerces.internal.parsers=
.AbstractSAXParser.parse(Unknown Source)=09at com.sun.org.apache.xerces.int=
ernal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)=09at org.apach=
e.tomcat.util.digester.Digester.parse(Digester.java:1537)=09at org.apache.c=
atalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1825)=09at org=
.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1201)=
=09at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfi=
g.java:855)=09at org.apache.catalina.startup.ContextConfig.lifecycleEvent(C=
ontextConfig.java:345)=09at org.apache.catalina.util.LifecycleSupport.fireL=
ifecycleEvent(LifecycleSupport.java:119)=09at org.apache.catalina.util.Life=
cycleBase.fireLifecycleEvent(LifecycleBase.java:90)=09at
 org.apache.catalina.core.StandardContext.startInternal(StandardContext.jav=
a:5161)=09at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.jav=
a:150)=09at org.apache.catalina.core.ContainerBase$StartChild.call(Containe=
rBase.java:1566)=09at org.apache.catalina.core.ContainerBase$StartChild.cal=
l(ContainerBase.java:1556)=09at java.util.concurrent.FutureTask$Sync.innerR=
un(Unknown Source)=09at java.util.concurrent.FutureTask.run(Unknown Source)=
=09at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source=
)=09at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)=
=09at java.lang.Thread.run(Unknown Source)May 7, 2012 3:32:36 PM org.apache=
.catalina.startup.ContextConfig parseWebXmlSEVERE: Parse error in applicati=
on web.xml file at jndi:/localhost/ghs1986/WEB-INF/web.xmljava.lang.NoSuchM=
ethodException: org.apache.catalina.deploy.WebXml addFilter=09at org.apache=
.tomcat.util.digester.Digester.createSAXException(Digester.java:2687)=09at
 org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:=
2719)=09at org.apache.tomcat.util.digester.Digester.endElement(Digester.jav=
a:1054)=09at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.e=
ndElement(Unknown Source)=09at com.sun.org.apache.xerces.internal.impl.XMLD=
ocumentFragmentScannerImpl.scanEndElement(Unknown Source)=09at com.sun.org.=
apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentD=
river.next(Unknown Source)=09at com.sun.org.apache.xerces.internal.impl.XML=
DocumentScannerImpl.next(Unknown Source)=09at com.sun.org.apache.xerces.int=
ernal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)=09at=
 com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknow=
n Source)=09at com.sun.org.apache.xerces.internal.parsers.XML11Configuratio=
n.parse(Unknown Source)=09at com.sun.org.apache.xerces.internal.parsers.XML=
Parser.parse(Unknown Source)=09at
 com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown=
 Source)=09at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAX=
Parser.parse(Unknown Source)=09at org.apache.tomcat.util.digester.Digester.=
parse(Digester.java:1537)=09at org.apache.catalina.startup.ContextConfig.pa=
rseWebXml(ContextConfig.java:1825)=09at org.apache.catalina.startup.Context=
Config.webConfig(ContextConfig.java:1201)=09at org.apache.catalina.startup.=
ContextConfig.configureStart(ContextConfig.java:855)=09at org.apache.catali=
na.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)=09at org.ap=
ache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.jav=
a:119)=09at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(Lifec=
ycleBase.java:90)=09at org.apache.catalina.core.StandardContext.startIntern=
al(StandardContext.java:5161)=09at org.apache.catalina.util.LifecycleBase.s=
tart(LifecycleBase.java:150)=09at
 org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:=
1566)=09at org.apache.catalina.core.ContainerBase$StartChild.call(Container=
Base.java:1556)=09at java.util.concurrent.FutureTask$Sync.innerRun(Unknown =
Source)=09at java.util.concurrent.FutureTask.run(Unknown Source)=09at java.=
util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)=09at java=
.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)=09at java.la=
ng.Thread.run(Unknown Source)Caused by: java.lang.NoSuchMethodException: or=
g.apache.catalina.deploy.WebXml addFilter=09at org.apache.tomcat.util.Intro=
spectionUtils.callMethod1(IntrospectionUtils.java:855)=09at org.apache.tomc=
at.util.digester.SetNextRule.end(SetNextRule.java:201)=09at org.apache.tomc=
at.util.digester.Digester.endElement(Digester.java:1051)=09... 26 moreMay 7=
, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfig parseWebXmlSEVE=
RE: Occurred at line 9 column 11
---1088529044-764853657-1336430019=:36676--

From users-return-234073-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 22:39:04 2012
Return-Path: <users-return-234073-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8611C2C9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 22:39:04 +0000 (UTC)
Received: (qmail 28166 invoked by uid 500); 7 May 2012 22:39:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28111 invoked by uid 500); 7 May 2012 22:39:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28099 invoked by uid 99); 7 May 2012 22:39:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 22:39:01 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 22:38:51 +0000
X-IronPort-AV: E=Sophos;i="4.75,546,1330923600"; 
   d="scan'208";a="113975239"
Received: from hq-ex3fe3.ptcnet.ptc.com ([132.253.201.67])
  by irp2.ptc.com with ESMTP; 07 May 2012 18:38:30 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by hq-ex3fe3.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 7 May 2012 18:38:29 -0400
Message-ID: <4FA84EE5.7050504@ptc.com>
Date: Mon, 07 May 2012 17:38:29 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Slow downloads through mod_jk on Windows XP
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 07 May 2012 22:38:30.0001 (UTC) FILETIME=[2030DE10:01CD2CA2]

Hi all,
We've had a number of cases of people reporting to us that file 
downloads are slow when passed through tomcat and I've not been able to 
reproduce the problem on Linux but finally was provided a windows XP VM 
that was able to reproduce the problem.

This is Apache 2.2.22 and mod_jk 1.2.32 with tomcat 5.0.30 (yeah, I know 
this is ancient.  I'll try with something newer tomorrow).

I have two URLs configured both with an identical iso file (roughly 
450MB) in size.
When I go through the URL configured to run directly through Apache the 
download speeds on the file are around 30MB/s which is reasonable for 
what I would expect on the network connection between the client and the 
web server.

The second URL is JkMount'ed through to tomcat and download the same 
file drops down to 5-6 MB/s (starts at 10-ish MB/s).

The one thing I haven't tried configuring is upping the ajp packet size 
because the version of tomcat I was provided doesn't support that, but 
otherwise the operating system is tuned so the TcpWindowSize is 131072.

Unfortunately, this is windows, and both apache and tomcat are local on 
the server so I can't sniff the packets between the two systems with 
wireshark.

I don't see anything on the mod_jk workers.properties configuration that 
deals with buffer sizes.

Hoping someone has some ideas on what to look at that might help tweak 
this thing to perform similarly to Apache direct downloads.

Thanks,
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234074-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 23:06:40 2012
Return-Path: <users-return-234074-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61DB5C362
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 23:06:40 +0000 (UTC)
Received: (qmail 4135 invoked by uid 500); 7 May 2012 23:06:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4088 invoked by uid 500); 7 May 2012 23:06:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4079 invoked by uid 99); 7 May 2012 23:06:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 23:06:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 23:06:27 +0000
Received: from [192.168.245.129] (p549E0CA9.dip0.t-ipconnect.de [84.158.12.169])
	by tor.combios.es (Postfix) with ESMTPA id C0EA3DA035E
	for <users@tomcat.apache.org>; Tue,  8 May 2012 01:06:03 +0200 (CEST)
Message-ID: <4FA8555C.1090703@ice-sa.com>
Date: Tue, 08 May 2012 01:06:04 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com>
In-Reply-To: <4FA84EE5.7050504@ptc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Andy Wang wrote:
> Hi all,
> We've had a number of cases of people reporting to us that file 
> downloads are slow when passed through tomcat and I've not been able to 
> reproduce the problem on Linux but finally was provided a windows XP VM 
> that was able to reproduce the problem.
> 
> This is Apache 2.2.22 and mod_jk 1.2.32 with tomcat 5.0.30 (yeah, I know 
> this is ancient.  I'll try with something newer tomorrow).
> 
> I have two URLs configured both with an identical iso file (roughly 
> 450MB) in size.
> When I go through the URL configured to run directly through Apache the 
> download speeds on the file are around 30MB/s which is reasonable for 
> what I would expect on the network connection between the client and the 
> web server.
> 
> The second URL is JkMount'ed through to tomcat and download the same 
> file drops down to 5-6 MB/s (starts at 10-ish MB/s).
> 
> The one thing I haven't tried configuring is upping the ajp packet size 
> because the version of tomcat I was provided doesn't support that, but 
> otherwise the operating system is tuned so the TcpWindowSize is 131072.
> 
> Unfortunately, this is windows, and both apache and tomcat are local on 
> the server so I can't sniff the packets between the two systems with 
> wireshark.
> 
> I don't see anything on the mod_jk workers.properties configuration that 
> deals with buffer sizes.
> 
> Hoping someone has some ideas on what to look at that might help tweak 
> this thing to perform similarly to Apache direct downloads.
> 

Considering your setup, it should not be too hard to set up a download of the same file 
file directly from Tomcat (through its HTTP Connector), to compare that with your two 
previous ways.  This way, you could make sure if it is Tomcat, or the mod_jk/AJP link 
which is the issue.

Also, still considering your setup, it should be possible to configure things so that 
these file downloads are handled directly by Apache httpd, since that seems to satisfy 
your expectations.  mod_jk "JkMount/JkUnMount" rules (*) should make that possible, no ?
Have to be a bit careful not to introduce security holes, and I am assuming that the files 
are static (which may be wrong here).

(*) or the <Location ..> + "setHandler jakarta-servlet" configuration variation


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234075-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 23:26:57 2012
Return-Path: <users-return-234075-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4770892EC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 23:26:56 +0000 (UTC)
Received: (qmail 57748 invoked by uid 500); 7 May 2012 23:26:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57568 invoked by uid 500); 7 May 2012 23:26:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57559 invoked by uid 99); 7 May 2012 23:26:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 23:26:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.211] (HELO nm23-vm2.bullet.mail.ne1.yahoo.com) (98.138.91.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 May 2012 23:26:41 +0000
Received: from [98.138.90.53] by nm23.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 23:26:19 -0000
Received: from [98.138.226.168] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 07 May 2012 23:26:19 -0000
Received: from [127.0.0.1] by omp1069.mail.ne1.yahoo.com with NNFMP; 07 May 2012 23:26:19 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 853208.48033.bm@omp1069.mail.ne1.yahoo.com
Received: (qmail 2943 invoked by uid 60001); 7 May 2012 23:26:19 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1336433179; bh=WPGYlewGzl3pU8FqkSCLdq6Xg4XBR/yD7e4ZvYPC9ck=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=A+ive7aNHA18lHPH6y9pJhp7P0o+yHFeOP4X6skC43azy2uyG2wTCnYcEkZkCFvNRKIAiwP4POdnwucl8W84YiQ+XTrqalEsIjxNViBRjH3ofjWmfU4cQM2x5qcRv4fIbryaOH1LYbGfcchJBzyUZz7gtIXMDQGNPPCQDDI79Lo=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=XiN5kxvhy2bWko+CRWmla/5N+/6k8K6XSMSCF0U57QICWqGLes3FYirgnMkb7T6vvgKW/T08x+hRvsaloBV3Ulov4eqVVGht+ZKq2B25yrm/ezHrFqoeqvqDHHiuADcb0crbnR2kHnhpyGhd3pMQZxA6AujgtMMCU7JVktTkoh4=;
X-YMail-OSG: S8cQlPoVM1kGUzFJEte_wDoDa.nWpw42y4J_Uok_M0HONYL
 POu19i0CHmSmLBrmXTBhcPlEZEUDr.0B6LB1LdLzxaMmf_EiVY9Oow_IO6w4
 EyxxpguOiHJH2Az8_8xzA2jPoBGuroQqXBOT8M1LKs2OGc44UgMT3RGzBsnp
 q5ya74sbUTtfnn0stCLS.nTKgxuD4aEVcJuhMnAGkYmUUByUKCuyr7ErbFwr
 0b_dWxakh6dHkSKgRuP9w3vJ_esyJoIFsvr0edsFmAuUxNY3kWT79dSMfYHz
 aWa5V6KvIclqY2cFrotjfcle8czxaIe3GYBDzFYqPzY3QKQrm06uAB49DaYl
 poQG0Ja7kEG1vBSjWjOvwEW6x4vczUW8ZWOvYF0htRNFozzsdBzyZVb9DYui
 2EBwvOvK7Wc.W9GRRHxEYYAnNOU6F3Y1HURx6FLGTICwgArb1KuaKv2SWVte
 qcshXXTA51IO3nTIBxQGn7Ua7NpkQqorQMWikSKXKC2uFajst2H5Yz.30QoS
 iixhYddBQYt6w8_FsYnO9kBanPBvbtWKc.ZLxu7a8pZUDPuC2ntU1G4_KGD9
 wKUpciDRfpIsA1ARG6AbhcVBonI7hf0o0CCg-
Received: from [71.134.9.186] by web125506.mail.ne1.yahoo.com via HTTP; Mon, 07 May 2012 16:26:19 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1336430019.36676.YahooMailClassic@web125602.mail.ne1.yahoo.com>
Message-ID: <1336433179.2703.YahooMailNeo@web125506.mail.ne1.yahoo.com>
Date: Mon, 7 May 2012 16:26:19 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Problem moving application to Tomcat 7.0.27
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1336430019.36676.YahooMailClassic@web125602.mail.ne1.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Frank Serkland <fhserkland@yahoo.=
com>=0A> To: users@tomcat.apache.org=0A> Cc: =0A> Sent: Monday, May 7, 2012=
 3:33 PM=0A> Subject: Problem moving application to Tomcat 7.0.27=0A> =0A> =
I am having a problem moving an application from Tomcat 6 to Tomcat 7.0.27.=
 =A0Can =0A> anyone help me? =A0Here is my web.xml.=0A> <?xml version=3D"1.=
0" encoding=3D"UTF-8"?><web-app =0A> id=3D"WebApp_ID" version=3D"2.4"=A0=A0=
=A0 =0A> xmlns=3D"http://java.sun.com/xml/ns/j2ee" =0A> xmlns:xsi=3D"http:/=
/www.w3.org/2001/XMLSchema-instance"=A0=A0=A0 =0A> xsi:schemaLocation=3D"ht=
tp://java.sun.com/xml/ns/j2ee =0A> http://java.sun.com/xml/ns/j2ee/web-app_=
2_4.xsd">=A0=A0=A0 =0A> <display-name>Granada High School Class of 1986</di=
splay-name>=A0=A0=A0 =0A> <filter>=A0=A0=A0 =A0=A0=A0 <filter-name>struts2<=
/filter-name>=A0=A0=A0 =A0=A0=A0 =0A> <filter-class>org.apache.catalina.dep=
loy.WebXml.addFilter</filter-class>=A0=A0=A0 =0A> </filter>=A0=A0=A0 <filte=
r-mapping>=A0=A0=A0 =A0=A0=A0 =0A> <filter-name>struts2</filter-name>=A0=A0=
=A0 =A0=A0=A0 =0A> <url-pattern>/*</url-pattern>=A0=A0=A0 </filter-mapping>=
=A0=A0=A0 =0A> <listener>=A0=A0=A0 =A0=A0=A0 =0A> <listener-class>configura=
tion.ConfigurationListener</listener-class>=A0=A0=A0 =0A> </listener>=A0=A0=
=A0 <welcome-file-list>=A0=A0=A0 =A0=A0=A0 =0A> <welcome-file>home.jsp</wel=
come-file>=A0=A0=A0 =0A> </welcome-file-list></web-app>=0A> Here is the err=
or log on my console.SEVERE: End event threw =0A> exceptionjava.lang.NoSuch=
MethodException: org.apache.catalina.deploy.WebXml =0A> addFilter=A0=A0=A0 =
at =0A> org.apache.tomcat.util.IntrospectionUtils.callMethod1(Introspection=
Utils.java:855)=A0=A0=A0 =0A> at org.apache.tomcat.util.digester.SetNextRul=
e.end(SetNextRule.java:201)=A0=A0=A0 at =0A> org.apache.tomcat.util.digeste=
r.Digester.endElement(Digester.java:1051)=A0=A0=A0 at =0A> com.sun.org.apac=
he.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown =0A> Source=
)=A0=A0=A0 at =0A> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragm=
entScannerImpl.scanEndElement(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun=
.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentCon=
tentDriver.next(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.apache.xe=
rces.internal.impl.XMLDocumentScannerImpl.next(Unknown =0A> Source)=A0=A0=
=A0 at =0A> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScan=
nerImpl.scanDocument(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.apac=
he.xerces.internal.parsers.XML11Configuration.parse(Unknown=0A> Source)=A0=
=A0=A0 at =0A> com.sun.org.apache.xerces.internal.parsers.XML11Configuratio=
n.parse(Unknown =0A> Source)=A0=A0=A0 at com.sun.org.apache.xerces.internal=
.parsers.XMLParser.parse(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.=
apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown =0A> Source)=
=A0=A0=A0 at =0A> com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAX=
PSAXParser.parse(Unknown =0A> Source)=A0=A0=A0 at =0A> org.apache.tomcat.ut=
il.digester.Digester.parse(Digester.java:1537)=A0=A0=A0 at =0A> org.apache.=
catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1825)=A0=A0=
=A0 =0A> at =0A> org.apache.catalina.startup.ContextConfig.webConfig(Contex=
tConfig.java:1201)=A0=A0=A0 =0A> at =0A> org.apache.catalina.startup.Contex=
tConfig.configureStart(ContextConfig.java:855)=A0=A0=A0 =0A> at =0A> org.ap=
ache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)=
=A0=A0=A0 =0A> at =0A> org.apache.catalina.util.LifecycleSupport.fireLifecy=
cleEvent(LifecycleSupport.java:119)=A0=A0=A0 =0A> at =0A> org.apache.catali=
na.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)=A0=A0=A0 =
=0A> at=0A> org.apache.catalina.core.StandardContext.startInternal(Standard=
Context.java:5161)=A0=A0=A0 =0A> at org.apache.catalina.util.LifecycleBase.=
start(LifecycleBase.java:150)=A0=A0=A0 at =0A> org.apache.catalina.core.Con=
tainerBase$StartChild.call(ContainerBase.java:1566)=A0=A0=A0 =0A> at =0A> o=
rg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:15=
56)=A0=A0=A0 =0A> at java.util.concurrent.FutureTask$Sync.innerRun(Unknown =
Source)=A0=A0=A0 at =0A> java.util.concurrent.FutureTask.run(Unknown Source=
)=A0=A0=A0 at =0A> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(U=
nknown Source)=A0=A0=A0 at =0A> java.util.concurrent.ThreadPoolExecutor$Wor=
ker.run(Unknown Source)=A0=A0=A0 at =0A> java.lang.Thread.run(Unknown Sourc=
e)May 7, 2012 3:32:36 PM =0A> org.apache.catalina.startup.ContextConfig par=
seWebXmlSEVERE: Parse error in =0A> application web.xml file at =0A> jndi:/=
localhost/ghs1986/WEB-INF/web.xmljava.lang.NoSuchMethodException: =0A> org.=
apache.catalina.deploy.WebXml addFilter=A0=A0=A0 at =0A> org.apache.tomcat.=
util.digester.Digester.createSAXException(Digester.java:2687)=A0=A0=A0 =0A>=
 at=0A> org.apache.tomcat.util.digester.Digester.createSAXException(Digeste=
r.java:2719)=A0=A0=A0 =0A> at org.apache.tomcat.util.digester.Digester.endE=
lement(Digester.java:1054)=A0=A0=A0 at =0A> com.sun.org.apache.xerces.inter=
nal.parsers.AbstractSAXParser.endElement(Unknown =0A> Source)=A0=A0=A0 at =
=0A> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
.scanEndElement(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.apache.xe=
rces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.nex=
t(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.apache.xerces.internal.=
impl.XMLDocumentScannerImpl.next(Unknown =0A> Source)=A0=A0=A0 at =0A> com.=
sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocu=
ment(Unknown =0A> Source)=A0=A0=A0 at =0A> com.sun.org.apache.xerces.intern=
al.parsers.XML11Configuration.parse(Unknown =0A> Source)=A0=A0=A0 at =0A> c=
om.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown =
=0A> Source)=A0=A0=A0 at com.sun.org.apache.xerces.internal.parsers.XMLPars=
er.parse(Unknown =0A> Source)=A0=A0=A0 at=0A> com.sun.org.apache.xerces.int=
ernal.parsers.AbstractSAXParser.parse(Unknown =0A> Source)=A0=A0=A0 at =0A>=
 com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(=
Unknown =0A> Source)=A0=A0=A0 at =0A> org.apache.tomcat.util.digester.Diges=
ter.parse(Digester.java:1537)=A0=A0=A0 at =0A> org.apache.catalina.startup.=
ContextConfig.parseWebXml(ContextConfig.java:1825)=A0=A0=A0 =0A> at =0A> or=
g.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1201)=
=A0=A0=A0 =0A> at =0A> org.apache.catalina.startup.ContextConfig.configureS=
tart(ContextConfig.java:855)=A0=A0=A0 =0A> at =0A> org.apache.catalina.star=
tup.ContextConfig.lifecycleEvent(ContextConfig.java:345)=A0=A0=A0 =0A> at =
=0A> org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycle=
Support.java:119)=A0=A0=A0 =0A> at =0A> org.apache.catalina.util.LifecycleB=
ase.fireLifecycleEvent(LifecycleBase.java:90)=A0=A0=A0 =0A> at =0A> org.apa=
che.catalina.core.StandardContext.startInternal(StandardContext.java:5161)=
=A0=A0=A0 =0A> at org.apache.catalina.util.LifecycleBase.start(LifecycleBas=
e.java:150)=A0=A0=A0 at=0A> org.apache.catalina.core.ContainerBase$StartChi=
ld.call(ContainerBase.java:1566)=A0=A0=A0 =0A> at =0A> org.apache.catalina.=
core.ContainerBase$StartChild.call(ContainerBase.java:1556)=A0=A0=A0 =0A> a=
t java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)=A0=A0=A0 at=
 =0A> java.util.concurrent.FutureTask.run(Unknown Source)=A0=A0=A0 at =0A> =
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)=A0=
=A0=A0 at =0A> java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown S=
ource)=A0=A0=A0 at =0A> java.lang.Thread.run(Unknown Source)Caused by: java=
.lang.NoSuchMethodException: =0A> org.apache.catalina.deploy.WebXml addFilt=
er=A0=A0=A0 at =0A> org.apache.tomcat.util.IntrospectionUtils.callMethod1(I=
ntrospectionUtils.java:855)=A0=A0=A0 =0A> at org.apache.tomcat.util.digeste=
r.SetNextRule.end(SetNextRule.java:201)=A0=A0=A0 at =0A> org.apache.tomcat.=
util.digester.Digester.endElement(Digester.java:1051)=A0=A0=A0 ... =0A> 26 =
moreMay 7, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfig =0A> p=
arseWebXmlSEVERE: Occurred at line 9 column 11=0A> =0A=0AFirst of all, this=
 is really impossible to read.=0A=0AI understand it's sometimes difficult t=
o format text messages on the list so that they are legible when using Yaho=
o.=0A=0AThat being said, I reformatted the message so that I could read it.=
 Here are the relevant parts.=0A=0ASEVERE: End event threw exceptionjava.la=
ng.NoSuchMethodException:=0A=A0 org.apache.catalina.deploy.WebXml addFilter=
=0A=0AMay 7, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfig pars=
eWebXml=0ASEVERE: Parse error in application web.xml file at=0A=A0 jndi:/lo=
calhost/ghs1986/WEB-INF/web.xml=0A=A0 java.lang.NoSuchMethodException:=0A=
=A0 org.apache.catalina.deploy.WebXml addFilter=0A=0A=0AMay 7, 2012 3:32:36=
 PM org.apache.catalina.startup.ContextConfig parseWebXml=0ASEVERE: Occurre=
d at line 9 column 11=0A=0AAnd looking at your web.xml file on line 9, colu=
mn 11:=0A=0A<filter>=0A=A0 <filter-name>struts2</filter-name>=0A=A0 <!-- be=
low is line 9 -->=0A=A0 <filter-class>org.apache.catalina.deploy.WebXml.add=
Filter</filter-class>=0A</filter>=0A=0AI have no idea what you're trying to=
 accomplish with the above lines.=0A=0AIf you're using Struts 2, then I bel=
ieve the front controller should be:=0A=0A<filter>=0A=A0 <filter-name>strut=
s2</filter-name>=0A=A0 <filter-class>=0A=A0 =A0 org.apache.struts2.dispatch=
er.ng.filter.StrutsPrepareAndExecuteFilter=0A=A0 </filter-class>=0A=0A</fil=
ter>=0A<filter-mapping>=0A=A0 <filter-name>struts2</filter-name>=0A=A0 <url=
-pattern>/*</url-pattern>=0A</filter-mapping>=0A=0AYou've actually selected=
 a method (not a class) in a class that doesn't implement the required java=
x.servlet.Filter interface.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234076-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May  7 23:51:23 2012
Return-Path: <users-return-234076-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF6E19F99
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  7 May 2012 23:51:23 +0000 (UTC)
Received: (qmail 5119 invoked by uid 500); 7 May 2012 23:51:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5046 invoked by uid 500); 7 May 2012 23:51:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5032 invoked by uid 99); 7 May 2012 23:51:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 23:51:19 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 May 2012 23:51:09 +0000
X-IronPort-AV: E=Sophos;i="4.75,546,1330923600"; 
   d="scan'208";a="113977022"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 07 May 2012 19:50:42 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 7 May 2012 19:50:42 -0400
Message-ID: <4FA85FD1.5060109@ptc.com>
Date: Mon, 07 May 2012 18:50:41 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com>
In-Reply-To: <4FA8555C.1090703@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 07 May 2012 23:50:42.0222 (UTC) FILETIME=[366554E0:01CD2CAC]

On 05/07/2012 06:06 PM, Andr Warnier wrote:
> Andy Wang wrote:
>> Hi all,
>> We've had a number of cases of people reporting to us that file 
>> downloads are slow when passed through tomcat and I've not been able 
>> to reproduce the problem on Linux but finally was provided a windows 
>> XP VM that was able to reproduce the problem.
>>
>> This is Apache 2.2.22 and mod_jk 1.2.32 with tomcat 5.0.30 (yeah, I 
>> know this is ancient.  I'll try with something newer tomorrow).
>>
>> I have two URLs configured both with an identical iso file (roughly 
>> 450MB) in size.
>> When I go through the URL configured to run directly through Apache 
>> the download speeds on the file are around 30MB/s which is reasonable 
>> for what I would expect on the network connection between the client 
>> and the web server.
>>
>> The second URL is JkMount'ed through to tomcat and download the same 
>> file drops down to 5-6 MB/s (starts at 10-ish MB/s).
>>
>> The one thing I haven't tried configuring is upping the ajp packet 
>> size because the version of tomcat I was provided doesn't support 
>> that, but otherwise the operating system is tuned so the 
>> TcpWindowSize is 131072.
>>
>> Unfortunately, this is windows, and both apache and tomcat are local 
>> on the server so I can't sniff the packets between the two systems 
>> with wireshark.
>>
>> I don't see anything on the mod_jk workers.properties configuration 
>> that deals with buffer sizes.
>>
>> Hoping someone has some ideas on what to look at that might help 
>> tweak this thing to perform similarly to Apache direct downloads.
>>
>
> Considering your setup, it should not be too hard to set up a download 
> of the same file file directly from Tomcat (through its HTTP 
> Connector), to compare that with your two previous ways.  This way, 
> you could make sure if it is Tomcat, or the mod_jk/AJP link which is 
> the issue.
>
> Also, still considering your setup, it should be possible to configure 
> things so that these file downloads are handled directly by Apache 
> httpd, since that seems to satisfy your expectations.  mod_jk 
> "JkMount/JkUnMount" rules (*) should make that possible, no ?
> Have to be a bit careful not to introduce security holes, and I am 
> assuming that the files are static (which may be wrong here).
>
> (*) or the <Location ..> + "setHandler jakarta-servlet" configuration 
> variation
>
Thanks for the http connector idea.  I forgot about that.  The primary 
reason why i'm using tomcat to download a static file is really for 
testing purposes to confirm performance between mod_jk and direct 
apache.  we have servlets that stream content files that see the same 
massive performance hit so in our actual use case it's not static files 
:(.  I'm thinking this would be a valid test to help at least tweak 
mod_jk to it's potential.

We've checked and double checked the buffering code of the servlets and 
it all looks fine AND the performance is fine on Linux and the speed 
characteristics are identical to serving static files through tomcat + 
mod_jk so I'm hoping that it's an apples to apples comparison.

Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234077-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 04:20:20 2012
Return-Path: <users-return-234077-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9586DCB6A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 04:20:20 +0000 (UTC)
Received: (qmail 12073 invoked by uid 500); 8 May 2012 04:20:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11995 invoked by uid 500); 8 May 2012 04:20:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11974 invoked by uid 99); 8 May 2012 04:20:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 04:20:16 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: unknown ~alla (nike.apache.org: encountered unrecognized mechanism during SPF processing of domain of jeffb@cyberxape.com)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 04:20:10 +0000
Received: by vbbfn1 with SMTP id fn1so6895vbb.18
        for <users@tomcat.apache.org>; Mon, 07 May 2012 21:19:49 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=PWZ1QFJgMP1mKi80fQUk1g1RYhnKtTvfyzFD+XOIpaM=;
        b=KMHm172AJld6BivM1s3LdiT9WwVpbuAzhtuV5FUwUR8JHZAwcGXvLKMsw+O0uZLtgw
         lbP2GV3onQf3HmT9vvt+a/vPscOtazNjF26GGGvn4/40W1EhOlxubpaFr+IWOHk/D4V0
         YVHLYddBCj3ojF0pBCEMkCM4zApnt9V3Ck4gm1KfCiOotWbmQ8HHSP6iMTidNjgUmq9O
         pz9xdORO6e/uaaQ+W4kxPr8iVF0S/BuS6PhrL8vefWn09FKOGvOaRLLkFhI0+JIy3P7D
         f9vsvUQeiq5n2drKHBhWCI3wnY9TprUKhUODapWBUonbG7JyyV8NawX84GQ2zCt0jWik
         zigw==
MIME-Version: 1.0
Received: by 10.52.74.37 with SMTP id q5mr7157021vdv.126.1336450789250; Mon,
 07 May 2012 21:19:49 -0700 (PDT)
Received: by 10.52.99.135 with HTTP; Mon, 7 May 2012 21:19:49 -0700 (PDT)
In-Reply-To: <4FA7F557.5070407@yahoo.es>
References: <4FA7F557.5070407@yahoo.es>
Date: Mon, 7 May 2012 22:19:49 -0600
Message-ID: <CAMf3F8HSAuf08_-Y1hRg4onW3RYMvsuzKy1HROTWwCxchdXJgg@mail.gmail.com>
Subject: Re: munin tomcat and mysql
From: Jeff Beard <jeffb@cyberxape.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec501663d8d989a04bf7eb2a1
X-Gm-Message-State: ALoCoQkAx5bkFwufWLqVraSgMHLp1VfLq9T0SBIsSitT0R5QCW1jK9NyartH6+qXqnWHuQMo6uv9

--bcaec501663d8d989a04bf7eb2a1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Miguel,

While it's not very scientific, I've used Munin to monitor my Tomcat
instances in the past and have never notice any impact on performance.
Also, all the instances I've managed with munin have been on virtual
machines.

If you are using a recent version of CentOS, Tomcat is included in the base
system and can be installed using the "yum" package management utility.
It's not a difficult installation although be aware that folders and files
are in different locations from the distributions found on the ASF web site=
.


HTH,

Jeff


On Mon, May 7, 2012 at 10:16 AM, Miguel Gonz=E1lez Casta=F1os <
miguel_3_gonzalez@yahoo.es> wrote:

> Dear all,
>
>   I'm thinking about installing munin to monitor mysql, tomcat and system
> resources (specially memory and network). I'm going to install it under
> CentOS and Tomcat 5.5.
>
>   Since it's a virtual machine, is munin going to take many resources of
> my system or is it a light tool?
>
>   Does anyone know of any nice tutorial of installing in CentOS and
> Tomcat? I find many articles about installing in CentOS and Apache, but n=
ot
> Tomcat
>
>   Regards,
>
>   Miguel
>
>
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


--=20
Jeff Beard
tel: 303 829 0105
fax: 320 923 0105
web: http://jeffbeard.org

--bcaec501663d8d989a04bf7eb2a1--

From users-return-234078-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 07:27:19 2012
Return-Path: <users-return-234078-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0295FC641
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 07:27:19 +0000 (UTC)
Received: (qmail 32167 invoked by uid 500); 8 May 2012 07:27:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31747 invoked by uid 500); 8 May 2012 07:27:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31715 invoked by uid 99); 8 May 2012 07:27:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 07:27:14 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_HELO_NON_FQDN_1,HELO_NO_DOMAIN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anvil@jumperz.net designates 121.1.251.31 as permitted sender)
Received: from [121.1.251.31] (HELO bitforest) (121.1.251.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 08 May 2012 07:27:08 +0000
Received: (qmail 23331 invoked from network); 8 May 2012 17:20:23 +0900
Received: from unknown (HELO ?192.168.3.100?) (192.168.3.100)
  by w251031.ppp.asahi-net.or.jp with SMTP; 8 May 2012 17:20:23 +0900
Message-ID: <4FA8CAD2.4020402@jumperz.net>
Date: Tue, 08 May 2012 16:27:14 +0900
From: Kanatoko <anvil@jumperz.net>
User-Agent: Thunderbird 2.0.0.24 (X11/20100623)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org> <4FA83E04.8020502@christopherschultz.net>
In-Reply-To: <4FA83E04.8020502@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

I had some tests on a servlet with @MultipartConfig and getParts()
and find that the hash collision attack was still in place.

Parameters like below cause the problem.
*********************************************************
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyEyEyEy"

1
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyEyEyFZ"

1
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyEyFZEy"

1
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyEyFZFZ"

1
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyFZEyEy"

1
--abc
Content-Disposition: form-data; name="EyEyEyEyEyEyEyEyEyEyEyEyFZEyFZ"

1
(repeat)
*********************************************************

As I wrote, the number of parameters is not limited to 10000.

Thanks.

-- 
Kanatoko
http://www.jumperz.net/




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234079-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 07:38:21 2012
Return-Path: <users-return-234079-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28298CD42
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 07:38:21 +0000 (UTC)
Received: (qmail 59261 invoked by uid 500); 8 May 2012 07:38:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58964 invoked by uid 500); 8 May 2012 07:38:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58932 invoked by uid 99); 8 May 2012 07:38:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 07:38:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 07:38:06 +0000
Received: from [192.168.245.129] (p549E8B1D.dip0.t-ipconnect.de [84.158.139.29])
	by tor.combios.es (Postfix) with ESMTPA id D45CDDA06FB
	for <users@tomcat.apache.org>; Tue,  8 May 2012 09:37:44 +0200 (CEST)
Message-ID: <4FA8CD47.10809@ice-sa.com>
Date: Tue, 08 May 2012 09:37:43 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: munin tomcat and mysql
References: <4FA7F557.5070407@yahoo.es> <4FA8362E.1040605@christopherschultz.net>
In-Reply-To: <4FA8362E.1040605@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Miguel,
> 
> On 5/7/12 12:16 PM, Miguel Gonzlez Castaos wrote:
>> Since it's a virtual machine, is munin going to take many
>> resources of my system or is it a light tool?
> 
> Maybe ask on the Munin list?
> 
>> Does anyone know of any nice tutorial of installing in CentOS and 
>> Tomcat? I find many articles about installing in CentOS and Apache,
>> but not Tomcat
> 
> It appears that Munin is written in Perl, which isn't the best
> environment for deploying into Tomcat. Tomcat does support CGI (you'll
> have to enable it: there is fairly clear documentation on how to set
> it up) but it's probably more appropriate to use Apache httpd or one
> of the lighter HTTP servers out there (lighttpd, nginx, etc.).
> 

 From the munin website :
"Munin uses the excellent RRDTool (written by Tobi Oetiker) and the framework is written 
in Perl, while plugins may be written in any language. Munin has a master/node 
architecture in which the master connects to all the nodes at regular intervals and asks 
them for data. It then stores the data in RRD files, and (if needed) updates the graphs. 
One of the main goals has been ease of creating new plugins (graphs)."

In other words, "munin" functionally consists of 2 parts :

1) a series of "agent plugins" which run on the machine being monitored.  They 
periodically collect information about the machine and store it (essentially as numbers) 
in some local file(s).
These processes are generally lightweight, and they can be written in any language.  So a 
munin agent monitoring Tomcat could be written in Java, and it could be a standalone 
module or a webapp.

2) the "server", or "display" part of munin.  That is written in Perl, and usually runs on 
a separate machine.  It periodically contacts the agents in (1), retreives the information 
they have collected, and processes it into graphics which can be accessed via a web 
interface.  This part is quite heavy, because it has to process a lot of data into graphics.

So, I would say that as long as your "munin server" is running on a separate host, 
monitoring your tomact via munin plugins should not have a heavy impact on performance.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234080-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 09:28:58 2012
Return-Path: <users-return-234080-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AEA0C71E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 09:28:58 +0000 (UTC)
Received: (qmail 22879 invoked by uid 500); 8 May 2012 09:28:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22567 invoked by uid 500); 8 May 2012 09:28:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22542 invoked by uid 99); 8 May 2012 09:28:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 09:28:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 09:28:46 +0000
Received: from [192.168.245.129] (p549E8B1D.dip0.t-ipconnect.de [84.158.139.29])
	by tor.combios.es (Postfix) with ESMTPA id 32FFDDA0816
	for <users@tomcat.apache.org>; Tue,  8 May 2012 11:28:22 +0200 (CEST)
Message-ID: <4FA8E734.1040005@ice-sa.com>
Date: Tue, 08 May 2012 11:28:20 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org> <4FA83E04.8020502@christopherschultz.net>
In-Reply-To: <4FA83E04.8020502@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Mark,
> 
> On 5/7/12 5:21 PM, Mark Thomas wrote:
>>> Christopher Schultz wrote:
>> Tomcat only processes these requests for Servlet 3.0 file upload
>> and there are already sufficient limits in place for that case to
>> prevent a DoS.
> 
> Aah, right: multipart is only supported if the servlet has been marked
> as such, and therefore the developer knows to expect large mounts of
> data (and can configure such limits).
> 
> The wildcard is the "casual multipart parsing" which allows any
> multipart request to be parsed without regard for such limits. Any
> limits (data size) imposed on the connector will be used in those
> cases, but "maximum number of parameters" is not one of them. I should
> probably update the documentation for that feature to make a note of
> this caveat.
> 

 From the documentation of Commons/fileUpload, it would seem rather simple - for a Java 
guru - to implement a counter while processing the POSTed parameters, and ignore what is 
above maxParameterCount :

Sample code from http://commons.apache.org/fileupload/using.html :

// Process the uploaded items
Iterator iter = items.iterator();
while (iter.hasNext()) {
     FileItem item = (FileItem) iter.next();

     if (item.isFormField()) {
         processFormField(item);
     } else {
         processUploadedFile(item);
     }
}

(Maybe the "items" object above already has a "size" or "length" method, avoiding the 
counter logic altogether)

Of course by then, the POST has already been parsed, so I don't know if this would help a 
lot to avoid a DOS attack.
But the maximum acceptable total size of the POST can be specified in advance, to avoid 
this.  After all, if someone wants to allow POSTs with 10,000 small parameters, then why not ?

I do not understand on the other hand the OP's later reference to a "hash collision". 
That sounds like a JVM issue, rather than a specifically Tomcat one, no ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234081-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 09:56:24 2012
Return-Path: <users-return-234081-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D272C792
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 09:56:24 +0000 (UTC)
Received: (qmail 85502 invoked by uid 500); 8 May 2012 09:56:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85279 invoked by uid 500); 8 May 2012 09:56:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85264 invoked by uid 99); 8 May 2012 09:56:20 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 09:56:20 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 09:56:20 +0000
Message-ID: <4FA8EDC0.5080507@apache.org>
Date: Tue, 08 May 2012 10:56:16 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org> <4FA83E04.8020502@christopherschultz.net> <4FA8E734.1040005@ice-sa.com>
In-Reply-To: <4FA8E734.1040005@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 08/05/2012 10:28, Andr Warnier wrote:
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Mark,
>>
>> On 5/7/12 5:21 PM, Mark Thomas wrote:
>>>> Christopher Schultz wrote:
>>> Tomcat only processes these requests for Servlet 3.0 file upload
>>> and there are already sufficient limits in place for that case to
>>> prevent a DoS.
>>
>> Aah, right: multipart is only supported if the servlet has been marked
>> as such, and therefore the developer knows to expect large mounts of
>> data (and can configure such limits).
>>
>> The wildcard is the "casual multipart parsing" which allows any
>> multipart request to be parsed without regard for such limits. Any
>> limits (data size) imposed on the connector will be used in those
>> cases, but "maximum number of parameters" is not one of them. I should
>> probably update the documentation for that feature to make a note of
>> this caveat.
>>
> 
> From the documentation of Commons/fileUpload, it would seem rather
> simple - for a Java guru - to implement a counter while processing the
> POSTed parameters, and ignore what is above maxParameterCount :
> 
> Sample code from http://commons.apache.org/fileupload/using.html :
> 
> // Process the uploaded items
> Iterator iter = items.iterator();
> while (iter.hasNext()) {
>     FileItem item = (FileItem) iter.next();
> 
>     if (item.isFormField()) {
>         processFormField(item);
>     } else {
>         processUploadedFile(item);
>     }
> }
> 
> (Maybe the "items" object above already has a "size" or "length" method,
> avoiding the counter logic altogether)
> 
> Of course by then, the POST has already been parsed, so I don't know if
> this would help a lot to avoid a DOS attack.
> But the maximum acceptable total size of the POST can be specified in
> advance, to avoid this.  After all, if someone wants to allow POSTs with
> 10,000 small parameters, then why not ?
> 
> I do not understand on the other hand the OP's later reference to a
> "hash collision". That sounds like a JVM issue, rather than a
> specifically Tomcat one, no ?

It is a JVM issue (in my view and many others) but one Oracle has chosen
not to fix.

maxParameterCount was put in place as a mitigation for this issue. It
looks like the OP may have a valid point regarding multi-part requests -
at least as far as the Servlet 3.0 upload code is concerned. I need to
do review the code to see exactly what is going on. Outside of Servlet
3.0 file upload, I don't believe it is a Tomcat concern.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234082-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 12:26:36 2012
Return-Path: <users-return-234082-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E98009577
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 12:26:36 +0000 (UTC)
Received: (qmail 1986 invoked by uid 500); 8 May 2012 12:26:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1921 invoked by uid 500); 8 May 2012 12:26:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1912 invoked by uid 99); 8 May 2012 12:26:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:26:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:17:52 +0000
Received: from [127.0.0.1] (jambusters.demon.co.uk [80.177.0.82])
	by mrelayeu.kundenserver.de (node=mrbap3) with ESMTP (Nemesis)
	id 0Lgoo2-1Rpxtq0hrq-00o3oG; Tue, 08 May 2012 14:17:32 +0200
Message-ID: <4FA90EDB.8080801@jbgb.com>
Date: Tue, 08 May 2012 13:17:31 +0100
From: Paul Singleton <paul@jbgb.com>
Organization: Jambusters Ltd
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: distinct HTTPS sites at distinct ports within same IP?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: V02:K0:6o3fjgyu+cErkJkRZck2TVUujBPBuUuNx7179jA86t/
 APQ8csafgtWO41w1R8ixr41PBBOL88p6rFAMPJiwXiikDdFcjw
 RQsKIs7vq85wD70SbmodJWq+cskJ61DSnsoWHZFgHEKexvPTHy
 HPVjI/aN4NEADhI1IqMyKvCxq9I4i4cy0gvqfi/Ar8BzrUSigm
 CiUYmc9lDuZMF8OHtVD+wlff3acwVm1WEjRmWvHsG/ktu2BxYc
 fw+OPwdNwXjHKnL3JW03b+T5H/J+DEF6HiZXEhcoqRqNOD0Nxu
 nXZfi+7pB49LYFaXKXUA2ztdlGPzj9P1zxqnEY8gWWhYWkKJw=
 =

Is it feasible, under any Tomcat version, to offer two or more apps 
via HTTPS (with own domains & certificates) on different port numbers 
at a single IPv4 address?

I envisage name-based-virtual-server HTTP apps at port 80 which 
302-redirect non-SSL requests to the corresponding port-specific HTTPS 
app, on the optimistic assumption that no-one these days actually 
types e.g.

   https://my-secure-app.megacorp.com

just

   my-secure-app.megacorp.com

Is this a really cheesy idea? have I missed something obvious?

Paul Singleton


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234083-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 12:32:17 2012
Return-Path: <users-return-234083-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC92E92F6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 12:32:16 +0000 (UTC)
Received: (qmail 22992 invoked by uid 500); 8 May 2012 12:32:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22911 invoked by uid 500); 8 May 2012 12:32:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22902 invoked by uid 99); 8 May 2012 12:32:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:32:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:25:14 +0000
Received: by mail-ey0-f173.google.com with SMTP id k12so952196eaa.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 05:24:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=eH5QJiXgwj6UrdyGD5csBxIxvOScXgvesg5xEANccO0=;
        b=Mf7AeCzqTyFb+Etctu/U+arM9iPedmc0DldoSk8ScG0jC1QQWZ3M4LsaHDOhC/UP2M
         eBmjrICFFuEAEVdCgormfXjxOmUFwm8Ov/ewvrQqkxMoXbv+e18BpS6QM9T74bZ/5JH1
         OaUlnJiAzpDvnA6+niEa172pzSplVG7PM7eBpsrhsIvo5eFKE8DeAmnqkONCALulviMX
         1hIfyxgGd/xCQ239jdQnbNdAX9jGdInPm+G7nBOk/PmKuwuXtfFV4RWyq5O8ghkFYuR6
         veQ+QLzUcMDYZ2t2NRp7XPDQ4QEbXFNrda67n2agxzmPPyRmmhL0WodfRSRgYywCUkqb
         +V1g==
MIME-Version: 1.0
Received: by 10.14.188.131 with SMTP id a3mr804338een.92.1336479894358; Tue,
 08 May 2012 05:24:54 -0700 (PDT)
Received: by 10.213.106.15 with HTTP; Tue, 8 May 2012 05:24:54 -0700 (PDT)
Date: Tue, 8 May 2012 19:24:54 +0700
Message-ID: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
Subject: tomcat7:run with multi maven modules changes
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

I notice that i have to repeat these steps so that tomcat7:run will
see the newest stuffs from other maven modules :
- rebuild all of my mvn modules (including my webapp module on which
my tomcat7:run-ed, and other dependencies module)
- clean my eclipse java project, rebuilding everything
- tomcat7:run will then see the newest stuffs

Note that i dont need to rebuild maven and eclipse project if i dont
modify the webapp maven module, tomcat7 can automatically see the
newest changes

Ideally i would like to skip rebuilding everything in maven and then
eclipse to see the newest changes in the other modules outside webapp
module.

Are there any tips to achieve this ?

Thanks !

-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234084-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 12:37:26 2012
Return-Path: <users-return-234084-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CE6C9350
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 12:37:26 +0000 (UTC)
Received: (qmail 44912 invoked by uid 500); 8 May 2012 12:37:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44755 invoked by uid 500); 8 May 2012 12:37:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44746 invoked by uid 99); 8 May 2012 12:37:22 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:37:22 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 12:37:22 +0000
Message-ID: <4FA9137F.6070004@apache.org>
Date: Tue, 08 May 2012 13:37:19 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: distinct HTTPS sites at distinct ports within same IP?
References: <4FA90EDB.8080801@jbgb.com>
In-Reply-To: <4FA90EDB.8080801@jbgb.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 08/05/2012 13:17, Paul Singleton wrote:
> Is it feasible, under any Tomcat version, to offer two or more apps via
> HTTPS (with own domains & certificates) on different port numbers at a
> single IPv4 address?

Yes, under all currently supported versions.
> 
> I envisage name-based-virtual-server HTTP apps at port 80 which
> 302-redirect non-SSL requests to the corresponding port-specific HTTPS
> app, on the optimistic assumption that no-one these days actually types
> e.g.
> 
>   https://my-secure-app.megacorp.com

I do...

> just
> 
>   my-secure-app.megacorp.com
> 
> Is this a really cheesy idea? have I missed something obvious?

The port will appear in the URL and may or may not confuse some users.

I'd use httpd with SNI as a reverse proxy as a nicer solution.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234085-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 14:08:22 2012
Return-Path: <users-return-234085-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6CD46C6A1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 14:08:22 +0000 (UTC)
Received: (qmail 79678 invoked by uid 500); 8 May 2012 14:08:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79588 invoked by uid 500); 8 May 2012 14:08:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79533 invoked by uid 99); 8 May 2012 14:08:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 14:08:18 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of venkataramana.m@in.ibm.com designates 122.248.162.8 as permitted sender)
Received: from [122.248.162.8] (HELO e28smtp08.in.ibm.com) (122.248.162.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 14:08:08 +0000
Received: from /spool/local
	by e28smtp08.in.ibm.com with IBM ESMTP SMTP Gateway: Authorized Use Only! Violators will be prosecuted
	for <users@tomcat.apache.org> from <venkataramana.m@in.ibm.com>;
	Tue, 8 May 2012 19:37:22 +0530
Received: from d28relay04.in.ibm.com (9.184.220.61)
	by e28smtp08.in.ibm.com (192.168.1.138) with IBM ESMTP SMTP Gateway: Authorized Use Only! Violators will be prosecuted;
	Tue, 8 May 2012 19:37:19 +0530
Received: from d28av06.in.ibm.com (d28av06.in.ibm.com [9.184.220.48])
	by d28relay04.in.ibm.com (8.13.8/8.13.8/NCO v10.0) with ESMTP id q48E7IHG58261708
	for <users@tomcat.apache.org>; Tue, 8 May 2012 19:37:19 +0530
Received: from d28av06.in.ibm.com (loopback [127.0.0.1])
	by d28av06.in.ibm.com (8.14.4/8.13.1/NCO v10.0 AVout) with ESMTP id q48JbHLq029479
	for <users@tomcat.apache.org>; Wed, 9 May 2012 01:07:17 +0530
Received: from d23ml172.in.ibm.com (d23ml172.in.ibm.com [9.182.8.78])
	by d28av06.in.ibm.com (8.14.4/8.13.1/NCO v10.0 AVin) with ESMTP id q48JbHNf029476
	for <users@tomcat.apache.org>; Wed, 9 May 2012 01:07:17 +0530
In-Reply-To: <OFFFDC113A.F0D279E5-ON652579F8.00484544-652579F8.0048DA08@LocalDomain>
References: <OFFFDC113A.F0D279E5-ON652579F8.00484544-652579F8.0048DA08@LocalDomain>
Subject: Re: Start Tomcat6 service with StartMode as java
X-KeepSent: DAA170FE:9FE737D2-652579F8:004D5DAF;
 type=4; name=$KeepSent
To: Venkata R Madugundu <venkataramana.m@in.ibm.com>
Cc: users@tomcat.apache.org
X-Mailer: Lotus Notes Release 8.5.1FP5 SHF29 November 12, 2010
Message-ID: <OFDAA170FE.9FE737D2-ON652579F8.004D5DAF-652579F8.004D8F5E@in.ibm.com>
From: Venkata R Madugundu <venkataramana.m@in.ibm.com>
Date: Tue, 8 May 2012 19:36:45 +0530
X-MIMETrack: Serialize by Router on d23ml172/23/M/IBM(Release 8.5.3HF266 | January 13, 2012) at
 08/05/2012 19:36:48
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
x-cbid: 12050814-2000-0000-0000-00000766EC1D
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

We have been trying to run Tomcat6 windows service to spawn java.exe
instead of loading having JVM loaded in process.
I have tried to follow through all the documentation of Tomcat6 and procrun
to use StartMode as 'java'.

But no matter how I tweak the arguments, the StartMode with 'java' does not
seem to work. Do you know if there is a deterministic way to make it work.
We are using Tomcat 6.0.20

Here is the relevant content of the service install script.

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
set INSTALL_DIR=%~dp0

rem Tomcat 'catalina home' and 'catalina base' paths
cd ..
set CATALINA_HOME=%cd%
set CATALINA_BASE=%CATALINA_HOME%
cd .\bin

rem Java path relative to ASBNode
set ASBNODE_DIR=%INSTALL_DIR:\Clients\MetaBrokersAndBridges\web\bin\=%
set ASBNODE_DIR=%ASBNODE_DIR%\ASBNode
set
JVM_OPTIONS="-Dcatalina.base=%CATALINA_BASE%;-Dcatalina.home=%CATALINA_HOME%;-Djava.endorsed.dirs=%CATALINA_HOME%\endorsed;-Djava.io.tmpdir=%CATALINA_BASE%\temp;-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager;-Djava.util.logging.config.file=%CATALINA_BASE%\conf
\logging.properties"

set SERVICE_NAME=MBB
set SERVICE_EXECUTABLE=%CATALINA_HOME%\bin\tomcat6.exe

set OPTIONS=--DisplayName "IBM InfoSphere Metadata Integration Bridges"
set OPTIONS=%OPTIONS% --Description "IBM InfoSphere Metadata Integration
Bridges"
set OPTIONS=%OPTIONS% --Install %SERVICE_EXECUTABLE%
set OPTIONS=%OPTIONS% --LogPath %CATALINA_BASE%\logs
set OPTIONS=%OPTIONS% --Classpath %CATALINA_HOME%\bin
\bootstrap.jar;%CATALINA_HOME%\bin\tomcat-juli.jar
set OPTIONS=%OPTIONS% --StartMode Java
set OPTIONS=%OPTIONS% --StopMode Java
set OPTIONS=%OPTIONS% --JavaHome %ASBNODE_DIR%\apps\jre
set OPTIONS=%OPTIONS% --StartClass org.apache.catalina.startup.Bootstrap
set OPTIONS=%OPTIONS% --StartParams start
set OPTIONS=%OPTIONS% --StopClass org.apache.catalina.startup.Bootstrap
set OPTIONS=%OPTIONS% --StopParams stop
set OPTIONS=%OPTIONS% --JvmOptions %JVM_OPTIONS%
set OPTIONS=%OPTIONS% --StdOutput auto
set OPTIONS=%OPTIONS% --StdError auto
set OPTIONS=%OPTIONS% --JvmMs 128
set OPTIONS=%OPTIONS% --JvmMx 1024
set OPTIONS=%OPTIONS% --LogLevel Debug

"%SERVICE_EXECUTABLE%" //IS//%SERVICE_NAME% %OPTIONS%
if not errorlevel 1 goto end
echo Failed installing '%SERVICE_NAME%' service
goto end

echo The service '%SERVICE_NAME%' has been installed.
:end
cd %INSTALL_DIR%
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Thanks
Venkat


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234086-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 14:53:51 2012
Return-Path: <users-return-234086-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6772C961D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 14:53:51 +0000 (UTC)
Received: (qmail 34940 invoked by uid 500); 8 May 2012 14:53:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34758 invoked by uid 500); 8 May 2012 14:53:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34746 invoked by uid 99); 8 May 2012 14:53:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 14:53:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 14:53:40 +0000
Received: from workstation (65-128-10-130.hlrn.qwest.net [65.128.10.130])
	by arizona.hanik.com (Postfix) with ESMTPSA id 8F4F3A8C2682
	for <users@tomcat.apache.org>; Tue,  8 May 2012 08:49:59 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <OFFFDC113A.F0D279E5-ON652579F8.00484544-652579F8.0048DA08@LocalDomain> <OFDAA170FE.9FE737D2-ON652579F8.004D5DAF-652579F8.004D8F5E@in.ibm.com>
In-Reply-To: <OFDAA170FE.9FE737D2-ON652579F8.004D5DAF-652579F8.004D8F5E@in.ibm.com>
Subject: RE: Start Tomcat6 service with StartMode as java
Date: Tue, 8 May 2012 08:53:19 -0600
Message-ID: <098b01cd2d2a$4f4ec0d0$edec4270$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHenNS1lUiJKjh/Ou+lm9VnZ3ePpgNAZdlLloMXk1A=
Content-Language: en-us

The Java Service Wrapper does this for you, if you want to try an
alternative
http://wrapper.tanukisoftware.com/doc/english/download.jsp


> -----Original Message-----
> From: Venkata R Madugundu [mailto:venkataramana.m@in.ibm.com]
> Sent: Tuesday, May 08, 2012 8:07 AM
> To: Venkata R Madugundu
> Cc: users@tomcat.apache.org
> Subject: Re: Start Tomcat6 service with StartMode as java
> 
> Hi,
> 
> We have been trying to run Tomcat6 windows service to spawn java.exe
> instead of loading having JVM loaded in process.
> I have tried to follow through all the documentation of Tomcat6 and
> procrun
> to use StartMode as 'java'.
> 
> But no matter how I tweak the arguments, the StartMode with 'java' does
> not
> seem to work. Do you know if there is a deterministic way to make it
> work.
> We are using Tomcat 6.0.20
> 
> Here is the relevant content of the service install script.
> 
> ------------------------------------------------------------------------
> ------------------------------------------------------------------------
> ---------------------------
> set INSTALL_DIR=%~dp0
> 
> rem Tomcat 'catalina home' and 'catalina base' paths
> cd ..
> set CATALINA_HOME=%cd%
> set CATALINA_BASE=%CATALINA_HOME%
> cd .\bin
> 
> rem Java path relative to ASBNode
> set ASBNODE_DIR=%INSTALL_DIR:\Clients\MetaBrokersAndBridges\web\bin\=%
> set ASBNODE_DIR=%ASBNODE_DIR%\ASBNode
> set
> JVM_OPTIONS="-Dcatalina.base=%CATALINA_BASE%;-
> Dcatalina.home=%CATALINA_HOME%;-
> Djava.endorsed.dirs=%CATALINA_HOME%\endorsed;-
> Djava.io.tmpdir=%CATALINA_BASE%\temp;-
> Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager;-
> Djava.util.logging.config.file=%CATALINA_BASE%\conf
> \logging.properties"
> 
> set SERVICE_NAME=MBB
> set SERVICE_EXECUTABLE=%CATALINA_HOME%\bin\tomcat6.exe
> 
> set OPTIONS=--DisplayName "IBM InfoSphere Metadata Integration Bridges"
> set OPTIONS=%OPTIONS% --Description "IBM InfoSphere Metadata Integration
> Bridges"
> set OPTIONS=%OPTIONS% --Install %SERVICE_EXECUTABLE%
> set OPTIONS=%OPTIONS% --LogPath %CATALINA_BASE%\logs
> set OPTIONS=%OPTIONS% --Classpath %CATALINA_HOME%\bin
> \bootstrap.jar;%CATALINA_HOME%\bin\tomcat-juli.jar
> set OPTIONS=%OPTIONS% --StartMode Java
> set OPTIONS=%OPTIONS% --StopMode Java
> set OPTIONS=%OPTIONS% --JavaHome %ASBNODE_DIR%\apps\jre
> set OPTIONS=%OPTIONS% --StartClass org.apache.catalina.startup.Bootstrap
> set OPTIONS=%OPTIONS% --StartParams start
> set OPTIONS=%OPTIONS% --StopClass org.apache.catalina.startup.Bootstrap
> set OPTIONS=%OPTIONS% --StopParams stop
> set OPTIONS=%OPTIONS% --JvmOptions %JVM_OPTIONS%
> set OPTIONS=%OPTIONS% --StdOutput auto
> set OPTIONS=%OPTIONS% --StdError auto
> set OPTIONS=%OPTIONS% --JvmMs 128
> set OPTIONS=%OPTIONS% --JvmMx 1024
> set OPTIONS=%OPTIONS% --LogLevel Debug
> 
> "%SERVICE_EXECUTABLE%" //IS//%SERVICE_NAME% %OPTIONS%
> if not errorlevel 1 goto end
> echo Failed installing '%SERVICE_NAME%' service
> goto end
> 
> echo The service '%SERVICE_NAME%' has been installed.
> :end
> cd %INSTALL_DIR%
> ------------------------------------------------------------------------
> ------------------------------------------------------------------------
> ---------------------------
> 
> Thanks
> Venkat
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234087-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 15:11:48 2012
Return-Path: <users-return-234087-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E3779713
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 15:11:48 +0000 (UTC)
Received: (qmail 91928 invoked by uid 500); 8 May 2012 15:11:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91809 invoked by uid 500); 8 May 2012 15:11:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91800 invoked by uid 99); 8 May 2012 15:11:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 15:11:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 15:11:36 +0000
Received: by werf3 with SMTP id f3so1899053wer.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 08:11:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=DYpAYpdF/+YRgAfWT+3wuKEUHjfEFRMaM8Za6pBxQU0=;
        b=mUBARPieoo4l+89S98moq5q0IFa5HQGI/cd23YikXH7QVaY7DBD6rSQV0rXDphJwhP
         xZ+kJJiiHNJtYC+8VI9kME3UySdto4R7jMSV/uHIYA6sMJ4+ZhraD3z8aXuYFp1m0xsT
         R/OIF2XH5UNjUxnWW0HXxGYw3FLQOQHRJS0eYHI1MkwxQxbhDhuatXg0NLwBjTLg8xqF
         o4elyA40F86IyfVZFm8l/bkO30HEPCe7Q1pt1m9gUH6EnUmoqOrUxqduzZE4QLlApW4t
         hKup4+1tBSDInaMtntHnN/98dLDOJi9W7siGGA2GnrSY2sh1X4yJI0mCUJoWqP4E34f+
         RTqg==
MIME-Version: 1.0
Received: by 10.180.92.130 with SMTP id cm2mr45733518wib.4.1336489876438; Tue,
 08 May 2012 08:11:16 -0700 (PDT)
Received: by 10.216.4.11 with HTTP; Tue, 8 May 2012 08:11:16 -0700 (PDT)
In-Reply-To: <OFDAA170FE.9FE737D2-ON652579F8.004D5DAF-652579F8.004D8F5E@in.ibm.com>
References: <OFFFDC113A.F0D279E5-ON652579F8.00484544-652579F8.0048DA08@LocalDomain>
	<OFDAA170FE.9FE737D2-ON652579F8.004D5DAF-652579F8.004D8F5E@in.ibm.com>
Date: Tue, 8 May 2012 19:11:16 +0400
Message-ID: <CABzHfVn8JiLqb-VHa1DTd_w+1Bsj=bRfbLdghkkA2vg-9A8KVw@mail.gmail.com>
Subject: Re: Start Tomcat6 service with StartMode as java
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/8 Venkata R Madugundu <venkataramana.m@in.ibm.com>:
> Hi,
>
> We have been trying to run Tomcat6 windows service to spawn java.exe
> instead of loading having JVM loaded in process.
> I have tried to follow through all the documentation of Tomcat6 and procr=
un
> to use StartMode as 'java'.

You have to go to Apache Commons Daemon project and read their docs
(and sources)

>
> But no matter how I tweak the arguments, the StartMode with 'java' does n=
ot
> seem to work. Do you know if there is a deterministic way to make it work=
.
> We are using Tomcat 6.0.20
>

Old...  The commons-daemon bundled there is also old.


> Here is the relevant content of the service install script.
>
> -------------------------------------------------------------------------=
---------------------------------------------------------------------------=
-----------------------
> set INSTALL_DIR=3D%~dp0
>
> rem Tomcat 'catalina home' and 'catalina base' paths
> cd ..
> set CATALINA_HOME=3D%cd%
> set CATALINA_BASE=3D%CATALINA_HOME%
> cd .\bin
>
> rem Java path relative to ASBNode
> set ASBNODE_DIR=3D%INSTALL_DIR:\Clients\MetaBrokersAndBridges\web\bin\=3D=
%
> set ASBNODE_DIR=3D%ASBNODE_DIR%\ASBNode
> set
> JVM_OPTIONS=3D"-Dcatalina.base=3D%CATALINA_BASE%;-Dcatalina.home=3D%CATAL=
INA_HOME%;-Djava.endorsed.dirs=3D%CATALINA_HOME%\endorsed;-Djava.io.tmpdir=
=3D%CATALINA_BASE%\temp;-Djava.util.logging.manager=3Dorg.apache.juli.Class=
LoaderLogManager;-Djava.util.logging.config.file=3D%CATALINA_BASE%\conf
> \logging.properties"
>
> set SERVICE_NAME=3DMBB
> set SERVICE_EXECUTABLE=3D%CATALINA_HOME%\bin\tomcat6.exe
>
> set OPTIONS=3D--DisplayName "IBM InfoSphere Metadata Integration Bridges"
> set OPTIONS=3D%OPTIONS% --Description "IBM InfoSphere Metadata Integratio=
n
> Bridges"
> set OPTIONS=3D%OPTIONS% --Install %SERVICE_EXECUTABLE%
> set OPTIONS=3D%OPTIONS% --LogPath %CATALINA_BASE%\logs
> set OPTIONS=3D%OPTIONS% --Classpath %CATALINA_HOME%\bin
> \bootstrap.jar;%CATALINA_HOME%\bin\tomcat-juli.jar
> set OPTIONS=3D%OPTIONS% --StartMode Java
> set OPTIONS=3D%OPTIONS% --StopMode Java
> set OPTIONS=3D%OPTIONS% --JavaHome %ASBNODE_DIR%\apps\jre
> set OPTIONS=3D%OPTIONS% --StartClass org.apache.catalina.startup.Bootstra=
p
> set OPTIONS=3D%OPTIONS% --StartParams start
> set OPTIONS=3D%OPTIONS% --StopClass org.apache.catalina.startup.Bootstrap
> set OPTIONS=3D%OPTIONS% --StopParams stop
> set OPTIONS=3D%OPTIONS% --JvmOptions %JVM_OPTIONS%
> set OPTIONS=3D%OPTIONS% --StdOutput auto
> set OPTIONS=3D%OPTIONS% --StdError auto
> set OPTIONS=3D%OPTIONS% --JvmMs 128
> set OPTIONS=3D%OPTIONS% --JvmMx 1024
> set OPTIONS=3D%OPTIONS% --LogLevel Debug
>
> "%SERVICE_EXECUTABLE%" //IS//%SERVICE_NAME% %OPTIONS%
> if not errorlevel 1 goto end
> echo Failed installing '%SERVICE_NAME%' service
> goto end
>
> echo The service '%SERVICE_NAME%' has been installed.
> :end
> cd %INSTALL_DIR%
>

I'd first configure everything via GUI.  I think I am not mistaken
that all the parameters that you are passing above are settable
through prunmgr GUI.

That is if "java" mode actually does work on Windows
(I have never tried it, and that would be a Commons Daemon question).

Why do you want "java.exe"? Why cannot you start Tomcat with a *.bat file?

Also IIRC it was mentioned several times that in Vista and later
services cannot interact with Desktop. You have not mentioned what
your OS is.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234088-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 15:34:44 2012
Return-Path: <users-return-234088-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E096FC304
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 15:34:43 +0000 (UTC)
Received: (qmail 96817 invoked by uid 500); 8 May 2012 15:34:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96763 invoked by uid 500); 8 May 2012 15:34:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96751 invoked by uid 99); 8 May 2012 15:34:40 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 15:34:40 +0000
Received: from localhost (HELO mail-yx0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 15:34:40 +0000
Received: by yenm4 with SMTP id m4so3455235yen.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 08:34:38 -0700 (PDT)
Received: by 10.236.190.196 with SMTP id e44mr24302994yhn.67.1336491278947;
 Tue, 08 May 2012 08:34:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.14.18 with HTTP; Tue, 8 May 2012 08:34:15 -0700 (PDT)
In-Reply-To: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
References: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Tue, 8 May 2012 17:34:15 +0200
Message-ID: <CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
Subject: Re: tomcat7:run with multi maven modules changes
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

I imagine you use tomcat7:run "inside" eclipse.
Do that work outside eclipse ?

Perso I don't have any issues as I use only command line and
furthermore I don't use eclipse :-).
I imagine there is some m2e connector to write....

2012/5/8 Albert Kam <moonblade.wolf@gmail.com>:
> I notice that i have to repeat these steps so that tomcat7:run will
> see the newest stuffs from other maven modules :
> - rebuild all of my mvn modules (including my webapp module on which
> my tomcat7:run-ed, and other dependencies module)
> - clean my eclipse java project, rebuilding everything
> - tomcat7:run will then see the newest stuffs
>
> Note that i dont need to rebuild maven and eclipse project if i dont
> modify the webapp maven module, tomcat7 can automatically see the
> newest changes
>
> Ideally i would like to skip rebuilding everything in maven and then
> eclipse to see the newest changes in the other modules outside webapp
> module.
>
> Are there any tips to achieve this ?
>
> Thanks !
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234089-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 16:17:24 2012
Return-Path: <users-return-234089-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43ABFC41D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 16:17:24 +0000 (UTC)
Received: (qmail 8482 invoked by uid 500); 8 May 2012 16:17:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8246 invoked by uid 500); 8 May 2012 16:17:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8237 invoked by uid 99); 8 May 2012 16:17:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 16:17:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of todd.seidenberg@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 16:17:15 +0000
Received: by pbbro12 with SMTP id ro12so8789270pbb.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 09:16:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9ubDxWufH9drZ3GtnunY7uQzxmJ93pF2q47wQFE8N7g=;
        b=XyPy87WFYbRW8I+vIC13FZLcryjVlsJW/JfQNyAf5fWhy4GT4tI4y9ejWwOwRBK/97
         yuMxsO86T6gwOJob8up73l6dhiHxmPjCnCrCzNoyzfP/krhkgI1gaVJl2sIHDKwcg3RJ
         uhB5lcwMvTvUDze4vnLUxs3FUYi3xB9m0V+ChBYIjMF72N1uCJOqAr2zDrCtGtuDWeI2
         GEwHOxLE3xWPt316Ar407K2KZUAIwAWK7KAl4EbAIq1MOx4BqoZEBpSupm8C5+VoL3hX
         UR68EJBkruJtsZ4dcmH9m8ydIj1C7rqGGOyEh6MqAnpoIlgD0rwKrhbosOpv5WK29QW/
         5rPg==
MIME-Version: 1.0
Received: by 10.68.135.226 with SMTP id pv2mr9846312pbb.127.1336493815647;
 Tue, 08 May 2012 09:16:55 -0700 (PDT)
Received: by 10.68.24.101 with HTTP; Tue, 8 May 2012 09:16:55 -0700 (PDT)
In-Reply-To: <4FA8373F.3080102@ice-sa.com>
References: <CAJF7AOoKT6Yer11y+Uyy=e3gZKm2V-1TsEhc=_YRRqe1weLvWQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990DF59@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOqLfTDSikP98ymzP1OgvTJGajvG3oCD=Kc90t9P5nCXOg@mail.gmail.com>
	<4FA2D0FC.6040701@ice-sa.com>
	<CAJF7AOqHKK8RdnQfokQ6fnLCNMAgZ6J===QvUxo6zyBXOCaB1w@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E2A2@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOoVfcgpneKH4U5Rg0YdKXq6WrDJMMq=vr7C-jpsBEtRqQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB01990E43D@USEA-EXCH8.na.uis.unisys.com>
	<CAJF7AOrcakPybh=x4vhLXNZ2=oaP3Fa7HF5cnRNWgXgO-5T35g@mail.gmail.com>
	<4FA318DF.6090203@christopherschultz.net>
	<CAJF7AOpmP10tQm7P+G_A=DGX7TGiiQDuaSdsCzFjiBkUK=h3rA@mail.gmail.com>
	<CAJF7AOqBDAqr3Mh-Z8NkJhHiQ5e+5h5YnKSkcexg4zzanPn3jw@mail.gmail.com>
	<4FA3E9F1.7000304@christopherschultz.net>
	<CAJF7AOq3iHDZyjZy-Maf4V6tHjLi5zYNsav+rprrEzgpQkEA-A@mail.gmail.com>
	<CAJF7AOqB=PwtB4P94Ck=qxYjQWTxZVjwrPVdtkoD6qGGAO9_qA@mail.gmail.com>
	<4FA7F7DB.9040404@gmail.com>
	<4FA8373F.3080102@ice-sa.com>
Date: Tue, 8 May 2012 10:16:55 -0600
Message-ID: <CAJF7AOpEqcxjuYgZokLEHr_ae2BiqcHrtEW5nhstHjoP5pvBkw@mail.gmail.com>
Subject: Re: Adding the manager app to a Standalone tomcat install
From: Todd Seidenberg <todd.seidenberg@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10c86b204caa04bf88b7d9
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b10c86b204caa04bf88b7d9
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Mon, May 7, 2012 at 2:57 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Ognjen Blagojevic wrote:
>
>> Todd,
>>
>> On 4.5.2012 22:01, Todd Seidenberg wrote:
>>
>>> xx.x.32.16 - - [04/May/2012:13:59:05 -0600] "GET /manager/html HTTP/1.1=
"
>>> 404 991 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.19 (KHTML,
>>> like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151 Chrome/18.0.1025.151
>>> Safari/535.19"
>>> xx.x.32.16 - - [04/May/2012:13:59:34 -0600] "GET /manager/html HTTP/1.1=
"
>>> 404 991 "http://cascade:8090/" "Mozilla/5.0 (X11; Linux x86_64)
>>> AppleWebKit/535.19 (KHTML, like Gecko) Ubuntu/12.04
>>> Chromium/18.0.1025.151
>>> Chrome/18.0.1025.151 Safari/535.19"
>>>
>>
>> Brainstorming...
>>
>> Did you check access permissions for webapps/manager directory and its
>> contents? User running Tomcat must be able to read it.
>>
>>
> And one more thing to try :
> - Stop Tomcat
> - delete all the Tomcat logfiles (before that, save a copy somewhere, for
> later reference)
> - delete the directory /usr/local/confluence-4/conf/**Standalone/ and all
> its content (Tomcat will regenerate it)
> - start Tomcat and try again to access the manager app
> - stop Tomcat
> - paste the full content here, of the logfile which shows Tomcat being
> started and the applications being deployed, up to the end showing Tomcat
> being stopped
>
> Note: the directory /usr/local/confluence-4/conf/**Standalone/ is named
> so, instead of the more classic /usr/local/confluence-4/conf/**Catalina/,
> because in your server.xml, the <Engine> tag has been modified, compared =
to
> the standard Tomcat 6 server.xml.
> (the "name" attribute value was changed from "Catalina" to "Standalone").
> (And maybe this has something to do with the issue here; it may in any
> case change the way things are being logged)
>
>
Folks,

I've solved this problem.

I wound up completely removing the Confluence/tomcat directories, and
restoring them from a tar'd backup. Once I did that, i took the following
steps:

- set autodeploy to 'true' in the server.xml file
- modified the tomcat-users.xml file and server.xml file to reflect the use
of a tomcat-users.xml file
- copied the manager directory (from the apache-tomcat-6.0.32/webapps
directory from a fresh untarring of the tomcat package) tot he webapps
directory
- started tomcat.


This is all I needed to do. The manager deployed correctly, and created a
manager.xml file in the appropriate place. Not sure how things had gotten
corrupted before, but they did - so I punted. It appears to have worked.

Thanks for everyone's help.

- Todd



>
>
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b10c86b204caa04bf88b7d9--

From users-return-234090-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 18:46:22 2012
Return-Path: <users-return-234090-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40447CEF7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 18:46:22 +0000 (UTC)
Received: (qmail 75822 invoked by uid 500); 8 May 2012 18:46:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75756 invoked by uid 500); 8 May 2012 18:46:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75747 invoked by uid 99); 8 May 2012 18:46:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 18:46:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jeffmaury@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 18:46:14 +0000
Received: by wgbdr1 with SMTP id dr1so5396155wgb.0
        for <users@tomcat.apache.org>; Tue, 08 May 2012 11:45:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=8hPQ/u92fvOsW9hbhrrBMYXl2R8WseffY7LI+3t8/Pw=;
        b=tjn2I+VT1mc7Nsdx340BdG5Ew0YU4+2VrBOTiX9Of5INucZgP65kUjFc2vockcaFYl
         TuZbIzYvMLOLsVtfhoY4y2M8PLh092I6MCY1i2C9RpwibOu7sxUn9toANl1TIhcQ4oyD
         0pNMX9E4yafroxLeloDkicTHPE6EFE5FcTlZWM+7Uxaq3CRVNl2J4ldubHd3L1c8eRm5
         WmKSQuD6bh/BKp1yEED7OEb2Av0Vzx7N63HrVomVGQz2vC3Hom9fGec4zTv9k0ldBy/g
         D49aBeztXrkAl28loSSyoeVsmB7Sg1hI8WG+AFmz3KRIk0PavNn7QWMl6AHGHyugUPrA
         bvuQ==
Received: by 10.216.134.19 with SMTP id r19mr12736897wei.66.1336502753147;
 Tue, 08 May 2012 11:45:53 -0700 (PDT)
MIME-Version: 1.0
Sender: jeffmaury@gmail.com
Received: by 10.223.6.79 with HTTP; Tue, 8 May 2012 11:45:12 -0700 (PDT)
In-Reply-To: <CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
References: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
 <CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
From: Jeff MAURY <jeffmaury@jeffmaury.com>
Date: Tue, 8 May 2012 20:45:12 +0200
X-Google-Sender-Auth: UuZKoswNShsIegtYmfb0UxuF1L8
Message-ID: <CANyrOm4nf=RTixpSDbGJ7uN4pv_L0qkCMt6J=3hjdDqUi1CX1A@mail.gmail.com>
Subject: Re: tomcat7:run with multi maven modules changes
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6d7e6abd7bc2804bf8acb47
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d7e6abd7bc2804bf8acb47
Content-Type: text/plain; charset=ISO-8859-1

You need to write a M2E connector for a Maven MOJO that processes your
projects files. I don't think this is the case for the tomcat7:run goal and
it should work out of of the box in Eclipse. Just need to add a Maven lunch
configuration with the proper goal.

Regards
Jeff


On Tue, May 8, 2012 at 5:34 PM, Olivier Lamy <olamy@apache.org> wrote:

> I imagine you use tomcat7:run "inside" eclipse.
> Do that work outside eclipse ?
>
> Perso I don't have any issues as I use only command line and
> furthermore I don't use eclipse :-).
> I imagine there is some m2e connector to write....
>
> 2012/5/8 Albert Kam <moonblade.wolf@gmail.com>:
> > I notice that i have to repeat these steps so that tomcat7:run will
> > see the newest stuffs from other maven modules :
> > - rebuild all of my mvn modules (including my webapp module on which
> > my tomcat7:run-ed, and other dependencies module)
> > - clean my eclipse java project, rebuilding everything
> > - tomcat7:run will then see the newest stuffs
> >
> > Note that i dont need to rebuild maven and eclipse project if i dont
> > modify the webapp maven module, tomcat7 can automatically see the
> > newest changes
> >
> > Ideally i would like to skip rebuilding everything in maven and then
> > eclipse to see the newest changes in the other modules outside webapp
> > module.
> >
> > Are there any tips to achieve this ?
> >
> > Thanks !
> >
> > --
> > Do not pursue the past. Do not lose yourself in the future.
> > The past no longer is. The future has not yet come.
> > Looking deeply at life as it is in the very here and now,
> > the practitioner dwells in stability and freedom.
> > (Thich Nhat Hanh)
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
Jeff MAURY


"Legacy code" often differs from its suggested alternative by actually
working and scaling.
 - Bjarne Stroustrup

http://www.jeffmaury.com
http://riadiscuss.jeffmaury.com
http://www.twitter.com/jeffmaury

--0016e6d7e6abd7bc2804bf8acb47--

From users-return-234091-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 19:07:24 2012
Return-Path: <users-return-234091-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50CA9CFB9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 19:07:24 +0000 (UTC)
Received: (qmail 47632 invoked by uid 500); 8 May 2012 19:07:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47571 invoked by uid 500); 8 May 2012 19:07:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47562 invoked by uid 99); 8 May 2012 19:07:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 19:07:20 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 19:07:10 +0000
X-IronPort-AV: E=Sophos;i="4.75,553,1330923600"; 
   d="scan'208";a="114030784"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 08 May 2012 15:06:11 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 8 May 2012 15:06:11 -0400
Message-ID: <4FA96EA2.2000203@ptc.com>
Date: Tue, 08 May 2012 14:06:10 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com>
In-Reply-To: <4FA85FD1.5060109@ptc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 08 May 2012 19:06:11.0352 (UTC) FILETIME=[A1C70980:01CD2D4D]

On 05/07/2012 06:50 PM, Andy Wang wrote:
> On 05/07/2012 06:06 PM, Andr Warnier wrote:
>>
>> Considering your setup, it should not be too hard to set up a 
>> download of the same file file directly from Tomcat (through its HTTP 
>> Connector), to compare that with your two previous ways.  This way, 
>> you could make sure if it is Tomcat, or the mod_jk/AJP link which is 
>> the issue.
>>
>> Also, still considering your setup, it should be possible to 
>> configure things so that these file downloads are handled directly by 
>> Apache httpd, since that seems to satisfy your expectations.  mod_jk 
>> "JkMount/JkUnMount" rules (*) should make that possible, no ?
>> Have to be a bit careful not to introduce security holes, and I am 
>> assuming that the files are static (which may be wrong here).
>>
>> (*) or the <Location ..> + "setHandler jakarta-servlet" configuration 
>> variation
>>
> Thanks for the http connector idea.  I forgot about that.  The primary 
> reason why i'm using tomcat to download a static file is really for 
> testing purposes to confirm performance between mod_jk and direct 
> apache.  we have servlets that stream content files that see the same 
> massive performance hit so in our actual use case it's not static 
> files :(.  I'm thinking this would be a valid test to help at least 
> tweak mod_jk to it's potential.
>
> We've checked and double checked the buffering code of the servlets 
> and it all looks fine AND the performance is fine on Linux and the 
> speed characteristics are identical to serving static files through 
> tomcat + mod_jk so I'm hoping that it's an apples to apples comparison.
>
> Andy
>

Through the HTTP connector the performance is similar to apache direct.  
30mb/s

So there's something interesting going on specifically ajp.

Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234092-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 19:22:43 2012
Return-Path: <users-return-234092-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66CDE9043
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 19:22:43 +0000 (UTC)
Received: (qmail 3766 invoked by uid 500); 8 May 2012 19:22:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3663 invoked by uid 500); 8 May 2012 19:22:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3654 invoked by uid 99); 8 May 2012 19:22:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 19:22:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 19:22:33 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id 7Pt51j00227AodY54XNCMV; Tue, 08 May 2012 19:22:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id 7XNC1j00T38FjT13fXNC3w; Tue, 08 May 2012 19:22:12 +0000
Message-ID: <4FA97262.3060602@christopherschultz.net>
Date: Tue, 08 May 2012 15:22:10 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com>
In-Reply-To: <4FA84EE5.7050504@ptc.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andy,

On 5/7/12 6:38 PM, Andy Wang wrote:
> This is Apache 2.2.22 and mod_jk 1.2.32 with tomcat 5.0.30 (yeah,
> I know this is ancient.  I'll try with something newer tomorrow).

Which connector are you using? If you have APR available, AJP should use
the APR connector by default. Do you know if you are using APR/native?
If not, consider trying it, and use sendFile="true". I'm not sure if it
will improve anything because the real problem might be the actual
buffering between Tomcat and httpd.

> Unfortunately, this is windows, and both apache and tomcat are
> local on the server so I can't sniff the packets between the two
> systems with wireshark.

Wireshark should allow you to sniff traffic on localhost.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+pcmIACgkQ9CaO5/Lv0PCS1gCeI7k+2Mvg9O2uFUEfxgxhbtrU
vH8An2js/6x0MubgspXUlTASJNRjiWpS
=DOGG
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234093-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 20:03:00 2012
Return-Path: <users-return-234093-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 095E39141
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 20:03:00 +0000 (UTC)
Received: (qmail 11683 invoked by uid 500); 8 May 2012 20:02:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11604 invoked by uid 500); 8 May 2012 20:02:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11595 invoked by uid 99); 8 May 2012 20:02:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 20:02:56 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 20:02:49 +0000
X-IronPort-AV: E=Sophos;i="4.75,553,1330923600"; 
   d="scan'208,217";a="114033990"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 08 May 2012 16:02:27 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 8 May 2012 16:02:27 -0400
Message-ID: <4FA97BD2.9000008@ptc.com>
Date: Tue, 08 May 2012 15:02:26 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA97262.3060602@christopherschultz.net>
In-Reply-To: <4FA97262.3060602@christopherschultz.net>
Content-Type: multipart/alternative;
 boundary="------------090101080903020805010705"
X-OriginalArrivalTime: 08 May 2012 20:02:27.0387 (UTC) FILETIME=[7E0D18B0:01CD2D55]
X-Virus-Checked: Checked by ClamAV on apache.org

--------------090101080903020805010705
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

> Which connector are you using? If you have APR available, AJP should use
> the APR connector by default. Do you know if you are using APR/native?
> If not, consider trying it, and use sendFile="true". I'm not sure if it
> will improve anything because the real problem might be the actual
> buffering between Tomcat and httpd.
Unfortunately, we found some odd problems with APR/native a long time 
ago and haven't ever gone back to it.  I don't have it available for the 
systems I need this working on to try
> Wireshark should allow you to sniff traffic on localhost.
>
http://wiki.wireshark.org/CaptureSetup/Loopback
It doesn't work on Windows.  I've tried the loopback adapter piece, but 
it's quite obnoxious.
What am I saying, Windows is quite obnoxious :)

Andy

--------------090101080903020805010705--

From users-return-234094-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 20:08:14 2012
Return-Path: <users-return-234094-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 009409171
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 20:08:14 +0000 (UTC)
Received: (qmail 29361 invoked by uid 500); 8 May 2012 20:08:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29300 invoked by uid 500); 8 May 2012 20:08:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29290 invoked by uid 99); 8 May 2012 20:08:10 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 20:08:10 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 20:08:10 +0000
Message-ID: <4FA97D26.6060204@apache.org>
Date: Tue, 08 May 2012 21:08:06 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org> <4FA83E04.8020502@christopherschultz.net> <4FA8E734.1040005@ice-sa.com> <4FA8EDC0.5080507@apache.org>
In-Reply-To: <4FA8EDC0.5080507@apache.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 08/05/2012 10:56, Mark Thomas wrote:
> On 08/05/2012 10:28, Andr Warnier wrote:
>> Christopher Schultz wrote:
>>> -----BEGIN PGP SIGNED MESSAGE-----
>>> Hash: SHA1
>>>
>>> Mark,
>>>
>>> On 5/7/12 5:21 PM, Mark Thomas wrote:
>>>>> Christopher Schultz wrote:
>>>> Tomcat only processes these requests for Servlet 3.0 file upload
>>>> and there are already sufficient limits in place for that case to
>>>> prevent a DoS.
>>>
>>> Aah, right: multipart is only supported if the servlet has been marked
>>> as such, and therefore the developer knows to expect large mounts of
>>> data (and can configure such limits).
>>>
>>> The wildcard is the "casual multipart parsing" which allows any
>>> multipart request to be parsed without regard for such limits. Any
>>> limits (data size) imposed on the connector will be used in those
>>> cases, but "maximum number of parameters" is not one of them. I should
>>> probably update the documentation for that feature to make a note of
>>> this caveat.
>>>
>>
>> From the documentation of Commons/fileUpload, it would seem rather
>> simple - for a Java guru - to implement a counter while processing the
>> POSTed parameters, and ignore what is above maxParameterCount :
>>
>> Sample code from http://commons.apache.org/fileupload/using.html :
>>
>> // Process the uploaded items
>> Iterator iter = items.iterator();
>> while (iter.hasNext()) {
>>     FileItem item = (FileItem) iter.next();
>>
>>     if (item.isFormField()) {
>>         processFormField(item);
>>     } else {
>>         processUploadedFile(item);
>>     }
>> }
>>
>> (Maybe the "items" object above already has a "size" or "length" method,
>> avoiding the counter logic altogether)
>>
>> Of course by then, the POST has already been parsed, so I don't know if
>> this would help a lot to avoid a DOS attack.
>> But the maximum acceptable total size of the POST can be specified in
>> advance, to avoid this.  After all, if someone wants to allow POSTs with
>> 10,000 small parameters, then why not ?
>>
>> I do not understand on the other hand the OP's later reference to a
>> "hash collision". That sounds like a JVM issue, rather than a
>> specifically Tomcat one, no ?
> 
> It is a JVM issue (in my view and many others) but one Oracle has chosen
> not to fix.
> 
> maxParameterCount was put in place as a mitigation for this issue. It
> looks like the OP may have a valid point regarding multi-part requests -
> at least as far as the Servlet 3.0 upload code is concerned. I need to
> do review the code to see exactly what is going on.

Yep, a one line fix was required. Fixed in trunk and 7.0.x and will be
in 7.0.28 omwards.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234095-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 21:05:16 2012
Return-Path: <users-return-234095-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77B98CE71
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 21:05:16 +0000 (UTC)
Received: (qmail 81268 invoked by uid 500); 8 May 2012 21:05:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81195 invoked by uid 500); 8 May 2012 21:05:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81185 invoked by uid 99); 8 May 2012 21:05:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 21:05:12 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 21:05:02 +0000
X-IronPort-AV: E=Sophos;i="4.75,553,1330923600"; 
   d="scan'208";a="114037022"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 08 May 2012 17:04:39 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 8 May 2012 17:04:38 -0400
Message-ID: <4FA98A65.3010603@ptc.com>
Date: Tue, 08 May 2012 16:04:37 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com>
In-Reply-To: <4FA96EA2.2000203@ptc.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 08 May 2012 21:04:39.0183 (UTC) FILETIME=[2E5FF9F0:01CD2D5E]

After playing with this a bit more (testing this time against tomcat 7.0.27)
the ajpPacketSize has zero effect on the speed.

Downloading a large file through mod_jk to tomcat looks like this:
2012-05-08 16:01:22 (15.0 MB/s) - sol-11-1111-text-x86.iso.8 saved 
[450799616/450799616]

Downloading the same large file directly through apache looks like:
2012-05-08 16:01:58 (19.3 MB/s) - sol-11-1111-text-x86.iso.11 saved 
[450799616/450799616]


the numbers are pretty consistent. So apache still beats tomcat by a 
good chunk but it's much much better than with tomcat 5.0 where the 
through tomcat numbers were about half that.

I'm still wondering if there's something that can be tweaked in the MS 
TCP/IP stack to bring the two together closer.

Andy

On 05/08/2012 02:06 PM, Andy Wang wrote:
> On 05/07/2012 06:50 PM, Andy Wang wrote:
>> On 05/07/2012 06:06 PM, Andr Warnier wrote:
>>>
>>> Considering your setup, it should not be too hard to set up a 
>>> download of the same file file directly from Tomcat (through its 
>>> HTTP Connector), to compare that with your two previous ways. This 
>>> way, you could make sure if it is Tomcat, or the mod_jk/AJP link 
>>> which is the issue.
>>>
>>> Also, still considering your setup, it should be possible to 
>>> configure things so that these file downloads are handled directly 
>>> by Apache httpd, since that seems to satisfy your expectations. 
>>> mod_jk "JkMount/JkUnMount" rules (*) should make that possible, no ?
>>> Have to be a bit careful not to introduce security holes, and I am 
>>> assuming that the files are static (which may be wrong here).
>>>
>>> (*) or the <Location ..> + "setHandler jakarta-servlet" 
>>> configuration variation
>>>
>> Thanks for the http connector idea. I forgot about that. The primary 
>> reason why i'm using tomcat to download a static file is really for 
>> testing purposes to confirm performance between mod_jk and direct 
>> apache. we have servlets that stream content files that see the same 
>> massive performance hit so in our actual use case it's not static 
>> files :(. I'm thinking this would be a valid test to help at least 
>> tweak mod_jk to it's potential.
>>
>> We've checked and double checked the buffering code of the servlets 
>> and it all looks fine AND the performance is fine on Linux and the 
>> speed characteristics are identical to serving static files through 
>> tomcat + mod_jk so I'm hoping that it's an apples to apples comparison.
>>
>> Andy
>>
>
> Through the HTTP connector the performance is similar to apache 
> direct. 30mb/s
>
> So there's something interesting going on specifically ajp.
>
> Andy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234096-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 21:14:29 2012
Return-Path: <users-return-234096-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EFBDCEBE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 21:14:29 +0000 (UTC)
Received: (qmail 13156 invoked by uid 500); 8 May 2012 21:14:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13012 invoked by uid 500); 8 May 2012 21:14:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12999 invoked by uid 99); 8 May 2012 21:14:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 21:14:26 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 21:14:16 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-11.tower-200.messagelabs.com!1336511635!12247696!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 20944 invoked from network); 8 May 2012 21:13:55 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-11.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 8 May 2012 21:13:55 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 8 May 2012 16:13:55 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Tue, 8 May
 2012 16:13:54 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 8 May 2012 16:13:52 -0500
Subject: RE: Slow downloads through mod_jk on Windows XP
Thread-Topic: Slow downloads through mod_jk on Windows XP
Thread-Index: Ac0tXleqgKyiBQH/TRygAqyDghbSswAAJfTA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com>
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com>
 <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com>
 <4FA98A65.3010603@ptc.com>
In-Reply-To: <4FA98A65.3010603@ptc.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Andy Wang [mailto:awang@ptc.com]=20
> Subject: Re: Slow downloads through mod_jk on Windows XP

> Downloading a large file through mod_jk to tomcat looks like this:
> 2012-05-08 16:01:22 (15.0 MB/s) - "sol-11-1111-text-x86.iso.8" saved=20
> [450799616/450799616]

> Downloading the same large file directly through apache looks like:
> 2012-05-08 16:01:58 (19.3 MB/s) - "sol-11-1111-text-x86.iso.11" saved=20
> [450799616/450799616]

> So apache still beats tomcat by a good chunk

No, httpd (not Apache, which is an open source software organization) beats=
 httpd+Tomcat - any other result would be violating several laws of physics=
.  Might be interesting to measure just Tomcat in your environment.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234097-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 22:10:54 2012
Return-Path: <users-return-234097-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2839B9042
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 22:10:54 +0000 (UTC)
Received: (qmail 65522 invoked by uid 500); 8 May 2012 22:10:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65317 invoked by uid 500); 8 May 2012 22:10:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65307 invoked by uid 99); 8 May 2012 22:10:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 22:10:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 22:10:21 +0000
Received: from [192.168.245.129] (p549E09F8.dip0.t-ipconnect.de [84.158.9.248])
	by tor.combios.es (Postfix) with ESMTPA id D3FE4DA0810
	for <users@tomcat.apache.org>; Wed,  9 May 2012 00:09:57 +0200 (CEST)
Message-ID: <4FA999B2.9070904@ice-sa.com>
Date: Wed, 09 May 2012 00:09:54 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com> <4FA98A65.3010603@ptc.com> <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Caldarale, Charles R wrote:
>> From: Andy Wang [mailto:awang@ptc.com] 
>> Subject: Re: Slow downloads through mod_jk on Windows XP
> 
>> Downloading a large file through mod_jk to tomcat looks like this:
>> 2012-05-08 16:01:22 (15.0 MB/s) - "sol-11-1111-text-x86.iso.8" saved 
>> [450799616/450799616]
> 
>> Downloading the same large file directly through apache looks like:
>> 2012-05-08 16:01:58 (19.3 MB/s) - "sol-11-1111-text-x86.iso.11" saved 
>> [450799616/450799616]
> 
>> So apache still beats tomcat by a good chunk
> 
> No, httpd (not Apache, which is an open source software organization) beats httpd+Tomcat - any other result would be violating several laws of physics.  Might be interesting to measure just Tomcat in your environment.
> 

He did that previously, and the result seemed to be that Tomcat alone was comparable to 
httpd alone, and both were better than httpd/mod_jk + Tomcat; which is indeed physically 
to be expected : more tubing, less throughput (excepting quantum tunelling effects of 
course).
The question is more : how much of a degradation ?
15.0/19.3 = 0.77 = 23% less throughput.  I don't know if this is "a good chunk" or the "to 
be expected" kind of degradation.

According to the (looking seriously outdated) AJP protocol documentation at 
http://tomcat.apache.org/connectors-doc/ajp/ajpv13a.html, it would seem that the maximum 
data size "chunk" which AJP can send back from Tomcat to the front-end httpd is 8K at a 
time.  So AJP might not be very well suited, when it comes to send back big blobs of data.

Rainer would need to confirm if that is still the case now.

One earlier message seemed to indicate that this "httpd/mod_jk+tomcat deficit" only 
happened under Windows though, and not under Linux.  If that is confirmed, maybe there is 
some subtle difference in how the TCP/IP stack is being used under the one vs the other ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234098-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May  8 22:42:18 2012
Return-Path: <users-return-234098-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25EFFCCA4
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  8 May 2012 22:42:18 +0000 (UTC)
Received: (qmail 42955 invoked by uid 500); 8 May 2012 22:42:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42913 invoked by uid 500); 8 May 2012 22:42:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42903 invoked by uid 99); 8 May 2012 22:42:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 22:42:14 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 May 2012 22:42:05 +0000
X-IronPort-AV: E=Sophos;i="4.75,553,1330923600"; 
   d="scan'208";a="114039845"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 08 May 2012 18:41:26 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 8 May 2012 18:41:26 -0400
Message-ID: <4FA9A115.709@ptc.com>
Date: Tue, 08 May 2012 17:41:25 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com> <4FA98A65.3010603@ptc.com> <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com> <4FA999B2.9070904@ice-sa.com>
In-Reply-To: <4FA999B2.9070904@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 May 2012 22:41:26.0483 (UTC) FILETIME=[B3CBA230:01CD2D6B]
X-Virus-Checked: Checked by ClamAV on apache.org


> He did that previously, and the result seemed to be that Tomcat alone 
> was comparable to httpd alone, and both were better than httpd/mod_jk 
> + Tomcat; which is indeed physically to be expected : more tubing, 
> less throughput (excepting quantum tunelling effects of course).
> The question is more : how much of a degradation ?
> 15.0/19.3 = 0.77 = 23% less throughput.  I don't know if this is "a 
> good chunk" or the "to be expected" kind of degradation.
>
> According to the (looking seriously outdated) AJP protocol 
> documentation at 
> http://tomcat.apache.org/connectors-doc/ajp/ajpv13a.html, it would 
> seem that the maximum data size "chunk" which AJP can send back from 
> Tomcat to the front-end httpd is 8K at a time.  So AJP might not be 
> very well suited, when it comes to send back big blobs of data.
>
> Rainer would need to confirm if that is still the case now.
>
> One earlier message seemed to indicate that this "httpd/mod_jk+tomcat 
> deficit" only happened under Windows though, and not under Linux.  If 
> that is confirmed, maybe there is some subtle difference in how the 
> TCP/IP stack is being used under the one vs the other ?
Thanks for that summary,
That's about what I'm seeing.  I just created a directory containing 
Apache configured to serve up the iso file directly as well as through 
three tomcats (tomcat5.5, tomcat6, and tomcat7) to see if the behavior 
is related to tomcat that I can easily copy between different Windows 
systems.  Initial benchmarks seem to show that the behavior between 
tomcats is not an issue.    Tomcat7 is using JDK 1.7 and this is 
interesting.  The benchmarks with tomcat7+jdk1.7 vary widely across the 
board (both through ajp and direct http to tomcat) from 30s-40sMB/s.  
Java 1.6 seems alot more consistent.  Not sure why yet.

I've also moved off the crappy Windows XP VM I was provided to a more 
recent Windows 2008 VM as well as a fresh Windows XP SP3 VM.  In past 
experience it seems windows XP and windows 2003 were the worst of the 
bunch with the ajp downloads dropping as low as 4-5MB/s over time.

I'm going to run a barrage of tests and provide the numbers.  Do you 
think ab -n 5 and allowing ab to average the values of 5 hits for the 
~440MB iso is a sound average?

I'll compare Windows XP performance and Windows 2008 performance and 
after that I'll do the same on a Linux VM to get a better comparison.

I also did bump up the ajpPacket size to 64K with no noticeable change 
to the benchmark numbers.  So while 8k seems crappy it doesn't seem to 
be an issue.  Given that apache and tomcat are both local I wouldn't 
expect that to be a big problem with 8k chunks given the near 
non-existent latency of local connections.

I plan on doing both local ab requests as well as remote.  The problem 
with remote is that our network is busy, so it may account for some 
variations but I don't think I can get our IT to segment me anything for 
this purpose :(.

I'm not so concerned about a 25% hit.  I'm really more concerned with 
the drop to 4-5MB/s over time that seems to happen.

Thanks,
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234099-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 02:51:16 2012
Return-Path: <users-return-234099-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77B45C080
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 02:51:16 +0000 (UTC)
Received: (qmail 68458 invoked by uid 500); 9 May 2012 02:51:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68316 invoked by uid 500); 9 May 2012 02:51:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68295 invoked by uid 99); 9 May 2012 02:51:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 02:51:11 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_HELO_NON_FQDN_1,HELO_NO_DOMAIN,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anvil@jumperz.net designates 121.1.251.31 as permitted sender)
Received: from [121.1.251.31] (HELO bitforest) (121.1.251.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 May 2012 02:51:04 +0000
Received: (qmail 18689 invoked from network); 9 May 2012 12:43:11 +0900
Received: from unknown (HELO ?192.168.3.100?) (192.168.3.100)
  by w251031.ppp.asahi-net.or.jp with SMTP; 9 May 2012 12:43:11 +0900
Message-ID: <4FA9DB9F.1070801@jumperz.net>
Date: Wed, 09 May 2012 11:51:11 +0900
From: Kanatoko <anvil@jumperz.net>
User-Agent: Thunderbird 2.0.0.24 (X11/20100623)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: maxParameterCount not applied to multipart requests
References: <4FA50E46.4050203@jumperz.net> <4FA63ED4.8000109@apache.org> <4FA83870.5070905@christopherschultz.net> <4FA83A5A.5030300@ice-sa.com> <4FA83CEA.3070401@apache.org> <4FA83E04.8020502@christopherschultz.net> <4FA8E734.1040005@ice-sa.com> <4FA8EDC0.5080507@apache.org> <4FA97D26.6060204@apache.org>
In-Reply-To: <4FA97D26.6060204@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Mark Thomas wrote:
> Yep, a one line fix was required. Fixed in trunk and 7.0.x and will be
> in 7.0.28 omwards.
>
> Mark
>   
I have confirmed that this issue is fixed in tomcat 7 trunk.
Thank you Mark.

-- 
Kanatoko
http://www.jumperz.net/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234100-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 03:27:50 2012
Return-Path: <users-return-234100-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8893A96E1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 03:27:50 +0000 (UTC)
Received: (qmail 46337 invoked by uid 500); 9 May 2012 03:27:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46034 invoked by uid 500); 9 May 2012 03:27:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46004 invoked by uid 99); 9 May 2012 03:27:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 03:27:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 03:27:38 +0000
Received: by eaak12 with SMTP id k12so1322737eaa.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 20:27:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=G1wJ8UVFfFmHd3V75gFDx5ydG8KeQYCFg+C32B0Kv3U=;
        b=cjlGaAl44L+NXrhGyypkqb3F/uyIt3f2ZiCBefWZlGVCt548BFdPgDVf8zDM+oX6si
         ZIjc4iDLaIHwnsIJBpunVNVlt3ygll9i4VTrhbPI3S7xwB7hFTdaw27RogKTL28oLMlZ
         tpmSVE80CQq9vOWjNFnhjcUAhQQsx13STOChODzXG0g+2XUhSLMrJV7pS2rtsA5Nx05m
         mSqiJOWSWDsDEXALqHJ7wKwZXyGUYpgQkf1G1KXG4edqvLmPW5B2YoYzQ5gacE5xMv/l
         6H9Stk8USBlz0lKtWfpjOqW2+yIbGPz9DAxAz8uB2HzKz9Jp/udUysX9s/25fvBGoNXg
         rJsQ==
MIME-Version: 1.0
Received: by 10.213.4.200 with SMTP id 8mr261357ebs.27.1336534037800; Tue, 08
 May 2012 20:27:17 -0700 (PDT)
Received: by 10.213.106.15 with HTTP; Tue, 8 May 2012 20:27:17 -0700 (PDT)
In-Reply-To: <CANyrOm4nf=RTixpSDbGJ7uN4pv_L0qkCMt6J=3hjdDqUi1CX1A@mail.gmail.com>
References: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
	<CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
	<CANyrOm4nf=RTixpSDbGJ7uN4pv_L0qkCMt6J=3hjdDqUi1CX1A@mail.gmail.com>
Date: Wed, 9 May 2012 10:27:17 +0700
Message-ID: <CAMT20g_8EpZdr7om6iSZerx9Vem9xO2QdLrpoXcK2EgJ1RGhUQ@mail.gmail.com>
Subject: Re: tomcat7:run with multi maven modules changes
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

After the advices, i took a peek on the the eclipse maven run
configuration that i use to launch tomcat7:run, and i notice the
checkbox : "Resolve Workspace Artifacts".
Ticking that checkbox, and re-run the tomcat7:run works great now,
which can see the other modules' changes without rebuilding !

Thanks a lot, i feel i can begin my fire dance now !

Anyway, i just want to report something that may not be related with
this topic in case that'd be useful.
I have these warnings when starting up tomcat7:run :

[INFO] Scanning for projects...
[WARNING] The metadata
C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plugin=
\2.0-SNAPSHOT\maven-metadata-apa
che.snapshots.xml is invalid: end tag name </head> must be the same as
start tag <link> from line 56 (position: TEXT seen ...arset
=3D"utf-8">\n    Ext.onReady(Sonatype.init);\n  </script>\n</head>... @65:8=
)
[WARNING] The metadata
C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plugin=
\2.0-SNAPSHOT\maven-metadata-apa
che.snapshots.xml is invalid: end tag name </head> must be the same as
start tag <link> from line 56 (position: TEXT seen ...arset
=3D"utf-8">\n    Ext.onReady(Sonatype.init);\n  </script>\n</head>... @65:8=
)
[WARNING] The metadata
C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat-maven-plugin\=
2.0-SNAPSHOT\maven-metadata-apac
he.snapshots.xml is invalid: end tag name </head> must be the same as
start tag <link> from line 56 (position: TEXT seen ...arset=3D
"utf-8">\n    Ext.onReady(Sonatype.init);\n  </script>\n</head>... @65:8)




On Wed, May 9, 2012 at 1:45 AM, Jeff MAURY <jeffmaury@jeffmaury.com> wrote:
> You need to write a M2E connector for a Maven MOJO that processes your
> projects files. I don't think this is the case for the tomcat7:run goal a=
nd
> it should work out of of the box in Eclipse. Just need to add a Maven lun=
ch
> configuration with the proper goal.
>
> Regards
> Jeff
>
>
> On Tue, May 8, 2012 at 5:34 PM, Olivier Lamy <olamy@apache.org> wrote:
>
>> I imagine you use tomcat7:run "inside" eclipse.
>> Do that work outside eclipse ?
>>
>> Perso I don't have any issues as I use only command line and
>> furthermore I don't use eclipse :-).
>> I imagine there is some m2e connector to write....
>>
>> 2012/5/8 Albert Kam <moonblade.wolf@gmail.com>:
>> > I notice that i have to repeat these steps so that tomcat7:run will
>> > see the newest stuffs from other maven modules :
>> > - rebuild all of my mvn modules (including my webapp module on which
>> > my tomcat7:run-ed, and other dependencies module)
>> > - clean my eclipse java project, rebuilding everything
>> > - tomcat7:run will then see the newest stuffs
>> >
>> > Note that i dont need to rebuild maven and eclipse project if i dont
>> > modify the webapp maven module, tomcat7 can automatically see the
>> > newest changes
>> >
>> > Ideally i would like to skip rebuilding everything in maven and then
>> > eclipse to see the newest changes in the other modules outside webapp
>> > module.
>> >
>> > Are there any tips to achieve this ?
>> >
>> > Thanks !
>> >
>> > --
>> > Do not pursue the past. Do not lose yourself in the future.
>> > The past no longer is. The future has not yet come.
>> > Looking deeply at life as it is in the very here and now,
>> > the practitioner dwells in stability and freedom.
>> > (Thich Nhat Hanh)
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> > For additional commands, e-mail: users-help@tomcat.apache.org
>> >
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>
>
> --
> Jeff MAURY
>
>
> "Legacy code" often differs from its suggested alternative by actually
> working and scaling.
> =A0- Bjarne Stroustrup
>
> http://www.jeffmaury.com
> http://riadiscuss.jeffmaury.com
> http://www.twitter.com/jeffmaury



--=20
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234101-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 06:33:32 2012
Return-Path: <users-return-234101-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AC2F9564
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 06:33:32 +0000 (UTC)
Received: (qmail 51462 invoked by uid 500); 9 May 2012 06:33:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50852 invoked by uid 500); 9 May 2012 06:33:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50808 invoked by uid 99); 9 May 2012 06:33:26 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 06:33:26 +0000
Received: from localhost (HELO mail-yw0-f45.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 06:33:25 +0000
Received: by yhoo21 with SMTP id o21so3794605yho.18
        for <users@tomcat.apache.org>; Tue, 08 May 2012 23:33:24 -0700 (PDT)
Received: by 10.236.195.34 with SMTP id o22mr9958795yhn.75.1336545204854; Tue,
 08 May 2012 23:33:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.14.18 with HTTP; Tue, 8 May 2012 23:33:03 -0700 (PDT)
In-Reply-To: <CAMT20g_8EpZdr7om6iSZerx9Vem9xO2QdLrpoXcK2EgJ1RGhUQ@mail.gmail.com>
References: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
 <CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
 <CANyrOm4nf=RTixpSDbGJ7uN4pv_L0qkCMt6J=3hjdDqUi1CX1A@mail.gmail.com> <CAMT20g_8EpZdr7om6iSZerx9Vem9xO2QdLrpoXcK2EgJ1RGhUQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Wed, 9 May 2012 08:33:03 +0200
Message-ID: <CAPoyBqT21akCCc02Oqa6tGZ=gfcQH9Em_-o0BJ7NrrNtHpSVmQ@mail.gmail.com>
Subject: Re: tomcat7:run with multi maven modules changes
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/9 Albert Kam <moonblade.wolf@gmail.com>:
> After the advices, i took a peek on the the eclipse maven run
> configuration that i use to launch tomcat7:run, and i notice the
> checkbox : "Resolve Workspace Artifacts".
> Ticking that checkbox, and re-run the tomcat7:run works great now,
> which can see the other modules' changes without rebuilding !
>
> Thanks a lot, i feel i can begin my fire dance now !
>
> Anyway, i just want to report something that may not be related with
> this topic in case that'd be useful.
> I have these warnings when starting up tomcat7:run :
>
> [INFO] Scanning for projects...
> [WARNING] The metadata
> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plug=
in\2.0-SNAPSHOT\maven-metadata-apa
> che.snapshots.xml is invalid: end tag name </head> must be the same as
> start tag <link> from line 56 (position: TEXT seen ...arset
> =3D"utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>.=
.. @65:8)
> [WARNING] The metadata
> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plug=
in\2.0-SNAPSHOT\maven-metadata-apa
> che.snapshots.xml is invalid: end tag name </head> must be the same as
> start tag <link> from line 56 (position: TEXT seen ...arset
> =3D"utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>.=
.. @65:8)
> [WARNING] The metadata
> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat-maven-plugi=
n\2.0-SNAPSHOT\maven-metadata-apac
> he.snapshots.xml is invalid: end tag name </head> must be the same as
> start tag <link> from line 56 (position: TEXT seen ...arset=3D
> "utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>... =
@65:8)
>

It looks you have bad metadata locally.
Maybe a misconfigured repo manager. Delete files from
C:\Users\albert\.m2\repository\org\apache\tomcat\maven\ to download
all again.

>
>
>
> On Wed, May 9, 2012 at 1:45 AM, Jeff MAURY <jeffmaury@jeffmaury.com> wrot=
e:
>> You need to write a M2E connector for a Maven MOJO that processes your
>> projects files. I don't think this is the case for the tomcat7:run goal =
and
>> it should work out of of the box in Eclipse. Just need to add a Maven lu=
nch
>> configuration with the proper goal.
>>
>> Regards
>> Jeff
>>
>>
>> On Tue, May 8, 2012 at 5:34 PM, Olivier Lamy <olamy@apache.org> wrote:
>>
>>> I imagine you use tomcat7:run "inside" eclipse.
>>> Do that work outside eclipse ?
>>>
>>> Perso I don't have any issues as I use only command line and
>>> furthermore I don't use eclipse :-).
>>> I imagine there is some m2e connector to write....
>>>
>>> 2012/5/8 Albert Kam <moonblade.wolf@gmail.com>:
>>> > I notice that i have to repeat these steps so that tomcat7:run will
>>> > see the newest stuffs from other maven modules :
>>> > - rebuild all of my mvn modules (including my webapp module on which
>>> > my tomcat7:run-ed, and other dependencies module)
>>> > - clean my eclipse java project, rebuilding everything
>>> > - tomcat7:run will then see the newest stuffs
>>> >
>>> > Note that i dont need to rebuild maven and eclipse project if i dont
>>> > modify the webapp maven module, tomcat7 can automatically see the
>>> > newest changes
>>> >
>>> > Ideally i would like to skip rebuilding everything in maven and then
>>> > eclipse to see the newest changes in the other modules outside webapp
>>> > module.
>>> >
>>> > Are there any tips to achieve this ?
>>> >
>>> > Thanks !
>>> >
>>> > --
>>> > Do not pursue the past. Do not lose yourself in the future.
>>> > The past no longer is. The future has not yet come.
>>> > Looking deeply at life as it is in the very here and now,
>>> > the practitioner dwells in stability and freedom.
>>> > (Thich Nhat Hanh)
>>> >
>>> > ---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> > For additional commands, e-mail: users-help@tomcat.apache.org
>>> >
>>>
>>>
>>>
>>> --
>>> Olivier Lamy
>>> Talend: http://coders.talend.com
>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> --
>> Jeff MAURY
>>
>>
>> "Legacy code" often differs from its suggested alternative by actually
>> working and scaling.
>> =A0- Bjarne Stroustrup
>>
>> http://www.jeffmaury.com
>> http://riadiscuss.jeffmaury.com
>> http://www.twitter.com/jeffmaury
>
>
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234102-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 07:23:11 2012
Return-Path: <users-return-234102-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4FDA7965E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 07:23:11 +0000 (UTC)
Received: (qmail 66501 invoked by uid 500); 9 May 2012 07:23:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66338 invoked by uid 500); 9 May 2012 07:23:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66319 invoked by uid 99); 9 May 2012 07:23:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 07:23:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 07:22:59 +0000
Received: by eaak12 with SMTP id k12so1390665eaa.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 00:22:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=BmdaWjPnYNOaJwfgtupVF1BUBow5Xn5/Aq5vSCbhPHQ=;
        b=eVvvVupuOg/vSR/K3nR1E/uhGAJgilnqJXfiuk8u2G8ifK8MCHzRjZHqXPr8+CDiAe
         Q/HK1+oOKAWaajtAR8pkAlgWPedorsZGHXtYao98CWLhQmZhwTI6SNv/0iKHcQEspekb
         YlL5p1k5dn8XNtegAJavnd7lXzoNA2KUP/ZUMNhSa6ZhNxwcll2nVxtS2Ra4U063focZ
         ZjJOmnxSCtaP60WOUPw/kjvYHTHgPSHLOQuc11eUsuTxH0CMcLbVFwp9cmapqq5Jx0H7
         +RRfy4GXLAEnC1boGDE+rZRho6yiVYjQWnTjugy0n/KXVeStU96CqDPhUH5iN/RoR4Wg
         j1MQ==
MIME-Version: 1.0
Received: by 10.14.98.131 with SMTP id v3mr4046967eef.61.1336548159433; Wed,
 09 May 2012 00:22:39 -0700 (PDT)
Received: by 10.213.106.15 with HTTP; Wed, 9 May 2012 00:22:39 -0700 (PDT)
In-Reply-To: <CAPoyBqT21akCCc02Oqa6tGZ=gfcQH9Em_-o0BJ7NrrNtHpSVmQ@mail.gmail.com>
References: <CAMT20g9cEAzJu5TjeaZUfo-uE7VaM6nRCUgq6N3MGapHeXLegA@mail.gmail.com>
	<CAPoyBqQs8LGmxRgRCUBTzJvhoaNjzGdd6X2jcVP33CpCM5ww3A@mail.gmail.com>
	<CANyrOm4nf=RTixpSDbGJ7uN4pv_L0qkCMt6J=3hjdDqUi1CX1A@mail.gmail.com>
	<CAMT20g_8EpZdr7om6iSZerx9Vem9xO2QdLrpoXcK2EgJ1RGhUQ@mail.gmail.com>
	<CAPoyBqT21akCCc02Oqa6tGZ=gfcQH9Em_-o0BJ7NrrNtHpSVmQ@mail.gmail.com>
Date: Wed, 9 May 2012 14:22:39 +0700
Message-ID: <CAMT20g9zRuo18oGu2606wRyQ55AAi64hgZTa-dOg1evKEXxUHw@mail.gmail.com>
Subject: Re: tomcat7:run with multi maven modules changes
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Aha, now the warning is gone. The cause was the old snapshot
repository and pluginRepository i was still using.
Thank you !

On Wed, May 9, 2012 at 1:33 PM, Olivier Lamy <olamy@apache.org> wrote:
> 2012/5/9 Albert Kam <moonblade.wolf@gmail.com>:
>> After the advices, i took a peek on the the eclipse maven run
>> configuration that i use to launch tomcat7:run, and i notice the
>> checkbox : "Resolve Workspace Artifacts".
>> Ticking that checkbox, and re-run the tomcat7:run works great now,
>> which can see the other modules' changes without rebuilding !
>>
>> Thanks a lot, i feel i can begin my fire dance now !
>>
>> Anyway, i just want to report something that may not be related with
>> this topic in case that'd be useful.
>> I have these warnings when starting up tomcat7:run :
>>
>> [INFO] Scanning for projects...
>> [WARNING] The metadata
>> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plu=
gin\2.0-SNAPSHOT\maven-metadata-apa
>> che.snapshots.xml is invalid: end tag name </head> must be the same as
>> start tag <link> from line 56 (position: TEXT seen ...arset
>> =3D"utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>=
... @65:8)
>> [WARNING] The metadata
>> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat7-maven-plu=
gin\2.0-SNAPSHOT\maven-metadata-apa
>> che.snapshots.xml is invalid: end tag name </head> must be the same as
>> start tag <link> from line 56 (position: TEXT seen ...arset
>> =3D"utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>=
... @65:8)
>> [WARNING] The metadata
>> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\tomcat-maven-plug=
in\2.0-SNAPSHOT\maven-metadata-apac
>> he.snapshots.xml is invalid: end tag name </head> must be the same as
>> start tag <link> from line 56 (position: TEXT seen ...arset=3D
>> "utf-8">\n =A0 =A0Ext.onReady(Sonatype.init);\n =A0</script>\n</head>...=
 @65:8)
>>
>
> It looks you have bad metadata locally.
> Maybe a misconfigured repo manager. Delete files from
> C:\Users\albert\.m2\repository\org\apache\tomcat\maven\ to download
> all again.



--=20
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234103-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 08:12:46 2012
Return-Path: <users-return-234103-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B7E33C13C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 08:12:46 +0000 (UTC)
Received: (qmail 83729 invoked by uid 500); 9 May 2012 08:12:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83440 invoked by uid 500); 9 May 2012 08:12:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83399 invoked by uid 99); 9 May 2012 08:12:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 08:12:41 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.2.1.87] (HELO postfix.arnes.si) (193.2.1.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 08:12:33 +0000
Received: from localhost (avs1.arnes.si [193.2.1.74])
	by postfix.arnes.si (Postfix) with ESMTP id A423014800C
	for <users@tomcat.apache.org>; Wed,  9 May 2012 10:12:10 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=arnes.si; h=
	content-transfer-encoding:content-type:content-type:subject
	:subject:mime-version:user-agent:organization:from:from:date
	:date:message-id:received:received:received; s=primus; t=
	1336551130; x=1339143131; bh=pFGRn8YApRv9XENpomFaoXdBPnZ1t76BG/4
	QEBbADxc=; b=cQMYyZSHMxw/TC9ORHZFEfLYEL87fzH2KKyQP4v3mPboXK4xNwj
	PdmHogAHMZyj+m1pYUFEUhfE/4gTDW0wzfM3emyHCPS1ETwCpt2DogN6l5lbN9W0
	mTxTzcMtZpitmSpNTu1H3u+K/MchGQ2+MZWkyEXllnNQVj7brGdJyYUA=
X-Virus-Scanned: amavisd-new at arnes.si
Received: from postfix.arnes.si ([193.2.1.87])
	by localhost (avs1.arnes.si [193.2.1.74]) (amavisd-new, port 10030)
	with ESMTP id Bwbv6Ju_nAVA for <users@tomcat.apache.org>;
	Wed,  9 May 2012 10:12:10 +0200 (CEST)
Received: from skala.arnes.si (skala.arnes.si [193.2.1.54])
	by postfix.arnes.si (Postfix) with ESMTP id 8100B14800A
	for <users@tomcat.apache.org>; Wed,  9 May 2012 10:12:10 +0200 (CEST)
Received: from [127.0.0.1] (jalovec.arnes.si [193.2.1.179])
	by skala.arnes.si (Postfix) with ESMTP id 608A9A40686
	for <users@tomcat.apache.org>; Wed,  9 May 2012 10:12:10 +0200 (CEST)
Message-ID: <4FAA26E8.3030104@arnes.si>
Date: Wed, 09 May 2012 10:12:24 +0200
From: tomaz <tomaz.majerhold@arnes.si>
Organization: ARNES
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: tomcat lista <users@tomcat.apache.org>
Subject: tomcat6 lookup for remote EJB on glassfish
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm struggling to get remote EJB from lookup, but with no success, is it posible to this in Apache Tomcat/6.0.18?

When I'm using standalone client I get it but inside web application I can't get it work.

My web code:
--------------------

Properties props = new Properties();
props.setProperty("org.omg.CORBA.ORBInitialHost", "jalovec.arnes.si");
props.setProperty("org.omg.CORBA.ORBInitialPort", "3700");
final InitialContext ic = new InitialContext(props);

CalculatorApi calcEJBCli = (CalculatorApi) ic.lookup("java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi");


My pom dependency for web appl:
---------------------
<dependency>
       	<groupId>org.glassfish.extras</groupId>
       	<artifactId>glassfish-embedded-web</artifactId>
       	<version>3.1-b32</version>
</dependency>


My EJB 3.1 on glassfish 3.1:
----------------------------
@Stateless(mappedName="CalculatorEJB", name="Calculator")


Glassfish info for my EJB:
--------------------------
Portable JNDI names for EJB Calculator : [java:global/Calculator-ejb/Calculator!si.arnes.ejb.local.CalculatorLocalApi,
java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi]

Glassfish-specific (Non-portable) JNDI names for EJB Calculator : [CalculatorEJB#si.arnes.ejb.remote.CalculatorRemoteApi, CalculatorEJB]


Error:
----------
Name global is not bound in this Context




What I'm doing wrong?


Regards, Tomaz







---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234104-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 12:47:32 2012
Return-Path: <users-return-234104-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A356C253
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 12:47:32 +0000 (UTC)
Received: (qmail 27192 invoked by uid 500); 9 May 2012 12:47:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27135 invoked by uid 500); 9 May 2012 12:47:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27125 invoked by uid 99); 9 May 2012 12:47:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 12:47:28 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.2.1.87] (HELO postfix.arnes.si) (193.2.1.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 12:47:20 +0000
Received: from localhost (avs1.arnes.si [193.2.1.74])
	by postfix.arnes.si (Postfix) with ESMTP id E7A6714800E
	for <users@tomcat.apache.org>; Wed,  9 May 2012 14:46:58 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=arnes.si; h=
	content-transfer-encoding:content-type:content-type:subject
	:subject:mime-version:user-agent:organization:from:from:date
	:date:message-id:received:received:received; s=primus; t=
	1336567618; x=1339159619; bh=Hx6E8r658J2XFXrl0P2j+ObJc7Erc+/hQNR
	X0wIa2ms=; b=M7T9qYObL+LAK6/GnwtZ3hDcM/9BMGyLSjbQQrnOVKbElbJRcCS
	Q6EjW1iqh2qCSwgMwRFdW2jCWJlcSG8LYSuknUS2Tp+tTKb9OnveJsiaK/G+XYGs
	3eF2FNyWdeiw2XWof4eNyxMY3qPHv9k7QYpQWg8tKkmNhwEaUc47wPFs=
X-Virus-Scanned: amavisd-new at arnes.si
Received: from postfix.arnes.si ([193.2.1.87])
	by localhost (avs1.arnes.si [193.2.1.74]) (amavisd-new, port 10030)
	with ESMTP id LPz8Z3Hzr13d for <users@tomcat.apache.org>;
	Wed,  9 May 2012 14:46:58 +0200 (CEST)
Received: from skala.arnes.si (skala.arnes.si [193.2.1.54])
	by postfix.arnes.si (Postfix) with ESMTP id C8AD3148002
	for <users@tomcat.apache.org>; Wed,  9 May 2012 14:46:58 +0200 (CEST)
Received: from [127.0.0.1] (jalovec.arnes.si [193.2.1.179])
	by skala.arnes.si (Postfix) with ESMTP id A4579A4028B
	for <users@tomcat.apache.org>; Wed,  9 May 2012 14:46:58 +0200 (CEST)
Message-ID: <4FAA674F.4020305@arnes.si>
Date: Wed, 09 May 2012 14:47:11 +0200
From: tomaz <tomaz.majerhold@arnes.si>
Organization: ARNES
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: tomcat lista <users@tomcat.apache.org>
Subject: tomcat6 & ProgrammaticLogin
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Is there any known issue about ProgrammaticLogin in Tomcat6?

When I used ProgrammaticLogin in stand alone application for lookup remote EJB on glassfish 3.1 I have successes, but when I'm using it inside servlet
on Tomcat6 I get org.omg.CORBA.NO_PERMISSION.

Regards, Tomaz



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234105-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 13:49:17 2012
Return-Path: <users-return-234105-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D772A902C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 13:49:16 +0000 (UTC)
Received: (qmail 15341 invoked by uid 500); 9 May 2012 13:49:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15158 invoked by uid 500); 9 May 2012 13:49:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15148 invoked by uid 99); 9 May 2012 13:49:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 13:49:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 13:49:07 +0000
Received: by pbbro12 with SMTP id ro12so626008pbb.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 06:48:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=lwqCuXV7qItjwLuOO8mdgk9KwBW52al/XBSQs9942ww=;
        b=ltqkXJbUElv/tjWd0CTRUNt+NkWrQEI9byaZbxQPIXdy+kvSWBehnX1QPEEq01o0H5
         HveNhNx0+1N8egtJGNZi43f9Esy1vKMJs1fhs2uCUZoq0nkZpw/I0CU6TAA/8lsirYVj
         dP0y4Kwkz47WINzWZI5Bdtafzo0+HkPZ6PWFs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=lwqCuXV7qItjwLuOO8mdgk9KwBW52al/XBSQs9942ww=;
        b=HZnMVcA0KC4D0ojvqrhF8ciAY0Hzn7SBpLhPbMRxoZGDWF4ijNaOc9R7QDZYNsmV+j
         fTbZiD/QVt8DAteJrensV/vNyvsFARODxhEQrBemP7mvDRbR7aIT39nFdGs+8kC48n5u
         HefX8Hk+NACrsB6U7Bsq/IgeuCCAQ70j5kM9yhiJ/PZdSxRSE/oUM4A23aEfEQJPsz+f
         /SPNHGZHOmOgTkPXsxoQLpItcsL1loKQMxE/6i4UzH8rs+WWtvBlw7oA8mqyPG9MpMXI
         qxx7XTX9QZRx2hqDd7lEvlXQekFqWqxPmx/cOAajIfVCFrGjt5yB7uUe9Mqqh5+cDocf
         6gKg==
Received: by 10.68.201.201 with SMTP id kc9mr9222335pbc.70.1336571326380; Wed,
 09 May 2012 06:48:46 -0700 (PDT)
References: <4FAA674F.4020305@arnes.si>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FAA674F.4020305@arnes.si>
Mime-Version: 1.0 (1.0)
Date: Wed, 9 May 2012 14:46:24 +0100
Message-ID: <6224087957833948687@unknownmsgid>
Subject: Re: tomcat6 & ProgrammaticLogin
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQlf4yuBn2GYQxyjWnCOnE5il8LfohAa69K67Bz3Wg/No70xo3biNd+TgvZ7NPfeJDDAxerZ

On 9 May 2012, at 13:47, tomaz <tomaz.majerhold@arnes.si> wrote:

> ProgrammaticLogin

Is it a library or framework?
I've never heard of it.


p

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234106-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 13:50:22 2012
Return-Path: <users-return-234106-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 645649039
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 13:50:22 +0000 (UTC)
Received: (qmail 24888 invoked by uid 500); 9 May 2012 13:50:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24817 invoked by uid 500); 9 May 2012 13:50:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24808 invoked by uid 99); 9 May 2012 13:50:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 13:50:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 13:50:13 +0000
Received: by pbbro12 with SMTP id ro12so627418pbb.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 06:49:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=tai4jxHAuFeigZgeIsZNe3fAvA1XThCpSeEEnfTvQ8Q=;
        b=Mz/Id9ALBChizw1KtgSooJRuL9ukPdJk196mMidwqS2uYSueAdXtSs7fMhMX5RHRVK
         sCTxNMI5pXoxYd2KFesrIt7Pmw9GDLfrlRO9n+3RZLgDtfYfyZdJICGOsOYXrfkxnpuE
         bFF9tb9Z0blqkRBBu4rbj2Kc1FxchUQ2VCLFw=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=tai4jxHAuFeigZgeIsZNe3fAvA1XThCpSeEEnfTvQ8Q=;
        b=WYTU18hRZ2S95rcaCwoSdBG5CxPvMsGbB6KOcDBbO0D7CQgGlykSMyHwcEZFGs6BN6
         PeuSNbhjz1fU08qRYn3e01/F21hEj4P03jyYPNHs5cWe1NkhdmQTO08yxfRnh+yGrnp7
         C19UqIncyGpcekcIK2dYSjc/qSMmogn65Iw/HUL9hDxIYW034ZV7OxUVr9Yl8UpCq96Z
         jsIhSHq2kCoMeowcEtK6Zkts81N1EoEAEWu3PYJCM3NEWKaGZW26dzxdlZ+Hphzlc19X
         57MYdQ8sHd6TySQtq3UYFNxt8/JIcTJVSF7c38KzBpG3xC8maSQyBZJfCEtPH+KjhVzi
         PKMQ==
Received: by 10.68.223.234 with SMTP id qx10mr9074299pbc.154.1336571391808;
 Wed, 09 May 2012 06:49:51 -0700 (PDT)
References: <4FAA26E8.3030104@arnes.si>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FAA26E8.3030104@arnes.si>
Mime-Version: 1.0 (1.0)
Date: Wed, 9 May 2012 14:48:08 +0100
Message-ID: <-8390559153918798360@unknownmsgid>
Subject: Re: tomcat6 lookup for remote EJB on glassfish
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQkvRcfS8XfePp4YjO02QAggPFhIjTyBOD3Hqt9EUZiLBNnvRwDQl+ofcLEzWzR9XIys+cUu

On 9 May 2012, at 09:12, tomaz <tomaz.majerhold@arnes.si> wrote:

> I'm struggling to get remote EJB from lookup, but with no success, is it posible to this in Apache Tomcat/6.0.18?
>
> When I'm using standalone client I get it but inside web application I can't get it work.
>
> My web code:
> --------------------
>
> Properties props = new Properties();
> props.setProperty("org.omg.CORBA.ORBInitialHost", "jalovec.arnes.si");
> props.setProperty("org.omg.CORBA.ORBInitialPort", "3700");
> final InitialContext ic = new InitialContext(props);
>
> CalculatorApi calcEJBCli = (CalculatorApi) ic.lookup("java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi");
>
>
> My pom dependency for web appl:
> ---------------------
> <dependency>
>           <groupId>org.glassfish.extras</groupId>
>           <artifactId>glassfish-embedded-web</artifactId>
>           <version>3.1-b32</version>
> </dependency>
>
>
> My EJB 3.1 on glassfish 3.1:
> ----------------------------
> @Stateless(mappedName="CalculatorEJB", name="Calculator")
>
>
> Glassfish info for my EJB:
> --------------------------
> Portable JNDI names for EJB Calculator : [java:global/Calculator-ejb/Calculator!si.arnes.ejb.local.CalculatorLocalApi,
> java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi]
>
> Glassfish-specific (Non-portable) JNDI names for EJB Calculator : [CalculatorEJB#si.arnes.ejb.remote.CalculatorRemoteApi, CalculatorEJB]
>
>
> Error:
> ----------
> Name global is not bound in this Context
>
>
> What I'm doing wrong?

Trying to deploy an EJB / Glassfish app to Tomcat (which is not an EJB
container).


p

>
>
> Regards, Tomaz
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234107-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 14:25:51 2012
Return-Path: <users-return-234107-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63A619D39
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 14:25:51 +0000 (UTC)
Received: (qmail 54765 invoked by uid 500); 9 May 2012 14:25:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54545 invoked by uid 500); 9 May 2012 14:25:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54535 invoked by uid 99); 9 May 2012 14:25:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 14:25:47 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [77.238.189.218] (HELO nm11-vm0.bullet.mail.ird.yahoo.com) (77.238.189.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 May 2012 14:25:40 +0000
Received: from [77.238.189.50] by nm11.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 14:25:18 -0000
Received: from [212.82.108.116] by tm3.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 14:25:18 -0000
Received: from [127.0.0.1] by omp1025.mail.ird.yahoo.com with NNFMP; 09 May 2012 14:25:18 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 399707.75813.bm@omp1025.mail.ird.yahoo.com
Received: (qmail 43510 invoked by uid 60001); 9 May 2012 14:25:18 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336573518; bh=Kgmmwk8fT9+POmFofQObtzal4pLq1xS5tyWVUMsO0LU=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=kgNEtYUwdNGYOflXepsy8EvBrnUEe+2lqn3wxb1kImnJjuwItfQjwnxlKLRMAI/I1G9VKH+ElKB1UCiToXCNiShMhK6NCelAGMyKNqCHpCNcf9n6+PGYfjKbYnWAW9X7ReZVRrYwcGDdC0ZvyAlcOHzIpVBgshL69os9iCnVSCE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=k/G/ldWdyzPXuM3MOwAlEONUY/BHxl767GPJ5ILYYHiHt9KpJ4nKgLvvuASR7xbLeXgzd7koJzQHXy+OM7P1Hq9Q37YY6Dg4Z+2LEVHWhgBdZxp7Mi/22+/n5Ud9gqK0zRXdijyDhTjew0ctQ4boJA87jX2J00BQD9H4tfZgUsA=;
X-YMail-OSG: GMVUaPoVM1kXSKg8elrVa2h_RoWCzcoSj9CWuIafEYArqnp
 taf1UfWVmM7Cw3dlXs.XSC3dPZVstkoQ_d4TjBxEHUm3vtw07hYGQmlPI.r1
 z1l4BlkUqk8ZUiXlSb.mATvPTiH5SAaHFhlzVSBe9HmqEKqrf8q4XCYi3UeQ
 LKDDbUIff_9CE2HCjR.z0nW9DFEnzYSFVE9ltrmY7P0VoIkpQral7MwJfVYk
 .s7b0JMqV3oHLRQdezNNJCMsn_1.GtNZWhKg_LqAm.tQVxIiwMCFEdI7dI.H
 2E0tuB.lgKrAyQgn4LM0ZS94C.eVPofaVKuu1kVtiT31H3Nrl17JN9vZcd6G
 1ZAV45Lxdp6jDS8jcQJvsihOMBAxMkLcVXg9eZE.8tj_slslv8zjzVQqdVxY
 pBHXvI0LdSAj39ZuS6NRt2bDMhRNBWfx73cZRExGgkJ.RXA--
Received: from [192.171.2.126] by web29605.mail.ird.yahoo.com via HTTP; Wed, 09 May 2012 15:25:18 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com>
Message-ID: <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com>
Date: Wed, 9 May 2012 15:25:18 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: tomcat pausing and process killed
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
In-Reply-To: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Dear all,=0A=0A=A0 I have tomcat 5.5.27 and jdk 1.5.0_17=0A=0A=A0 As someon=
e suggested to the list I enabled HeapDumpOnOutOfMemoryError. I have javame=
lody running to monitor tomcat. The only thing that I see is that memory us=
e increases just before the system crashed.=0A=0A=0A=A0 The system has cras=
hed only showing this in the catalina.log:=0A=0A=A0 May 8, 2012 12:03:48 PM=
 org.apache.tomcat.util.http.Parameters processParameters=0AWARNING: Parame=
ters: Character decoding failed. Parameter skipped.=0Ajava.io.CharConversio=
nException: isHexDigit=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.tomcat.util.bu=
f.UDecoder.convert(UDecoder.java:87)=0A=A0=A0=A0=A0=A0=A0=A0 at=0Aorg.apach=
e.tomcat.util.buf.UDecoder.convert(UDecoder.java:48)=0A=A0=A0=A0=A0=A0=A0=
=A0 at org.apache.tomcat.util.http.Parameters.urlDecode(Parameters.java:411=
)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.tomcat.util.http.Parameters.process=
Parameters(Parameters.java:393)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.tomca=
t.util.http.Parameters.processParameters(Parameters.java:344)=0A=A0=A0=A0=
=A0=A0=A0=A0 at org.apache.catalina.connector.Request.parseParameters(Reque=
st.java:2401)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.catalina.connector.Requ=
est.getParameterNames(Request.java:1047)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apa=
che.catalina.connector.RequestFacade.getParameterNames(RequestFacade.java:3=
69)=0A=A0=A0=A0=A0=A0=A0=A0 at=0Ajavax.servlet.ServletRequestWrapper.getPar=
ameterNames(ServletRequestWrapper.java:178)=0A=A0=A0=A0=A0=A0=A0=A0 at org.=
apache.struts.util.RequestUtils.populate(RequestUtils.java:1225)=0A=A0=A0=
=A0=A0=A0=A0=A0 at org.apache.struts.action.RequestProcessor.processPopulat=
e(RequestProcessor.java:821)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.struts.a=
ction.RequestProcessor.process(RequestProcessor.java:254)=0A=A0=A0=A0=A0=A0=
=A0=A0 at org.apache.struts.action.ActionServlet.process(ActionServlet.java=
:1482)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.struts.action.ActionServlet.do=
Post(ActionServlet.java:525)=0A=A0=A0=A0=A0=A0=A0=A0 at javax.servlet.http.=
HttpServlet.service(HttpServlet.java:647)=0A=A0=A0=A0=A0=A0=A0=A0 at=0Ajava=
x.servlet.http.HttpServlet.service(HttpServlet.java:729)=0A=A0=A0=A0=A0=A0=
=A0=A0 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(=
ApplicationFilterChain.java:269)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.cata=
lina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)=
=0A=A0=A0=A0=A0=A0=A0=A0 at net.bull.javamelody.MonitoringFilter.doFilter(M=
onitoringFilter.java:185)=0A=A0=A0=A0=A0=A0=A0=A0 at net.bull.javamelody.Mo=
nitoringFilter.doFilter(MonitoringFilter.java:159)=0A=A0=A0=A0=A0=A0=A0=A0 =
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applica=
tionFilterChain.java:215)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.catalina.co=
re.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)=0A=A0=
=A0=A0=A0=A0=A0=A0 at=0Aorg.apache.catalina.core.StandardWrapperValve.invok=
e(StandardWrapperValve.java:213)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.cata=
lina.core.StandardContextValve.invoke(StandardContextValve.java:172)=0A=A0=
=A0=A0=A0=A0=A0=A0 at org.apache.catalina.core.StandardHostValve.invoke(Sta=
ndardHostValve.java:127)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.catalina.val=
ves.ErrorReportValve.invoke(ErrorReportValve.java:117)=0A=A0=A0=A0=A0=A0=A0=
=A0 at org.apache.catalina.valves.FastCommonAccessLogValve.invoke(FastCommo=
nAccessLogValve.java:482)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.catalina.co=
re.StandardEngineValve.invoke(StandardEngineValve.java:108)=0A=A0=A0=A0=A0=
=A0=A0=A0 at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdap=
ter.java:174)=0A=A0=A0=A0=A0=A0=A0=A0 at=0Aorg.apache.coyote.http11.Http11P=
rocessor.process(Http11Processor.java:875)=0A=A0=A0=A0=A0=A0=A0=A0 at org.a=
pache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConne=
ction(Http11BaseProtocol.java:665)=0A=A0=A0=A0=A0=A0=A0=A0 at org.apache.to=
mcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)=0A=A0=
=A0=A0=A0=A0=A0=A0 at org.apache.tomcat.util.net.LeaderFollowerWorkerThread=
.runIt(LeaderFollowerWorkerThread.java:81)=0A=A0=A0=A0=A0=A0=A0=A0 at org.a=
pache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:68=
9)=0A=A0=A0=A0=A0=A0=A0=A0 at java.lang.Thread.run(Thread.java:595)=0AMay 8=
, 2012 12:03:48 PM org.apache.tomcat.util.http.Parameters processParameters=
=0AWARNING: Parameters: Invalid chunk ignored.=0A=0A=0AMany entries like: M=
ay 8, 2012 12:03:48 PM org.apache.tomcat.util.http.Parameters processParame=
ters=0AWARNING: Parameters: Invalid chunk ignored.=0A=0Auntil I get :=0A=0A=
May 8, 2012 1:50:41 PM org.apache.coyote.http11.Http11BaseProtocol pause=0A=
INFO: Pausing Coyote HTTP/1.1 on http-80=0AMay 8, 2012 1:50:41 PM org.apach=
e.coyote.http11.Http11BaseProtocol pause=0AINFO: Pausing Coyote HTTP/1.1 on=
 http-443=0A=0A=0ANo heapdump file that I can find (I searched for hprof, h=
eapdump, javacore, nothing).=0A=0AI have just added to the catalina opts th=
is:=0A=0A-XX:HeapDumpPath=3D/opt/tomcat5/logs/=0A=0AJust in case it does ne=
ed a specific place to save the dumps generated.=0A=0A=0ANot sure if the  i=
sHexDigit exception is causing this. but it happens 2 hours before the syst=
em breaks.=0A=0AI really don't know what to enable to get to know what is c=
ausing Tomcat to crash=0A=0ARegards,=0A=0AMiguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234108-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 15:01:24 2012
Return-Path: <users-return-234108-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 075AECE38
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 15:01:24 +0000 (UTC)
Received: (qmail 63848 invoked by uid 500); 9 May 2012 15:01:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63774 invoked by uid 500); 9 May 2012 15:01:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63765 invoked by uid 99); 9 May 2012 15:01:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 15:01:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 15:01:11 +0000
Received: from [192.168.245.129] (p549E8CBC.dip0.t-ipconnect.de [84.158.140.188])
	by tor.combios.es (Postfix) with ESMTPA id 51591DA0682
	for <users@tomcat.apache.org>; Wed,  9 May 2012 17:00:49 +0200 (CEST)
Message-ID: <4FAA869F.3070902@ice-sa.com>
Date: Wed, 09 May 2012 17:00:47 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat pausing and process killed
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com>
In-Reply-To: <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi.

Miguel Gonzalez wrote:
> Dear all,
> 
>   I have tomcat 5.5.27 and jdk 1.5.0_17

That's all quite old,and you should probably upgrade.

> 
>   As someone suggested to the list I enabled HeapDumpOnOutOfMemoryError. I have javamelody running to monitor tomcat. The only thing that I see is that memory use increases just before the system crashed.
> 
> 
>   The system has crashed only showing this in the catalina.log:
> 
>   May 8, 2012 12:03:48 PM org.apache.tomcat.util.http.Parameters processParameters
> WARNING: Parameters: Character decoding failed. Parameter skipped.
> java.io.CharConversionException: isHexDigit
...

> 
> 
> Many entries like: May 8, 2012 12:03:48 PM org.apache.tomcat.util.http.Parameters processParameters
> WARNING: Parameters: Invalid chunk ignored.

Ther above seems to indicate that your server receives requests with URLs that are not 
properly URL-encoded.  In a URL, roughly-speaking, any character (in fact, any byte) that 
is not a printable US-ASCII character must be encoded as a "%xy" hex sequence, where "xy" 
is the hexadecimal value of the character.
The4 above error seems to indicate that you are receiving request URLs which contain 
sequences like "%xy" where "xy" are not valid hexadecimal digits.
In consequence, the URL-decoding part of Tomcat cannot decode these URLs properly, and 
complains.

> 
> until I get :
> 
> May 8, 2012 1:50:41 PM org.apache.coyote.http11.Http11BaseProtocol pause
> INFO: Pausing Coyote HTTP/1.1 on http-80
> May 8, 2012 1:50:41 PM org.apache.coyote.http11.Http11BaseProtocol pause
> INFO: Pausing Coyote HTTP/1.1 on http-443
> 
...

Now this seems to be a normal Tomcat shutdown, following a received shutdown command.
But it could be the result of running out of memory for example.

I do not know if the two are related or not.  But in my suspicious mind, I would try to 
examine which request URLs are the badly-encoded ones, and try to find out where these 
requests come from.  That is because they could very well be attempts to break your server 
(if it is connected to the Internet e.g.).  And maybe your unexplained shutdowns are due 
to a succesful break-in, or a succesful DOS attack ?

> 
> 
> Not sure if the  isHexDigit exception is causing this. but it happens 2 hours before the system breaks.
> 

Maybe an attacker is trying a series of URLs in a row, and finally they manage one that 
finds a weakness in your very very old Tomcat.

> I really don't know what to enable to get to know what is causing Tomcat to crash
> 
Enabling the AccessLog Valve may enable you to see the bad request URLs.
If they do not show up in the Access log (unlikely, since Tomcat apparently continues to 
run), you may want to set up an Apache httpd front-end to your Tomcat, and log the 
accesses there.


Searching Google for "tomcat isHexDigit attack" provides some links you might want to look at.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234109-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 15:29:59 2012
Return-Path: <users-return-234109-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A3A79D84
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 15:29:59 +0000 (UTC)
Received: (qmail 58062 invoked by uid 500); 9 May 2012 15:29:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57983 invoked by uid 500); 9 May 2012 15:29:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57973 invoked by uid 99); 9 May 2012 15:29:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 15:29:56 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [77.238.189.61] (HELO nm4.bullet.mail.ird.yahoo.com) (77.238.189.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 May 2012 15:29:48 +0000
Received: from [77.238.189.52] by nm4.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
Received: from [212.82.109.128] by tm5.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
Received: from [127.0.0.1] by omp1020.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 598398.32901.bm@omp1020.mail.ird.yahoo.com
Received: (qmail 48489 invoked by uid 60001); 9 May 2012 15:29:26 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336577366; bh=QZwVD54qB2BzJmh3Qt2nQH0UtP5RiCFEIWrESBZlqgs=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=DRpeUfSl4usSzNz6hG4JUZ/4UHwnnuY4m/vQWCeXBxfNcgGHFUKtOfr9IA4VkgIN4z3o+AEmr8C2xFpkaUATrsSkY9Ih/2DLFBCdX5zcFskbh1vPqwAV8MLH/6Y68loKomHCsPAN0R659BPXuw/h7tdTAG+ypXslD30qeduDdlg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mh897gFikQYz6YmqJfu1fgrz0Fqrr7k7ZtsDSIft1DysPInm7juOx2klf73RxYESO9WiBIog8fkLge5tKdYw5cRjwvcksCMzrEwb6r+I36LDZ4C8vSziLuV2mqZvpD8sFExIFmSe58j0JFBhNKbkZjTQDcOmTIKA28PsfVn/Bt4=;
X-YMail-OSG: esSSjCMVM1nl23RXSLsovdJkziLpc7Z8J393rM_7ITHWdks
 hb8yvLHYzuPDNNGPFUjCunb0f_M4BoKUoc1q_rct0LlXnS11HfvPS8gdPHE1
 iWzouH5uXnyCVDY3UUw6AGsxQ9pInmvZs9DY8gqzJnPfXwWm8yfgQsLHTWIV
 Lg7LUV8iNdH_H6ehzh.oKhgw2l_JjKf.PD4roeEQ7LZZX8vux_7eAoUHI1xJ
 b7f4YdyEWWUgLC5L3gWf1hK6IiQl.8vnP71aeZhb.mfYZGnddmaAIRcM9ul7
 AjBwbZb9zhAfeeBtQctRFSGxl72GKOD8lkF88wuB1zrdHHqKpOcZksZuiFTc
 J8lt4xN.WTRq0Te6.bd9I4hQwGHV4nWoGwwDiSyuOPeSqg7GDMhJyoVH0veJ
 VhxCI2uSnga47g_vsiLmguX.ocqYonnOGHlPOd8aYnqS5BA--
Received: from [192.171.2.126] by web29602.mail.ird.yahoo.com via HTTP; Wed, 09 May 2012 16:29:25 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com>
Message-ID: <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
Date: Wed, 9 May 2012 16:29:25 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: Re: tomcat pausing and process killed
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FAA869F.3070902@ice-sa.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

=0A=0A>Maybe=0A an attacker is trying a series of URLs in a row, and finall=
y they =0Amanage one that finds a weakness in your very very old Tomcat.=0A=
=0A>> I really don't know what to enable to get to know what is causing Tom=
cat to crash=0A>> =0A>Enabling the AccessLog Valve may enable you to see th=
e bad request URLs.=0AI>f=0A they do not show up in the Access log (unlikel=
y, since Tomcat =0Aapparently continues to run), you may want to set up an =
Apache httpd =0Afront-end to your Tomcat, and log the accesses there.=0A=0A=
=0A>Searching Google for "tomcat isHexDigit attack" provides some links you=
 might want to look at.=0A=0A=0AI will check it, however I don't see in the=
 access logs something relevant. Any string I can check or status code?=0A=
=0AMiguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234110-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 15:30:03 2012
Return-Path: <users-return-234110-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97B179D87
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 15:30:03 +0000 (UTC)
Received: (qmail 58589 invoked by uid 500); 9 May 2012 15:29:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58483 invoked by uid 500); 9 May 2012 15:29:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58426 invoked by uid 99); 9 May 2012 15:29:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 15:29:56 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [77.238.189.218] (HELO nm11-vm0.bullet.mail.ird.yahoo.com) (77.238.189.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 May 2012 15:29:48 +0000
Received: from [77.238.189.56] by nm11.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
Received: from [212.82.108.116] by tm9.bullet.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
Received: from [127.0.0.1] by omp1025.mail.ird.yahoo.com with NNFMP; 09 May 2012 15:29:26 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 608626.1971.bm@omp1025.mail.ird.yahoo.com
Received: (qmail 48489 invoked by uid 60001); 9 May 2012 15:29:26 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336577366; bh=QZwVD54qB2BzJmh3Qt2nQH0UtP5RiCFEIWrESBZlqgs=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=DRpeUfSl4usSzNz6hG4JUZ/4UHwnnuY4m/vQWCeXBxfNcgGHFUKtOfr9IA4VkgIN4z3o+AEmr8C2xFpkaUATrsSkY9Ih/2DLFBCdX5zcFskbh1vPqwAV8MLH/6Y68loKomHCsPAN0R659BPXuw/h7tdTAG+ypXslD30qeduDdlg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mh897gFikQYz6YmqJfu1fgrz0Fqrr7k7ZtsDSIft1DysPInm7juOx2klf73RxYESO9WiBIog8fkLge5tKdYw5cRjwvcksCMzrEwb6r+I36LDZ4C8vSziLuV2mqZvpD8sFExIFmSe58j0JFBhNKbkZjTQDcOmTIKA28PsfVn/Bt4=;
X-YMail-OSG: esSSjCMVM1nl23RXSLsovdJkziLpc7Z8J393rM_7ITHWdks
 hb8yvLHYzuPDNNGPFUjCunb0f_M4BoKUoc1q_rct0LlXnS11HfvPS8gdPHE1
 iWzouH5uXnyCVDY3UUw6AGsxQ9pInmvZs9DY8gqzJnPfXwWm8yfgQsLHTWIV
 Lg7LUV8iNdH_H6ehzh.oKhgw2l_JjKf.PD4roeEQ7LZZX8vux_7eAoUHI1xJ
 b7f4YdyEWWUgLC5L3gWf1hK6IiQl.8vnP71aeZhb.mfYZGnddmaAIRcM9ul7
 AjBwbZb9zhAfeeBtQctRFSGxl72GKOD8lkF88wuB1zrdHHqKpOcZksZuiFTc
 J8lt4xN.WTRq0Te6.bd9I4hQwGHV4nWoGwwDiSyuOPeSqg7GDMhJyoVH0veJ
 VhxCI2uSnga47g_vsiLmguX.ocqYonnOGHlPOd8aYnqS5BA--
Received: from [192.171.2.126] by web29602.mail.ird.yahoo.com via HTTP; Wed, 09 May 2012 16:29:25 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com>
Message-ID: <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
Date: Wed, 9 May 2012 16:29:25 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: Re: tomcat pausing and process killed
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FAA869F.3070902@ice-sa.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

=0A=0A>Maybe=0A an attacker is trying a series of URLs in a row, and finall=
y they =0Amanage one that finds a weakness in your very very old Tomcat.=0A=
=0A>> I really don't know what to enable to get to know what is causing Tom=
cat to crash=0A>> =0A>Enabling the AccessLog Valve may enable you to see th=
e bad request URLs.=0AI>f=0A they do not show up in the Access log (unlikel=
y, since Tomcat =0Aapparently continues to run), you may want to set up an =
Apache httpd =0Afront-end to your Tomcat, and log the accesses there.=0A=0A=
=0A>Searching Google for "tomcat isHexDigit attack" provides some links you=
 might want to look at.=0A=0A=0AI will check it, however I don't see in the=
 access logs something relevant. Any string I can check or status code?=0A=
=0AMiguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234111-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 18:56:04 2012
Return-Path: <users-return-234111-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FBB7C3ED
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 18:56:04 +0000 (UTC)
Received: (qmail 87445 invoked by uid 500); 9 May 2012 18:56:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87397 invoked by uid 500); 9 May 2012 18:56:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87387 invoked by uid 99); 9 May 2012 18:56:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 18:56:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 18:55:54 +0000
Received: by eekc4 with SMTP id c4so358052eek.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 11:55:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=5tPeXEqHGhFoJ9OvZYLz+bxWSHWcP9yvRgiltKbpN0Y=;
        b=EahjErBqDCDNWKRLJeJx2PIBLirRkEyFTY694yGGAEipENqt8d9UHjfGXl3PSb5k5A
         RYGKokAHQ/Xs/Z2QrtLORRL15q8yzIHsIsdvUgY0jhD0jtoPQhk5817XUF8y+tXHNN4R
         q0b7AkjyBjeL7z3tWKGKk3aymwrPAxfTwksig=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=5tPeXEqHGhFoJ9OvZYLz+bxWSHWcP9yvRgiltKbpN0Y=;
        b=TmW1MKvM4HiLjBdTB0Rvx6RxM25Sruws8XjQSGSivUxf7dNZ7cbNIsIhaSll15E7aS
         zflzJJF4y5r9TRKjjdnoxguCc3Kzq2gGf5ylQ+TRfiOeRYbkfkkN/D84ej8mvEXntCxW
         7KThf3aC9FyK14trt3hfx+t3Mnwa8ue+wCQhk+IPhY7HLf7m7c/rLW06W5pV9j7pnMI+
         SQJKFf4pCZUgob9HDcRv7F5xyqwL26ZaAFl++YSEwNB0sPKsHuYtcMjoGUJtLqmbFBw/
         G05uqkDYzgrH2RK6i46htPNZS2SN2LRHndwJB4vTLu+CHfMWwG6vVXj3YgAlTg6IyAnA
         kIeg==
Received: by 10.14.119.140 with SMTP id n12mr260047eeh.30.1336589731163;
        Wed, 09 May 2012 11:55:31 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id n52sm16899966eeh.9.2012.05.09.11.55.28
        (version=SSLv3 cipher=OTHER);
        Wed, 09 May 2012 11:55:29 -0700 (PDT)
Message-ID: <4FAABDA2.1060108@pidster.com>
Date: Wed, 09 May 2012 19:55:30 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com> <4FA98A65.3010603@ptc.com> <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig7DBDEE19481EA245EEA3BC7F"
X-Gm-Message-State: ALoCoQnvJgfOgrgYmkUgCqP7xKzXe0iJWb4B7Ra434lJyKJAyKwumpNPsgjbnB/ipIAB3NHKB8d9
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig7DBDEE19481EA245EEA3BC7F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 08/05/2012 22:13, Caldarale, Charles R wrote:
>> From: Andy Wang [mailto:awang@ptc.com]=20
>> Subject: Re: Slow downloads through mod_jk on Windows XP
>=20
>> Downloading a large file through mod_jk to tomcat looks like this:
>> 2012-05-08 16:01:22 (15.0 MB/s) - "sol-11-1111-text-x86.iso.8" saved=20
>> [450799616/450799616]
>=20
>> Downloading the same large file directly through apache looks like:
>> 2012-05-08 16:01:58 (19.3 MB/s) - "sol-11-1111-text-x86.iso.11" saved =

>> [450799616/450799616]
>=20
>> So apache still beats tomcat by a good chunk
>=20
> No, httpd (not Apache, which is an open source software organization) b=
eats httpd+Tomcat - any other result would be violating several laws of p=
hysics.  Might be interesting to measure just Tomcat in your environment.=


But preferably a supported non-ancient version of Tomcat.


p

>  - Chuck
>=20
>=20
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETAR=
Y MATERIAL and is thus for use only by the intended recipient. If you rec=
eived this in error, please contact the sender and delete the e-mail and =
its attachments from all computers.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig7DBDEE19481EA245EEA3BC7F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPqr2mAAoJEGoM2OGpOvr9COIP/j5cbrmkYlJMJfVdnIi1NLqM
96wjSaTCmoeRvshOtTHMK9MeRfYPlhjzcrEromP95gMiAWtKGgWp8ETAHDjKrJ0c
7ab34u8Jw9eu6FPGoWC62QIW8MA2yB6Pn+/7LWcq6ljtPFD5RXP8blW+bZC1OBfD
geA7ozQAURwsVRWjTc5/BZn2Qydrke2Ifg9UTRRyXE2UpeP/+tm8RKcJKj1AqGRj
0lV8QrE2T8aQUntDDlu4UPAayIyVYWIVf2EM+5FvLzrtTi1Zp2dH8Zu928uOHZfq
8mMtrLWrjqIhzIjMGrPMCTc4lLY9LxXgtj4YE0U7z571PI4zsYAg70ugamcsTwCB
QUfGJniX0k6dZYbE0lgLloprdi6q4VjBC3sCjVWBe8EiirapM7R521vvES7pdleg
Ub43cf1caO8WrOT/s0oZOySLndlBzxd4BrHnrqTS27tip78pE2k8nJBLeR/lmQYq
jZ3MlkCE3lRdSunzOstXTkiM6toiblibVl1keumXMTepWdjsRtzKhtAtk+8wcLex
U3nbD/6sWWoppdvwaHnmGdb8VQDPwEIfrtARBilMBpiFFt7utpS6LnoEwegSCoNU
Dge6swffbLCL9TH/7C6aOQku7du9GAFeEFZXTFXv3RUMcPgEVDM8TmCtDRDck82S
vY28eOyNH3wAI1EoA+jo
=w1TO
-----END PGP SIGNATURE-----

--------------enig7DBDEE19481EA245EEA3BC7F--

From users-return-234112-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 19:03:52 2012
Return-Path: <users-return-234112-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2687DC45A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 19:03:52 +0000 (UTC)
Received: (qmail 15286 invoked by uid 500); 9 May 2012 19:03:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15243 invoked by uid 500); 9 May 2012 19:03:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15233 invoked by uid 99); 9 May 2012 19:03:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:03:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:03:40 +0000
Received: by eekc4 with SMTP id c4so361219eek.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 12:03:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=Sx9WMak6AX0qW1Cnaj5X1VnMp2/XgqszDDfi0pXcFHM=;
        b=LoFdPonFgMc5umvJPOIrBuZQIcqVYFwrQuKOfWqyZGxrrLifKqeMmU8K14AXIzHSND
         U3GmJCcVSTs4MPTi24APcv6323Q4LjusUAbyxrCCfx/7HAuvIsSz4Oa92Br4RTQuT5QS
         vGM0jpnUiyqkOs0GVRTBAK8q6qDDTep/qqjvQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=Sx9WMak6AX0qW1Cnaj5X1VnMp2/XgqszDDfi0pXcFHM=;
        b=SzOUeXNI7Kkuy4O/uomVAYAj6ld7wl5osIWoow0Ml6XUCG7nxcNPHqwT1/KpwglHZL
         TgeAV1S+qa2HgRP97Mj9h9Fv3i/S8PKRWG4LQUJV+HstajupUbIR4sEhx3hrpPQW8M45
         bKLA9L2BSn8Cjvu00PFYmweIL6LURuSbU3yMhtk3S767KBRRAvDFfqW+n/PWMVPCZgIN
         yx4XxXKhI1bMBcnHXUMqMGzlAoUVLUuuezFlGVpJ1F8YNsTkde87smCskJFMD0CiNG+d
         GYWjwyHKOjYJM00EOjEf0zr/+DNQBPqqYnVaQjjpZaocZ607QW7t6N78Pmt4CeVRLGXE
         pC5A==
Received: by 10.213.35.196 with SMTP id q4mr818853ebd.61.1336590199812;
        Wed, 09 May 2012 12:03:19 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id m42sm17089407eef.0.2012.05.09.12.03.17
        (version=SSLv3 cipher=OTHER);
        Wed, 09 May 2012 12:03:18 -0700 (PDT)
Message-ID: <4FAABF78.6000108@pidster.com>
Date: Wed, 09 May 2012 20:03:20 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem moving application to Tomcat 7.0.27
References: <1336430019.36676.YahooMailClassic@web125602.mail.ne1.yahoo.com> <1336433179.2703.YahooMailNeo@web125506.mail.ne1.yahoo.com>
In-Reply-To: <1336433179.2703.YahooMailNeo@web125506.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigCFBE45F28C436D881249F151"
X-Gm-Message-State: ALoCoQn9oqT/S+wp86KT3zuHdZXFIbIIVZkD5dnIx6rqC0gAbg9R4THyrBXxCaasXNqk6eU6R4cN

--------------enigCFBE45F28C436D881249F151
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 08/05/2012 00:26, Mark Eggers wrote:
> ----- Original Message -----
>=20
>> From: Frank Serkland <fhserkland@yahoo.com>
>> To: users@tomcat.apache.org
>> Cc:=20
>> Sent: Monday, May 7, 2012 3:33 PM
>> Subject: Problem moving application to Tomcat 7.0.27
>>
>> I am having a problem moving an application from Tomcat 6 to Tomcat 7.=
0.27.  Can=20
>> anyone help me?  Here is my web.xml.
>> <?xml version=3D"1.0" encoding=3D"UTF-8"?><web-app=20
>> id=3D"WebApp_ID" version=3D"2.4"   =20
>> xmlns=3D"http://java.sun.com/xml/ns/j2ee"=20
>> xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"   =20
>> xsi:schemaLocation=3D"http://java.sun.com/xml/ns/j2ee=20
>> http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">   =20
>> <display-name>Granada High School Class of 1986</display-name>   =20
>> <filter>        <filter-name>struts2</filter-name>       =20
>> <filter-class>org.apache.catalina.deploy.WebXml.addFilter</filter-clas=
s>   =20
>> </filter>    <filter-mapping>       =20
>> <filter-name>struts2</filter-name>       =20
>> <url-pattern>/*</url-pattern>    </filter-mapping>   =20
>> <listener>       =20
>> <listener-class>configuration.ConfigurationListener</listener-class>  =
 =20
>> </listener>    <welcome-file-list>       =20
>> <welcome-file>home.jsp</welcome-file>   =20
>> </welcome-file-list></web-app>
>> Here is the error log on my console.SEVERE: End event threw=20
>> exceptionjava.lang.NoSuchMethodException: org.apache.catalina.deploy.W=
ebXml=20
>> addFilter    at=20
>> org.apache.tomcat.util.IntrospectionUtils.callMethod1(IntrospectionUti=
ls.java:855)   =20
>> at org.apache.tomcat.util.digester.SetNextRule.end(SetNextRule.java:20=
1)    at=20
>> org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1051=
)    at=20
>> com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElemen=
t(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
=2EscanEndElement(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
$FragmentContentDriver.next(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Un=
known=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
=2EscanDocument(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Un=
known
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Un=
known=20
>> Source)    at com.sun.org.apache.xerces.internal.parsers.XMLParser.par=
se(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unk=
nown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.pa=
rse(Unknown=20
>> Source)    at=20
>> org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)    =
at=20
>> org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.ja=
va:1825)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java=
:1201)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig=
=2Ejava:855)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig=
=2Ejava:345)   =20
>> at=20
>> org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycle=
Support.java:119)   =20
>> at=20
>> org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBas=
e.java:90)   =20
>> at
>> org.apache.catalina.core.StandardContext.startInternal(StandardContext=
=2Ejava:5161)   =20
>> at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150=
)    at=20
>> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.j=
ava:1566)   =20
>> at=20
>> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.j=
ava:1556)   =20
>> at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)    at=
=20
>> java.util.concurrent.FutureTask.run(Unknown Source)    at=20
>> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)=
    at=20
>> java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    =
at=20
>> java.lang.Thread.run(Unknown Source)May 7, 2012 3:32:36 PM=20
>> org.apache.catalina.startup.ContextConfig parseWebXmlSEVERE: Parse err=
or in=20
>> application web.xml file at=20
>> jndi:/localhost/ghs1986/WEB-INF/web.xmljava.lang.NoSuchMethodException=
:=20
>> org.apache.catalina.deploy.WebXml addFilter    at=20
>> org.apache.tomcat.util.digester.Digester.createSAXException(Digester.j=
ava:2687)   =20
>> at
>> org.apache.tomcat.util.digester.Digester.createSAXException(Digester.j=
ava:2719)   =20
>> at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1=
054)    at=20
>> com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElemen=
t(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
=2EscanEndElement(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
$FragmentContentDriver.next(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Un=
known=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl=
=2EscanDocument(Unknown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Un=
known=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Un=
known=20
>> Source)    at com.sun.org.apache.xerces.internal.parsers.XMLParser.par=
se(Unknown=20
>> Source)    at
>> com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unk=
nown=20
>> Source)    at=20
>> com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.pa=
rse(Unknown=20
>> Source)    at=20
>> org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)    =
at=20
>> org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.ja=
va:1825)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java=
:1201)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig=
=2Ejava:855)   =20
>> at=20
>> org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig=
=2Ejava:345)   =20
>> at=20
>> org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycle=
Support.java:119)   =20
>> at=20
>> org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBas=
e.java:90)   =20
>> at=20
>> org.apache.catalina.core.StandardContext.startInternal(StandardContext=
=2Ejava:5161)   =20
>> at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150=
)    at
>> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.j=
ava:1566)   =20
>> at=20
>> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.j=
ava:1556)   =20
>> at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)    at=
=20
>> java.util.concurrent.FutureTask.run(Unknown Source)    at=20
>> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)=
    at=20
>> java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    =
at=20
>> java.lang.Thread.run(Unknown Source)Caused by: java.lang.NoSuchMethodE=
xception:=20
>> org.apache.catalina.deploy.WebXml addFilter    at=20
>> org.apache.tomcat.util.IntrospectionUtils.callMethod1(IntrospectionUti=
ls.java:855)   =20
>> at org.apache.tomcat.util.digester.SetNextRule.end(SetNextRule.java:20=
1)    at=20
>> org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1051=
)    ...=20
>> 26 moreMay 7, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfi=
g=20
>> parseWebXmlSEVERE: Occurred at line 9 column 11
>>
>=20
> First of all, this is really impossible to read.
>=20
> I understand it's sometimes difficult to format text messages on the li=
st so that they are legible when using Yahoo.
>=20
> That being said, I reformatted the message so that I could read it. Her=
e are the relevant parts.
>=20
> SEVERE: End event threw exceptionjava.lang.NoSuchMethodException:
>   org.apache.catalina.deploy.WebXml addFilter
>=20
> May 7, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfig parseW=
ebXml
> SEVERE: Parse error in application web.xml file at
>   jndi:/localhost/ghs1986/WEB-INF/web.xml
>   java.lang.NoSuchMethodException:
>   org.apache.catalina.deploy.WebXml addFilter
>=20
>=20
> May 7, 2012 3:32:36 PM org.apache.catalina.startup.ContextConfig parseW=
ebXml
> SEVERE: Occurred at line 9 column 11
>=20
> And looking at your web.xml file on line 9, column 11:
>=20
> <filter>
>   <filter-name>struts2</filter-name>
>   <!-- below is line 9 -->
>   <filter-class>org.apache.catalina.deploy.WebXml.addFilter</filter-cla=
ss>
> </filter>
>=20
> I have no idea what you're trying to accomplish with the above lines.
>=20
> If you're using Struts 2, then I believe the front controller should be=
:
>=20
> <filter>
>   <filter-name>struts2</filter-name>
>   <filter-class>
>     org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilt=
er
>   </filter-class>
>=20
> </filter>
> <filter-mapping>
>   <filter-name>struts2</filter-name>
>   <url-pattern>/*</url-pattern>
> </filter-mapping>
>=20
> You've actually selected a method (not a class) in a class that doesn't=
 implement the required javax.servlet.Filter interface.

+1

(& a commendation for services to reformatting)


p

> . . . . just my two cents.
> /mde/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigCFBE45F28C436D881249F151
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPqr96AAoJEGoM2OGpOvr9QpAQAKLT+0BcRvpjp1zMkHNdoh0n
g/TFJ9WPLx9fjmGIrFkMODFBgkXgMW9eKTkBcjH9AdcpIyMk12c4R49TB3vx+myc
jFsZfRPAgIVJdYkhLx8wYhlmbilgjZiBHyiHGB3+x16ZkNFbQbmNRCNANmyWl3QE
V+bC8ACbmYf1Gr8zrSdRlTYZWy0ccNkDCNfj+fsNVGy6gKF8qT7kKoqVe5GO6Bs2
78THKmNmvJq5Gq6uiSj5w6V4SBcT3S0zt5p2juKJYnIRFgzIWOlm16fLjeAiQ1JE
31LBkj2ktcXpfkzN5yh1zpr+iKgUJ/MCMJyIxFDlG8hQEPh4xFsU401GYSCV4hfx
Keqm0iCbSnruWjja4SVpWxGPZ6acCQvZ3hs2jH/9zySuUvzBP1IKEQICKej6VxmS
6OivT9imbtgWCcRBnq8MnS/j/6WxlIXUZ9e169hCT7x4bluBahoBEpEgaPmqs7+6
n/nG9vWatok+9o3DaZwmUChkD+XErFeZwVdkgErs+qymtfNW5wVgcF9DjBUSz/Xo
ktD10B6LoAejpRAlA32WDKDGBzcPHqE+wmk9FnlN5uJct94Biixw36sTfKWqwXee
DPHL8vMBJ1t9YYy1r6Fi6LB/rZljj22tJ8EUzEO8NbN3PWrVeNg47hUWox+F7KIq
JlIyyviFtagzbzm3GXfA
=O4EA
-----END PGP SIGNATURE-----

--------------enigCFBE45F28C436D881249F151--

From users-return-234113-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 19:13:50 2012
Return-Path: <users-return-234113-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48E33C518
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 19:13:50 +0000 (UTC)
Received: (qmail 46317 invoked by uid 500); 9 May 2012 19:13:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46272 invoked by uid 500); 9 May 2012 19:13:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46262 invoked by uid 99); 9 May 2012 19:13:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:13:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:13:41 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 7v2j1j0231c6gX851vDLHG; Wed, 09 May 2012 19:13:20 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id 7vDF1j00o38FjT13jvDJq5; Wed, 09 May 2012 19:13:18 +0000
Message-ID: <4FAAC1CA.4020401@christopherschultz.net>
Date: Wed, 09 May 2012 15:13:14 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: [OT] Calling all date API nerds
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

Stephen Colebourne (author of Jodatime and head of JSR-310/date API)
recently sent out a call-to-action on the JSR-310 mailing list, and
ask that the link be distributed "far and wide".

He wants to know how the wider Java community feels about method
naming for a date API (things like "which is better: getDay() or
getDayOfYear()").

Anyone who feels sufficiently motivated to weigh-in should head on
over: it takes 2 minutes to fill-out this 10-item survey.

> Please could I ask you to fill in this survey on JSR-310 method
> naming? http://www.rationalsurvey.com/s/3775

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+qwcoACgkQ9CaO5/Lv0PCCQwCfZ4N2bj99h+Ad4ab48JLIEkso
PVoAn0xECbfE6QggErRzZqSiS9Vd3+rO
=DKo5
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234114-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 19:25:57 2012
Return-Path: <users-return-234114-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7BAACE98
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 19:25:57 +0000 (UTC)
Received: (qmail 81704 invoked by uid 500); 9 May 2012 19:25:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81649 invoked by uid 500); 9 May 2012 19:25:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81638 invoked by uid 99); 9 May 2012 19:25:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:25:54 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.56] (HELO qmta06.westchester.pa.mail.comcast.net) (76.96.62.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:25:48 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta06.westchester.pa.mail.comcast.net with comcast
	id 7vDE1j0021HzFnQ56vRTDk; Wed, 09 May 2012 19:25:27 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id 7vRT1j00638FjT13avRT5W; Wed, 09 May 2012 19:25:27 +0000
Message-ID: <4FAAC4A6.5010001@christopherschultz.net>
Date: Wed, 09 May 2012 15:25:26 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FA84EE5.7050504@ptc.com> <4FA8555C.1090703@ice-sa.com> <4FA85FD1.5060109@ptc.com> <4FA96EA2.2000203@ptc.com> <4FA98A65.3010603@ptc.com> <99C8B2929B39C24493377AC7A121E21FB019C09E87@USEA-EXCH8.na.uis.unisys.com> <4FA999B2.9070904@ice-sa.com> <4FA9A115.709@ptc.com>
In-Reply-To: <4FA9A115.709@ptc.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andy,

On 5/8/12 6:41 PM, Andy Wang wrote:
> Initial benchmarks seem to show that the behavior between tomcats
> is not an issue.

Do you mean that Tomcat performance appears to be the same regardless
of version? That's both good and bad... I thought there were some
performance improvements to the connectors from 5.5-> 6.0. Maybe that
was 4.x->5.5.

> Tomcat7 is using JDK 1.7 and this is interesting.  The benchmarks
> with tomcat7+jdk1.7 vary widely across the board (both through ajp
> and direct http to tomcat) from 30s-40sMB/s. Java 1.6 seems alot
> more consistent.  Not sure why yet.

That is interesting. On the other hand, the server /is/ on a virtual
machine, and you never know what other processes are stealing focus.
Many VMs are notorious for bad IO throughput (I'm looking at you, OpenVZ).

> I've also moved off the crappy Windows XP VM I was provided to a
> more recent Windows 2008 VM as well as a fresh Windows XP SP3 VM.
> In past experience it seems windows XP and windows 2003 were the
> worst of the bunch with the ajp downloads dropping as low as
> 4-5MB/s over time.

Have you tried bare hardware?

> I'm going to run a barrage of tests and provide the numbers.  Do
> you think ab -n 5 and allowing ab to average the values of 5 hits
> for the ~440MB iso is a sound average?

Some tips for this kind of testing:

1. Don't run ab on localhost: all the numbers will be worthless
2. Run ab with a range of concurrencies, including c=1
3. Make /lots/ of requests. IMO, 5 requests is really a pinhole
analysis. I would make as many requests as you can over 10 minutes and
see what the throughput ends up being.

> I'll compare Windows XP performance and Windows 2008 performance
> and after that I'll do the same on a Linux VM to get a better
> comparison.

It will be good to see.

If you want some really crappy scripts to get you going, feel free to
start with mine from a while back (look in the "scripts" subdir):
http://people.apache.org/~schultz/ApacheCon%20NA%202010/

Those scripts can run a ... lot of ab tests with lots of different
concurrencies against a series of URLs -- that allows you to set up
everything with, say, a different path or port number to get the
various setups (bare httpd, httpd+mod_jk, httpd+mod_proxy, etc.) and
then let it run all night. It will also produce some tables for you
that can then easily be graphed.

> I also did bump up the ajpPacket size to 64K with no noticeable
> change to the benchmark numbers.  So while 8k seems crappy it
> doesn't seem to be an issue.  Given that apache and tomcat are both
> local I wouldn't expect that to be a big problem with 8k chunks
> given the near non-existent latency of local connections.

It's good to know that the packet size didn't affect performance, but
I agree that localhost communication is always magically-fast no mater
what.

> I plan on doing both local ab requests as well as remote.  The
> problem with remote is that our network is busy, so it may account
> for some variations but I don't think I can get our IT to segment
> me anything for this purpose :(.

Just get a crossover cable and use static IP addresses.

> I'm not so concerned about a 25% hit.  I'm really more concerned
> with the drop to 4-5MB/s over time that seems to happen.

Does this happen locally or only remotely? I wonder if you're hitting
some kind of traffic-shaping or QOS rules on your own internal network.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+qxKYACgkQ9CaO5/Lv0PAs4QCgtAhZuB0Xc9MJJ0yo1YJPE3VQ
P9UAoKRs+qE/DsdonYhCYI+WUkujCCoK
=GVQX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234115-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 19:48:21 2012
Return-Path: <users-return-234115-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C89191D7
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 19:48:21 +0000 (UTC)
Received: (qmail 51142 invoked by uid 500); 9 May 2012 19:48:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51093 invoked by uid 500); 9 May 2012 19:48:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51083 invoked by uid 99); 9 May 2012 19:48:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:48:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 19:48:10 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id 7vmY1j0040Fqzac5Avnpqv; Wed, 09 May 2012 19:47:49 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id 7vno1j00s38FjT13UvnoYb; Wed, 09 May 2012 19:47:49 +0000
Message-ID: <4FAAC9E3.3060802@christopherschultz.net>
Date: Wed, 09 May 2012 15:47:47 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat pausing and process killed
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com> <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
In-Reply-To: <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Miguel,

On 5/9/12 11:29 AM, Miguel Gonzalez wrote:
> I will check it, however I don't see in the access logs something 
> relevant. Any string I can check

Anything with %-codes that are invalid. You'll have to write your own
regular parser or regex to find them.

> or status code?

Uh, 400 or 500?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+qyeMACgkQ9CaO5/Lv0PD9QQCguRk0Z8nEd313mohONnIzohtu
wlcAnibOJhZ3uesL2Qk5KAYqQ8BeO1Zu
=jiH/
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234116-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 21:27:33 2012
Return-Path: <users-return-234116-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64BC39B38
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 21:27:33 +0000 (UTC)
Received: (qmail 89926 invoked by uid 500); 9 May 2012 21:27:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89872 invoked by uid 500); 9 May 2012 21:27:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89863 invoked by uid 99); 9 May 2012 21:27:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 21:27:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 21:27:23 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Wed, 9 May 2012 17:27:59 -0400
From: Charles Shreve <charles@citinc.biz>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltgAJcU4A///Ne2CAAF0ZAP//4QA3gABPuYCAAEBb8P/9Trdg
Date: Wed, 9 May 2012 21:27:58 +0000
Message-ID: <EAEC5C1838DEEA44BA6D3B7416B12EE2117805E7@MDS01.mds.local>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
 <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>,<-905237787951138327@unknownmsgid>
 <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
 <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
 <EAEC5C1838DEEA44BA6D3B7416B12EE21177FA27@MDS01.mds.local>
In-Reply-To: <EAEC5C1838DEEA44BA6D3B7416B12EE21177FA27@MDS01.mds.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.10.1.69]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

I enabled logging and was able to find that the log comes back with code 20=
0 which is my understanding that everything connects properly.  I have foun=
d that I am able to open any size html file, and jpeg files under 31k from =
the remote subnet off of the tomcat server.  Anything else from the tomcat =
server just continues to try and load.  We don't have any problems loading =
any of our programs or files from the remote subnet from Window based machi=
nes on the local side.  Is there any kind of a time out period tha the tomc=
at server expects a response back from the client before it will send data?=
  When we try to load the program, firefox and internet explorer continues =
to say that it is waiting for data from the tomcat server but never gets pa=
st that point.

Thanks.

-----Original Message-----
From: Charles Shreve [mailto:charles@citinc.biz]=20
Sent: Monday, May 07, 2012 4:40 PM
To: Tomcat Users List; Mark Eggers
Subject: RE: Tomcat from remote subnet

You've said very little about your environment.

It would be nice to know:

1. Tomcat version - be precise
2. Package install or downloaded from tomcat.apache.org 3. Fronted by Apach=
e HTTPD or not 4. If fronted by Apache HTTPD, how (mod_proxy_http, mod_prox=
y_ajp, mod_ajp)

That being said, I'll make some guesses.

I'm going to guess for 1 and 2 . . . Tomcat 5.5.x installed from an RPM.

For 3, I'm going to guess no, and that you're either running as root for po=
rts 80 and 443 (not advisable) or using commons-daemon.

Since I'm guessing 3 is no, that renders question 4 moot.

By default the access log valve is commented out in the stock Tomcat 5.5.x =
and 6.0.x. It's enabled by default in Tomcat 7.0.x.

To turn it on in 5.5.x, you need to find server.xml and uncomment the follo=
wing section.

<!--
<Valve className=3D"org.apache.catalina.valves.FastCommonAccessLogValve"
=A0 directory=3D"logs" =A0prefix=3D"localhost_access_log." suffix=3D".txt"
=A0 pattern=3D"common" resolveHosts=3D"false"/>
-->

The entry will look a bit different for Tomcat 6.0.x, but it should be fair=
ly obvious.

Then restart your Tomcat service.

Now you will need to find your log file. I suspect that RedHat places the l=
og files in /var/log or a subdirectory.

If this is a stock Tomcat installation, then the log file will be in a subd=
irectory called logs of your Tomcat installation.

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org



Mark,

Tomcat version is 5.5.23

I'm not sure how it was installed, as I was not involved with the setup of =
tomcat from the beginning so I can't answer that question.

If fronted by Apache, I'm not sure, but I do not believe so, because Apache=
 is not running.

Unfortunately, we are using ports 80 and 443.  Again, I got handed this pro=
ject because it wasn't working right, so I'm caught in the middle with the =
whole setup. =20

I have looked at the server.xml file and found that the log is commented ou=
t, so I will get that changed which will hopefully point us to our main pro=
blem. =20

Thanks, Charles


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234117-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 21:44:17 2012
Return-Path: <users-return-234117-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B1209246
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 21:44:17 +0000 (UTC)
Received: (qmail 55853 invoked by uid 500); 9 May 2012 21:44:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55649 invoked by uid 500); 9 May 2012 21:44:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54946 invoked by uid 99); 9 May 2012 21:44:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 21:44:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 21:44:09 +0000
Received: by yenm4 with SMTP id m4so1078836yen.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 14:43:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=K7y25U2HyICIm8bKvUZydpxy7z4Pj5mmnG68i6Dxudc=;
        b=sz729Y/Lkw/mKbp4Fdk2x/TNHqeen6tXGEqaDG7twsNorLQ+jX3BBSVJFJlHUwZ8i1
         zNOjr5csUlP6iopU9ByzJSfxzePmX/YAbUVV+/YYwLJsybjHePXRhEFYNUk+NhvhQEl7
         b6R9RabMgs04JcmD/YuEru2vNj/DUQFkepS7q4OR/AQjHNPFwLFlQIrQtfu0c8zLtRju
         hiO5GMslXdm5k+6vi08cApfO2ibOhVbWB/v5BhrqGBZSpp0q3fPxxHDf4CAlzFdKuegs
         hlz3V/sfQexNKDgDETgq/nU1agh6atxMeejqkngt5DhQ4p7FzrgxvVrES5jk4Xromnmf
         O2wA==
Received: by 10.60.19.196 with SMTP id h4mr2260558oee.56.1336599828753; Wed,
 09 May 2012 14:43:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.113.241 with HTTP; Wed, 9 May 2012 14:43:28 -0700 (PDT)
In-Reply-To: <EAEC5C1838DEEA44BA6D3B7416B12EE2117805E7@MDS01.mds.local>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
 <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>
 <-905237787951138327@unknownmsgid> <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
 <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
 <EAEC5C1838DEEA44BA6D3B7416B12EE21177FA27@MDS01.mds.local> <EAEC5C1838DEEA44BA6D3B7416B12EE2117805E7@MDS01.mds.local>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Wed, 9 May 2012 23:43:28 +0200
Message-ID: <CABOBwRjx21_9xUPWYb=EbRApSqKax8sW21yHduYrLS3-T6gVNQ@mail.gmail.com>
Subject: Re: Tomcat from remote subnet
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/9 Charles Shreve <charles@citinc.biz>:
> I enabled logging and was able to find that the log comes back with code =
200 which is my understanding that everything connects properly. =A0I have =
found that I am able to open any size html file, and jpeg files under 31k f=
rom the remote subnet off of the tomcat server. =A0Anything else from the t=
omcat server just continues to try and load. =A0We don't have any problems =
loading any of our programs or files from the remote subnet from Window bas=
ed machines on the local side. =A0Is there any kind of a time out period th=
a the tomcat server expects a response back from the client before it will =
send data? =A0When we try to load the program, firefox and internet explore=
r continues to say that it is waiting for data from the tomcat server but n=
ever gets past that point.


I'm lost , sorry

Have you could to interchange HTTP traffic (both directions) between
remote side and that machine , via VPN?
Have you could to interchange HTTP traffic between remote side and any
war deployed into that Tomcat server  , via VPN?
Have you could to interchange HTTP traffic between remote side and any
war deployed into anotherTomcat server on another machine  , via VPN?

Could be a problem with a firewall and the returned HTTP traffic ?



>
> Thanks.
>
> -----Original Message-----
> From: Charles Shreve [mailto:charles@citinc.biz]
> Sent: Monday, May 07, 2012 4:40 PM
> To: Tomcat Users List; Mark Eggers
> Subject: RE: Tomcat from remote subnet
>
> You've said very little about your environment.
>
> It would be nice to know:
>
> 1. Tomcat version - be precise
> 2. Package install or downloaded from tomcat.apache.org 3. Fronted by Apa=
che HTTPD or not 4. If fronted by Apache HTTPD, how (mod_proxy_http, mod_pr=
oxy_ajp, mod_ajp)
>
> That being said, I'll make some guesses.
>
> I'm going to guess for 1 and 2 . . . Tomcat 5.5.x installed from an RPM.
>
> For 3, I'm going to guess no, and that you're either running as root for =
ports 80 and 443 (not advisable) or using commons-daemon.
>
> Since I'm guessing 3 is no, that renders question 4 moot.
>
> By default the access log valve is commented out in the stock Tomcat 5.5.=
x and 6.0.x. It's enabled by default in Tomcat 7.0.x.
>
> To turn it on in 5.5.x, you need to find server.xml and uncomment the fol=
lowing section.
>
> <!--
> <Valve className=3D"org.apache.catalina.valves.FastCommonAccessLogValve"
> =A0 directory=3D"logs" =A0prefix=3D"localhost_access_log." suffix=3D".txt=
"
> =A0 pattern=3D"common" resolveHosts=3D"false"/>
> -->
>
> The entry will look a bit different for Tomcat 6.0.x, but it should be fa=
irly obvious.
>
> Then restart your Tomcat service.
>
> Now you will need to find your log file. I suspect that RedHat places the=
 log files in /var/log or a subdirectory.
>
> If this is a stock Tomcat installation, then the log file will be in a su=
bdirectory called logs of your Tomcat installation.
>
> . . . . just my two cents.
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
> Mark,
>
> Tomcat version is 5.5.23
>
> I'm not sure how it was installed, as I was not involved with the setup o=
f tomcat from the beginning so I can't answer that question.
>
> If fronted by Apache, I'm not sure, but I do not believe so, because Apac=
he is not running.
>
> Unfortunately, we are using ports 80 and 443. =A0Again, I got handed this=
 project because it wasn't working right, so I'm caught in the middle with =
the whole setup.
>
> I have looked at the server.xml file and found that the log is commented =
out, so I will get that changed which will hopefully point us to our main p=
roblem.
>
> Thanks, Charles
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234118-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 22:27:01 2012
Return-Path: <users-return-234118-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9948BC6CB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 22:27:01 +0000 (UTC)
Received: (qmail 82383 invoked by uid 500); 9 May 2012 22:26:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82322 invoked by uid 500); 9 May 2012 22:26:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82310 invoked by uid 99); 9 May 2012 22:26:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 22:26:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.12.10.101] (HELO nm22.bullet.mail.ukl.yahoo.com) (217.12.10.101)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 May 2012 22:26:51 +0000
Received: from [217.146.183.211] by nm22.bullet.mail.ukl.yahoo.com with NNFMP; 09 May 2012 22:26:29 -0000
Received: from [77.238.184.64] by tm4.bullet.mail.ukl.yahoo.com with NNFMP; 09 May 2012 22:26:29 -0000
Received: from [127.0.0.1] by smtp133.mail.ukl.yahoo.com with NNFMP; 09 May 2012 22:26:29 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336602389; bh=z/LHhgzIPAT+h2XvYGgpGj178P+1MZAud8faOTqrblk=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=sW08jelmKPhQ7gqpd34QOWNyidIYp5eu13/q4Thep7NJA7rjN8apAtByTYPCcCc+QShWvVhC3xbxNlWH/3F+AtWliKl/V1r6TrhW8SsSNKDNJTW1AzIxDdxpEYJa/ASNv3u65H75fySIQmgY+fKBtkVVnwOrdD3RzmB63/jhNFs=
X-Yahoo-Newman-Id: 494351.36485.bm@smtp133.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: I4I6aQ8VM1nrdKjUS78drDJDmm2OYS8IOCfs6LJlBm62prM
 46ENRTUFugV216r_OpEsIRZo1XyWa6D9zQCAbB73dcQ2lfbpPQHwUkYqHO6i
 gURSVRW1.R4SSJhc8fHiQou.n6eThPHlEbKBEDMAVTWLC2x64Gs7JQC25fsh
 itPtuQh4ixVTSclaFq_1.xWGH8CMN4zKh.29BwMgIq.fWK7dAp_mqwVqXvtP
 vjR6pVm1cFFXSgE7nUCo55nPWB3tQgmIxCuODFnCbXdcoFcz7vHdm4lNVcFl
 3k1ivxRlpDx1iNfadROdcEPrVUL5wvTsm3PUi5.jP2SfPPwarIKYjtI4UKo8
 67FYbZ3pPbALfLjTrNj0ZVQ.ICd3rCbdTYBAuFJi6IBjjJVrF3V_yXoP0kea
 QyaykRAY-
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.54.50.154 with plain)
        by smtp133.mail.ukl.yahoo.com with SMTP; 09 May 2012 22:26:29 +0000 GMT
Message-ID: <4FAAEF13.7060508@yahoo.es>
Date: Thu, 10 May 2012 00:26:27 +0200
From: =?UTF-8?B?TWlndWVsIEdvbnrDoWxleiBDYXN0YcOxb3M=?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko/20120327 Thunderbird/11.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat pausing and process killed
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com> <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com> <4FAAC9E3.3060802@christopherschultz.net>
In-Reply-To: <4FAAC9E3.3060802@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120509-1, 09/05/2012), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

On 09/05/2012 21:47, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Miguel,
>
> On 5/9/12 11:29 AM, Miguel Gonzalez wrote:
>> I will check it, however I don't see in the access logs something
>> relevant. Any string I can check
> Anything with %-codes that are invalid. You'll have to write your own
> regular parser or regex to find them.
>
>> or status code?
> Uh, 400 or 500?

I don't find anything weird in the access log, I can't relate any of the 
Invalid chunk ignored to any GET or POST. In fact checking at a 
particular time I don't find any weird entry

Parsing 400 or 500 errors don't show anything either.

Miguel



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234119-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May  9 23:07:44 2012
Return-Path: <users-return-234119-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 010E8C0C3
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  9 May 2012 23:07:44 +0000 (UTC)
Received: (qmail 76791 invoked by uid 500); 9 May 2012 23:07:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76748 invoked by uid 500); 9 May 2012 23:07:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76739 invoked by uid 99); 9 May 2012 23:07:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 23:07:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of adam.n.gordon@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 May 2012 23:07:34 +0000
Received: by qcsc20 with SMTP id c20so933413qcs.18
        for <users@tomcat.apache.org>; Wed, 09 May 2012 16:07:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:mime-version:date:message-id:subject:to:content-type;
        bh=V2kNjpUhr//XdyXuNtNuFKXLgtidY7m5c9qge2kv6RM=;
        b=ksj3U+8Vjm4oJ5l3DujxCONjcroS4ljT3PyIZwg7hbdkmt9Ml+p/pxXpTtV5gZfSvY
         piVtzPGwLbv1Xx8fS+6xzjlVJFWv81otXIRE9qsLA0oWuX7HfYzXaK1TmhZpBWpJX1nP
         +eL00JbAc9L3Dv1M1RD3wrGf1Xem067euOlfkBx69g55MQRlc/1n3mae0fxEZyx7PNGK
         Li/ug25zYpoJflW7oToyKr1vO3IyTc/73G7z+5UHiQRb8wlCl4Cq50zHV2s4X/GQ+OgZ
         biepnhXvsso467FaE92s8DWsxEnANJgiqMrk7qgMWSMi+wFj0zBi3qJLAsDpEue7M9wv
         AYbg==
Received: by 10.224.174.134 with SMTP id t6mr8191862qaz.83.1336604833588; Wed,
 09 May 2012 16:07:13 -0700 (PDT)
From: Adam Gordon <adam.n.gordon@gmail.com>
Mime-Version: 1.0 (1.0)
Date: Wed, 9 May 2012 17:07:09 -0600
Message-ID: <4166675371151618652@unknownmsgid>
Subject: Enabling compression in embedded tomcat 7
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

I see XML options for enabling compression but am not seeing how this
is done programmatically with an embedded tomcat instance.  thanks.

--adam

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234120-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 01:30:40 2012
Return-Path: <users-return-234120-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5271E9522
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 01:30:40 +0000 (UTC)
Received: (qmail 99748 invoked by uid 500); 10 May 2012 01:30:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99685 invoked by uid 500); 10 May 2012 01:30:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99676 invoked by uid 99); 10 May 2012 01:30:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 01:30:36 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 01:30:30 +0000
Received: by wgbdr1 with SMTP id dr1so779618wgb.0
        for <users@tomcat.apache.org>; Wed, 09 May 2012 18:30:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=MDQjfeQoyPIswVVJMW4bTjMRmXK6pinSDSAv03VaJeA=;
        b=FP4wmbQzkzpex6W+vFVLFJd1XqruorqaQ2qq6mdEZtg9NAd5VjSk3yfEcztdOdnRsC
         McD9XKD2rUP+fcwbQcGZ+n/Hnjfu/x2xYShKOS9NPciAffSFqpvTgZQNKd8UXg+Nzw2i
         k2Vub6Tc9yLiN3g311O6U5ZyPY0n5Z/jlz2JLoDXE5KPegKNriQKL7cCgd2tj1E5V52N
         LhJv0PReCkD3mc/spLAjnMdSBKEoQjcK7st6pDtB9Blfo288zG4JmgytnvdONt+LdRff
         H/MCYTvut8/ZurvA34BfacmCcVi8ISfoahrB22JPod4bYxse+zknfE7PCtZWyd7gExUF
         j+6A==
Received: by 10.180.8.231 with SMTP id u7mr5062508wia.9.1336613410130; Wed, 09
 May 2012 18:30:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.47.8 with HTTP; Wed, 9 May 2012 18:29:39 -0700 (PDT)
X-Originating-IP: [186.86.183.43]
From: =?ISO-8859-1?Q?Reissner_Pab=F3n?= <reispab@bucalinux.com>
Date: Wed, 9 May 2012 20:29:39 -0500
Message-ID: <CALgsoYWtMtuJwWdjZDxAH=V2JCagF=Dtfr2GgGehvxib3TdTJQ@mail.gmail.com>
Subject: how
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d044304d0834c3704bfa48f5d
X-Gm-Message-State: ALoCoQnIOZhmf7kQ2TQQDa2UrqeidycN5Bfoatmos6EiTOVN/mA4AFbCntjFKkcJ/UHsl0sXn6jx

--f46d044304d0834c3704bfa48f5d
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

how can i conect apache toncat 7 to oracle 10 g or oracle 11 g an adobe
flex? to make a ria?
tnaks

--=20
*Reissner Pab=F3n Castro*
*MCSE MCP*
*LINUX ADMIN*
*C E O Bucalinux*
www.bucalinux.com
reispab@bucalinux.com

--f46d044304d0834c3704bfa48f5d--

From users-return-234121-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 02:15:51 2012
Return-Path: <users-return-234121-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE5D495D9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 02:15:51 +0000 (UTC)
Received: (qmail 96581 invoked by uid 500); 10 May 2012 02:15:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96521 invoked by uid 500); 10 May 2012 02:15:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96512 invoked by uid 99); 10 May 2012 02:15:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 02:15:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.65] (HELO elasmtp-kukur.atl.sa.earthlink.net) (209.86.89.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 02:15:41 +0000
Received: from [66.32.140.73] (helo=[192.168.2.50])
	by elasmtp-kukur.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SSIuW-0003Rr-F8
	for users@tomcat.apache.org; Wed, 09 May 2012 22:15:20 -0400
Subject: Re: how
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CALgsoYWtMtuJwWdjZDxAH=V2JCagF=Dtfr2GgGehvxib3TdTJQ@mail.gmail.com>
References:
	 <CALgsoYWtMtuJwWdjZDxAH=V2JCagF=Dtfr2GgGehvxib3TdTJQ@mail.gmail.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-8/OdVnJQSiRvC3iE+ivY"
Organization: Clifton Farm
Date: Wed, 09 May 2012 22:15:45 -0400
Message-ID: <1336616145.31274.242.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d47879be9bbd760244375fef9321071b295786e1488c9c170f5e350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.140.73
X-Virus-Checked: Checked by ClamAV on apache.org

--=-8/OdVnJQSiRvC3iE+ivY
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Wed, 2012-05-09 at 20:29 -0500, Reissner Pab=C3=B3n wrote:
> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g an adobe
> flex? to make a ria?
> tnaks
>=20

Your question is too broad, as is your subject line.  Please read this:

	http://catb.org/~esr/faqs/smart-questions.html

Also, if you're trying to write an RIA you'll probably get better help
on the Adobe forums.


--=-8/OdVnJQSiRvC3iE+ivY
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJPqyTRAAoJEAfDBXDHBQilSDMIAJRiL98KoaIV0F97DxlBftDl
bJWSaGFtTP2v5JyGLuSuaEFB/mCociTRAqTTiUEv4DpXnneMaNq43vM27CN/Kzta
pmt3eYE9w1fM5CjVrRfwYFXAyiNfezI4cvLVao2kp6L7T2EQWYb0xARLMzeNM86J
JbKzPvReG2i4XeSFUFSUiZ49LiIkmHJkc5wkbqEmeYZLraut9HkTZK82M+EPNlu4
1kZIdzD59Sv2HNj7y6fy7zZAtjU9cdlAd1MkK6D7refLUVeD7jRAupCb/hE68crE
0e8WO6LZ0Hf3gr4MqlL2NCl52+842pAGb98cqNbT8MBQpzbvBEp4mRHSG/5zuvg=
=fuIc
-----END PGP SIGNATURE-----

--=-8/OdVnJQSiRvC3iE+ivY--


From users-return-234122-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 06:53:33 2012
Return-Path: <users-return-234122-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 232EFC2D0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 06:53:33 +0000 (UTC)
Received: (qmail 51225 invoked by uid 500); 10 May 2012 06:53:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50351 invoked by uid 500); 10 May 2012 06:53:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50305 invoked by uid 99); 10 May 2012 06:53:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 06:53:24 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.2.1.87] (HELO postfix.arnes.si) (193.2.1.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 06:53:15 +0000
Received: from localhost (avs1.arnes.si [193.2.1.74])
	by postfix.arnes.si (Postfix) with ESMTP id 635C1148008;
	Thu, 10 May 2012 08:52:55 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=arnes.si; h=
	content-transfer-encoding:content-type:content-type:in-reply-to
	:references:subject:subject:mime-version:user-agent:organization
	:from:from:date:date:message-id:received:received:received; s=
	primus; t=1336632775; x=1339224776; bh=7NTqMOgWCegucUpbN/qvnjiD1
	cANNXTvog1U6mm8zhk=; b=DB5ua9YI6lRhNyqhXtO3pY9a2xUEMHIex706/UUN7
	y6ady+D0/9k5GwKi0/bpo2zIoNI4iQqrqYVRbkWFAOIwvKHcRvEH+AoFxOU/s5ED
	lkzJtcAN00iBCZJOLfwKTI7xJ8/pa8NUJVdm9Fg4XnJPSfaLOE5YRl476EPGB6ft
	W8=
X-Virus-Scanned: amavisd-new at arnes.si
Received: from postfix.arnes.si ([193.2.1.87])
	by localhost (avs1.arnes.si [193.2.1.74]) (amavisd-new, port 10030)
	with ESMTP id 5TxqQeEF-tIy; Thu, 10 May 2012 08:52:55 +0200 (CEST)
Received: from skala.arnes.si (skala.arnes.si [193.2.1.54])
	by postfix.arnes.si (Postfix) with ESMTP id 42D2D148006;
	Thu, 10 May 2012 08:52:55 +0200 (CEST)
Received: from [127.0.0.1] (jalovec.arnes.si [193.2.1.179])
	by skala.arnes.si (Postfix) with ESMTP id DC434A40562;
	Thu, 10 May 2012 08:52:54 +0200 (CEST)
Message-ID: <4FAB65D4.7040507@arnes.si>
Date: Thu, 10 May 2012 08:53:08 +0200
From: tomaz <tomaz.majerhold@arnes.si>
Organization: ARNES
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Pid * <pid@pidster.com>
Subject: Re: tomcat6 & ProgrammaticLogin
References: <4FAA674F.4020305@arnes.si> <6224087957833948687@unknownmsgid>
In-Reply-To: <6224087957833948687@unknownmsgid>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Dne 9.5.2012 15:46, pie Pid *:
> On 9 May 2012, at 13:47, tomaz <tomaz.majerhold@arnes.si> wrote:
> 
>> ProgrammaticLogin
> 
> Is it a library or framework?
> I've never heard of it.
> 
> 
> p
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

As I know it is a library, so the class  com.sun.appserv.security.ProgrammaticLogin is part of
 <dependency>
        	<groupId>org.glassfish.security</groupId>
        	<artifactId>security</artifactId>
        	<version>3.1</version>
</dependency>


Regards, Tomaz

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234123-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 06:55:08 2012
Return-Path: <users-return-234123-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B715C2D7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 06:55:08 +0000 (UTC)
Received: (qmail 60078 invoked by uid 500); 10 May 2012 06:55:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60016 invoked by uid 500); 10 May 2012 06:55:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59990 invoked by uid 99); 10 May 2012 06:55:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 06:55:03 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.2.1.87] (HELO postfix.arnes.si) (193.2.1.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 06:54:56 +0000
Received: from localhost (avs1.arnes.si [193.2.1.74])
	by postfix.arnes.si (Postfix) with ESMTP id 15673148008;
	Thu, 10 May 2012 08:54:35 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=arnes.si; h=
	content-transfer-encoding:content-type:content-type:in-reply-to
	:references:subject:subject:mime-version:user-agent:organization
	:from:from:date:date:message-id:received:received:received; s=
	primus; t=1336632874; x=1339224875; bh=YiaAML2wPwmuVJcZkkLZ+DQcf
	tjybA6z60xom5/jhoU=; b=Sv2xkrt6XG/+bQw8meazQRMi7wExgeszzA0hn7lJz
	oWzTuC0oaSzAPQNfnN/xG465RrhlZPTUBP4pd9LJEIPb5+ZF0mxPjBFnKRJZQ24N
	z/jDfleyGBV8/5kub18Fwy/g6roW9XjsYvQACnWXgx3WJUmkYPCPxYKygSo/z1Ed
	y4=
X-Virus-Scanned: amavisd-new at arnes.si
Received: from postfix.arnes.si ([193.2.1.87])
	by localhost (avs1.arnes.si [193.2.1.74]) (amavisd-new, port 10030)
	with ESMTP id u_-bDPv1fgZT; Thu, 10 May 2012 08:54:34 +0200 (CEST)
Received: from skala.arnes.si (skala.arnes.si [193.2.1.54])
	by postfix.arnes.si (Postfix) with ESMTP id E3A12148006;
	Thu, 10 May 2012 08:54:34 +0200 (CEST)
Received: from [127.0.0.1] (jalovec.arnes.si [193.2.1.179])
	by skala.arnes.si (Postfix) with ESMTP id D19EFA40562;
	Thu, 10 May 2012 08:54:34 +0200 (CEST)
Message-ID: <4FAB6638.9010305@arnes.si>
Date: Thu, 10 May 2012 08:54:48 +0200
From: tomaz <tomaz.majerhold@arnes.si>
Organization: ARNES
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Pid * <pid@pidster.com>
Subject: Re: tomcat6 lookup for remote EJB on glassfish
References: <4FAA26E8.3030104@arnes.si> <-8390559153918798360@unknownmsgid>
In-Reply-To: <-8390559153918798360@unknownmsgid>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Dne 9.5.2012 15:48, pie Pid *:
> On 9 May 2012, at 09:12, tomaz <tomaz.majerhold@arnes.si> wrote:
> 
>> I'm struggling to get remote EJB from lookup, but with no success, is it posible to this in Apache Tomcat/6.0.18?
>>
>> When I'm using standalone client I get it but inside web application I can't get it work.
>>
>> My web code:
>> --------------------
>>
>> Properties props = new Properties();
>> props.setProperty("org.omg.CORBA.ORBInitialHost", "jalovec.arnes.si");
>> props.setProperty("org.omg.CORBA.ORBInitialPort", "3700");
>> final InitialContext ic = new InitialContext(props);
>>
>> CalculatorApi calcEJBCli = (CalculatorApi) ic.lookup("java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi");
>>
>>
>> My pom dependency for web appl:
>> ---------------------
>> <dependency>
>>           <groupId>org.glassfish.extras</groupId>
>>           <artifactId>glassfish-embedded-web</artifactId>
>>           <version>3.1-b32</version>
>> </dependency>
>>
>>
>> My EJB 3.1 on glassfish 3.1:
>> ----------------------------
>> @Stateless(mappedName="CalculatorEJB", name="Calculator")
>>
>>
>> Glassfish info for my EJB:
>> --------------------------
>> Portable JNDI names for EJB Calculator : [java:global/Calculator-ejb/Calculator!si.arnes.ejb.local.CalculatorLocalApi,
>> java:global/Calculator-ejb/Calculator!si.arnes.ejb.remote.CalculatorRemoteApi]
>>
>> Glassfish-specific (Non-portable) JNDI names for EJB Calculator : [CalculatorEJB#si.arnes.ejb.remote.CalculatorRemoteApi, CalculatorEJB]
>>
>>
>> Error:
>> ----------
>> Name global is not bound in this Context
>>
>>
>> What I'm doing wrong?
> 
> Trying to deploy an EJB / Glassfish app to Tomcat (which is not an EJB
> container).
> 
> 
> p
> 
>>
>>
>> Regards, Tomaz
>>
>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

Yes it is true, but if you put some jar's in tomcat/lib it could work, so what I did is tu put this jars in a tomcat lib:

javax.ejb.jar
ejb-container.jar
deployment-common.jar
dol.jar
glassfish-corba-csiv2-idl.jar
glassfish-corba-codegen.jar
ssl-impl.jar
security.jar
ejb.security.jar
management-api.jar
gmbal-api-only.jar
gmbal.jar
glassfish-corba-asm.jar
glassfish-corba-newtimer.jar
glassfish-corba-orbgeneric.jar
bean-validator.jar
config-types.jar
kernel.jar
config.jar
config-api.jar
glassfish-corba-omgapi.jar
glassfish-corba-orb.jar
orb-connector.jar
orb-enabler.jar
orb-iiop.jar
glassfish-api.jar
auto-depends.jar
hk2-core.jar
internal-api.jar
common-util.jar
glassfish-corba-internal-api.jar
glassfish-naming.jar


Regards, Tomaz


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234124-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 09:25:08 2012
Return-Path: <users-return-234124-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53CD4C722
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 09:25:08 +0000 (UTC)
Received: (qmail 87776 invoked by uid 500); 10 May 2012 09:25:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87342 invoked by uid 500); 10 May 2012 09:25:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87306 invoked by uid 99); 10 May 2012 09:25:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 09:25:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of allstaraga@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 09:24:55 +0000
Received: by wgbdr1 with SMTP id dr1so998370wgb.0
        for <users@tomcat.apache.org>; Thu, 10 May 2012 02:24:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=TLoUHuvU+FCFJnAYaN6O+ZA+593JBZ9E7PH2Kxzxhas=;
        b=Ao4h0PqvBzjFwcMGn8qJjOyxzI8qnIaVYfOBHAnVpuMwDJRjyETDh7zGlGxUbHfUGk
         y1pzKO19NcjfuZY+cT0ytcjJtScjqfjLr+rc3KOBcuhohUl7V75LEyhrkiOWAHajxbAh
         ezM6Eh57SPT9DFjWrPanIOAl4sasQQh9IOMyiT+0v0yRn/RsT3BnliPXR/NHDP/keDgd
         xsTjolC9SV65WN23lVGMk+oPwYa3JeDXcQJNd+Y1vQ98HlLTVbgBJ1/s9hDaIUyyISaZ
         8iIH9sKXmXF/kabknUKPH1mG1O7RVHZ2xxosSTjcuUQLjL+RzqhzvNK9brEluW+aJi5K
         zVQg==
MIME-Version: 1.0
Received: by 10.180.105.198 with SMTP id go6mr7716091wib.19.1336641875236;
 Thu, 10 May 2012 02:24:35 -0700 (PDT)
Received: by 10.223.93.194 with HTTP; Thu, 10 May 2012 02:24:35 -0700 (PDT)
In-Reply-To: <CADmRKMyqyakmDDWCGt7MFwRdO8MJsyZKXosQUBvMFOYRBrYXRw@mail.gmail.com>
References: <CADmRKMwbsUZcu9oRyBu+jH+0jDMWuHBFgP=N-NwhNZMeQ_Dmag@mail.gmail.com>
	<4F9EA654.6060903@christopherschultz.net>
	<CADmRKMyqyakmDDWCGt7MFwRdO8MJsyZKXosQUBvMFOYRBrYXRw@mail.gmail.com>
Date: Thu, 10 May 2012 11:24:35 +0200
Message-ID: <CADmRKMzrD4RtFR33uDePNSbw5xX_FT=_wG4L2_B_vSfyaJ39xA@mail.gmail.com>
Subject: Re: mod_jk recovery when tomcat killed
From: Agnieszka Allstar <allstaraga@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0418258c2a556f04bfab3097

--f46d0418258c2a556f04bfab3097
Content-Type: text/plain; charset=ISO-8859-1

I've spent few days trying to figure out what's going on but I give up.
I've tried boosting max_packet_size and few other properties but with no
success.

2012/4/30 Agnieszka Allstar <allstaraga@gmail.com>

>
>
> 2012/4/30 Christopher Schultz <chris@christopherschultz.net>
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Kate,
>>
>> On 4/30/12 7:06 AM, Agnieszka Allstar wrote:
>> > Here's my test scenario: 1. Web service client sends SOAP request
>> > to apache server. This client sends requests in 2 flavors, either
>> > it is a generic SOAP call (A case) or a soap request with some
>> > files attached with MTOM (B case). Web service is capable of
>> > handling both types of requests. 2. Once the processing starts, I
>> > kill this tomcat with "kill -9".
>> >
>> > The results are: A - when tomcat1 is killed, the request is
>> > automatically transmitted to tomcat2. Client receives correct
>> > results. This is OK. B - when tomcat1 is killed, the request is not
>> > transmitted to tomcat2. Client receives 502 error: bad gateway
>> > instead.
>>
>> Are you using POST to send both messages (A case and B case)?
>>
>
> Yes, both are POST.
>
>>
>> What if you send a very *small* attachment via MTOM? I'm wondering
>> what the real difference is, since in both cases you should be sending
>> HTTP POST... the only difference should be larger Content-Length.
>>
>
> Good idea, gotta check the small attachment version and see what happens.
> I've also noticed that requests differ in Content-Type. For simple soap
> request is text/xml and the one with attachments is multipart/related;
> type="application/xop+xml (...).
>
>>
>> I wonder if mod_jk can only failover the current request (with no
>> error to the client) if the request is small enough (or only a small
>> amount has already been transferred to the failing server).
>>
>
> This could be it I'll check this out. I only need to wait few days until
> I'm back in office.
>

I did some tests and it turns out that sending just a single tiny
attachment (1KB) breaks the failover.


>
>> > [Fri Apr 27 12:19:08 2012] [1376450:1] [error]
>> > service::jk_lb_worker.c (1425): unrecoverable error 502, request
>> > failed. Tomcat failed in the middle of reques [Fri Apr 27 12:19:08
>> > 2012] [1376450:1] [error] service::jk_lb_worker.c (1485): All
>> > tomcat instances failed, no more workers left
>>
>> This looks like you have killed both tomcat instances and mod_jk can
>> contact neither of them. Are you sure you have gotten mod_jk back in
>> communication with both servers between "A case" and "B case" runs? If
>> you haven't, this isn't really a valid test.
>>
>
> I'm pretty sure there was only one tomcat killed but I'll rerun my tests.
> As for initial state, after each test I restart both mod_jk (apache) and
> tomcat servers and make sure they appear as ok in mod_jk.
>

I kill tomcat while it's processing request in B case and the error log
says there aren't any workers left and returns 502. I do the same in A case
and w/o problems request is retransmitted to tomcat2 (not indicated in the
log though). Makes no sense to me.

A
[info] ajp_connection_tcp_get_message::jk_ajp_common.c (1266): (tomcat1)
can't receive the response header message from tomcat, tomcat
(x.x.x.x:8191) has forced a connection close for socket 19
[error] ajp_get_reply::jk_ajp_common.c (2118): (tomcat1) Tomcat is down or
refused connection. No response has been sent to the client (yet)
[info] ajp_service::jk_ajp_common.c (2607): (tomcat1) sending request to
tomcat failed (recoverable),  (attempt=1)
[info] jk_open_socket::jk_connect.c (626): connect to x.x.x.x:8191 failed
(errno=79)
[info] ajp_connect_to_endpoint::jk_ajp_common.c (1008): Failed opening
socket to (x.x.x.x:8191) (errno=79)
[error] ajp_send_request::jk_ajp_common.c (1630): (tomcat1) connecting to
backend failed. Tomcat is probably not started or is listening on the wrong
port (errno=79)
[info] ajp_service::jk_ajp_common.c (2607): (tomcat1) sending request to
tomcat failed (recoverable), because of error during request sending
(attempt=2)
[error] ajp_service::jk_ajp_common.c (2626): (tomcat1) connecting to tomcat
failed.
[info] service::jk_lb_worker.c (1400): service failed, worker tomcat1 is in
error state

B
[info] ajp_connection_tcp_get_message::jk_ajp_common.c (1266): (tomcat1)
can't receive the response header message from tomcat, tomcat
(x.x.x.x:8191) has forced a connection close for socket 19
[error] ajp_get_reply::jk_ajp_common.c (2118): (tomcat1) Tomcat is down or
refused connection. No response has been sent to the client (yet)
[error] ajp_service::jk_ajp_common.c (2600): (tomcat1) sending request to
tomcat failed (unrecoverable),  (attempt=1)
[info] service::jk_lb_worker.c (1400): service failed, worker tomcat1 is in
error state
[error] service::jk_lb_worker.c (1425): unrecoverable error 502, request
failed. Tomcat failed in the middle of request, we can't recover to another
instance.
[error] service::jk_lb_worker.c (1485): All tomcat instances failed, no
more workers left

Obviously this has sth to do with the fact that in A case the mod_jk.log
says the request is recoverable, whereas in B case it's unrecoverable but I
can't really tell what's the cause after looking at mod_jk src.

Either way, I have to quit this and implement some retries on the client
side instead.

Thanks
Kate

--f46d0418258c2a556f04bfab3097--

From users-return-234125-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 11:17:26 2012
Return-Path: <users-return-234125-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D714D9A7A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 11:17:26 +0000 (UTC)
Received: (qmail 2604 invoked by uid 500); 10 May 2012 11:17:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2291 invoked by uid 500); 10 May 2012 11:17:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2258 invoked by uid 99); 10 May 2012 11:17:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 11:17:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 11:17:15 +0000
Received: by yenm4 with SMTP id m4so1835457yen.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 04:16:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Kn5BZF3Ys97d9iIlDRYmbtKd9rM/FWxCWtMym8vtGJw=;
        b=HjxBJJC3LMnB51ElXi1pNxkRBXPkypjgB5gYqLST3d9mydqc/pSv/0W61B0lmvdOLH
         Iq+8HjpZ06lKXNtbS+ivHab0ojaihxgF6zNrcY/9zq2ijaMgdgzESdjZ86zA8qCXBbWf
         Sw56hsqt61RlaKC7B36q3rjy07r9bT2njFd/HTtQ55OGyFJCuIQ3CM2XDUz4qsz7HCqT
         uaszw7UAA4OSto5zriOlOoaka2gUqJtpvVGUQ3TI/lyYpayhEW6ahG9XmeG4Msmn+ibw
         cWba+An+cWDRGqnigVnQVGRcAiMNWx+87byj6Hq0LGjgl5eris+w3800zsPGz0m3lBJ9
         qYgA==
MIME-Version: 1.0
Received: by 10.236.191.138 with SMTP id g10mr4548595yhn.25.1336648614829;
 Thu, 10 May 2012 04:16:54 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Thu, 10 May 2012 04:16:54 -0700 (PDT)
In-Reply-To: <4166675371151618652@unknownmsgid>
References: <4166675371151618652@unknownmsgid>
Date: Thu, 10 May 2012 15:16:54 +0400
Message-ID: <CABzHfVmY+ETDx4SaZ81gcV+MLPcOhWRHqMEDou_yhLSxJ3AsPQ@mail.gmail.com>
Subject: Re: Enabling compression in embedded tomcat 7
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/10 Adam Gordon <adam.n.gordon@gmail.com>:
> I see XML options for enabling compression but am not seeing how this
> is done programmatically with an embedded tomcat instance. =A0thanks.
>

Look at Connector.setProperty(name, value).

That method is what should be called by digester that parses the XML file.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234126-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 11:32:05 2012
Return-Path: <users-return-234126-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95B5BC405
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 11:32:05 +0000 (UTC)
Received: (qmail 40246 invoked by uid 500); 10 May 2012 11:32:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40073 invoked by uid 500); 10 May 2012 11:32:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40056 invoked by uid 99); 10 May 2012 11:32:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 11:32:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 11:31:55 +0000
Received: by yhoo21 with SMTP id o21so1837764yho.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 04:31:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3/BUFdETlH9A/jX0ogN9N/xzcTOz+4omCjjtKS38Ra0=;
        b=lxYRQ7KNAVTUnyxyJAV2uO3Av+tO4lpQSGfrvzCHkLKuq4YjbaYRRSN7YMwU0fndPk
         94XVaT4dwdocZALjPPaH4g78vIuiEN64HMAEIF0oO87pT6STcmU9GybNp6JV8Vbgbc8K
         XzV3NQ/3n59QcelVP0qHlXyW5hC8FQmZTfUgcXGAKUlEYBh9ZfzHqitYHO0BYGQ5nG+T
         MKezXwiLWEw1IiVVdgZso7QwEWBLYAGSMdf36y80ZSfa2gAO2lWF8TCmzJ59dPiX33yq
         LkL8wiWJlnWQmIUwu/J0iU2mYpn47qik9kQditWZ0m0lJ0wNSWJ8yNRnfjc61XA1V+V4
         ka+Q==
MIME-Version: 1.0
Received: by 10.236.76.226 with SMTP id b62mr4830899yhe.13.1336649494751; Thu,
 10 May 2012 04:31:34 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Thu, 10 May 2012 04:31:34 -0700 (PDT)
In-Reply-To: <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com>
	<1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com>
	<4FAA869F.3070902@ice-sa.com>
	<1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
Date: Thu, 10 May 2012 15:31:34 +0400
Message-ID: <CABzHfVkO8tUEPKJhd5AAxsEjaXyNfA4f98ng_wNTVXBdf3ToZw@mail.gmail.com>
Subject: Re: tomcat pausing and process killed
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/9 Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>:
>
>  I have tomcat 5.5.27 and jdk 1.5.0_17
> (..)
>
>  May 8, 2012 12:03:48 PM org.apache.tomcat.util.http.Parameters processParameters
> WARNING: Parameters: Character decoding failed. Parameter skipped.
>
>(...)
>
> I will check it, however I don't see in the access logs something relevant. Any string I can check or status code?

1. Requests that are rejected early (that is before they reach a
Valve) would not be logged by AccessLogValve in any Tomcat 5.5.x
version.

This issue was fixed ~1,5 years ago in 6.0 and 7.0 only. Thus to see
all received requests you need to have an up-to-date version of Tomcat
6 or 7.

2. When "invalid chunk" error is detected during parameter parsing,
the bad parameter is just ignored as if it never existed in the query
string.

It does not cause request to fail, because Servlet API methods such as
request.getParameter() do not support error reporting. They cannot
throw exceptions and they cannot change the response.

What your code does when a parameter is missing is up to your code.

Your stacktrace mentions "FastCommonAccessLogValve" so this request
should be mentioned in the access log.

> memory use increases just before the system crashed.

Maybe some bot is walking around your server, and that causes creation
of new session for each request?

Maybe your web site is popular in certain hours and cannot withstand the load?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234127-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 12:03:09 2012
Return-Path: <users-return-234127-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5EAEC4A9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 12:03:09 +0000 (UTC)
Received: (qmail 27159 invoked by uid 500); 10 May 2012 12:03:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26602 invoked by uid 500); 10 May 2012 12:03:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26561 invoked by uid 99); 10 May 2012 12:03:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 12:03:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 12:02:53 +0000
Received: from [192.168.245.129] (p549E8C6E.dip0.t-ipconnect.de [84.158.140.110])
	by tor.combios.es (Postfix) with ESMTPA id 86254DA086F
	for <users@tomcat.apache.org>; Thu, 10 May 2012 14:02:24 +0200 (CEST)
Message-ID: <4FABAE4E.8070508@ice-sa.com>
Date: Thu, 10 May 2012 14:02:22 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat pausing and process killed
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com> <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com> <4FAAC9E3.3060802@christopherschultz.net> <4FAAEF13.7060508@yahoo.es>
In-Reply-To: <4FAAEF13.7060508@yahoo.es>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Miguel,

just a couple of general remarks.

Tomcat is an open-source project, developed and supported by volunteers.
These volunteers do not have all the time in the world, so they tend to focus first on the 
current Tomcat version (7.x), a bit less on the previous version (6.x), and much less on 
the previous version (5.5).

You are running Tomcat 5.5, and you are having a problem with it.  And your problem, as 
you describe it, does not seem to be a very common problem experienced by a lot of users.

The first recommendation would be to upgrade your installation to Tomcat 7, or at least 
Tomcat 6.
That is because it may be that the problem that you are seeing, was due to some feature or 
bug in Tomcat 5.5, that has been resolved in the meantime.
It also because, if the problem still happens in Tomcat 7, you are likely to get a lot 
more attention to it on the part of the developers and other volunteers on this list.

Next, about your issue :
It sounds very strange that you would have an error message in the error log about an 
invalid encoding of a request parameter, but that you cannot find that request in the 
access log.
It could also be a misconfiguration on your part.
Can you copy and paste your Tomcat "server.xml" here (removing all the comments and any 
confidential information please) ? (repeat : copy and paste in the message, not in a 
separate attachment; the list strips most attachments)

As Konstantin mentions separately, there are (a few) cases where Tomcat will not log an 
invalid request.

A solution in that case would be to set up an Apache httpd server in front of your Tomcat, 
listening on the port on which Tomcat is listening now (presumably 80), and proxying all 
request to Tomcat (changing the Tomcat port to something else, e.g. 8080).  This is 
usually a rather simple setup, but if you have trouble doing that, ask.

Then the access log of Apache httpd may show what Tomcat does not show.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234128-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 12:29:59 2012
Return-Path: <users-return-234128-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 313009109
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 12:29:59 +0000 (UTC)
Received: (qmail 498 invoked by uid 500); 10 May 2012 12:29:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 444 invoked by uid 500); 10 May 2012 12:29:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 434 invoked by uid 99); 10 May 2012 12:29:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 12:29:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jieryn@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 12:29:47 +0000
Received: by obbwd20 with SMTP id wd20so2458633obb.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 05:29:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=0WSy/p9xmCNGf5iQErXAertpO2okBBNBcg/1YX6d27A=;
        b=J9wUXyn+Bt8/JnL7H6L8sx1ANZ4T84f0iotGMqKFeHA5Ifsa46/6GDcpY6yfrfnM53
         kc7FSKgEH+kIfpcpPBF8OVYqjjRRkP/CVh1nVyO5uGaJqw/SspvW6B3Zs7sxmQXgf+HB
         XxTUA/vQnPm/MsghJUj2pXMoo2z407p3ibF3XjAcfG7zh726LOg71eW+wUvgHE2xuu1v
         onZy1JkrayyEMQ9+OVqXBNcvqLXuQDKsJn98STaEfy9/HWl98s2PR/9CNE8GZ7lSob45
         Nj54HoZzwu9ZN+SAwqjfN3+hOsEnvaaYysjfrgajlq1tyz16P/0LNVk8CHH6eu+x7QzQ
         OZNw==
MIME-Version: 1.0
Received: by 10.182.52.38 with SMTP id q6mr5629970obo.8.1336652966580; Thu, 10
 May 2012 05:29:26 -0700 (PDT)
Received: by 10.60.142.69 with HTTP; Thu, 10 May 2012 05:29:26 -0700 (PDT)
Date: Thu, 10 May 2012 08:29:26 -0400
Message-ID: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
Subject: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Jesse Farinacci <jieryn@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Greetings,

I'm running Apache Tomcat 7.0.27 on Linux 2.6.32.x kernel, where
Tomcat reports at startup:

 Loaded APR based Apache Tomcat Native library 1.1.22

and Connector definitions look like:

   <Connector scheme="http" address="a.b.c.d" port="8080"
     compression="on" enableLookups="false" URIEncoding="UTF-8"/>
   <Connector scheme="https" address="a.b.c.d" port="8443" secure="true"
     compression="on" enableLookups="false" URIEncoding="UTF-8"
     SSLEnabled="true"
SSLCertificateFile="${catalina.home}/conf/cacert.pem"
SSLCertificateKeyFile="${catalina.home}/conf/privkey.pem"/>

The web application was deployed via the manager application, and it
is unpacked into ROOT/ directory. On most every request we're seeing
delays and then in the log:

10-May-2012 08:13:58.523 SEVERE [AsyncFileHandlerWriter-1685021807]
org.apache.coyote.http11.AbstractHttp11Processor.process Error
processing request
 java.lang.IllegalStateException: zip file closed
       at java.util.jar.JarFile.getMetaInfEntryNames(Native Method)
       at java.util.jar.JarFile.maybeInstantiateVerifier(JarFile.java:329)
       at java.util.jar.JarFile.getInputStream(JarFile.java:433)
       at org.apache.naming.resources.WARDirContext$WARResource.streamContent(WARDirContext.java:988)
       at org.apache.naming.resources.ProxyDirContext.cacheLoad(ProxyDirContext.java:1656)
       at org.apache.naming.resources.ProxyDirContext.cacheLookup(ProxyDirContext.java:1536)
       at org.apache.naming.resources.ProxyDirContext.lookup(ProxyDirContext.java:297)
       at org.apache.tomcat.util.http.mapper.Mapper.internalMapWrapper(Mapper.java:996)
       at org.apache.tomcat.util.http.mapper.Mapper.internalMap(Mapper.java:808)
       at org.apache.tomcat.util.http.mapper.Mapper.map(Mapper.java:671)
       at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:646)
       at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:402)
       at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
       at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
       at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(AprEndpoint.java:1770)
       at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:898)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:920)
       at java.lang.Thread.run(Thread.java:736)

This has been happening for a while, but it never really caused
delays. Now users are seeing the delays and so the issue has
escalated.. Any help is appreciated, let me know if I can provide some
better data,

-Jesse

-- 
There are 10 types of people in this world, those
that can read binary and those that can not.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234129-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 12:55:41 2012
Return-Path: <users-return-234129-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00218919B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 12:55:40 +0000 (UTC)
Received: (qmail 91109 invoked by uid 500); 10 May 2012 12:55:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90930 invoked by uid 500); 10 May 2012 12:55:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90920 invoked by uid 99); 10 May 2012 12:55:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 12:55:37 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [77.238.189.66] (HELO nm13.bullet.mail.ird.yahoo.com) (77.238.189.66)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 May 2012 12:55:30 +0000
Received: from [77.238.189.50] by nm13.bullet.mail.ird.yahoo.com with NNFMP; 10 May 2012 12:55:09 -0000
Received: from [212.82.108.126] by tm3.bullet.mail.ird.yahoo.com with NNFMP; 10 May 2012 12:55:09 -0000
Received: from [127.0.0.1] by omp1035.mail.ird.yahoo.com with NNFMP; 10 May 2012 12:55:09 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 181173.47703.bm@omp1035.mail.ird.yahoo.com
Received: (qmail 20575 invoked by uid 60001); 10 May 2012 12:55:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1336654509; bh=Hgk86qy3ObOrykh2r6GLDqZbrL+KtqFbMRmQYFUkV5E=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=DL9Mf8y80J33Jgu5sv4MFgfC9dYqkvTaOqv7yakdaCT3Yf5uREiIkjjjcCMcuJnR4YPo3bB33qY3WiS6KaekLvl1idR4uZVe3X8kJ7cTvzDNWS+4bC+Dnk11gcynVGIEurah4dSJMgTGDRXNvWSYH6A4GiD/pk73lPXPtO6+A8I=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=vSYhNE4QpCSHy50MmFFOT7xQdY0EDMV468HtTGX4MU2FAkvkpO26hLMHd7Ao70JbKejVV/Uo/ClrgPvypNnYprArViH0J5fk6ny5neIqSi5pSmgj1NRSIgaVsgWstPRWByvQ8peSlTPLv7++smOxCXWhwBXQN79MVR7I+5xnzOs=;
X-YMail-OSG: 2XefEM4VM1l44skYu5ekVHzeSqZLKFAb1PK_okQTTHL7COo
 FY3GDShLl2oiVh5LlbqkzJE9ASv6x7aQ7CRfsjfeX5F22ifiSnm57jOOKl9R
 7F5GAyIesoxBM_85Zxae0TM5xpGcidD_TJeICFKjaj9Oz8kYofyD295o6poM
 2Ro9tlz4Lv3mx8CQrX3i5hRUaYTCIEMCO3z3a7yYd.mdsMBcAVCdRpEKtnt0
 EDTu4EzXVKpk2AGZfAqsA0dZv8Nk2sm_Ltsqjfi0.HNpB2ByUrj8cj6mhQFx
 yTDF30fYdpBIr35KtO8wAfzkLTMYW5dTHk8F5S6S08CTj3nSsABFbXC47AC5
 K763fytqULMQgRa.cmwfkPNVjIdzvchiuoVhCupXayPUOwzjv_EGAhLYEH1g
 ARsoXpGKOO6KADKkU1Nbcc_xhhuWeLzOyKzKN5F.QY.Uv8tUZ
Received: from [192.171.2.126] by web29601.mail.ird.yahoo.com via HTTP; Thu, 10 May 2012 13:55:08 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com> <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com> <4FAAC9E3.3060802@christopherschultz.net> <4FAAEF13.7060508@yahoo.es> <4FABAE4E.8070508@ice-sa.com> <1336654440.47918.YahooMailNeo@web29606.mail.ird.yahoo.com>
Message-ID: <1336654508.20034.YahooMailNeo@web29601.mail.ird.yahoo.com>
Date: Thu, 10 May 2012 13:55:08 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: Re: tomcat pausing and process killed
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
In-Reply-To: <1336654440.47918.YahooMailNeo@web29606.mail.ird.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

=0A=0AIt makes sense.=0A=0A=0AThis tomcat 5.5 is a tarball from Apache. Do =
you suggest using a rpm (I'm running Centos 5.2) which probably will be Tom=
cat 6.x or download Tomcat 7 from Apache?=0A=0AI usually prefer to have sof=
tware packaged because I can get software security updates but I'm from HTT=
P Apache and MySQL world and normally updates are quite normal. However I s=
ee that I would have to use non-official repos to install at least Tomcat 6=
.=0A=0A=0ARegards,=0A=0AMiguel=0A=0A=0A=0A________________________________=
=0ADe: Andr=E9 Warnier <aw@ice-sa.com>=0APara: Tomcat Users List <users@tom=
cat.apache.org> =0AEnviado: Jueves 10 de Mayo de 2012 14:02=0AAsunto: Re: t=
omcat pausing and process killed=0A=0AMiguel,=0A=0Ajust a couple of general=
 remarks.=0A=0ATomcat is an open-source project, developed and supported by=
 volunteers.=0AThese volunteers do not have all the time in the world, so t=
hey tend to focus first on the current Tomcat version (7.x), a bit less on =
the previous version (6.x), and much less on the previous version (5.5).=0A=
=0AYou are running Tomcat 5.5, and you are having a problem with it.=A0 And=
 your problem, as you describe it, does not seem to be a very common proble=
m=0Aexperienced by a lot of users.=0A=0AThe first recommendation would be t=
o upgrade your installation to Tomcat 7, or at least Tomcat 6.=0AThat is be=
cause it may be that the problem that you are seeing, was due to some featu=
re or bug in Tomcat 5.5, that has been resolved in the meantime.=0AIt also =
because, if the problem still happens in Tomcat 7, you are likely to get a =
lot more attention to it on the part of the developers and other volunteers=
 on this list.=0A=0ANext, about your issue :=0AIt sounds very strange that =
you would have an error message in the error log about an invalid encoding =
of a request parameter, but that you cannot find that request in the access=
 log.=0AIt could also be a misconfiguration on your part.=0ACan you copy an=
d paste your Tomcat "server.xml" here (removing all the comments and any co=
nfidential information please) ? (repeat : copy and paste in the message, n=
ot in a separate attachment; the list strips most=0Aattachments)=0A=0AAs Ko=
nstantin mentions separately, there are (a few) cases where Tomcat will not=
 log an invalid request.=0A=0AA solution in that case would be to set up an=
 Apache httpd server in front of your Tomcat, listening on the port on whic=
h Tomcat is listening now (presumably 80), and proxying all request to Tomc=
at (changing the Tomcat port to something else, e.g. 8080).=A0 This is usua=
lly a rather simple setup, but if you have trouble doing that, ask.=0A=0ATh=
en the access log of Apache httpd may show what Tomcat does not show.=0A=0A=
=0A---------------------------------------------------------------------=0A=
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AFor additiona=
l commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234130-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 13:45:44 2012
Return-Path: <users-return-234130-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B83ABCE85
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 13:45:44 +0000 (UTC)
Received: (qmail 66239 invoked by uid 500); 10 May 2012 13:45:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65975 invoked by uid 500); 10 May 2012 13:45:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65962 invoked by uid 99); 10 May 2012 13:45:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:45:41 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.218.179.23] (HELO srv.ordix.de) (212.218.179.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:45:35 +0000
Received: from emailix.ordix.de (emailix.ordix.de [192.168.7.99])
	by srv.ordix.de (Postfix) with ESMTP id 0F49D812
	for <users@tomcat.apache.org>; Thu, 10 May 2012 15:45:09 +0200 (CEST)
Received: by emailix.ordix.de (Postfix, from userid 96)
	id 75D4B9A7C; Thu, 10 May 2012 15:45:12 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on emailix.ordix.de
X-Spam-Level: 
Received: from zarafix.ordix.de (zarafix.ordix.de [192.168.7.165])
	by emailix.ordix.de (Postfix) with SMTP id 48CB89A0C
	for <users@tomcat.apache.org>; Thu, 10 May 2012 15:45:07 +0200 (CEST)
Subject: Maximum number of sessions
From: =?windows-1252?Q?Thomas_Rohde_?= <tro@ordix.de>
To: =?windows-1252?Q?users=40tomcat.apache.org?= <users@tomcat.apache.org>
Date: Thu, 10 May 2012 15:45:07 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-Mailer: Zarafa 6.40.15-33766
Message-Id: <zarafa.4fabc663.327f.1995442e32d35b61@zarafix.ordix.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No  -102.9 / 4.5  Tests= ALL_TRUSTED | BAYES_00 |
	MIME_QP_LONG_LINE | T_RP_MATCHES_RCVD | USER_IN_WHITELIST

Hi!

Is it possible to configure an upper limit for the number of sessions in Tomcat=3F Thought the Context would be the right place for such a configuration parameter, but I couldn't find anything like this.

Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234131-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 13:52:41 2012
Return-Path: <users-return-234131-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3FA2CEBD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 13:52:41 +0000 (UTC)
Received: (qmail 90983 invoked by uid 500); 10 May 2012 13:52:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90924 invoked by uid 500); 10 May 2012 13:52:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90915 invoked by uid 99); 10 May 2012 13:52:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:52:38 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:52:28 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-8.tower-201.messagelabs.com!1336657925!6854976!7
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 16398 invoked from network); 10 May 2012 13:52:07 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-8.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 10 May 2012 13:52:07 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 10 May 2012 08:51:22 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 10 May
 2012 08:51:22 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 10 May 2012 08:51:14 -0500
Subject: RE: tomcat pausing and process killed
Thread-Topic: tomcat pausing and process killed
Thread-Index: Ac0urDmebky7As34QXOD3PHMQJBJMgABzVfg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0256645DF@USEA-EXCH8.na.uis.unisys.com>
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com>
 <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com>
 <4FAA869F.3070902@ice-sa.com>
 <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com>
 <4FAAC9E3.3060802@christopherschultz.net> <4FAAEF13.7060508@yahoo.es>
 <4FABAE4E.8070508@ice-sa.com>
 <1336654440.47918.YahooMailNeo@web29606.mail.ird.yahoo.com>
 <1336654508.20034.YahooMailNeo@web29601.mail.ird.yahoo.com>
In-Reply-To: <1336654508.20034.YahooMailNeo@web29601.mail.ird.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Miguel Gonzalez [mailto:miguel_3_gonzalez@yahoo.es]=20
> Subject: Re: tomcat pausing and process killed

> Do you suggest using a rpm (I'm running Centos 5.2)

Definitely not.  If you use a 3rd-party repackaged version of Tomcat, you'l=
l need to get support from that 3rd party, since they often mangle things s=
o badly as to be unrecognizable to standard Tomcat users and developers.

> download Tomcat 7 from Apache?

Get it from tomcat.apache.org - always.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234132-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 13:55:03 2012
Return-Path: <users-return-234132-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EAB6CECD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 13:55:03 +0000 (UTC)
Received: (qmail 496 invoked by uid 500); 10 May 2012 13:55:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 343 invoked by uid 500); 10 May 2012 13:54:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 334 invoked by uid 99); 10 May 2012 13:54:59 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:54:59 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 13:54:59 +0000
Message-ID: <4FABC8AD.5040105@apache.org>
Date: Thu, 10 May 2012 14:54:53 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Maximum number of sessions
References: <zarafa.4fabc663.327f.1995442e32d35b61@zarafix.ordix.de>
In-Reply-To: <zarafa.4fabc663.327f.1995442e32d35b61@zarafix.ordix.de>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit

On 10/05/2012 14:45, Thomas Rohde  wrote:
> Hi!
> 
> Is it possible to configure an upper limit for the number of sessions
> in Tomcat? Thought the Context would be the right place for such a
> configuration parameter, but I couldn't find anything like this.

It is on the Manager, not the Context. You want maxActiveSessions

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234133-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 14:08:46 2012
Return-Path: <users-return-234133-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE2D0CF57
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 14:08:46 +0000 (UTC)
Received: (qmail 45884 invoked by uid 500); 10 May 2012 14:08:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45664 invoked by uid 500); 10 May 2012 14:08:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45649 invoked by uid 99); 10 May 2012 14:08:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:08:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:08:37 +0000
Received: by bkwj10 with SMTP id j10so1734429bkw.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 07:08:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=oZWWvdPcbEQEcSaenkm7MvkKEpkp64/c3cvNXuqB9p8=;
        b=G9aZSK8dmM1rvcoQuaV5kH2SmiNPwu4EsJ3sw95TNQ+JMmq+ZGTH94FYB8Gnn1UURR
         zPI4gyvp2s8hP+siudAKn379FrKfh1Qtr8YLBHGmWRg+ifP3yD4DIAwIT47T0Wq5igSP
         3uweqAr0xu5W+8NoJVFK72ypE8AuQC8Dxs7/Q=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=oZWWvdPcbEQEcSaenkm7MvkKEpkp64/c3cvNXuqB9p8=;
        b=FwpBrK8W/hHyUmFhxzHc8w1jlteOo1lxXH+WegrGpe2RMH7wInQYl2JzruiHkDrQYE
         1/ntHTPWqtXLTbTmiyD8cPjzf7ib6iTtQos52M+YZ4Ke2cx7A1m7d0ayRHQvJH4G8nip
         Mjed5W/c4rHLXz4J/ajQ1rKr6ck7nbr5zVXkEzmspkPXn08RuhrjltP2MEr/NbAyDr/g
         J1vsWjIY7qxzj6v2BYRaCJstbIhjpJbX9jhi23SAt2+1VHngr2KAqlYh63jD9982vZEn
         QRLFfTYaTwrg/zNYC0HN0LLmlo3aGbZupprCIrQYN/T9Mjmp6Yy3upAU2fd1yrvycqNK
         ClIA==
Received: by 10.204.154.80 with SMTP id n16mr2530787bkw.112.1336658895425;
        Thu, 10 May 2012 07:08:15 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id v2sm12311566bkw.16.2012.05.10.07.08.13
        (version=SSLv3 cipher=OTHER);
        Thu, 10 May 2012 07:08:14 -0700 (PDT)
Message-ID: <4FABCBD1.3010409@pidster.com>
Date: Thu, 10 May 2012 15:08:17 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Enabling compression in embedded tomcat 7
References: <4166675371151618652@unknownmsgid>
In-Reply-To: <4166675371151618652@unknownmsgid>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig81CE4C0670E3E387AED9CB8B"
X-Gm-Message-State: ALoCoQkLgs00rVPVLLu7gO4N75OvoK2k7T7Y1bIRvoOrpNAifTAKWlRA2tlNXDFn8/2oPR/iO2q4
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig81CE4C0670E3E387AED9CB8B
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 00:07, Adam Gordon wrote:
> I see XML options for enabling compression but am not seeing how this
> is done programmatically with an embedded tomcat instance.  thanks.

 http://www.catb.org/~esr/faqs/smart-questions.html


p


--=20

[key:62590808]


--------------enig81CE4C0670E3E387AED9CB8B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPq8vRAAoJEGoM2OGpOvr9sIUQAKi9X9SB18dH3abBKm1w+XwR
BrwZrZGl8bzN7wM8vzzODaiOCbP6WpovxjM49LFX/01HZUbcf4A0J97hROF2vqAp
XmDJy8hnC8I8RpOuAPOzCvAkep8V04fD+hcTvxMRB0SrjJfBZKIUiOId8TN8Zi5/
DhamQ318XJdyRi91WMTbxMfyHHmIFT8K0XoTcOJtq2g+jZ64mseyiFROWmSUIujL
6GnOOWrn6zOEXxWSqsqGdeIVJ1qzuR9GOYN9QeL7WQ0E/baL9JKfZcgdarfVm90B
KFMUA1rh1NBkEg9ah80ML5sL5ECguzY0K/jds9whnsL5TNV/DYrlUaeqhrI6HQKe
V6eKjqFd39IMXKpbAHu0CR1ZgJoIVd53g9XqdD4+4L3SoAfaWLzkijp+9p9at4q0
pH2q7XZb/0mnOxhtPjosqIvA+uCpzOjfuk5F8Rq+14JJD9+0xtW9zCK/5dhHm5Sc
ROsbjI5bim+yff0FAcM23d4U/7y7ZreW6akGGW/p0HqPaXP2F8n42d41yNzZ7mMK
XlTFrw9VOM2ZVqRi/0pgNWdBafuXzY+TkJXJfkB5JNMJMbN9cfa8RRcOcjIhcm38
wB5zDX8JR7zVSMGbp+Aye2yPehmuSXFdUOSks+OziaT4/9hCFPc+Dd+JvpJCgNUc
Pis0vzjvHfxItVdr0iaL
=/p5b
-----END PGP SIGNATURE-----

--------------enig81CE4C0670E3E387AED9CB8B--

From users-return-234134-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 14:11:24 2012
Return-Path: <users-return-234134-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BCEFCF62
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 14:11:24 +0000 (UTC)
Received: (qmail 54212 invoked by uid 500); 10 May 2012 14:11:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54141 invoked by uid 500); 10 May 2012 14:11:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54132 invoked by uid 99); 10 May 2012 14:11:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:11:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:11:12 +0000
Received: by bkwj10 with SMTP id j10so1738113bkw.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 07:10:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=HDFe6vuzA0l/c/AqhwckSbLdHG4E31LNksmWdJkxX1I=;
        b=jfeSuDylEMLOok1q7juulWuWiR1iznznDo55dnSrVDT7/jTaqHzqF0/aMj9JwmfxOZ
         B+IiJzzWU9t0Fd5g47ACPD+uHQvsqV2Zi9xO5FLF76yxuXZmPKVgpg6mts39QmfgXTS2
         Ft8SaqKxKX5m/mKKx1kyD5mXCnK+jY1gI0eeA=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=HDFe6vuzA0l/c/AqhwckSbLdHG4E31LNksmWdJkxX1I=;
        b=amxh4z/F9Aw29c+7CF3U8GMQ8jEd+TPXm7/zIUzQ0AmrA0cfoZYNm8hWOfP4lRK+fx
         n6wwxwstC8jqVjGgaZDEFAncPlzMP3DKfYPLBcx7oehPZlfjQOhK3O5O1+p6Sn4tsOUC
         tT0j0htWMcEOtf/3C+oFKH/tBtd9LKF3T/qXOS1P58aeYPlOFKz958sgk1MVCXctH9kv
         LZtTHjWYECsCbK3xJobIpLguZcLObh/ylv0Lq6vhZAgEtCOhUeNeR8KnP4uyh6BvnNFh
         wW+AzTKRjfWFzDhAOOnN+e6wa7JYa25o3RyesSNoquB6X+fuRYHoEXjYuK5+FbM049W0
         khsA==
Received: by 10.204.13.78 with SMTP id b14mr2456922bka.32.1336659052196;
        Thu, 10 May 2012 07:10:52 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id e20sm12339587bkv.10.2012.05.10.07.10.50
        (version=SSLv3 cipher=OTHER);
        Thu, 10 May 2012 07:10:51 -0700 (PDT)
Message-ID: <4FABCC6F.6050001@pidster.com>
Date: Thu, 10 May 2012 15:10:55 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat pausing and process killed
References: <1336572438.67242.YahooMailNeo@web29604.mail.ird.yahoo.com> <1336573518.38831.YahooMailNeo@web29605.mail.ird.yahoo.com> <4FAA869F.3070902@ice-sa.com> <1336577365.48091.YahooMailNeo@web29602.mail.ird.yahoo.com> <4FAAC9E3.3060802@christopherschultz.net> <4FAAEF13.7060508@yahoo.es> <4FABAE4E.8070508@ice-sa.com> <1336654440.47918.YahooMailNeo@web29606.mail.ird.yahoo.com> <1336654508.20034.YahooMailNeo@web29601.mail.ird.yahoo.com>
In-Reply-To: <1336654508.20034.YahooMailNeo@web29601.mail.ird.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig1E99E11133F02A587D4DBDBC"
X-Gm-Message-State: ALoCoQkFngqvjhnLP1jIeEWS+BbgWAx2jHycCI246V5mQ+AOzzNBKitEPo6fcm9ZIEoY2eXaiY+g

--------------enig1E99E11133F02A587D4DBDBC
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 13:55, Miguel Gonzalez wrote:
> I usually prefer to have software packaged because I can get software s=
ecurity updates

I'm not sure that this is a good strategy for Tomcat installations.
Some distro's are very slow about updating their packages.


p


--=20

[key:62590808]


--------------enig1E99E11133F02A587D4DBDBC
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPq8xvAAoJEGoM2OGpOvr9COQP/0vMi5G2LVvEqJkAohnwA5Z9
P3TkpbrRcOvmB6+ViMDduZPEGzprEizzQeIgf/Dui7xI+TZHlfbN0rTjso0gW7W3
k8g64WkshKFxVo4VaN/GFb4bMb9FtghrOPc0kOvSyxqozOE71geoPxF7rkImv9+t
80mectI8g2/pWATMV2m8dJRPUv0VZgvPM3q2MJAQEThvMftzuBo1/tKWRSIcX8S6
wEarBIm80ilbIFhyBtBFWmC0EPuFQOYCw7poMWEPiECEXGZPGcCXWvjroKENiusp
pdFAmuojgn1O/4Q4QZ9a8l8UcznnbuY3FObuHpq0IgbQpNqqZnykJMovdP47CaJ8
HOw316flyj9ntThLzsow+J0F0KD6BXcl4MVRdH9m9D4B0pdqm+8tOQIO/6IRFeO9
1Tl8uJODIgv7D3DB94P5Cs3EgvtODKJYrqNx81t0uLbW+ZlnGk63PbpK/iYrq0vT
BMZnLawdS/8t/nMDcMF1PAlnCodGdFymDJrvjARrvFJ2QkzZcknfJOzKNzaEJIWi
x1p0ldLadye12RsnOnjVLaJLGQqcTDX1ELt6KBcKghDqiTnOK5Mh/HrNdgAbjf2c
rILTJEMKNaPL3J1gzw/istSVaSmWJM/JILw08JLXpPsUpWw1b+6hvUQApEDzVeYM
QD0UMhMf8Hn+kr3YFYXO
=ZxJE
-----END PGP SIGNATURE-----

--------------enig1E99E11133F02A587D4DBDBC--

From users-return-234135-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 14:25:34 2012
Return-Path: <users-return-234135-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD66E9995
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 14:25:34 +0000 (UTC)
Received: (qmail 93342 invoked by uid 500); 10 May 2012 14:25:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93146 invoked by uid 500); 10 May 2012 14:25:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93137 invoked by uid 99); 10 May 2012 14:25:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:25:31 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.218.179.23] (HELO srv.ordix.de) (212.218.179.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:25:23 +0000
Received: from emailix.ordix.de (emailix.ordix.de [192.168.7.99])
	by srv.ordix.de (Postfix) with ESMTP id 2AC657FD
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:25:00 +0200 (CEST)
Received: by emailix.ordix.de (Postfix, from userid 96)
	id 769119655; Thu, 10 May 2012 16:25:03 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on emailix.ordix.de
X-Spam-Level: 
Received: from zarafix.ordix.de (zarafix.ordix.de [192.168.7.165])
	by emailix.ordix.de (Postfix) with SMTP id 2C59F95B6
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:24:58 +0200 (CEST)
Subject: AW: Maximum number of sessions
From: =?windows-1252?Q?Thomas_Rohde_?= <tro@ordix.de>
To: =?windows-1252?Q?users=40tomcat.apache.org?= <users@tomcat.apache.org>
Date: Thu, 10 May 2012 16:24:58 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-Mailer: Zarafa 6.40.15-33766
Message-Id: <zarafa.4fabcfba.153e.1800113852e6e040@zarafix.ordix.de>
X-Old-Spam-Status: No  -102.9 / 4.5  Tests= ALL_TRUSTED | BAYES_00 |
	MIME_QP_LONG_LINE | T_RP_MATCHES_RCVD | USER_IN_WHITELIST

-----Urspr=FCngliche Nachricht-----
Von:=09Mark Thomas <markt@apache.org>
Gesendet:=09Do 10.05.2012 15:55
Betreff:=09Re: Maximum number of sessions
An:=09Tomcat Users List <users@tomcat.apache.org>;=20
> On 10/05/2012 14:45, Thomas Rohde  wrote:
> > Hi!
> >=20
> > Is it possible to configure an upper limit for the number of sessions
> > in Tomcat=3F Thought the Context would be the right place for such a
> > configuration parameter, but I couldn't find anything like this.
>=20
> It is on the Manager, not the Context. You want maxActiveSessions
>=20
> Mark
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
Hi Mark!

Thats what I was looking for, thank you! I should read the documentation more carefully. :-)

Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234136-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 14:39:06 2012
Return-Path: <users-return-234136-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CB079EE5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 14:39:06 +0000 (UTC)
Received: (qmail 36722 invoked by uid 500); 10 May 2012 14:39:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36643 invoked by uid 500); 10 May 2012 14:39:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36629 invoked by uid 99); 10 May 2012 14:39:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:39:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of adam.n.gordon@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qa0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 14:38:56 +0000
Received: by qady23 with SMTP id y23so491701qad.0
        for <users@tomcat.apache.org>; Thu, 10 May 2012 07:38:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=CxF/BuRlUaU/bv2wJ9kE+FQnDHv0v9EoV5JRM4bZ+gQ=;
        b=Z8dyEC8zwX7mjkf4sSSmoMovr7Z3SsaEfKh2jhMUgWQfqoI9bBvSYuLo+3zZHDY5eP
         o8EWyzXazwPfMb8t7XzN2KJjGmWwMJP/aY00x1ab4N16NlcnFwbB9YISUsrWcJQ6PBFe
         28YxdFvlq/any+3u09ZRGXkgXQfr21VzGlZjfE8NbhTCCj5/ukxf+Lr5RrPXs0KfpbDO
         PZ9AfUXPOM+PMjLF2hlsRHgyhwS9lfg5xu/YxGg7SpmERIVAIbRVrFXkREWwt4/8XCDF
         f/ElV0mkUtP2thOOHp/aGXiGl+mPKmTNC/Mh9eJEXG4mpYa0LNZaOIJQuSTndXXUZUJX
         lkHw==
Received: by 10.229.135.3 with SMTP id l3mr2220103qct.45.1336660715132; Thu,
 10 May 2012 07:38:35 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.86.196 with HTTP; Thu, 10 May 2012 07:38:19 -0700 (PDT)
In-Reply-To: <CABzHfVmY+ETDx4SaZ81gcV+MLPcOhWRHqMEDou_yhLSxJ3AsPQ@mail.gmail.com>
References: <4166675371151618652@unknownmsgid> <CABzHfVmY+ETDx4SaZ81gcV+MLPcOhWRHqMEDou_yhLSxJ3AsPQ@mail.gmail.com>
From: Adam Gordon <adam.n.gordon@gmail.com>
Date: Thu, 10 May 2012 08:38:19 -0600
Message-ID: <CAONS=mmMEKqMz-b-hgqYqJhgEVvXU+N2EX_E+t2LP1g0C8p+tg@mail.gmail.com>
Subject: Re: Enabling compression in embedded tomcat 7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00248c7690d21c56b804bfaf93ec

--00248c7690d21c56b804bfaf93ec
Content-Type: text/plain; charset=UTF-8

Perfect.  Thanks.

--adam

http://gordonizer.com



On Thu, May 10, 2012 at 5:16 AM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/10 Adam Gordon <adam.n.gordon@gmail.com>:
> > I see XML options for enabling compression but am not seeing how this
> > is done programmatically with an embedded tomcat instance.  thanks.
> >
>
> Look at Connector.setProperty(name, value).
>
> That method is what should be called by digester that parses the XML file.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00248c7690d21c56b804bfaf93ec--

From users-return-234137-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 15:42:22 2012
Return-Path: <users-return-234137-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22A49C991
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 15:42:22 +0000 (UTC)
Received: (qmail 40346 invoked by uid 500); 10 May 2012 15:42:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40223 invoked by uid 500); 10 May 2012 15:42:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40213 invoked by uid 99); 10 May 2012 15:42:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:42:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,TVD_SUBJ_NUM_OBFU_MINFP
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:42:10 +0000
Received: from mail.homeinbox.net ([2.24.224.170])
	by mwinf5d51 with ME
	id 8Fhn1j0073hCGvW03FhnNi; Thu, 10 May 2012 17:41:48 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id DEC29EAB5B1
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:41:46 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o4Cn16hv2u17 for <users@tomcat.apache.org>;
	Thu, 10 May 2012 16:41:23 +0100 (BST)
Received: from [192.168.23.207] (unknown [2.24.224.170])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id C9EAEEAB5AF
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:41:23 +0100 (BST)
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
User-Agent: K-9 Mail for Android
In-Reply-To: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error processing request
From: Mark Thomas <markt@apache.org>
Date: Thu, 10 May 2012 16:41:22 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Jesse Farinacci <jieryn@gmail.com> wrote:

>Greetings,
>
>I'm running Apache Tomcat 7.0.27 on Linux 2.6.32.x kernel, where
>Tomcat reports at startup:
>
> Loaded APR based Apache Tomcat Native library 1.1.22
>
>and Connector definitions look like:
>
>   <Connector scheme="http" address="a.b.c.d" port="8080"
>     compression="on" enableLookups="false" URIEncoding="UTF-8"/>
>  <Connector scheme="https" address="a.b.c.d" port="8443" secure="true"
>     compression="on" enableLookups="false" URIEncoding="UTF-8"
>     SSLEnabled="true"
>SSLCertificateFile="${catalina.home}/conf/cacert.pem"
>SSLCertificateKeyFile="${catalina.home}/conf/privkey.pem"/>
>
>The web application was deployed via the manager application, and it
>is unpacked into ROOT/ directory. On most every request we're seeing
>delays and then in the log:
>
>10-May-2012 08:13:58.523 SEVERE [AsyncFileHandlerWriter-1685021807]
>org.apache.coyote.http11.AbstractHttp11Processor.process Error
>processing request
> java.lang.IllegalStateException: zip file closed
>       at java.util.jar.JarFile.getMetaInfEntryNames(Native Method)
>    at java.util.jar.JarFile.maybeInstantiateVerifier(JarFile.java:329)
>       at java.util.jar.JarFile.getInputStream(JarFile.java:433)
>at
>org.apache.naming.resources.WARDirContext$WARResource.streamContent(WARDirContext.java:988)
>at
>org.apache.naming.resources.ProxyDirContext.cacheLoad(ProxyDirContext.java:1656)
>at
>org.apache.naming.resources.ProxyDirContext.cacheLookup(ProxyDirContext.java:1536)
>at
>org.apache.naming.resources.ProxyDirContext.lookup(ProxyDirContext.java:297)
>at
>org.apache.tomcat.util.http.mapper.Mapper.internalMapWrapper(Mapper.java:996)
>at
>org.apache.tomcat.util.http.mapper.Mapper.internalMap(Mapper.java:808)
>      at org.apache.tomcat.util.http.mapper.Mapper.map(Mapper.java:671)
>at
>org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:646)
>at
>org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:402)
>at
>org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
>at
>org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
>at
>org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(AprEndpoint.java:1770)
>at
>java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:898)
>at
>java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:920)
>       at java.lang.Thread.run(Thread.java:736)
>
>This has been happening for a while, but it never really caused
>delays. Now users are seeing the delays and so the issue has
>escalated.. Any help is appreciated, let me know if I can provide some
>better data,

I'm not sure the exception above will lead to delays. Then again, I'm not entirely sure why the above is happening yet so I may be wrong. I guess I am warning you that fixing this issue might not fix the delays and you may want to investigate those as a separate issue.

Anyway...

The thing that doesn't make sense yet is that Tomcat is trying to read from a WAR (or possibly a JAR) but the app should be unpacked. With that in mind:
- requests for what resources trigger this problem?
- where is that resource located in the unpacked application?
- are you making use of Servlet 3.0 resource JARs.

What I am trying to get to is a test case I can use to reproduce this.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234138-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 15:43:43 2012
Return-Path: <users-return-234138-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54BCCC996
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 15:43:43 +0000 (UTC)
Received: (qmail 46488 invoked by uid 500); 10 May 2012 15:43:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46336 invoked by uid 500); 10 May 2012 15:43:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46327 invoked by uid 99); 10 May 2012 15:43:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:43:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:43:33 +0000
Received: from mail.homeinbox.net ([2.24.224.170])
	by mwinf5d51 with ME
	id 8FjC1j0053hCGvW03FjCln; Thu, 10 May 2012 17:43:12 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id E592FEAB5AF
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:43:11 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0OVEjOR7v3wp for <users@tomcat.apache.org>;
	Thu, 10 May 2012 16:43:03 +0100 (BST)
Received: from [192.168.23.207] (unknown [2.24.224.170])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 372F5B22001
	for <users@tomcat.apache.org>; Thu, 10 May 2012 16:42:54 +0100 (BST)
References: <zarafa.4fabcfba.153e.1800113852e6e040@zarafix.ordix.de>
User-Agent: K-9 Mail for Android
In-Reply-To: <zarafa.4fabcfba.153e.1800113852e6e040@zarafix.ordix.de>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Maximum number of sessions
From: Mark Thomas <markt@apache.org>
Date: Thu, 10 May 2012 16:42:50 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <81332238-4867-4392-a9bb-44a5835f17d3@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Thomas Rohde  <tro@ordix.de> wrote:

>-----Ursprngliche Nachricht-----
>Von:	Mark Thomas <markt@apache.org>
>Gesendet:	Do 10.05.2012 15:55
>Betreff:	Re: Maximum number of sessions
>An:	Tomcat Users List <users@tomcat.apache.org>; 
>> On 10/05/2012 14:45, Thomas Rohde  wrote:
>> > Hi!
>> > 
>> > Is it possible to configure an upper limit for the number of
>sessions
>> > in Tomcat? Thought the Context would be the right place for such a
>> > configuration parameter, but I couldn't find anything like this.
>> 
>> It is on the Manager, not the Context. You want maxActiveSessions
>> 
>> Mark
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>> 
>> 
>Hi Mark!
>
>Thats what I was looking for, thank you! I should read the
>documentation more carefully. :-)

I must confess I looked at the source first and then tracked back to the documentation. :)

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234139-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 15:58:28 2012
Return-Path: <users-return-234139-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 992BAC9F4
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 15:58:28 +0000 (UTC)
Received: (qmail 99316 invoked by uid 500); 10 May 2012 15:58:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99079 invoked by uid 500); 10 May 2012 15:58:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99069 invoked by uid 99); 10 May 2012 15:58:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:58:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jieryn@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 15:58:17 +0000
Received: by qcsc20 with SMTP id c20so1654387qcs.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 08:57:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pGCq1Wdx1VoE4rprhtDB3zc3Bcih06QU9R5DTjkZeCs=;
        b=NNK0lla9MGfGScZMQNl8TXuD5ch5yWdbwRbfKIil/2Yljv4oXY/Xz5lpaboAl4kb1E
         9oOtu335Afz0A+iz+bl9j81bjXPu3Q8hGa/BRZZpb6gztatvFABaMIVtAr7EEkctZoQx
         4YJZJ7PlL+Dv9sViQiLleDrCITxWatNNTxrxSyhkNuAjEh/onGB8twalHtSZdxXjZARb
         ptG0QsudDfeWZPqSxTp4UqfK8+i/x1Yi9dxoO5EQ3BQC7MvnRrWpzU6HBmrxE0Qbt7tv
         L6WyXrOTgaVxBfjkcxxZSM6ozbdkaCUHqCXAqDYMm9OPyHF4aw7ngN7p0L7UvPIWGldV
         NgJQ==
MIME-Version: 1.0
Received: by 10.220.38.138 with SMTP id b10mr3028360vce.23.1336665476502; Thu,
 10 May 2012 08:57:56 -0700 (PDT)
Received: by 10.220.55.8 with HTTP; Thu, 10 May 2012 08:57:56 -0700 (PDT)
In-Reply-To: <edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com>
Date: Thu, 10 May 2012 11:57:56 -0400
Message-ID: <CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Jesse Farinacci <jieryn@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Greetings,

On Thu, May 10, 2012 at 11:41 AM, Mark Thomas <markt@apache.org> wrote:
> The thing that doesn't make sense yet is that Tomcat is trying to read from a WAR (or possibly a JAR) but the app should be unpacked. With that in mind:
> - requests for what resources trigger this problem?
> - where is that resource located in the unpacked application?
> - are you making use of Servlet 3.0 resource JARs.

Your instinct is quite good. Yes, that is exactly where the error is
happening. I narrowed it down to our WEB-INF/lib/common-favicon.jar
which has (among other automatically generated Maven junk):

META-INF/resources/
META-INF/resources/favicon.ico
META-INF/resources/images/
META-INF/resources/images/favicon.ico

Legacy reasons for the duplicated paths, please ignore this
idiosyncrasy. But, we take HTTP-500 when trying to fetch the
favicon.ico image directly, both paths. The stack trace I reported
before is generated each time.

Given this insight, thank you, I don't think that this is the cause
for delay and I will investigate outside of Apache Tomcat for the root
cause.

-Jesse

-- 
There are 10 types of people in this world, those
that can read binary and those that can not.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234140-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 18:36:26 2012
Return-Path: <users-return-234140-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F7A191BB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 18:36:26 +0000 (UTC)
Received: (qmail 3011 invoked by uid 500); 10 May 2012 18:36:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2961 invoked by uid 500); 10 May 2012 18:36:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2951 invoked by uid 99); 10 May 2012 18:36:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 18:36:22 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 18:36:12 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-45.messagelabs.com!1336674950!29954044!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 6466 invoked from network); 10 May 2012 18:35:50 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-4.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 10 May 2012 18:35:50 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 10 May 2012 13:35:50 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 10 May
 2012 13:35:50 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 10 May 2012 13:35:47 -0500
Subject: RE: tomcat6 lookup for remote EJB on glassfish
Thread-Topic: tomcat6 lookup for remote EJB on glassfish
Thread-Index: Ac0uedhVfGj2zaRjQLCrlevT0avmugAYX+SQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB025664E0E@USEA-EXCH8.na.uis.unisys.com>
References: <4FAA26E8.3030104@arnes.si> <-8390559153918798360@unknownmsgid>
 <4FAB6638.9010305@arnes.si>
In-Reply-To: <4FAB6638.9010305@arnes.si>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: tomaz [mailto:tomaz.majerhold@arnes.si]=20
> Subject: Re: tomcat6 lookup for remote EJB on glassfish

> Yes it is true, but if you put some jar's in tomcat/lib it could work,=20
> so what I did is tu put this jars in a tomcat lib:

> javax.ejb.jar
> ejb-container.jar
> deployment-common.jar
> dol.jar
> glassfish-corba-csiv2-idl.jar
> glassfish-corba-codegen.jar
> ssl-impl.jar
> security.jar
> ejb.security.jar
> management-api.jar
> gmbal-api-only.jar
> gmbal.jar
> glassfish-corba-asm.jar
> glassfish-corba-newtimer.jar
> glassfish-corba-orbgeneric.jar
> bean-validator.jar
> config-types.jar
> kernel.jar
> config.jar
> config-api.jar
> glassfish-corba-omgapi.jar
> glassfish-corba-orb.jar
> orb-connector.jar
> orb-enabler.jar
> orb-iiop.jar
> glassfish-api.jar
> auto-depends.jar
> hk2-core.jar
> internal-api.jar
> common-util.jar
> glassfish-corba-internal-api.jar
> glassfish-naming.jar

This is a use of the word "some" with which I am not familiar...

(Apologies to the late Mr Adams.)

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234141-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 18:37:39 2012
Return-Path: <users-return-234141-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7CD991CF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 18:37:39 +0000 (UTC)
Received: (qmail 13072 invoked by uid 500); 10 May 2012 18:37:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12991 invoked by uid 500); 10 May 2012 18:37:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12982 invoked by uid 99); 10 May 2012 18:37:36 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 18:37:36 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 18:37:36 +0000
Message-ID: <4FAC0AE9.5040801@apache.org>
Date: Thu, 10 May 2012 19:37:29 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com> <edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com> <CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
In-Reply-To: <CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 10/05/2012 16:57, Jesse Farinacci wrote:
> Greetings,
> 
> On Thu, May 10, 2012 at 11:41 AM, Mark Thomas <markt@apache.org> wrote:
>> The thing that doesn't make sense yet is that Tomcat is trying to read from a WAR (or possibly a JAR) but the app should be unpacked. With that in mind:
>> - requests for what resources trigger this problem?
>> - where is that resource located in the unpacked application?
>> - are you making use of Servlet 3.0 resource JARs.
> 
> Your instinct is quite good. Yes, that is exactly where the error is
> happening. I narrowed it down to our WEB-INF/lib/common-favicon.jar
> which has (among other automatically generated Maven junk):
> 
> META-INF/resources/
> META-INF/resources/favicon.ico
> META-INF/resources/images/
> META-INF/resources/images/favicon.ico
> 
> Legacy reasons for the duplicated paths, please ignore this
> idiosyncrasy. But, we take HTTP-500 when trying to fetch the
> favicon.ico image directly, both paths. The stack trace I reported
> before is generated each time.
> 
> Given this insight, thank you, I don't think that this is the cause
> for delay and I will investigate outside of Apache Tomcat for the root
> cause.

I've had a good look at the code and I can't see anything that jumps out
as the cause of this. Does this happen as soon as Tomcat starts, after a
while, after a reload, after something else?

Cheers,

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234142-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 19:07:19 2012
Return-Path: <users-return-234142-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29E9992CD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 19:07:19 +0000 (UTC)
Received: (qmail 11654 invoked by uid 500); 10 May 2012 19:07:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11554 invoked by uid 500); 10 May 2012 19:07:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11425 invoked by uid 99); 10 May 2012 19:07:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:07:14 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:07:05 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SSYhB-00028z-VH
	for users@tomcat.apache.org; Thu, 10 May 2012 21:06:38 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 21:06:37 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 21:06:37 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Connection timeout
Date: Thu, 10 May 2012 19:06:26 +0000 (UTC)
Lines: 23
Message-ID: <loom.20120510T210343-150@post.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)

I have a commercial app running Tomcat 6.  I don't really know anything
about Tomcat, so I need some help with performance tuning.

What happens is that a small percentage of connections from our client
machines just timeout on the connect.  I assume I'm running into some
limitation in Tomcat.

Here's what I put in my server.xml:

 <Connector port="8080" protocol="HTTP/1.1" 
               connectionTimeout="3000" 
               connectionLinger="-1"
               acceptCount="500"
               maxKeepAliveRequests="1"
               enableLookups="false"
               redirectPort="8443" />

The machine in question is an Amazon "Extra Large" instance, so it
should be plenty beefy.

Do those settings look good?  Is there any other place I can tune the
system to have it accept more simultaneous clients, or have a deeper
wait queue?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234143-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 19:19:55 2012
Return-Path: <users-return-234143-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA0149340
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 19:19:55 +0000 (UTC)
Received: (qmail 51129 invoked by uid 500); 10 May 2012 19:19:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51057 invoked by uid 500); 10 May 2012 19:19:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51047 invoked by uid 99); 10 May 2012 19:19:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:19:52 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:19:45 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id 8A7n1j0041ap0As51KKRq4; Thu, 10 May 2012 19:19:25 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id 8KKQ1j00l38FjT13iKKQgz; Thu, 10 May 2012 19:19:25 +0000
Message-ID: <4FAC14BB.9050804@christopherschultz.net>
Date: Thu, 10 May 2012 15:19:23 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat6 & ProgrammaticLogin
References: <4FAA674F.4020305@arnes.si> <6224087957833948687@unknownmsgid> <4FAB65D4.7040507@arnes.si>
In-Reply-To: <4FAB65D4.7040507@arnes.si>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tomaz,

On 5/10/12 2:53 AM, tomaz wrote:
> Dne 9.5.2012 15:46, pie Pid *:
>> On 9 May 2012, at 13:47, tomaz <tomaz.majerhold@arnes.si> wrote:
>> 
>>> ProgrammaticLogin
>> 
>> Is it a library or framework? I've never heard of it.
> 
> As I know it is a library, so the class 
> com.sun.appserv.security.ProgrammaticLogin is part of <dependency> 
> <groupId>org.glassfish.security</groupId> 
> <artifactId>security</artifactId> <version>3.1</version> 
> </dependency>

Is GlassFish Security something you can use outside of GlassFish?

It sounds from this and your other similar thread that you should
probably just be using GlassFish instead of Tomcat.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+sFLsACgkQ9CaO5/Lv0PACugCbBXgRknAE554fx/yT0pa3RfXA
C/wAoKjfc9KU2xV5ZSGSldjOGLNKgBXg
=V578
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234144-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 19:21:14 2012
Return-Path: <users-return-234144-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 407009341
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 19:21:14 +0000 (UTC)
Received: (qmail 55634 invoked by uid 500); 10 May 2012 19:21:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55569 invoked by uid 500); 10 May 2012 19:21:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55560 invoked by uid 99); 10 May 2012 19:21:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:21:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:21:05 +0000
Received: by ggnp1 with SMTP id p1so1624412ggn.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 12:20:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=DTswyzBYUTV3TyKYttf8HZfd06VIV+gXqM7QL05FU/0=;
        b=HjpNj+QLLKzvzfWaiu2OeDKAvtc9VdSHKeTxXMV3XbuB8+jQdUGdObHuQiEWtThyyg
         fVKuVEsfh0rCXw7SKT7SLJAYJaKwe39mcnfDmaUffVWk4l+kOKB0QWmSoMbWfrFZewow
         rmtfnVqyqlghemeqygdUG2vPf9aFloc5G4hcV4/lPgDS/a/dZqQ2BSaWHbLLQpLuADdn
         8ctVsSnDpACzghqY96ybb2dCqK7omSW/urgtw+OyzGHFvGITEPsBiYTt8xYUDh7VEvnL
         cRoXaExWVcw0C64k8UgElDOnSwC9sGC18AcJxtgzS8JxGl5HODcr+b1h1Y8gua7GGLoU
         nAVA==
Received: by 10.60.8.97 with SMTP id q1mr7716087oea.29.1336677639476; Thu, 10
 May 2012 12:20:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.113.241 with HTTP; Thu, 10 May 2012 12:20:19 -0700 (PDT)
In-Reply-To: <4FAB6638.9010305@arnes.si>
References: <4FAA26E8.3030104@arnes.si> <-8390559153918798360@unknownmsgid> <4FAB6638.9010305@arnes.si>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Thu, 10 May 2012 21:20:19 +0200
Message-ID: <CABOBwRj3+g3CoLbUfUtV7XhziGa-8LkPayXga8UaBeiGPLx4mg@mail.gmail.com>
Subject: Re: tomcat6 lookup for remote EJB on glassfish
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

2012/5/10 tomaz <tomaz.majerhold@arnes.si>:
> Dne 9.5.2012 15:48, pi=C5=A1e Pid *:
>> On 9 May 2012, at 09:12, tomaz <tomaz.majerhold@arnes.si> wrote:
>>
>>> I'm struggling to get remote EJB from lookup, but with no success, is i=
t posible to this in Apache Tomcat/6.0.18?
>>>


I'm interested about how you solve this issue . If you find the
solution, please, post it

Thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234145-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 19:25:52 2012
Return-Path: <users-return-234145-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1AB6C0DF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 19:25:52 +0000 (UTC)
Received: (qmail 77483 invoked by uid 500); 10 May 2012 19:25:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77413 invoked by uid 500); 10 May 2012 19:25:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77404 invoked by uid 99); 10 May 2012 19:25:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:25:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 19:25:41 +0000
Received: by eekc4 with SMTP id c4so1052307eek.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 12:25:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=Gs4Kc5T78le2ZiF+4wfBmh+aqnnp3pIzkStoOPwZEu0=;
        b=p8pjAB9gWsOXNgKP0dU7yVUZoG3iDf+/6O+V3lCJK0fgS52oQdUTgqgwdEG5aKvEpd
         t7zHaKV985IeUXED7DnncZYzuymRhpcVeg2sO9+MduCTKvkY6x6kXReV2ehqc33GUnuf
         bLgtKEfsJlrKqUiWCykikzp8DUd/scR/SZ/58=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=Gs4Kc5T78le2ZiF+4wfBmh+aqnnp3pIzkStoOPwZEu0=;
        b=TzzLMcTgUAwK61YLERJcgoVWVD6hmIPRx/W9cl6ejbsHHpTnEHoS3StOvWLpnaPxkA
         HxZb5A/iVD0ZoxTqE9sV3zqMpwoSxCT63QALTO/uyEzfhiCKWocdEgsfjAf5z1m1rMSm
         LrHqD0eT0jz8gtP1vRSFsa1gAp6hOCQnDqZaHVAtMqgX0JoiSrk8Z0YqaLkOMhSgO2Nw
         MvGd1Ui/TRq76+3OVLz9lwEkVijJ7rIM/nDuSiFEvbVHHkSB59DVk549yRL9JwAYzfdM
         m/p9E+ZJDMYrYg78iLu/ltl8BtlFr/iKRvxUs+8WegFECCQ8Y848FqJMcV9HzT0R16on
         lumA==
Received: by 10.14.198.8 with SMTP id u8mr193730een.58.1336677920844;
        Thu, 10 May 2012 12:25:20 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id y53sm33409832eea.3.2012.05.10.12.25.18
        (version=SSLv3 cipher=OTHER);
        Thu, 10 May 2012 12:25:19 -0700 (PDT)
Message-ID: <4FAC1622.4000900@pidster.com>
Date: Thu, 10 May 2012 20:25:22 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Connection timeout
References: <loom.20120510T210343-150@post.gmane.org>
In-Reply-To: <loom.20120510T210343-150@post.gmane.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig0E34AEDC3D9ACD1A80325CBA"
X-Gm-Message-State: ALoCoQk2R+t1ZFKB2U2vTtB0O7TNAiWQWc4N6rtFoYSS7IFmF2+L1VvH4apHU/2u1yGWGA8/Qzwf

--------------enig0E34AEDC3D9ACD1A80325CBA
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 20:06, Jon Drukman wrote:
> I have a commercial app running Tomcat 6.  I don't really know anything=

> about Tomcat, so I need some help with performance tuning.
>=20
> What happens is that a small percentage of connections from our client
> machines just timeout on the connect.  I assume I'm running into some
> limitation in Tomcat.
>=20
> Here's what I put in my server.xml:
>=20
>  <Connector port=3D"8080" protocol=3D"HTTP/1.1"=20
>                connectionTimeout=3D"3000"=20
>                connectionLinger=3D"-1"
>                acceptCount=3D"500"
>                maxKeepAliveRequests=3D"1"
>                enableLookups=3D"false"
>                redirectPort=3D"8443" />

You're using the BIO connector with the default maxThreads of 200.

 http://tomcat.apache.org/tomcat-6.0-doc/config/http.html


> The machine in question is an Amazon "Extra Large" instance, so it
> should be plenty beefy.
>=20
> Do those settings look good?

Not really.  Did you change the connectionTimeout downwards from the
default 60 secs to 3 secs?


> Is there any other place I can tune the system to have it accept more=20
> simultaneous clients, or have a deeper wait queue?

Do you really want to queue up requests, rather than just accepting them
and assigning them to threads?

You've increased the acceptCount from 100 to 500, whereas it would
probably just be better to revert that change and increase maxThreads
from 200 to 400* - if you've got the resources to spare.

There should be entries in the log files stating that Tomcat has reached
maxThreads if that's really an issue.

You can also use the NIO connector if you want more more concurrency.


p


* 400 is a guess - I've got no idea how many clients you have.





> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig0E34AEDC3D9ACD1A80325CBA
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPrBYkAAoJEGoM2OGpOvr94ZgP/j0kt9p9zE67cCji2Zqbutzj
JYuuiss5ey8delQpVE9Sf/NOX0szBWJqvAfuitEeZtKYIBVpcVrMb9DZ7v1uTV7i
3+Id8POJK2Mbu1mti+xN8OG68+9VbREjr4RpgPbTdevoZFvXRHVkXiBmtjZ84C2F
yv5ZeaIAmeqLoqeNtCsBDHVh7LtFmsj9dKFKyaKO6AIZSAzRfvpLY9taG93XCYSd
skRKaeWDqySfwg/c96A0dNX194hQ2Ee/giecpbXEiCLU4K53VclWLbkfAeBraegt
pmXwZs75IeX2ncXjADyq6gSNo/oUHZZuBeb0/ESpTzGXTeFGlBNkOpxdUL6hUh2x
B/1nZztOqGAGQHq6rCt28jR8an6cBzs+EwNYtfdMXElGvyo7XylgPN9jhRKMDPEa
ojU84W/pdp9Jdz8dUOQ+roTcAko3e7gnw99h/8DZO2onOGQiT20BQ2krAUsepgyi
8/eIRy9t8ZQoucJB9NMCgBkYMglkkGNvN3jzChawfEohWqhedHztscLU8JkMOaLw
b7eTEDsSAxqbRabenWKP8gjkRzwo0rsFEq/PkwiLbICbLmPYuQAAnA1bTpKg3W/N
OyJRa2QN6SsxahquXRr4KrY/4O8fLjWb/d0D23ZE3E8aGwgndUohefZRYg3Z0O5u
nCc646S8UXuZwipjUAs1
=G9bv
-----END PGP SIGNATURE-----

--------------enig0E34AEDC3D9ACD1A80325CBA--

From users-return-234146-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:07:03 2012
Return-Path: <users-return-234146-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 12BB1CFFA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:07:03 +0000 (UTC)
Received: (qmail 97598 invoked by uid 500); 10 May 2012 20:06:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97466 invoked by uid 500); 10 May 2012 20:06:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97455 invoked by uid 99); 10 May 2012 20:06:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:06:59 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:06:51 +0000
Received: from [192.168.1.8] (208-191-157-48.lightspeed.austtx.sbcglobal.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id 746CF2017C
	for <users@tomcat.apache.org>; Thu, 10 May 2012 15:06:30 -0500 (CDT)
Message-ID: <4FAC1FFC.2060908@tmbsw.com>
Date: Thu, 10 May 2012 15:07:24 -0500
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.4) Gecko/20100608 Thunderbird/3.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net>
In-Reply-To: <4FAAC4A6.5010001@christopherschultz.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

  On 1:59 PM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Andy,
>
> On 5/8/12 6:41 PM, Andy Wang wrote:
>> Initial benchmarks seem to show that the behavior between tomcats
>> is not an issue.
> Do you mean that Tomcat performance appears to be the same regardless
> of version? That's both good and bad... I thought there were some
> performance improvements to the connectors from 5.5->  6.0. Maybe that
> was 4.x->5.5.
>
>> Tomcat7 is using JDK 1.7 and this is interesting.  The benchmarks
>> with tomcat7+jdk1.7 vary widely across the board (both through ajp
>> and direct http to tomcat) from 30s-40sMB/s. Java 1.6 seems alot
>> more consistent.  Not sure why yet.
> That is interesting. On the other hand, the server /is/ on a virtual
> machine, and you never know what other processes are stealing focus.
> Many VMs are notorious for bad IO throughput (I'm looking at you, OpenVZ).
>
>> I've also moved off the crappy Windows XP VM I was provided to a
>> more recent Windows 2008 VM as well as a fresh Windows XP SP3 VM.
>> In past experience it seems windows XP and windows 2003 were the
>> worst of the bunch with the ajp downloads dropping as low as
>> 4-5MB/s over time.
> Have you tried bare hardware?


How much control do you have over the VM server?  Seems to me that 
resources/performance could be not only affected by other VMs but also 
intentionally throttled.

-Terence Bandoian


>> I'm going to run a barrage of tests and provide the numbers.  Do
>> you think ab -n 5 and allowing ab to average the values of 5 hits
>> for the ~440MB iso is a sound average?
> Some tips for this kind of testing:
>
> 1. Don't run ab on localhost: all the numbers will be worthless
> 2. Run ab with a range of concurrencies, including c=1
> 3. Make /lots/ of requests. IMO, 5 requests is really a pinhole
> analysis. I would make as many requests as you can over 10 minutes and
> see what the throughput ends up being.
>
>> I'll compare Windows XP performance and Windows 2008 performance
>> and after that I'll do the same on a Linux VM to get a better
>> comparison.
> It will be good to see.
>
> If you want some really crappy scripts to get you going, feel free to
> start with mine from a while back (look in the "scripts" subdir):
> http://people.apache.org/~schultz/ApacheCon%20NA%202010/
>
> Those scripts can run a ... lot of ab tests with lots of different
> concurrencies against a series of URLs -- that allows you to set up
> everything with, say, a different path or port number to get the
> various setups (bare httpd, httpd+mod_jk, httpd+mod_proxy, etc.) and
> then let it run all night. It will also produce some tables for you
> that can then easily be graphed.
>
>> I also did bump up the ajpPacket size to 64K with no noticeable
>> change to the benchmark numbers.  So while 8k seems crappy it
>> doesn't seem to be an issue.  Given that apache and tomcat are both
>> local I wouldn't expect that to be a big problem with 8k chunks
>> given the near non-existent latency of local connections.
> It's good to know that the packet size didn't affect performance, but
> I agree that localhost communication is always magically-fast no mater
> what.
>
>> I plan on doing both local ab requests as well as remote.  The
>> problem with remote is that our network is busy, so it may account
>> for some variations but I don't think I can get our IT to segment
>> me anything for this purpose :(.
> Just get a crossover cable and use static IP addresses.
>
>> I'm not so concerned about a 25% hit.  I'm really more concerned
>> with the drop to 4-5MB/s over time that seems to happen.
> Does this happen locally or only remotely? I wonder if you're hitting
> some kind of traffic-shaping or QOS rules on your own internal network.
>
> - -chris

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234147-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:16:50 2012
Return-Path: <users-return-234147-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E18AB908A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:16:49 +0000 (UTC)
Received: (qmail 27825 invoked by uid 500); 10 May 2012 20:16:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27761 invoked by uid 500); 10 May 2012 20:16:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27751 invoked by uid 99); 10 May 2012 20:16:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:16:46 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:16:40 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SSZmc-00056R-Fm
	for users@tomcat.apache.org; Thu, 10 May 2012 22:16:18 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 22:16:18 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 22:16:18 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Re: Connection timeout
Date: Thu, 10 May 2012 20:16:09 +0000 (UTC)
Lines: 38
Message-ID: <loom.20120510T221203-676@post.gmane.org>
References: <loom.20120510T210343-150@post.gmane.org> <4FAC1622.4000900@pidster.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Pid <pid <at> pidster.com> writes:

> Not really.  Did you change the connectionTimeout downwards from the
> default 60 secs to 3 secs?

Yes.  Although the original version of the file was 20 seconds.

The clients (which I wrote) all have a 3 second connect timeout, so it seemed
to make sense to make the server work the same way.  Is that not right?

> > Is there any other place I can tune the system to have it accept more 
> > simultaneous clients, or have a deeper wait queue?
> 
> Do you really want to queue up requests, rather than just accepting them
> and assigning them to threads?

Well, I assume at some point I may run out of threads.

 > You've increased the acceptCount from 100 to 500, whereas it would
> probably just be better to revert that change and increase maxThreads
> from 200 to 400* - if you've got the resources to spare.
> 
> There should be entries in the log files stating that Tomcat has reached
> maxThreads if that's really an issue.

There are no entries in the log files that would indicate that is the case, yet
something is causing the timeout.

> You can also use the NIO connector if you want more more concurrency.

Explain please, or link?

> * 400 is a guess - I've got no idea how many clients you have.

Could be up to a few thousand.  This is a pretty massive box so it should
be able to handle it.  The app itself is fairly lightweight.

-jsd-


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234148-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:18:09 2012
Return-Path: <users-return-234148-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8BC69098
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:18:09 +0000 (UTC)
Received: (qmail 34543 invoked by uid 500); 10 May 2012 20:18:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34371 invoked by uid 500); 10 May 2012 20:18:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34362 invoked by uid 99); 10 May 2012 20:18:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:18:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jieryn@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:18:00 +0000
Received: by obbwd20 with SMTP id wd20so3075904obb.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 13:17:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RAYIHMMUrQyZbceaZXD2z5J4iqZ9K307n/8ptPnnEkw=;
        b=GdoWTqLjrHnpzQ5xm8XAXE3i4i02AjCwEU7pS0JSuSX0b6Dv46tsQkSOh8CUgWDk4s
         XQUJ3nl+szEbLcgJ9cFzSCIEH66/Zz+FrqVY/LbF4lgZauO48f2B34V0EJfUvhIFKhLq
         GIAeBE6Hl5EqTKX3GPAwONRVJJspCMa+rNJ5ZFOcOTZawkrjHoEvsUrZNUsUka6qgNxG
         TDvy8j1TzNTLlzuaBLgAOrc4HClJVUIQ75FIbFjBFXMNirGRa5Q0w2tHFZZIu8YViCJV
         Jz3trRujKUtvopAXQfe7ewzAXm7ipPO5oBEfi/q8D4A/cL+ElgoWBLj76mYTRFlajQoh
         eN/g==
MIME-Version: 1.0
Received: by 10.182.31.102 with SMTP id z6mr7725679obh.78.1336681059626; Thu,
 10 May 2012 13:17:39 -0700 (PDT)
Received: by 10.60.142.69 with HTTP; Thu, 10 May 2012 13:17:39 -0700 (PDT)
In-Reply-To: <4FAC0AE9.5040801@apache.org>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com>
	<CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
	<4FAC0AE9.5040801@apache.org>
Date: Thu, 10 May 2012 16:17:39 -0400
Message-ID: <CAArU9iZzpz_4KrguVWcOCqooq=e8LALV747AqL4pCTtFMpxaHg@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Jesse Farinacci <jieryn@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Greetings,

On Thu, May 10, 2012 at 2:37 PM, Mark Thomas <markt@apache.org> wrote:
> I've had a good look at the code and I can't see anything that jumps out
> as the cause of this. Does this happen as soon as Tomcat starts, after a
> while, after a reload, after something else?

It happens when the browser makes a request for the favicon.ico. That
resource is contained inside
WEB-INF/lib/common-favicon.jar!/META-INF/resources/favicon.ico file.
When the resource is requested, Apache Tomcat puts that stack trace
into the log and returns a HTTP-500 return code to the browser.

-Jesse

-- 
There are 10 types of people in this world, those
that can read binary and those that can not.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234149-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:31:04 2012
Return-Path: <users-return-234149-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8C40CC84
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:31:04 +0000 (UTC)
Received: (qmail 75333 invoked by uid 500); 10 May 2012 20:31:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75286 invoked by uid 500); 10 May 2012 20:31:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75276 invoked by uid 99); 10 May 2012 20:31:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:31:01 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:30:50 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-15.tower-37.messagelabs.com!1336681813!25030972!4
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 16720 invoked from network); 10 May 2012 20:30:26 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-15.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 10 May 2012 20:30:26 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 10 May 2012 15:30:15 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 10 May
 2012 15:30:15 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 10 May 2012 15:30:12 -0500
Subject: RE: Connection timeout
Thread-Topic: Connection timeout
Thread-Index: Ac0u6dxme2QVh5MxRdqCP+2sXwZv7QAAXNow
Message-ID: <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com>
References: <loom.20120510T210343-150@post.gmane.org>
 <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org>
In-Reply-To: <loom.20120510T221203-676@post.gmane.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Jon Drukman [mailto:jsd@cluttered.com]=20
> Subject: Re: Connection timeout

> > Do you really want to queue up requests, rather than just accepting the=
m
> > and assigning them to threads?

> Well, I assume at some point I may run out of threads.

> > * 400 is a guess - I've got no idea how many clients you have.

> Could be up to a few thousand.  This is a pretty massive box so it should
> be able to handle it.  The app itself is fairly lightweight.

You keep contradicting yourself: is it a massive box, or can it only suppor=
t a miniscule number of threads?  Pick one.

> > You can also use the NIO connector if you want more more concurrency.

> Explain please, or link?

http://tomcat.apache.org/tomcat-6.0-doc/config/http.html

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234150-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:34:54 2012
Return-Path: <users-return-234150-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A770FCC9F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:34:54 +0000 (UTC)
Received: (qmail 92512 invoked by uid 500); 10 May 2012 20:34:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92443 invoked by uid 500); 10 May 2012 20:34:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92431 invoked by uid 99); 10 May 2012 20:34:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:34:51 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:34:44 +0000
Received: by wibhm14 with SMTP id hm14so538253wib.0
        for <users@tomcat.apache.org>; Thu, 10 May 2012 13:34:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=f8ZSGUE+AzlTht1VxfOCv/p34VRrVOKKTZOpyPVyQMc=;
        b=o84OOV0uPt7vGkN2Fasknx9zOnmabQBGz25RJD5Xo+2k3F4ykygmchfWlMnEzCjHDp
         5AkRCu6yBigTxtsaTKwQH2wKg4zZ495OSA1GoYx4zwY3L0S3xM5S/YWGQI5Jfntx47ef
         l1odhWYECh8r48c/ns1j4a2BJkKECH50vsIH1qCWgvYFWW82Z3R+EpjpLBA0QVWZoLk/
         1/5tBASmoHYHAgyfeXH1ayapd5h2Y9hjlXjXf5BEpxYhB5+MDyUmLARhj1lvdA0NAwTK
         fMyo2GgqHVtzSAG8iXFiRPjvJbG1Sjpz8Zdycn3mH5esMVAbrRbXFqGZfjeG8AnRVJx0
         VumQ==
Received: by 10.180.102.3 with SMTP id fk3mr919021wib.9.1336682061359; Thu, 10
 May 2012 13:34:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.47.8 with HTTP; Thu, 10 May 2012 13:33:51 -0700 (PDT)
X-Originating-IP: [186.86.183.43]
From: =?ISO-8859-1?Q?Reissner_Pab=F3n?= <reispab@bucalinux.com>
Date: Thu, 10 May 2012 15:33:51 -0500
Message-ID: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
Subject: how can i conect apache toncat 7 to oracle 10 g or oracle 11 g an adobe
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d0445180771e94804bfb48b46
X-Gm-Message-State: ALoCoQlM6YCwsLF0jj7h21RtRT7bq+w5RUYoBsItvIGAmsD9/FIw0LrKsz8nezQNEHSe9GWMOcQa

--f46d0445180771e94804bfb48b46
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

how can i conect apache toncat 7 to oracle 10 g or oracle 11 g

--=20
*Reissner Pab=F3n Castro*
*MCSE MCP*
*LINUX ADMIN*
*C E O Bucalinux*
www.bucalinux.com
reispab@bucalinux.com

--f46d0445180771e94804bfb48b46--

From users-return-234151-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:41:16 2012
Return-Path: <users-return-234151-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 62B38CCCA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:41:16 +0000 (UTC)
Received: (qmail 14082 invoked by uid 500); 10 May 2012 20:41:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14010 invoked by uid 500); 10 May 2012 20:41:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13996 invoked by uid 99); 10 May 2012 20:41:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:41:12 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:41:04 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SSaAD-0000WO-4j
	for users@tomcat.apache.org; Thu, 10 May 2012 22:40:41 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 22:40:41 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 22:40:41 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Re: Connection timeout
Date: Thu, 10 May 2012 20:40:31 +0000 (UTC)
Lines: 23
Message-ID: <loom.20120510T223547-300@post.gmane.org>
References: <loom.20120510T210343-150@post.gmane.org> <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)

Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:

> You keep contradicting yourself: is it a massive box, or can it 
> only support a miniscule number of threads? 
> Pick one.

Where did I say it could only support a miniscule number of threads?
I'm sorry if I accidentally gave that impression.

It's a massive box.  We are expecting massive traffic today.  I believe
the box can
handle it.  I assume the out-of-the-box Tomcat configuration is conservative
(please correct me if I'm wrong).

> > > You can also use the NIO connector if you want more more concurrency.
> 
> > Explain please, or link?
> 
> http://tomcat.apache.org/tomcat-6.0-doc/config/http.html

Explain to someone who has no idea what that page is saying :)

-jsd-


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234152-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:55:58 2012
Return-Path: <users-return-234152-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 11A0FCD1A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:55:58 +0000 (UTC)
Received: (qmail 52048 invoked by uid 500); 10 May 2012 20:55:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51959 invoked by uid 500); 10 May 2012 20:55:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51937 invoked by uid 99); 10 May 2012 20:55:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:55:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.171 as permitted sender)
Received: from [209.85.212.171] (HELO mail-wi0-f171.google.com) (209.85.212.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:55:49 +0000
Received: by wibhm14 with SMTP id hm14so524506wib.0
        for <users@tomcat.apache.org>; Thu, 10 May 2012 13:55:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=q2LdAeQw1+zUvDqiHG1RdaKZOpdijoi2jtkcPOUI7B0=;
        b=hyNiKhzgS+XWjDHXzmePsJ4RMCLeRpkdzx4mbuwofA7O4B8sBc9ZoFwsfzHEsUmFpJ
         1eunqoZa6pCCEiNEQwlFnfynTLTcJ9ygeO3tq4XUiSllfMuItJqgcu2ioPFS2Cz4yZqx
         J0YEDarJryl4RdrLrdD2Y9fEKu9jx0KfLUqwo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=q2LdAeQw1+zUvDqiHG1RdaKZOpdijoi2jtkcPOUI7B0=;
        b=VgrzzqxB9DRfIVffLhK1gyr+aFACxMjzi7bLZW9M1q/jYaM4IRZN3hBnkwL0k+eMOl
         ngh1VqCjGHxckWuuOM6qQoh8ddZQttuAuN0kEtkgSmlZhhOCeaARa/ryVllRt3jw9wZA
         PGwVLMZsAtLBkZGr4t79lYvr2AZv2sz6a/3hkiy1duc9w/MSoo8mPpDEtRiivuWJfGQo
         5n3X6G6Xd5fvlu8w6qoeNHzUZo2h2PswuUzMwAUP0aCp4do8RR7vzyTLJ32xR/1gaBsL
         okZ3QtdE1TuDlOfPcuvNwAv7Ah1UTOxdZSqXcwMeM7q9coeBpcUFrfic1sUjKYPSC0Ii
         wXjw==
Received: by 10.180.81.37 with SMTP id w5mr1009987wix.16.1336683326483;
        Thu, 10 May 2012 13:55:26 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id ff9sm5489310wib.2.2012.05.10.13.55.24
        (version=SSLv3 cipher=OTHER);
        Thu, 10 May 2012 13:55:25 -0700 (PDT)
Message-ID: <4FAC2B3F.4050405@pidster.com>
Date: Thu, 10 May 2012 21:55:27 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Connection timeout
References: <loom.20120510T210343-150@post.gmane.org> <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com> <loom.20120510T223547-300@post.gmane.org>
In-Reply-To: <loom.20120510T223547-300@post.gmane.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigF50BA0E4E22FAF454CC98991"
X-Gm-Message-State: ALoCoQldabw0s3jDEOROzkrjucymyDsxRN095U0RGaX/hdlDcm7OYvlaC2QH8neUH3TpJzqIptHc
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigF50BA0E4E22FAF454CC98991
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 21:40, Jon Drukman wrote:
> Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:
>=20
>> You keep contradicting yourself: is it a massive box, or can it=20
>> only support a miniscule number of threads?=20
>> Pick one.
>=20
> Where did I say it could only support a miniscule number of threads?
> I'm sorry if I accidentally gave that impression.
>=20
> It's a massive box.  We are expecting massive traffic today.  I believe=

> the box can
> handle it.  I assume the out-of-the-box Tomcat configuration is conserv=
ative
> (please correct me if I'm wrong).

The basic point we're making is that you are twiddling the wrong knobs.

If you want to handle more connections, increase the size of the thread
pool that handles requests, don't increase the size of the queue of
requests waiting to be handled.

You might also consider implementing the Executor, if you're going to
have a lot of threads.

 http://tomcat.apache.org/tomcat-6.0-doc/config/executor.html


>>>> You can also use the NIO connector if you want more more concurrency=
=2E
>>
>>> Explain please, or link?
>>
>> http://tomcat.apache.org/tomcat-6.0-doc/config/http.html
>=20
> Explain to someone who has no idea what that page is saying :)

There are multiple connectors to choose from.


p



--=20

[key:62590808]


--------------enigF50BA0E4E22FAF454CC98991
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPrCtCAAoJEGoM2OGpOvr9V+kP/Am6whpKin3Ygx0Urd8891gX
yI5g7z2al11oxLXBEKSvm2C1bLF+1GzOqMxvjuhFDUMcF3C8EfqJEsZUwagn+57H
RwKKh89Wzxz4Io9UvGlEr3LFL56+/waRsyXFy2iogfvAPm0OGNBnV0zKMek7mud8
rI1nrLyt5khTQgcZxseUECl1jzKXXMZRDXFyc9sYBP/kuJjmNqaInrPzrOA8/KhC
Jcjqx+d8Pq7jTuoKgAVhExKlrIDS7HCPofkMMtFkbe6KrYNuTt4rR/evJBQF6ORn
u/yVOYiId5M8RzfkrHCuDkLsBRKugzWSbLZEXFv2XjU8JkmMLl8dbpZfOWxcZ31u
tzXAMzb7PkTopbcDuqe4usBFRnpQjmUiRV7aAhxRR9Ku4Z9WS9B7APr0JbLDWa/f
1GZv7rHSMFbM2be1AjIempD8cIv2dIZ+84j3UCynqzcD8ofKMdEYx+etwt/MUhfx
RoFOJEohViC1fRHdFQ5w0hQnNLKiqrtyxF3rSSQbX9IYOIWSF7m+fyK5vl6powx0
iVG6M6mexKT7M/1GhnzE/96K9zZHq2LmcnCz+PguyKOO+BSJPMQ8/TggLjKpWmnd
6SI7Qgc8I2c2O17mnN9eGIGWLIwa6/90Ycorlp9tBzSL9vLRvrXZ7HCTs0jm8XFi
NZiWw2USW0die4hHfRzp
=QAV4
-----END PGP SIGNATURE-----

--------------enigF50BA0E4E22FAF454CC98991--

From users-return-234153-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 20:56:32 2012
Return-Path: <users-return-234153-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E31ACD20
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 20:56:32 +0000 (UTC)
Received: (qmail 56207 invoked by uid 500); 10 May 2012 20:56:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56109 invoked by uid 500); 10 May 2012 20:56:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56095 invoked by uid 99); 10 May 2012 20:56:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:56:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 20:56:20 +0000
Received: by wgbdr1 with SMTP id dr1so1720754wgb.0
        for <users@tomcat.apache.org>; Thu, 10 May 2012 13:56:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=+83Fso9F0p4n2k6b3w6saCwt1D+sOu5Z0HvSWLd4mEI=;
        b=tBYd4MiicE6QIDQPnpKJdpRmlad2Dycmosr2GF5wp4BUP13mraXaSV4Zdj25Lv5Vl0
         JNHiW+GRkD4VoMkRKGcGxld8bwQ9Tz4AblxX7YLWUcDGjBE48/McQb7yqW+xZXgvRk8K
         efdwxlQUAxIgxuF38/jCAESM1sKOhKy1udagg=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=+83Fso9F0p4n2k6b3w6saCwt1D+sOu5Z0HvSWLd4mEI=;
        b=nUGryKoaaVOAtXYUznhXfCop6M4nlzB3b3RKmpAeVSJham9YxMaA1vLQwELTjIuCtc
         7FjEspCLb+JmMC4rn1RCsRhGqNdSK682moZyhUY4iOg+UxwRyCGP6PG5YN40K965UxiI
         gedSyOkKR+h5m2l6z61P+E/V6WMoZ03XBWjTii3DnGzGC7sRweR4WFFLbDS8KodPfwHy
         OTTXd1wLqIcsOpR/v72TznIvX9KH/uOnP2Pb8McYr0AHeocWuBkORBuqsbXoWSblcVqL
         9WHPo5kxIUmDGamhdiu2sebKjiTCvx82ohe/+P8BbL5kJeZfEVcRUGCSm8eoEiG1p9oz
         Qd/A==
Received: by 10.180.83.196 with SMTP id s4mr1032190wiy.15.1336683360810;
        Thu, 10 May 2012 13:56:00 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id m4sm5498649wix.0.2012.05.10.13.55.59
        (version=SSLv3 cipher=OTHER);
        Thu, 10 May 2012 13:55:59 -0700 (PDT)
Message-ID: <4FAC2B64.80808@pidster.com>
Date: Thu, 10 May 2012 21:56:04 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11
 g an adobe
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
In-Reply-To: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig27CA259DC56E30B81D4C5EF5"
X-Gm-Message-State: ALoCoQl3pGi4p4W3he5gD0hHyLpGxg6KeUtnCCXZoWWn9oEKln4MZWSBHPEqL4JicNR3iZWrqsxM

--------------enig27CA259DC56E30B81D4C5EF5
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 21:33, Reissner Pab=F3n wrote:
> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g

Define an appropriately configured JDBC DataSource in server.xml.


p

--=20

[key:62590808]


--------------enig27CA259DC56E30B81D4C5EF5
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPrCtkAAoJEGoM2OGpOvr9g1gQALO9scQ/nBXTfj73xokjKT1K
xF9/2b0f1eWzFQpE9+o1VAcxXaJtArd2eU9wOzELCBK8fkTbijyFsp4JCbQhJx76
xQ7VzqeCm89KrY8GY8INvT0FOCW0FVi4wOVdlEpt8G+MC+PZpvvXQvCEk199ot18
g3GsfT6q2VmSsaNKH77tHu70KJCKs7CkzjmylDoghNhKkL9oxJbngPUx7qkPSMJB
QwhvFQf4GNF5svoYRqZqb5kA+YNKleBm+AJCFMt0fam5dfk1jpWLzk3NHY0oBc8k
FsAUPb3RdzI0prarVRxg5Om8tsZkZvFawWPR2sR7En6yPuhfgwmmuPknzO/325ty
pkXslogrYafCb4EWBzJq65kGfGAqn0GTbwPXtnACbetcjLmIdvYQ6nofpRag/Gfo
L6yEW5OmLMvPt9BRcERemM7iDyAJECkAJHK+lDtiuS+UiPtM8y6t8oeJgsEOacju
Q5fld2hPPx+/iX2aVYo0fgIcrTwb6rKvWbIFZ4ADmwkxwpZGiUQIU1zjczkY2O5m
vEHz1+3Z2Df+D4wvv7oZ7yK+/A61mx0EBeGh2en76Eej8q3357NdZmcdRvQF3e48
uCdbfAgYtzSDQ752M4YUI7K8K5vP+yNkXLj7OWfoF4rmKuhMYHEl18WB0vuZiJXg
pPza5H2UdC/X5Pk6FbR0
=kYks
-----END PGP SIGNATURE-----

--------------enig27CA259DC56E30B81D4C5EF5--

From users-return-234154-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 21:05:16 2012
Return-Path: <users-return-234154-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BE1FCD64
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 21:05:16 +0000 (UTC)
Received: (qmail 77170 invoked by uid 500); 10 May 2012 21:05:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77112 invoked by uid 500); 10 May 2012 21:05:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77103 invoked by uid 99); 10 May 2012 21:05:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:05:12 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:05:06 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SSaXT-0004FZ-Iw
	for users@tomcat.apache.org; Thu, 10 May 2012 23:04:43 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 23:04:43 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 23:04:43 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Re: Connection timeout
Date: Thu, 10 May 2012 21:04:27 +0000 (UTC)
Lines: 35
Message-ID: <loom.20120510T230056-624@post.gmane.org>
References: <loom.20120510T210343-150@post.gmane.org> <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com> <loom.20120510T223547-300@post.gmane.org> <4FAC2B3F.4050405@pidster.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Pid <pid <at> pidster.com> writes:
> The basic point we're making is that you are twiddling the wrong knobs.

OK, good to know.

> If you want to handle more connections, increase the size of the thread
> pool that handles requests, don't increase the size of the queue of
> requests waiting to be handled.

This is what I set it to.  I am still getting random timeouts.

<Connector port="8080" protocol="HTTP/1.1" 
               connectionTimeout="3000" 
               connectionLinger="-1"
               acceptCount="100"
               maxThreads="2000"
               maxKeepAliveRequests="1"
               enableLookups="false"
               redirectPort="8443" />

I don't know if the timeouts are caused by running out of threads though, there
is nothing in any of the catalina logs to indicate that.

Is there any way to find out how many threads are being used at a given
moment?

> You might also consider implementing the Executor, if you're going to
> have a lot of threads.
> 
>  http://tomcat.apache.org/tomcat-6.0-doc/config/executor.html

There's only one app running on this tomcat, if that makes any difference.

thanks
-jsd-


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234155-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 21:15:12 2012
Return-Path: <users-return-234155-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55F33CD9D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 21:15:12 +0000 (UTC)
Received: (qmail 912 invoked by uid 500); 10 May 2012 21:15:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 653 invoked by uid 500); 10 May 2012 21:15:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 643 invoked by uid 99); 10 May 2012 21:15:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:15:08 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:14:59 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-5.tower-29.messagelabs.com!1336684477!24769046!2
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 7350 invoked from network); 10 May 2012 21:14:38 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-5.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 10 May 2012 21:14:38 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 10 May 2012 16:14:37 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 10 May
 2012 16:14:36 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 10 May 2012 16:14:34 -0500
Subject: RE: Connection timeout
Thread-Topic: Connection timeout
Thread-Index: Ac0u8Jo2u7zrodfvSPCCH8LinDLDKAAAKPbg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB025D79F5B@USEA-EXCH8.na.uis.unisys.com>
References: <loom.20120510T210343-150@post.gmane.org>
 <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org>
 <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com>
 <loom.20120510T223547-300@post.gmane.org> <4FAC2B3F.4050405@pidster.com>
 <loom.20120510T230056-624@post.gmane.org>
In-Reply-To: <loom.20120510T230056-624@post.gmane.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Jon Drukman [mailto:jsd@cluttered.com]=20
> Subject: Re: Connection timeout

> Is there any way to find out how many threads are being used=20
> at a given moment?

Using JConsole or VisualVM would be a good start.  Either of those will let=
 you see what's going on with threads, heap memory, and CPU usage.  Those t=
ools will also let you take thread dumps to find out where threads are loop=
ing or stuck, if you observe that behavior.

> There's only one app running on this tomcat, if that makes=20
> any difference.

Does it connect to a database (or any other external resource)?  If so, are=
 you using a connection pool for the DB?  You may have threads queuing up w=
aiting for a connection to become available.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234156-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 21:26:46 2012
Return-Path: <users-return-234156-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 226A490AE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 21:26:46 +0000 (UTC)
Received: (qmail 31653 invoked by uid 500); 10 May 2012 21:26:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31558 invoked by uid 500); 10 May 2012 21:26:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31549 invoked by uid 99); 10 May 2012 21:26:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:26:42 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 21:26:36 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SSasH-0006fR-OW
	for users@tomcat.apache.org; Thu, 10 May 2012 23:26:13 +0200
Received: from 199.101.130.50 ([199.101.130.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 23:26:13 +0200
Received: from jsd by 199.101.130.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Thu, 10 May 2012 23:26:13 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: Jon Drukman <jsd@cluttered.com>
Subject: Re: Connection timeout
Date: Thu, 10 May 2012 21:26:04 +0000 (UTC)
Lines: 17
Message-ID: <loom.20120510T232436-384@post.gmane.org>
References: <loom.20120510T210343-150@post.gmane.org> <4FAC1622.4000900@pidster.com> <loom.20120510T221203-676@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com> <loom.20120510T223547-300@post.gmane.org> <4FAC2B3F.4050405@pidster.com> <loom.20120510T230056-624@post.gmane.org> <99C8B2929B39C24493377AC7A121E21FB025D79F5B@USEA-EXCH8.na.uis.unisys.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 199.101.130.50 (Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.5 Safari/534.55.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:

> Using JConsole or VisualVM would be a good start.

OK, I'll take a look at those.

> > There's only one app running on this tomcat, if that makes 
> > any difference.
> 
> Does it connect to a database (or any other external resource)? 
> If so, are you using a connection pool for the
> DB?  You may have threads queuing up waiting for a
> connection to become available.

no, there is no external dependency that i'm aware of.

-jsd-


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234157-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 22:26:58 2012
Return-Path: <users-return-234157-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98D45CD77
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 22:26:58 +0000 (UTC)
Received: (qmail 15500 invoked by uid 500); 10 May 2012 22:26:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15442 invoked by uid 500); 10 May 2012 22:26:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15431 invoked by uid 99); 10 May 2012 22:26:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:26:55 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:26:46 +0000
X-IronPort-AV: E=Sophos;i="4.75,567,1330923600"; 
   d="scan'208";a="114204012"
Received: from hq-ex3fe3.ptcnet.ptc.com ([132.253.201.67])
  by irp2.ptc.com with ESMTP; 10 May 2012 18:26:12 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by hq-ex3fe3.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 10 May 2012 18:26:12 -0400
Message-ID: <4FAC4083.1020709@ptc.com>
Date: Thu, 10 May 2012 17:26:11 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com>
In-Reply-To: <4FAC1FFC.2060908@tmbsw.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 May 2012 22:26:12.0348 (UTC) FILETIME=[E7C133C0:01CD2EFB]
X-Virus-Checked: Checked by ClamAV on apache.org

I have solid numbers that I will e-mail in a follow up  by itself so 
it's not lossed in the shuffle.

Some answers to the comments inline.

Thanks,
Andy


>> Do you mean that Tomcat performance appears to be the same regardless
>> of version? That's both good and bad... I thought there were some
>> performance improvements to the connectors from 5.5->  6.0. Maybe that
>> was 4.x->5.5.
>>
Yeah, the download performance through AJP and through HTTP connectors 
is fairly consistent from 5.5->6.0->7.0
>>> Tomcat7 is using JDK 1.7 and this is interesting.  The benchmarks
>>> with tomcat7+jdk1.7 vary widely across the board (both through ajp
>>> and direct http to tomcat) from 30s-40sMB/s. Java 1.6 seems alot
>>> more consistent.  Not sure why yet.
>> That is interesting. On the other hand, the server /is/ on a virtual
>> machine, and you never know what other processes are stealing focus.
>> Many VMs are notorious for bad IO throughput (I'm looking at you, 
>> OpenVZ).
>>
I'm using vmware 5 esxi servers on a pretty beefy system.  8 2.8ghz xeon 
cores, 32gb memory and I'm only running a single VM at a time.  Each VM 
is allocated 4GB of memory and 2 cores.  Should be more than enough to 
handle serving up a 450MB iso file.
>> Have you tried bare hardware?
>
No, unfortunately I don't have access to bare hardware, but as I 
mentioned, the vmware 5 esxi servers are pretty beefy.
>
> How much control do you have over the VM server?  Seems to me that 
> resources/performance could be not only affected by other VMs but also 
> intentionally throttled.
>
I have pretty much full control over the VM servers.  There is no 
throttling going on, no resource limits and as I said, I shut down all 
the other VMs just to rule out contention with them.
>> Some tips for this kind of testing:
>>
>> 1. Don't run ab on localhost: all the numbers will be worthless
>> 2. Run ab with a range of concurrencies, including c=1
>> 3. Make /lots/ of requests. IMO, 5 requests is really a pinhole
>> analysis. I would make as many requests as you can over 10 minutes and
>> see what the throughput ends up being.
>>
I actually ran localhost just out of curiosity and while the numbers are 
faster, the performance difference is consistent with a remote host.  I 
don't want to make alot of requests.  I want to see throughput of large 
files becuase this is where we're seeing the slow downs.  Concurrency is 
not an issue.
>>> I'll compare Windows XP performance and Windows 2008 performance
>>> and after that I'll do the same on a Linux VM to get a better
>>> comparison.
>> It will be good to see.
>>
I decided to just do windows.  The numbers I got are enough for me to 
not care at this point.
>>> I plan on doing both local ab requests as well as remote.  The
>>> problem with remote is that our network is busy, so it may account
>>> for some variations but I don't think I can get our IT to segment
>>> me anything for this purpose :(.
>> Just get a crossover cable and use static IP addresses.
Unfortunately no access to additional hardware.
>>
>>> I'm not so concerned about a 25% hit.  I'm really more concerned
>>> with the drop to 4-5MB/s over time that seems to happen.
>> Does this happen locally or only remotely? I wonder if you're hitting
>> some kind of traffic-shaping or QOS rules on your own internal network.
>
This type of hit occurs for our customers both locally and remotely.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234158-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 22:36:38 2012
Return-Path: <users-return-234158-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 317CBC74A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 22:36:38 +0000 (UTC)
Received: (qmail 40958 invoked by uid 500); 10 May 2012 22:36:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40892 invoked by uid 500); 10 May 2012 22:36:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40882 invoked by uid 99); 10 May 2012 22:36:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:36:34 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:36:26 +0000
X-IronPort-AV: E=Sophos;i="4.75,567,1330923600"; 
   d="scan'208";a="114204249"
Received: from hq-ex3fe3.ptcnet.ptc.com ([132.253.201.67])
  by irp2.ptc.com with ESMTP; 10 May 2012 18:36:05 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by hq-ex3fe3.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 10 May 2012 18:36:03 -0400
Message-ID: <4FAC42D2.7070805@ptc.com>
Date: Thu, 10 May 2012 17:36:02 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com> <4FAC4083.1020709@ptc.com>
In-Reply-To: <4FAC4083.1020709@ptc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 May 2012 22:36:03.0766 (UTC) FILETIME=[48446D60:01CD2EFD]
X-Virus-Checked: Checked by ClamAV on apache.org

So I cannot reproduce the slow down to 4-5MB/s on the same VM I was able 
to reproduce it on once I copied the VM to an adequate vmware server.  
But I do see some neat numbers in case people care.

I ran with ab -5 directly against apache, against a url mapped to ajp as 
well as direct to the http connectors.
The numbers were consistent between tomcat 5.0, 5.5, 6.0 and 7.0 so I'm 
only going to post one set of numbers for tomcat.

This is against a windows XP SP3 with no sendbuffersize, tcpbuffersize 
or scaling window tuning:
Direct to apache http:
Transfer rate:          21925.90 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    1   0.3      1       1
Processing: 19593 20077 474.0  20045   20855
Waiting:        1    2   0.6      2       3
Total:      19593 20078 474.1  20046   20856

Through AJP:
Transfer rate:          36732.95 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    1   0.2      1       1
Processing: 10662 11984 879.6  12227   12975
Waiting:        4    5   0.5      5       5
Total:      10663 11984 879.7  12227   12976

Direct to tomcat http:
Transfer rate:          30968.31 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    1   1.6      0       4
Processing: 11326 14214 2655.1  15565   16952
Waiting:        3    5   1.6      5       7
Total:      11326 14215 2654.3  15565   16952


Note how much better the both the tomcat results are than direct 
apache.  Most interestingly, note how much better AJP is than direct 
tomcat HTTP connector.  That was quite unexpected.

Here are the results from a Windows 2008 system on the same vm host:
Direct to apache http:
Transfer rate:          57968.69 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    1   0.1      1       1
Processing:  7453 7594 181.8   7575    7890
Waiting:        2   12  18.5      6      45
Total:       7453 7594 181.8   7576    7890

Through AJP:
Transfer rate:          31532.82 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    1   0.2      1       1
Processing: 10723 13960 2813.3  15795   16409
Waiting:        3    5   3.1      4      10
Total:      10724 13961 2813.4  15795   16410

Direct to Tomcat http:
Transfer rate:          37742.45 [Kbytes/sec] received

Connection Times (ms)
               min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       1
Processing: 10974 11664 452.1  11812   12192
Waiting:        2   14  25.2      4      59
Total:      10974 11664 452.2  11813   12192

Tomcat http averaged better times, BUT ajp was able to perform faster at 
times.  Direct HTTP to apache is way faster though but I think that's to 
be expected.

So realistically, I think the 2008 numbers make sense to me and the XP 
numbers show that XPs tcp stack is a piece of crap (which I think alot 
of people already know).

I'm not sure what to make of the customer reports of the slow downs but 
at this point, I'm going to have to ask them to use something like 
ab.exe to do the downloads instead of Internet Explorer (most of them 
use IE to do it).  Maybe there's some stupidity with IE.

Anyways, I'm closing the book on this (with a bookmark just in case) but 
wanted to provide the numbers in case people were curious what I got.

Thanks,
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234159-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 10 22:50:42 2012
Return-Path: <users-return-234159-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9BA6C787
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 10 May 2012 22:50:41 +0000 (UTC)
Received: (qmail 79668 invoked by uid 500); 10 May 2012 22:50:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79624 invoked by uid 500); 10 May 2012 22:50:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79614 invoked by uid 99); 10 May 2012 22:50:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:50:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of icicimov@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 May 2012 22:50:33 +0000
Received: by yenm4 with SMTP id m4so2787547yen.18
        for <users@tomcat.apache.org>; Thu, 10 May 2012 15:50:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tCI9XZuyskvfbkTBS+todgsAhyd7JNkINlimXB870h4=;
        b=JrmrNX8EVpc5HFM55mXF+4OO8bIubUlvgisAZ30ME8MYCVdB4aveOKot7w+6PNNsEz
         zO5074rHdP/CorV3YkRoGwEVEI6cASSsP5i0g9dtTbYV9B5JQ4ndkINGxHDqWiFvq3la
         mdhb3MX+mBhRDiKVyiELfyPqFsFDD3QK1tjXu7VeTsh4B/36o6jcY2R4S72m4KNy7yXI
         gVy6oNDPA83Oc5SNrFToQMq5cwNeeh42GkZlhO7jJ73v7JC7jMwKEQeelOZ26hGpYuHY
         tqHcKSfyjBQ5Pf26F3b0CgUuzy1gXNeGC0fRhPiv+T40n/fPOhV8raLMKjQpK/9jcshf
         vjRQ==
MIME-Version: 1.0
Received: by 10.50.149.170 with SMTP id ub10mr411571igb.38.1336690212918; Thu,
 10 May 2012 15:50:12 -0700 (PDT)
Received: by 10.42.96.10 with HTTP; Thu, 10 May 2012 15:50:12 -0700 (PDT)
Received: by 10.42.96.10 with HTTP; Thu, 10 May 2012 15:50:12 -0700 (PDT)
In-Reply-To: <loom.20120510T232436-384@post.gmane.org>
References: <loom.20120510T210343-150@post.gmane.org>
	<4FAC1622.4000900@pidster.com>
	<loom.20120510T221203-676@post.gmane.org>
	<99C8B2929B39C24493377AC7A121E21FB025D79E6D@USEA-EXCH8.na.uis.unisys.com>
	<loom.20120510T223547-300@post.gmane.org>
	<4FAC2B3F.4050405@pidster.com>
	<loom.20120510T230056-624@post.gmane.org>
	<99C8B2929B39C24493377AC7A121E21FB025D79F5B@USEA-EXCH8.na.uis.unisys.com>
	<loom.20120510T232436-384@post.gmane.org>
Date: Fri, 11 May 2012 08:50:12 +1000
Message-ID: <CAAKASGz5aLVLJUOBNLLGt0ZCycWwiznr24uDCjk0vJBZ+ACPHw@mail.gmail.com>
Subject: Re: Connection timeout
From: Igor Cicimov <icicimov@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f3ba30950d42004bfb671eb
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f3ba30950d42004bfb671eb
Content-Type: text/plain; charset=ISO-8859-1

Typing this from my phone so sorry for top posting no other option.
You might also check your garbage collection which can introduce some
pauses in some cases. Just a thought ...
 On May 11, 2012 7:26 AM, "Jon Drukman" <jsd@cluttered.com> wrote:

> Caldarale, Charles R <Chuck.Caldarale <at> unisys.com> writes:
>
> > Using JConsole or VisualVM would be a good start.
>
> OK, I'll take a look at those.
>
> > > There's only one app running on this tomcat, if that makes
> > > any difference.
> >
> > Does it connect to a database (or any other external resource)?
> > If so, are you using a connection pool for the
> > DB?  You may have threads queuing up waiting for a
> > connection to become available.
>
> no, there is no external dependency that i'm aware of.
>
> -jsd-
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f3ba30950d42004bfb671eb--

From users-return-234160-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 08:48:46 2012
Return-Path: <users-return-234160-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 519269C9F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 08:48:46 +0000 (UTC)
Received: (qmail 92760 invoked by uid 500); 11 May 2012 08:48:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92625 invoked by uid 500); 11 May 2012 08:48:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92610 invoked by uid 99); 11 May 2012 08:48:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 08:48:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hordine@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 08:48:35 +0000
Received: by ggnp1 with SMTP id p1so2113027ggn.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 01:48:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=3ZFqZ7Gy+ku2UnSYIrYOybyO9hPdTVLiWO1DuZGNkAw=;
        b=lVsRm+Ayr8B9qPXNjkToOtteKes0EWFcx6At6mTa+n8/r9SsAIs3VO9qIWofYH2fdO
         QV77RgJN19OlDQ+FK/L0EV9in34wS1RWM4iyUDOma35t9keAPlkzwezuuMbck8ZjZAqv
         pr5RcTmsyQeGhGPgMR6/9JVBqL2ujP+GJ7n9BgdbZZtBxQyEbCI/m9t63LQCsJfLbeh4
         0U3LeujIUr0uXuMpp8Ye4KoWkz78vdz4Rlqlwk3oheeGa6M84hCfcLYQzxi3Ncf/7E0l
         NvuuQTwbek9gAZLRZGNtqHY1Cia2dU4GCd60wHXldCdXm9ZWHAifrKIhXVetVY6su05h
         A7ug==
MIME-Version: 1.0
Received: by 10.50.189.135 with SMTP id gi7mr1148554igc.37.1336726094278; Fri,
 11 May 2012 01:48:14 -0700 (PDT)
Received: by 10.50.57.131 with HTTP; Fri, 11 May 2012 01:48:14 -0700 (PDT)
Date: Fri, 11 May 2012 10:48:14 +0200
Message-ID: <CANnp+AtALEJv6ugsjyR0a0+reqy=W=AMXtbjPk-BXip3XkifWw@mail.gmail.com>
Subject: Starting up Tomcat in debug mode with tomcat6:run
From: Henrique Ordine <hordine@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934040b02ef8e04bfbeccbf
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae934040b02ef8e04bfbeccbf
Content-Type: text/plain; charset=ISO-8859-1

Hi everybody,

I understand that to start up tomcat in debug mode I need to add the
following JVM options :

-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n

I'm using the Maven tomcat6:run plugin though to start up my application on
Tomcat. Does anyone know how I can set those JVM options for this plugin?

Thanks in advance.

-- 
Henrique Ordine

http://hordine.wordpress.com/

--14dae934040b02ef8e04bfbeccbf--

From users-return-234161-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 08:59:44 2012
Return-Path: <users-return-234161-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 692A29CD7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 08:59:44 +0000 (UTC)
Received: (qmail 23252 invoked by uid 500); 11 May 2012 08:59:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23108 invoked by uid 500); 11 May 2012 08:59:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23074 invoked by uid 99); 11 May 2012 08:59:39 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 08:59:39 +0000
Received: from localhost (HELO mail-yx0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 08:59:39 +0000
Received: by yenm4 with SMTP id m4so3229786yen.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 01:59:38 -0700 (PDT)
Received: by 10.236.161.102 with SMTP id v66mr9222561yhk.56.1336726778261;
 Fri, 11 May 2012 01:59:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.231.17 with HTTP; Fri, 11 May 2012 01:59:17 -0700 (PDT)
In-Reply-To: <CANnp+AtALEJv6ugsjyR0a0+reqy=W=AMXtbjPk-BXip3XkifWw@mail.gmail.com>
References: <CANnp+AtALEJv6ugsjyR0a0+reqy=W=AMXtbjPk-BXip3XkifWw@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Fri, 11 May 2012 10:59:17 +0200
Message-ID: <CAPoyBqT=Dcy4Y4CnQ5PJkuRciAoZ7B=8seFMcWPiBtamk5LhRA@mail.gmail.com>
Subject: Re: Starting up Tomcat in debug mode with tomcat6:run
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

The most simple is to use mvnDebug (no need to add vm options all is
already set in mvnDebug script).

2012/5/11 Henrique Ordine <hordine@gmail.com>:
> Hi everybody,
>
> I understand that to start up tomcat in debug mode I need to add the
> following JVM options :
>
> -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n
>
> I'm using the Maven tomcat6:run plugin though to start up my application on
> Tomcat. Does anyone know how I can set those JVM options for this plugin?
>
> Thanks in advance.
>
> --
> Henrique Ordine
>
> http://hordine.wordpress.com/



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234162-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 09:51:22 2012
Return-Path: <users-return-234162-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C6A4C6DE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 09:51:22 +0000 (UTC)
Received: (qmail 63969 invoked by uid 500); 11 May 2012 09:51:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63660 invoked by uid 500); 11 May 2012 09:51:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63549 invoked by uid 99); 11 May 2012 09:51:13 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 09:51:13 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 09:51:13 +0000
Message-ID: <4FACE111.8030406@apache.org>
Date: Fri, 11 May 2012 11:51:13 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com> <4FAC4083.1020709@ptc.com> <4FAC42D2.7070805@ptc.com>
In-Reply-To: <4FAC42D2.7070805@ptc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/11/2012 12:36 AM, Andy Wang wrote:
> So I cannot reproduce the slow down to 4-5MB/s on the same VM I was able to reproduce it on once I copied the VM to an adequate vmware server. But I do see some neat numbers in case people care.
>

I was following this tread and was hoping that someone will say:
"Do not use workstation grade software for server applications"
but no. XP (Win7 falls in the same category) has good network stack
but focused on client applications.
There is a good reason why MS charges extra $$ for server versions
since they make sure your server application don't perform well on
workstation software.

>
> I'm not sure what to make of the customer reports of the slow downs but at this point, I'm going to have to ask them to use something like ab.exe to do the downloads instead of Internet Explorer (most of them use IE to do it). Maybe there's some stupidity
> with IE.
>

IE tries to open several concurrent connection at once (RFC says that number is max 3)
I'm sure you can simulate that with 'ab -c 10 -k -n 10000 ...'

> Anyways, I'm closing the book on this (with a bookmark just in case) but wanted to provide the numbers in case people were curious what I got.
>

There is nothing wrong with tomcat, mod_jk or httpd.
It's just your use case.



Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234163-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 09:55:31 2012
Return-Path: <users-return-234163-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C766C6EA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 09:55:31 +0000 (UTC)
Received: (qmail 74608 invoked by uid 500); 11 May 2012 09:55:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74442 invoked by uid 500); 11 May 2012 09:55:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74421 invoked by uid 99); 11 May 2012 09:55:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 09:55:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 09:55:20 +0000
Received: from [192.168.245.129] (p549E8B91.dip0.t-ipconnect.de [84.158.139.145])
	by tor.combios.es (Postfix) with ESMTPA id E3796DA08A6
	for <users@tomcat.apache.org>; Fri, 11 May 2012 11:54:58 +0200 (CEST)
Message-ID: <4FACE1EF.1060608@ice-sa.com>
Date: Fri, 11 May 2012 11:54:55 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11
 g an adobe
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
In-Reply-To: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Reissner Pabn wrote:
> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g
> 
a choice of answers :
1) if they run on separate hosts, the first thing you will need is a cable..
2) http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html
3) to do what ?
4) http://www.catb.org/~esr/faqs/smart-questions.html


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234164-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 10:32:21 2012
Return-Path: <users-return-234164-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C1DDCFBB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 10:32:21 +0000 (UTC)
Received: (qmail 53583 invoked by uid 500); 11 May 2012 10:32:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53312 invoked by uid 500); 11 May 2012 10:32:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53276 invoked by uid 99); 11 May 2012 10:32:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 10:32:16 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.90 as permitted sender)
Received: from [65.55.111.90] (HELO blu0-omc2-s15.blu0.hotmail.com) (65.55.111.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 10:32:09 +0000
Received: from BLU142-W25 ([65.55.111.72]) by blu0-omc2-s15.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 11 May 2012 03:31:48 -0700
Message-ID: <BLU142-W254F40BE79A21F44D7444AAE170@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_9465c835-4695-44e0-b86e-c76ed6892fb5_"
X-Originating-IP: [166.186.171.172]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Slow downloads through mod_jk on Windows XP
Date: Fri, 11 May 2012 06:31:48 -0400
Importance: Normal
In-Reply-To: <4FAC42D2.7070805@ptc.com>
References: <4FAAC4A6.5010001@christopherschultz.net>
 <4FAC1FFC.2060908@tmbsw.com>
 <4FAC4083.1020709@ptc.com>,<4FAC42D2.7070805@ptc.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 11 May 2012 10:31:48.0469 (UTC) FILETIME=[454E1250:01CD2F61]
X-Virus-Checked: Checked by ClamAV on apache.org

--_9465c835-4695-44e0-b86e-c76ed6892fb5_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Andy-

On the receive side  *if you have windows scaling enabled* you supposedly *=
can* enhance the receive window by setting these registry keys
HKEY_LOCAL_MACHINE\System=20
\CurrentControlSet\Services\Tcpip\Parameters\TCPWindowSize=20
HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Tcpip\Parameters\Inter=
face\TCPWindowSize
 registry values can be set to a maximum of 65=2C535 bytes (without window
 scaling) or 1=2C073=2C741=2C823 (with window scaling).
Microsoft does admit to 5GBPS hard limit for receive

On the send side you can increase thoughput by enabling CTCP (Compound TCP)
 netsh interface tcp set global congestionprovider=3Dctcp

Loss negotiation can be mitigated by enabling Enhanced Control Notification=
 algoithm via
netsh interface tcp set global ecncapability=3Denabled=20

http://technet.microsoft.com/library/bb878127

I remember QOS agents installed on both send and receive sides helped monit=
or and enhance Throughput=20
Do you have QOS agents you can enable to track and reconfig send and receiv=
e parameters?

Thanks for the hard work collecting these stats..this will help me determin=
e which connector to use going forward
Martin Gainty=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> Date: Thu=2C 10 May 2012 17:36:02 -0500
> From: awang@ptc.com
> To: users@tomcat.apache.org
> Subject: Re: Slow downloads through mod_jk on Windows XP
>=20
> So I cannot reproduce the slow down to 4-5MB/s on the same VM I was able=
=20
> to reproduce it on once I copied the VM to an adequate vmware server. =20
> But I do see some neat numbers in case people care.
>=20
> I ran with ab -5 directly against apache=2C against a url mapped to ajp a=
s=20
> well as direct to the http connectors.
> The numbers were consistent between tomcat 5.0=2C 5.5=2C 6.0 and 7.0 so I=
'm=20
> only going to post one set of numbers for tomcat.
>=20
> This is against a windows XP SP3 with no sendbuffersize=2C tcpbuffersize=
=20
> or scaling window tuning:
> Direct to apache http:
> Transfer rate:          21925.90 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    1   0.3      1       1
> Processing: 19593 20077 474.0  20045   20855
> Waiting:        1    2   0.6      2       3
> Total:      19593 20078 474.1  20046   20856
>=20
> Through AJP:
> Transfer rate:          36732.95 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    1   0.2      1       1
> Processing: 10662 11984 879.6  12227   12975
> Waiting:        4    5   0.5      5       5
> Total:      10663 11984 879.7  12227   12976
>=20
> Direct to tomcat http:
> Transfer rate:          30968.31 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    1   1.6      0       4
> Processing: 11326 14214 2655.1  15565   16952
> Waiting:        3    5   1.6      5       7
> Total:      11326 14215 2654.3  15565   16952
>=20
>=20
> Note how much better the both the tomcat results are than direct=20
> apache.  Most interestingly=2C note how much better AJP is than direct=20
> tomcat HTTP connector.  That was quite unexpected.
>=20
> Here are the results from a Windows 2008 system on the same vm host:
> Direct to apache http:
> Transfer rate:          57968.69 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    1   0.1      1       1
> Processing:  7453 7594 181.8   7575    7890
> Waiting:        2   12  18.5      6      45
> Total:       7453 7594 181.8   7576    7890
>=20
> Through AJP:
> Transfer rate:          31532.82 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    1   0.2      1       1
> Processing: 10723 13960 2813.3  15795   16409
> Waiting:        3    5   3.1      4      10
> Total:      10724 13961 2813.4  15795   16410
>=20
> Direct to Tomcat http:
> Transfer rate:          37742.45 [Kbytes/sec] received
>=20
> Connection Times (ms)
>                min  mean[+/-sd] median   max
> Connect:        0    0   0.1      0       1
> Processing: 10974 11664 452.1  11812   12192
> Waiting:        2   14  25.2      4      59
> Total:      10974 11664 452.2  11813   12192
>=20
> Tomcat http averaged better times=2C BUT ajp was able to perform faster a=
t=20
> times.  Direct HTTP to apache is way faster though but I think that's to=
=20
> be expected.
>=20
> So realistically=2C I think the 2008 numbers make sense to me and the XP=
=20
> numbers show that XPs tcp stack is a piece of crap (which I think alot=20
> of people already know).
>=20
> I'm not sure what to make of the customer reports of the slow downs but=20
> at this point=2C I'm going to have to ask them to use something like=20
> ab.exe to do the downloads instead of Internet Explorer (most of them=20
> use IE to do it).  Maybe there's some stupidity with IE.
>=20
> Anyways=2C I'm closing the book on this (with a bookmark just in case) bu=
t=20
> wanted to provide the numbers in case people were curious what I got.
>=20
> Thanks=2C
> Andy
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_9465c835-4695-44e0-b86e-c76ed6892fb5_--

From users-return-234165-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 12:05:56 2012
Return-Path: <users-return-234165-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FE4D9CD2
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 12:05:56 +0000 (UTC)
Received: (qmail 91188 invoked by uid 500); 11 May 2012 12:05:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91063 invoked by uid 500); 11 May 2012 12:05:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91046 invoked by uid 99); 11 May 2012 12:05:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 12:05:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.248.246.82] (HELO mail1.citinc.biz) (206.248.246.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 12:05:46 +0000
Received: from MDS01.mds.local ([::1]) by MDS01.mds.local ([::1]) with mapi id
 14.01.0218.012; Fri, 11 May 2012 08:06:24 -0400
From: Charles Shreve <charles@citinc.biz>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat from remote subnet
Thread-Topic: Tomcat from remote subnet
Thread-Index: Ac0sXd+Iul++BqJoTI6qgO2Q71xltgAJcU4A///Ne2CAAF0ZAP//4QA3gABPuYCAAEBb8P/9TrdggAWq7wD//b/AcA==
Date: Fri, 11 May 2012 12:06:23 +0000
Message-ID: <EAEC5C1838DEEA44BA6D3B7416B12EE211780FAB@MDS01.mds.local>
References: <EAEC5C1838DEEA44BA6D3B7416B12EE21177F752@MDS01.mds.local>
 <CABOBwRj4B-n7Bb-Q=43BWDS6BW2rekht5-nYZy8i3T-Ow66Rxg@mail.gmail.com>
 <w9p7gsiwnpjo74a1ndju67sn.1336406309136@email.android.com>
 <-905237787951138327@unknownmsgid>
 <umjybuybd28qckc3052gxqgk.1336419643071@email.android.com>
 <1336422425.12864.YahooMailNeo@web125505.mail.ne1.yahoo.com>
 <EAEC5C1838DEEA44BA6D3B7416B12EE21177FA27@MDS01.mds.local>
 <EAEC5C1838DEEA44BA6D3B7416B12EE2117805E7@MDS01.mds.local>
 <CABOBwRjx21_9xUPWYb=EbRApSqKax8sW21yHduYrLS3-T6gVNQ@mail.gmail.com>
In-Reply-To: <CABOBwRjx21_9xUPWYb=EbRApSqKax8sW21yHduYrLS3-T6gVNQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.10.1.69]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

We have fixed the problem.  We found the problem to be related to the encry=
ption of the point to point VPN.  Thanks for all your help.

Thank You,
Charles Shreve
charles@citinc.biz

Computer Information Technology, Inc.
P.O. Box 607
Cross Junction, VA  22625
(540) 662-1414
http://www.citinc.biz


-----Original Message-----
From: Jose Mar=EDa Zaragoza [mailto:demablogia@gmail.com]=20
Sent: Wednesday, May 09, 2012 5:43 PM
To: Tomcat Users List
Subject: Re: Tomcat from remote subnet

2012/5/9 Charles Shreve <charles@citinc.biz>:
> I enabled logging and was able to find that the log comes back with code =
200 which is my understanding that everything connects properly. =A0I have =
found that I am able to open any size html file, and jpeg files under 31k f=
rom the remote subnet off of the tomcat server. =A0Anything else from the t=
omcat server just continues to try and load. =A0We don't have any problems =
loading any of our programs or files from the remote subnet from Window bas=
ed machines on the local side. =A0Is there any kind of a time out period th=
a the tomcat server expects a response back from the client before it will =
send data? =A0When we try to load the program, firefox and internet explore=
r continues to say that it is waiting for data from the tomcat server but n=
ever gets past that point.


I'm lost , sorry

Have you could to interchange HTTP traffic (both directions) between remote=
 side and that machine , via VPN?
Have you could to interchange HTTP traffic between remote side and any war =
deployed into that Tomcat server  , via VPN?
Have you could to interchange HTTP traffic between remote side and any war =
deployed into anotherTomcat server on another machine  , via VPN?

Could be a problem with a firewall and the returned HTTP traffic ?



>
> Thanks.
>
> -----Original Message-----
> From: Charles Shreve [mailto:charles@citinc.biz]
> Sent: Monday, May 07, 2012 4:40 PM
> To: Tomcat Users List; Mark Eggers
> Subject: RE: Tomcat from remote subnet
>
> You've said very little about your environment.
>
> It would be nice to know:
>
> 1. Tomcat version - be precise
> 2. Package install or downloaded from tomcat.apache.org 3. Fronted by=20
> Apache HTTPD or not 4. If fronted by Apache HTTPD, how=20
> (mod_proxy_http, mod_proxy_ajp, mod_ajp)
>
> That being said, I'll make some guesses.
>
> I'm going to guess for 1 and 2 . . . Tomcat 5.5.x installed from an RPM.
>
> For 3, I'm going to guess no, and that you're either running as root for =
ports 80 and 443 (not advisable) or using commons-daemon.
>
> Since I'm guessing 3 is no, that renders question 4 moot.
>
> By default the access log valve is commented out in the stock Tomcat 5.5.=
x and 6.0.x. It's enabled by default in Tomcat 7.0.x.
>
> To turn it on in 5.5.x, you need to find server.xml and uncomment the fol=
lowing section.
>
> <!--
> <Valve className=3D"org.apache.catalina.valves.FastCommonAccessLogValve"
> =A0 directory=3D"logs" =A0prefix=3D"localhost_access_log." suffix=3D".txt=
"
> =A0 pattern=3D"common" resolveHosts=3D"false"/>
> -->
>
> The entry will look a bit different for Tomcat 6.0.x, but it should be fa=
irly obvious.
>
> Then restart your Tomcat service.
>
> Now you will need to find your log file. I suspect that RedHat places the=
 log files in /var/log or a subdirectory.
>
> If this is a stock Tomcat installation, then the log file will be in a su=
bdirectory called logs of your Tomcat installation.
>
> . . . . just my two cents.
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
> Mark,
>
> Tomcat version is 5.5.23
>
> I'm not sure how it was installed, as I was not involved with the setup o=
f tomcat from the beginning so I can't answer that question.
>
> If fronted by Apache, I'm not sure, but I do not believe so, because Apac=
he is not running.
>
> Unfortunately, we are using ports 80 and 443. =A0Again, I got handed this=
 project because it wasn't working right, so I'm caught in the middle with =
the whole setup.
>
> I have looked at the server.xml file and found that the log is commented =
out, so I will get that changed which will hopefully point us to our main p=
roblem.
>
> Thanks, Charles
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234166-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 13:03:13 2012
Return-Path: <users-return-234166-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C481AC725
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 13:03:13 +0000 (UTC)
Received: (qmail 52779 invoked by uid 500); 11 May 2012 13:03:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52722 invoked by uid 500); 11 May 2012 13:03:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52708 invoked by uid 99); 11 May 2012 13:03:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:03:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:03:04 +0000
Received: by yhoo21 with SMTP id o21so3511209yho.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 06:02:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:disposition-notification-to:date:from:reply-to
         :organization:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:x-gm-message-state;
        bh=1QGbHLVv0f31I0YL1XzxfI4tikw+wz80APAx3bw64aQ=;
        b=nmPQtLx//XAdRpTQnUV5f7VqMGcMRxxCAfzzI767VTDiBaICBXSDTe+a79DE0qlIUg
         LL5gDToFOSF/fgrhFxCpT9c47JM/SDMCDyUHmPBK9E91qwGfNCoD2FMZAbjVsqYQFHIk
         VFJwvEXIyFxFTvcOLpLr57d2yWBeXqOgzpdgMSFf4JtpbGIl/EixXMfDGcq7e+vYZU+5
         xPdZPN/xB0LwqK0gqguj4AnDaxlKnDQs8Hxv0HhJE4H6qxDhVWMAwCxtit1CUP0DEIhM
         a2bMrD9wdiNj9hxIz6GFm9tjM33KuUkFVZJ5HK1xU3AgIRu0wdIASGQociUaGz38krpO
         P9HA==
Received: by 10.236.191.138 with SMTP id g10mr9970446yhn.25.1336741363748;
        Fri, 11 May 2012 06:02:43 -0700 (PDT)
Received: from [172.168.0.100] ([186.86.183.43])
        by mx.google.com with ESMTPS id u4sm14699804anh.6.2012.05.11.06.02.34
        (version=SSLv3 cipher=OTHER);
        Fri, 11 May 2012 06:02:38 -0700 (PDT)
Message-ID: <4FAD0DE3.2030505@bucalinux.com>
Date: Fri, 11 May 2012 08:02:27 -0500
From: reissner <reispab@bucalinux.com>
Reply-To: reispab@bucalinux.com
Organization: bucalinux
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11
 g an adobe
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com> <4FAC2B64.80808@pidster.com>
In-Reply-To: <4FAC2B64.80808@pidster.com>
Content-Type: multipart/mixed;
 boundary="------------010008060903070504010207"
X-Gm-Message-State: ALoCoQk6TfppLCeD/8/6iEusM6Ml4y08lcqwVyfNZ08tiBi+Uzp1Bk0dV648yuF1g9JlJvuu/k6s
X-Virus-Checked: Checked by ClamAV on apache.org

--------------010008060903070504010207
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

On 10/05/2012 03:56 p.m., Pid wrote:
> On 10/05/2012 21:33, Reissner Pabn wrote:
>> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g
> Define an appropriately configured JDBC DataSource in server.xml.
>
>
> p
>
using the ip adress of db server an the db name ?

-- 
Reissner Pabon Castro
C E O
www.bucalinux.com
reispab@bucalinux.com
3102748518



--------------010008060903070504010207
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--------------010008060903070504010207--

From users-return-234167-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 13:08:00 2012
Return-Path: <users-return-234167-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38A2EC737
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 13:08:00 +0000 (UTC)
Received: (qmail 65922 invoked by uid 500); 11 May 2012 13:07:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65666 invoked by uid 500); 11 May 2012 13:07:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65656 invoked by uid 99); 11 May 2012 13:07:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:07:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.32.181.181] (HELO ch1outboundpool.messaging.microsoft.com) (216.32.181.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:07:47 +0000
Received: from mail154-ch1-R.bigfish.com (10.43.68.225) by
 CH1EHSOBE010.bigfish.com (10.43.70.60) with Microsoft SMTP Server id
 14.1.225.23; Fri, 11 May 2012 13:07:19 +0000
Received: from mail154-ch1 (localhost [127.0.0.1])	by
 mail154-ch1-R.bigfish.com (Postfix) with ESMTP id 9C769160A07	for
 <users@tomcat.apache.org>; Fri, 11 May 2012 13:07:19 +0000 (UTC)
X-SpamScore: 0
X-BigFish: VPS0(zzc85fhzz1202hzz8275bh8275dhz2dh2a8h668h839hd25h)
X-Forefront-Antispam-Report: CIP:216.255.126.2;KIP:(null);UIP:(null);IPV:NLI;H:Exchange1.cleverdevices.com;RD:D8FF7e02.cst.lightpath.net;EFVD:NLI
Received: from mail154-ch1 (localhost.localdomain [127.0.0.1]) by mail154-ch1
 (MessageSwitch) id 1336741637432681_30831; Fri, 11 May 2012 13:07:17 +0000
 (UTC)
Received: from CH1EHSMHS013.bigfish.com (snatpool1.int.messaging.microsoft.com
 [10.43.68.242])	by mail154-ch1.bigfish.com (Postfix) with ESMTP id
 6537E2200EF	for <users@tomcat.apache.org>; Fri, 11 May 2012 13:07:17 +0000
 (UTC)
Received: from Exchange1.cleverdevices.com (216.255.126.2) by
 CH1EHSMHS013.bigfish.com (10.43.70.13) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 11 May 2012 13:07:16 +0000
Received: from EXCHANGE2.cleverdevices.com ([fe80::ed8f:b333:f440:c132]) by
 Exchange1.cleverdevices.com ([fe80::6c09:d6b7:6435:6728%13]) with mapi id
 14.01.0355.002; Fri, 11 May 2012 09:07:16 -0400
From: Irene Amatulli <IAmatulli@CleverDevices.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: http status 404 error
Thread-Topic: http status 404 error
Thread-Index: Ac0vdvx6loNPGALWTw+tnrRFLhnISg==
Date: Fri, 11 May 2012 13:07:15 +0000
Message-ID: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [192.168.11.8]
Content-Type: multipart/alternative;
	boundary="_000_5987A528DE04174FBF7685518F92EFCC0B4CD196Exchange2clever_"
MIME-Version: 1.0
X-OriginatorOrg: cleverdevices.com

--_000_5987A528DE04174FBF7685518F92EFCC0B4CD196Exchange2clever_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I got this error when trying to access my application's website.  The Tomca=
t service is running, so I don't know why I got this error.  The website ap=
peared with no problems when I used it yesterday.  I'm not sure if some upd=
ates that were applied to the server may have caused this to happen.  Thank=
s.

Irene

HTTP Status 404 -
________________________________
type Status report
message
description The requested resource () is not available.
________________________________
Apache Tomcat/6.0.20


--_000_5987A528DE04174FBF7685518F92EFCC0B4CD196Exchange2clever_--

From users-return-234168-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 13:14:16 2012
Return-Path: <users-return-234168-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31B34C770
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 13:14:16 +0000 (UTC)
Received: (qmail 95843 invoked by uid 500); 11 May 2012 13:14:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95783 invoked by uid 500); 11 May 2012 13:14:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95773 invoked by uid 99); 11 May 2012 13:14:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:14:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:14:06 +0000
Received: by obbwd20 with SMTP id wd20so4530561obb.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 06:13:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=kCGebw3i6e+++CQQKMfRfMQo5ciIspLJGuOzBXXT9UQ=;
        b=0S5LGYiwRHka7Mw948OFjfyDHTCLNT1siJaa8c9tTTvBOEeSkEU1R07g3y81HzxTEW
         xCWeI9d5AnSNHNFeyKmn1hS26yzXwXGXT3TDsL5h19gEDHtbsybjhmjLisHze7vUu0la
         HIOiip6SD0rP3nRxa5m9iwmi+SGX9iJVl4Xa9Fp+ErXHhX82K/pJ0LeZo5tU07EFk0Ph
         N9+XTF23cnKYDd0lyTeAEiFeC1aa24SwgPCn8E0r75tQfIgIXZ6DMuxhEUhl/376Om6d
         TUaV9vgJg8YiRTbvTw6MLS+0E9sC+MG8TOXhZa6q7IsJitsRNRx9r/v9pqVMoxZk6U7X
         SmNA==
Received: by 10.182.51.9 with SMTP id g9mr3723463obo.56.1336742025360; Fri, 11
 May 2012 06:13:45 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.113.241 with HTTP; Fri, 11 May 2012 06:13:25 -0700 (PDT)
In-Reply-To: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Fri, 11 May 2012 15:13:25 +0200
Message-ID: <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com>
Subject: Re: http status 404 error
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/11 Irene Amatulli <IAmatulli@cleverdevices.com>:
> Hi,
>
> I got this error when trying to access my application's website. =A0The T=
omcat service is running, so I don't know why I got this error. =A0The webs=
ite appeared with no problems when I used it yesterday. =A0I'm not sure if =
some updates that were applied to the server may have caused this to happen=
. =A0Thanks.
>


Pid, it's your turn  ( smart questions, you know  ...)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234169-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 13:25:51 2012
Return-Path: <users-return-234169-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D569CF92
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 13:25:51 +0000 (UTC)
Received: (qmail 26388 invoked by uid 500); 11 May 2012 13:25:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26317 invoked by uid 500); 11 May 2012 13:25:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26308 invoked by uid 99); 11 May 2012 13:25:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:25:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of giles@coochey.net designates 77.245.69.194 as permitted sender)
Received: from [77.245.69.194] (HELO smtp.netsecspec.co.uk) (77.245.69.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 13:25:43 +0000
Received: from [10.10.20.79] (grail1.oxfam.org.uk [86.12.173.9])
	(authenticated bits=0)
	by smtp.netsecspec.co.uk (8.14.5/8.14.5) with ESMTP id q4BDPLcb013136
	(version=TLSv1/SSLv3 cipher=DHE-RSA-CAMELLIA256-SHA bits=256 verify=OK)
	for <users@tomcat.apache.org>; Fri, 11 May 2012 14:25:21 +0100
Message-ID: <4FAD1341.2080406@coochey.net>
Date: Fri, 11 May 2012 14:25:21 +0100
From: Giles Coochey <giles@coochey.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: http status 404 error
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com> <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com>
In-Reply-To: <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com>
Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha1; boundary="------------ms090907060702090203040205"
X-Virus-Scanned: clamav-milter 0.97.3 at smtp.netsecspec.co.uk
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

--------------ms090907060702090203040205
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 14:13, Jose Mar=EDa Zaragoza wrote:
> 2012/5/11 Irene Amatulli<IAmatulli@cleverdevices.com>:
>> Hi,
>>
>> I got this error when trying to access my application's website.  The =
Tomcat service is running, so I don't know why I got this error.  The web=
site appeared with no problems when I used it yesterday.  I'm not sure if=
 some updates that were applied to the server may have caused this to hap=
pen.  Thanks.
>>
>
> Pid, it's your turn  ( smart questions, you know  ...)
Actually, this is one for Uri Geller I think.

--=20
Best Regards,
Giles Coochey, CCNA Security, CCNA
NetSecSpec Ltd
giles.coochey@netsecspec.co.uk
Tel: +44 (0) 7983 877 438
Live Messenger: giles@coochey.net
http://www.netsecspec.co.uk
http://www.coochey.net


--------------ms090907060702090203040205
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIOMjCC
BjQwggQcoAMCAQICAR4wDQYJKoZIhvcNAQEFBQAwfTELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxKTAnBgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA3
MTAyNDIxMDE1NVoXDTE3MTAyNDIxMDE1NVowgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1T
dGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWdu
aW5nMTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENs
aWVudCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMcJg8zOLdgasSmkLhOr
lr6KMoOMpohBllVHrdRvEg/q6r8jR+EK75xCGhR8ToREoqe7zM9/UnC6TS2y9UKTpT1v7RSM
zR0t6ndl0TWBuUr/UXBhPk+Kmy7bI4yW4urC+y7P3/1/X7U8ocb8VpH/Clt+4iq7nirMcNh6
qJR+xjOhV+VHzQMALuGYn5KZmc1NbJQYclsGkDxDz2UbFqE2+6vIZoL+jb9x4Pa5gNf1TwSD
kOkikZB1xtB4ZqtXThaABSONdfmv/Z1pua3FYxnCFmdr/+N2JLKutIxMYqQOJebr/f/h5t95
m4JgrM3Y/w7YX9d7YAL9jvN4SydHsU6n65cCAwEAAaOCAa0wggGpMA8GA1UdEwEB/wQFMAMB
Af8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRTcu2SnODaywFcfH6WNU7y1LhRgjAfBgNV
HSMEGDAWgBROC+8apEBbpRdphzDKNGhD0EGu8jBmBggrBgEFBQcBAQRaMFgwJwYIKwYBBQUH
MAGGG2h0dHA6Ly9vY3NwLnN0YXJ0c3NsLmNvbS9jYTAtBggrBgEFBQcwAoYhaHR0cDovL3d3
dy5zdGFydHNzbC5jb20vc2ZzY2EuY3J0MFsGA1UdHwRUMFIwJ6AloCOGIWh0dHA6Ly93d3cu
c3RhcnRzc2wuY29tL3Nmc2NhLmNybDAnoCWgI4YhaHR0cDovL2NybC5zdGFydHNzbC5jb20v
c2ZzY2EuY3JsMIGABgNVHSAEeTB3MHUGCysGAQQBgbU3AQIBMGYwLgYIKwYBBQUHAgEWImh0
dHA6Ly93d3cuc3RhcnRzc2wuY29tL3BvbGljeS5wZGYwNAYIKwYBBQUHAgEWKGh0dHA6Ly93
d3cuc3RhcnRzc2wuY29tL2ludGVybWVkaWF0ZS5wZGYwDQYJKoZIhvcNAQEFBQADggIBAAqD
CH14qywGXLhjjF6uHLkjd02hcdh9hrw+VUsv+q1eeQWB21jWj3kJ96AUlPCoEGZ/ynJNScWy
6QMVQjbbMXltUfO4n4bGGdKo3awPWp61tjAFgraLJgDk+DsSvUD6EowjMTNx25GQgyYJ5RPI
zKKR9tQW8gGK+2+RHxkUCTbYFnL6kl8Ch507rUdPPipJ9CgJFws3kDS3gOS5WFMxcjO5DwKf
KSETEPrHh7p5shuuNktvsv6hxHTLhiMKX893gxdT3XLS9OKmCv87vkINQcNEcIIoFWbP9HOR
z9v3vQwR4e3ksLc2JZOAFK+ssS5XMEoznzpihEP0PLc4dCBYjbvSD7kxgDwZ+Aj8Q9PkbvE9
sIPP7ON0fz095HdThKjiVJe6vofq+n6b1NBc8XdrQvBmunwxD5nvtTW4vtN6VY7mUCmxsCie
uoBJ9OlqmsVWQvifIYf40dJPZkk9YgGTzWLpXDSfLSplbY2LL9C9U0ptvjcDjefLTvqSFc7t
w1sEhF0n/qpA2r0GpvkLRDmcSwVyPvmjFBGqUp/pNy8ZuPGQmHwFi2/14+xeSUDG2bwnsYJQ
G2EdJCB6luQ57GEnTA/yKZSTKI8dDQa8Sd3zfXb19mOgSF0bBdXbuKhEpuP9wirslFe6fQ1t
5j5R0xi72MZ8ikMu1RQZKCyDbMwazlHiMIIH9jCCBt6gAwIBAgIDA+MyMA0GCSqGSIb3DQEB
CwUAMIGMMQswCQYDVQQGEwJJTDEWMBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMi
U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZzE4MDYGA1UEAxMvU3RhcnRDb20g
Q2xhc3MgMSBQcmltYXJ5IEludGVybWVkaWF0ZSBDbGllbnQgQ0EwHhcNMTIwMzEzMDQ0NjQ4
WhcNMTMwMzE0MDc1OTUzWjA+MRowGAYDVQQDDBFnaWxlc0Bjb29jaGV5Lm5ldDEgMB4GCSqG
SIb3DQEJARYRZ2lsZXNAY29vY2hleS5uZXQwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIK
AoICAQCoA4zqMcj1394GCTq0/D42F7jr1601tA9huVU1878zQ5EgmC9oUtVBZAN8pqY54Kkf
E+EQZ+Yv4nfYFJKCHTQdy55cYTdSW+qXBogmuUfauP2dPqdGQn4dVHvXZUdj3vCSaDlY56Ub
BZ4xrUArnX0lQ9Mw4dQc2CYEjBF+LFBarDHy1f5iH6BRz+KB6kfAydlS8Y/R3zHA2J1mqgLD
6/2ex/dUT5zGdhfYGxVJ1OVjh15GbdwyqKiE8xLsIrFjViPSWcEUuA/U7sZaFjvZ06fM+yoU
WoIfe0Gmq/HHykZAHppjz9rpETXGkNmC7x/VMw0hBipGUXEU0CJr6BFB3f06vOh91jJ15vku
EAcb2RCm1vZ6L0ECrEza8q28OEEIeGWXHOipEPL8ZRYA362YEcvefvxsBc1qZ5OlujjojEql
7Li/tijgaDKZEnB9rQ23dq71hkZC2L1SQClz/WcmPW9KzSodQBh3o/glCHm9eYv+lYOcBcS6
7ehOCSUYph1tFpen2v0RFfDqTdukUiR49Br2GoZi/57Jyj7k43gE+eD5ARXKdY8iPv02JEG6
hxRtG2n4dauAlr+c5y9zMPZ29gOo0kPveVJItViSYxko5X0w5ScYeEWW6vHMON5T1qjBy1xt
Fnasm+5/gpNW7055NJvxzSm4/z+Sa90KheApN/PvGwIDAQABo4IDrDCCA6gwCQYDVR0TBAIw
ADALBgNVHQ8EBAMCBLAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMB0GA1UdDgQW
BBQeUEIIGlVNa/xu8S8nRmnaWEkTizAfBgNVHSMEGDAWgBRTcu2SnODaywFcfH6WNU7y1LhR
gjAcBgNVHREEFTATgRFnaWxlc0Bjb29jaGV5Lm5ldDCCAiEGA1UdIASCAhgwggIUMIICEAYL
KwYBBAGBtTcBAgIwggH/MC4GCCsGAQUFBwIBFiJodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9w
b2xpY3kucGRmMDQGCCsGAQUFBwIBFihodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9pbnRlcm1l
ZGlhdGUucGRmMIH3BggrBgEFBQcCAjCB6jAnFiBTdGFydENvbSBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTADAgEBGoG+VGhpcyBjZXJ0aWZpY2F0ZSB3YXMgaXNzdWVkIGFjY29yZGluZyB0
byB0aGUgQ2xhc3MgMSBWYWxpZGF0aW9uIHJlcXVpcmVtZW50cyBvZiB0aGUgU3RhcnRDb20g
Q0EgcG9saWN5LCByZWxpYW5jZSBvbmx5IGZvciB0aGUgaW50ZW5kZWQgcHVycG9zZSBpbiBj
b21wbGlhbmNlIG9mIHRoZSByZWx5aW5nIHBhcnR5IG9ibGlnYXRpb25zLjCBnAYIKwYBBQUH
AgIwgY8wJxYgU3RhcnRDb20gQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwAwIBAhpkTGlhYmls
aXR5IGFuZCB3YXJyYW50aWVzIGFyZSBsaW1pdGVkISBTZWUgc2VjdGlvbiAiTGVnYWwgYW5k
IExpbWl0YXRpb25zIiBvZiB0aGUgU3RhcnRDb20gQ0EgcG9saWN5LjA2BgNVHR8ELzAtMCug
KaAnhiVodHRwOi8vY3JsLnN0YXJ0c3NsLmNvbS9jcnR1MS1jcmwuY3JsMIGOBggrBgEFBQcB
AQSBgTB/MDkGCCsGAQUFBzABhi1odHRwOi8vb2NzcC5zdGFydHNzbC5jb20vc3ViL2NsYXNz
MS9jbGllbnQvY2EwQgYIKwYBBQUHMAKGNmh0dHA6Ly9haWEuc3RhcnRzc2wuY29tL2NlcnRz
L3N1Yi5jbGFzczEuY2xpZW50LmNhLmNydDAjBgNVHRIEHDAahhhodHRwOi8vd3d3LnN0YXJ0
c3NsLmNvbS8wDQYJKoZIhvcNAQELBQADggEBALB3Ohmsu7Kvdwji3PTc90LzXRtehL5sQpu1
cmKj22ZzG7GBG5/ZmlUCm2uDLo2gM71mFjMftB/+xLwTkPRqG+YrgZ7xLGTG7AN/Vg4g9WeE
+k12rK4dDDWGOBNBSkamYP8y8cBksKNpiYkGED3MlBCzQA4dleqSz+nILESgK3KnJkz71VZC
J+uRSOYbBqy/jeJT3X5QCLCywA7E7EP80+Dj2HzJ0qFENJJXiiSuXe3AvA1xQe8MlFV0ZgDG
h4tGqN8T5j5s4km3xgeoJFFkZsSZI1teWt+9SR/Vex597EkjxuFn3F7j5jGHu6eVMbgcjLl8
eNHURxy8FidRfg95lO8xggTQMIIEzAIBATCBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlhdGUg
Q2xpZW50IENBAgMD4zIwCQYFKw4DAhoFAKCCAhAwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEH
ATAcBgkqhkiG9w0BCQUxDxcNMTIwNTExMTMyNTIxWjAjBgkqhkiG9w0BCQQxFgQUu/R9CIbX
nWmbrHV+zdBKO5L6Bo0wXwYJKoZIhvcNAQkPMVIwUDALBglghkgBZQMEAQIwCgYIKoZIhvcN
AwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMC
AgEoMIGlBgkrBgEEAYI3EAQxgZcwgZQwgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1TdGFy
dENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5n
MTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENsaWVu
dCBDQQIDA+MyMIGnBgsqhkiG9w0BCRACCzGBl6CBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNV
BAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRl
IFNpZ25pbmcxODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlh
dGUgQ2xpZW50IENBAgMD4zIwDQYJKoZIhvcNAQEBBQAEggIAM6CrbJRst+FTxjQVlGlKj7ZW
2VYcuWV7A+VUDQSC6Lyb14NYs7AqNJHd6bJHkEy2yENg2MmnN1WPnZv3zup2kFZ4F9rXw9Rd
+TB5wahSlwRpWrYmtUZG7HgBzDIvaHmyEovpCssPYqaeUHalWbDOcxSgBJ34VqOQkRGdeGLe
+Nftjs/ADQnHDWhYeXGHfsAVWv2IO4HdB0l7yjD+vVTmTOY0D5awoGjgTJynGjYsZQs1k1wo
tQIZkB46zAWe57M2tEVyC45siNJL5UY3BY5INF5nOUVyqDS9CPiUmWICqqK7sGvgz3p2SiII
ZVTqqihe/fh/xzZTGEWPhwnw1jbjWnINujb2sVRwztRyD1ZGyfOqmINLecSr6gceUmRRimS/
ja/UkcnGACHnl54wxRVVGFwlUl+BVM1PYrusMuxa/IZ+CQ6+HvoTI8Mds05XWbKdGEijHhkb
bJMoU6JVOfLZ2AqsmwRb8m1CmipgcGhTxLfOaOfbmjG1ifohABZZE1HaCBIlTDTo68r7pmqs
mrCswGfb1BW2NV63pk77/BYg8kRZy+H92Cg/4mwxO6D3AOYKFrXYyA7yTy+7AM484ce4t4XE
OSjIG8sGFVWRaZ0sZR6rcqQNp7/G+YNOR4YdNNSOfbyl4TMi1gqm1yRgUtECVsPnXFwz6N43
exNe7xaobCoAAAAAAAA=
--------------ms090907060702090203040205--

From users-return-234170-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 14:20:28 2012
Return-Path: <users-return-234170-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED71D969A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 14:20:27 +0000 (UTC)
Received: (qmail 747 invoked by uid 500); 11 May 2012 14:20:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 567 invoked by uid 500); 11 May 2012 14:20:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 558 invoked by uid 99); 11 May 2012 14:20:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:20:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:20:19 +0000
Received: by yenm4 with SMTP id m4so3656680yen.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 07:19:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=5FMOOJyw0gYRrSUwZ8FZd8LVHnVz+1sEicj3T6EA7zE=;
        b=AegNcJw2ug8w+OocA+UCZL6IRKWj45eddXnsQXpdOKDChrz2McVBydbqSR3+hN8qF6
         5vzZKAubXdQT31Wnjnz/wyQ7xaJ/2yIpUxrPU4WIVz21wyOHw+0ACH1oZ1pUBGgCtdBG
         UNRelNsB8HSLe6ktDNUlD4dE9xPFXEwSgo/4rRvMoros7laHJqkZwyXObxmoE9EAChHN
         hq0nZ4u2pk/N7wzAnxrz+w3I7gpMU6RdTBkINskqMl/Bd8qrHTonCIPYrAXQFpVArBrY
         McuNp+ScZEQSzbYOhaZ/RV00ONh8sWdzUcgVxAtyz1Dni/arLxqMO4EtWVRBzOFM79AA
         sUAw==
MIME-Version: 1.0
Received: by 10.236.201.201 with SMTP id b49mr10524257yho.19.1336745998610;
 Fri, 11 May 2012 07:19:58 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Fri, 11 May 2012 07:19:58 -0700 (PDT)
In-Reply-To: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
Date: Fri, 11 May 2012 18:19:58 +0400
Message-ID: <CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
Subject: Re: http status 404 error
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/11 Irene Amatulli <IAmatulli@cleverdevices.com>:
> Hi,
>
> I got this error when trying to access my application's website.

Are you sure that it is your web site?
Configure an access log at the server and look for evidences.

> =A0The Tomcat service is running, so I don't know why I got this error. =
=A0The website appeared with no problems when I used it yesterday. =A0I'm n=
ot sure if some updates that were applied to the server may have caused thi=
s to happen. =A0Thanks.
>
> Irene
>
> HTTP Status 404 -
> ________________________________
> type Status report
> message
> description The requested resource () is not available.
> ________________________________
> Apache Tomcat/6.0.20
>

Tomcat itself is running. Your application is not.

Either your application did not start, or it is just is not there.

BTW, Tomcat 6.0.20 is 3 years old.
Here is a list of known security issues fixed in later releases:
http://tomcat.apache.org/security-6.html

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234171-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 14:26:31 2012
Return-Path: <users-return-234171-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C440CC2CF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 14:26:31 +0000 (UTC)
Received: (qmail 18612 invoked by uid 500); 11 May 2012 14:26:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18382 invoked by uid 500); 11 May 2012 14:26:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18372 invoked by uid 99); 11 May 2012 14:26:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:26:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of giles@coochey.net designates 77.245.69.194 as permitted sender)
Received: from [77.245.69.194] (HELO smtp.netsecspec.co.uk) (77.245.69.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:26:21 +0000
Received: from [10.10.20.79] (grail1.oxfam.org.uk [86.12.173.9])
	(authenticated bits=0)
	by smtp.netsecspec.co.uk (8.14.5/8.14.5) with ESMTP id q4BEQ0SS013846
	(version=TLSv1/SSLv3 cipher=DHE-RSA-CAMELLIA256-SHA bits=256 verify=OK)
	for <users@tomcat.apache.org>; Fri, 11 May 2012 15:26:00 +0100
Message-ID: <4FAD2178.2030805@coochey.net>
Date: Fri, 11 May 2012 15:26:00 +0100
From: Giles Coochey <giles@coochey.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: http status 404 error
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com> <CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
In-Reply-To: <CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha1; boundary="------------ms070000090409090500090103"
X-Virus-Scanned: clamav-milter 0.97.3 at smtp.netsecspec.co.uk
X-Virus-Status: Clean

--------------ms070000090409090500090103
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 15:19, Konstantin Kolinko wrote:
>
> BTW, Tomcat 6.0.20 is 3 years old.
> Here is a list of known security issues fixed in later releases:
> http://tomcat.apache.org/security-6.html
>
>
Strangely enough that URL gives me a 404... perhaps this problem is=20
spreading!!
--=20
Best Regards,
Giles Coochey, CCNA Security, CCNA
NetSecSpec Ltd
giles.coochey@netsecspec.co.uk
Tel: +44 (0) 7983 877 438
Live Messenger: giles@coochey.net
http://www.netsecspec.co.uk
http://www.coochey.net


--------------ms070000090409090500090103
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIOMjCC
BjQwggQcoAMCAQICAR4wDQYJKoZIhvcNAQEFBQAwfTELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxKTAnBgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA3
MTAyNDIxMDE1NVoXDTE3MTAyNDIxMDE1NVowgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1T
dGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWdu
aW5nMTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENs
aWVudCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMcJg8zOLdgasSmkLhOr
lr6KMoOMpohBllVHrdRvEg/q6r8jR+EK75xCGhR8ToREoqe7zM9/UnC6TS2y9UKTpT1v7RSM
zR0t6ndl0TWBuUr/UXBhPk+Kmy7bI4yW4urC+y7P3/1/X7U8ocb8VpH/Clt+4iq7nirMcNh6
qJR+xjOhV+VHzQMALuGYn5KZmc1NbJQYclsGkDxDz2UbFqE2+6vIZoL+jb9x4Pa5gNf1TwSD
kOkikZB1xtB4ZqtXThaABSONdfmv/Z1pua3FYxnCFmdr/+N2JLKutIxMYqQOJebr/f/h5t95
m4JgrM3Y/w7YX9d7YAL9jvN4SydHsU6n65cCAwEAAaOCAa0wggGpMA8GA1UdEwEB/wQFMAMB
Af8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRTcu2SnODaywFcfH6WNU7y1LhRgjAfBgNV
HSMEGDAWgBROC+8apEBbpRdphzDKNGhD0EGu8jBmBggrBgEFBQcBAQRaMFgwJwYIKwYBBQUH
MAGGG2h0dHA6Ly9vY3NwLnN0YXJ0c3NsLmNvbS9jYTAtBggrBgEFBQcwAoYhaHR0cDovL3d3
dy5zdGFydHNzbC5jb20vc2ZzY2EuY3J0MFsGA1UdHwRUMFIwJ6AloCOGIWh0dHA6Ly93d3cu
c3RhcnRzc2wuY29tL3Nmc2NhLmNybDAnoCWgI4YhaHR0cDovL2NybC5zdGFydHNzbC5jb20v
c2ZzY2EuY3JsMIGABgNVHSAEeTB3MHUGCysGAQQBgbU3AQIBMGYwLgYIKwYBBQUHAgEWImh0
dHA6Ly93d3cuc3RhcnRzc2wuY29tL3BvbGljeS5wZGYwNAYIKwYBBQUHAgEWKGh0dHA6Ly93
d3cuc3RhcnRzc2wuY29tL2ludGVybWVkaWF0ZS5wZGYwDQYJKoZIhvcNAQEFBQADggIBAAqD
CH14qywGXLhjjF6uHLkjd02hcdh9hrw+VUsv+q1eeQWB21jWj3kJ96AUlPCoEGZ/ynJNScWy
6QMVQjbbMXltUfO4n4bGGdKo3awPWp61tjAFgraLJgDk+DsSvUD6EowjMTNx25GQgyYJ5RPI
zKKR9tQW8gGK+2+RHxkUCTbYFnL6kl8Ch507rUdPPipJ9CgJFws3kDS3gOS5WFMxcjO5DwKf
KSETEPrHh7p5shuuNktvsv6hxHTLhiMKX893gxdT3XLS9OKmCv87vkINQcNEcIIoFWbP9HOR
z9v3vQwR4e3ksLc2JZOAFK+ssS5XMEoznzpihEP0PLc4dCBYjbvSD7kxgDwZ+Aj8Q9PkbvE9
sIPP7ON0fz095HdThKjiVJe6vofq+n6b1NBc8XdrQvBmunwxD5nvtTW4vtN6VY7mUCmxsCie
uoBJ9OlqmsVWQvifIYf40dJPZkk9YgGTzWLpXDSfLSplbY2LL9C9U0ptvjcDjefLTvqSFc7t
w1sEhF0n/qpA2r0GpvkLRDmcSwVyPvmjFBGqUp/pNy8ZuPGQmHwFi2/14+xeSUDG2bwnsYJQ
G2EdJCB6luQ57GEnTA/yKZSTKI8dDQa8Sd3zfXb19mOgSF0bBdXbuKhEpuP9wirslFe6fQ1t
5j5R0xi72MZ8ikMu1RQZKCyDbMwazlHiMIIH9jCCBt6gAwIBAgIDA+MyMA0GCSqGSIb3DQEB
CwUAMIGMMQswCQYDVQQGEwJJTDEWMBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMi
U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZzE4MDYGA1UEAxMvU3RhcnRDb20g
Q2xhc3MgMSBQcmltYXJ5IEludGVybWVkaWF0ZSBDbGllbnQgQ0EwHhcNMTIwMzEzMDQ0NjQ4
WhcNMTMwMzE0MDc1OTUzWjA+MRowGAYDVQQDDBFnaWxlc0Bjb29jaGV5Lm5ldDEgMB4GCSqG
SIb3DQEJARYRZ2lsZXNAY29vY2hleS5uZXQwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIK
AoICAQCoA4zqMcj1394GCTq0/D42F7jr1601tA9huVU1878zQ5EgmC9oUtVBZAN8pqY54Kkf
E+EQZ+Yv4nfYFJKCHTQdy55cYTdSW+qXBogmuUfauP2dPqdGQn4dVHvXZUdj3vCSaDlY56Ub
BZ4xrUArnX0lQ9Mw4dQc2CYEjBF+LFBarDHy1f5iH6BRz+KB6kfAydlS8Y/R3zHA2J1mqgLD
6/2ex/dUT5zGdhfYGxVJ1OVjh15GbdwyqKiE8xLsIrFjViPSWcEUuA/U7sZaFjvZ06fM+yoU
WoIfe0Gmq/HHykZAHppjz9rpETXGkNmC7x/VMw0hBipGUXEU0CJr6BFB3f06vOh91jJ15vku
EAcb2RCm1vZ6L0ECrEza8q28OEEIeGWXHOipEPL8ZRYA362YEcvefvxsBc1qZ5OlujjojEql
7Li/tijgaDKZEnB9rQ23dq71hkZC2L1SQClz/WcmPW9KzSodQBh3o/glCHm9eYv+lYOcBcS6
7ehOCSUYph1tFpen2v0RFfDqTdukUiR49Br2GoZi/57Jyj7k43gE+eD5ARXKdY8iPv02JEG6
hxRtG2n4dauAlr+c5y9zMPZ29gOo0kPveVJItViSYxko5X0w5ScYeEWW6vHMON5T1qjBy1xt
Fnasm+5/gpNW7055NJvxzSm4/z+Sa90KheApN/PvGwIDAQABo4IDrDCCA6gwCQYDVR0TBAIw
ADALBgNVHQ8EBAMCBLAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMB0GA1UdDgQW
BBQeUEIIGlVNa/xu8S8nRmnaWEkTizAfBgNVHSMEGDAWgBRTcu2SnODaywFcfH6WNU7y1LhR
gjAcBgNVHREEFTATgRFnaWxlc0Bjb29jaGV5Lm5ldDCCAiEGA1UdIASCAhgwggIUMIICEAYL
KwYBBAGBtTcBAgIwggH/MC4GCCsGAQUFBwIBFiJodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9w
b2xpY3kucGRmMDQGCCsGAQUFBwIBFihodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9pbnRlcm1l
ZGlhdGUucGRmMIH3BggrBgEFBQcCAjCB6jAnFiBTdGFydENvbSBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTADAgEBGoG+VGhpcyBjZXJ0aWZpY2F0ZSB3YXMgaXNzdWVkIGFjY29yZGluZyB0
byB0aGUgQ2xhc3MgMSBWYWxpZGF0aW9uIHJlcXVpcmVtZW50cyBvZiB0aGUgU3RhcnRDb20g
Q0EgcG9saWN5LCByZWxpYW5jZSBvbmx5IGZvciB0aGUgaW50ZW5kZWQgcHVycG9zZSBpbiBj
b21wbGlhbmNlIG9mIHRoZSByZWx5aW5nIHBhcnR5IG9ibGlnYXRpb25zLjCBnAYIKwYBBQUH
AgIwgY8wJxYgU3RhcnRDb20gQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwAwIBAhpkTGlhYmls
aXR5IGFuZCB3YXJyYW50aWVzIGFyZSBsaW1pdGVkISBTZWUgc2VjdGlvbiAiTGVnYWwgYW5k
IExpbWl0YXRpb25zIiBvZiB0aGUgU3RhcnRDb20gQ0EgcG9saWN5LjA2BgNVHR8ELzAtMCug
KaAnhiVodHRwOi8vY3JsLnN0YXJ0c3NsLmNvbS9jcnR1MS1jcmwuY3JsMIGOBggrBgEFBQcB
AQSBgTB/MDkGCCsGAQUFBzABhi1odHRwOi8vb2NzcC5zdGFydHNzbC5jb20vc3ViL2NsYXNz
MS9jbGllbnQvY2EwQgYIKwYBBQUHMAKGNmh0dHA6Ly9haWEuc3RhcnRzc2wuY29tL2NlcnRz
L3N1Yi5jbGFzczEuY2xpZW50LmNhLmNydDAjBgNVHRIEHDAahhhodHRwOi8vd3d3LnN0YXJ0
c3NsLmNvbS8wDQYJKoZIhvcNAQELBQADggEBALB3Ohmsu7Kvdwji3PTc90LzXRtehL5sQpu1
cmKj22ZzG7GBG5/ZmlUCm2uDLo2gM71mFjMftB/+xLwTkPRqG+YrgZ7xLGTG7AN/Vg4g9WeE
+k12rK4dDDWGOBNBSkamYP8y8cBksKNpiYkGED3MlBCzQA4dleqSz+nILESgK3KnJkz71VZC
J+uRSOYbBqy/jeJT3X5QCLCywA7E7EP80+Dj2HzJ0qFENJJXiiSuXe3AvA1xQe8MlFV0ZgDG
h4tGqN8T5j5s4km3xgeoJFFkZsSZI1teWt+9SR/Vex597EkjxuFn3F7j5jGHu6eVMbgcjLl8
eNHURxy8FidRfg95lO8xggTQMIIEzAIBATCBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlhdGUg
Q2xpZW50IENBAgMD4zIwCQYFKw4DAhoFAKCCAhAwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEH
ATAcBgkqhkiG9w0BCQUxDxcNMTIwNTExMTQyNjAwWjAjBgkqhkiG9w0BCQQxFgQUmorq8Wdz
vXz79LR/EtlL9H35p5IwXwYJKoZIhvcNAQkPMVIwUDALBglghkgBZQMEAQIwCgYIKoZIhvcN
AwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMC
AgEoMIGlBgkrBgEEAYI3EAQxgZcwgZQwgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1TdGFy
dENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5n
MTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENsaWVu
dCBDQQIDA+MyMIGnBgsqhkiG9w0BCRACCzGBl6CBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNV
BAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRl
IFNpZ25pbmcxODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlh
dGUgQ2xpZW50IENBAgMD4zIwDQYJKoZIhvcNAQEBBQAEggIAbJ8E3ue51AxF6DbRZqCohVxS
VRrMR731coKaicsYDL40UbCDSB1EIGMXHkP+9zqUWlEksdPDigWHWaOgW287e074tY11ZwoD
tcJUgrLxauD8oeLNhL1aRPgIA5SqcwelveLhEf2ycpZeiJvsLboDOaMoQJh5Jb018mbyFmNb
Lv8vHFXpGGpTNoId0UKk81yZj2iw+bXETyzNWdoUCR0vmmBLzTcrlfmlATCRmuP46m9lpiT+
mzJxqSezsSVeJ8mqUmM1ycu2TSbYIS3Y06o3QWFNCcbX+LQLx+wpxHrs1QXGdhU13ut/ZEby
Q6A9oCu+Dg8bTUSYgU2YuPPfkD8MVkURvXGSp/4aQrbCfNDGN7tLZLp/CIFsv6HUQXj1Noi2
5I7OuxNn12dkIWvw8eistZL5JOsGPGAoJ9PUTz89ZaCv2wLyuJ6oM5gfkfw6vwHcI91/rhc5
afEcPpQDtcPrPfwzvazF6T0upbZZGinXIOHcBVruOm/kcQakUZaqjiL1dNqg4RwAZXu0vsqT
JdYNxJbIptsriLnM1GDfARC6JJOjOXoiGxj2v8A94st4IEDvc8bCM6+XpA6zRacQ2TiaVWrE
hFTG/GJzChgPL/ggt+Of35KDC5QtgLbSil/gIavWAMTMy8CF2w7n4OWVlpCWyNB+8hSWrMwC
E1IaJiLdkM8AAAAAAAA=
--------------ms070000090409090500090103--

From users-return-234172-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 14:27:01 2012
Return-Path: <users-return-234172-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22F57C4EE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 14:27:01 +0000 (UTC)
Received: (qmail 22191 invoked by uid 500); 11 May 2012 14:26:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22000 invoked by uid 500); 11 May 2012 14:26:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21991 invoked by uid 99); 11 May 2012 14:26:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:26:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.32.181.185] (HELO ch1outboundpool.messaging.microsoft.com) (216.32.181.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:26:49 +0000
Received: from mail207-ch1-R.bigfish.com (10.43.68.245) by
 CH1EHSOBE004.bigfish.com (10.43.70.54) with Microsoft SMTP Server id
 14.1.225.23; Fri, 11 May 2012 14:26:25 +0000
Received: from mail207-ch1 (localhost [127.0.0.1])	by
 mail207-ch1-R.bigfish.com (Postfix) with ESMTP id 6D4561002F7	for
 <users@tomcat.apache.org>; Fri, 11 May 2012 14:26:25 +0000 (UTC)
X-SpamScore: -20
X-BigFish: VPS-20(zzbb2dI9371I542M1432N11f6N62a3Izz1202hzz8275bh8275dhz2dh2a8h668h839hd25h)
X-Forefront-Antispam-Report: CIP:216.255.126.2;KIP:(null);UIP:(null);IPV:NLI;H:Exchange1.cleverdevices.com;RD:D8FF7e02.cst.lightpath.net;EFVD:NLI
Received: from mail207-ch1 (localhost.localdomain [127.0.0.1]) by mail207-ch1
 (MessageSwitch) id 1336746383948327_12751; Fri, 11 May 2012 14:26:23 +0000
 (UTC)
Received: from CH1EHSMHS017.bigfish.com (snatpool3.int.messaging.microsoft.com
 [10.43.68.228])	by mail207-ch1.bigfish.com (Postfix) with ESMTP id
 E3EB21E004C	for <users@tomcat.apache.org>; Fri, 11 May 2012 14:26:23 +0000
 (UTC)
Received: from Exchange1.cleverdevices.com (216.255.126.2) by
 CH1EHSMHS017.bigfish.com (10.43.70.17) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 11 May 2012 14:26:22 +0000
Received: from EXCHANGE2.cleverdevices.com ([fe80::ed8f:b333:f440:c132]) by
 Exchange1.cleverdevices.com ([fe80::6c09:d6b7:6435:6728%13]) with mapi id
 14.01.0355.002; Fri, 11 May 2012 10:26:22 -0400
From: Irene Amatulli <IAmatulli@CleverDevices.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: http status 404 error
Thread-Topic: http status 404 error
Thread-Index: Ac0vdvx6loNPGALWTw+tnrRFLhnISgAK698AAAgqx+A=
Date: Fri, 11 May 2012 14:26:22 +0000
Message-ID: <5987A528DE04174FBF7685518F92EFCC0B4CD1CA@Exchange2.cleverdevices.com>
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
 <CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
In-Reply-To: <CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [192.168.11.8]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: cleverdevices.com

Thank you very  much for your help Konstantin!

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Friday, May 11, 2012 10:20 AM
To: Tomcat Users List
Subject: Re: http status 404 error

2012/5/11 Irene Amatulli <IAmatulli@cleverdevices.com>:
> Hi,
>
> I got this error when trying to access my application's website.

Are you sure that it is your web site?
Configure an access log at the server and look for evidences.

> =A0The Tomcat service is running, so I don't know why I got this error. =
=A0The website appeared with no problems when I used it yesterday. =A0I'm n=
ot sure if some updates that were applied to the server may have caused thi=
s to happen. =A0Thanks.
>
> Irene
>
> HTTP Status 404 -
> ________________________________
> type Status report
> message
> description The requested resource () is not available.
> ________________________________
> Apache Tomcat/6.0.20
>

Tomcat itself is running. Your application is not.

Either your application did not start, or it is just is not there.

BTW, Tomcat 6.0.20 is 3 years old.
Here is a list of known security issues fixed in later releases:
http://tomcat.apache.org/security-6.html

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234173-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 14:49:55 2012
Return-Path: <users-return-234173-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4971FC111
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 14:49:55 +0000 (UTC)
Received: (qmail 2070 invoked by uid 500); 11 May 2012 14:49:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2004 invoked by uid 500); 11 May 2012 14:49:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1993 invoked by uid 99); 11 May 2012 14:49:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:49:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 14:49:45 +0000
Received: by yhoo21 with SMTP id o21so3663379yho.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 07:49:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DVwiY6UTu9OSzu7SFKSC0udZ3jxWus9E8bmf9zwC4Fs=;
        b=MvXya4BdIg6GV+snFzqA5VVWbmCzkyJ1j6xKuWAUu7QDCG0d2YLMCqbQp4b7QCgzJ/
         R6IhlEBaBd3EP3cXqVzwWVPBmIy7TkwHipjHRJptwl688dmDUkAWW8ZY78t6CNmA1c76
         87twmn72n1nLu44EFZa7QEHI5lSX3k7eX0p8ErB8qPfuiVHLcPNq2Qvj+Apq45lo2nyP
         O/7OJq1WXF1srIhf5IQFBDRFd2bmilUzPQlzBY+zCcMORhG0LZ037J1pCZIo8BxypOlR
         ORBSJFRcsXsnWugrjiSTihx9ibPAsV/EomqCJ5dTrpeufxRQT72BzgoMO/MYCtf/oNAM
         HzLg==
MIME-Version: 1.0
Received: by 10.236.201.201 with SMTP id b49mr10651619yho.19.1336747765021;
 Fri, 11 May 2012 07:49:25 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Fri, 11 May 2012 07:49:24 -0700 (PDT)
In-Reply-To: <4FAD2178.2030805@coochey.net>
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com>
	<CABzHfVm4t8DmvQDpbAPdqQRurSBG2JZwzMjWbUZPn93MYmDS1w@mail.gmail.com>
	<4FAD2178.2030805@coochey.net>
Date: Fri, 11 May 2012 18:49:24 +0400
Message-ID: <CABzHfVko51HpDv74HSXNjVa1ePwONY+WHfVHNR=iNrwrOcO5fQ@mail.gmail.com>
Subject: Re: http status 404 error
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/11 Giles Coochey <giles@coochey.net>:
> On 11/05/2012 15:19, Konstantin Kolinko wrote:
>>
>>
>> BTW, Tomcat 6.0.20 is 3 years old.
>> Here is a list of known security issues fixed in later releases:
>> http://tomcat.apache.org/security-6.html
>>
>>
> Strangely enough that URL gives me a 404... perhaps this problem is
> spreading!!
>

Works for me for both US and EU mirrors.

Try with https protocol, so that intermediate proxies do not interfere
(if you have those in your network) .

BTW, there is also known epidemic of a virus that misconfigures DNS at
client computers.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234174-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 17:54:01 2012
Return-Path: <users-return-234174-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA4F19809
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 17:54:01 +0000 (UTC)
Received: (qmail 72821 invoked by uid 500); 11 May 2012 17:53:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72775 invoked by uid 500); 11 May 2012 17:53:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72765 invoked by uid 99); 11 May 2012 17:53:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 17:53:58 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vtmckoy@hotmail.com designates 65.55.111.76 as permitted sender)
Received: from [65.55.111.76] (HELO blu0-omc2-s1.blu0.hotmail.com) (65.55.111.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 17:53:51 +0000
Received: from BLU162-W27 ([65.55.111.71]) by blu0-omc2-s1.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 11 May 2012 10:53:31 -0700
Message-ID: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_ce8e9b28-53ee-4ff8-8a66-0b36863e3759_"
X-Originating-IP: [20.137.2.51]
From: Vickie Troy-McKoy <vtmckoy@hotmail.com>
To: <users@tomcat.apache.org>
Subject: Multiple tomcat Instances on Same Server and One Apache Instance
Date: Fri, 11 May 2012 13:53:30 -0400
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 11 May 2012 17:53:31.0277 (UTC) FILETIME=[FA35A3D0:01CD2F9E]
X-Virus-Checked: Checked by ClamAV on apache.org

--_ce8e9b28-53ee-4ff8-8a66-0b36863e3759_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi=2C I am in need of a little help. =20

I have 2 tomcat instances running on the same machine and one apache instan=
ce running on a different machine.  I configured jk_mod to access the 1st t=
omcat instance.  Now=2C I have a second tomcat instance running on the same=
 server as the 1st instance.  I would like to access both tomcat instances =
via the one apache webserver instance.  Because some requests are reference=
d by the same name=2C there is a conflict. =20

On the tomcat server in server.xml=2C one instance is running on port 8009 =
and the 2nd instance (in another directory structure) is running on 7009.

On the apache server in httpd.conf=2C I have the following:

Listen 80
.
.
.
LoadModule jk_module modules/mod_jk.so

#
JkWorkersFile conf/workers.properties
JkMount /abc* instance1
JkMount /xyz* instance2

In workers.properties=2C I have the following:

worker.list=3Dinstance1=2C instance2
#
worker.instance1.port=3D8009
worker.instance1.host=3Dserver.xxxx.com
worker.instance1.type=3Dajp13
worker.instance1.lbfactor=3D1
worker.instance1.socket_keepalive=3D1
#
worker.instance2.port=3D7009
worker.instance2.host=3Dserver.xxxx.com
worker.instance2.type=3Dajp13
worker.instance2.lbfactor=3D1
worker.instance2.socket_keepalive=3D1

When I call abc*=2C it goes to instance1=3B and when I call xyz*=2C it goes=
 to instance2.  However=2C both instances have apps that start with "tsa". =
 How do I configure the apache webserver to service the "tsa" app for both =
tomcat instances?

Thank you...

_______________________________________
Regards=2C=20
 		 	   		  =

--_ce8e9b28-53ee-4ff8-8a66-0b36863e3759_--

From users-return-234175-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:04:03 2012
Return-Path: <users-return-234175-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C55FC9097
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:04:03 +0000 (UTC)
Received: (qmail 43525 invoked by uid 500); 11 May 2012 20:04:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43413 invoked by uid 500); 11 May 2012 20:04:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43389 invoked by uid 99); 11 May 2012 20:04:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:04:00 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [207.193.141.28] (HELO kcm-smtp-002.burnsmcd.com) (207.193.141.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:03:51 +0000
X-IronPort-AV: E=Sophos;i="4.75,572,1330927200"; 
   d="scan'208,217";a="73906"
Received: from unknown (HELO KCM-EXFE-001.burnsmcd.com) ([10.3.35.155])
  by kcm-smtp-002.burnsmcd.com with ESMTP/TLS/AES128-SHA; 11 May 2012 15:03:30 -0500
Received: from KCM-EXFE-002.burnsmcd.com (10.8.34.150) by
 KCM-EXFE-001.burnsmcd.com (10.3.35.155) with Microsoft SMTP Server (TLS) id
 8.3.245.1; Fri, 11 May 2012 15:03:30 -0500
Received: from bmcdmail01.burnsmcd.com ([169.254.1.120]) by
 KCM-EXFE-002.burnsmcd.com ([::1]) with mapi; Fri, 11 May 2012 15:03:30 -0500
From: "Haenni, Tia" <thaenni@burnsmcd.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Fri, 11 May 2012 15:03:29 -0500
Subject: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vsR9p5P9U3ddhTLexvwLEolh+iA==
Message-ID: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321BMCDMAIL01bur_"
MIME-Version: 1.0

--_000_ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321BMCDMAIL01bur_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

A recent RHEL patch supplied the following Tomcat packages which attempt to=
 address a possible DoS attack as outlines at the link below:

tomcat5-jasper-5.5.23-0jpp.31.el5_8
tomcat5-server-lib-5.5.23-0jpp.31.el5_8
tomcat5-servlet-2.4-api-5.5.23-0jpp.31.el5_8
tomcat5-jsp-2.0-api-5.5.23-0jpp.31.el5_8
tomcat5-admin-webapps-5.5.23-0jpp.31.el5_8
tomcat5-common-lib-5.5.23-0jpp.31.el5_8
tomcat5-webapps-5.5.23-0jpp.31.el5_8
tomcat5-5.5.23-0jpp.31.el5_8

http://rhn.redhat.com/errata/RHSA-2012-0474.html

Since then I've encountered a problem with exceeding the maxParameterCount =
which seems to default at 512:

May 4, 2012 2:30:27 PM org.apache.catalina.connector.Request parseParameter=
s
WARNING: Exception thrown whilst processing POSTed parameters
java.lang.IllegalStateException: Parameter count exceeded allowed maximum: =
512
                at org.apache.tomcat.util.http.Parameters.addParam(Paramete=
rs.java:331)
                at org.apache.tomcat.util.http.Parameters.processParameters=
(Parameters.java:407)
                at org.apache.tomcat.util.http.Parameters.processParameters=
(Parameters.java:358)
                at org.apache.catalina.connector.Request.parseParameters(Re=
quest.java:2400)
                at org.apache.catalina.connector.Request.getParameterValues=
(Request.java:1063)
                at org.apache.catalina.connector.RequestFacade.getParameter=
Values(RequestFacade.java:394).........

I do not need it to be the old default of 10000 and I don't think I want to=
 set it to unlimited (-1) but I do need more than 512 for the application I=
 am supporting.

Does anyone know how to tweak the maxParameterCount in a standalone Tomcat =
listening on 8080, requests are sent via Apache listening on 80?

This is not Tomcat as supplied with JBoss, so a fix such as that detailed a=
t the link below I do not think will work:

http://docs.redhat.com/docs/en-US/JBoss_Communications_Platform/5.1/html/5.=
1.3_Release_Notes/ar01s05.html

Thanks in advance!




--_000_ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321BMCDMAIL01bur_--

From users-return-234176-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:19:51 2012
Return-Path: <users-return-234176-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B6E69102
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:19:51 +0000 (UTC)
Received: (qmail 89874 invoked by uid 500); 11 May 2012 20:19:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89811 invoked by uid 500); 11 May 2012 20:19:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89800 invoked by uid 99); 11 May 2012 20:19:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:19:48 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:19:38 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-3.tower-201.messagelabs.com!1336767557!7070561!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 27029 invoked from network); 11 May 2012 20:19:17 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-3.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 11 May 2012 20:19:17 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 11 May 2012 15:19:17 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Fri, 11 May
 2012 15:19:14 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 11 May 2012 15:19:14 -0500
Subject: RE: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vsR9p5P9U3ddhTLexvwLEolh+iAAAYgOw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
In-Reply-To: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Haenni, Tia [mailto:thaenni@burnsmcd.com]=20
> Subject: maxParameterCount with Tomcat 5.5.23

> A recent RHEL patch supplied the following Tomcat packages=20

Note that 5.5.23 is over five years old...  You might want to consider inst=
alling a real Tomcat from tomcat.apache.org instead of a 3rd-party mangled,=
 horribly out-of-date version.  There are many more serious problems fixed =
in current levels.

> Since then I've encountered a problem with exceeding the maxParameterCoun=
t=20
> which seems to default at 512:

That's not the default in a standard Tomcat.  Congratulate Red Hat on break=
ing things.

> Does anyone know how to tweak the maxParameterCount

Read the docs:

http://tomcat.apache.org/tomcat-5.5-doc/config/http.html

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234177-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:34:24 2012
Return-Path: <users-return-234177-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB836CD49
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:34:23 +0000 (UTC)
Received: (qmail 26231 invoked by uid 500); 11 May 2012 20:34:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26169 invoked by uid 500); 11 May 2012 20:34:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26156 invoked by uid 99); 11 May 2012 20:34:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:34:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.193.141.28] (HELO kcm-smtp-002.burnsmcd.com) (207.193.141.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:34:14 +0000
X-IronPort-AV: E=Sophos;i="4.75,572,1330927200"; 
   d="scan'208";a="74808"
Received: from unknown (HELO KCM-EXFE-001.burnsmcd.com) ([10.3.35.155])
  by kcm-smtp-002.burnsmcd.com with ESMTP/TLS/AES128-SHA; 11 May 2012 15:33:54 -0500
Received: from bmcdmail01.burnsmcd.com ([169.254.1.120]) by
 KCM-EXFE-001.burnsmcd.com ([::1]) with mapi; Fri, 11 May 2012 15:33:54 -0500
From: "Haenni, Tia" <thaenni@burnsmcd.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 11 May 2012 15:33:52 -0500
Subject: RE: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vsR9p5P9U3ddhTLexvwLEolh+iAAAYgOwAACPacA=
Message-ID: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
 <99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Chuck,

Thank you for your response. Unfortunately, due to some company policies on=
 supporting packages as supplied by Red Hat, I am stuck with 5.5.23 for now=
.=20

I've read the docs and I am aware of the setting for maxParameterCount, whi=
ch is not set at all in my Tomcat. What I don't know is if it will be honor=
ed. I read some posts where it was apparently ignored and the default used =
instead.

Can you confirm that setting maxParameterCount in the connector attribute w=
ill override the default?

Thanks.

-----Original Message-----
From: Caldarale, Charles R [mailto:Chuck.Caldarale@unisys.com]=20
Sent: Friday, May 11, 2012 3:19 PM
To: Tomcat Users List
Subject: RE: maxParameterCount with Tomcat 5.5.23

> From: Haenni, Tia [mailto:thaenni@burnsmcd.com]
> Subject: maxParameterCount with Tomcat 5.5.23

> A recent RHEL patch supplied the following Tomcat packages

Note that 5.5.23 is over five years old...  You might want to consider inst=
alling a real Tomcat from tomcat.apache.org instead of a 3rd-party mangled,=
 horribly out-of-date version.  There are many more serious problems fixed =
in current levels.

> Since then I've encountered a problem with exceeding the=20
> maxParameterCount which seems to default at 512:

That's not the default in a standard Tomcat.  Congratulate Red Hat on break=
ing things.

> Does anyone know how to tweak the maxParameterCount

Read the docs:

http://tomcat.apache.org/tomcat-5.5-doc/config/http.html

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234178-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:43:21 2012
Return-Path: <users-return-234178-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A836CD85
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:43:21 +0000 (UTC)
Received: (qmail 53838 invoked by uid 500); 11 May 2012 20:43:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53769 invoked by uid 500); 11 May 2012 20:43:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53757 invoked by uid 99); 11 May 2012 20:43:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:43:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:43:11 +0000
Received: by ggnp1 with SMTP id p1so2825514ggn.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 13:42:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4Xu9m6OfB8HPbfc543uG1p/AnNLVMRIkcD/9z5BoiZI=;
        b=eZtoBlCfGVodLuu+CuWg7DtEfXAe7XjyNOwM6MDSTPhFrXwG8LYKwKVu82bYU40v2X
         UqpTY6NLJVRinbKMka94/K3Qy+zLKsML0neMnQdyFLMiaS49PLJ9IC9uiLWcU9O0NAoM
         FC5cWNQAqKpfnStSI7A5Z0qcsIOGapxQ2YbhiGatErrgG0bAs/mDg+Zhhu9h3vZgbnwV
         z53Xl1MhqIs6EGOYYaZzFyBVWgQMV2d+U2p/Gpmx5NnAMdlWcamJttIHriV1U5CdhnAD
         YQaYJ3S7ARaGBhhu+LDBU5DvS6qMaHT+ZUUlBUNaxJMWzqURMUxjv5eYG14yqKZmObF8
         uL8g==
MIME-Version: 1.0
Received: by 10.236.190.196 with SMTP id e44mr6688406yhn.67.1336768971153;
 Fri, 11 May 2012 13:42:51 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Fri, 11 May 2012 13:42:51 -0700 (PDT)
In-Reply-To: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
	<99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
	<ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
Date: Sat, 12 May 2012 00:42:51 +0400
Message-ID: <CABzHfVmj_SEEoz21ypZ=n6w_qF_2tSYsVHL3RCUikBPHxrWqSQ@mail.gmail.com>
Subject: Re: maxParameterCount with Tomcat 5.5.23
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/12 Haenni, Tia <thaenni@burnsmcd.com>:
> Chuck,
>
> Thank you for your response. Unfortunately, due to some company policies on supporting packages as supplied by Red Hat, I am stuck with 5.5.23 for now.
>
> I've read the docs and I am aware of the setting for maxParameterCount, which is not set at all in my Tomcat. What I don't know is if it will be honored. I read some posts where it was apparently ignored and the default used instead.
>
> Can you confirm that setting maxParameterCount in the connector attribute will override the default?
>

It should, but that is up to you to confirm. You have that strange
version of Tomcat, we do not.

BTW Note, that ASF support of Tomcat 5.5.x branch ends in several months,
http://tomcat.apache.org/tomcat-55-eol.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234179-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:47:26 2012
Return-Path: <users-return-234179-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82826CD9E
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:47:26 +0000 (UTC)
Received: (qmail 67016 invoked by uid 500); 11 May 2012 20:47:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66973 invoked by uid 500); 11 May 2012 20:47:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66960 invoked by uid 99); 11 May 2012 20:47:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:47:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.193.141.28] (HELO kcm-smtp-002.burnsmcd.com) (207.193.141.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:47:18 +0000
X-IronPort-AV: E=Sophos;i="4.75,572,1330927200"; 
   d="scan'208";a="75241"
Received: from unknown (HELO KCM-EXFE-001.burnsmcd.com) ([10.3.35.155])
  by kcm-smtp-002.burnsmcd.com with ESMTP/TLS/AES128-SHA; 11 May 2012 15:46:58 -0500
Received: from bmcdmail01.burnsmcd.com ([169.254.1.120]) by
 KCM-EXFE-001.burnsmcd.com ([::1]) with mapi; Fri, 11 May 2012 15:46:58 -0500
From: "Haenni, Tia" <thaenni@burnsmcd.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 11 May 2012 15:46:56 -0500
Subject: RE: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vtrNDDGikQtyxTNa0e/g5kPa+wwAAD85g
Message-ID: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC370@BMCDMAIL01.burnsmcd.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
	<99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
	<ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
 <CABzHfVmj_SEEoz21ypZ=n6w_qF_2tSYsVHL3RCUikBPHxrWqSQ@mail.gmail.com>
In-Reply-To: <CABzHfVmj_SEEoz21ypZ=n6w_qF_2tSYsVHL3RCUikBPHxrWqSQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Konstantin,

I am aware of the EOL for 5.5. We plan to upgrade to 6.x (whatever version =
RH decides to bestow upon us)

Thanks!

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Friday, May 11, 2012 3:43 PM
To: Tomcat Users List
Subject: Re: maxParameterCount with Tomcat 5.5.23

2012/5/12 Haenni, Tia <thaenni@burnsmcd.com>:
> Chuck,
>
> Thank you for your response. Unfortunately, due to some company policies =
on supporting packages as supplied by Red Hat, I am stuck with 5.5.23 for n=
ow.
>
> I've read the docs and I am aware of the setting for maxParameterCount, w=
hich is not set at all in my Tomcat. What I don't know is if it will be hon=
ored. I read some posts where it was apparently ignored and the default use=
d instead.
>
> Can you confirm that setting maxParameterCount in the connector attribute=
 will override the default?
>

It should, but that is up to you to confirm. You have that strange version =
of Tomcat, we do not.

BTW Note, that ASF support of Tomcat 5.5.x branch ends in several months, h=
ttp://tomcat.apache.org/tomcat-55-eol.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234180-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 11 20:51:59 2012
Return-Path: <users-return-234180-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A097DCDD4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 11 May 2012 20:51:59 +0000 (UTC)
Received: (qmail 83991 invoked by uid 500); 11 May 2012 20:51:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83918 invoked by uid 500); 11 May 2012 20:51:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83909 invoked by uid 99); 11 May 2012 20:51:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:51:56 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.196] (HELO mail46.messagelabs.com) (216.82.241.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 May 2012 20:51:45 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-16.tower-46.messagelabs.com!1336769479!29032117!31
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13916 invoked from network); 11 May 2012 20:51:24 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-16.tower-46.messagelabs.com with RC4-SHA encrypted SMTP; 11 May 2012 20:51:24 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 11 May 2012 15:51:02 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 11 May
 2012 15:51:02 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 11 May 2012 15:51:00 -0500
Subject: RE: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vsR9p5P9U3ddhTLexvwLEolh+iAAAYgOwAACPacAAAKjdcA==
Message-ID: <99C8B2929B39C24493377AC7A121E21FB025EFB5F9@USEA-EXCH8.na.uis.unisys.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
 <99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
 <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
In-Reply-To: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Haenni, Tia [mailto:thaenni@burnsmcd.com]=20
> Subject: RE: maxParameterCount with Tomcat 5.5.23

> I read some posts where it was apparently ignored and the default=20
> used instead.

It would be interesting to know who's publishing such garbage.

> Can you confirm that setting maxParameterCount in the connector=20
> attribute will override the default?

Not on a Tomcat mangled by Red Hat - you're on your own with that.  If you =
use a real Tomcat, it will certainly work.

- Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234181-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 00:48:15 2012
Return-Path: <users-return-234181-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6D81C380
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 00:48:15 +0000 (UTC)
Received: (qmail 16971 invoked by uid 500); 12 May 2012 00:48:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16919 invoked by uid 500); 12 May 2012 00:48:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16905 invoked by uid 99); 12 May 2012 00:48:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 00:48:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 00:48:03 +0000
Received: by yenm4 with SMTP id m4so4336856yen.18
        for <users@tomcat.apache.org>; Fri, 11 May 2012 17:47:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=jgZz3WMeplKBhgvxMPvZKufVgZAaVgF/i6e56pDobZI=;
        b=Q33vhrFBxSBjKNDTo4mZyZcgr/HMHl2z51tLW9X28/ZNQ/6f+GUv3n10I0cwNa/vLd
         Fbkh0uFYGqm82vNjruQpV+U7BGMavjz5oMMrZAWERODcgxjaFkHqe3emCUnlRDzpISfL
         wpcF4nwz6E52TuFd6MeGMMPLbPKYxYnUdhqSLzR8wrJ8xrtsaEdW90bcFE8KH4cZom9r
         dEnvhNNndppCD9jy2Um0BzL3+up0DlM9IDCZrKNp91ovO/p5omtpmRFWLBSBkYUMfN0s
         S7Q6YmTj+tYQLOinsQghi5RP8LcB0VSe8PPbSOIyMDIOhWk0PWIL1ggG/u30S9QP+1YD
         91BA==
MIME-Version: 1.0
Received: by 10.236.201.201 with SMTP id b49mr183383yho.19.1336783663117; Fri,
 11 May 2012 17:47:43 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Fri, 11 May 2012 17:47:42 -0700 (PDT)
In-Reply-To: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
Date: Sat, 12 May 2012 04:47:42 +0400
Message-ID: <CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/10 Jesse Farinacci <jieryn@gmail.com>:
> Greetings,
>
> I'm running Apache Tomcat 7.0.27 on Linux 2.6.32.x kernel, where
> Tomcat reports at startup:
>
> =A0Loaded APR based Apache Tomcat Native library 1.1.22
>
> and Connector definitions look like:
>
> =A0 <Connector scheme=3D"http" address=3D"a.b.c.d" port=3D"8080"
> =A0 =A0 compression=3D"on" enableLookups=3D"false" URIEncoding=3D"UTF-8"/=
>
> =A0 <Connector scheme=3D"https" address=3D"a.b.c.d" port=3D"8443" secure=
=3D"true"
> =A0 =A0 compression=3D"on" enableLookups=3D"false" URIEncoding=3D"UTF-8"
> =A0 =A0 SSLEnabled=3D"true"
> SSLCertificateFile=3D"${catalina.home}/conf/cacert.pem"
> SSLCertificateKeyFile=3D"${catalina.home}/conf/privkey.pem"/>
>
> The web application was deployed via the manager application, and it
> is unpacked into ROOT/ directory. On most every request we're seeing
> delays and then in the log:
>
> 10-May-2012 08:13:58.523 SEVERE [AsyncFileHandlerWriter-1685021807]
> org.apache.coyote.http11.AbstractHttp11Processor.process Error
> processing request
> =A0java.lang.IllegalStateException: zip file closed
> =A0 =A0 =A0 at java.util.jar.JarFile.getMetaInfEntryNames(Native Method)
> =A0 =A0 =A0 at java.util.jar.JarFile.maybeInstantiateVerifier(JarFile.jav=
a:329)
> =A0 =A0 =A0 at java.util.jar.JarFile.getInputStream(JarFile.java:433)
> =A0 =A0 =A0 at org.apache.naming.resources.WARDirContext$WARResource.stre=
amContent(WARDirContext.java:988)
> =A0 =A0 =A0 at org.apache.naming.resources.ProxyDirContext.cacheLoad(Prox=
yDirContext.java:1656)
> =A0 =A0 =A0 at org.apache.naming.resources.ProxyDirContext.cacheLookup(Pr=
oxyDirContext.java:1536)
> =A0 =A0 =A0 at org.apache.naming.resources.ProxyDirContext.lookup(ProxyDi=
rContext.java:297)
> =A0 =A0 =A0 at org.apache.tomcat.util.http.mapper.Mapper.internalMapWrapp=
er(Mapper.java:996)
> =A0 =A0 =A0 at org.apache.tomcat.util.http.mapper.Mapper.internalMap(Mapp=
er.java:808)
> =A0 =A0 =A0 at org.apache.tomcat.util.http.mapper.Mapper.map(Mapper.java:=
671)
> =A0 =A0 =A0 at org.apache.catalina.connector.CoyoteAdapter.postParseReque=
st(CoyoteAdapter.java:646)
> =A0 =A0 =A0 at org.apache.catalina.connector.CoyoteAdapter.service(Coyote=
Adapter.java:402)
> =A0 =A0 =A0 at org.apache.coyote.http11.AbstractHttp11Processor.process(A=
bstractHttp11Processor.java:999)
> =A0 =A0 =A0 at org.apache.coyote.AbstractProtocol$AbstractConnectionHandl=
er.process(AbstractProtocol.java:565)
> =A0 =A0 =A0 at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsPr=
ocessor.run(AprEndpoint.java:1770)
> =A0 =A0 =A0 at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Thr=
eadPoolExecutor.java:898)
> =A0 =A0 =A0 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadP=
oolExecutor.java:920)
> =A0 =A0 =A0 at java.lang.Thread.run(Thread.java:736)
>
> This has been happening for a while, but it never really caused
> delays. Now users are seeing the delays and so the issue has
> escalated.. Any help is appreciated, let me know if I can provide some
> better data,


I can easily reproduce this "zip file closed" issue in trunk with a
simple jar containing Tomcat's icon in META-INF/resources/favicon.ico
if I change configuration by removing JreMemoryLeakPreventionListener
from server.xml.

The first request to <appname>/favicon.ico hits the error.

It is a rare configuration and IMHO a broken one.
I think that running without JreMemoryLeakPreventionListener is wrong.



A place that I know that closes JARs is WebappClassLoader#closeJARs().
The closeJARs() is called after StandardContext has started up.

But WebappClassLoader and WARDirContext use different API to locate
and open the JAR file and I do not see how they can interfere with
each other.

I cannot reproduce the issue with the standard configuration.


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234182-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 14:02:57 2012
Return-Path: <users-return-234182-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D09A597EF
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 14:02:57 +0000 (UTC)
Received: (qmail 26070 invoked by uid 500); 12 May 2012 14:02:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25989 invoked by uid 500); 12 May 2012 14:02:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25975 invoked by uid 99); 12 May 2012 14:02:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 14:02:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jieryn@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 14:02:47 +0000
Received: by obbwd20 with SMTP id wd20so6491627obb.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 07:02:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YgxDsp+lZY4UlHfjaMSbok9DoNopjSydLtr+sBxrmAc=;
        b=LJJJoWQVQhy5dMFOjtzjFOd8a+SiZsNTKdB+nGwsjvfti926vHK9HBfASKMoOGwVbn
         XLbvQ35hyYtQfvQOjRErEIX/SfOv/a00FxmdxcoukG3L4V5feET7SjCd5UIfUBGQXQ96
         y7ghLOrdGh8ZXfyYvbNdMb+hTYqm6qzgLlqagdVnJ/Ni7uSlEMQQyACKBmTtF8PeafGI
         5Ax6YuKsRJNh6KMXDMO2uXxUQNBb8T1zUnI4aY2LsczcZLtnt9rMkWfYKmQlxrAVKXpV
         kErs3x71tT/4YexjsewA5UtCghX9LCGWYyQIa2ubMjDN3xKnbJwyZJtmjLkbMw5mVACY
         s06g==
MIME-Version: 1.0
Received: by 10.60.11.166 with SMTP id r6mr2704025oeb.2.1336831346949; Sat, 12
 May 2012 07:02:26 -0700 (PDT)
Received: by 10.60.142.69 with HTTP; Sat, 12 May 2012 07:02:26 -0700 (PDT)
In-Reply-To: <CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com>
Date: Sat, 12 May 2012 10:02:26 -0400
Message-ID: <CAArU9ibbfzmMov4p6Y4a26AD7n=breDy8LiOkhuqAjD9xJLSQQ@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Jesse Farinacci <jieryn@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Greetings,

On Fri, May 11, 2012 at 8:47 PM, Konstantin Kolinko
<knst.kolinko@gmail.com> wrote:
> I can easily reproduce this "zip file closed" issue in trunk with a
> simple jar containing Tomcat's icon in META-INF/resources/favicon.ico
> if I change configuration by removing JreMemoryLeakPreventionListener
> from server.xml.
> The first request to <appname>/favicon.ico hits the error.

Thank you for reproducing the problem. I confirm that my Apache Tomcat
instance was not running with that listener. I've now set:

  <Listener className="org.apache.catalina.core.AprLifecycleListener"/>
  <Listener className="org.apache.catalina.core.JasperListener"/>
  <Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"
/>
  <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"
/>
  <Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/>
  <Listener className="org.apache.catalina.security.SecurityListener" />

> It is a rare configuration and IMHO a broken one.
> I think that running without JreMemoryLeakPreventionListener is wrong.

Here I must object. Yes, it probably is rare, but running without
those extra listeners isn't wrong. I have a web application with a
valid library in WEB-INF/lib which ships a specification supported
static resource. That resource is not being served by Apache Tomcat
unless I enable a non-standard (specification wise) option. That
doesn't seem right to me..

> I cannot reproduce the issue with the standard configuration.

With the listeners all added, things are working as I expect. The
resource is served, no error is produced. I still think this is a bug
though.. if I open a new bug, will it be accepted?

-Jesse

-- 
There are 10 types of people in this world, those
that can read binary and those that can not.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234183-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 17:02:25 2012
Return-Path: <users-return-234183-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1D9DC844
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 17:02:24 +0000 (UTC)
Received: (qmail 77475 invoked by uid 500); 12 May 2012 17:02:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77245 invoked by uid 500); 12 May 2012 17:02:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77235 invoked by uid 99); 12 May 2012 17:02:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 17:02:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 17:02:14 +0000
Received: by yhoo21 with SMTP id o21so4629520yho.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 10:01:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=ucS9NAfLVuSgI7v7mpVoUuQVGDToTmToxBkNnxvYluo=;
        b=IlGLYIruBvRY60No6Cn7PoSRwVIuib/BviN+dmbjalywg3nZ1l4WmqU/+gr4CDsFW+
         JBikSVbGiQ09kGCpvxbA35OHOk4jOinTHswqkfVPknYtMDNQaO+F4qCSsVjWoqT0Bgj6
         1cUhZnUIcNeTFdtkqfndt+9oK8hnHQkewG9w0JsHCrze9RvV4VbwWRaehavJB1ZjP030
         ErHJJYWI6hAYTV5duFi18D47jBrHZyOmikGJYH00N8EMB4TqzTg2hEsaq250qKVTPWrb
         hie9c2aWpd8kvr+++4ZEwOSpsp8D+Y5gzi+h5mcp+MDKFJ55zp3QW70qi4ZnJ8n+tjPM
         /HwA==
MIME-Version: 1.0
Received: by 10.236.72.138 with SMTP id t10mr2274463yhd.109.1336842114237;
 Sat, 12 May 2012 10:01:54 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Sat, 12 May 2012 10:01:54 -0700 (PDT)
In-Reply-To: <CAArU9ibbfzmMov4p6Y4a26AD7n=breDy8LiOkhuqAjD9xJLSQQ@mail.gmail.com>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com>
	<CAArU9ibbfzmMov4p6Y4a26AD7n=breDy8LiOkhuqAjD9xJLSQQ@mail.gmail.com>
Date: Sat, 12 May 2012 21:01:54 +0400
Message-ID: <CABzHfVkDFqLfwMsxZ37voNqD8D_NpjUnshdHZtxR_7s+BOrkAg@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/12 Jesse Farinacci <jieryn@gmail.com>:
> Greetings,
>
> On Fri, May 11, 2012 at 8:47 PM, Konstantin Kolinko
> <knst.kolinko@gmail.com> wrote:
>> I can easily reproduce this "zip file closed" issue in trunk with a
>> simple jar containing Tomcat's icon in META-INF/resources/favicon.ico
>> if I change configuration by removing JreMemoryLeakPreventionListener
>> from server.xml.
>> The first request to <appname>/favicon.ico hits the error.
>
> Thank you for reproducing the problem. I confirm that my Apache Tomcat
> instance was not running with that listener. I've now set:
>
> =A0<Listener className=3D"org.apache.catalina.core.AprLifecycleListener"/=
>
> =A0<Listener className=3D"org.apache.catalina.core.JasperListener"/>
> =A0<Listener className=3D"org.apache.catalina.core.JreMemoryLeakPreventio=
nListener"
> />
> =A0<Listener className=3D"org.apache.catalina.core.ThreadLocalLeakPrevent=
ionListener"
> />
> =A0<Listener className=3D"org.apache.catalina.mbeans.GlobalResourcesLifec=
ycleListener"/>
> =A0<Listener className=3D"org.apache.catalina.security.SecurityListener" =
/>
>
>> It is a rare configuration and IMHO a broken one.
>> I think that running without JreMemoryLeakPreventionListener is wrong.
>
> Here I must object. Yes, it probably is rare, but running without
> those extra listeners isn't wrong.

They are there for a reason.

You would experience a number of other issues during webapp
undeploy/reload if you do not have that listener configured.

> I have a web application with a
> valid library in WEB-INF/lib which ships a specification supported
> static resource. That resource is not being served by Apache Tomcat
> unless I enable a non-standard (specification wise) option. That
> doesn't seem right to me..
>

Well, if you remove "JasperListener", you wouldn't be able to serve JSPs.

If you change conf/web.xml you may break some specification-dictated
defaults (such as the default list of welcome files, or jsp support).

If you do not explicitly set "o.a.c.STRICT_SERVLET_COMPLIANCE" system
property to the value of "true" you are not adhering to the spec
either.

There are many ways to break things.

>> I cannot reproduce the issue with the standard configuration.
>
> With the listeners all added, things are working as I expect. The
> resource is served, no error is produced. I still think this is a bug
> though.. if I open a new bug, will it be accepted?
>

I do not know.

If there exists a simple solution (like reopening the closed jar in
WARDirContext?) then it is worth trying.

If there is not, then I see little wrong with resolving it as WONTFIX
and asking people to have proper configuration, but I will leave it to
others for a while to take another look and decide.

As with enhancement requests, if there is a patch, or if there is wide
interest in it (other ways to trigger it?), the more are its chances.



I personally have some grudge against WebappClassLoader.closeJARs() [2]
and maybe disabling it will workaround the issue (not tested) but I do
not know what actually happens here at the moment.

[2] https://issues.apache.org/bugzilla/show_bug.cgi?id=3D52448

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234184-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 18:36:37 2012
Return-Path: <users-return-234184-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 34666C13D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 18:36:37 +0000 (UTC)
Received: (qmail 78403 invoked by uid 500); 12 May 2012 18:36:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78335 invoked by uid 500); 12 May 2012 18:36:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78326 invoked by uid 99); 12 May 2012 18:36:33 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 18:36:33 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 18:36:33 +0000
Message-ID: <4FAEADA9.3030309@apache.org>
Date: Sat, 12 May 2012 19:36:25 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com> <CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com> <CAArU9ibbfzmMov4p6Y4a26AD7n=breDy8LiOkhuqAjD9xJLSQQ@mail.gmail.com> <CABzHfVkDFqLfwMsxZ37voNqD8D_NpjUnshdHZtxR_7s+BOrkAg@mail.gmail.com>
In-Reply-To: <CABzHfVkDFqLfwMsxZ37voNqD8D_NpjUnshdHZtxR_7s+BOrkAg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 12/05/2012 18:01, Konstantin Kolinko wrote:
> 2012/5/12 Jesse Farinacci <jieryn@gmail.com>:

>> With the listeners all added, things are working as I expect. The
>> resource is served, no error is produced. I still think this is a bug
>> though.. if I open a new bug, will it be accepted?
>>
> 
> I do not know.
> 
> If there exists a simple solution (like reopening the closed jar in
> WARDirContext?) then it is worth trying.
> 
> If there is not, then I see little wrong with resolving it as WONTFIX
> and asking people to have proper configuration, but I will leave it to
> others for a while to take another look and decide.
> 
> As with enhancement requests, if there is a patch, or if there is wide
> interest in it (other ways to trigger it?), the more are its chances.
> 
> I personally have some grudge against WebappClassLoader.closeJARs() [2]
> and maybe disabling it will workaround the issue (not tested) but I do
> not know what actually happens here at the moment.
> 
> [2] https://issues.apache.org/bugzilla/show_bug.cgi?id=52448

Now there is a simple, reproducible test case, I'd be happy to see a bug
opened and will add it to my list of things to do for the next Tomcat
release.

I agree removing the leak prevention listener is a bad idea but this
particular side effect is not one I would expect. I suspect it has
something to do with urlCacheProtection. We'll see.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234185-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 20:35:33 2012
Return-Path: <users-return-234185-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E7ACC6C3
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 20:35:33 +0000 (UTC)
Received: (qmail 15283 invoked by uid 500); 12 May 2012 20:35:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15189 invoked by uid 500); 12 May 2012 20:35:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15177 invoked by uid 99); 12 May 2012 20:35:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 20:35:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 20:35:23 +0000
Received: by yenm4 with SMTP id m4so4731859yen.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 13:35:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8HjKaacwtKDZAgUs+IYA9cVDCVGwNCcMUyo6nRl88FI=;
        b=NTac2XXCjCicXtrWxuhNul/8h3x3TGwKFMqcLknYBsH/di6RGBI+pF9QjR+IcgGB/y
         7MOfWQOBl2MVpAfweDvhH1xT1tCdYVlxoWmEJ2aXE5XzmVDjROXzhYS/+M3NVoMaJZIx
         ucPO4ZroPzGuxsvUkr5Blr6/baHpusIZobZGi4rbEIBpCLv1Ve/lz/I6ku7mAriJuq0U
         yix5i4Y8kHWh22gq8E1r/WBM84J8CPGwmoOUMaXqH/vy/q39LV/uVYBWI8lIgoCUSWDW
         N66YinUa8lKI6oerIQZF7bW4FBn2jGW6u2XTNR2byWC0mYtivOkw+xIgXvTHp6PNEhFL
         fJ7A==
MIME-Version: 1.0
Received: by 10.236.72.138 with SMTP id t10mr2759957yhd.109.1336854903190;
 Sat, 12 May 2012 13:35:03 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Sat, 12 May 2012 13:35:03 -0700 (PDT)
In-Reply-To: <4FAEADA9.3030309@apache.org>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<CABzHfVn8n=k0Q2RqAJTkb8JWeokmeK7qjdME9V8A02=NhmcO0Q@mail.gmail.com>
	<CAArU9ibbfzmMov4p6Y4a26AD7n=breDy8LiOkhuqAjD9xJLSQQ@mail.gmail.com>
	<CABzHfVkDFqLfwMsxZ37voNqD8D_NpjUnshdHZtxR_7s+BOrkAg@mail.gmail.com>
	<4FAEADA9.3030309@apache.org>
Date: Sun, 13 May 2012 00:35:03 +0400
Message-ID: <CABzHfVnTOLZMZ=yMkTKYX_uR_76LhMYNy6BPpJY-5yypABFhkA@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/12 Mark Thomas <markt@apache.org>:
> On 12/05/2012 18:01, Konstantin Kolinko wrote:
>> 2012/5/12 Jesse Farinacci <jieryn@gmail.com>:
>
>>> With the listeners all added, things are working as I expect. The
>>> resource is served, no error is produced. I still think this is a bug
>>> though.. if I open a new bug, will it be accepted?
>>>
>>
>> (...)
>>
>
> Now there is a simple, reproducible test case, I'd be happy to see a bug
> opened and will add it to my list of things to do for the next Tomcat
> release.
>
> I agree removing the leak prevention listener is a bad idea but this
> particular side effect is not one I would expect. I suspect it has
> something to do with urlCacheProtection. We'll see.
>

I've filed
https://issues.apache.org/bugzilla/show_bug.cgi?id=53225

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234186-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 20:46:46 2012
Return-Path: <users-return-234186-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C407CC6E1
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 20:46:46 +0000 (UTC)
Received: (qmail 40277 invoked by uid 500); 12 May 2012 20:46:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40228 invoked by uid 500); 12 May 2012 20:46:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40219 invoked by uid 99); 12 May 2012 20:46:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 20:46:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 20:46:36 +0000
Received: by ggnp1 with SMTP id p1so3285842ggn.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 13:46:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9VmzXj3Cwo7pydM87Eak4aiUnPyrePmJWc9ZeReM9tI=;
        b=fOF4hjRyOqLN0wFRVt5Yoi36cbOIXblBQMyyaMu5ZBn1gLPOc6enBySuPOaW8YcXKi
         qaqk8cY/AeiAsZDx2pub/75YJia3SRCf/HMWzI0pSnL7X17J7cmA1t6MAH4TjXLx+TsC
         JawQ9pJql/lnqjufEkg88cX/8EsP8pcUazKqQ3C3ZR9HYm2NVaGLG+YB+T3D42vypOOl
         0tbBJinWgI4bF60yS7B+OmkgmSUkEonN8byJ8jf2B7LF4vxCl3NOGDnZKJnLWhgrmDI+
         H8KMLoNX28iVCbWrhRKoa+Fp9/159DOO3lqGLeQO5pH7Zy7wEkR7JgLYyaF/8S1Wo8Jl
         drFQ==
MIME-Version: 1.0
Received: by 10.101.131.14 with SMTP id i14mr834418ann.76.1336855576167; Sat,
 12 May 2012 13:46:16 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Sat, 12 May 2012 13:46:16 -0700 (PDT)
In-Reply-To: <CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
References: <CAArU9iYD6wsns34OrOh5TW1ExDdo2xoOeAow+x7QBc4m184QAQ@mail.gmail.com>
	<edd7b109-1099-4b58-9e51-0d711f3474d6@email.android.com>
	<CAArU9iZyHCbGqA33gcMKu7ZwDFZ=cptR3MrSbLm80iC-n0XrzQ@mail.gmail.com>
Date: Sun, 13 May 2012 00:46:16 +0400
Message-ID: <CABzHfVmmy40A5sSAqnoeJK6RAfc9UUUmFemes8kCHiyTdKXZ-w@mail.gmail.com>
Subject: Re: org.apache.coyote.http11.AbstractHttp11Processor.process Error
 processing request
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/10 Jesse Farinacci <jieryn@gmail.com>:
>
> Given this insight, thank you, I don't think that this is the cause
> for delay and I will investigate outside of Apache Tomcat for the root
> cause.
>

Regarding your original issue of delays, it would be nice to get
actual thread dumps from the moment when you experience the delay.

Maybe StuckThreadDetectionValve in Tomcat 7 can help here.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234187-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 22:14:42 2012
Return-Path: <users-return-234187-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7537A966E
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 22:14:42 +0000 (UTC)
Received: (qmail 24979 invoked by uid 500); 12 May 2012 22:14:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24914 invoked by uid 500); 12 May 2012 22:14:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24903 invoked by uid 99); 12 May 2012 22:14:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 22:14:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 22:14:31 +0000
Received: by qcsc20 with SMTP id c20so3495683qcs.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 15:14:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding:x-gm-message-state;
        bh=6CaIu4s5Yxhi00HL6vvhHgz3FjaTbk/KFf59lStghi4=;
        b=ALDGocY2GUhtYkibae+XkX9OHth7jqHiXm0KI3eSDGVHNi4W1OV3WgXetJO6p04b2I
         05Rdu4jWI9sBGBk5vppQFO3VU1E1cN47KrB+Cwdxh2IxclEU26mcrZCDvjOGjjw2mXd3
         OcHhv/RUbs+LQ0Mm4oLI4fNir6tfJ/4UW6s/ZGPAqa3Cm+wmnwBBpoDl2EtCPvW/+GNq
         lb5iz/wV/r+2UBuBcJcmwHWNPr3WxI7LbdadviSuMHm7pTCKzqPwZ/CSguFFnG71Z3oT
         n0l3nLNqVYwk2v9CFc+mOflzK9Mq9yDV6riJnuejEv4JKVV9E7AzmZeZ3A3N5LSrOI8C
         4Ngw==
Received: by 10.224.205.6 with SMTP id fo6mr4507366qab.73.1336860849794;
        Sat, 12 May 2012 15:14:09 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id cp17sm30367090qab.5.2012.05.12.15.14.07
        (version=SSLv3 cipher=OTHER);
        Sat, 12 May 2012 15:14:08 -0700 (PDT)
Message-ID: <4FAEE0AE.40701@poonam.org>
Date: Sun, 13 May 2012 03:44:06 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: IE 9 ignoring my custom error pages with 404 codes
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQknyy8Cy1JyW3B7RhqcINe0SE33LamFql0/4ppSuWxd/0hEhjJvz6+PxPCoQQIjZpHXiguX
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am trying to setup custom error page and has done below modification 
to web.xml

<error-page>
<error-code>500</error-code>
<location>/errorback.jsp</location>
</error-page>
<error-page>
<error-code>404</error-code>
<location>/errorback.jsp</location>

Then in errorback.jsp

I wrote the default hello jsp page and triggered 404 condition to check 
if setting are working fine,the above setting seems to be working fine 
in chrome/firefox but for some reasons IE is still showing up its own 
404 message and aborting the further calls to my 404 page which I styled 
it some images and other things.

Now after further investigation, I came across a setting in IE9 where in 
there is checkbox to show friendly http error messages, if I turn this 
off, I get my error page else I dont get it.

Now I want to show custom error page to my users. Is their any 
workaround for this ? Ideally I would have expected IE to deliver what 
tomcat serves and in this case custom error page but its not happening 
when checkbox is turned on.

Is their any work around for this or I have to accept the whatever IE is 
doing ?



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234188-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 12 22:25:27 2012
Return-Path: <users-return-234188-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7E259E4C
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 12 May 2012 22:25:26 +0000 (UTC)
Received: (qmail 47306 invoked by uid 500); 12 May 2012 22:25:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47143 invoked by uid 500); 12 May 2012 22:25:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47133 invoked by uid 99); 12 May 2012 22:25:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 22:25:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 May 2012 22:25:18 +0000
Received: by yhoo21 with SMTP id o21so4720646yho.18
        for <users@tomcat.apache.org>; Sat, 12 May 2012 15:24:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BEejofYXoB16JwZtC5YGOCQsACr6IiuiQPCFHjzQhq0=;
        b=OpnWL+W0LPOlFlApyTGjkgIFE/c6CTqHJnbLxNsDE/KWbFW/1iQH7V96UvCuAfQd6Z
         X5W1P5feNnWukRsovMz61Oqszts/J3KGJ6prGE93BFi/hv8N+4fl8OJQxR/+qlkcnqWu
         bmSAwnHi71OT9klsnBvC/kmAnOM5YaLDnpk9iVVkDkItXN0fmK30txeOrVqLcDYuvLuz
         Id3P97T2B9mIGR4JPphAbaZAAGVOinBQVXA1V1+CKm+sA2kLXXlH3Hsa9h4bktO3XiiT
         EKR1aRs37z6sx1xgFxpRWsS9T9cka20M2GcaAx249pnzIglT5Ywatomaa9bT+/HXx8Lb
         zAhw==
MIME-Version: 1.0
Received: by 10.236.195.34 with SMTP id o22mr2854246yhn.75.1336861497740; Sat,
 12 May 2012 15:24:57 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Sat, 12 May 2012 15:24:57 -0700 (PDT)
In-Reply-To: <4FAEE0AE.40701@poonam.org>
References: <4FAEE0AE.40701@poonam.org>
Date: Sun, 13 May 2012 02:24:57 +0400
Message-ID: <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/13 Kiran Badi <kiran@poonam.org>:
> Hi,
>
> I am trying to setup custom error page and has done below modification to
> web.xml
>
> <error-page>
> <error-code>500</error-code>
> <location>/errorback.jsp</location>
> </error-page>
> <error-page>
> <error-code>404</error-code>
> <location>/errorback.jsp</location>
>
> Then in errorback.jsp
>
> I wrote the default hello jsp page and triggered 404 condition to check if
> setting are working fine,the above setting seems to be working fine in
> chrome/firefox but for some reasons IE is still showing up its own 404
> message and aborting the further calls to my 404 page which I styled it some
> images and other things.
>
> Now after further investigation, I came across a setting in IE9 where in
> there is checkbox to show friendly http error messages, if I turn this off,
> I get my error page else I dont get it.
>
> Now I want to show custom error page to my users. Is their any workaround
> for this ? Ideally I would have expected IE to deliver what tomcat serves
> and in this case custom error page but its not happening when checkbox is
> turned on.
>
> Is their any work around for this or I have to accept the whatever IE is
> doing ?

Ask Microsoft? It is their beast.

I remember seeing someone adding a few KBs of HTML comments into the
error page, because that suppresses this behaviour of IE.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234189-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 00:11:51 2012
Return-Path: <users-return-234189-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E2AA69CBF
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 00:11:50 +0000 (UTC)
Received: (qmail 29670 invoked by uid 500); 13 May 2012 00:11:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29610 invoked by uid 500); 13 May 2012 00:11:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29601 invoked by uid 99); 13 May 2012 00:11:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 00:11:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of troylparrish@aol.com designates 205.188.105.145 as permitted sender)
Received: from [205.188.105.145] (HELO imr-da03.mx.aol.com) (205.188.105.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 00:11:39 +0000
Received: from mtaomg-mb02.r1000.mx.aol.com (mtaomg-mb02.r1000.mx.aol.com [172.29.41.73])
	by imr-da03.mx.aol.com (8.14.1/8.14.1) with ESMTP id q4D0BE9f030557
	for <users@tomcat.apache.org>; Sat, 12 May 2012 20:11:14 -0400
Received: from core-mkb003a.r1000.mail.aol.com (core-mkb003.r1000.mail.aol.com [172.29.98.9])
	by mtaomg-mb02.r1000.mx.aol.com (OMAG/Core Interface) with ESMTP id 87F99E000086
	for <users@tomcat.apache.org>; Sat, 12 May 2012 20:11:14 -0400 (EDT)
References: <4FAEE0AE.40701@poonam.org> <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
To: users@tomcat.apache.org
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
In-Reply-To: <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
X-MB-Message-Source: WebUI
MIME-Version: 1.0
From: Troy <troylparrish@aol.com>
X-MB-Message-Type: User
Content-Type: multipart/alternative; 
 boundary="--------MB_8CEFEB40B894FE6_18CC_1B2C98_webmail-m007.sysops.aol.com"
X-Mailer: AOL Webmail 36073-STANDARD
Received: from 68.49.97.41 by webmail-m007.sysops.aol.com (64.12.101.90) with HTTP (WebMailUI); Sat, 12 May 2012 20:11:14 -0400
Message-Id: <8CEFEB40B7B0788-18CC-81746@webmail-m007.sysops.aol.com>
X-Originating-IP: [68.49.97.41]
Date: Sat, 12 May 2012 20:11:14 -0400 (EDT)
x-aol-global-disposition: G
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=mx.aol.com;
	s=20110426; t=1336867874;
	bh=fPvEvSNj6QRdCRud58pTr+TV87OFHFyQtcmkPj/maWM=;
	h=From:To:Subject:Message-Id:Date:MIME-Version:Content-Type;
	b=S5d3j4s2pBDLej+b4Aslx+yfl9HBCRfQvehMpcJ4yPRtpZOaWKCBa4NhCj2GR86e+
	 CpzAslTfRoB3q+j4Psz5Uc1bDIwnsAfaon7rQXDMol7TObyIBIyOX7UAro4ItzhCHQ
	 091Gz18mo6oEN0bo14hQze8t87H0IgzSi8UzE6zY=
X-AOL-SCOLL-SCORE: 0:2:501304576:93952408  
X-AOL-SCOLL-URL_COUNT: 0  
x-aol-sid: 3039ac1d29494faefc226715

----------MB_8CEFEB40B894FE6_18CC_1B2C98_webmail-m007.sysops.aol.com
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="us-ascii"

Kiran,

I agree with Konstantin on this one. In my previous experiences with IE (no=
t sure about IE9) it will 'hijack' custom 404 pages and display the default=
 IE 404 page if your custom page is insufficient in size.  Increase your pa=
ge size (in KBs) and see if that resolves your issue.

Troy Parrish



-----Original Message-----
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Sent: Sat, May 12, 2012 6:25 pm
Subject: Re: IE 9 ignoring my custom error pages with 404 codes


2012/5/13 Kiran Badi <kiran@poonam.org>:
> Hi,
>
> I am trying to setup custom error page and has done below modification to
> web.xml
>
> <error-page>
> <error-code>500</error-code>
> <location>/errorback.jsp</location>
> </error-page>
> <error-page>
> <error-code>404</error-code>
> <location>/errorback.jsp</location>
>
> Then in errorback.jsp
>
> I wrote the default hello jsp page and triggered 404 condition to check i=
f
> setting are working fine,the above setting seems to be working fine in
> chrome/firefox but for some reasons IE is still showing up its own 404
> message and aborting the further calls to my 404 page which I styled it s=
ome
> images and other things.
>
> Now after further investigation, I came across a setting in IE9 where in
> there is checkbox to show friendly http error messages, if I turn this of=
f,
> I get my error page else I dont get it.
>
> Now I want to show custom error page to my users. Is their any workaround
> for this ? Ideally I would have expected IE to deliver what tomcat serves
> and in this case custom error page but its not happening when checkbox is
> turned on.
>
> Is their any work around for this or I have to accept the whatever IE is
> doing ?

Ask Microsoft? It is their beast.

I remember seeing someone adding a few KBs of HTML comments into the
error page, because that suppresses this behaviour of IE.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


=20

----------MB_8CEFEB40B894FE6_18CC_1B2C98_webmail-m007.sysops.aol.com--

From users-return-234190-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 00:48:48 2012
Return-Path: <users-return-234190-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2275FC64A
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 00:48:48 +0000 (UTC)
Received: (qmail 92446 invoked by uid 500); 13 May 2012 00:48:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92367 invoked by uid 500); 13 May 2012 00:48:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92355 invoked by uid 99); 13 May 2012 00:48:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 00:48:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.48] (HELO mail-qa0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 00:48:36 +0000
Received: by qady23 with SMTP id y23so2580556qad.0
        for <users@tomcat.apache.org>; Sat, 12 May 2012 17:48:15 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=qKO7uBABa79Bkfv+3OUkQR2uhXKD0SGtsde70tbezmE=;
        b=AEfvSzIZDaHmdvRaT2UjcCHLplcCdDuQFbq2RdrIl9JLsHS16joErkZnA/R7yI0iGV
         arB4iJfAS15O8zkPyVkVwk1nJHjfSFvnc1JYt1/PczN3UP/ieIG9s2/N+OCZ1tursvjo
         7aMcIS8Y8pIX2pf0tLK+NeerJEeimu8cnUdw+ZKCOMgQ47oBgbdULjfByi/89JedDxQe
         r8lp1A6RoTiMwobJ5AX7O94+UrVyr1zUSH2DUz2LEPljN32n3Ky+g8+y84Ozjse8kMwF
         +ZZf9e19KqTwqjj1yMRBYepWY+l+QGv9YrGi+MLqx4qpW0QD8l16Y3nMgMrv2+wQfJjb
         U2PQ==
Received: by 10.224.212.5 with SMTP id gq5mr5079000qab.1.1336870095289;
        Sat, 12 May 2012 17:48:15 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id x10sm30998320qan.1.2012.05.12.17.48.13
        (version=SSLv3 cipher=OTHER);
        Sat, 12 May 2012 17:48:14 -0700 (PDT)
Message-ID: <4FAF04CC.9010002@poonam.org>
Date: Sun, 13 May 2012 06:18:12 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
References: <4FAEE0AE.40701@poonam.org> <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com> <8CEFEB40B7B0788-18CC-81746@webmail-m007.sysops.aol.com>
In-Reply-To: <8CEFEB40B7B0788-18CC-81746@webmail-m007.sysops.aol.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQlcYPGK3mCeEV1lc6KN9t4YLLofJ8QnY10gO1Sob/OkPeOF6hOrsIH7ITFJuH/rSr6NtEM1

Thanks Troy and Konstantin.Adding couple of HTML comments resolved the 
issue.


On 5/13/2012 5:41 AM, Troy wrote:
> Kiran,
>
> I agree with Konstantin on this one. In my previous experiences with IE (not sure about IE9) it will 'hijack' custom 404 pages and display the default IE 404 page if your custom page is insufficient in size.  Increase your page size (in KBs) and see if that resolves your issue.
>
> Troy Parrish
>
>
>
> -----Original Message-----
> From: Konstantin Kolinko<knst.kolinko@gmail.com>
> To: Tomcat Users List<users@tomcat.apache.org>
> Sent: Sat, May 12, 2012 6:25 pm
> Subject: Re: IE 9 ignoring my custom error pages with 404 codes
>
>
> 2012/5/13 Kiran Badi<kiran@poonam.org>:
>> Hi,
>>
>> I am trying to setup custom error page and has done below modification to
>> web.xml
>>
>> <error-page>
>> <error-code>500</error-code>
>> <location>/errorback.jsp</location>
>> </error-page>
>> <error-page>
>> <error-code>404</error-code>
>> <location>/errorback.jsp</location>
>>
>> Then in errorback.jsp
>>
>> I wrote the default hello jsp page and triggered 404 condition to check if
>> setting are working fine,the above setting seems to be working fine in
>> chrome/firefox but for some reasons IE is still showing up its own 404
>> message and aborting the further calls to my 404 page which I styled it some
>> images and other things.
>>
>> Now after further investigation, I came across a setting in IE9 where in
>> there is checkbox to show friendly http error messages, if I turn this off,
>> I get my error page else I dont get it.
>>
>> Now I want to show custom error page to my users. Is their any workaround
>> for this ? Ideally I would have expected IE to deliver what tomcat serves
>> and in this case custom error page but its not happening when checkbox is
>> turned on.
>>
>> Is their any work around for this or I have to accept the whatever IE is
>> doing ?
> Ask Microsoft? It is their beast.
>
> I remember seeing someone adding a few KBs of HTML comments into the
> error page, because that suppresses this behaviour of IE.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234191-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 09:15:21 2012
Return-Path: <users-return-234191-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3A4B9BB5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 09:15:20 +0000 (UTC)
Received: (qmail 29316 invoked by uid 500); 13 May 2012 09:15:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29083 invoked by uid 500); 13 May 2012 09:15:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29050 invoked by uid 99); 13 May 2012 09:15:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 09:15:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [80.237.132.197] (HELO wp190.webpack.hosteurope.de) (80.237.132.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 09:15:07 +0000
Received: from p4fcb544c.dip.t-dialin.net ([79.203.84.76] helo=[10.1.1.251]); authenticated
	by wp190.webpack.hosteurope.de running ExIM with esmtpa
	id 1STUt3-0007s7-46; Sun, 13 May 2012 11:14:45 +0200
Message-ID: <4FAF7B83.8030301@mayr-stefan.de>
Date: Sun, 13 May 2012 11:14:43 +0200
From: Stefan Mayr <stefan@mayr-stefan.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
References: <4FAEE0AE.40701@poonam.org> <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
In-Reply-To: <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-bounce-key: webpack.hosteurope.de;stefan@mayr-stefan.de;1336900507;8781c33a;
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

Am 13.05.2012 00:24, schrieb Konstantin Kolinko:
> 2012/5/13 Kiran Badi<kiran@poonam.org>:
>> Hi,
>>
>> I am trying to setup custom error page and has done below modification to
>> web.xml
>>
>> <error-page>
>> <error-code>500</error-code>
>> <location>/errorback.jsp</location>
>> </error-page>
>> <error-page>
>> <error-code>404</error-code>
>> <location>/errorback.jsp</location>
>>
>> Then in errorback.jsp
>>
>> I wrote the default hello jsp page and triggered 404 condition to check if
>> setting are working fine,the above setting seems to be working fine in
>> chrome/firefox but for some reasons IE is still showing up its own 404
>> message and aborting the further calls to my 404 page which I styled it some
>> images and other things.
>>
>> Now after further investigation, I came across a setting in IE9 where in
>> there is checkbox to show friendly http error messages, if I turn this off,
>> I get my error page else I dont get it.
>>
>> Now I want to show custom error page to my users. Is their any workaround
>> for this ? Ideally I would have expected IE to deliver what tomcat serves
>> and in this case custom error page but its not happening when checkbox is
>> turned on.
>>
>> Is their any work around for this or I have to accept the whatever IE is
>> doing ?
>
> Ask Microsoft? It is their beast.
>
> I remember seeing someone adding a few KBs of HTML comments into the
> error page, because that suppresses this behaviour of IE.

The usual limit is 512kb for 404 pages (Attention: some people report 
this limit also accounts for compressed content).

Eric Law documented some details in his blog post: 
http://blogs.msdn.com/b/ieinternals/archive/2010/08/19/http-error-pages-in-internet-explorer.aspx

He also has details where to find the limits for different error codes 
in the registry.

Bye,

   Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234192-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 12:33:39 2012
Return-Path: <users-return-234192-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7EB2C770
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 12:33:38 +0000 (UTC)
Received: (qmail 41687 invoked by uid 500); 13 May 2012 12:33:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41635 invoked by uid 500); 13 May 2012 12:33:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41626 invoked by uid 99); 13 May 2012 12:33:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 12:33:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.103 as permitted sender)
Received: from [65.55.111.103] (HELO blu0-omc2-s28.blu0.hotmail.com) (65.55.111.103)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 12:33:26 +0000
Received: from BLU142-W9 ([65.55.111.73]) by blu0-omc2-s28.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 13 May 2012 05:33:05 -0700
Message-ID: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_d982ba29-4265-4c42-90db-acb375d74c35_"
X-Originating-IP: [75.68.3.126]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: IE caching problem-
Date: Sun, 13 May 2012 08:33:05 -0400
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 13 May 2012 12:33:05.0868 (UTC) FILETIME=[8BCC88C0:01CD3104]
X-Virus-Checked: Checked by ClamAV on apache.org

--_d982ba29-4265-4c42-90db-acb375d74c35_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


'Morning All

I seem to be plagued by a IE caching problem where loading my index.jsp alw=
ays returns the same old index.jsp
my workarounds thus far:
1)Reload Webapp - TC still returns old index.jsp
2)Stop Webapp Start Webapp - TC still returns old index.jsp
3)delete webapps/WebAppName/index.jsp - TC still returns old index.jsp

Environment:
TC 6.0.20
IE: 9

Does anyone have suggestions to allow TC to return new index.jsp and not th=
e old cached version?

Thanks!
Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.
 		 	   		  =

--_d982ba29-4265-4c42-90db-acb375d74c35_--

From users-return-234193-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 12:50:17 2012
Return-Path: <users-return-234193-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E66C2C78D
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 12:50:16 +0000 (UTC)
Received: (qmail 69599 invoked by uid 500); 13 May 2012 12:50:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69400 invoked by uid 500); 13 May 2012 12:50:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69390 invoked by uid 99); 13 May 2012 12:50:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 12:50:13 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of darryl.lewis@unsw.edu.au designates 149.171.97.17 as permitted sender)
Received: from [149.171.97.17] (HELO smtp-dist.unsw.edu.au) (149.171.97.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 12:50:04 +0000
Received: from INFPACM003.services.comms.unsw.edu.au (INFPACM003.services.comms.unsw.edu.au [149.171.193.26])
	by smtp-dist.unsw.edu.au (8.13.6/8.13.6) with ESMTP id q4DCnPTR006703
	for <users@tomcat.apache.org>; Sun, 13 May 2012 22:49:25 +1000 (EST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AmgDAOisr0+Vq4fsgWdsb2JhbABEoUSSGyIBARYmJ4IcbB8BCA1rJQIEE4gAAwuZGpcgiQmKLIZ2BIgwi3aBV4YXhSaHbIFf
X-IronPort-AV: E=Sophos;i="4.75,579,1330866000"; 
   d="scan'208";a="154810525"
Received: from unknown (HELO INFPWXH001.ad.unsw.edu.au) ([149.171.135.236])
  by INFPACM003.services.comms.unsw.edu.au with ESMTP; 13 May 2012 22:41:32 +1000
Received: from INFPWXM006.ad.unsw.edu.au ([169.254.6.17]) by
 INFPWXH001.ad.unsw.edu.au ([149.171.135.236]) with mapi id 14.01.0323.003;
 Sun, 13 May 2012 22:49:25 +1000
From: Darryl Lewis <darryl.lewis@unsw.edu.au>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE caching problem-
Thread-Topic: IE caching problem-
Thread-Index: AQHNMQSqHQvAStDpTUmyzOxoXE7e4ZbHq5kA
Date: Sun, 13 May 2012 12:49:25 +0000
Message-ID: <CBD5EA7A.2CEE9%darryl.lewis@unsw.edu.au>
In-Reply-To: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
Accept-Language: en-US, en-AU
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Microsoft-MacOutlook/14.10.0.110310
x-originating-ip: [149.171.135.54]
Content-Type: text/plain; charset="iso-8859-1"
Content-ID: <5A5092112215574CA6A2707752357313@exch.unsw.edu.au>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Did you delete the IE9 cache?
Does the problem only exist on IE9? Ie, try chrome and firefox.
Are the sizes of the old index.jsp different from the new index.jsp?
Do you have any caching enabled/proxies etc?


On 13/05/12 10:33 PM, "Martin Gainty" <mgainty@hotmail.com> wrote:

>
>'Morning All
>
>I seem to be plagued by a IE caching problem where loading my index.jsp
>always returns the same old index.jsp
>my workarounds thus far:
>1)Reload Webapp - TC still returns old index.jsp
>2)Stop Webapp Start Webapp - TC still returns old index.jsp
>3)delete webapps/WebAppName/index.jsp - TC still returns old index.jsp
>
>Environment:
>TC 6.0.20
>IE: 9
>
>Does anyone have suggestions to allow TC to return new index.jsp and not
>the old cached version?
>
>Thanks!
>Martin=20
>______________________________________________
>Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9
>
>Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
>Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede
>unbefugte Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese
>Nachricht dient lediglich dem Austausch von Informationen und entfaltet
>keine rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit
>von E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
>Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAte=
s pas
>le destinataire pr=E9vu, nous te demandons avec bont=E9 que pour satisfair=
e
>informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e ou la
>copie de ceci est interdite. Ce message sert =E0 l'information seulement e=
t
>n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant donn=E9 =
que
>les email peuvent facilement =EAtre sujets =E0 la manipulation, nous ne
>pouvons accepter aucune responsabilit=E9 pour le contenu fourni.
> 		 	   		 =20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234194-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:15:14 2012
Return-Path: <users-return-234194-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4C5DC7EB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:15:14 +0000 (UTC)
Received: (qmail 14077 invoked by uid 500); 13 May 2012 13:15:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14023 invoked by uid 500); 13 May 2012 13:15:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14012 invoked by uid 99); 13 May 2012 13:15:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:15:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:15:03 +0000
Received: by werf3 with SMTP id f3so2541028wer.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 06:14:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=iLxBAa6OuSqG5acTtaTpR0LKOvU3/6ScDoYECSOXiAY=;
        b=ZxWajpb229F2PG4wE93x/lUNf45KTi5OFH2g9mWr7N+UENjyRQSypQCY0lbFi/R/Cz
         1sxxb5rEKzNWoS6VSJMvs/lNhWM6HE+JSzHjFhofyjckmwce5Puho33T9c87H+xp77ce
         HLXzQ3sleL3aEo/v4LPRPScar0OST7fTwrafo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=iLxBAa6OuSqG5acTtaTpR0LKOvU3/6ScDoYECSOXiAY=;
        b=U3VhJQQAHroyg8rB1VJzouPuTPvTmDrh9phMF3m3R92zTlOFUSSCBq8q2WX1YGJofR
         eyU7riF55EIbYekw2np+Fv0VZuVNZiQVvggL8gUUMf2oNux55dxEl1kJhtMRKXdypxHy
         KQZnT29tr0yMRe3eXqbeCTsR/9tjQ6Q6oNiZbxqDWhAjlWVDs6jhJpFJDDOLEZeZcduQ
         MExARqN5RYqoKFipKvY361iTitbrgbkxc9jDc/m7HOmi4dOajwezmQQrmHtwCxc1ZD7G
         93Ic8JjnOJDuAxoxgJ5HnhRpGlthLYkhSEbO03k4mHgObnCIS2IGOvtQvkxsI5hWwMBC
         4ssA==
Received: by 10.180.24.35 with SMTP id r3mr11497491wif.7.1336914880285;
        Sun, 13 May 2012 06:14:40 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id j4sm42765346wix.5.2012.05.13.06.14.38
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 06:14:39 -0700 (PDT)
Message-ID: <4FAFB3C5.3020808@pidster.com>
Date: Sun, 13 May 2012 14:14:45 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
References: <4FAEE0AE.40701@poonam.org>
In-Reply-To: <4FAEE0AE.40701@poonam.org>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig8C37588029293050A01E7092"
X-Gm-Message-State: ALoCoQm/xHc6ByfxBXXz7n6jrM70xw/s8vpT7/C0n/9up6wGhbqArnZWJH5pAUeh8rwg9DKg10e8
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig8C37588029293050A01E7092
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 12/05/2012 23:14, Kiran Badi wrote:
> Hi,
>=20
> I am trying to setup custom error page and has done below modification
> to web.xml
>=20
> <error-page>
> <error-code>500</error-code>
> <location>/errorback.jsp</location>
> </error-page>
> <error-page>
> <error-code>404</error-code>
> <location>/errorback.jsp</location>
>=20
> Then in errorback.jsp
>=20
> I wrote the default hello jsp page and triggered 404 condition to check=

> if setting are working fine,the above setting seems to be working fine
> in chrome/firefox but for some reasons IE is still showing up its own
> 404 message and aborting the further calls to my 404 page which I style=
d
> it some images and other things.
>=20
> Now after further investigation, I came across a setting in IE9 where i=
n
> there is checkbox to show friendly http error messages, if I turn this
> off, I get my error page else I dont get it.
>=20
> Now I want to show custom error page to my users. Is their any
> workaround for this ? Ideally I would have expected IE to deliver what
> tomcat serves and in this case custom error page but its not happening
> when checkbox is turned on.
>=20
> Is their any work around for this or I have to accept the whatever IE i=
s
> doing ?

The trick we used to use: make a larger error page (in terms of file
size) by adding a block of text in an HTML comment.


p


--=20

[key:62590808]


--------------enig8C37588029293050A01E7092
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr7PKAAoJEGoM2OGpOvr9sB4P/3CNsLH3QvG0i5ZI12jzBdtx
baFQCgAApzEKGQZIsdiDihiIy0piuJuioWw2fsmCmo6e7gqQ+Fya5d8Aldgo+Zjb
nQFq6yRkjr2zTYU044Xf6+jBud3ORVoh0hxbWtPQ9GXgt5NxsjtEern5gHSOJCl0
mTGCcVgm5/98DQC1yVUF7Lko2V2pv47hq0jj60IK7H7wjwzd4aJUdCRSsm1QpyOR
hwInKQPptEy7tpidJHtcIDlDkiZE7X1KP+E2GI+CwgHi4zkk3UvHn1aHpMsM+Lnd
xrcpPtJQiD0oTdDxy2wKqwe+zX9+ANw9TshJa8HHD+FNEtRRLv11c+NueJG9L5dd
ddIKvw3u3Y5j5Jl5pmt2/Wb/LCL2k22Em9mrYcTc5x5z6gYs8ElZTtBh0rQkhAO8
uTYaz8pmVbQX/80AiIFJd7EiYRRcFbSiV15UQUJyeb3Fmh48wRIxS+vwW7eHLabS
t/6LeF42sAlg4GkBYxY4PYkAo9f9ArHHHXfqcGWMNvbWZtUtovBTfUVBGbA9kQLV
1wrNRG9jnsxaVvBZLAtJW5l6t3LZvHwOG0Ask8tw+sIlZDPBQGZRPXTvLf4mTc2J
Mi5POkMpkvGWxpJDTDr0eBnclwVJxa/66z0VBgM/6jNjPiGfcXljw14/OzGwOcJI
huXYigZBjQctHOCa5NSH
=lo8/
-----END PGP SIGNATURE-----

--------------enig8C37588029293050A01E7092--

From users-return-234195-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:21:21 2012
Return-Path: <users-return-234195-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1DF6C7FB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:21:21 +0000 (UTC)
Received: (qmail 27416 invoked by uid 500); 13 May 2012 13:21:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27343 invoked by uid 500); 13 May 2012 13:21:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27334 invoked by uid 99); 13 May 2012 13:21:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:21:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:21:11 +0000
Received: by wgbdr1 with SMTP id dr1so3393047wgb.0
        for <users@tomcat.apache.org>; Sun, 13 May 2012 06:20:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=ELDe8DkWjuFeE7+jnmrUukZT9Fc95Z1ALD9zQQ5qEtc=;
        b=NvYAEwgEdr77BUIEKq9OwhVODEL81gSKnSB1Veb5NLdakLbfVyao8tP1ixh+GEiRBU
         y7ce42Rf5Xj5iZk0/Zo8b5ck4GrKo6ptLbgj4Ug1jo5vZzGxbwKTdOG/TufVAh0txsaL
         0bGsLzQ/fKCLyuAR+MPIEaYhlSP8kSkNLtIXg=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=ELDe8DkWjuFeE7+jnmrUukZT9Fc95Z1ALD9zQQ5qEtc=;
        b=pUm7OJBHenbzUfS9o7qjCXLNxiAC4iaq+8Rw1gStpjNy8mcEynwjXudCgzVN54fAFn
         YwEX9Mb8R9o6rTQvbYBN9mPHn8G38mutHs4fopGmKIG1h9jmNtD3rQ9Fxdz1vmW36i2i
         RZ5rml1BhDnXX9WnbRMq0TdclnhLgYL9puGZuEdly9OtCsLGemi9d1v0Vr/pouzuqrWD
         q5PhyXx1rAGuFNjWU7DmdgbuFbEg0FV++l9S4361cuOsu1LRae23YR9Zz/1e8SqSsq/5
         d/LVEysILQnb7YYLsy3TtDFEQVuD2JMTPrGPrph6wHnBpFpnZG0gUDvC8v1MyhHcp/Qy
         7iQw==
Received: by 10.180.86.197 with SMTP id r5mr11523094wiz.21.1336915250995;
        Sun, 13 May 2012 06:20:50 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id j4sm13219546wiz.1.2012.05.13.06.20.48
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 06:20:49 -0700 (PDT)
Message-ID: <4FAFB53A.10607@pidster.com>
Date: Sun, 13 May 2012 14:20:58 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: http status 404 error
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com> <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com>
In-Reply-To: <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig1DFFEC78E743B4C5379B40B3"
X-Gm-Message-State: ALoCoQlA9P+uvniLitGxabuR5hDpL5sDalN0qqLs2Lp8O5yGQ4bl1P5EtFWyzLWxPYvfT5O23p/l

--------------enig1DFFEC78E743B4C5379B40B3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 14:13, Jose Mar=EDa Zaragoza wrote:
> 2012/5/11 Irene Amatulli <IAmatulli@cleverdevices.com>:
>> Hi,
>>
>> I got this error when trying to access my application's website.  The =
Tomcat service is running, so I don't know why I got this error.  The web=
site appeared with no problems when I used it yesterday.  I'm not sure if=
 some updates that were applied to the server may have caused this to hap=
pen.  Thanks.
>>
>=20
>=20
> Pid, it's your turn  ( smart questions, you know  ...)

I'm too tardy to join this party.


p


--=20

[key:62590808]


--------------enig1DFFEC78E743B4C5379B40B3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr7U9AAoJEGoM2OGpOvr9WRIQAIP/FOuU7xZIVQWJZA04nzz2
wUBroaaaAjfGw4zcKJl/ebWLlkb/d56zONCJw/zYPdBcor2HIImzRdmuJGHPI+kD
P8Xh0EyAH8qA+gt54zio8RFL66nGwSutUIz406nhOpCTOybSEWtgyS8p25nW7ort
8vaSem1REbG8p2ybZGy3K8aFOwjrWbdk8mqoCORcEoejbfSHrukb+8RnNKnREVUP
9ZUGj8HuAFwWu/Qt5NIEWldnLqoL30O60D15QDUMjOUP/oc/m7s/n55TgzHI8LUJ
QTtMeWHPxBIa6nmwR7z2yfNnHSmVt529R481H6yh3Xy5OxiyqZ0yUSmbc5byUccy
Fvp0zm4SBHzAFIdvjImfAYm/sace0J9azfLm0NzTScvmJVtBqEx40bWA9t/5ZaHV
bnKDHleYX9ly//Jw7gqbsYZT3Ag3rkQIStEW/oITfhrRbTKKVaxGL3oCk/l7upFd
5IEpgD3zm+USLkNYm7fdihh317trh2V4UMxzpY1jKVxWv5c+UG2XdX0GJMl0b02A
tbbuLf8osx2PW7OqXkueyCU1BTQvqVnJVVzpPO/gZC4NyFLpG6vJbv1BrjBWI7/v
poxhc5LF8wc6mlbyAa2aole7nruraZkCsNi3/xcoYm0lQ68Ti608rIRnVVRG1otI
AA7FNAMv9IjG4DUYU4/3
=DUgC
-----END PGP SIGNATURE-----

--------------enig1DFFEC78E743B4C5379B40B3--

From users-return-234196-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:21:47 2012
Return-Path: <users-return-234196-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 374A1C807
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:21:47 +0000 (UTC)
Received: (qmail 31214 invoked by uid 500); 13 May 2012 13:21:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31134 invoked by uid 500); 13 May 2012 13:21:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31123 invoked by uid 99); 13 May 2012 13:21:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:21:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:21:36 +0000
Received: by werf3 with SMTP id f3so2543579wer.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 06:21:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=EneZt0JBn51mEIisyiTpH1am4KBDo1/Bcl1FDxcJm2o=;
        b=VnpiX4ed6LsgsaMrmNqWimNef4FosoZPCCq5jxN3CFAmdjrxCa07w3mzfh0LBQ+4XW
         HsYCTofqMQK+vrFag/nrahZGqdkaRH/IWtbFfLOYKYtDOPyzX1+M1WqhuLVoaXkoSQE9
         U9chvilghXxgi3iWebeSHGefNV+2bAgPtMrZ8=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=EneZt0JBn51mEIisyiTpH1am4KBDo1/Bcl1FDxcJm2o=;
        b=hJUz30YzVyQP5t8QiwzfIkhmQVEsSbFsQ6LR7ZY+TwK81SI5gT8yRTBCbCyxpyMmZT
         MHxEOMSZNq/Ua2Kgu+oJeNs+BA/lhXVNN65NJF4on8zpen0sdMjr1XN5aXqoZirl2nOl
         78YTNCJhqug3dlXD2TxxEQo4ioXv5Qx/iaP0bXlOT8g7584NXKj8LBYT1djjSPNGcG5v
         3GTdPPMMw40v3SyqaZLWHaLBvs9AOLeWTqAD9bWeFwArMBTzTmRraoZu72PDydJsRs/g
         Hwe02Mlc+EzpvxkZe81lmt1xHV1YILE9kR6UymR9UbMWlPhRmuX1oTrvuH4XP1mfDkkv
         JxgQ==
Received: by 10.216.135.234 with SMTP id u84mr3052622wei.108.1336915276531;
        Sun, 13 May 2012 06:21:16 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id o9sm42838585wia.3.2012.05.13.06.21.13
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 06:21:14 -0700 (PDT)
Message-ID: <4FAFB555.4070200@pidster.com>
Date: Sun, 13 May 2012 14:21:25 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: http status 404 error
References: <5987A528DE04174FBF7685518F92EFCC0B4CD196@Exchange2.cleverdevices.com> <CABOBwRhGZyKuTZMYD6t3p15uBXJoXLjYkU_5O7ABViapUQKrrA@mail.gmail.com> <4FAD1341.2080406@coochey.net>
In-Reply-To: <4FAD1341.2080406@coochey.net>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig514F4CC5F3B0B2B5B3A2908F"
X-Gm-Message-State: ALoCoQlHwpITZCw79rZgvxcYKVPkc0nX0ytYNys1mF/0hdeubhLbqypJEMfd29Fv2uxklsXjIl4F

--------------enig514F4CC5F3B0B2B5B3A2908F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 14:25, Giles Coochey wrote:
> On 11/05/2012 14:13, Jose Mar=EDa Zaragoza wrote:
>> 2012/5/11 Irene Amatulli<IAmatulli@cleverdevices.com>:
>>> Hi,
>>>
>>> I got this error when trying to access my application's website.  The=

>>> Tomcat service is running, so I don't know why I got this error.  The=

>>> website appeared with no problems when I used it yesterday.  I'm not
>>> sure if some updates that were applied to the server may have caused
>>> this to happen.  Thanks.
>>>
>>
>> Pid, it's your turn  ( smart questions, you know  ...)
> Actually, this is one for Uri Geller I think.

I do Internet Telepathy[tm] too.


p


--=20

[key:62590808]


--------------enig514F4CC5F3B0B2B5B3A2908F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr7VVAAoJEGoM2OGpOvr9X+0P/1CvcQ8jRqrxQrIwBHX2FEWx
VvIMTtnem5sYzy7+acG/WW2Ih68xiINOqyeCdqGpz8N+kqCsBeXBuCnYZFcdGNSX
o9LjGxREZjoHQ/UJnBsgcBnyGZX9Xz1TgN7369dO3ugx3BsIG8SwlVtL/v/lW7BT
kQVP0vvOexyqEO/Rw5UuaxuUoIqcjVZ31DATgTi6hC1dg7e/nXcoZKzGfkPqtUOS
BjD17w1YkZN4lzQj5AhhUGkqwcdb1fbei2VOQT/yParB/7bTLcT3eWwioqBKHM/p
hlynuXbBOTOrC3Guc0oZ6F0bjCbs3Rw0h6KCVa9JBycr7FzzZBWEJPe0LGTcR8jV
X+i+nKU3Do9c179iCLR0vOdMAzpqbQi22brm5EplHBvcQTRtKwdhtKBKXmdz8aqh
nRYW9lxLZYVmYWlcGZbfcBu9SWFTKxEUsDMI6i+a63BcHC+TfeaML8sYzjBCgMvf
HaiCIt6OT95AH+GknjuCXRPzSx/g9JorAGxAYRB3lULV+ikJAK/7W+7qzIqFCopC
0XYDO+WqgDIZGWZTQlzVjYvTBsaK7fO7DnkgZzxOnzUmNPEjYWIzYQJvyXlZyPdj
mbdu9vNfAq5qKCwEtt2Jnyuh5r+3I8ixWDVFX2Y/gqnoqhTaM8uLq5K3OKnq4aGG
pQt8rnvz0g1ZmzWI6bbn
=Pg9i
-----END PGP SIGNATURE-----

--------------enig514F4CC5F3B0B2B5B3A2908F--

From users-return-234197-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:23:45 2012
Return-Path: <users-return-234197-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C26CDC81F
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:23:45 +0000 (UTC)
Received: (qmail 37132 invoked by uid 500); 13 May 2012 13:23:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37074 invoked by uid 500); 13 May 2012 13:23:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37064 invoked by uid 99); 13 May 2012 13:23:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:23:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:23:31 +0000
Received: by wibhm14 with SMTP id hm14so2216504wib.0
        for <users@tomcat.apache.org>; Sun, 13 May 2012 06:23:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=T2ss9MLbOdG1nhKrKiw9+YUXA4EcjhrWFzPZBPv0rOU=;
        b=slLanvT7X2lewBBkP4FhOpP8obL3zsE33rTGKDdRRqLln6I4b661YM0d19ipXlGgJF
         7lOxEhys+RVHAUE+Y78J4WEBtngPchuWLz2hL+9LtTiCf8qyj/Wct11uqEFpBBvSDHbf
         GRcT119esEoCaTqGnkzBACRbONFnD1LybpxC0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=T2ss9MLbOdG1nhKrKiw9+YUXA4EcjhrWFzPZBPv0rOU=;
        b=cfaeVbySI58Z041gWAZDQLwWJJbu96F2ooZdM/WYWCchqQpX7o9C9tTtYNxi42/nJ/
         VyxGuCqBh9GL1drJ4Tya6cE8j+MSqlI2BavKxo+5Nt8o3tutPHMDEIJ+miTmzFoPmOar
         O9xIC9MZAVkir4ZPOub5ubBKxQcKZdFZ1D5Lgevzj4tCdHAEy5kwnjfAic/WCH7xz4eQ
         Z6leYxE3Ciiz7f52DQdfqbztmEeOfqxN/K+LeD1SGyMZWmriHLwYa0Xnc4ZvUwdEobeR
         5NKi7gXa/uE2UXBgBnE8JeaRE59F1iy8AfSMpDIg2R9tcJHN6+CPK1gvojjn5ohq+O+e
         7Jaw==
Received: by 10.180.78.105 with SMTP id a9mr11098692wix.20.1336915390183;
        Sun, 13 May 2012 06:23:10 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id o9sm42857711wia.3.2012.05.13.06.23.08
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 06:23:09 -0700 (PDT)
Message-ID: <4FAFB5C7.6050006@pidster.com>
Date: Sun, 13 May 2012 14:23:19 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11
 g an adobe
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com> <4FAC2B64.80808@pidster.com> <4FAD0DE3.2030505@bucalinux.com>
In-Reply-To: <4FAD0DE3.2030505@bucalinux.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig3D7C07B1B59E7935D0E56F0F"
X-Gm-Message-State: ALoCoQkYXAQW+PkxAH20LNx3pn1nvkfDAyQRpVrEQ4u/WRjn1ilxMMwDqd8Y7eAgC9GSHU2X+s7e
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig3D7C07B1B59E7935D0E56F0F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 14:02, reissner wrote:
> On 10/05/2012 03:56 p.m., Pid wrote:
>> On 10/05/2012 21:33, Reissner Pab=F3n wrote:
>>> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g
>> Define an appropriately configured JDBC DataSource in server.xml.
>>
>>
>> p
>>
> using the ip adress of db server an the db name ?

Certainly a better idea to use those than random numbers & letters.

 http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.h=
tml


p

--=20

[key:62590808]


--------------enig3D7C07B1B59E7935D0E56F0F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr7XIAAoJEGoM2OGpOvr9mRMP/0MyT42Q+j4N9Y3Xk918Kvaa
ILaEC8egQ2bkRH/zKmdpHmVi7zN3/yRUP4cxl+5k1BDGQB/7367ojgutVf3zF8KM
SIGRuVfoz7qCssSq4x0Cmf7XySNxFUuLc1rBPLYjSnTWyw5h9mFpuFZzeenAhlgT
xc34d2Vv8KldpACV/xs+oEOmO68GAH4iZHa0ArjOWLNAbioLIG53ApHqxwM3xgMR
6MaIPN+OyJ9LisI+uXHLbH5vwX8ZU6QOEqIjyR9b1tsoYmlpIF2q1vza8K5277Z9
MZUiJ26jGCvJSP7F4i4rUSbuOK04SdpqAyFal5WKbZ1gzpPFdXFMMsdQ+UB/lRai
lJnhFr906JumBuXS0zSqtCeXbC7/zUVOGqYu4FukLvTCgx+VJ2unwmttWpaT/ZNV
Dtc+0RfT7j1ZCtJO5nNDgvcfNjjjZ0tM5eLNxxol4kbVrtn3Oen2iL0nyz2qmdNG
TWvdbURPJcxBzsQRt5O32HAR0FffbFKwnFP+mBfm8Cx3+hnMKxr7qSf6OVg8VyLD
SyrpeEl5AIRsq9aynWElhLHxev1ymEJSKvqAfuraE+aMvR7PEW3K9VGA8W+LGzIy
hNgSWxRx7KTmooX0blD2Ii3Hc9aNA9U9oURnhkCZqSkxPhj8h4MbhEAq4SmAxpT/
n7qhc2jQvyfP/CS1vZpo
=Ehjo
-----END PGP SIGNATURE-----

--------------enig3D7C07B1B59E7935D0E56F0F--

From users-return-234198-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:26:44 2012
Return-Path: <users-return-234198-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B4A49C4EE
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:26:44 +0000 (UTC)
Received: (qmail 48807 invoked by uid 500); 13 May 2012 13:26:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48746 invoked by uid 500); 13 May 2012 13:26:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48737 invoked by uid 99); 13 May 2012 13:26:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:26:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:26:33 +0000
Received: by werf3 with SMTP id f3so2545342wer.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 06:26:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=X8vGrPR+pcDwAxYXh92qoEk5MxoVNeTtvLhWfahZeSw=;
        b=ZBxuh15JLvdUKeCR03LgRx0FcpSQ3CAXm368ph2eOafy11sivedoylyJ+14j++dvzh
         HwBM3rsRC1pqIMHShTo7zKjhAtXX1ERFgPsao6YnidFGfGpdMIgxC0gTs4GfiPYtx/Sl
         PeZ7Tt0mpmsZbaf2Us4K57bK9nlQ/84CRHiKE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=X8vGrPR+pcDwAxYXh92qoEk5MxoVNeTtvLhWfahZeSw=;
        b=FpQ5zprfc+51JlcpAOhc9Ii8b0kMyDNSzlmaSTI3JBQxXVW/ymwGs3k3ZCCuSbelxN
         lG6u4NTlLEiQ5sFOJuoQAPu8TYMLi/ER3hu7xBIg+9Bfe1LlIQMGd4Mi/MIxnaWZLo9p
         4t5sr15gGXb/PymoMFsO5eKDjzBSrqOp7s0jIgceA/iylDHIKMlq0SiALQndSWS4+g+C
         YeZ4fH6u3xkd8+iBAux8GuMKmBLiu6VdI3gmIstydQke+vKDs5dCz3x2geU5ecPxTtfF
         XD4P5OTgPx/oJZag+AOGBXQztr8AlQW/bY/bwmkpyc/tG2zB5XUoG78tTS/ZbywIM3Nr
         ljOQ==
Received: by 10.180.85.129 with SMTP id h1mr9589696wiz.2.1336915573075;
        Sun, 13 May 2012 06:26:13 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id gd4sm42876630wib.6.2012.05.13.06.26.10
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 06:26:11 -0700 (PDT)
Message-ID: <4FAFB67E.3010807@pidster.com>
Date: Sun, 13 May 2012 14:26:22 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com> <4FAC4083.1020709@ptc.com> <4FAC42D2.7070805@ptc.com>
In-Reply-To: <4FAC42D2.7070805@ptc.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig221F1590D7F3DD95C0BEBBB3"
X-Gm-Message-State: ALoCoQl4YzE5vxO8teyzNGhGNw1KfKeOu/YnRtwhXuGiXvCDQj2syNxryXej0kStVSiAsmV/fLWJ

--------------enig221F1590D7F3DD95C0BEBBB3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 10/05/2012 23:36, Andy Wang wrote:
> So I cannot reproduce the slow down to 4-5MB/s on the same VM I was abl=
e
> to reproduce it on once I copied the VM to an adequate vmware server.=20
> But I do see some neat numbers in case people care.
>=20
> I ran with ab -5 directly against apache, against a url mapped to ajp a=
s
> well as direct to the http connectors.
> The numbers were consistent between tomcat 5.0, 5.5, 6.0 and 7.0 so I'm=

> only going to post one set of numbers for tomcat.
>=20
> This is against a windows XP SP3 with no sendbuffersize, tcpbuffersize
> or scaling window tuning:
> Direct to apache http:
> Transfer rate:          21925.90 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   0.3      1       1
> Processing: 19593 20077 474.0  20045   20855
> Waiting:        1    2   0.6      2       3
> Total:      19593 20078 474.1  20046   20856
>=20
> Through AJP:
> Transfer rate:          36732.95 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   0.2      1       1
> Processing: 10662 11984 879.6  12227   12975
> Waiting:        4    5   0.5      5       5
> Total:      10663 11984 879.7  12227   12976
>=20
> Direct to tomcat http:
> Transfer rate:          30968.31 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   1.6      0       4
> Processing: 11326 14214 2655.1  15565   16952
> Waiting:        3    5   1.6      5       7
> Total:      11326 14215 2654.3  15565   16952
>=20
>=20
> Note how much better the both the tomcat results are than direct
> apache.  Most interestingly, note how much better AJP is than direct
> tomcat HTTP connector.  That was quite unexpected.
>=20
> Here are the results from a Windows 2008 system on the same vm host:
> Direct to apache http:
> Transfer rate:          57968.69 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   0.1      1       1
> Processing:  7453 7594 181.8   7575    7890
> Waiting:        2   12  18.5      6      45
> Total:       7453 7594 181.8   7576    7890
>=20
> Through AJP:
> Transfer rate:          31532.82 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   0.2      1       1
> Processing: 10723 13960 2813.3  15795   16409
> Waiting:        3    5   3.1      4      10
> Total:      10724 13961 2813.4  15795   16410
>=20
> Direct to Tomcat http:
> Transfer rate:          37742.45 [Kbytes/sec] received
>=20
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    0   0.1      0       1
> Processing: 10974 11664 452.1  11812   12192
> Waiting:        2   14  25.2      4      59
> Total:      10974 11664 452.2  11813   12192
>=20
> Tomcat http averaged better times, BUT ajp was able to perform faster a=
t
> times.  Direct HTTP to apache is way faster though but I think that's t=
o
> be expected.

I'd guess that the default Context cache settings are giving Tomcat an
edge here.  HTTPD does not have caching enable OOTB.


p


> So realistically, I think the 2008 numbers make sense to me and the XP
> numbers show that XPs tcp stack is a piece of crap (which I think alot
> of people already know).
>=20
> I'm not sure what to make of the customer reports of the slow downs but=

> at this point, I'm going to have to ask them to use something like
> ab.exe to do the downloads instead of Internet Explorer (most of them
> use IE to do it).  Maybe there's some stupidity with IE.
>=20
> Anyways, I'm closing the book on this (with a bookmark just in case) bu=
t
> wanted to provide the numbers in case people were curious what I got.
>=20
> Thanks,
> Andy
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig221F1590D7F3DD95C0BEBBB3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr7Z+AAoJEGoM2OGpOvr9qj4P/0QKzwZMVA/Up/6utauCoux8
0YiNaRTxpfS/0aT/LEbQ3zUOsSdyb0EQycAXd138vk0vtRfQjNZxwuet8D5NsObX
zuTEuCq2r3/YVY7zUQD5MTU0W1JpqAdqDS7T4KjfcrUANG9Y84ECLFP4y/WCIx4m
zx7YnXNgKau+9EUVK0EFqNeH/Bc5pGTIo3YJaL/haTpZBp4WB0nX7mVDSUsu2z7g
+k0Pynot8/rUCJ7YL4kuyqPgO5UPuFyhDtCixO7nnEgycMSDg6NymMKvDybXHakN
4ErcIA+vTNoqtWglmWEugAQHQDTeKwVTGSPesVNqEIdztkCowt5TqVWqE5k/Daj7
0/bid2yhx3MPWcU/3oN2BKoT2WJF+AvTzi+JqO6pUkY1MljxleoOiKx0CZdg2z/v
SV+IlI0dkYVkqcYl29EzKpGw5B3afQvd7YL7f7plIrwltDLaY5SSvRwvFU58twte
uX4504hBZzbiNPIZ7FHao1Kvq2Cnp8grpoFvUKyMl0jpF8bzVVCgeIh52ZhO7daN
On+BfcOlr8/9uXSGrVkT/H4Iq2aWguxdAIZA6iK5i23Qst9APIEq3qPXe5T5GAfN
Zb3XNrPMMDafLP/IMcaLJYmpgxH+mlu1bA/djWOo0kvsDAb7fJDMgBlYUmmjILpT
W3p+TWDpfDMEiYHb/JEX
=fnz5
-----END PGP SIGNATURE-----

--------------enig221F1590D7F3DD95C0BEBBB3--

From users-return-234199-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 13:50:30 2012
Return-Path: <users-return-234199-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2201C138
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 13:50:29 +0000 (UTC)
Received: (qmail 87328 invoked by uid 500); 13 May 2012 13:50:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87085 invoked by uid 500); 13 May 2012 13:50:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87070 invoked by uid 99); 13 May 2012 13:50:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:50:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 13:50:18 +0000
Received: from [192.168.245.129] (p549E1C69.dip0.t-ipconnect.de [84.158.28.105])
	by tor.combios.es (Postfix) with ESMTPA id 02B4ADA061F
	for <users@tomcat.apache.org>; Sun, 13 May 2012 15:49:55 +0200 (CEST)
Message-ID: <4FAFBBFF.7060304@ice-sa.com>
Date: Sun, 13 May 2012 15:49:51 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11
 g an adobe
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com> <4FAC2B64.80808@pidster.com> <4FAD0DE3.2030505@bucalinux.com> <4FAFB5C7.6050006@pidster.com>
In-Reply-To: <4FAFB5C7.6050006@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Pid wrote:
> On 11/05/2012 14:02, reissner wrote:
>> On 10/05/2012 03:56 p.m., Pid wrote:
>>> On 10/05/2012 21:33, Reissner Pabn wrote:
>>>> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g
>>> Define an appropriately configured JDBC DataSource in server.xml.
>>>
>>>
>>> p
>>>
>> using the ip adress of db server an the db name ?
> 
> Certainly a better idea to use those than random numbers & letters.
> 
>  http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html
> 

You're also late for that party..


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234200-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 14:13:33 2012
Return-Path: <users-return-234200-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2218BC1B3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 14:13:33 +0000 (UTC)
Received: (qmail 28137 invoked by uid 500); 13 May 2012 14:13:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28072 invoked by uid 500); 13 May 2012 14:13:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28063 invoked by uid 99); 13 May 2012 14:13:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 14:13:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 14:13:23 +0000
Received: by ggnp1 with SMTP id p1so3440859ggn.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 07:13:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uKWWGzw7tqfcIU5h2bThxIL2qpsdF+fv7/pqUw7mF+Y=;
        b=au8NJZvW2AZbo4wCXlg6oNOZBbuTTmrAl/ef5q3ERReA7R16u7hPEEWV0SULK8BcBJ
         IsXogPy8PoqAH19WUhVrs3C+FOACvobHYU7zxS4BwonKOjWjCinjhx+SGqFR2Yif3gUp
         zpSGESr/RHvtICBhaw8SHtF7l2hLLrxPT//ScpVQlrHWYQvdG9Y02hAEujcDmbFXe68t
         Dsamgh1Bg7EsaO2+6vG8Nm9oCPeP3Gq83HGauRh4Yepga1wJxsKOCv8FZAYNZLFnctgz
         Gzej4T+Y40hrvOdBdi0a5rfvzoCMnJ1B4/FxMSrFONt5Olk0ScE9P7Bt4zxObWCUFk1z
         dFLA==
MIME-Version: 1.0
Received: by 10.101.187.2 with SMTP id o2mr1474915anp.32.1336918382774; Sun,
 13 May 2012 07:13:02 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Sun, 13 May 2012 07:13:02 -0700 (PDT)
In-Reply-To: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
Date: Sun, 13 May 2012 18:13:02 +0400
Message-ID: <CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
Subject: Re: IE caching problem-
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/13 Martin Gainty <mgainty@hotmail.com>:
>
> 'Morning All
>
> I seem to be plagued by a IE caching problem where loading my index.jsp always returns the same old index.jsp
> my workarounds thus far:
> 1)Reload Webapp - TC still returns old index.jsp
> 2)Stop Webapp Start Webapp - TC still returns old index.jsp
> 3)delete webapps/WebAppName/index.jsp - TC still returns old index.jsp
>

4) pull out the network cable.
If it does not help, then the problem is not in Tomcat.

Anyway you have not tried to
- Clear browser's cache
- Undeploy and redeploy the webapp  (or stop it and clear its work
folder, - compiled JSPs are kept there)
- Check whether clock time is correct on your PC and server

> Environment:
> TC 6.0.20
> IE: 9
>
> Does anyone have suggestions to allow TC to return new index.jsp and not the old cached version?
>

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234201-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 14:37:38 2012
Return-Path: <users-return-234201-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A5E4CA52
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 14:37:38 +0000 (UTC)
Received: (qmail 70818 invoked by uid 500); 13 May 2012 14:37:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70639 invoked by uid 500); 13 May 2012 14:37:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70630 invoked by uid 99); 13 May 2012 14:37:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 14:37:34 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.82 as permitted sender)
Received: from [65.55.111.82] (HELO blu0-omc2-s7.blu0.hotmail.com) (65.55.111.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 14:37:25 +0000
Received: from BLU142-W34 ([65.55.111.73]) by blu0-omc2-s7.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 13 May 2012 07:37:05 -0700
Message-ID: <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_3254bbd6-2dc0-40fb-b244-1948e5f2bc10_"
X-Originating-IP: [75.68.3.126]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: IE caching problem-
Date: Sun, 13 May 2012 10:37:04 -0400
Importance: Normal
In-Reply-To:
 <CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
References:
 <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>,<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 13 May 2012 14:37:05.0141 (UTC) FILETIME=[DDF38250:01CD3115]
X-Virus-Checked: Checked by ClamAV on apache.org

--_3254bbd6-2dc0-40fb-b244-1948e5f2bc10_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable




> Date: Sun=2C 13 May 2012 18:13:02 +0400
> Subject: Re: IE caching problem-
> From: knst.kolinko@gmail.com
> To: users@tomcat.apache.org
>=20
> 2012/5/13 Martin Gainty <mgainty@hotmail.com>:
> >
> > 'Morning All
> >
> > I seem to be plagued by a IE caching problem where loading my index.jsp=
 always returns the same old index.jsp
> > my workarounds thus far:
> > 1)Reload Webapp - TC still returns old index.jsp
> > 2)Stop Webapp Start Webapp - TC still returns old index.jsp
> > 3)delete webapps/WebAppName/index.jsp - TC still returns old index.jsp
> >
>=20
> 4) pull out the network cable.
MG>wireless

> If it does not help=2C then the problem is not in Tomcat.
>=20
> Anyway you have not tried to
> - Clear browser's cache
MG>cleared Browseers cache

> - Undeploy and redeploy the webapp  (or stop it and clear its work
> folder=2C - compiled JSPs are kept there)
MG>no jsp pages are currently stored or compiled into work=20

> - Check whether clock time is correct on your PC and server
MG>yep clock was incorrect

>=20
> > Environment:
> > TC 6.0.20
> > IE: 9
> >
> > Does anyone have suggestions to allow TC to return new index.jsp and no=
t the old cached version?
> >
>=20
> Best regards=2C
> Konstantin Kolinko
MG>Thanks Konstantin!
MG>Martin
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_3254bbd6-2dc0-40fb-b244-1948e5f2bc10_--

From users-return-234202-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 15:35:34 2012
Return-Path: <users-return-234202-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 12D1F9960
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 15:35:34 +0000 (UTC)
Received: (qmail 85646 invoked by uid 500); 13 May 2012 15:35:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85587 invoked by uid 500); 13 May 2012 15:35:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85577 invoked by uid 99); 13 May 2012 15:35:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 15:35:30 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 15:35:23 +0000
Received: by wgbdr1 with SMTP id dr1so3445371wgb.0
        for <users@tomcat.apache.org>; Sun, 13 May 2012 08:35:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:in-reply-to:references:from:date
         :message-id:subject:to:content-type:x-gm-message-state;
        bh=Hkae/kT/aPk1jLbNm05VfC7Z+Wj2pt1DxLJrkjW/T2s=;
        b=I6DvMyl896HG/zmWTxPE3AD9QNEFmaHJw4chpDoaOHT2nFW4+6lyxOoRZnRO430gYv
         vzBpihNn0DHMk5wW2jt/W4loOThf1Kds+od0SeLd4Fn88fR9Kr8UruJhkhVw+jTb8AaK
         XgIMnyZZxRFRJO/XhDfO13UQvaEcR58764uRo4OqZQvd99Bz/6v4iR0R0xsvjzcUhujn
         J1FJ6tbz2xNR+XXm3f3WabxWy3e3ajf1mVzJTyG2D9w71Pz7cdFYqF0gyN5O8abWWW6i
         +IkHYEGA+YkZdE90pTHlDbJ4P797rSRBR8rJ5S5QJBEIHdpn1xoCkefFJ3FUT9ELqDuC
         s/Mg==
Received: by 10.216.194.137 with SMTP id m9mr2161999wen.66.1336923300484; Sun,
 13 May 2012 08:35:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.47.8 with HTTP; Sun, 13 May 2012 08:34:30 -0700 (PDT)
X-Originating-IP: [186.86.183.43]
In-Reply-To: <4FAFBBFF.7060304@ice-sa.com>
References: <CALgsoYVU44rZ3mKP0gU3daLM5uJ4GZEpghDReUrZDjpivLDZrg@mail.gmail.com>
 <4FAC2B64.80808@pidster.com> <4FAD0DE3.2030505@bucalinux.com>
 <4FAFB5C7.6050006@pidster.com> <4FAFBBFF.7060304@ice-sa.com>
From: =?ISO-8859-1?Q?Reissner_Pab=F3n?= <reispab@bucalinux.com>
Date: Sun, 13 May 2012 10:34:30 -0500
Message-ID: <CALgsoYWCZF7DeW9HSU7VDNma1aJp6=cQyg9BdYeeQmrrusbGgA@mail.gmail.com>
Subject: Re: how can i conect apache toncat 7 to oracle 10 g or oracle 11 g an adobe
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6d7ef9b6ad5e404bfecb614
X-Gm-Message-State: ALoCoQnb6IIxxIPpoF8PSkBR6gexB3T7bs+KWBfQF7bBDyatYeMpRBZ7NdJcYdh+NiguAqXmfKzy

--0016e6d7ef9b6ad5e404bfecb614
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

thanks


2012/5/13 Andr=E9 Warnier <aw@ice-sa.com>

> Pid wrote:
>
>> On 11/05/2012 14:02, reissner wrote:
>>
>>> On 10/05/2012 03:56 p.m., Pid wrote:
>>>
>>>> On 10/05/2012 21:33, Reissner Pab=F3n wrote:
>>>>
>>>>> how can i conect apache toncat 7 to oracle 10 g or oracle 11 g
>>>>>
>>>> Define an appropriately configured JDBC DataSource in server.xml.
>>>>
>>>>
>>>> p
>>>>
>>>>  using the ip adress of db server an the db name ?
>>>
>>
>> Certainly a better idea to use those than random numbers & letters.
>>
>>  http://tomcat.apache.org/**tomcat-7.0-doc/jndi-**
>> datasource-examples-howto.html<http://tomcat.apache.org/tomcat-7.0-doc/j=
ndi-datasource-examples-howto.html>
>>
>>
> You're also late for that party..
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


--=20
*Reissner Pab=F3n Castro*
*MCSE MCP*
*LINUX ADMIN*
*C E O Bucalinux*
www.bucalinux.com
reispab@bucalinux.com

--0016e6d7ef9b6ad5e404bfecb614--

From users-return-234203-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 17:21:40 2012
Return-Path: <users-return-234203-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C12FC403
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 17:21:40 +0000 (UTC)
Received: (qmail 79025 invoked by uid 500); 13 May 2012 17:21:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78966 invoked by uid 500); 13 May 2012 17:21:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78955 invoked by uid 99); 13 May 2012 17:21:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 17:21:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 17:21:30 +0000
Received: by eekd41 with SMTP id d41so781857eek.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 10:21:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=6dEWVIfVJNbLqoVqK/Ss/YITlajbV18NeRK956++adQ=;
        b=Zugtb+o9RRmEYZE96DtvjOQg5hUNEAjIGlnySutcrCw0Kenh9AIvaVhxit4C/t5M0d
         f2T5VwQCSVwLk1NdPFoRkuJ4QnMDxKD2vh5cC8Sh/srOIM7W5tWOoHzRkt4cCqN2U/3f
         L2/jadMfYhcmmU4NfkDEcxlHtnNCo68aWy4bA=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=6dEWVIfVJNbLqoVqK/Ss/YITlajbV18NeRK956++adQ=;
        b=RGN9LuhwLJEOCJLcibKkHkz+z4HI6mqHLrbU8gI0JU9zN67L3vvGXNTqIbz/x8bj3w
         Bjw6B0RugCTnO7JGuLbdmzTPcpD7XjTcsE6PhXR1T13XczN/yiyDihW9zbysgYpTt1yv
         iUdcxPgQFsJpc5SYPA2YzaKJtWwMnZ4y2MKU161Ct5A9wVZZvz+VSiLslYw4kj9Rqitb
         YDI6c/ueszDZG2UruG/9/OJG7zroIbilsWbo+HOOb97YBVsQPrOPhGO6q+NlyL7rpTWP
         /K8Z7p2/IFkjc07OCZQ1qzqqIAaN1xTM7/muKw9P4QyTkZbHw+OG63CxiUmSRhW1w2bO
         shiw==
Received: by 10.213.29.75 with SMTP id p11mr772471ebc.108.1336929668853;
        Sun, 13 May 2012 10:21:08 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id n52sm77044806eef.6.2012.05.13.10.21.07
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 10:21:07 -0700 (PDT)
Message-ID: <4FAFED8C.8090107@pidster.com>
Date: Sun, 13 May 2012 18:21:16 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE caching problem-
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>,<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com> <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>
In-Reply-To: <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig5D2A2929E1551D8C396F7818"
X-Gm-Message-State: ALoCoQkq0ayxRelMyGyV/sBop+Ek1UhvF9eK8CPVOhpXE8tMrGIbwGUOU/vKuK5KrzQ2bIRF7Ttn
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig5D2A2929E1551D8C396F7818
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 13/05/2012 15:37, Martin Gainty wrote:
>=20
>=20
>=20
>> Date: Sun, 13 May 2012 18:13:02 +0400
>> Subject: Re: IE caching problem-
>> From: knst.kolinko@gmail.com
>> To: users@tomcat.apache.org
>>
>> 2012/5/13 Martin Gainty <mgainty@hotmail.com>:
>>>
>>> 'Morning All
>>>
>>> I seem to be plagued by a IE caching problem where loading my index.j=
sp always returns the same old index.jsp
>>> my workarounds thus far:
>>> 1)Reload Webapp - TC still returns old index.jsp
>>> 2)Stop Webapp Start Webapp - TC still returns old index.jsp
>>> 3)delete webapps/WebAppName/index.jsp - TC still returns old index.js=
p
>>>
>>
>> 4) pull out the network cable.
> MG>wireless
>
>> If it does not help, then the problem is not in Tomcat.

What about the power cable?


p

>> Anyway you have not tried to
>> - Clear browser's cache
> MG>cleared Browseers cache
>=20
>> - Undeploy and redeploy the webapp  (or stop it and clear its work
>> folder, - compiled JSPs are kept there)
> MG>no jsp pages are currently stored or compiled into work=20
>=20
>> - Check whether clock time is correct on your PC and server
> MG>yep clock was incorrect
>=20
>>
>>> Environment:
>>> TC 6.0.20
>>> IE: 9
>>>
>>> Does anyone have suggestions to allow TC to return new index.jsp and =
not the old cached version?
>>>
>>
>> Best regards,
>> Konstantin Kolinko
> MG>Thanks Konstantin!
> MG>Martin
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>  		 	   		 =20


--=20

[key:62590808]


--------------enig5D2A2929E1551D8C396F7818
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr+2PAAoJEGoM2OGpOvr9YLIP/0INZuG/I0BYM0Ez9NsJvqxZ
QpKsEool5+WtoR5zjWmAWX+eEgeXH0pXpnvgKsYQXTigiufPxicHsU5ekyrcN/cz
CJ+iu4oIrA8d48Ilu4FWczBDlG/rd+g6QR3UZx2HsZhKxH5I7etTfNvkcw1KnAL9
+T8s1HWsPqCryw1skNF54FoQL0oQVPUc8wPgw0XrKMAqaR1GF6mRpnx/fSLlMfln
0P/+Y/0MYKBXJ7baOcb8oAMmTFhXC5ZC3QSieZD+Bpe+Ivm8J09ZkwawBfF1CnW8
MDCHGLWu7ZHUUPP8qiRtMBqVl3swaxO++Jl6izpqqpuLqP0Qz6xws7Ge4eICOO1l
NyFC1kdsNssRMcTzpQtcSCB6fZgq2xjNYASbeuDjw9bI1DsxuU1aZe/ka9rQ68Fc
mVE2wRglO0XH0RF9uhcg0A0pQYf8Sj6+VaiBtAd6Y4QaVhYZZ4F5i71G57Q2u/qZ
9n1/1554c7y0RBGuPSXHYQQQ5LqJCFwG5ouy7czqQxCkjkrul3XKZZO1d7a/ANUy
L2fEBmPuTmxLZn4Yo6YRoSGakXn0C2I56nWVMSrWiEW2zwI6jiw/J5fWMHkV8aAT
KSUHQ+WJQ63eBmmM1AVgdBpniVHfHCFktRN/R2DwjXUGLJ7nN0ygmU4rlhZlRoSP
Bxa33d+TkxDr4443luji
=8ihS
-----END PGP SIGNATURE-----

--------------enig5D2A2929E1551D8C396F7818--

From users-return-234204-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 17:23:12 2012
Return-Path: <users-return-234204-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 027ABC40E
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 17:23:12 +0000 (UTC)
Received: (qmail 84316 invoked by uid 500); 13 May 2012 17:23:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84089 invoked by uid 500); 13 May 2012 17:23:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84079 invoked by uid 99); 13 May 2012 17:23:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 17:23:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 17:23:03 +0000
Received: by wgbds1 with SMTP id ds1so2678766wgb.0
        for <users@tomcat.apache.org>; Sun, 13 May 2012 10:22:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=b6lboJh9t5wca7jgj9Lr+TRp9BbOMPhDIGjFJ9U00aE=;
        b=azvhqey4jEk8A7TSqipsoRJdlMWomfmWE6cPMjLQn5i4Kl5GolK1TwqQko2cILhyBV
         lKfe0cHYDVwYwkJm4b0ipBjp4tgSkzqTk8Zdm7E8U4tr0cDV4/B2z42e/S445vIasnYE
         TGNgDUGkQmaY9WFM0OOuLsc6UKat8jjq5hpog=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=b6lboJh9t5wca7jgj9Lr+TRp9BbOMPhDIGjFJ9U00aE=;
        b=AYEzznRxiscAUWQZ48r6r8O7jJNyBDGYRQBiCG3wAfxHLczGhQl6ow5Nmwv3QnyX5A
         W75T7N/CRC0kz9UZob4c9IeGgvWeGUyBTAcAILyjlbuID/X58JvjFmiR/Zdb8zVjsYDy
         34J8WIt+kS+5wM8i3I4L+Ybo6tXeMNR8mLuRwSInievcpG4CBrS3Im0Mice/gctHCvT/
         a+19sVtH1THBD14EVfXi/YrYSKnQtN0bJhGrm2zzpIoMeG9ZYAc2+pc1Xqay6vRjsc42
         YRqIcx5ibwH9IzxCU9o3tsvSrFJfvj5lL/iR0Nq+9IkMW+v8gfxdkqAUzuGcNlQkCdBn
         /gmw==
Received: by 10.180.92.9 with SMTP id ci9mr12797220wib.15.1336929761926;
        Sun, 13 May 2012 10:22:41 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id ff2sm45150951wib.9.2012.05.13.10.22.39
        (version=SSLv3 cipher=OTHER);
        Sun, 13 May 2012 10:22:40 -0700 (PDT)
Message-ID: <4FAFEDEB.4080103@pidster.com>
Date: Sun, 13 May 2012 18:22:51 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>
In-Reply-To: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig6C5247CBEEA48C56972E7546"
X-Gm-Message-State: ALoCoQk92WvgEd83a4LhxVDjdJ5BAoGl/oJK1XpvzBnHb1UL410yKkSnCDS30PVGDHnhSlqvqafR
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig6C5247CBEEA48C56972E7546
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/05/2012 18:53, Vickie Troy-McKoy wrote:
>=20
> Hi, I am in need of a little help. =20
>=20
> I have 2 tomcat instances running on the same machine and one apache in=
stance running on a different machine.  I configured jk_mod to access the=
 1st tomcat instance.  Now, I have a second tomcat instance running on th=
e same server as the 1st instance.  I would like to access both tomcat in=
stances via the one apache webserver instance.  Because some requests are=
 referenced by the same name, there is a conflict. =20
>=20
> On the tomcat server in server.xml, one instance is running on port 800=
9 and the 2nd instance (in another directory structure) is running on 700=
9.
>=20
> On the apache server in httpd.conf, I have the following:
>=20
> Listen 80
> .
> .
> .
> LoadModule jk_module modules/mod_jk.so
>=20
> #
> JkWorkersFile conf/workers.properties
> JkMount /abc* instance1
> JkMount /xyz* instance2
>=20
> In workers.properties, I have the following:
>=20
> worker.list=3Dinstance1, instance2
> #
> worker.instance1.port=3D8009
> worker.instance1.host=3Dserver.xxxx.com
> worker.instance1.type=3Dajp13
> worker.instance1.lbfactor=3D1
> worker.instance1.socket_keepalive=3D1
> #
> worker.instance2.port=3D7009
> worker.instance2.host=3Dserver.xxxx.com
> worker.instance2.type=3Dajp13
> worker.instance2.lbfactor=3D1
> worker.instance2.socket_keepalive=3D1
>=20
> When I call abc*, it goes to instance1; and when I call xyz*, it goes t=
o instance2.  However, both instances have apps that start with "tsa".  H=
ow do I configure the apache webserver to service the "tsa" app for both =
tomcat instances?

configure a load balancer that uses the two workers, in addition to the
two workers, and add it to the worker list.

 http://tomcat.apache.org/connectors-doc/generic_howto/loadbalancers.html=


p

> Thank you...
>=20
> _______________________________________
> Regards,=20
>  		 	   		 =20


--=20

[key:62590808]


--------------enig6C5247CBEEA48C56972E7546
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPr+3sAAoJEGoM2OGpOvr9TkIP/1jxOLUr8TKAZnJfw+u6xUeP
JwdcMBGCotaxeEgUCyJqWTHaZpHGlIzPHhiXBWH7MHB8lA7lr2Tzh68ibFVlZR9E
s42adUOmNqPFOXiE+W4aDPSAwtiQbCCwXwDmajo2VJTTB9W2zoLSMSpMBZ+GexdR
o4QqyWCw++4W9SZuztPHSZBZL7R7LyH5E5Q59x56KidSFaRjdQasUBqZ6FryrfNK
1cE1BKnwRguD+K12Jkb2N4AZDBoJ1cCl5T+DrBM/0LiGShVqdm+SUG5cvQY+WrTb
BfThWJdwOiw73sDetTo79/qaDymAy2g/spAVvCxptVrm/Qq67UbbO2E23BJpZai5
+m6Oxeci/gmalRuCc6eY6KcdssnvSzF8qQpNXZyfmaTzfOMvgMVWXdUA9oejirTh
UtzYU3OVfIBMkLiLMCjGrM5b6XriNYHgce1JiDSqU7rVk8lGW+ieUngoZJOXYgCi
3HmQ3InUOdsQXnoS89SYYfIGfbPLeQ2JAquzIrZ+dQxlWc3bjLc6uVtjBFtJrmPL
ppT0rC9kkZ1e9FMXdAYaQLIuXYlMj1KfHJCsRpj3frWXT880nGe8p9CFWbfNemyf
S44xVwCD9BzMUxim7UeR2y0utwO3erNT5ZRQOCqGsGQQB43c1NKw994l4lFRGzoX
o1T8MdAi33KMZxqAjTcl
=LtFU
-----END PGP SIGNATURE-----

--------------enig6C5247CBEEA48C56972E7546--

From users-return-234205-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 19:33:51 2012
Return-Path: <users-return-234205-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC8E6C5BE
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 19:33:51 +0000 (UTC)
Received: (qmail 11897 invoked by uid 500); 13 May 2012 19:33:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11828 invoked by uid 500); 13 May 2012 19:33:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11818 invoked by uid 99); 13 May 2012 19:33:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 19:33:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 19:33:40 +0000
Received: from [192.168.245.129] (p549E1C69.dip0.t-ipconnect.de [84.158.28.105])
	by tor.combios.es (Postfix) with ESMTPA id 2E98DDA0675
	for <users@tomcat.apache.org>; Sun, 13 May 2012 21:33:18 +0200 (CEST)
Message-ID: <4FB00C79.7030207@ice-sa.com>
Date: Sun, 13 May 2012 21:33:13 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com>
In-Reply-To: <4FAFEDEB.4080103@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Pid wrote:
> On 11/05/2012 18:53, Vickie Troy-McKoy wrote:
>> Hi, I am in need of a little help.  
>>
>> I have 2 tomcat instances running on the same machine and one apache instance running on a different machine.  I configured jk_mod to access the 1st tomcat instance.  Now, I have a second tomcat instance running on the same server as the 1st instance.  I would like to access both tomcat instances via the one apache webserver instance.  Because some requests are referenced by the same name, there is a conflict.  
>>
>> On the tomcat server in server.xml, one instance is running on port 8009 and the 2nd instance (in another directory structure) is running on 7009.
>>
>> On the apache server in httpd.conf, I have the following:
>>
>> Listen 80
>> .
>> .
>> .
>> LoadModule jk_module modules/mod_jk.so
>>
>> #
>> JkWorkersFile conf/workers.properties
>> JkMount /abc* instance1
>> JkMount /xyz* instance2
>>
>> In workers.properties, I have the following:
>>
>> worker.list=instance1, instance2
>> #
>> worker.instance1.port=8009
>> worker.instance1.host=server.xxxx.com
>> worker.instance1.type=ajp13
>> worker.instance1.lbfactor=1
>> worker.instance1.socket_keepalive=1
>> #
>> worker.instance2.port=7009
>> worker.instance2.host=server.xxxx.com
>> worker.instance2.type=ajp13
>> worker.instance2.lbfactor=1
>> worker.instance2.socket_keepalive=1
>>
>> When I call abc*, it goes to instance1; and when I call xyz*, it goes to instance2.  However, both instances have apps that start with "tsa".  How do I configure the apache webserver to service the "tsa" app for both tomcat instances?
> 
> configure a load balancer (worker) that uses the (other) two workers, in addition to the
> two workers, and add it to the worker list.

I think that rather than be added to the workers list, the load-balancer worker must be 
the only one in the list.  You then tell the balancer to balance the two other workers.

> 
>  http://tomcat.apache.org/connectors-doc/generic_howto/loadbalancers.html
> 
> p
> 
>> Thank you...
>>
>> _______________________________________
>> Regards, 
>>  		 	   		  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234206-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 22:45:03 2012
Return-Path: <users-return-234206-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4AC6C137
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 22:45:03 +0000 (UTC)
Received: (qmail 59479 invoked by uid 500); 13 May 2012 22:45:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59429 invoked by uid 500); 13 May 2012 22:45:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59420 invoked by uid 99); 13 May 2012 22:45:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 22:45:00 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.76 as permitted sender)
Received: from [65.55.111.76] (HELO blu0-omc2-s1.blu0.hotmail.com) (65.55.111.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 22:44:51 +0000
Received: from BLU142-W27 ([65.55.111.71]) by blu0-omc2-s1.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 13 May 2012 15:44:30 -0700
Message-ID: <BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_bbe8a8d9-f306-4960-9836-17f51109bf09_"
X-Originating-IP: [75.68.3.126]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: IE caching problem-
Date: Sun, 13 May 2012 18:44:29 -0400
Importance: Normal
In-Reply-To: <4FAFED8C.8090107@pidster.com>
References:
 <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>,<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
 <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>,<4FAFED8C.8090107@pidster.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 13 May 2012 22:44:30.0583 (UTC) FILETIME=[F597D070:01CD3159]

--_bbe8a8d9-f306-4960-9836-17f51109bf09_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


never had this problem when i deployed to Solaris....I'll try again tommorr=
ow when i have a REAL Operating System to deploy my webapp

Thanks Pid=2C
Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> Date: Sun=2C 13 May 2012 18:21:16 +0100
> From: pid@pidster.com
> To: users@tomcat.apache.org
> Subject: Re: IE caching problem-
>=20
> On 13/05/2012 15:37=2C Martin Gainty wrote:
> >=20
> >=20
> >=20
> >> Date: Sun=2C 13 May 2012 18:13:02 +0400
> >> Subject: Re: IE caching problem-
> >> From: knst.kolinko@gmail.com
> >> To: users@tomcat.apache.org
> >>
> >> 2012/5/13 Martin Gainty <mgainty@hotmail.com>:
> >>>
> >>> 'Morning All
> >>>
> >>> I seem to be plagued by a IE caching problem where loading my index.j=
sp always returns the same old index.jsp
> >>> my workarounds thus far:
> >>> 1)Reload Webapp - TC still returns old index.jsp
> >>> 2)Stop Webapp Start Webapp - TC still returns old index.jsp
> >>> 3)delete webapps/WebAppName/index.jsp - TC still returns old index.js=
p
> >>>
> >>
> >> 4) pull out the network cable.
> > MG>wireless
> >
> >> If it does not help=2C then the problem is not in Tomcat.
>=20
> What about the power cable?
>=20
>=20
> p
>=20
> >> Anyway you have not tried to
> >> - Clear browser's cache
> > MG>cleared Browseers cache
> >=20
> >> - Undeploy and redeploy the webapp  (or stop it and clear its work
> >> folder=2C - compiled JSPs are kept there)
> > MG>no jsp pages are currently stored or compiled into work=20
> >=20
> >> - Check whether clock time is correct on your PC and server
> > MG>yep clock was incorrect
> >=20
> >>
> >>> Environment:
> >>> TC 6.0.20
> >>> IE: 9
> >>>
> >>> Does anyone have suggestions to allow TC to return new index.jsp and =
not the old cached version?
> >>>
> >>
> >> Best regards=2C
> >> Konstantin Kolinko
> > MG>Thanks Konstantin!
> > MG>Martin
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands=2C e-mail: users-help@tomcat.apache.org
> >>
> >  		 	   		 =20
>=20
>=20
> --=20
>=20
> [key:62590808]
>=20
 		 	   		  =

--_bbe8a8d9-f306-4960-9836-17f51109bf09_--

From users-return-234207-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 23:05:51 2012
Return-Path: <users-return-234207-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C6C5C17B
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 23:05:51 +0000 (UTC)
Received: (qmail 93260 invoked by uid 500); 13 May 2012 23:05:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93218 invoked by uid 500); 13 May 2012 23:05:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93209 invoked by uid 99); 13 May 2012 23:05:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 23:05:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 23:05:41 +0000
Received: by dadv2 with SMTP id v2so5714708dad.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 16:05:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=fw6ts6lZQU+bq+vVzFMf69sdUUM0jX5O4rx0yjbbMzI=;
        b=ag6HTsnxXTnxVpvbZJpE+DymP4p41ppSPmJ+TKN1DLD03Pwy+lwxHreddiQ1gRLCRn
         wwY1p0wocHThQ1l664GfXelbR+7zs14GvkzgRlDE9CvmQsWNI6sI627ljVDj8VwVcsDs
         ZoAPS0mOBqj9nej2NlKeT14X+E07DRAxlxP7U=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=fw6ts6lZQU+bq+vVzFMf69sdUUM0jX5O4rx0yjbbMzI=;
        b=TRtEahsY7D62H/seqFhpXBPNo03w2AHMZwJilnEg1q8pC/+e+jy972vlVJ3sn65MNu
         h7WoA/Duc+uBvxxxNSDfBEJjf17ctP134dcb7ejlJaa+Stjfk9PsTIvQeB56Z3OOjwhK
         TIyhxK+y8Xu2YW53nXiYduAZCKzY+s+8Xx9M8IEm092aGWsMmgAZnu211AEj2YRMnBrA
         Rnh0px4EXX4wVioBvdgKyo/wTjwC2s8Ah9Y4qYYWwZhMZc+1QpDJ/bMtgt/314J3scnX
         ZXeqfpF5EKVvfPKzSPN+WqobZ96bUa12hTkLIWpd6PwP1tGJ/s/4Ciox7yznWdYJsUUe
         pgNA==
Received: by 10.68.240.135 with SMTP id wa7mr3769973pbc.7.1336950320550; Sun,
 13 May 2012 16:05:20 -0700 (PDT)
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com>
 <4FB00C79.7030207@ice-sa.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FB00C79.7030207@ice-sa.com>
Mime-Version: 1.0 (1.0)
Date: Mon, 14 May 2012 00:04:33 +0100
Message-ID: <1388348528339614161@unknownmsgid>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQl2knb836P0oMGDumwwrdckncM7N/d3b4WPYcFxambInz3yYbjxHgI3GePIJvp33fUKoeGl

On 13 May 2012, at 20:33, "Andr=C3=A9 Warnier" <aw@ice-sa.com> wrote:

> Pid wrote:
>> On 11/05/2012 18:53, Vickie Troy-McKoy wrote:
>>> Hi, I am in need of a little help.
>>> I have 2 tomcat instances running on the same machine and one apache in=
stance running on a different machine.  I configured jk_mod to access the 1=
st tomcat instance.  Now, I have a second tomcat instance running on the sa=
me server as the 1st instance.  I would like to access both tomcat instance=
s via the one apache webserver instance.  Because some requests are referen=
ced by the same name, there is a conflict.
>>> On the tomcat server in server.xml, one instance is running on port 800=
9 and the 2nd instance (in another directory structure) is running on 7009.
>>>
>>> On the apache server in httpd.conf, I have the following:
>>>
>>> Listen 80
>>> .
>>> .
>>> .
>>> LoadModule jk_module modules/mod_jk.so
>>>
>>> #
>>> JkWorkersFile conf/workers.properties
>>> JkMount /abc* instance1
>>> JkMount /xyz* instance2
>>>
>>> In workers.properties, I have the following:
>>>
>>> worker.list=3Dinstance1, instance2
>>> #
>>> worker.instance1.port=3D8009
>>> worker.instance1.host=3Dserver.xxxx.com
>>> worker.instance1.type=3Dajp13
>>> worker.instance1.lbfactor=3D1
>>> worker.instance1.socket_keepalive=3D1
>>> #
>>> worker.instance2.port=3D7009
>>> worker.instance2.host=3Dserver.xxxx.com
>>> worker.instance2.type=3Dajp13
>>> worker.instance2.lbfactor=3D1
>>> worker.instance2.socket_keepalive=3D1
>>>
>>> When I call abc*, it goes to instance1; and when I call xyz*, it goes t=
o instance2.  However, both instances have apps that start with "tsa".  How=
 do I configure the apache webserver to service the "tsa" app for both tomc=
at instances?
>> configure a load balancer (worker) that uses the (other) two workers, in=
 addition to the
>> two workers, and add it to the worker list.
>
> I think that rather than be added to the workers list, the load-balancer =
worker must be the only one in the list.  You then tell the balancer to bal=
ance the two other workers.

Then the two individual apps won't work, as they're not present on both ser=
vers.


p



>
>> http://tomcat.apache.org/connectors-doc/generic_howto/loadbalancers.html
>> p
>>> Thank you...
>>>
>>> _______________________________________
>>> Regards,
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234208-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 13 23:37:55 2012
Return-Path: <users-return-234208-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BA06CA44
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 13 May 2012 23:37:54 +0000 (UTC)
Received: (qmail 56058 invoked by uid 500); 13 May 2012 23:37:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55996 invoked by uid 500); 13 May 2012 23:37:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55986 invoked by uid 99); 13 May 2012 23:37:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 23:37:50 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cjderham@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 May 2012 23:37:44 +0000
Received: by lahc1 with SMTP id c1so3529736lah.18
        for <users@tomcat.apache.org>; Sun, 13 May 2012 16:37:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=kue554yb9P98TAbxFDgmR3EeovQrezXkaE7EZpxV/6s=;
        b=AHcx2yoeeRBK3DHJETf+pc5lvOTLeifF3cgI5f6hilTOyTMoGnYckc3zmFbDmDPaEm
         TNgd7SNHly/QqvZOK3RzEwLaWc7VNgwFSfo/lWe+S/+OsXezb5E2b0iQ7LjfPE3jsDP0
         pM50R8MHJKH4b1t7lphIenR7+3Dktpnh0WTo+bb6DJxabq3GiADmKBoNNNvuIYeiVkLe
         4H0PmguJJhXs7/7pD55z9b1ONn7THZCwb4swf6+hV1O2kfJZodtSND0jBupkaj/Uk4iL
         XJVQtSxXKoWf80Q/y/ESfgSkGjbP25PTqq0HsH83ISQAvXzZpyuZi0gkk+UXOzVeJi1g
         FFeQ==
Received: by 10.112.104.3 with SMTP id ga3mr2661117lbb.77.1336952242644; Sun,
 13 May 2012 16:37:22 -0700 (PDT)
MIME-Version: 1.0
Reply-To: chris@derham.me.uk
Sender: cjderham@gmail.com
Received: by 10.112.6.233 with HTTP; Sun, 13 May 2012 16:37:02 -0700 (PDT)
In-Reply-To: <BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl> <CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
 <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl> <4FAFED8C.8090107@pidster.com> <BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>
From: chris derham <chris@derham.me.uk>
Date: Sun, 13 May 2012 20:37:02 -0300
X-Google-Sender-Auth: -w_5pBoDrk3A0GApe-62fEuTED8
Message-ID: <CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
Subject: Re: IE caching problem-
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9d719768125dd04bff37370
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9d719768125dd04bff37370
Content-Type: text/plain; charset=ISO-8859-1

>
> never had this problem when i deployed to Solaris....I'll try again
> tommorrow when i have a REAL Operating System to deploy my webapp
>

So you have a web app, serving up web pages, that are being cached in a
browser. The browser is not refreshing, for reasons unknown. You say that
the clock was incorrect, but now I assume the problem is still occurring.
Yet you think that moving the webapp to a "real os" will help?

Browsers cache pages only if they are told to. Have you used some kind of
technique to check the headers? Fiddler or live http headers? Why are the
pages being cached?

Once you know that, perhaps you can resolve the issue. If I had a car that
wouldn't start, I know nothing about cars but I'm reasonably confident that
changing the garage won't help the issue that much

Chris

--14dae9d719768125dd04bff37370--

From users-return-234209-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 01:21:45 2012
Return-Path: <users-return-234209-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB24899A2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 01:21:44 +0000 (UTC)
Received: (qmail 38061 invoked by uid 500); 14 May 2012 01:21:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37978 invoked by uid 500); 14 May 2012 01:21:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37969 invoked by uid 99); 14 May 2012 01:21:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 01:21:41 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.90 as permitted sender)
Received: from [65.55.111.90] (HELO blu0-omc2-s15.blu0.hotmail.com) (65.55.111.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 01:21:32 +0000
Received: from BLU142-W35 ([65.55.111.72]) by blu0-omc2-s15.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 13 May 2012 18:21:11 -0700
Message-ID: <BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_3d5a2e34-7109-4a64-a718-8be1c31d8fee_"
X-Originating-IP: [75.68.3.126]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: IE caching problem-
Date: Sun, 13 May 2012 21:21:11 -0400
Importance: Normal
In-Reply-To:
 <CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
 <CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>,<BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>
 <4FAFED8C.8090107@pidster.com>
 <BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>,<CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 14 May 2012 01:21:11.0926 (UTC) FILETIME=[D93AE960:01CD316F]

--_3d5a2e34-7109-4a64-a718-8be1c31d8fee_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


isolating the code from the browser is the logical first step
 at least with solaris If i dont want pages cached then I can disable acces=
s (with chmod and .htaccess) to the Temporary Internet Files folder and the=
n when IE tosses up error messages I can react appropriately
changing out browsers from IE to FF will further isolate and determine any =
'tricks' that IE is playing ..without access to hidden folders and
unknown registry settings the IE caching problem can finally be determined

Many Thanks for your thoughtful response=2C
Martin--
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> From: chris@derham.me.uk
> Date: Sun=2C 13 May 2012 20:37:02 -0300
> Subject: Re: IE caching problem-
> To: users@tomcat.apache.org
>=20
> >
> > never had this problem when i deployed to Solaris....I'll try again
> > tommorrow when i have a REAL Operating System to deploy my webapp
> >
>=20
> So you have a web app=2C serving up web pages=2C that are being cached in=
 a
> browser. The browser is not refreshing=2C for reasons unknown. You say th=
at
> the clock was incorrect=2C but now I assume the problem is still occurrin=
g.
> Yet you think that moving the webapp to a "real os" will help?
>=20
> Browsers cache pages only if they are told to. Have you used some kind of
> technique to check the headers? Fiddler or live http headers? Why are the
> pages being cached?
>=20
> Once you know that=2C perhaps you can resolve the issue. If I had a car t=
hat
> wouldn't start=2C I know nothing about cars but I'm reasonably confident =
that
> changing the garage won't help the issue that much
>=20
> Chris
 		 	   		  =

--_3d5a2e34-7109-4a64-a718-8be1c31d8fee_--

From users-return-234210-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 01:37:34 2012
Return-Path: <users-return-234210-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B7599903
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 01:37:34 +0000 (UTC)
Received: (qmail 67235 invoked by uid 500); 14 May 2012 01:37:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67171 invoked by uid 500); 14 May 2012 01:37:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67162 invoked by uid 99); 14 May 2012 01:37:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 01:37:31 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.83 as permitted sender)
Received: from [65.55.111.83] (HELO blu0-omc2-s8.blu0.hotmail.com) (65.55.111.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 01:37:24 +0000
Received: from BLU142-W16 ([65.55.111.73]) by blu0-omc2-s8.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 13 May 2012 18:37:03 -0700
Message-ID: <BLU142-W1629BF89EDF728016BC1F1AE1A0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_3d0ac2f3-4ed3-4d8d-b4a0-3886e573964b_"
X-Originating-IP: [75.68.3.126]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: IE caching problem-
Date: Sun, 13 May 2012 21:37:03 -0400
Importance: Normal
In-Reply-To: <BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl>
References:
 <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>,<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>,<BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>,<4FAFED8C.8090107@pidster.com>,<BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>,<CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>,<BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl>
MIME-Version: 1.0
X-OriginalArrivalTime: 14 May 2012 01:37:03.0556 (UTC) FILETIME=[10722040:01CD3172]
X-Virus-Checked: Checked by ClamAV on apache.org

--_3d0ac2f3-4ed3-4d8d-b4a0-3886e573964b_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


i plan to run the windows IE code in Solaris thru WINE

thanks again=2C
Martin=20




> From: mgainty@hotmail.com
> To: users@tomcat.apache.org
> Subject: RE: IE caching problem-
> Date: Sun=2C 13 May 2012 21:21:11 -0400
>=20
>=20
> isolating the code from the browser is the logical first step
>  at least with solaris If i dont want pages cached then I can disable acc=
ess (with chmod and .htaccess) to the Temporary Internet Files folder and t=
hen when IE tosses up error messages I can react appropriately
> changing out browsers from IE to FF will further isolate and determine an=
y 'tricks' that IE is playing ..without access to hidden folders and
> unknown registry settings the IE caching problem can finally be determine=
d
>=20
> Many Thanks for your thoughtful response=2C
> Martin--
> ______________________________________________=20
> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9
>=20
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfae=
nger sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weit=
erleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient=
 lediglich dem Austausch von Informationen und entfaltet keine rechtliche B=
indungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen=
 wir keine Haftung fuer den Inhalt uebernehmen.
> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAt=
es pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour s=
atisfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=
=E9e ou la copie de ceci est interdite. Ce message sert =E0 l'information s=
eulement et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9ta=
nt donn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulati=
on=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu four=
ni.
>=20
>=20
> > From: chris@derham.me.uk
> > Date: Sun=2C 13 May 2012 20:37:02 -0300
> > Subject: Re: IE caching problem-
> > To: users@tomcat.apache.org
> >=20
> > >
> > > never had this problem when i deployed to Solaris....I'll try again
> > > tommorrow when i have a REAL Operating System to deploy my webapp
> > >
> >=20
> > So you have a web app=2C serving up web pages=2C that are being cached =
in a
> > browser. The browser is not refreshing=2C for reasons unknown. You say =
that
> > the clock was incorrect=2C but now I assume the problem is still occurr=
ing.
> > Yet you think that moving the webapp to a "real os" will help?
> >=20
> > Browsers cache pages only if they are told to. Have you used some kind =
of
> > technique to check the headers? Fiddler or live http headers? Why are t=
he
> > pages being cached?
> >=20
> > Once you know that=2C perhaps you can resolve the issue. If I had a car=
 that
> > wouldn't start=2C I know nothing about cars but I'm reasonably confiden=
t that
> > changing the garage won't help the issue that much
> >=20
> > Chris
>  		 	   		 =20
 		 	   		  =

--_3d0ac2f3-4ed3-4d8d-b4a0-3886e573964b_--

From users-return-234211-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 03:17:00 2012
Return-Path: <users-return-234211-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B254C3A1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 03:17:00 +0000 (UTC)
Received: (qmail 42918 invoked by uid 500); 14 May 2012 03:16:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42822 invoked by uid 500); 14 May 2012 03:16:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42791 invoked by uid 99); 14 May 2012 03:16:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 03:16:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hassan.schroeder@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 03:16:50 +0000
Received: by wgbdr1 with SMTP id dr1so3679923wgb.0
        for <users@tomcat.apache.org>; Sun, 13 May 2012 20:16:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xK+vJu2OfZMTz38dbq6KYbL7vdlnIz3W1waYJqgHwm4=;
        b=eJPfZYr7Wmkka6lNLqzKx82GvuwAEnx/MkvWn+cpzgzZfUTCUzAkKc8s83hum3GyQu
         gY1cveDAta0jrQpLmqJupdF5F67Z61KA7SC8fxjOOxB1dIu6fJRB1hJjJ8fqwS7xnejP
         75pCEanqNhiHzoa0pdMG1IorstF71+VaUtoay5WoN+sPkk4eLvXZ81WikEalO2vPEPOq
         S3acb3zyTBIm2rF7l88vr5YrgEbUfuZg8djGH1s1gmZtnW0i79KTbQW8sDY+BsMgo/xZ
         r6IGywfW7uc1Ys+DvIugkVZj6oP5S2slyIfqN0uHJrK/z6yckbpuvofRrY+RE/oZCbLN
         OCBQ==
MIME-Version: 1.0
Received: by 10.180.106.9 with SMTP id gq9mr808496wib.17.1336965389360; Sun,
 13 May 2012 20:16:29 -0700 (PDT)
Received: by 10.216.168.81 with HTTP; Sun, 13 May 2012 20:16:29 -0700 (PDT)
In-Reply-To: <BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl>
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>
	<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>
	<BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>
	<4FAFED8C.8090107@pidster.com>
	<BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>
	<CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
	<BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl>
Date: Sun, 13 May 2012 20:16:29 -0700
Message-ID: <CACmC4yDXh-jcFd+9PpF4Pq=ChJEVA1K3-QWwzSC5jmOmGtbGvg@mail.gmail.com>
Subject: Re: IE caching problem-
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, May 13, 2012 at 6:21 PM, Martin Gainty <mgainty@hotmail.com> wrote:
>
> isolating the code from the browser is the logical first step

Wouldn't it be easier to just use wget or curl or even telnet to fetch
the page independently of *any* browser to see what's being sent?

-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234212-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 08:37:49 2012
Return-Path: <users-return-234212-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 943D2953E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 08:37:49 +0000 (UTC)
Received: (qmail 69180 invoked by uid 500); 14 May 2012 08:37:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68559 invoked by uid 500); 14 May 2012 08:37:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68518 invoked by uid 99); 14 May 2012 08:37:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 08:37:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 08:37:36 +0000
Received: from [192.168.245.129] (p549E8BC7.dip0.t-ipconnect.de [84.158.139.199])
	by tor.combios.es (Postfix) with ESMTPA id D3BDDDA0054
	for <users@tomcat.apache.org>; Mon, 14 May 2012 10:37:13 +0200 (CEST)
Message-ID: <4FB0C433.4060008@ice-sa.com>
Date: Mon, 14 May 2012 10:37:07 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>
In-Reply-To: <1388348528339614161@unknownmsgid>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Pid * wrote:
> On 13 May 2012, at 20:33, "Andr Warnier" <aw@ice-sa.com> wrote:
> 
>> Pid wrote:
>>> On 11/05/2012 18:53, Vickie Troy-McKoy wrote:
>>>> Hi, I am in need of a little help.
>>>> I have 2 tomcat instances running on the same machine and one apache instance running on a different machine.  I configured jk_mod to access the 1st tomcat instance.  Now, I have a second tomcat instance running on the same server as the 1st instance.  I would like to access both tomcat instances via the one apache webserver instance.  Because some requests are referenced by the same name, there is a conflict.
>>>> On the tomcat server in server.xml, one instance is running on port 8009 and the 2nd instance (in another directory structure) is running on 7009.
>>>>
>>>> On the apache server in httpd.conf, I have the following:
>>>>
>>>> Listen 80
>>>> .
>>>> .
>>>> .
>>>> LoadModule jk_module modules/mod_jk.so
>>>>
>>>> #
>>>> JkWorkersFile conf/workers.properties
>>>> JkMount /abc* instance1
>>>> JkMount /xyz* instance2
>>>>
>>>> In workers.properties, I have the following:
>>>>
>>>> worker.list=instance1, instance2
>>>> #
>>>> worker.instance1.port=8009
>>>> worker.instance1.host=server.xxxx.com
>>>> worker.instance1.type=ajp13
>>>> worker.instance1.lbfactor=1
>>>> worker.instance1.socket_keepalive=1
>>>> #
>>>> worker.instance2.port=7009
>>>> worker.instance2.host=server.xxxx.com
>>>> worker.instance2.type=ajp13
>>>> worker.instance2.lbfactor=1
>>>> worker.instance2.socket_keepalive=1
>>>>
>>>> When I call abc*, it goes to instance1; and when I call xyz*, it goes to instance2.  However, both instances have apps that start with "tsa".  How do I configure the apache webserver to service the "tsa" app for both tomcat instances?
>>> configure a load balancer (worker) that uses the (other) two workers, in addition to the
>>> two workers, and add it to the worker list.
>> I think that rather than be added to the workers list, the load-balancer worker must be the only one in the list.  You then tell the balancer to balance the two other workers.
> 
> Then the two individual apps won't work, as they're not present on both servers.

Oh. I did not read the OP's requirements carefully enough.  Apologies, your instructions 
were correct for the OP.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234213-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 09:06:47 2012
Return-Path: <users-return-234213-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 446929605
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 09:06:47 +0000 (UTC)
Received: (qmail 45425 invoked by uid 500); 14 May 2012 09:06:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45352 invoked by uid 500); 14 May 2012 09:06:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44865 invoked by uid 99); 14 May 2012 09:06:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 09:06:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 09:06:34 +0000
Received: from [192.168.245.129] (p549E8BC7.dip0.t-ipconnect.de [84.158.139.199])
	by tor.combios.es (Postfix) with ESMTPA id 9A3F2DA0242
	for <users@tomcat.apache.org>; Mon, 14 May 2012 11:06:12 +0200 (CEST)
Message-ID: <4FB0CAFF.3020000@ice-sa.com>
Date: Mon, 14 May 2012 11:06:07 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE caching problem-
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl> <CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com> <BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl> <4FAFED8C.8090107@pidster.com> <BLU142-W2768905EB9621D657EAECBAE150@phx.gbl> <CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
In-Reply-To: <CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

chris derham wrote:
>> never had this problem when i deployed to Solaris....I'll try again
>> tommorrow when i have a REAL Operating System to deploy my webapp
>>
> 
> So you have a web app, serving up web pages, that are being cached in a
> browser. The browser is not refreshing, for reasons unknown. You say that
> the clock was incorrect, but now I assume the problem is still occurring.
> Yet you think that moving the webapp to a "real os" will help?
> 
> Browsers cache pages only if they are told to. 

That's not entirely accurate.  It's more like browsers (and proxies) are allowed to cache 
response content for re-use, except when they are told otherwise.
Roughly.  The final truth is here : 
http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13

Have you used some kind of
> technique to check the headers? Fiddler or live http headers? Why are the
> pages being cached?

That is the real question indeed.  And indeed it may have something to do with the HTTP 
response headers (Expires, ETag, etc..) and/or with non-compliant browsers and proxies, 
and/or browser settings.
So having a look at the HTTP headers would be a logical first step.

> 
> Once you know that, perhaps you can resolve the issue. If I had a car that
> wouldn't start, I know nothing about cars but I'm reasonably confident that
> changing the garage won't help the issue that much
> 
:-)
This thread started reasonably enough, which will certainly have surprised some, 
considering the OP's historical record on this list.
But I am afraid that it has now veered into matters of little relevance to Tomcat per se.

In any case, I am fairly sure that Tomcat does not single out IE 9 among browsers, to 
sneakily introduce HTTP headers that would cause it to misbehave.  Given IE's own 
historical record, I would rather think that the suspicion should be the other way around.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234214-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 10:05:49 2012
Return-Path: <users-return-234214-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 380BDC0F3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 10:05:49 +0000 (UTC)
Received: (qmail 91882 invoked by uid 500); 14 May 2012 10:05:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91814 invoked by uid 500); 14 May 2012 10:05:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91796 invoked by uid 99); 14 May 2012 10:05:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 10:05:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [85.18.90.136] (HELO elfo4.objectway.it) (85.18.90.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 10:05:38 +0000
Received: from elfo4.objectway.it (localhost [127.0.0.1])
	by localhost (Postfix) with SMTP id 253BD318083
	for <users@tomcat.apache.org>; Mon, 14 May 2012 12:05:17 +0200 (CEST)
Received: from mail.objectway.it (localhost [127.0.0.1])
	by elfo4.objectway.it (Postfix) with ESMTP id 1B335318002
	for <users@tomcat.apache.org>; Mon, 14 May 2012 12:05:16 +0200 (CEST)
Received: from 129.192.96.56
        (SquirrelMail authenticated user venittel)
        by mail.objectway.it with HTTP;
        Mon, 14 May 2012 12:05:16 +0200 (CEST)
Message-ID: <9820_1336989917_4FB0D8DD_9820_662_1_c8f50c1b686296c7b07ba22d2253ea68.squirrel@mail.objectway.it>
Date: Mon, 14 May 2012 12:05:16 +0200 (CEST)
Subject: Cluster and SSO
From: "Riccardo Venittelli" <riccardo.venittelli@objectway.it>
To: users@tomcat.apache.org
User-Agent: SquirrelMail/1.4.15
MIME-Version: 1.0
Content-Type: multipart/mixed;boundary="----=_20120514120516_73387"
X-Priority: 3 (Normal)
Importance: Normal

------=_20120514120516_73387
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Hello to all,

i'm using apache tomcat 7.0.25 with cluster configuration, apache server
2.2 for load balancing and SSO (tomcat) for authentication.

With SimpleTcpCluster, DeltaManager and ClusterSingleSignOn configuration
all works fine but if i use BackupManger SSO authentication fail.

I attach my server.xml config file.

Can you please give me an idea about what am I doing wrong?

Thanks in advance.

Riccardo



-- 
Riccardo Venittelli

ObjectWay S.p.A.
Via Flavio Domiziano, 10 - 00145 Roma
Tel: +39 0659604235
Fax: +39 0659605107
e-mail: riccardo.venittelli@objectway.it
http://www.objectway.it
Chi riceve il presente messaggio e' tenuto a verificare se lo stesso non gli
sia pervenuto per errore. In tal caso e' pregato di avvisare immediatamente
il mittente e, tenuto conto delle responsabilita' connesse all'indebito
utilizzo e/o divulgazione del messaggio e/o delle informazioni in esso
contenute, voglia cancellare l'originale e distruggere le varie copie o
stampe.

The receiver of this message is required to check if he/she has received it
erroneously. If so, the receiver is requested to immediately inform the
sender and - in consideration of the responsibilities arising from undue use
and/or disclosure of the message and/or the information contained therein -
destroy the original message and any copy or printout thereof. 


------=_20120514120516_73387
Content-Type: text/xml; name="server.xml"
Content-Transfer-Encoding: 8bit
Content-Disposition: attachment; filename="server.xml"

<?xml version='1.0' encoding='utf-8'?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- Note:  A "Server" is not itself a "Container", so you may not
     define subcomponents such as "Valves" at this level.
     Documentation at /docs/config/server.html
 -->
<Server port="8105" shutdown="SHUTDOWN">
  <!-- Security listener. Documentation at /docs/config/listeners.html
  <Listener className="org.apache.catalina.security.SecurityListener" />
  -->
  <!--APR library loader. Documentation at /docs/apr.html -->
  <Listener className="org.apache.catalina.core.AprLifecycleListener" SSLEngine="on" />
  <!--Initialize Jasper prior to webapps are loaded. Documentation at /docs/jasper-howto.html -->
  <Listener className="org.apache.catalina.core.JasperListener" />
  <!-- Prevent memory leaks due to use of particular java/javax APIs-->
  <Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener" />
  <Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener" />
  <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener" />

  <!-- Global JNDI resources
       Documentation at /docs/jndi-resources-howto.html
  -->
  <GlobalNamingResources>
    <!-- Editable user database that can also be used by
         UserDatabaseRealm to authenticate users
    -->
    <Resource name="UserDatabase" auth="Container"
              type="org.apache.catalina.UserDatabase"
              description="User database that can be updated and saved"
              factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
              pathname="conf/tomcat-users.xml" />
  </GlobalNamingResources>

  <!-- A "Service" is a collection of one or more "Connectors" that share
       a single "Container" Note:  A "Service" is not itself a "Container",
       so you may not define subcomponents such as "Valves" at this level.
       Documentation at /docs/config/service.html
   -->
  <Service name="Catalina">

    <!--The connectors can use a shared executor, you can define one or more named thread pools-->
    <!--
    <Executor name="tomcatThreadPool" namePrefix="catalina-exec-"
        maxThreads="150" minSpareThreads="4"/>
    -->


    <!-- A "Connector" represents an endpoint by which requests are received
         and responses are returned. Documentation at :
         Java HTTP Connector: /docs/config/http.html (blocking & non-blocking)
         Java AJP  Connector: /docs/config/ajp.html
         APR (HTTP/AJP) Connector: /docs/apr.html
         Define a non-SSL HTTP/1.1 Connector on port 8080
    -->
    <Connector address="172.30.6.21" port="8081" protocol="HTTP/1.1" 
               connectionTimeout="20000" 
               redirectPort="8443" />
    <!-- A "Connector" using the shared thread pool-->
    <!--
    <Connector executor="tomcatThreadPool"
               port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443" />
    -->
    <!-- Define a SSL HTTP/1.1 Connector on port 8443
         This connector uses the JSSE configuration, when using APR, the
         connector should be using the OpenSSL style configuration
         described in the APR documentation -->

		 <Connector port="8443" SSLEnabled="true" protocol="org.apache.coyote.http11.Http11NioProtocol"
               maxThreads="150" scheme="https" secure="true"
               clientAuth="false" sslProtocol="TLS" 
			   keyAlias="tomcat"
               keystoreFile="conf/keystore.jks" keystorePass="changeit"
			   />
    <!-- Define an AJP 1.3 Connector on port 8009 -->
    <Connector port="8109" protocol="AJP/1.3" redirectPort="8443" />

    <!-- An Engine represents the entry point (within Catalina) that processes
         every request.  The Engine implementation for Tomcat stand alone
         analyzes the HTTP headers included with the request, and passes them
         on to the appropriate Host (virtual host).
         Documentation at /docs/config/engine.html -->

    <!-- You should set jvmRoute to support load-balancing via AJP ie :
    <Engine name="Catalina" defaultHost="localhost" jvmRoute="jvm1">
    -->
 <Engine name="Catalina" defaultHost="172.30.6.21" jvmRoute="tomcatA">

      <!--For clustering, please take a look at documentation at:
          /docs/cluster-howto.html  (simple how to)
          /docs/config/cluster.html (reference documentation) -->
      
        <Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster"
                 channelSendOptions="6">
			
          <Manager className="org.apache.catalina.ha.session.BackupManager"
                   expireSessionsOnShutdown="false"
                   notifyListenersOnReplication="true"
                   mapSendOptions="6"/>
          
		  
		  <!--
          <Manager className="org.apache.catalina.ha.session.DeltaManager"
                   expireSessionsOnShutdown="false"
                   notifyListenersOnReplication="true"/>
          -->
          <Channel className="org.apache.catalina.tribes.group.GroupChannel">
            <Membership className="org.apache.catalina.tribes.membership.McastService"
                        address="228.0.0.4"
                        port="45564"
                        frequency="500"
                        dropTime="3000"/>
            <Receiver className="org.apache.catalina.tribes.transport.nio.NioReceiver"
                      address="localhost"
                      port="5000"
                      selectorTimeout="100"
                      maxThreads="6"/>

            <Sender className="org.apache.catalina.tribes.transport.ReplicationTransmitter">
              <Transport className="org.apache.catalina.tribes.transport.nio.PooledParallelSender"/>
            </Sender>
            <Interceptor className="org.apache.catalina.tribes.group.interceptors.TcpFailureDetector"/>
            <Interceptor className="org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor"/>
            <Interceptor className="org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor"/>
          </Channel>

          <Valve className="org.apache.catalina.ha.tcp.ReplicationValve"
                 filter=""/>

          <Deployer className="org.apache.catalina.ha.deploy.FarmWarDeployer"
                    tempDir="c:/tmp/war-temp/"
                    deployDir="c:/tmp/war-deploy/"
                    watchDir="c:/tmp/war-listen/"
                    watchEnabled="false"/>

          <ClusterListener className="org.apache.catalina.ha.session.ClusterSessionListener"/>
        </Cluster>      

      <!-- Use the LockOutRealm to prevent attempts to guess user passwords
           via a brute-force attack -->
 <!--     <Realm className="org.apache.catalina.realm.LockOutRealm">-->
        <!-- This Realm uses the UserDatabase configured in the global JNDI
             resources under the key "UserDatabase".  Any edits
             that are performed against this UserDatabase are immediately
             available for use by the Realm.  -->
<!--        <Realm className="org.apache.catalina.realm.UserDatabaseRealm"
               resourceName="UserDatabase"/>
      </Realm>-->

      <Host name="172.30.6.21"  appBase="webapps"
            unpackWARs="true" autoDeploy="true">
			<Realm
			   className="org.apache.catalina.realm.JNDIRealm" 
			   connectionURL="ldap://172.30.6.17:3268"
			   allRolesMode="authOnly"
			   authentication="simple"
			   referrals="follow"
			   connectionName="XXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
			   connectionPassword="xxxxxxxxxxxxxx" 
			   userSearch="(sAMAccountName={0})"
			   userBase="dc=xxxxxxxxxx,dc=com" 
			   userSubtree="true"
			   roleSearch="(member={0})" 
			   roleName="cn" 
			   roleSubtree="true"
			   roleBase="dc=xxxxxxxxxxxx,dc=com" />

        <!-- SingleSignOn valve, share authentication between web applications
             Documentation at: /docs/config/valve.html -->
        <!--
        
        -->
        
        <Valve className="org.apache.catalina.ha.authenticator.ClusterSingleSignOn" cacheConfig="clustered-sso"  />

                
        <!-- Access log processes all example.
             Documentation at: /docs/config/valve.html
             Note: The pattern used is equivalent to using pattern="common" -->
        <Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs"
               prefix="localhost_access_log." suffix=".txt"
               pattern="%h %l %u %t &quot;%r&quot; %s %b" />

      </Host>
    </Engine>
  </Service>
</Server>

------=_20120514120516_73387
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
------=_20120514120516_73387--

From users-return-234215-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 11:08:33 2012
Return-Path: <users-return-234215-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97A919D8A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 11:08:33 +0000 (UTC)
Received: (qmail 33678 invoked by uid 500); 14 May 2012 11:08:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33564 invoked by uid 500); 14 May 2012 11:08:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33546 invoked by uid 99); 14 May 2012 11:08:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:08:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sparkbird@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:08:21 +0000
Received: by werf3 with SMTP id f3so3102540wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 04:08:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=8r96BHpQ3Ri/FfLaAMM0j++oYwYT7qjo1bkdsbN4k4U=;
        b=lw4aFTk5J/S48LtypuLeB6m+YuunVPZG58JA59zaR8DWqqJUIXvMNC9qJnBk26Fobq
         54So1aah4n3LwcF4JyJv8uXM/LJFRVyDQnJa7ylfZ9HMw8NJjTAfg4UHBimnCmuNVa2l
         5taj9IZ+2eJJWTAHEwnVyoR3mAkiUOQ/QzkFy5pAzEq4T8bvLosbRhsc4yxbyzu6J7Pc
         bivg/WBAwA0WtT6FXFaDSKkTVs0TMknyMis1z3GBSH4D/PyNHcihJdOsxJZbovRqBnsf
         EROmAD9FlGAcSOs33s/eW6VY0P7tezbVf8y850oC2BkWadiEAkzE1n0nHqV5PRlP877/
         Hz9g==
MIME-Version: 1.0
Received: by 10.216.134.14 with SMTP id r14mr5053148wei.17.1336993681268; Mon,
 14 May 2012 04:08:01 -0700 (PDT)
Received: by 10.223.161.144 with HTTP; Mon, 14 May 2012 04:08:01 -0700 (PDT)
Date: Mon, 14 May 2012 16:38:01 +0530
Message-ID: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
Subject: Servlet 3.0 async NOT working on Tomcat 7.0.27 on Windows
From: rohit patil <sparkbird@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=0016e6d7e11a70611a04bffd19e0

--0016e6d7e11a70611a04bffd19e0
Content-Type: text/plain; charset=ISO-8859-1

Hi All,
I have written the below piece of code (NewServlet.java) to try the Servlet
3.0 async feature.
But it is failing by throwing up the below mentioned error.

Tomcat Version: 7.0.27 (32 bit)
OS: Windows 7

java.lang.IllegalStateException: Not supported.
    at org.apache.catalina.connector.Request.startAsync(Request.java:1664)
    at
org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1030)
    at
javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java:379)

code snippet:
   try{
            boolean asynSupported = request.isAsyncSupported();
            System.out.println("asynSupported: "+asynSupported);
            AsyncContext async = request.startAsync(request,
response);   *//exception
is thrown at this point
*            messageSender.addConnection(async);
            AlertListener alertListener = new AlertListener(messageSender);
            async.start(alertListener);

        } catch (Throwable thr){
            thr.printStackTrace();
        }

web.xml snippet:

    <servlet>
        <servlet-name>NewServlet</servlet-name>

<servlet-class>sample.comet.NewServlet</servlet-class>
        <async-supported>true</async-supported>
    </servlet>


server.xml snippet :

<Connector connectionTimeout="20000" port="8084"
protocol="org.apache.coyote.http11.Http11NioProtocol" redirectPort="8443"/>

Even the sample program "AsyncRequest" that comes with tomcat does not
work. :-(   it also throws the same exception.

--0016e6d7e11a70611a04bffd19e0--

From users-return-234216-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 11:25:52 2012
Return-Path: <users-return-234216-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97716C6C5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 11:25:52 +0000 (UTC)
Received: (qmail 73337 invoked by uid 500); 14 May 2012 11:25:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73225 invoked by uid 500); 14 May 2012 11:25:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73210 invoked by uid 99); 14 May 2012 11:25:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:25:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:25:42 +0000
Received: by ggnp1 with SMTP id p1so4042376ggn.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 04:25:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=V7s35ewXTqziCKv6LCeHR/zMhkIh74ASUH3p6VGOsv0=;
        b=wwFIRpe+gYaLT8l4uFHZBWQKfV/knvj3vS7N+la5qucHIcMTkUxj3TEne2Rlklh0Ra
         Gt/GuBBLB+4pQpl8W1jc2PqS0rGpbg/RXIopUEP50jQaF3oBitbYEvJeqE14QYHSksr9
         RL9MCkr4ivVmUJ5FTzVyc8CttaFLwNivqe4ukQzslbNNNE1y5dLp0HziNC5J8Bf28JGH
         6D4N4SSEKFvfENb58ryrkIsnQklJF9LhbCzrkScSNOS5xlDWDsaunUjWkAarer8O9DXx
         Hc8c5rcR2FBztjTA/yguNtJDDXGf8egdNX1CZ8i2ehYugaeH1OApSiFSHMwln8T4t/iQ
         PL3Q==
MIME-Version: 1.0
Received: by 10.236.72.138 with SMTP id t10mr7824105yhd.109.1336994722087;
 Mon, 14 May 2012 04:25:22 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Mon, 14 May 2012 04:25:22 -0700 (PDT)
In-Reply-To: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
References: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
Date: Mon, 14 May 2012 15:25:22 +0400
Message-ID: <CABzHfV=dYUAK-XKQszZx8ZdbqQUGLwRQqpkd5Bd-kWEcx0hOoA@mail.gmail.com>
Subject: Re: Servlet 3.0 async NOT working on Tomcat 7.0.27 on Windows
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/14 rohit patil <sparkbird@gmail.com>:
> Hi All,
> I have written the below piece of code (NewServlet.java) to try the Servl=
et
> 3.0 async feature.
> But it is failing by throwing up the below mentioned error.
>
> Tomcat Version: 7.0.27 (32 bit)
> OS: Windows 7
>
> java.lang.IllegalStateException: Not supported.
> =A0 =A0at org.apache.catalina.connector.Request.startAsync(Request.java:1=
664)
> =A0 =A0at
> org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java=
:1030)
> =A0 =A0at
> javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java=
:379)
>
> code snippet:
> =A0 try{
> =A0 =A0 =A0 =A0 =A0 =A0boolean asynSupported =3D request.isAsyncSupported=
();
> =A0 =A0 =A0 =A0 =A0 =A0System.out.println("asynSupported: "+asynSupported=
);
> =A0 =A0 =A0 =A0 =A0 =A0AsyncContext async =3D request.startAsync(request,
> response); =A0 *//exception
> is thrown at this point
> * =A0 =A0 =A0 =A0 =A0 =A0messageSender.addConnection(async);
> =A0 =A0 =A0 =A0 =A0 =A0AlertListener alertListener =3D new AlertListener(=
messageSender);
> =A0 =A0 =A0 =A0 =A0 =A0async.start(alertListener);
>
> =A0 =A0 =A0 =A0} catch (Throwable thr){
> =A0 =A0 =A0 =A0 =A0 =A0thr.printStackTrace();
> =A0 =A0 =A0 =A0}
>
> web.xml snippet:
>
> =A0 =A0<servlet>
> =A0 =A0 =A0 =A0<servlet-name>NewServlet</servlet-name>
>
> <servlet-class>sample.comet.NewServlet</servlet-class>
> =A0 =A0 =A0 =A0<async-supported>true</async-supported>
> =A0 =A0</servlet>


1. You must have the same setting for all all filters in your request
processing chain.

Your stacktrace from IllegalStateException should have mentioned them.

All the valves in the chain should also support async processing (that
is declared programmatically, via Valve.isAsyncSupported() ).

2. Your web.xml (and conf/web.xml) should mark themselves as adhering
to the Sevlet 3.0 specification (with version and probably with
xsi:schemaLocation attributes on the root element).

> server.xml snippet :
>
> <Connector connectionTimeout=3D"20000" port=3D"8084"
> protocol=3D"org.apache.coyote.http11.Http11NioProtocol" redirectPort=3D"8=
443"/>
>
> Even the sample program "AsyncRequest" that comes with tomcat does not
> work. :-( =A0 it also throws the same exception.

You mean those listed at the bottom of the following page:
http://localhost:8080/examples/jsp/

I've just tested and those examples work with Nio connector in 7.0.27.
I am on WinXP.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234217-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 11:41:09 2012
Return-Path: <users-return-234217-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0271C6F8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 11:41:09 +0000 (UTC)
Received: (qmail 15061 invoked by uid 500); 14 May 2012 11:41:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14845 invoked by uid 500); 14 May 2012 11:41:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14822 invoked by uid 99); 14 May 2012 11:41:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:41:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sparkbird@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:40:59 +0000
Received: by werf3 with SMTP id f3so3128763wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 04:40:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wWsO+XiiPpM9hAZqj0l63qNxZ3N8QmIbu2YbRDRA6FU=;
        b=A3nzDiBaKnQb99GEVWpsBoB0VRsqlUicBFZ2k6T2fBwHpaSzDlVu5orRsl6BYQX2xH
         oDlrySyk/XYvhI5RlqMA1W1wKpo6hyc6a/hnKQoMBIsaSdbKyrjLkvWYGnupQfJD+vj5
         9gVDKQzEXn4JS0AI+4TLhA81CKmh1shfqtloAPCcciIh3DBlCiaudT4crqsJ/jgMqQHG
         xwoyKCL8pLEOQbQEN7ABYgmNFJo5X2KU3yY7ZT3bbEW6KPnTWnWD95elPdzrZXFRlMGO
         d9iCmzmpJ9MpoAV3FGDW86SBQJivdxhg/jTm1htZm0BOMlF2B2mIOJ/qhsHipq7cOVxH
         nLeA==
MIME-Version: 1.0
Received: by 10.180.86.5 with SMTP id l5mr19179196wiz.6.1336995637590; Mon, 14
 May 2012 04:40:37 -0700 (PDT)
Received: by 10.223.161.144 with HTTP; Mon, 14 May 2012 04:40:37 -0700 (PDT)
In-Reply-To: <CABzHfV=dYUAK-XKQszZx8ZdbqQUGLwRQqpkd5Bd-kWEcx0hOoA@mail.gmail.com>
References: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
	<CABzHfV=dYUAK-XKQszZx8ZdbqQUGLwRQqpkd5Bd-kWEcx0hOoA@mail.gmail.com>
Date: Mon, 14 May 2012 17:10:37 +0530
Message-ID: <CAC6mbZT6ngaXmfRChAWdSMcshNVdqsK3ZgickuRsp0LJDQJbpg@mail.gmail.com>
Subject: Re: Servlet 3.0 async NOT working on Tomcat 7.0.27 on Windows
From: rohit patil <sparkbird@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044306860b7c4c04bffd8e63
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044306860b7c4c04bffd8e63
Content-Type: text/plain; charset=ISO-8859-1

Thanks for replying,

1. I do not have any filters configured.
2. Yes my web.xml does mark themselves as adhering to the Sevlet 3.0
specification
3. Yes apps under http://localhost:8080/examples/jsp/ also does NOT work,
they also throw up the same exception.

Here is the stack trace

java.lang.IllegalStateException: Not supported.
    at org.apache.catalina.connector.Request.startAsync(Request.java:1664)
    at
org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1030)
    at
javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java:379)
    at test.comet.NewServlet.processRequest(NewServlet.java:75)
    at test.comet.NewServlet.doGet(NewServlet.java:98)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at
org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
    at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
    at
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
    at
org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812)
    at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)


web.xml complete contents:

<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:j2ee="http://java.sun.com/xml/ns/javaee" xmlns:xsi="
http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
    <servlet>
        <servlet-name>NewServlet</servlet-name>
        <servlet-class>test.comet.NewServlet</servlet-class>
        <async-supported>true</async-supported>
    </servlet>
    <servlet-mapping>
        <servlet-name>NewServlet</servlet-name>
        <url-pattern>/NewServlet</url-pattern>
    </servlet-mapping>
    <session-config>
        <session-timeout>
            30
        </session-timeout>
    </session-config>
</web-app>




On Mon, May 14, 2012 at 4:55 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/14 rohit patil <sparkbird@gmail.com>:
> > Hi All,
> > I have written the below piece of code (NewServlet.java) to try the
> Servlet
> > 3.0 async feature.
> > But it is failing by throwing up the below mentioned error.
> >
> > Tomcat Version: 7.0.27 (32 bit)
> > OS: Windows 7
> >
> > java.lang.IllegalStateException: Not supported.
> >    at org.apache.catalina.connector.Request.startAsync(Request.java:1664)
> >    at
> >
> org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1030)
> >    at
> >
> javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java:379)
> >
> > code snippet:
> >   try{
> >            boolean asynSupported = request.isAsyncSupported();
> >            System.out.println("asynSupported: "+asynSupported);
> >            AsyncContext async = request.startAsync(request,
> > response);   *//exception
> > is thrown at this point
> > *            messageSender.addConnection(async);
> >            AlertListener alertListener = new
> AlertListener(messageSender);
> >            async.start(alertListener);
> >
> >        } catch (Throwable thr){
> >            thr.printStackTrace();
> >        }
> >
> > web.xml snippet:
> >
> >    <servlet>
> >        <servlet-name>NewServlet</servlet-name>
> >
> > <servlet-class>sample.comet.NewServlet</servlet-class>
> >        <async-supported>true</async-supported>
> >    </servlet>
>
>
> 1. You must have the same setting for all all filters in your request
> processing chain.
>
> Your stacktrace from IllegalStateException should have mentioned them.
>
> All the valves in the chain should also support async processing (that
> is declared programmatically, via Valve.isAsyncSupported() ).
>
> 2. Your web.xml (and conf/web.xml) should mark themselves as adhering
> to the Sevlet 3.0 specification (with version and probably with
> xsi:schemaLocation attributes on the root element).
>
> > server.xml snippet :
> >
> > <Connector connectionTimeout="20000" port="8084"
> > protocol="org.apache.coyote.http11.Http11NioProtocol"
> redirectPort="8443"/>
> >
> > Even the sample program "AsyncRequest" that comes with tomcat does not
> > work. :-(   it also throws the same exception.
>
> You mean those listed at the bottom of the following page:
> http://localhost:8080/examples/jsp/
>
> I've just tested and those examples work with Nio connector in 7.0.27.
> I am on WinXP.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044306860b7c4c04bffd8e63--

From users-return-234218-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 11:50:30 2012
Return-Path: <users-return-234218-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 99403C715
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 11:50:30 +0000 (UTC)
Received: (qmail 37444 invoked by uid 500); 14 May 2012 11:50:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37241 invoked by uid 500); 14 May 2012 11:50:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37214 invoked by uid 99); 14 May 2012 11:50:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:50:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 11:50:18 +0000
Received: by yhoo21 with SMTP id o21so5553842yho.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 04:49:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=FiTzmcdoul9COwpyLR7wce47YkgUVJ8QEEPH25jcnYo=;
        b=G87P2E2DuJbKHjbNeW0mOeBauM+J4coNzO2WEjoechhJcb9NSIYXe45cLm2qV/mU1w
         a24cH33KTAn96KFgFn7CCwp7rwLsOiUAEzFNylRPXdb/tgpP7SzAmc65BiHgElnW6eIE
         EpDTNRI9u1x+SC7KdaD5gXOG9UZX+YuaOGqXPpJILDQJQmyXOIJGOZSTxl0u7ENi2JoM
         iBK/iNof6fNF+AcEInuxXq955noNFOKDASEqgCdPMKC47wXsX+QxUQa4LxB7qXGZI4j9
         FuH8mZEd41jPnopIWx6G3kHZB+TBJC4Xf0MTfIRMDJcNGkAwY+ni4pTzOAV+x7elav1e
         SL8A==
MIME-Version: 1.0
Received: by 10.101.47.20 with SMTP id z20mr2384668anj.20.1336996197517; Mon,
 14 May 2012 04:49:57 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Mon, 14 May 2012 04:49:57 -0700 (PDT)
In-Reply-To: <CAC6mbZT6ngaXmfRChAWdSMcshNVdqsK3ZgickuRsp0LJDQJbpg@mail.gmail.com>
References: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
	<CABzHfV=dYUAK-XKQszZx8ZdbqQUGLwRQqpkd5Bd-kWEcx0hOoA@mail.gmail.com>
	<CAC6mbZT6ngaXmfRChAWdSMcshNVdqsK3ZgickuRsp0LJDQJbpg@mail.gmail.com>
Date: Mon, 14 May 2012 15:49:57 +0400
Message-ID: <CABzHfVm1ULoUkYDkkeFAB==F+5KsEJE8Pr9JoMSUgfChk=U7Rw@mail.gmail.com>
Subject: Re: Servlet 3.0 async NOT working on Tomcat 7.0.27 on Windows
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/14 rohit patil <sparkbird@gmail.com>:
> Thanks for replying,
>
> 1. I do not have any filters configured.
> 2. Yes my web.xml does mark themselves as adhering to the Sevlet 3.0
> specification
> 3. Yes apps under http://localhost:8080/examples/jsp/ also does NOT work,
> they also throw up the same exception.
>
> Here is the stack trace
>
> java.lang.IllegalStateException: Not supported.
> =A0 =A0at org.apache.catalina.connector.Request.startAsync(Request.java:1=
664)
> =A0 =A0at
> org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java=
:1030)
> =A0 =A0at
> javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java=
:379)
> =A0 =A0at test.comet.NewServlet.processRequest(NewServlet.java:75)
> =A0 =A0at test.comet.NewServlet.doGet(NewServlet.java:98)
> =A0 =A0at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
> =A0 =A0at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
> =A0 =A0at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ionFilterChain.java:305)
> =A0 =A0at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rChain.java:210)
> =A0 =A0at
> org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFil=
ter.java:393)
> =A0 =A0at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ionFilterChain.java:243)
> =A0 =A0at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rChain.java:210)
> =A0 =A0at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve=
.java:225)
> =A0 =A0at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve=
.java:169)
> =A0 =A0at
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorB=
ase.java:472)
> =A0 =A0at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:=
168)
> =A0 =A0at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:=
98)
> =A0 =A0at
> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
> =A0 =A0at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.j=
ava:118)
> =A0 =A0at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:40=
7)
> =A0 =A0at
> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Pr=
ocessor.java:999)
> =A0 =A0at
> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Abst=
ractProtocol.java:565)
> =A0 =A0at
> org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.ja=
va:1812)
> =A0 =A0at
> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java=
:1110)
> =A0 =A0at
> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.jav=
a:603)
> =A0 =A0at java.lang.Thread.run(Thread.java:722)
>
>
> web.xml complete contents:
>
> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> <web-app version=3D"3.0" xmlns=3D"http://java.sun.com/xml/ns/javaee"
> xmlns:j2ee=3D"http://java.sun.com/xml/ns/javaee" xmlns:xsi=3D"
> http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation=3D"
> http://java.sun.com/xml/ns/javaee
> http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
> =A0 =A0<servlet>
> =A0 =A0 =A0 =A0<servlet-name>NewServlet</servlet-name>
> =A0 =A0 =A0 =A0<servlet-class>test.comet.NewServlet</servlet-class>
> =A0 =A0 =A0 =A0<async-supported>true</async-supported>
> =A0 =A0</servlet>
> =A0 =A0<servlet-mapping>
> =A0 =A0 =A0 =A0<servlet-name>NewServlet</servlet-name>
> =A0 =A0 =A0 =A0<url-pattern>/NewServlet</url-pattern>
> =A0 =A0</servlet-mapping>
> =A0 =A0<session-config>
> =A0 =A0 =A0 =A0<session-timeout>
> =A0 =A0 =A0 =A0 =A0 =A030
> =A0 =A0 =A0 =A0</session-timeout>
> =A0 =A0</session-config>
> </web-app>
>

1. Note, that you have to check Tomcat's conf/web.xml as well

2. I recommend you to add metadata-complete=3D"true" to the root element
of your web.xml. Otherwise your application can pull annotated
components from elsewhere. It will also start faster if you set that
attribute.

3. What is "org.netbeans.modules.web.monitor.server.MonitorFilter" in
your stacktrace? It is likely the culprit.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234219-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 12:13:16 2012
Return-Path: <users-return-234219-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4FA40C796
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 12:13:16 +0000 (UTC)
Received: (qmail 16982 invoked by uid 500); 14 May 2012 12:13:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16757 invoked by uid 500); 14 May 2012 12:13:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16734 invoked by uid 99); 14 May 2012 12:13:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 12:13:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 12:13:04 +0000
Received: by bkwj10 with SMTP id j10so4870010bkw.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 05:12:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=PQe544IvCUTAzlPHY+aQYwsO3eHTOO7UKgSzFzuujAU=;
        b=tVfgpZT8II4GQuw00MAxXmSdged5lDb3epCPaoXoQy3hzr4lwsae9IOhmy5zLougzl
         qcW88Ma1UDA7uc7T+LIdMXmdBLobcT5vOA0072DpGR6S2N6hD7t3MOxcgsW5v7JoV1uj
         LRRZsvpzK7VW7CnQKPju39r2GAwppmA0vXlic=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=PQe544IvCUTAzlPHY+aQYwsO3eHTOO7UKgSzFzuujAU=;
        b=Sdkxlg0dPXLfvA+8zcjglCw2bLDlgE6o4mBnO39wwSvMRFKpomO+QkHWyc+HYkxTsq
         jy9LT48r9XVjlBX8Z0icuYe/4enE3j1203+HX5Y+oigCbuAk0aqJBbL5nbn3yHrtemoq
         N1MS7wuUx848yudRuuV1204afda4sQ3uHhEa7Tj4CO0kuNgJ8daydTSx9xl4V6/t3+BA
         bj0mSIZooWyCpmoqZsdftbhaSlB5coZO1Y5bXL/DrbgqbPX278mgmIRTg0zEWOLwp5lI
         eLq8tMQdMG2HpCx8uyE6KsLVk+3M0ox7uPt9pGKes8H5WfMbw1HnJd4EpbeuUXagdPwP
         dusw==
Received: by 10.204.133.200 with SMTP id g8mr2874170bkt.110.1336997564272;
        Mon, 14 May 2012 05:12:44 -0700 (PDT)
Received: from Asura.local ([89.195.192.100])
        by mx.google.com with ESMTPS id 9sm34213230bku.9.2012.05.14.05.12.40
        (version=SSLv3 cipher=OTHER);
        Mon, 14 May 2012 05:12:42 -0700 (PDT)
Message-ID: <4FB0F6C2.5000300@pidster.com>
Date: Mon, 14 May 2012 13:12:50 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE caching problem-
References: <BLU142-W90097EEA06001AE5BBABFAE150@phx.gbl>,<CABzHfVmdNkksnuJvaux6jL6DUjsj6JiZebfV2dYqeshpu936mw@mail.gmail.com>,<BLU142-W34A1E267D5D121AFDF85A3AE150@phx.gbl>,<4FAFED8C.8090107@pidster.com>,<BLU142-W2768905EB9621D657EAECBAE150@phx.gbl>,<CAG6aRdXBhDw9S9kHhYmNZ8ubS-c7ZYZmv3Tq56Zug+nB7+=YsQ@mail.gmail.com>,<BLU142-W3597D4B900518C4E636867AE1A0@phx.gbl> <BLU142-W1629BF89EDF728016BC1F1AE1A0@phx.gbl>
In-Reply-To: <BLU142-W1629BF89EDF728016BC1F1AE1A0@phx.gbl>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig35E9FC5E2BD774895E484094"
X-Gm-Message-State: ALoCoQnDZGHXw3i8Syai8q+afer/OZS6AGN2X8mZ48i0PS5hli+i0mie3ozr5UlGcSLWubtJUhrt

--------------enig35E9FC5E2BD774895E484094
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 14/05/2012 02:37, Martin Gainty wrote:
>=20
> i plan to run the windows IE code in Solaris thru WINE

Eh?! How will that help? </rhetorical>


p


> thanks again,
> Martin=20
>=20
>=20
>=20
>=20
>> From: mgainty@hotmail.com
>> To: users@tomcat.apache.org
>> Subject: RE: IE caching problem-
>> Date: Sun, 13 May 2012 21:21:11 -0400
>>
>>
>> isolating the code from the browser is the logical first step
>>  at least with solaris If i dont want pages cached then I can disable =
access (with chmod and .htaccess) to the Temporary Internet Files folder =
and then when IE tosses up error messages I can react appropriately
>> changing out browsers from IE to FF will further isolate and determine=
 any 'tricks' that IE is playing ..without access to hidden folders and
>> unknown registry settings the IE caching problem can finally be determ=
ined
>>
>> Many Thanks for your thoughtful response,
>> Martin--
>> ______________________________________________=20
>> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentia=
lit=E9
>>
>> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Emp=
faenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugte W=
eiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht =
dient lediglich dem Austausch von Informationen und entfaltet keine recht=
liche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mail=
s koennen wir keine Haftung fuer den Inhalt uebernehmen.
>> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EA=
tes pas le destinataire pr=E9vu, nous te demandons avec bont=E9 que pour =
satisfaire informez l'exp=E9diteur. N'importe quelle diffusion non autori=
s=E9e ou la copie de ceci est interdite. Ce message sert =E0 l'informatio=
n seulement et n'aura pas n'importe quel effet l=E9galement obligatoire. =
=C9tant donn=E9 que les email peuvent facilement =EAtre sujets =E0 la man=
ipulation, nous ne pouvons accepter aucune responsabilit=E9 pour le conte=
nu fourni.
>>
>>
>>> From: chris@derham.me.uk
>>> Date: Sun, 13 May 2012 20:37:02 -0300
>>> Subject: Re: IE caching problem-
>>> To: users@tomcat.apache.org
>>>
>>>>
>>>> never had this problem when i deployed to Solaris....I'll try again
>>>> tommorrow when i have a REAL Operating System to deploy my webapp
>>>>
>>>
>>> So you have a web app, serving up web pages, that are being cached in=
 a
>>> browser. The browser is not refreshing, for reasons unknown. You say =
that
>>> the clock was incorrect, but now I assume the problem is still occurr=
ing.
>>> Yet you think that moving the webapp to a "real os" will help?
>>>
>>> Browsers cache pages only if they are told to. Have you used some kin=
d of
>>> technique to check the headers? Fiddler or live http headers? Why are=
 the
>>> pages being cached?
>>>
>>> Once you know that, perhaps you can resolve the issue. If I had a car=
 that
>>> wouldn't start, I know nothing about cars but I'm reasonably confiden=
t that
>>> changing the garage won't help the issue that much
>>>
>>> Chris
>>  		 	   		 =20
>  		 	   		 =20


--=20

[key:62590808]


--------------enig35E9FC5E2BD774895E484094
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPsPbGAAoJEGoM2OGpOvr9S7kP/AskeJ/tYTMhKhb8gHjHcu/n
KlJuMe6ARTyjeKTbBocVPiI8HKzjnYNcjtnqrcU9PcEz7VA4Yvgw+pZWKsGyeGiF
/tCsK9A4o0dh9263b0TqBeRyGO9+mcFt/eX1huqope1GvzMlAqDBVt973ARO924Q
Pl60lsCIY7Y7fSBQkGr8JUAfy8wU8x11bHUxQJTtbcBrfGJJrXC7AzXotHe5mmhp
ycxlCgeqeKUGungGuh5OG/85tztI0aAnrKFgG1g3ln+ipiaacDPSUGlDrXbde8ao
xUV35haTZowP5I6VKVnBCxW/ElNuWegjO6wbj7BwiNJDytnQ815dvjgGur7zbduX
Da3nS2wn2DlMw2UXaiycN2UpKJxTvbuNAqL8QZtim8/0ZTNf3SdLNpSFstUWlDL4
yF4PXekpQGLcgSQM/KEEZzjakvfjn7cOsojnZTJXCpa41F/PFmhpYGVbeJoxw4su
KKhrLtOlbN818hY7iT0rzD906PkDBJzCdjv0l1L8DFz24YJZBBE1ZIVGV7fKHqsg
2uOpcKEEvFhDv9rOny9rUa/Qcy3D3LXtq4e6zwh1FdzONjjTey6Bmgb7EcTax4ev
RP07TpqDTxH3nkmvujQXUN29OOl9WntSgTlVoukE3VMnija9NTn/r5TODJJaVzW/
04fLIK9s3EI0K11RNKLy
=5y4V
-----END PGP SIGNATURE-----

--------------enig35E9FC5E2BD774895E484094--

From users-return-234220-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 12:46:54 2012
Return-Path: <users-return-234220-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2744A95FC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 12:46:54 +0000 (UTC)
Received: (qmail 25865 invoked by uid 500); 14 May 2012 12:46:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25821 invoked by uid 500); 14 May 2012 12:46:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25811 invoked by uid 99); 14 May 2012 12:46:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 12:46:50 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.218.179.23] (HELO srv.ordix.de) (212.218.179.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 12:46:44 +0000
Received: from emailix.ordix.de (emailix.ordix.de [192.168.7.99])
	by srv.ordix.de (Postfix) with ESMTP id 6BC4C85D
	for <users@tomcat.apache.org>; Mon, 14 May 2012 14:46:18 +0200 (CEST)
Received: by emailix.ordix.de (Postfix, from userid 96)
	id 637F39B50; Mon, 14 May 2012 14:46:22 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on emailix.ordix.de
X-Spam-Level: 
Received: from zarafix.ordix.de (zarafix.ordix.de [192.168.7.165])
	by emailix.ordix.de (Postfix) with SMTP id D90D99B1C
	for <users@tomcat.apache.org>; Mon, 14 May 2012 14:46:16 +0200 (CEST)
Subject: Manager activeSessions and customized error page
From: =?windows-1252?Q?Thomas_Rohde_?= <tro@ordix.de>
To: =?windows-1252?Q?users=40tomcat.apache.org?= <users@tomcat.apache.org>
Date: Mon, 14 May 2012 14:46:16 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-Mailer: Zarafa 6.40.15-33766
Message-Id: <zarafa.4fb0fe98.1b34.4c1e6a3a051efca2@zarafix.ordix.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No  -102.9 / 4.5  Tests= ALL_TRUSTED | BAYES_00 |
	MIME_QP_LONG_LINE | T_RP_MATCHES_RCVD | USER_IN_WHITELIST

Hi!

I configured the Manager's maxActiveSessions attribute in context.xml. If the configured value is exceeded an IllegalStateException "createSession: Too many active sessions" is thrown in ManagerBase class. In our application we catch this exception around httpServletRequest.getSession(true) and redirect to an customized error page. Works!

Now I activated form based authentication via securiy constraint in web.xml. If I try to open the web application with my browser by sending the first request, the response is empty (status 200 OK).

Is there any way to map a static customized error page in this scenario=3F

If not: Is there any other approach to limit the number of sessions=3F

Thanks!
Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234221-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 13:00:20 2012
Return-Path: <users-return-234221-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D121D9662
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 13:00:20 +0000 (UTC)
Received: (qmail 68868 invoked by uid 500); 14 May 2012 13:00:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68805 invoked by uid 500); 14 May 2012 13:00:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68791 invoked by uid 99); 14 May 2012 13:00:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 13:00:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 13:00:11 +0000
Received: by yhoo21 with SMTP id o21so5660303yho.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 05:59:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=T3MJNWayHjUXlVFNQI+ucDpwsj9+lrN9oF2RVJ4q7nU=;
        b=ZV88UIHKMbqQvAzlP1Nsi83AB03tQHI83Ayf2jYFjLoo0bWPPMAF/S92bTvSDt7nee
         jE+WqPdXHVeH65IKAgUEsx/RQSUQ1OpVBLh3MUQykzRY+0mJQk4SOiuDsq5FGhzylLb4
         uNxeCwp63/76RqvCZ/I+Wfz7DHW4mKz+jn1FwI/efjrQVwoDd6btEH+JlKy1nfVax+p8
         BFC+JriwQtoy6k97gVCWUvJxDKk+ZxWZK0PyeeoYHZk+cp1HkI6qB2u4Dxe7Io+pxNak
         MbyK5I4utFB6GmjLMEFkS8ftymI9LhF0j3H9wnWiy8MxHlrVTtpLiKiko3h9JKPsbUXI
         10Wg==
MIME-Version: 1.0
Received: by 10.236.173.135 with SMTP id v7mr3518204yhl.19.1337000390508; Mon,
 14 May 2012 05:59:50 -0700 (PDT)
Received: by 10.147.85.25 with HTTP; Mon, 14 May 2012 05:59:50 -0700 (PDT)
In-Reply-To: <zarafa.4fb0fe98.1b34.4c1e6a3a051efca2@zarafix.ordix.de>
References: <zarafa.4fb0fe98.1b34.4c1e6a3a051efca2@zarafix.ordix.de>
Date: Mon, 14 May 2012 16:59:50 +0400
Message-ID: <CABzHfVmy0YCsyiRZFuBo_gfHOipj9hxmT26AK48gQgSHRDdzKQ@mail.gmail.com>
Subject: Re: Manager activeSessions and customized error page
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/14 Thomas Rohde <tro@ordix.de>:
> Hi!
>
> I configured the Manager's maxActiveSessions attribute in context.xml. If=
 the configured value is exceeded an IllegalStateException "createSession: =
Too many active sessions" is thrown in ManagerBase class. In our applicatio=
n we catch this exception around httpServletRequest.getSession(true) and re=
direct to an customized error page. Works!
>
> Now I activated form based authentication via securiy constraint in web.x=
ml. If I try to open the web application with my browser by sending the fir=
st request, the response is empty (status 200 OK).
>
> Is there any way to map a static customized error page in this scenario?
>

It depends on where ErrorReportValve is in the request processing
chain in your situation. There were several changes to that (read:
fixes) in different Tomcat 7.0.x versions. You did not wrote which
version you do use.

If it is reproducible in latest 7.0.27, feel free to create a bug
report and attach a simple sample web application + steps to
reproduce.

It might be that it is already reproducible with the standard example
app [1], but I have not tried.

[1] http://localhost:8080/examples/jsp/security/protected/index.jsp

> If not: Is there any other approach to limit the number of sessions?

I think it is possible with a Filter, Valve or with a SessionListener.
It should be also be possible with a custom o.a.c.Manager.
YMMV.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234222-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 13:47:36 2012
Return-Path: <users-return-234222-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97175C175
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 13:47:36 +0000 (UTC)
Received: (qmail 15258 invoked by uid 500); 14 May 2012 13:47:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15004 invoked by uid 500); 14 May 2012 13:47:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14993 invoked by uid 99); 14 May 2012 13:47:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 13:47:33 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rishad.ali@turnkey-instruments.com designates 93.95.14.83 as permitted sender)
Received: from [93.95.14.83] (HELO engine01-20052-1.icritical.com) (93.95.14.83)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 May 2012 13:47:25 +0000
Received: (qmail 2415 invoked from network); 14 May 2012 13:47:10 -0000
Received: from localhost (127.0.0.1)
  by engine01-20052-1.icritical.com with SMTP; 14 May 2012 13:47:10 -0000
Received: (qmail 2386 invoked by uid 599); 14 May 2012 13:47:08 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CD31D8.04C3CC10"
Subject: How to start a continuous java application in tomcat
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Mon, 14 May 2012 14:46:52 +0100
Message-ID: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to start a continuous java application in tomcat
Thread-Index: Ac0x2AReVjxIlF9sSCabTdyKEZn01w==
From: "Rishad Ali" <rishad.ali@turnkey-instruments.com>
To: <users@tomcat.apache.org>
X-Virus-Scanned: by iCritical at engine01-20052-1.icritical.com

------_=_NextPart_001_01CD31D8.04C3CC10
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

The scenario is:=20

I have a java application which collects some data from sensors and
stores in the database. This java application has to run continuously.
On the other hand I have a web application which I am running on tomcat
which collects the data from database and display it on the web.

Database is same for both applications. I don't mind whether the
application runs inside tomcat or outside tomcat.

=20

I've tried to make a jar file of the java application and created a
simple web application which uses some classes of the jar file. But it
is not working.

=20

Can anyone please tell me how do I do this.

I am sure there should be an easy way to do that.

Thank you.

=20

Regards.

=20



------_=_NextPart_001_01CD31D8.04C3CC10--

From users-return-234223-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 13:54:32 2012
Return-Path: <users-return-234223-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B16D3C18E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 13:54:32 +0000 (UTC)
Received: (qmail 34418 invoked by uid 500); 14 May 2012 13:54:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34158 invoked by uid 500); 14 May 2012 13:54:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34149 invoked by uid 99); 14 May 2012 13:54:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 13:54:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sparkbird@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 13:54:21 +0000
Received: by werf3 with SMTP id f3so3246653wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 06:54:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=I/FHxa38y3mQZc65u6HKIy+nGUBZm9aLJv3EluI6w/I=;
        b=U0cNt8pxGTEcJ93GEauxTYUTgkUx3RqIaapMBQiDNQ2cD+zRQq5nGgcnUKF16Nh/Or
         YOP1AfCtOsdYHATsd+uQqKxuNS/3dhxYHE5fL9uOo2U5owrQC0BILJXicGWAniclZPED
         nS3CA4Z6qr7aX76cw5O9ONOpoqPof/J1/pnyLWhJBvALm0HJeFpo/RvbBF1PgN+x70M2
         7XQZEZeHJvhaoekjw0v0bJ5Of6LZbbLLPlmNZiVVOLEf6rrZZAPcayMBSGrs9v6QvJgq
         mXmQ4QnwcH6w+E6KHCGfA3JanH7gXU778y5FlnO1JFhF2D7VftBheNzddZdDJs3UBmFt
         auhA==
MIME-Version: 1.0
Received: by 10.180.80.35 with SMTP id o3mr6027543wix.7.1337003640726; Mon, 14
 May 2012 06:54:00 -0700 (PDT)
Received: by 10.223.161.144 with HTTP; Mon, 14 May 2012 06:54:00 -0700 (PDT)
In-Reply-To: <CABzHfVm1ULoUkYDkkeFAB==F+5KsEJE8Pr9JoMSUgfChk=U7Rw@mail.gmail.com>
References: <CAC6mbZQBbaufZfZvEx002NoOVRh0Wzx7_6UjQqF-gLWO4HBW0w@mail.gmail.com>
	<CABzHfV=dYUAK-XKQszZx8ZdbqQUGLwRQqpkd5Bd-kWEcx0hOoA@mail.gmail.com>
	<CAC6mbZT6ngaXmfRChAWdSMcshNVdqsK3ZgickuRsp0LJDQJbpg@mail.gmail.com>
	<CABzHfVm1ULoUkYDkkeFAB==F+5KsEJE8Pr9JoMSUgfChk=U7Rw@mail.gmail.com>
Date: Mon, 14 May 2012 19:24:00 +0530
Message-ID: <CAC6mbZQ5ZP6Kx+-kF-nUd3M7D+fDU-aq-BDVTDXtU2xskAMj2w@mail.gmail.com>
Subject: Re: Servlet 3.0 async NOT working on Tomcat 7.0.27 on Windows
From: rohit patil <sparkbird@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044287f211a5fe04bfff6b3a

--f46d044287f211a5fe04bfff6b3a
Content-Type: text/plain; charset=ISO-8859-1

Hi
I undid the changes i had done in server.xml and that seems to fix the
issue.

<Connector connectionTimeout="20000" port="8084" protocol="HTTP/1.1"
redirectPort="8443"/>
    <!--<Connector connectionTimeout="20000" port="8084"
protocol="org.apache.coyote.http11.Http11NioProtocol"
redirectPort="8443"/>-->

could you help me understand what could be happening ?


On Mon, May 14, 2012 at 5:19 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/14 rohit patil <sparkbird@gmail.com>:
> > Thanks for replying,
> >
> > 1. I do not have any filters configured.
> > 2. Yes my web.xml does mark themselves as adhering to the Sevlet 3.0
> > specification
> > 3. Yes apps under http://localhost:8080/examples/jsp/ also does NOT
> work,
> > they also throw up the same exception.
> >
> > Here is the stack trace
> >
> > java.lang.IllegalStateException: Not supported.
> >    at org.apache.catalina.connector.Request.startAsync(Request.java:1664)
> >    at
> >
> org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1030)
> >    at
> >
> javax.servlet.ServletRequestWrapper.startAsync(ServletRequestWrapper.java:379)
> >    at test.comet.NewServlet.processRequest(NewServlet.java:75)
> >    at test.comet.NewServlet.doGet(NewServlet.java:98)
> >    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
> >    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
> >    at
> >
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
> >    at
> >
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> >    at
> >
> org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
> >    at
> >
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
> >    at
> >
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> >    at
> >
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
> >    at
> >
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
> >    at
> >
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
> >    at
> >
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
> >    at
> >
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
> >    at
> > org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
> >    at
> >
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
> >    at
> >
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
> >    at
> >
> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
> >    at
> >
> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
> >    at
> >
> org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812)
> >    at
> >
> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
> >    at
> >
> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
> >    at java.lang.Thread.run(Thread.java:722)
> >
> >
> > web.xml complete contents:
> >
> > <?xml version="1.0" encoding="UTF-8"?>
> > <web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee"
> > xmlns:j2ee="http://java.sun.com/xml/ns/javaee" xmlns:xsi="
> > http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
> > http://java.sun.com/xml/ns/javaee
> > http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
> >    <servlet>
> >        <servlet-name>NewServlet</servlet-name>
> >        <servlet-class>test.comet.NewServlet</servlet-class>
> >        <async-supported>true</async-supported>
> >    </servlet>
> >    <servlet-mapping>
> >        <servlet-name>NewServlet</servlet-name>
> >        <url-pattern>/NewServlet</url-pattern>
> >    </servlet-mapping>
> >    <session-config>
> >        <session-timeout>
> >            30
> >        </session-timeout>
> >    </session-config>
> > </web-app>
> >
>
> 1. Note, that you have to check Tomcat's conf/web.xml as well
>
> 2. I recommend you to add metadata-complete="true" to the root element
> of your web.xml. Otherwise your application can pull annotated
> components from elsewhere. It will also start faster if you set that
> attribute.
>
> 3. What is "org.netbeans.modules.web.monitor.server.MonitorFilter" in
> your stacktrace? It is likely the culprit.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044287f211a5fe04bfff6b3a--

From users-return-234224-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 14:06:41 2012
Return-Path: <users-return-234224-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5B66C1F6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 14:06:41 +0000 (UTC)
Received: (qmail 66325 invoked by uid 500); 14 May 2012 14:06:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66199 invoked by uid 500); 14 May 2012 14:06:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66190 invoked by uid 99); 14 May 2012 14:06:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:06:38 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.218.179.23] (HELO srv.ordix.de) (212.218.179.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:06:31 +0000
Received: from emailix.ordix.de (emailix.ordix.de [192.168.7.99])
	by srv.ordix.de (Postfix) with ESMTP id 1120F8EB
	for <users@tomcat.apache.org>; Mon, 14 May 2012 16:06:07 +0200 (CEST)
Received: by emailix.ordix.de (Postfix, from userid 96)
	id 9A2259C66; Mon, 14 May 2012 16:06:11 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on emailix.ordix.de
X-Spam-Level: 
Received: from zarafix.ordix.de (zarafix.ordix.de [192.168.7.165])
	by emailix.ordix.de (Postfix) with SMTP id B299B99A2
	for <users@tomcat.apache.org>; Mon, 14 May 2012 15:44:07 +0200 (CEST)
Subject: AW: Manager activeSessions and customized error page
From: =?windows-1252?Q?Thomas_Rohde_?= <tro@ordix.de>
To: =?windows-1252?Q?users=40tomcat.apache.org?= <users@tomcat.apache.org>
Date: Mon, 14 May 2012 15:44:07 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-Mailer: Zarafa 6.40.15-33766
Message-Id: <zarafa.4fb10c27.3297.640704993d7e6f90@zarafix.ordix.de>
X-Old-Spam-Status: No  -102.7 / 4.5  Tests= ALL_TRUSTED | BAYES_00 |
	MIME_QP_LONG_LINE | TW_KN | T_RP_MATCHES_RCVD | USER_IN_WHITELIST

-----Urspr=FCngliche Nachricht-----
Von:=09Konstantin Kolinko <knst.kolinko@gmail.com>
Gesendet:=09Mo 14.05.2012 15:00
Betreff:=09Re: Manager activeSessions and customized error page
An:=09Tomcat Users List <users@tomcat.apache.org>;=20
> 2012/5/14 Thomas Rohde <tro@ordix.de>:
> > Hi!
> >
> > I configured the Manager's maxActiveSessions attribute in context.xml. If the=20
> configured value is exceeded an IllegalStateException "createSession: Too many=20
> active sessions" is thrown in ManagerBase class. In our application we catch=20
> this exception around httpServletRequest.getSession(true) and redirect to an=20
> customized error page. Works!
> >
> > Now I activated form based authentication via securiy constraint in web.xml.=20
> If I try to open the web application with my browser by sending the first=20
> request, the response is empty (status 200 OK).
> >
> > Is there any way to map a static customized error page in this scenario=3F
> >
>=20
> It depends on where ErrorReportValve is in the request processing
> chain in your situation. There were several changes to that (read:
> fixes) in different Tomcat 7.0.x versions. You did not wrote which
> version you do use.

Sorry! I tested with 7.0.8.

>=20
> If it is reproducible in latest 7.0.27, feel free to create a bug
> report and attach a simple sample web application + steps to
> reproduce.
>=20
> It might be that it is already reproducible with the standard example
> app [1], but I have not tried.
>=20
> [1] http://localhost:8080/examples/jsp/security/protected/index.jsp

Now I tried with the standard example and 7.0.27. I get the default 500 error page. Would be great to have a possibiltiy to make a distinguish between this error and any other error.

>=20
> > If not: Is there any other approach to limit the number of sessions=3F
>=20
> I think it is possible with a Filter, Valve or with a SessionListener.
> It should be also be possible with a custom o.a.c.Manager.
> YMMV.

A Filter was my first approach. But the filter is invoked after authentication has taken place. And for authentication a session is needed. ;-)

A HttpSessionListener is invoked AFTER a session is created.

It seems that every approach has some ugly pitfalls. :(

>=20
> Best regards,
> Konstantin Kolinko
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20

Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234225-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 14:30:12 2012
Return-Path: <users-return-234225-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C2E09D90
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 14:30:12 +0000 (UTC)
Received: (qmail 40757 invoked by uid 500); 14 May 2012 14:30:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40542 invoked by uid 500); 14 May 2012 14:30:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40533 invoked by uid 99); 14 May 2012 14:30:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:30:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hassan.schroeder@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:30:02 +0000
Received: by werf3 with SMTP id f3so3293133wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 07:29:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=/o8TAsxTgyYsrtDH+1JoYXBasJisH4hOZ+xwhvU4tqo=;
        b=DpmUk3be++ShND7zQvmdknfL+z0OHEAEVyVmunmWXNaRXdcnYd3Fr/bbfW3Zk5dCum
         ouGOmGUlkaGGdIzBAWqmoWttPZcEegS4vn9mDnlQZafOBl/RmdsA66zbgGW3kv0V8ZGj
         qpl+xoA0RrYR7d/No8LzeMUm7MFEdPPztem5H9DN70pQuZg4d05TcyjgjU+x2s4p4Xlf
         WRS9yjOq2LQ2XKSzl1ZItYvumXnVcWFUTZs5eMfC5qe1+MWFL7hFazWOdWUKJSMkqE2w
         YOLdgUrZH84haM3kH0zcJiCMOVMui4Lw8OzX+kBcVO4Lh/P6cznfdcxA08ZJkN6fZ+6U
         ywJA==
MIME-Version: 1.0
Received: by 10.180.93.38 with SMTP id cr6mr20455378wib.16.1337005782644; Mon,
 14 May 2012 07:29:42 -0700 (PDT)
Received: by 10.216.168.81 with HTTP; Mon, 14 May 2012 07:29:42 -0700 (PDT)
In-Reply-To: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
Date: Mon, 14 May 2012 07:29:42 -0700
Message-ID: <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
Subject: Re: How to start a continuous java application in tomcat
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

On Mon, May 14, 2012 at 6:46 AM, Rishad Ali
<rishad.ali@turnkey-instruments.com> wrote:

> I have a java application which collects some data from sensors and
> stores in the database. This java application has to run continuously.
> On the other hand I have a web application which I am running on tomcat
> which collects the data from database and display it on the web.

They sound like 2 independent applications then, which should *run*
independently.

The fact that they're using the same DB, or sharing some classes, is
not really a good enough reason to mash them together, IMO.

-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234226-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 14:34:17 2012
Return-Path: <users-return-234226-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D748A9DAA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 14:34:17 +0000 (UTC)
Received: (qmail 60754 invoked by uid 500); 14 May 2012 14:34:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60676 invoked by uid 500); 14 May 2012 14:34:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60641 invoked by uid 99); 14 May 2012 14:34:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:34:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rishad.ali@turnkey-instruments.com designates 93.95.14.83 as permitted sender)
Received: from [93.95.14.83] (HELO engine01-20052-1.icritical.com) (93.95.14.83)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 May 2012 14:34:07 +0000
Received: (qmail 26852 invoked from network); 14 May 2012 14:33:47 -0000
Received: from localhost (127.0.0.1)
  by engine01-20052-1.icritical.com with SMTP; 14 May 2012 14:33:47 -0000
Received: (qmail 26791 invoked by uid 599); 14 May 2012 14:33:45 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: How to start a continuous java application in tomcat
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Mon, 14 May 2012 15:33:34 +0100
Message-ID: <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
In-Reply-To: <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to start a continuous java application in tomcat
Thread-Index: Ac0x3hiAIUjoNE/OQfulsv5aYVnx0gAACzog
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local> <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
From: "Rishad Ali" <rishad.ali@turnkey-instruments.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: by iCritical at engine01-20052-1.icritical.com

Hi Hassan,
I don't want to run mash them. I just want to run the java application.
On the local server it is working fine but when I try it in the
dedicated linux server it does not work.
Thank you

-----Original Message-----
From: Hassan Schroeder [mailto:hassan.schroeder@gmail.com]=20
Sent: 14 May 2012 15:30
To: Tomcat Users List
Subject: Re: How to start a continuous java application in tomcat

On Mon, May 14, 2012 at 6:46 AM, Rishad Ali
<rishad.ali@turnkey-instruments.com> wrote:

> I have a java application which collects some data from sensors and=20
> stores in the database. This java application has to run continuously.
> On the other hand I have a web application which I am running on=20
> tomcat which collects the data from database and display it on the
web.

They sound like 2 independent applications then, which should *run*
independently.

The fact that they're using the same DB, or sharing some classes, is not
really a good enough reason to mash them together, IMO.

--
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234227-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 14:41:35 2012
Return-Path: <users-return-234227-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C0F39DD0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 14:41:35 +0000 (UTC)
Received: (qmail 87759 invoked by uid 500); 14 May 2012 14:41:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87586 invoked by uid 500); 14 May 2012 14:41:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87577 invoked by uid 99); 14 May 2012 14:41:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:41:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hassan.schroeder@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 14:41:25 +0000
Received: by werf3 with SMTP id f3so3308534wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 07:41:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7brsT9E1+/KwS+me07J2+1ymkJ4GwkN0Cr+ymdk62c4=;
        b=lQoUXa7WtzuOsGnjs42Ddt44SAgB2vLscA8JHPL2HZQYsacRBZFvsrxdwso9pms9ep
         T7Hy6WpIQ6QjxuqULql0qaG8KR8qybNdPY+jyouEiTGTWGk4+SLlYhdNActeqCaXV61i
         AAtUM1I+o5cR2yZ42wPF5m6nZew2xaztRbcBabw2MwRpvXP+EIbphe7IGIMGm+urkuJM
         I7eZb3f8uqsComUtEyNa1SuRKok+bZ5qhk6xHhNHGlH5ItEFJZz1qync94E/AAATGVNw
         XJ+dCg/G0LwFdedvwlW+zBlhXF1R9zch4bKRpEPpe82r40FAtlezLkVnJUIvGXk//OPk
         ErOA==
MIME-Version: 1.0
Received: by 10.180.8.69 with SMTP id p5mr20585073wia.17.1337006465778; Mon,
 14 May 2012 07:41:05 -0700 (PDT)
Received: by 10.216.168.81 with HTTP; Mon, 14 May 2012 07:41:05 -0700 (PDT)
In-Reply-To: <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
	<CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
	<910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
Date: Mon, 14 May 2012 07:41:05 -0700
Message-ID: <CACmC4yCW0D3LNkvNF6apJTWZ1iXFtGiod_9p+8wv0qNcV1X45w@mail.gmail.com>
Subject: Re: How to start a continuous java application in tomcat
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

On Mon, May 14, 2012 at 7:33 AM, Rishad Ali
<rishad.ali@turnkey-instruments.com> wrote:

> I don't want to run mash them. I just want to run the java application.
> On the local server it is working fine but when I try it in the
> dedicated linux server it does not work.

WTF does "not work" mean?

This apparently has nothing to do with Tomcat, so you should look
for a more appropriate forum for your question, but asking for help
while providing zero actual information, e.g. "it does not work", will
assuredly not get you far.

Good luck,
-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234228-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 15:36:33 2012
Return-Path: <users-return-234228-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5388C82E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 15:36:33 +0000 (UTC)
Received: (qmail 61820 invoked by uid 500); 14 May 2012 15:36:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61734 invoked by uid 500); 14 May 2012 15:36:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61723 invoked by uid 99); 14 May 2012 15:36:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:36:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:36:22 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id 9rYA1j0010vyq2s5Frc1cm; Mon, 14 May 2012 15:36:01 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id 9rbz1j02n38FjT13Rrc1cy; Mon, 14 May 2012 15:36:01 +0000
Message-ID: <4FB1265E.1010405@christopherschultz.net>
Date: Mon, 14 May 2012 11:35:58 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
References: <4FAEE0AE.40701@poonam.org> <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
In-Reply-To: <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 5/12/12 6:24 PM, Konstantin Kolinko wrote:
> I remember seeing someone adding a few KBs of HTML comments into
> the error page, because that suppresses this behaviour of IE.

+1

Looks like 512 bytes of response is the magic number for MSIE 5 and
6[1]. Researching later versions like MSIE 9 is left asan exercise for
the reader.

[1] http://support.microsoft.com/kb/294807

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+xJl4ACgkQ9CaO5/Lv0PBrmQCfTJXdGwClcWNmk5DE1oWrlqsJ
n3sAnRSyL6jAYuFAdyCesg3ryL2gmpOf
=Lsr1
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234229-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 15:46:26 2012
Return-Path: <users-return-234229-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D407C85A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 15:46:26 +0000 (UTC)
Received: (qmail 95011 invoked by uid 500); 14 May 2012 15:46:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94955 invoked by uid 500); 14 May 2012 15:46:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94944 invoked by uid 99); 14 May 2012 15:46:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:46:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:46:16 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id 9n8u1j0081ei1Bg59rlwtg; Mon, 14 May 2012 15:45:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id 9rlw1j00M38FjT13krlwWV; Mon, 14 May 2012 15:45:56 +0000
Message-ID: <4FB128B3.1080706@christopherschultz.net>
Date: Mon, 14 May 2012 11:45:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com> <4FAC4083.1020709@ptc.com> <4FAC42D2.7070805@ptc.com>
In-Reply-To: <4FAC42D2.7070805@ptc.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andy,

On 5/10/12 6:36 PM, Andy Wang wrote:
> Direct to apache http: Transfer rate:          21925.90
> [Kbytes/sec] received
> 
> Through AJP: Transfer rate:          36732.95 [Kbytes/sec]
> received
> 
> Direct to tomcat http: Transfer rate:          30968.31
> [Kbytes/sec] received

Am I reading this right: httpd+AJP outperforms both direct-to-httpd
and direct-to-Tomcat? That seems like one of the following are true:

1. The laws of physics don't behave as we expect them to in this case,
and you should donate your rig to CERN.

2. Your data is so sensitive to some other external conditions that
this is a meaningless test.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+xKLIACgkQ9CaO5/Lv0PDBiACffaCipEkfYg2kEQrPEpeyvUfY
dQEAn0xoRq9LCdUVcI4FXBEEbHcWXpIq
=B/8N
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234230-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 15:58:36 2012
Return-Path: <users-return-234230-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D21D4C8B7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 15:58:36 +0000 (UTC)
Received: (qmail 29978 invoked by uid 500); 14 May 2012 15:58:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29783 invoked by uid 500); 14 May 2012 15:58:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29774 invoked by uid 99); 14 May 2012 15:58:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:58:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 15:58:27 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id 9rtN1j0090mv7h057ry7xc; Mon, 14 May 2012 15:58:07 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id 9ry61j01T38FjT13Xry7Ab; Mon, 14 May 2012 15:58:07 +0000
Message-ID: <4FB12B8D.1040604@christopherschultz.net>
Date: Mon, 14 May 2012 11:58:05 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: AW: Manager activeSessions and customized error page
References: <zarafa.4fb10c27.3297.640704993d7e6f90@zarafix.ordix.de>
In-Reply-To: <zarafa.4fb10c27.3297.640704993d7e6f90@zarafix.ordix.de>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Thomas,

On 5/14/12 9:44 AM, Thomas Rohde  wrote:
> A Filter was my first approach. But the filter is invoked after 
> authentication has taken place. And for authentication a session
> is needed. ;-)

Right: the form authenticator is in a Valve and Valves run before Filters.

> A HttpSessionListener is invoked AFTER a session is created.

Hrm.

> It seems that every approach has some ugly pitfalls. :(

Agreed. Perhaps a different exception type could be used? We are using
IllegalStateException but there's no particular reason a different
subclass of RuntimeException couldn't be used in this case: something
that could then be mapped in web.xml using <error-page>.

Since it would technically be a change to the API to throw something
other than IllegalStateException, you might get some push-back on a
solution like this.

Please file a bug in bugzilla and we'll hash it out over there.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+xK40ACgkQ9CaO5/Lv0PAC7QCfRZTH+jxiw97jNt3oAhyCTGsk
yqoAn2ztvQuphobb0VyINu89J9h3YBYg
=Dozm
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234231-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 16:06:02 2012
Return-Path: <users-return-234231-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1CDFC92A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 16:06:01 +0000 (UTC)
Received: (qmail 56308 invoked by uid 500); 14 May 2012 16:05:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56169 invoked by uid 500); 14 May 2012 16:05:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56158 invoked by uid 99); 14 May 2012 16:05:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 16:05:58 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awang@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 16:05:49 +0000
X-IronPort-AV: E=Sophos;i="4.75,586,1330923600"; 
   d="scan'208";a="114462436"
Received: from hq-ex3fe3.ptcnet.ptc.com ([132.253.201.67])
  by irp2.ptc.com with ESMTP; 14 May 2012 12:05:27 -0400
Received: from awang.ptcnet.ptc.com ([132.253.201.117]) by hq-ex3fe3.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 May 2012 12:05:26 -0400
Message-ID: <4FB12D46.7000006@ptc.com>
Date: Mon, 14 May 2012 11:05:26 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Slow downloads through mod_jk on Windows XP
References: <4FAAC4A6.5010001@christopherschultz.net> <4FAC1FFC.2060908@tmbsw.com> <4FAC4083.1020709@ptc.com> <4FAC42D2.7070805@ptc.com> <4FACE111.8030406@apache.org>
In-Reply-To: <4FACE111.8030406@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 14 May 2012 16:05:27.0045 (UTC) FILETIME=[608B9B50:01CD31EB]
X-Virus-Checked: Checked by ClamAV on apache.org

On 05/11/2012 04:51 AM, Mladen Turk wrote:
>
> I was following this tread and was hoping that someone will say:
> "Do not use workstation grade software for server applications"
> but no. XP (Win7 falls in the same category) has good network stack
> but focused on client applications.
> There is a good reason why MS charges extra $$ for server versions
> since they make sure your server application don't perform well on
> workstation software.
>
The problem is, we've seen the behaviour reported sporadically from 
customers on windows 2003 server.  The only case I've been able to find 
to reproduce it was this XP system.
>>
>> I'm not sure what to make of the customer reports of the slow downs 
>> but at this point, I'm going to have to ask them to use something 
>> like ab.exe to do the downloads instead of Internet Explorer (most of 
>> them use IE to do it). Maybe there's some stupidity
>> with IE.
>>
>
> IE tries to open several concurrent connection at once (RFC says that 
> number is max 3)
> I'm sure you can simulate that with 'ab -c 10 -k -n 10000 ...'
>
I'm not sure how this would be relevant though as the behavior is 
reproducible with a single connection to download a large file (no 
concurrenct connections to this site or any other site.
>
> There is nothing wrong with tomcat, mod_jk or httpd.
> It's just your use case.

I'm not convinced that there isn't something odd going on but for now 
I'll ignore it.  I may have a stupid use case, but we have had reports 
out in the field of what appear to be perfectly sane use cases that 
don't perform.  i just can't reproduce them.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234232-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 16:25:44 2012
Return-Path: <users-return-234232-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B4CD1CFAD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 16:25:44 +0000 (UTC)
Received: (qmail 12112 invoked by uid 500); 14 May 2012 16:25:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12045 invoked by uid 500); 14 May 2012 16:25:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12036 invoked by uid 99); 14 May 2012 16:25:41 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 16:25:41 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 16:25:41 +0000
Message-ID: <4FB13204.9060803@apache.org>
Date: Mon, 14 May 2012 17:25:40 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: AW: Manager activeSessions and customized error page
References: <zarafa.4fb10c27.3297.640704993d7e6f90@zarafix.ordix.de> <4FB12B8D.1040604@christopherschultz.net>
In-Reply-To: <4FB12B8D.1040604@christopherschultz.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 14/05/2012 16:58, Christopher Schultz wrote:
> Thomas,
> 
> On 5/14/12 9:44 AM, Thomas Rohde  wrote:
>> A Filter was my first approach. But the filter is invoked after 
>> authentication has taken place. And for authentication a session 
>> is needed. ;-)
> 
> Right: the form authenticator is in a Valve and Valves run before
> Filters.
> 
>> A HttpSessionListener is invoked AFTER a session is created.
> 
> Hrm.
> 
>> It seems that every approach has some ugly pitfalls. :(
> 
> Agreed. Perhaps a different exception type could be used? We are
> using IllegalStateException but there's no particular reason a
> different subclass of RuntimeException couldn't be used in this
> case: something that could then be mapped in web.xml using
> <error-page>.
> 
> Since it would technically be a change to the API to throw
> something other than IllegalStateException, you might get some
> push-back on a solution like this.

A change to a new sub-class of IllegalStateException shouldn't break
anything.

Mark

> 
> Please file a bug in bugzilla and we'll hash it out over there.
> 
> -chris
> 
> ---------------------------------------------------------------------
>
> 
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJPsTIDAAoJEBDAHFovYFnnjYEP/ibbVSvXy1T22zHo/ZPeDuOJ
p/AwNGgyafsv/FExSDFVTWiRJNPRpImaVmVnc9JzRj7DQJC1xjQzp0SsCYh9Gu58
ZGyz6U9psDZYbSW6cfNToVdbgJZWEdBXo5jb0s/kU1GHqfKx1ZzwrcKCHc2OAYZ+
XZvMNb29ouCPF7kVdFYyXZm/WVLrw5ZQ1KL60f65iIvZDaBrBCNgnhh7Fhxq2PU+
NzRwWiGWVAPWxk1VcBxZuJQz+qsRqp22FBkaEM8A7mDBTfbJvK+rszBqPNk/YGGq
MHRg5DysjTEWizfmRySSw9cSHtQfHq2cQxuxVMfgfMVt67BqeW+r7GB5kUNK/Dpt
fKTFw5AkmJDXYSE0tKOgVq1eECiybSP5co/DFrtnNmVQI/AXePrJ+G8lLdC9KYV/
UyjuT8jPl5JUTA6mKUafGCxL1RYDPFZ3KYpeu9mRDW4gMMmVIsp5xUPMZvPRyfBq
l6O3zjYGMNtFaedcOColeJuXQTvYqiizB2fPzzJdh10Mmb8G1PMlB0cHjhO3/j/F
kQ1W4aQxr4gipQWj0zTqrwZYTkndia0v4VqctbiYJmyHTKAeb6z/Ks9z9yya3vF9
TnvgG+Sf0KEP7zB01MI07UDXP/IdKIyeEhhqIJJ/U4ixSHtBui9MkjfMzjE3V6lw
SCucYHY0sZUFwRMg+Mp1
=b/Sy
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234233-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 17:12:05 2012
Return-Path: <users-return-234233-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D56DC330
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 17:12:05 +0000 (UTC)
Received: (qmail 33897 invoked by uid 500); 14 May 2012 17:12:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33845 invoked by uid 500); 14 May 2012 17:12:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33836 invoked by uid 99); 14 May 2012 17:12:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 17:12:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.218.179.23] (HELO srv.ordix.de) (212.218.179.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 17:11:54 +0000
Received: from emailix.ordix.de (emailix.ordix.de [192.168.7.99])
	by srv.ordix.de (Postfix) with ESMTP id 184C68AF
	for <users@tomcat.apache.org>; Mon, 14 May 2012 19:11:30 +0200 (CEST)
Received: by emailix.ordix.de (Postfix, from userid 96)
	id 40BBA9A31; Mon, 14 May 2012 19:11:34 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on emailix.ordix.de
X-Spam-Level: 
Received: from zarafix.ordix.de (zarafix.ordix.de [192.168.7.165])
	by emailix.ordix.de (Postfix) with SMTP id CF7879A0C
	for <users@tomcat.apache.org>; Mon, 14 May 2012 19:11:28 +0200 (CEST)
Subject: AW: Manager activeSessions and customized error page
From: =?windows-1252?Q?Thomas_Rohde_?= <tro@ordix.de>
To: =?windows-1252?Q?users=40tomcat.apache.org?= <users@tomcat.apache.org>
Date: Mon, 14 May 2012 19:11:28 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-Mailer: Zarafa 6.40.15-33766
Message-Id: <zarafa.4fb13cc0.6ca7.6d25cbca042ce235@zarafix.ordix.de>
X-Old-Spam-Status: No  -102.6 / 4.5  Tests= ALL_TRUSTED | BAYES_00 | TW_HH | TW_NV
	| T_RP_MATCHES_RCVD | USER_IN_WHITELIST

-----Urspr=FCngliche Nachricht-----
Von:=09Mark Thomas <markt@apache.org>
Gesendet:=09Mo 14.05.2012 18:25
Betreff:=09Re: AW: Manager activeSessions and customized error page
An:=09Tomcat Users List <users@tomcat.apache.org>;=20
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> On 14/05/2012 16:58, Christopher Schultz wrote:
> > Thomas,
> >=20
> > On 5/14/12 9:44 AM, Thomas Rohde  wrote:
> >> A Filter was my first approach. But the filter is invoked after=20
> >> authentication has taken place. And for authentication a session=20
> >> is needed. ;-)
> >=20
> > Right: the form authenticator is in a Valve and Valves run before
> > Filters.
> >=20
> >> A HttpSessionListener is invoked AFTER a session is created.
> >=20
> > Hrm.
> >=20
> >> It seems that every approach has some ugly pitfalls. :(
> >=20
> > Agreed. Perhaps a different exception type could be used=3F We are
> > using IllegalStateException but there's no particular reason a
> > different subclass of RuntimeException couldn't be used in this
> > case: something that could then be mapped in web.xml using
> > <error-page>.
> >=20
> > Since it would technically be a change to the API to throw
> > something other than IllegalStateException, you might get some
> > push-back on a solution like this.

There it is: https://issues.apache.org/bugzilla/show_bug.cgi=3Fid=3D53230

>=20
> A change to a new sub-class of IllegalStateException shouldn't break
> anything.
>=20
> Mark
>=20
> >=20
> > Please file a bug in bugzilla and we'll hash it out over there.
> >=20
> > -chris
> >=20
> > ---------------------------------------------------------------------
> >
> >=20
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (MingW32)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iQIcBAEBAgAGBQJPsTIDAAoJEBDAHFovYFnnjYEP/ibbVSvXy1T22zHo/ZPeDuOJ
> p/AwNGgyafsv/FExSDFVTWiRJNPRpImaVmVnc9JzRj7DQJC1xjQzp0SsCYh9Gu58
> ZGyz6U9psDZYbSW6cfNToVdbgJZWEdBXo5jb0s/kU1GHqfKx1ZzwrcKCHc2OAYZ+
> XZvMNb29ouCPF7kVdFYyXZm/WVLrw5ZQ1KL60f65iIvZDaBrBCNgnhh7Fhxq2PU+
> NzRwWiGWVAPWxk1VcBxZuJQz+qsRqp22FBkaEM8A7mDBTfbJvK+rszBqPNk/YGGq
> MHRg5DysjTEWizfmRySSw9cSHtQfHq2cQxuxVMfgfMVt67BqeW+r7GB5kUNK/Dpt
> fKTFw5AkmJDXYSE0tKOgVq1eECiybSP5co/DFrtnNmVQI/AXePrJ+G8lLdC9KYV/
> UyjuT8jPl5JUTA6mKUafGCxL1RYDPFZ3KYpeu9mRDW4gMMmVIsp5xUPMZvPRyfBq
> l6O3zjYGMNtFaedcOColeJuXQTvYqiizB2fPzzJdh10Mmb8G1PMlB0cHjhO3/j/F
> kQ1W4aQxr4gipQWj0zTqrwZYTkndia0v4VqctbiYJmyHTKAeb6z/Ks9z9yya3vF9
> TnvgG+Sf0KEP7zB01MI07UDXP/IdKIyeEhhqIJJ/U4ixSHtBui9MkjfMzjE3V6lw
> SCucYHY0sZUFwRMg+Mp1
> =3Db/Sy
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234234-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 18:48:30 2012
Return-Path: <users-return-234234-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B06CCA2A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 18:48:30 +0000 (UTC)
Received: (qmail 37248 invoked by uid 500); 14 May 2012 18:48:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37199 invoked by uid 500); 14 May 2012 18:48:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37190 invoked by uid 99); 14 May 2012 18:48:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 18:48:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 18:48:19 +0000
Received: by eaak12 with SMTP id k12so2626471eaa.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 11:47:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=4GA+KPFxbh3ZOMzDlNY2zW8gkOyRT7kcvpIV/rZ/DKo=;
        b=SxeXacT9F9oBhDoEF426BxeGYzZQuOulIvvQFRSIyuIUIMtD6Dqo3DdckcoeUGmLbn
         DSBv8RoES9Dgt3lKWhLTRFpxuVEPrsaNx0vnc6hMu/ft5csUARaBmLyiyIr241yI6lNq
         7HtrTwB1oiyFogoDVxVQ5WrdXOyzWkGZO/UIo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=4GA+KPFxbh3ZOMzDlNY2zW8gkOyRT7kcvpIV/rZ/DKo=;
        b=jH4U6mx+bJLcYdGBHrQM/Qah3MO+HhKZPkbSQkY3npTQ7jTAMVRM+ufx8EApEgqln3
         bbMQ+En8ll4vJ5Aj0OIEpb08VxaJNZeAtnkP8V2nu+Iy3O5hBKExskm4qNpPI4LwjKwA
         6zWcnhdgC1rptuHqSlBKZbsqyyEDjcp4a6TZTSr/HbqU6auDBm/80tvUyhDptst0A3AA
         92jY8xefBKx0H86cFbbuWf7M0AK3sePEBTs6Hgom/UGX0ydSlYS2te0vUJA9ypUjozYJ
         VNhDY22Yijz3PV3HlwW/dnZxfU5Bg4SK29UcS/k5WiaaL98LfkZow315nnJi3HADwvm+
         RJAw==
Received: by 10.14.187.4 with SMTP id x4mr1767081eem.14.1337021278708;
        Mon, 14 May 2012 11:47:58 -0700 (PDT)
Received: from Asura.local ([82.153.83.237])
        by mx.google.com with ESMTPS id q53sm17954521eef.8.2012.05.14.11.47.55
        (version=SSLv3 cipher=OTHER);
        Mon, 14 May 2012 11:47:56 -0700 (PDT)
Message-ID: <4FB15366.1090104@pidster.com>
Date: Mon, 14 May 2012 19:48:06 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to start a continuous java application in tomcat
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local> <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com> <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local> <CACmC4yCW0D3LNkvNF6apJTWZ1iXFtGiod_9p+8wv0qNcV1X45w@mail.gmail.com>
In-Reply-To: <CACmC4yCW0D3LNkvNF6apJTWZ1iXFtGiod_9p+8wv0qNcV1X45w@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig1580BE9DD8155D46E2F556F2"
X-Gm-Message-State: ALoCoQkYY5SHCl3NV1yUjenutEvotvSrLHh2iYEXKOq+Tg6Pj54HSmwVf7NY6ZdieX/d1H4wtWxf

--------------enig1580BE9DD8155D46E2F556F2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 14/05/2012 15:41, Hassan Schroeder wrote:
> On Mon, May 14, 2012 at 7:33 AM, Rishad Ali
> <rishad.ali@turnkey-instruments.com> wrote:
>=20
>> I don't want to run mash them. I just want to run the java application=
=2E
>> On the local server it is working fine but when I try it in the
>> dedicated linux server it does not work.
>=20
> WTF does "not work" mean?
>=20
> This apparently has nothing to do with Tomcat, so you should look
> for a more appropriate forum for your question, but asking for help
> while providing zero actual information, e.g. "it does not work", will
> assuredly not get you far.

=2EoO( another chance to post the smart questions link )


p

--=20

[key:62590808]


--------------enig1580BE9DD8155D46E2F556F2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPsVNpAAoJEGoM2OGpOvr9t+EP/1l7amTWandYBdafzlEEcm/S
W4M2QLgSwpv28nDxHPJmcyFCeZjJLjsSpUmkmxqTZkVYGUIjIIAiG6WQMUkmyj4m
8aPoBiLe84H/UiNhjtXR4FdBghuK/irNKipXr/94FGLysr9MC2naqb5nhWBdmnI4
Von6mwLmVxSsU6d9PVV+kOQYUIag4/nFZheypnQePfh46IY39Almv282IzUebDQt
syQE/xBGJb+0zX9eClFGkCPJwiSpmzCwd91HHQzJpDU5OuLKszlFw7NHEl61uMmF
admo0ZjD7JFc9/pCbXr2Giz2ivvOZgluRNUHwOLioBZtvHwgl4joVLfK1Dqs5g8h
Hq7bK2/uNvVRBw2GihClUxL8r/IY6TiYTYKB3zdy7G6K0lXVj0HHEwbKTx2lTB4J
it8H4ScjR6nM9IEEHqJNGBSFM6AQVe+S3e/iu2Pxlu5C0N8EOjxepr1OOZZXHIoz
MLtfX20hvQl8FRGUAIFdNCFWDdzpUKGbOBEKBcvKV/WzdVdi20t95KM7H1NOz4v8
oQm769lCQMz2HpqnsqoTS7qKrJD6Yfl24IMw2TUUI6bFCtNI/HoZsiNztND9PAQ6
syDPtB7DECFX/9noC5nibdF/yn4rVAy/9XAoaRvgLF/ejndOFM9b3Xe0VJZz0O4g
1b6Yn+mzoOKEsZfY+yEJ
=8ka3
-----END PGP SIGNATURE-----

--------------enig1580BE9DD8155D46E2F556F2--

From users-return-234235-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 19:02:50 2012
Return-Path: <users-return-234235-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B4CCCA7C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 19:02:50 +0000 (UTC)
Received: (qmail 80255 invoked by uid 500); 14 May 2012 19:02:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80201 invoked by uid 500); 14 May 2012 19:02:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80192 invoked by uid 99); 14 May 2012 19:02:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:02:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hassan.schroeder@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:02:42 +0000
Received: by wgbdr1 with SMTP id dr1so4395085wgb.0
        for <users@tomcat.apache.org>; Mon, 14 May 2012 12:02:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EzAJm0Qsfr27ki5+msiPvt201PXX9xk6n5pAPBnDkdM=;
        b=wanZbEe56tdsx6UILowePkDarNtzQvCtRQps/o11lQMepDOC8+/2T45XM+SyQeujhB
         iv9/ELDavygTQ2fnIX15h5BY8+zmYuZ3eZjQTfPiZtc4xU5LE9Scg/uwiDcgUVc8uSKx
         +3emB01wVHiPzsu2R1/60pTLAv4mjDmkgFwLRBHIwjGqD09YJROd2Wz/TSjN3AHRQgjy
         WFuqWi2ZdeXP42vktLmq6m+qwsx0sWSx5ntAha1xn49jxSDMGJMUquBvUTeDZCcv0zuU
         45adenvF3JwtrK8s67vnAPgA+DAvc/zOQxlWOSVqiLPDwxuVpM3sjj0jNRslLSikuJag
         KGMQ==
MIME-Version: 1.0
Received: by 10.180.106.9 with SMTP id gq9mr764957wib.17.1337022141446; Mon,
 14 May 2012 12:02:21 -0700 (PDT)
Received: by 10.216.168.81 with HTTP; Mon, 14 May 2012 12:02:21 -0700 (PDT)
In-Reply-To: <4FB15366.1090104@pidster.com>
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
	<CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
	<910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
	<CACmC4yCW0D3LNkvNF6apJTWZ1iXFtGiod_9p+8wv0qNcV1X45w@mail.gmail.com>
	<4FB15366.1090104@pidster.com>
Date: Mon, 14 May 2012 12:02:21 -0700
Message-ID: <CACmC4yBtOwfhk8p6DO2K1EAaO84VXvWkSSun+JGk9KJc5rn-KA@mail.gmail.com>
Subject: Re: How to start a continuous java application in tomcat
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, May 14, 2012 at 11:48 AM, Pid <pid@pidster.com> wrote:

> .oO( another chance to post the smart questions link )

Now that mail clients are smart enough e.g. to prompt the user if the
message contains the word "attachment" but nothing is attached,
maybe we should lobby for a check against (variants of) the phrase
"does not work" that raises a "Have you read this?" prompt with the
<http://www.catb.org/~esr/faqs/smart-questions.html> link...   :-)

-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234236-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 19:21:16 2012
Return-Path: <users-return-234236-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 74ACCCAEA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 19:21:16 +0000 (UTC)
Received: (qmail 54026 invoked by uid 500); 14 May 2012 19:21:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53973 invoked by uid 500); 14 May 2012 19:21:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53964 invoked by uid 99); 14 May 2012 19:21:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:21:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of peter.zola.work@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:21:06 +0000
Received: by werf3 with SMTP id f3so3571259wer.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 12:20:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ETd+J4dJg0SYh/HJez7FEpgg/rrHdMe4V6pmBeAWcTQ=;
        b=Xxbo+ilmWlnn9QTOqv3IeSvrPniMJBuDrfTrqba9aXgfzG6YRJQpcz+gQtNrlK9Tr1
         clHA15sdE+AC53ZSGzGJcHwdWivMV6ruJzBWxvrvMuTKth92B3CLmWffAtoI0Lm2E9nO
         kwg6fArXtijSHkVmuLx+gmuISQx7+VMOFNsWdfzpaaFHZjnthPzAVyc9PTILha/GariX
         H/CEojKAxeSiwkNzH7eSvJpYkkgV9+bh2X42lL8k8g0FbDBxtPYzLxu9PFSDAl5HcFjn
         J6ULQmW9Op355z+y0/4OfranB+UCY2wmUy659mx+JMYdtqazuhAhmTRVoXt+3R07E1w4
         2kTQ==
MIME-Version: 1.0
Received: by 10.180.24.39 with SMTP id r7mr22785961wif.9.1337023245677; Mon,
 14 May 2012 12:20:45 -0700 (PDT)
Received: by 10.194.46.167 with HTTP; Mon, 14 May 2012 12:20:45 -0700 (PDT)
Date: Mon, 14 May 2012 15:20:45 -0400
Message-ID: <CAHyoVujA3Hx9=zymGDyKZgvP2=02ex81j8ot8E6U241Vp-kQsw@mail.gmail.com>
Subject: Tomcat - Slowloris
From: Peter Zola <peter.zola.work@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d043c80749d75e604c003fb5a
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043c80749d75e604c003fb5a
Content-Type: text/plain; charset=ISO-8859-1

1. Is Apache Tomcat version 7.0.27 (or any version) susceptible to
Slowloris (Dos) attack?
2. If tomcat is susceptible to Slowloris, how to fix it.

Thanks.

--f46d043c80749d75e604c003fb5a--

From users-return-234237-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 19:32:32 2012
Return-Path: <users-return-234237-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 882D0993B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 19:32:32 +0000 (UTC)
Received: (qmail 1064 invoked by uid 500); 14 May 2012 19:32:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 998 invoked by uid 500); 14 May 2012 19:32:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 988 invoked by uid 99); 14 May 2012 19:32:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:32:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 19:32:22 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id 9vWZ1j0041HzFnQ53vY2EP; Mon, 14 May 2012 19:32:02 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id 9vY11j00o38FjT13avY15E; Mon, 14 May 2012 19:32:02 +0000
Message-ID: <4FB15DB0.4010402@christopherschultz.net>
Date: Mon, 14 May 2012 15:32:00 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Peter Zola <peter.zola.work@gmail.com>
Subject: Re: Tomcat - Slowloris
References: <CAHyoVujA3Hx9=zymGDyKZgvP2=02ex81j8ot8E6U241Vp-kQsw@mail.gmail.com>
In-Reply-To: <CAHyoVujA3Hx9=zymGDyKZgvP2=02ex81j8ot8E6U241Vp-kQsw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Peter,

On 5/14/12 3:20 PM, Peter Zola wrote:
> 1. Is Apache Tomcat version 7.0.27 (or any version) susceptible to 
> Slowloris (Dos) attack? 2. If tomcat is susceptible to Slowloris,
> how to fix it.

I believe all web servers are vulnerable to Slowloris attack. The best
you can do is mitigate the attack -- you can't actually prevent it
because it's hard to tell the difference between an attacking client
and a legitimate client with a really slow connection.

You ought to be able to mitigate a lot of these types of attacks using
QoS and per-client-IP-limits which are typically configured entirely
independently of a web server (although httpd specifically -- and I'm
sure others, too -- has modules that can help you do these kinds of
things). Look at what your firewall or load-balancer can do for you in
this area.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+xXbAACgkQ9CaO5/Lv0PCACwCfTUD5ES4mvuYzxe7rCXZEjxL4
1xwAmwZVP1W72CTpM2g9rR2ft5I/L8ad
=rm1w
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234238-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 20:08:59 2012
Return-Path: <users-return-234238-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71D5C9A14
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 20:08:59 +0000 (UTC)
Received: (qmail 24858 invoked by uid 500); 14 May 2012 20:08:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24729 invoked by uid 500); 14 May 2012 20:08:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24720 invoked by uid 99); 14 May 2012 20:08:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 20:08:56 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vtmckoy@hotmail.com designates 65.55.111.80 as permitted sender)
Received: from [65.55.111.80] (HELO blu0-omc2-s5.blu0.hotmail.com) (65.55.111.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 20:08:48 +0000
Received: from BLU162-W15 ([65.55.111.73]) by blu0-omc2-s5.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 May 2012 13:08:27 -0700
Message-ID: <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_c598f746-cad4-4f53-ba10-4e8ba5993af4_"
X-Originating-IP: [173.62.175.111]
From: Vickie Troy-McKoy <vtmckoy@hotmail.com>
To: <users@tomcat.apache.org>
Subject: RE: Multiple tomcat Instances on Same Server and One Apache Instance
Date: Mon, 14 May 2012 16:08:27 -0400
Importance: Normal
In-Reply-To: <4FB0C433.4060008@ice-sa.com>
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>
 <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>
 <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 14 May 2012 20:08:27.0565 (UTC) FILETIME=[533665D0:01CD320D]

--_c598f746-cad4-4f53-ba10-4e8ba5993af4_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


=20
> Date: Mon=2C 14 May 2012 10:37:07 +0200
> From: aw@ice-sa.com
> To: users@tomcat.apache.org
> Subject: Re: Multiple tomcat Instances on Same Server and One Apache Inst=
ance
>=20
> Pid * wrote:
> > On 13 May 2012=2C at 20:33=2C "Andr=E9 Warnier" <aw@ice-sa.com> wrote:
> >=20
> >> Pid wrote:
> >>> On 11/05/2012 18:53=2C Vickie Troy-McKoy wrote:
> >>>> Hi=2C I am in need of a little help.
> >>>> I have 2 tomcat instances running on the same machine and one apache=
 instance running on a different machine.  I configured jk_mod to access th=
e 1st tomcat instance.  Now=2C I have a second tomcat instance running on t=
he same server as the 1st instance.  I would like to access both tomcat ins=
tances via the one apache webserver instance.  Because some requests are re=
ferenced by the same name=2C there is a conflict.
> >>>> On the tomcat server in server.xml=2C one instance is running on por=
t 8009 and the 2nd instance (in another directory structure) is running on =
7009.
> >>>>
> >>>> On the apache server in httpd.conf=2C I have the following:
> >>>>
> >>>> Listen 80
> >>>> .
> >>>> .
> >>>> .
> >>>> LoadModule jk_module modules/mod_jk.so
> >>>>
> >>>> #
> >>>> JkWorkersFile conf/workers.properties
> >>>> JkMount /abc* instance1
> >>>> JkMount /xyz* instance2
> >>>>
> >>>> In workers.properties=2C I have the following:
> >>>>
> >>>> worker.list=3Dinstance1=2C instance2
> >>>> #
> >>>> worker.instance1.port=3D8009
> >>>> worker.instance1.host=3Dserver.xxxx.com
> >>>> worker.instance1.type=3Dajp13
> >>>> worker.instance1.lbfactor=3D1
> >>>> worker.instance1.socket_keepalive=3D1
> >>>> #
> >>>> worker.instance2.port=3D7009
> >>>> worker.instance2.host=3Dserver.xxxx.com
> >>>> worker.instance2.type=3Dajp13
> >>>> worker.instance2.lbfactor=3D1
> >>>> worker.instance2.socket_keepalive=3D1
> >>>>
> >>>> When I call abc*=2C it goes to instance1=3B and when I call xyz*=2C =
it goes to instance2.  However=2C both instances have apps that start with =
"tsa".  How do I configure the apache webserver to service the "tsa" app fo=
r both tomcat instances?
> >>> configure a load balancer (worker) that uses the (other) two workers=
=2C in addition to the
> >>> two workers=2C and add it to the worker list.
> >> I think that rather than be added to the workers list=2C the load-bala=
ncer worker must be the only one in the list.  You then tell the balancer t=
o balance the two other workers.
> >=20
> > Then the two individual apps won't work=2C as they're not present on bo=
th servers.
>=20
> Oh. I did not read the OP's requirements carefully enough.  Apologies=2C =
your instructions=20
> were correct for the OP.
---------------------------------------------------=20

Thank you all for your suggestions.  I tried configuring a load balancer wo=
rker=3B however=2C  I'm getting HTTP 500 messages--Internal Server Error.  =
I reviewed the reference page=3B however=2C apparently=2C I'm missing somet=
hing.  Also in the mod_jk.log=2C there's an error stating:   "Could not fin=
d worker with name 'instance2' in uri map post processing".  Any ideas?  Th=
ank you...

On the apache server in httpd.conf=2C I changed the JKMount statements beca=
use I wanted to access all content.

 Listen 80
 .
 .
 .
 LoadModule jk_module modules/mod_jk.so

 #
 JkWorkersFile conf/workers.properties
 JkMount /* instance1
 JkMount /* instance2

 In workers.properties=2C added the load balancer information=3B it reflect=
s the following:

 worker.balance1.type=3Dlb
 worker.balance1.balance_workers=3Dinstance1=2C instance2
 #
 worker.instance1.port=3D8009
 worker.instance1.host=3Dserver.xxxx.com
 worker.instance1.type=3Dajp13
 =20
 #
 worker.instance2.port=3D7009
 worker.instance2.host=3Dserver.xxxx.com
 worker.instance2.type=3Dajp13


On the tomcat server (which is the same server)=2C I added the jvmRoute set=
ting in server.xml.  For instance one=2C I added:

     <Engine name=3D"Catalina" defaultHost=3D"localhost" jvmRoute=3D"instan=
ce1">

For instance two=2C I added:   <Engine name=3D"Catalina" defaultHost=3D"loc=
alhost" jvmRoute=3D"instance2">
 		 	   		  =

--_c598f746-cad4-4f53-ba10-4e8ba5993af4_--

From users-return-234239-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 22:46:00 2012
Return-Path: <users-return-234239-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C7FAECF64
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 22:46:00 +0000 (UTC)
Received: (qmail 8380 invoked by uid 500); 14 May 2012 22:45:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8333 invoked by uid 500); 14 May 2012 22:45:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8317 invoked by uid 99); 14 May 2012 22:45:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 22:45:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 22:45:49 +0000
Received: from [192.168.245.129] (p549E0C8B.dip0.t-ipconnect.de [84.158.12.139])
	by tor.combios.es (Postfix) with ESMTPA id 4A11CDA069A
	for <users@tomcat.apache.org>; Tue, 15 May 2012 00:45:26 +0200 (CEST)
Message-ID: <4FB18AFD.7050502@ice-sa.com>
Date: Tue, 15 May 2012 00:45:17 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to start a continuous java application in tomcat
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local> <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com> <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
In-Reply-To: <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Rishad Ali wrote:
> Hi Hassan,
> I don't want to run mash them. I just want to run the java application.
> On the local server it is working fine but when I try it in the
> dedicated linux server it does not work.
> Thank you
> 
Ali,
you have not so far provided much information that would enable anyone to help you.
I do not have Pid's crystal ball and he does not grant licenses yet for the usage of 
InternetTelepathy[TM]. But I am either of a more charitable and forgiving nature than 
other people on this list, or else just more rabidly curious, so I will try to pry the 
information out of you.

As I understand it so far :
- you have created a stand-alone Java program, which works well and uses a database to 
store some information
- you also try to create a (separate) Tomcat webapp which should access the same database 
information and display it to a user
- to make it easier to create that webapp, you have
     - packed together your stand-alone program's classes, in a jar-file
     - tried to install that jar-file somewhere along with your webapp, under Tomcat, so 
that your webapp would have access to those classes
- but for some reason, your webapp does not find the classes contained in that jar-file

and that is what you mean when you say "it does not work". (*)

Is that a good summary of your problem ?

If yes, then you should :
- let us know which version of Tomcat you are using, under which Java JVM version, on 
which OS platform
- find out what is the "catalina base" of your Tomcat (you can see all that by executing 
the "version.sh" or "version.bat" script that is in <tomcat_install_directory>/bin/). Copy 
and paste the output here.
- let us know where, relative to that catalina_base, your webapp is installed
- let us know where, relative to that cataline_base, you have installed that jar-file
- show us what appears in the Tomcat logs, which shows that your webapp "is not working" 
(*) (copy the relevant log lines here).

(You should provide this information anyway, even if my effort above is not a good 
description of your problem.  And also correct my summary then.)

Note # 1 : copy-and-paste the requested information inside your response. Do not send it 
as attachments, because this list strips most attachments.
Note # 2 : for even more sympathy from the list than what you got so far, do not 
"top-post".  Write your answers *below* the relevant questions, not all on top of your 
message. (Just so that questions and answers can be read logically and naturally, without 
having to scroll up and down to understand what is relevant to what.)



(*) no popup dialog there yet. it does not work; my app doesn't work; its not working;
Nope, nothing.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234240-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 23:18:45 2012
Return-Path: <users-return-234240-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 74A8B90DE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 23:18:45 +0000 (UTC)
Received: (qmail 82441 invoked by uid 500); 14 May 2012 23:18:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82395 invoked by uid 500); 14 May 2012 23:18:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82386 invoked by uid 99); 14 May 2012 23:18:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:18:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:18:34 +0000
Received: from [192.168.245.129] (p549E0C8B.dip0.t-ipconnect.de [84.158.12.139])
	by tor.combios.es (Postfix) with ESMTPA id C6AE0DA06A4
	for <users@tomcat.apache.org>; Tue, 15 May 2012 01:18:11 +0200 (CEST)
Message-ID: <4FB192AE.50905@ice-sa.com>
Date: Tue, 15 May 2012 01:18:06 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>
In-Reply-To: <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Apologies, I probably confused you too. See below.

Vickie Troy-McKoy wrote:
...

>>>>>>
>>>>>> When I call abc*, it goes to instance1; and when I call xyz*, it goes to instance2.  However, both instances have apps that start with "tsa".  How do I configure the apache webserver to service the "tsa" app for both tomcat instances?
>>>>> configure a load balancer (worker) that uses the (other) two workers, in addition to the
>>>>> two workers, and add it to the worker list.
>>>> I think that rather than be added to the workers list, the load-balancer worker must be the only one in the list.  You then tell the balancer to balance the two other workers.
>>> Then the two individual apps won't work, as they're not present on both servers.
>> Oh. I did not read the OP's requirements carefully enough.  Apologies, your instructions 
>> were correct for the OP.
> --------------------------------------------------- 
> 
> Thank you all for your suggestions.  I tried configuring a load balancer worker; however,  I'm getting HTTP 500 messages--Internal Server Error.  I reviewed the reference page; however, apparently, I'm missing something.  Also in the mod_jk.log, there's an error stating:   "Could not find worker with name 'instance2' in uri map post processing".  Any ideas?  Thank you...
> 
> On the apache server in httpd.conf, I changed the JKMount statements because I wanted to access all content.
> 
>  Listen 80
>  .
>  .
>  .
>  LoadModule jk_module modules/mod_jk.so
> 
>  #
>  JkWorkersFile conf/workers.properties
>  JkMount /* instance1
>  JkMount /* instance2

That is probably not what you want (and the one contradicts the other).
You should probably have instead :

# forward "/abc*" requests to Tomcat "instance1" only
JkMount /abc instance1
JkMount /abc* instance1

# forward "/xyz*" requests to Tomcat "instance2" only
JkMount /xyz instance2
JkMount /xyz* instance2

# forward "/tsa*" requests to either Tomcat, as selected by the balancer worker
JkMount /tsa balance1
JkMount /tsa* balance1

Note: if you really want to forward everything to Tomcat, and it doesn't matter which 
Tomcat, and you want to let the balancer decide when to forward any request to either 
Tomcat-1 or Tomcat-2, then just use the single line :
JkMount /* balance1




> 
>  In workers.properties, added the load balancer information; it reflects the following:
>
You seem to be missing :

workers.list=instance1,instance2,balance1

(as per Pid's earlier instructions, not as per my erroneous comment)

>  worker.balance1.type=lb
>  worker.balance1.balance_workers=instance1, instance2  <-- mod_jk may not like the space after comma
>  #
>  worker.instance1.port=8009
>  worker.instance1.host=server.xxxx.com
>  worker.instance1.type=ajp13
>   
>  #
>  worker.instance2.port=7009
>  worker.instance2.host=server.xxxx.com
>  worker.instance2.type=ajp13
> 
> 
> On the tomcat server (which is the same server), I added the jvmRoute setting in server.xml.  For instance one, I added:
> 
>      <Engine name="Catalina" defaultHost="localhost" jvmRoute="instance1">
> 
> For instance two, I added:   <Engine name="Catalina" defaultHost="localhost" jvmRoute="instance2">
>  		 	   		  


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234241-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 23:38:59 2012
Return-Path: <users-return-234241-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 047CD9024
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 23:38:59 +0000 (UTC)
Received: (qmail 31640 invoked by uid 500); 14 May 2012 23:38:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31576 invoked by uid 500); 14 May 2012 23:38:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31567 invoked by uid 99); 14 May 2012 23:38:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:38:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:38:49 +0000
Received: by qcsc20 with SMTP id c20so4961301qcs.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 16:38:28 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=xr6ATMaNcKYOtiAYVKSeFLqj3W8NwgMqBPeDDOPQ8dA=;
        b=GaS1FCNlxv36hYb4yGwAgDtCbpkU4JumOg0RaNpkVUs94X2SWrGL8sEb/Oaq9xAwH0
         NpQ47cjOFqwC16oa8CHLuqsJT6+WKNWmPeAejRe8ZggLVZQ8LxxHcR370L+Qn2uzXzRJ
         DsOAPaxo+fA3kNX1MHczYyKSSunWmiRDI06ThfCxSZaIOQv1Lo2OK8ItnYX5s/+vdJfy
         wuUIIfUZC2StCWvyK/kx9eBYQpy7y53+LmIQhvDKyiz0kSpevX6PDcqpJzvRfkWAVbtM
         8gloxO9jpagwFzHRTtsWwsTn2fXo/j9GmNg0JkY+7KI95DnPtdm1og/6IvJR/C0KRLO8
         gYUA==
Received: by 10.229.137.147 with SMTP id w19mr4904134qct.132.1337038708460;
        Mon, 14 May 2012 16:38:28 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id bs9sm42287589qab.2.2012.05.14.16.38.26
        (version=SSLv3 cipher=OTHER);
        Mon, 14 May 2012 16:38:27 -0700 (PDT)
Message-ID: <4FB19772.3010707@poonam.org>
Date: Tue, 15 May 2012 05:08:26 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: IE 9 ignoring my custom error pages with 404 codes
References: <4FAEE0AE.40701@poonam.org> <CABzHfV=5frykipyCH1Lv1GrJzLuaG3C=Rga+-dtFtTy81qpZ+Q@mail.gmail.com> <4FB1265E.1010405@christopherschultz.net>
In-Reply-To: <4FB1265E.1010405@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQm33AaFk/dRyHUS7dGxhETxDD70xUYkQhaKog8tW9KO4UTK/oXPg/PAbjSbYyREN3M80ezp
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks everyone, I added lot of comments and now my custom error page is 
close to 1kb and this resolved my issue.

Now I am battling another weird issue,maybe again I need help of 
community till I come to some speed.

On 5/14/2012 9:05 PM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Konstantin,
>
> On 5/12/12 6:24 PM, Konstantin Kolinko wrote:
>> I remember seeing someone adding a few KBs of HTML comments into
>> the error page, because that suppresses this behaviour of IE.
> +1
>
> Looks like 512 bytes of response is the magic number for MSIE 5 and
> 6[1]. Researching later versions like MSIE 9 is left asan exercise for
> the reader.
>
> [1] http://support.microsoft.com/kb/294807
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+xJl4ACgkQ9CaO5/Lv0PBrmQCfTJXdGwClcWNmk5DE1oWrlqsJ
> n3sAnRSyL6jAYuFAdyCesg3ryL2gmpOf
> =Lsr1
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234242-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 14 23:57:54 2012
Return-Path: <users-return-234242-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F8A69091
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 14 May 2012 23:57:54 +0000 (UTC)
Received: (qmail 71757 invoked by uid 500); 14 May 2012 23:57:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71676 invoked by uid 500); 14 May 2012 23:57:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71666 invoked by uid 99); 14 May 2012 23:57:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:57:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 May 2012 23:57:43 +0000
Received: by qcsc20 with SMTP id c20so4969341qcs.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 16:57:22 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding:x-gm-message-state;
        bh=5hNSF/1Q0YmE6JlaCTZW/maUFKoPljsdo5Yf7TLGc4A=;
        b=GaAYInAG36zx8/Sb9G/2bpbzivM4ou7IL1xwJMh7l5zH78/88MPWb6xcLD+gCZXfMg
         tKKv14zvGVZhRuHXY8YX/pmD/7XrlCvhGtOdhnYjHsYQbrid1D2KEfx4ktMOfSymM4pW
         kj7lXkdj1PCVwGZGhVgd7HWyINwJpSB+Db5I5NfE62hGcg7uKy807S7QY4QwITvcg3pP
         9AxS30THpOcXRTE0bI8x0dMcp+HrNMhxI4txEudqnMAtnm//jj/NZBZIWbfvSeKMZ1u2
         9iF2GVAa7i6xcWCXFMdDfazZMRNrb7WqJESDPyXok5Mk7Bug4yxVnhvrRH4ZXg3YGP+Y
         HLmw==
Received: by 10.224.18.195 with SMTP id x3mr16087916qaa.60.1337039842093;
        Mon, 14 May 2012 16:57:22 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id ch15sm42367597qab.18.2012.05.14.16.57.20
        (version=SSLv3 cipher=OTHER);
        Mon, 14 May 2012 16:57:21 -0700 (PDT)
Message-ID: <4FB19BDF.6060205@poonam.org>
Date: Tue, 15 May 2012 05:27:19 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Links not resolving to their correct path in TC 7.0.27
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQnwcflHrKzC2xF3mnQLkQZedI6FcDVmt/j9kuoZcrDcLGeLa2+wOlhOX7Nusd0PHFSeDNNQ

Hi,

I have installed tomcat 7.0.27 on Windows Home premium 32 bit system 
with JDK 1.6.32. The tomcat is running successfully as service.I can 
access the home page of tomcat along with manager application.

I deployed my application war file via manager application.The war file 
was pulled from netbeans dist folder.

Now when I access my this application via IE,I do below steps,

1. I open this http://localhost:8082/xxx/index.jsp in IE. it works fine, 
In index page I have several links, for example testservice.jsp

2. so when I click on testservice link, it looks like 
http://localhost:8082/xxx/testservice.jsp in address bar and page opens 
fine in IE.No issues in IE.

Now the real problem comes when I try to repeat the steps in Firefox and 
chrome,

Step 1 works fine,no issues everything works as expected and index page 
comes up,but when it comes to step 2, the address changes to

http://localhost:8080/xxx/testservice.jsp .

now I am not sure as why FF /Chrome are not sticking to the same ports 
as IE.

I have 8080 tied up with netbean and it has Tomcat 7.0.11 but its not 
running as service.

Also I have static custom error page 404 which resolves correctly in 
7.0.27 in all three browsers.

Can some one tell me what that I am missing now ?

PS: This is how I have links in index page,

<li><a href='testservice.jsp'>testservice</a></li>


and all jsp resides in web pages folder.I know this gives direct access 
to JSP and is bad practice,but thats the seperate task to do in my list.

- Kiran





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234243-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 01:55:02 2012
Return-Path: <users-return-234243-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A6F0C718
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 01:55:02 +0000 (UTC)
Received: (qmail 86029 invoked by uid 500); 15 May 2012 01:54:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85961 invoked by uid 500); 15 May 2012 01:54:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85948 invoked by uid 99); 15 May 2012 01:54:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 01:54:59 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vtmckoy@hotmail.com designates 65.55.111.98 as permitted sender)
Received: from [65.55.111.98] (HELO blu0-omc2-s23.blu0.hotmail.com) (65.55.111.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 01:54:52 +0000
Received: from BLU162-W45 ([65.55.111.72]) by blu0-omc2-s23.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 May 2012 18:54:32 -0700
Message-ID: <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_803c97e6-bd90-41d1-a73e-e5a5d91b9e2f_"
X-Originating-IP: [173.62.175.111]
From: Vickie Troy-McKoy <vtmckoy@hotmail.com>
To: <users@tomcat.apache.org>
Subject: RE: Multiple tomcat Instances on Same Server and One Apache Instance
Date: Mon, 14 May 2012 21:54:31 -0400
Importance: Normal
In-Reply-To: <4FB192AE.50905@ice-sa.com>
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>
 <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>
 <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>
 <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 15 May 2012 01:54:32.0269 (UTC) FILETIME=[ABF0C7D0:01CD323D]
X-Virus-Checked: Checked by ClamAV on apache.org

--_803c97e6-bd90-41d1-a73e-e5a5d91b9e2f_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


=20

> Date: Tue=2C 15 May 2012 01:18:06 +0200
> From: aw@ice-sa.com
> To: users@tomcat.apache.org
> Subject: Re: Multiple tomcat Instances on Same Server and One Apache Inst=
ance
>=20
> Apologies=2C I probably confused you too. See below.
>=20
> Vickie Troy-McKoy wrote:
> ...
>=20
> >>>>>>
> >>>>>> When I call abc*=2C it goes to instance1=3B and when I call xyz*=
=2C it goes to instance2.  However=2C both instances have apps that start w=
ith "tsa".  How do I configure the apache webserver to service the "tsa" ap=
p for both tomcat instances?
> >>>>> configure a load balancer (worker) that uses the (other) two worker=
s=2C in addition to the
> >>>>> two workers=2C and add it to the worker list.
> >>>> I think that rather than be added to the workers list=2C the load-ba=
lancer worker must be the only one in the list.  You then tell the balancer=
 to balance the two other workers.
> >>> Then the two individual apps won't work=2C as they're not present on =
both servers.
> >> Oh. I did not read the OP's requirements carefully enough.  Apologies=
=2C your instructions=20
> >> were correct for the OP.
> > ---------------------------------------------------=20
> >=20
> > Thank you all for your suggestions.  I tried configuring a load balance=
r worker=3B however=2C  I'm getting HTTP 500 messages--Internal Server Erro=
r.  I reviewed the reference page=3B however=2C apparently=2C I'm missing s=
omething.  Also in the mod_jk.log=2C there's an error stating:   "Could not=
 find worker with name 'instance2' in uri map post processing".  Any ideas?=
  Thank you...
> >=20
> > On the apache server in httpd.conf=2C I changed the JKMount statements =
because I wanted to access all content.
> >=20
> >  Listen 80
> >  .
> >  .
> >  .
> >  LoadModule jk_module modules/mod_jk.so
> >=20
> >  #
> >  JkWorkersFile conf/workers.properties
> >  JkMount /* instance1
> >  JkMount /* instance2
>=20
> That is probably not what you want (and the one contradicts the other).
> You should probably have instead :
>=20
> # forward "/abc*" requests to Tomcat "instance1" only
> JkMount /abc instance1
> JkMount /abc* instance1
>=20
> # forward "/xyz*" requests to Tomcat "instance2" only
> JkMount /xyz instance2
> JkMount /xyz* instance2
>=20
> # forward "/tsa*" requests to either Tomcat=2C as selected by the balance=
r worker
> JkMount /tsa balance1
> JkMount /tsa* balance1
>=20
> Note: if you really want to forward everything to Tomcat=2C and it doesn'=
t matter which=20
> Tomcat=2C and you want to let the balancer decide when to forward any req=
uest to either=20
> Tomcat-1 or Tomcat-2=2C then just use the single line :
> JkMount /* balance1
>=20
>=20
>=20
>=20
> >=20
> >  In workers.properties=2C added the load balancer information=3B it ref=
lects the following:
> >
> You seem to be missing :
>=20
> workers.list=3Dinstance1=2Cinstance2=2Cbalance1
>=20
> (as per Pid's earlier instructions=2C not as per my erroneous comment)
>=20
> >  worker.balance1.type=3Dlb
> >  worker.balance1.balance_workers=3Dinstance1=2C instance2  <-- mod_jk m=
ay not like the space after comma
> >  #
> >  worker.instance1.port=3D8009
> >  worker.instance1.host=3Dserver.xxxx.com
> >  worker.instance1.type=3Dajp13
> >  =20
> >  #
> >  worker.instance2.port=3D7009
> >  worker.instance2.host=3Dserver.xxxx.com
> >  worker.instance2.type=3Dajp13
> >=20
> >=20
> > On the tomcat server (which is the same server)=2C I added the jvmRoute=
 setting in server.xml.  For instance one=2C I added:
> >=20
> >      <Engine name=3D"Catalina" defaultHost=3D"localhost" jvmRoute=3D"in=
stance1">
> >=20
> > For instance two=2C I added:   <Engine name=3D"Catalina" defaultHost=3D=
"localhost" jvmRoute=3D"instance2">
> >  		 	   		 =20
>=20
>=20
> ---------------------------------------------------------------------
=20
Thanks again.  I'll try this tomorrow.  I just want to forward based on the=
 port that the Tomcat instance is running on.  The 2 tomcat instances runni=
ng on the same server is really the same application--but different version=
s.  And=2C I thought that I could use the existing Apache instance to forwa=
rd requests to the new version of the app running on tomcat as well.  But=
=2C if I want (e.g. the tsademo app)  the tomcat instance running on port 8=
009=3B and tsademo is being forwarded to both ports--how can I be sure that=
 I would get the tsademo running on port 8009 and not the one running on 70=
09?   I tried using the Virtual host in Apache=3B but=2C ran into issues wi=
th that.  Or=2C should I just go ahead and create an entirely new apache in=
stance for the new tomcat instance?

Regards=2C



 		 	   		  =

--_803c97e6-bd90-41d1-a73e-e5a5d91b9e2f_--

From users-return-234244-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 04:56:06 2012
Return-Path: <users-return-234244-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAFECC26E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 04:56:06 +0000 (UTC)
Received: (qmail 5138 invoked by uid 500); 15 May 2012 04:56:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4988 invoked by uid 500); 15 May 2012 04:56:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4939 invoked by uid 99); 15 May 2012 04:56:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 04:56:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 04:55:52 +0000
Received: by qcsc20 with SMTP id c20so5089805qcs.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 21:55:31 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=7aNoFiqLSW+n8q4jn9DKp1+OR4JXmDrvyaOGCsphgks=;
        b=KbDSHPnGMsMVlo9ehwCKo9dxZMjTS1vZGyy8iKGA8bIPmk1TLV1666YS0AajidqrQt
         g/ybkXgagWu4Pno40dUK+gVVxqje/Hr4NFngGSEL6F53C06Vcs/BpQzSvB4StYbtx+N3
         5O6PZ88TMqHC44J7RzsTAcQzekYveeC2WWu40tmZcUsC8oHiXDYTIk7d1+WRhCN1/1qf
         v0kgQJc8GLcT6YJRqoReqPIEnpH+ev+3q906wOLUCw6lqT+z8YcU6wcOowUEl5ROX4rh
         xM60br8Oneah6jwjAOs5GY74yvFewxC9EcTgKucpBAEFa2Jp74+9MCbjvP3D2A9llVXl
         pf2w==
Received: by 10.229.137.147 with SMTP id w19mr5230838qct.132.1337057731231;
        Mon, 14 May 2012 21:55:31 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id u2sm1035376qaa.13.2012.05.14.21.55.29
        (version=SSLv3 cipher=OTHER);
        Mon, 14 May 2012 21:55:30 -0700 (PDT)
Message-ID: <4FB1E1C0.3060301@poonam.org>
Date: Tue, 15 May 2012 10:25:28 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org>
In-Reply-To: <4FB19BDF.6060205@poonam.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQkeXoyqh76alo6JlMTwf5QSWNupgYm7Ojw56sitOjoH53wtM5nL1VWqbh+H4+TEk/mVEv0L

Sorry fixed it, it was my fault. Base tag was pointing to 8080.Make 
sense now.

On 5/15/2012 5:27 AM, Kiran Badi wrote:
> Hi,
>
> I have installed tomcat 7.0.27 on Windows Home premium 32 bit system 
> with JDK 1.6.32. The tomcat is running successfully as service.I can 
> access the home page of tomcat along with manager application.
>
> I deployed my application war file via manager application.The war 
> file was pulled from netbeans dist folder.
>
> Now when I access my this application via IE,I do below steps,
>
> 1. I open this http://localhost:8082/xxx/index.jsp in IE. it works 
> fine, In index page I have several links, for example testservice.jsp
>
> 2. so when I click on testservice link, it looks like 
> http://localhost:8082/xxx/testservice.jsp in address bar and page 
> opens fine in IE.No issues in IE.
>
> Now the real problem comes when I try to repeat the steps in Firefox 
> and chrome,
>
> Step 1 works fine,no issues everything works as expected and index 
> page comes up,but when it comes to step 2, the address changes to
>
> http://localhost:8080/xxx/testservice.jsp .
>
> now I am not sure as why FF /Chrome are not sticking to the same ports 
> as IE.
>
> I have 8080 tied up with netbean and it has Tomcat 7.0.11 but its not 
> running as service.
>
> Also I have static custom error page 404 which resolves correctly in 
> 7.0.27 in all three browsers.
>
> Can some one tell me what that I am missing now ?
>
> PS: This is how I have links in index page,
>
> <li><a href='testservice.jsp'>testservice</a></li>
>
>
> and all jsp resides in web pages folder.I know this gives direct 
> access to JSP and is bad practice,but thats the seperate task to do in 
> my list.
>
> - Kiran
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234245-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 05:58:54 2012
Return-Path: <users-return-234245-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41202CB78
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 05:58:54 +0000 (UTC)
Received: (qmail 23859 invoked by uid 500); 15 May 2012 05:58:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23703 invoked by uid 500); 15 May 2012 05:58:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23674 invoked by uid 99); 15 May 2012 05:58:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 05:58:49 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tommyhp2@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 05:58:44 +0000
Received: by lbok6 with SMTP id k6so5124019lbo.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 22:58:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=4YXyQ0N5xWL+vOoKYT8RrIrB0sFaRmUt2y5MLc+t5ug=;
        b=ByO90Kl15JJ1tuaUT6Gn5ldUVqHKHlcTVvAVQ3PaZ0UXdSLJfiVfXIRJDXGFDdcRYr
         G/XztSZZgHH0i4g8UPATd6acdWYo/EV6v06jwOHR5hM7Xx9xSCQE5qOakOGHQt1nnsY2
         zDh1AUMHLVdUup4H6dnhKLqAxt0b6DFnddasmVOOphktigS/W79zFUa2Se2tkr1iXKr/
         2wJ5K5XQ58b0tg10pMJ98N0DEFddZYWVfO4sJ/U9yjTopKCjZkTflZwexhFXAmYmrdaa
         FN89SqDFPIlOX7XuwCrbxJBrgOeVRSHI9IkHz7fVnC7IubFVEOgPP9jQz30Q90h7L9d/
         PUrQ==
MIME-Version: 1.0
Received: by 10.112.47.170 with SMTP id e10mr4918068lbn.69.1337061503233; Mon,
 14 May 2012 22:58:23 -0700 (PDT)
Received: by 10.112.7.165 with HTTP; Mon, 14 May 2012 22:58:23 -0700 (PDT)
Date: Mon, 14 May 2012 22:58:23 -0700
Message-ID: <CANPW+MuuQD=HyphvKYvHgj=iJ6uCmpLbVQWEmMhXoy=xZi9_ig@mail.gmail.com>
Subject: HTTP 500.0 on IIS7.5 + JK1.2.36 + TC7.0.26
From: Tommy Pham <tommyhp2@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I'm trying to get the connector (JK 1.2.36) to work for IIS7.5
(Windows 7 Enterprise) but keep on running into HTTP 500.0 Error
following the documentation [1]:

Error Summary

HTTP Error 500.0 - Internal Server Error
Calling GetFilterVersion on ISAPI filter
"D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll" failed

Detailed Error Information

Module	IIS Web Core
Notification	Unknown
Handler	ExtensionlessUrlHandler-Integrated-4.0
Error Code	0x8007047e
Requested URL	http://localhost:80/
Physical Path	E:\wwwroot
Logon Method	Not yet determined
Logon User	Not yet determined



Here are my configurations:

[HKEY_LOCAL_MACHINE\SOFTWARE\Apache Software Foundation\Jakarta Isapi
Redirector\1.0]
"extension_uri"="/jakarta/isapi_redirect.dll"
"log_file"="D:\\apache-tomcat-7.0.26\\logs\\isapi.log"
"log_level"="info"
"worker_file"="D:\\apache-tomcat-7.0.26\\conf\\workers.properties"
"woker_mount_file"="D:\\apache-tomcat-7.0.26\\conf\\uriworkermap.properties"

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\W3SVC\Parameters\Filter
DLLS]
@="D:\\apache-tomcat-7.0.26\\bin\\connector"

# workers.properties
# An entry that lists all the workers defined
worker.list=localworker
# Entries that define the host and port associated with each of these workers
worker.localworker.host=localhost
worker.localworker.port=8009
worker.localworker.type=ajp13
#worker.worker2.host=otherhost
#worker.worker2.port=8009
#worker.worker2.type=ajp13

# uriworkermap.properties
/examples = localworker

D:\apache-tomcat-7.0.26\bin\connector is mapped as an application
virtual directory /jakarta using ASP.NET v4 integrated application
pool (I've tried the 3 other pools - v4 classic, v2 integrated, and v2
classic - and also failed).  The application pool is configured to run
under Network Service account.  The Network Service account has read &
execute permissions on the folder D:\apache-tomcat-7.0.26 recursively
and write permissions on the D:\apache-tomcat-7.0.26\logs folder.

ISAPI-dll handler mapping, with feature permissions of Read, Script &
Execute, has:
1) *.dll for Request path
2) Executable of D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll
3) Request Restrictions
   a) Mapping > Invoke handler only if request is mapped to:
         File or folder
   b) Verbs > All verbs
   c) Access > Execute

ISAPI and CGI Restrictions allows the said
D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll.

ISAPI Filters has an entry for the
D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll.


My Google-fu isn't very helpful ATM.  Am I missing something?  BTW, I
also have URLScan filter loaded.  Would that interfere with JK
connector?


Thanks,
Tommy


[1] http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234246-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 06:17:49 2012
Return-Path: <users-return-234246-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25FCFCBBF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 06:17:49 +0000 (UTC)
Received: (qmail 63428 invoked by uid 500); 15 May 2012 06:17:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63255 invoked by uid 500); 15 May 2012 06:17:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63233 invoked by uid 99); 15 May 2012 06:17:44 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 06:17:44 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 06:17:44 +0000
Message-ID: <4FB1F506.1010909@apache.org>
Date: Tue, 15 May 2012 08:17:42 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: HTTP 500.0 on IIS7.5 + JK1.2.36 + TC7.0.26
References: <CANPW+MuuQD=HyphvKYvHgj=iJ6uCmpLbVQWEmMhXoy=xZi9_ig@mail.gmail.com>
In-Reply-To: <CANPW+MuuQD=HyphvKYvHgj=iJ6uCmpLbVQWEmMhXoy=xZi9_ig@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 05/15/2012 07:58 AM, Tommy Pham wrote:
> Hi,
>
> I'm trying to get the connector (JK 1.2.36) to work for IIS7.5
> (Windows 7 Enterprise) but keep on running into HTTP 500.0 Error
> following the documentation [1]:
>
> Error Summary
>
> HTTP Error 500.0 - Internal Server Error
> Calling GetFilterVersion on ISAPI filter

> "D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll" failed
>
> "log_file"="D:\\apache-tomcat-7.0.26\\logs\\isapi.log"
> "log_level"="info"

Is there anything written to that log file?
If not, I'd suggest fixing security for D:\apache-tomcat-7.0.26 logs
and bin folders. IIS runs under special account and it might
not have read/write permissions to that folder.

Also, why Win7? That's workstation, so unless you are experimenting
make no sense to use that for anything except serving few clients.
There is a hard limit on number of connections you can use on any
workstation-kind of windows.


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234247-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 06:43:41 2012
Return-Path: <users-return-234247-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55B009A63
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 06:43:41 +0000 (UTC)
Received: (qmail 24017 invoked by uid 500); 15 May 2012 06:43:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23918 invoked by uid 500); 15 May 2012 06:43:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23904 invoked by uid 99); 15 May 2012 06:43:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 06:43:36 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tommyhp2@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 06:43:29 +0000
Received: by lbok6 with SMTP id k6so5153320lbo.18
        for <users@tomcat.apache.org>; Mon, 14 May 2012 23:43:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1bWOqxd9i8JQJpwVgBPvKd10OF2bJUUYJhd5cU8K8cM=;
        b=1Gs9sn04xNAuieESGbYt9liNC/i59fXRqj/Q8/YsFjod1s22wTS7Rm8923C0ugvkYL
         SIbeQ0orl9mFEWeXqDCbiosONFFtCQ92o5lXCAdURMF0nQlXq0m/EP3WUPNke9VyFjAR
         7D425ZJWY1YwE2GI5M5aDB5v04gU4oLXphjJPJ5LGttO7YaqkLqb5ECRUfbSlVvRl9VG
         h7K9Ss9MBu7ZxAtoqBS6buT58VRjGZFkP117pG5L9etSXfSMRR8BM4vea8yhSRpqwx9m
         toJSyy3xT7LSZxgQUuGg7LXXjt6y/a6ezDIDUvksryP1UZGQa4PONgb+Xgyn55XIN7W8
         gshw==
MIME-Version: 1.0
Received: by 10.112.10.198 with SMTP id k6mr1672989lbb.83.1337064188762; Mon,
 14 May 2012 23:43:08 -0700 (PDT)
Received: by 10.112.7.165 with HTTP; Mon, 14 May 2012 23:43:08 -0700 (PDT)
In-Reply-To: <4FB1F506.1010909@apache.org>
References: <CANPW+MuuQD=HyphvKYvHgj=iJ6uCmpLbVQWEmMhXoy=xZi9_ig@mail.gmail.com>
	<4FB1F506.1010909@apache.org>
Date: Mon, 14 May 2012 23:43:08 -0700
Message-ID: <CANPW+Mt1vx1duCmv__Ga8Y0M2trktUVdU2vJvK8CK4pc0p_=9w@mail.gmail.com>
Subject: Re: HTTP 500.0 on IIS7.5 + JK1.2.36 + TC7.0.26
From: Tommy Pham <tommyhp2@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, May 14, 2012 at 11:17 PM, Mladen Turk <mturk@apache.org> wrote:
> On 05/15/2012 07:58 AM, Tommy Pham wrote:
>>
>> Hi,
>>
>> I'm trying to get the connector (JK 1.2.36) to work for IIS7.5
>> (Windows 7 Enterprise) but keep on running into HTTP 500.0 Error
>> following the documentation [1]:
>>
>> Error Summary
>>
>> HTTP Error 500.0 - Internal Server Error
>> Calling GetFilterVersion on ISAPI filter
>
>
>> "D:\apache-tomcat-7.0.26\bin\connector\isapi_redirect.dll" failed
>>
>> "log_file"="D:\\apache-tomcat-7.0.26\\logs\\isapi.log"
>> "log_level"="info"
>
>
> Is there anything written to that log file?

No, the log file isapi.log never got created.  Only logs I see are
Tomcat's:  catalina*.log, commons-daemon*.log, host-manager*.log,
localhost*.log, localhost_access_log*.txt, manager*.log,
tomcat7-stderr*.log.

> If not, I'd suggest fixing security for D:\apache-tomcat-7.0.26 logs
> and bin folders. IIS runs under special account and it might
> not have read/write permissions to that folder.

By default, IIS 7.5's' application pools are configured to run as
ApplicationPoolIdentity.  I've changed it to the NetworkService
account, which has read, list, and execute permissions on Tomcat's
home directory and recursively, in addition to write/modify
permissions on Tomcat's logs directory.

> Also, why Win7? That's workstation, so unless you are experimenting
> make no sense to use that for anything except serving few clients.
> There is a hard limit on number of connections you can use on any
> workstation-kind of windows.

It's a laptop and used as a portable development/testing system.  Yes,
I'm aware of the limitations of Windows workstations (max 10
connections, etc...).

>
>
> Regards
> --
> ^TM
>

Thanks for the reply,
Tommy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234248-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 08:30:59 2012
Return-Path: <users-return-234248-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 73C8B91BC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 08:30:59 +0000 (UTC)
Received: (qmail 84697 invoked by uid 500); 15 May 2012 08:30:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84473 invoked by uid 500); 15 May 2012 08:30:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84462 invoked by uid 99); 15 May 2012 08:30:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 08:30:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 08:30:49 +0000
Received: by pbbro12 with SMTP id ro12so8146188pbb.18
        for <users@tomcat.apache.org>; Tue, 15 May 2012 01:30:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=vLDiM48ubO2ls+ulLev5RDNYMbq/IcA7D30pdIsUqtY=;
        b=hAmLLpCatmVaNq3CbgggbhLbVaUCCvXnGan22nrvojizUX+x0GvLH6dICHMABE4aTZ
         F5j5qD3iwCTqOBAYi8zgoT3JDUD2T6nwaN0XoWfQzvBFMkaX0J9QFc8QpEy680T2BxpB
         yn5esVJGj847y3lvKoML5QX4xsXB7bgo7A1Hw=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=vLDiM48ubO2ls+ulLev5RDNYMbq/IcA7D30pdIsUqtY=;
        b=HkE6FA8wn0BtwBjpOEhs6sCb7ChRlpktebsuLMcQomQWblqBBjOKHkGV4qEYD0scx0
         2WAjyMgow/8iEGfktcvJu/C+QLmu2zVIYeMIj/2LXm966EDK5eL04GeEdmN8MChx5dS5
         q8cFpOt5Ip0kxz7rjey4Wt+bwZdsaw6GW7DKrStRCLIUe2EHaT2npJRNybItbCHo4f2Z
         b3UjfNLp2Q8QRv283GM9373P2Db/wfwi8KB+L3lShe7GNZz9vOkBYNcwaAF0Yjax7FiP
         TJLOPjgmbqMV61RxZhTDlk2sTc7uNUWyTPTkETPm1M91XC++2j63I3m/nKGGCwXyufPE
         5Flg==
Received: by 10.68.242.67 with SMTP id wo3mr3079938pbc.91.1337070624327; Tue,
 15 May 2012 01:30:24 -0700 (PDT)
References: <910AE18F734D004EA666B86933E5DAA2799338@turnkey-dc.Turnkey.local>
 <CACmC4yBd7ALfc+Y0DowDhznRzTKDrGfrhHorgvtsbK5=AUDJGw@mail.gmail.com>
 <910AE18F734D004EA666B86933E5DAA279933E@turnkey-dc.Turnkey.local>
 <CACmC4yCW0D3LNkvNF6apJTWZ1iXFtGiod_9p+8wv0qNcV1X45w@mail.gmail.com>
 <4FB15366.1090104@pidster.com> <CACmC4yBtOwfhk8p6DO2K1EAaO84VXvWkSSun+JGk9KJc5rn-KA@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CACmC4yBtOwfhk8p6DO2K1EAaO84VXvWkSSun+JGk9KJc5rn-KA@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Tue, 15 May 2012 09:29:41 +0100
Message-ID: <8629244178137419341@unknownmsgid>
Subject: Re: How to start a continuous java application in tomcat
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQnoLpvp9S3bUU26sBTao09obNQ8PvTMno+T0EXlAuiRbjwQwkf8FohXqfNPtk3/7GFA5d4w
X-Virus-Checked: Checked by ClamAV on apache.org

On 14 May 2012, at 20:02, Hassan Schroeder <hassan.schroeder@gmail.com> wrote:

> On Mon, May 14, 2012 at 11:48 AM, Pid <pid@pidster.com> wrote:
>
>> .oO( another chance to post the smart questions link )
>
> Now that mail clients are smart enough e.g. to prompt the user if the
> message contains the word "attachment" but nothing is attached,
> maybe we should lobby for a check against (variants of) the phrase
> "does not work" that raises a "Have you read this?" prompt with the
> <http://www.catb.org/~esr/faqs/smart-questions.html> link...   :-)

.oO( a Thunderbird plugin, perhaps... )


p



>
> --
> Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
> http://about.me/hassanschroeder
> twitter: @hassan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234249-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 09:01:02 2012
Return-Path: <users-return-234249-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B373922A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 09:01:02 +0000 (UTC)
Received: (qmail 48288 invoked by uid 500); 15 May 2012 09:00:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47926 invoked by uid 500); 15 May 2012 09:00:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47911 invoked by uid 99); 15 May 2012 09:00:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 09:00:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 09:00:50 +0000
Received: from [192.168.245.129] (p549E8A90.dip0.t-ipconnect.de [84.158.138.144])
	by tor.combios.es (Postfix) with ESMTPA id DCD64DA03E0
	for <users@tomcat.apache.org>; Tue, 15 May 2012 11:00:28 +0200 (CEST)
Message-ID: <4FB21B25.1020604@ice-sa.com>
Date: Tue, 15 May 2012 11:00:21 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org> <4FB1E1C0.3060301@poonam.org>
In-Reply-To: <4FB1E1C0.3060301@poonam.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Kiran Badi wrote:
> Sorry fixed it, it was my fault. Base tag was pointing to 8080.Make 
> sense now.

Personal opinion :
<Base> tags are evil. They create all kinds of issues when you move the app, or change 
your server configuration.
There shouldn't be any real reason to use them, if your app is structured properly.
Relative paths should work.

> 
> On 5/15/2012 5:27 AM, Kiran Badi wrote:
>> Hi,
>>
>> I have installed tomcat 7.0.27 on Windows Home premium 32 bit system 
>> with JDK 1.6.32. The tomcat is running successfully as service.I can 
>> access the home page of tomcat along with manager application.
>>
>> I deployed my application war file via manager application.The war 
>> file was pulled from netbeans dist folder.
>>
>> Now when I access my this application via IE,I do below steps,
>>
>> 1. I open this http://localhost:8082/xxx/index.jsp in IE. it works 
>> fine, In index page I have several links, for example testservice.jsp
>>
>> 2. so when I click on testservice link, it looks like 
>> http://localhost:8082/xxx/testservice.jsp in address bar and page 
>> opens fine in IE.No issues in IE.
>>
>> Now the real problem comes when I try to repeat the steps in Firefox 
>> and chrome,
>>
>> Step 1 works fine,no issues everything works as expected and index 
>> page comes up,but when it comes to step 2, the address changes to
>>
>> http://localhost:8080/xxx/testservice.jsp .
>>
>> now I am not sure as why FF /Chrome are not sticking to the same ports 
>> as IE.
>>
>> I have 8080 tied up with netbean and it has Tomcat 7.0.11 but its not 
>> running as service.
>>
>> Also I have static custom error page 404 which resolves correctly in 
>> 7.0.27 in all three browsers.
>>
>> Can some one tell me what that I am missing now ?
>>
>> PS: This is how I have links in index page,
>>
>> <li><a href='testservice.jsp'>testservice</a></li>
>>
>>
>> and all jsp resides in web pages folder.I know this gives direct 
>> access to JSP and is bad practice,but thats the seperate task to do in 
>> my list.
>>
>> - Kiran
>>
>>
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234250-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 09:23:20 2012
Return-Path: <users-return-234250-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 075039280
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 09:23:20 +0000 (UTC)
Received: (qmail 4035 invoked by uid 500); 15 May 2012 09:23:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3723 invoked by uid 500); 15 May 2012 09:23:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3678 invoked by uid 99); 15 May 2012 09:23:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 09:23:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stulpa.adam@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 09:23:08 +0000
Received: by ggnp1 with SMTP id p1so5375888ggn.18
        for <users@tomcat.apache.org>; Tue, 15 May 2012 02:22:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=z+XKY6a2OZqBxcmFwepUIv43gsDOxB2c8VCo2n4pAe0=;
        b=vAIyVQWxPygSTrXq5WWJynRcx6NgLW9wanhToxkGWorUJTsmMt38+Xv1dRgtL3rF2l
         rg+jOzlTosTBgt9Lhu0vayxUNdCRNvCiPPb4V4m08b8l85FN8T1seJiH6Jp7jYgYHBUM
         tcE/oW0rdrc6VuOJKhNoybT925o2wRmy4RPZ13L3j1+3GALxuO5+cAgfdUj7jMt6Fa8h
         YZ1x0PeAz2cDNQ52l/5c1auxAXGFYj5DOtNHWgiCNJL7G/dJA/Vpzh1voUblH4TifZ3c
         8CZmtmfrnr+CGzhBWmekTmXU3W46gX57QOZy955vHAJT/GGjZIc7mfwA33XQNREDJHG8
         76rg==
MIME-Version: 1.0
Received: by 10.50.12.199 with SMTP id a7mr6284436igc.71.1337073767278; Tue,
 15 May 2012 02:22:47 -0700 (PDT)
Received: by 10.50.126.38 with HTTP; Tue, 15 May 2012 02:22:47 -0700 (PDT)
Date: Tue, 15 May 2012 11:22:47 +0200
Message-ID: <CAPy-UPHFzyq+fQpSRVrgyXwcjj1NnDF4R_SwDC9DeD8q8nLJtw@mail.gmail.com>
Subject: Tomcat returns 404 on wrong deployed applications
From: =?ISO-8859-2?Q?Adam_=A9tulpa?= <stulpa.adam@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=14dae9341147efea3104c00fbe4f
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9341147efea3104c00fbe4f
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

*Hi,*
*

we have several REST applications using Spring MVC. Sometimes some of these
applications after deploy don=92t start (because of error in spring
context,...). Application is deployed but it isn=92t running. Our javascrip=
t
client access resource url. It gets 404 status, therefore it assumes, that
resource doesn=92t exist. So we are unable to detect this error. More
appropriate for us would be http status 500. Is possible change this
default tomcat behavior? For example Jetty returns 503 on such error.*
*
*
*Regards,*
*Adam*
*
*

--14dae9341147efea3104c00fbe4f--

From users-return-234251-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 14:05:05 2012
Return-Path: <users-return-234251-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 413CFCBD4
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 14:05:05 +0000 (UTC)
Received: (qmail 85866 invoked by uid 500); 15 May 2012 14:05:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85708 invoked by uid 500); 15 May 2012 14:05:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85698 invoked by uid 99); 15 May 2012 14:05:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:05:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:04:54 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ADUR1j0031ei1Bg53E4azo; Tue, 15 May 2012 14:04:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id AE4a1j00J38FjT13kE4aiV; Tue, 15 May 2012 14:04:34 +0000
Message-ID: <4FB26271.3010400@christopherschultz.net>
Date: Tue, 15 May 2012 10:04:33 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com> <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
In-Reply-To: <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vickie,

On 5/14/12 9:54 PM, Vickie Troy-McKoy wrote:
> I just want to forward based on the port that the Tomcat instance
> is running on.  The 2 tomcat instances running on the same server
> is really the same application--but different versions.  And, I
> thought that I could use the existing Apache instance to forward
> requests to the new version of the app running on tomcat as well.
> But, if I want (e.g. the tsademo app)  the tomcat instance running
> on port 8009; and tsademo is being forwarded to both ports--how can
> I be sure that I would get the tsademo running on port 8009 and not
> the one running on 7009?   I tried using the Virtual host in
> Apache; but, ran into issues with that.  Or, should I just go ahead
> and create an entirely new apache instance for the new tomcat
> instance?

It sounds like you really don't have a good idea of what your
requirements really are. Around here, we call that "do-what-I-mean
semantics": you want the software to do the "right" thing but you
can't explain what the "right" thing actually is.

Try to express your requirements in simpler language. For instance,
you have two versions of your software: one one port 8009 and one on
port 7009. Under what conditions should a particular user be sent to
either of those versions?

If you are using sessions, the load-balancer will keep a client
associated with the right version *after* the first request, but you
still need to decide under which circumstances a *new* client should
be sent to one or the other. Once you can answer that, we can help you
configure it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yYnEACgkQ9CaO5/Lv0PCdggCgjckvGEXFbsF3DNoWTHSGfxQ+
NR4AoLlRzQx0rFtOQj229kkikXTFS0hP
=YLUn
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234252-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 14:05:13 2012
Return-Path: <users-return-234252-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50A37CBD6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 14:05:13 +0000 (UTC)
Received: (qmail 88837 invoked by uid 500); 15 May 2012 14:05:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88786 invoked by uid 500); 15 May 2012 14:05:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88776 invoked by uid 99); 15 May 2012 14:05:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:05:09 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [149.8.64.32] (HELO mclmx2.mail.saic.com) (149.8.64.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:05:01 +0000
Received: from 0015-its-sbg03.saic.com ([149.8.64.21] [149.8.64.21]) by mclmx2.mail.saic.com with ESMTP id BT-MMP-392851 for users@tomcat.apache.org; Tue, 15 May 2012 10:04:35 -0400
X-AuditID: 95084018-b7cd5ae00000097a-e3-4fb262736683
Received: from 0015-its-exbh03.us.saic.com (mcl-sixl-nat.saic.com [149.8.64.21])
	by 0015-its-sbg03.saic.com (Symantec Brightmail Gateway) with SMTP id 00.B5.02426.37262BF4; Tue, 15 May 2012 10:04:35 -0400 (EDT)
Received: from 0015-its-exmb11.us.saic.com ([10.43.229.22]) by 0015-its-exbh03.us.saic.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 15 May 2012 10:04:35 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CD32A3.A84787B4"
Subject: Tomcat Stdout Rotate
Date: Tue, 15 May 2012 10:04:33 -0400
Message-Id: <B111EEAA42CD0F4D85A5E486368D155A0BE88ADE@0015-its-exmb11.us.saic.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Tomcat Stdout Rotate
Thread-Index: Ac0yo6euUchLBoviTe2Hw6Yb31x53g==
From: "Le, Hong D." <HONG.D.LE@saic.com>
To: <users@tomcat.apache.org>
X-OriginalArrivalTime: 15 May 2012 14:04:35.0192 (UTC) FILETIME=[A8846780:01CD32A3]
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CD32A3.A84787B4
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,=20

=20

I have tried so many ways to rotate tomcat stdout log file daily or by
size but unable to achieve the goal. My log file grows very quick
because I have to set ssl and handshake to debug mode. I appreciate if
you can help me how to do.

=20

Thank you so much.


------_=_NextPart_001_01CD32A3.A84787B4--

From users-return-234253-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 14:08:46 2012
Return-Path: <users-return-234253-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63D7BCBEB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 14:08:46 +0000 (UTC)
Received: (qmail 1967 invoked by uid 500); 15 May 2012 14:08:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1796 invoked by uid 500); 15 May 2012 14:08:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1787 invoked by uid 99); 15 May 2012 14:08:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:08:43 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:08:36 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id AD6h1j0060bG4ec54E8GSw; Tue, 15 May 2012 14:08:16 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id AE8G1j00n38FjT13PE8GZS; Tue, 15 May 2012 14:08:16 +0000
Message-ID: <4FB2634F.9050702@christopherschultz.net>
Date: Tue, 15 May 2012 10:08:15 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org> <4FB1E1C0.3060301@poonam.org> <4FB21B25.1020604@ice-sa.com>
In-Reply-To: <4FB21B25.1020604@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/15/12 5:00 AM, Andr Warnier wrote:
> Personal opinion : <Base> tags are evil. They create all kinds of
> issues when you move the app, or change your server configuration. 
> There shouldn't be any real reason to use them, if your app is 
> structured properly. Relative paths should work.

+1

I only just found out in the last few months that URIs within a CSS
are /relative to the URI of the CSS/ which blew my mind and, honestly,
makes total sense.

I can't see a really good reason to use a <base> tag these days unless
you want fully-qualified paths for all URLs and want to save on
bandwidth or something like that.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yY08ACgkQ9CaO5/Lv0PBL2wCcDBUNu34wsterX9H04J7w6i83
qCIAoIWEl5cqol+IVQFiR+6buPBNuEdJ
=i1oU
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234254-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 14:19:28 2012
Return-Path: <users-return-234254-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 431D7CC4F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 14:19:28 +0000 (UTC)
Received: (qmail 37346 invoked by uid 500); 15 May 2012 14:19:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37281 invoked by uid 500); 15 May 2012 14:19:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37272 invoked by uid 99); 15 May 2012 14:19:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:19:24 +0000
X-ASF-Spam-Status: No, hits=3.8 required=5.0
	tests=HK_RANDOM_ENVFROM,HK_RANDOM_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vtmckoy@hotmail.com designates 65.55.111.87 as permitted sender)
Received: from [65.55.111.87] (HELO blu0-omc2-s12.blu0.hotmail.com) (65.55.111.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 14:19:16 +0000
Received: from BLU162-W51 ([65.55.111.71]) by blu0-omc2-s12.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 15 May 2012 07:18:56 -0700
Message-ID: <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_e76dc63a-a181-413b-a734-3335df0ded0e_"
X-Originating-IP: [173.62.175.111]
From: Vickie Troy-McKoy <vtmckoy@hotmail.com>
To: <users@tomcat.apache.org>
Subject: RE: Multiple tomcat Instances on Same Server and One Apache Instance
Date: Tue, 15 May 2012 10:18:55 -0400
Importance: Normal
In-Reply-To: <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
References:
 <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com>
 <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
MIME-Version: 1.0
X-OriginalArrivalTime: 15 May 2012 14:18:56.0004 (UTC) FILETIME=[A999E440:01CD32A5]

--_e76dc63a-a181-413b-a734-3335df0ded0e_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


 > From: vtmckoy@hotmail.com
> To: users@tomcat.apache.org
> Subject: RE: Multiple tomcat Instances on Same Server and One Apache Inst=
ance
> Date: Mon=2C 14 May 2012 21:54:31 -0400
>=20
>=20
> =20
>=20
> > Date: Tue=2C 15 May 2012 01:18:06 +0200
> > From: aw@ice-sa.com
> > To: users@tomcat.apache.org
> > Subject: Re: Multiple tomcat Instances on Same Server and One Apache In=
stance
> >=20
> > Apologies=2C I probably confused you too. See below.
> >=20
> > Vickie Troy-McKoy wrote:
> > ...
> >=20
> > >>>>>>
> > >>>>>> When I call abc*=2C it goes to instance1=3B and when I call xyz*=
=2C it goes to instance2.  However=2C both instances have apps that start w=
ith "tsa".  How do I configure the apache webserver to service the "tsa" ap=
p for both tomcat instances?
> > >>>>> configure a load balancer (worker) that uses the (other) two work=
ers=2C in addition to the
> > >>>>> two workers=2C and add it to the worker list.
> > >>>> I think that rather than be added to the workers list=2C the load-=
balancer worker must be the only one in the list.  You then tell the balanc=
er to balance the two other workers.
> > >>> Then the two individual apps won't work=2C as they're not present o=
n both servers.
> > >> Oh. I did not read the OP's requirements carefully enough.  Apologie=
s=2C your instructions=20
> > >> were correct for the OP.
> > > ---------------------------------------------------=20
> > >=20
> > > Thank you all for your suggestions.  I tried configuring a load balan=
cer worker=3B however=2C  I'm getting HTTP 500 messages--Internal Server Er=
ror.  I reviewed the reference page=3B however=2C apparently=2C I'm missing=
 something.  Also in the mod_jk.log=2C there's an error stating:   "Could n=
ot find worker with name 'instance2' in uri map post processing".  Any idea=
s?  Thank you...
> > >=20
> > > On the apache server in httpd.conf=2C I changed the JKMount statement=
s because I wanted to access all content.
> > >=20
> > >  Listen 80
> > >  .
> > >  .
> > >  .
> > >  LoadModule jk_module modules/mod_jk.so
> > >=20
> > >  #
> > >  JkWorkersFile conf/workers.properties
> > >  JkMount /* instance1
> > >  JkMount /* instance2
> >=20
> > That is probably not what you want (and the one contradicts the other).
> > You should probably have instead :
> >=20
> > # forward "/abc*" requests to Tomcat "instance1" only
> > JkMount /abc instance1
> > JkMount /abc* instance1
> >=20
> > # forward "/xyz*" requests to Tomcat "instance2" only
> > JkMount /xyz instance2
> > JkMount /xyz* instance2
> >=20
> > # forward "/tsa*" requests to either Tomcat=2C as selected by the balan=
cer worker
> > JkMount /tsa balance1
> > JkMount /tsa* balance1
> >=20
> > Note: if you really want to forward everything to Tomcat=2C and it does=
n't matter which=20
> > Tomcat=2C and you want to let the balancer decide when to forward any r=
equest to either=20
> > Tomcat-1 or Tomcat-2=2C then just use the single line :
> > JkMount /* balance1
> >=20
> >=20
> >=20
> >=20
> > >=20
> > >  In workers.properties=2C added the load balancer information=3B it r=
eflects the following:
> > >
> > You seem to be missing :
> >=20
> > workers.list=3Dinstance1=2Cinstance2=2Cbalance1
> >=20
> > (as per Pid's earlier instructions=2C not as per my erroneous comment)
> >=20
> > >  worker.balance1.type=3Dlb
> > >  worker.balance1.balance_workers=3Dinstance1=2C instance2  <-- mod_jk=
 may not like the space after comma
> > >  #
> > >  worker.instance1.port=3D8009
> > >  worker.instance1.host=3Dserver.xxxx.com
> > >  worker.instance1.type=3Dajp13
> > >  =20
> > >  #
> > >  worker.instance2.port=3D7009
> > >  worker.instance2.host=3Dserver.xxxx.com
> > >  worker.instance2.type=3Dajp13
> > >=20
> > >=20
> > > On the tomcat server (which is the same server)=2C I added the jvmRou=
te setting in server.xml.  For instance one=2C I added:
> > >=20
> > >      <Engine name=3D"Catalina" defaultHost=3D"localhost" jvmRoute=3D"=
instance1">
> > >=20
> > > For instance two=2C I added:   <Engine name=3D"Catalina" defaultHost=
=3D"localhost" jvmRoute=3D"instance2">
> > >  		 	   		 =20
> >=20
> >=20
> > ---------------------------------------------------------------------
> =20
> Thanks again.  I'll try this tomorrow.  I just want to forward based on t=
he port that the Tomcat instance is running on.  The 2 tomcat instances run=
ning on the same server is really the same application--but different versi=
ons.  And=2C I thought that I could use the existing Apache instance to for=
ward requests to the new version of the app running on tomcat as well.  But=
=2C if I want (e.g. the tsademo app)  the tomcat instance running on port 8=
009=3B and tsademo is being forwarded to both ports--how can I be sure that=
 I would get the tsademo running on port 8009 and not the one running on 70=
09?   I tried using the Virtual host in Apache=3B but=2C ran into issues wi=
th that.  Or=2C should I just go ahead and create an entirely new apache in=
stance for the new tomcat instance?
>=20
> Regards=2C
>=20
>=20
>=20

Thank you Andre for your help.  After I configured it as you specified=2C t=
he behavior was the same as before I inquired on this forum.  To avoid addi=
tonal delay=2C I just went ahead and created another apache2 instance and k=
ept both configurations separate.  Thanks again for your suggestions.  Rega=
rds...
 		 	   		  =

--_e76dc63a-a181-413b-a734-3335df0ded0e_--

From users-return-234255-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:02:12 2012
Return-Path: <users-return-234255-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 151379BE2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:02:12 +0000 (UTC)
Received: (qmail 72185 invoked by uid 500); 15 May 2012 15:02:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72102 invoked by uid 500); 15 May 2012 15:02:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72092 invoked by uid 99); 15 May 2012 15:02:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:02:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:02:01 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id ABKF1j0081c6gX851F1gj7; Tue, 15 May 2012 15:01:40 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id AF1g1j00E38FjT13jF1g0q; Tue, 15 May 2012 15:01:40 +0000
Message-ID: <4FB26FD2.6030205@christopherschultz.net>
Date: Tue, 15 May 2012 11:01:38 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat Stdout Rotate
References: <B111EEAA42CD0F4D85A5E486368D155A0BE88ADE@0015-its-exmb11.us.saic.com>
In-Reply-To: <B111EEAA42CD0F4D85A5E486368D155A0BE88ADE@0015-its-exmb11.us.saic.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hong,

On 5/15/12 10:04 AM, Le, Hong D. wrote:
> I have tried so many ways to rotate tomcat stdout log file daily or
> by size but unable to achieve the goal.

What did you try?

> My log file grows very quick because I have to set ssl and
> handshake to debug mode.

This isn't in production, is it? You certainly don't want anything in
debug mode in production - at least not for long.

> I appreciate if you can help me how to do.

Obviously, the best thing is not to dump a lot of stuff to stdout.
Recent versions of Tomcat (you didn't say what you've got) have a
"swallowOutput" option on specific webapps, but that is unlikely to
affect JSSE debug logging.

Since Tomcat's logs/catalina.out is done using shell redirection, the
stream moves with the file, so you can't just re-name the file: you'd
have to restart Tomcat after moving the file which isn't really a good
option.

You could try to use a logging-pipe that knows how to rotate files and
hack catalina.sh to use that instead of "[...] > logs/catalina.out"
that is in there currently.

Good luck,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yb9IACgkQ9CaO5/Lv0PBUEgCgrc9eirH0c+bRCzkkpkkgsyyb
W9sAmwfRhP2C4OihZa27P3UkSnuCAhsy
=g4yl
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234256-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:06:15 2012
Return-Path: <users-return-234256-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E02E09BF8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:06:14 +0000 (UTC)
Received: (qmail 83548 invoked by uid 500); 15 May 2012 15:06:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83344 invoked by uid 500); 15 May 2012 15:06:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83334 invoked by uid 99); 15 May 2012 15:06:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:06:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.126.171] (HELO moutng.kundenserver.de) (212.227.126.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:06:03 +0000
Received: from [127.0.0.1] (jambusters.demon.co.uk [80.177.0.82])
	by mrelayeu.kundenserver.de (node=mrbap2) with ESMTP (Nemesis)
	id 0MEKbo-1SJGiD0g2K-00FkHP; Tue, 15 May 2012 17:05:41 +0200
Message-ID: <4FB270C4.5090304@jbgb.com>
Date: Tue, 15 May 2012 16:05:40 +0100
From: Paul Singleton <paul@jbgb.com>
Organization: Jambusters Ltd
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Christopher Schultz <chris@christopherschultz.net>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org> <4FB1E1C0.3060301@poonam.org> <4FB21B25.1020604@ice-sa.com> <4FB2634F.9050702@christopherschultz.net>
In-Reply-To: <4FB2634F.9050702@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Provags-ID: V02:K0:A8wJcnQM9nnlLY8FvYeTcpbkupHkRFvqpABi+gZpek5
 BSGBz0meoU3U5QDilNaX0AIilttxe7x2HAy7D2Jqv/jLpGEu+C
 jzhT0ropk076oM9QSHGFwXox71q5T352oScgrww9Hgdu/AAjFt
 0ZtSoeJn1N7CBfEr1Z4uWvfXWAntN2fKkj1+XtA9j12lauJ8P2
 V9tnj+1j9NVLOiK+/pwU+q+D2fykNozRCodYWPBucYhIsSB/SL
 P/zigkJKAsiFUndETETH30CziXT2qXMjJ2WbOwBZ6obAFcHCfb
 0Pd3CjQ2XmYBDbyVHISSy0udWVMW4FRE6IG29l6seaFl/ITlw=
 =
X-Virus-Checked: Checked by ClamAV on apache.org

On 15/05/2012 15:08, Christopher Schultz wrote:

> On 5/15/12 5:00 AM, Andr Warnier wrote:

>> Personal opinion :<Base>  tags are evil. They create all kinds of
>> issues when you move the app, or change your server configuration.
>> There shouldn't be any real reason to use them, if your app is
>> structured properly. Relative paths should work.

> +1
>
> I only just found out in the last few months that URIs within a CSS
> are /relative to the URI of the CSS/ which blew my mind and, honestly,
> makes total sense.

A JSP developer needs to know how (and when) references are resolved 
in at least these cases:

<%@ include file="foo" ...
<%@ include file="/foo" ...

<%@ page errorPage="foo" ...
<%@ page errorPage="/foo" ...

<%@ taglib uri="foo" ...
<%@ taglib uri="/foo" ...

<jsp:forward page="foo" ...
<jsp:forward page="/foo" ...

<jsp:include page="foo" ...
<jsp:include page="/foo" ...

<link href="foo" ...
<link href="/foo" ...

<script src="foo" ...
<script src="/foo" ...

<img src="foo" ...
<img src="/foo" ...

<style type="text/css"> p { background:url(foo) } ...
<style type="text/css"> p { background:url(/foo) } ...

[surely there are more, e.g. within in-page JavaScript?]

What *nix minds think of as an "absolute" path e.g. /foo is just 
relative to something other than what foo is relative to.

I'll try to find a small prize for whoever is first to provide links 
to clear, definitive documentation of how each case above resolves ;-)

> I can't see a really good reason to use a<base>  tag these days unless
> you want fully-qualified paths for all URLs and want to save on
> bandwidth or something like that.

We found one, but if you are just using <base> empirically, to make 
things work when you don't really understand "relative paths", then 
it's probably worth time spent figuring out how to manage without it.

Paul Singleton

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234257-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:16:31 2012
Return-Path: <users-return-234257-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D07D9C31
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:16:31 +0000 (UTC)
Received: (qmail 12018 invoked by uid 500); 15 May 2012 15:16:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11961 invoked by uid 500); 15 May 2012 15:16:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11952 invoked by uid 99); 15 May 2012 15:16:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:16:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:16:21 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id AFDl1j0020SCNGk5DFG1NH; Tue, 15 May 2012 15:16:01 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id AFG11j00B38FjT13VFG1WC; Tue, 15 May 2012 15:16:01 +0000
Message-ID: <4FB27330.4050905@christopherschultz.net>
Date: Tue, 15 May 2012 11:16:00 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Vickie Troy-McKoy <vtmckoy@hotmail.com>, 
 Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com> <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>,<4FB26271.3010400@christopherschultz.net> <BLU162-W515A310C19E29BD9728CFDBE1B0@phx.gbl>
In-Reply-To: <BLU162-W515A310C19E29BD9728CFDBE1B0@phx.gbl>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vickie,

(Bringing this back on-list).

On 5/15/12 10:21 AM, Vickie Troy-McKoy wrote:
>> Date: Tue, 15 May 2012 10:04:33 -0400 From:
>> chris@christopherschultz.net Subject: Re: Multiple tomcat
>> Instances on Same Server and One Apache Instance
>> 
>> Try to express your requirements in simpler language. For
>> instance, you have two versions of your software: one one port
>> 8009 and one on port 7009. Under what conditions should a
>> particular user be sent to either of those versions?
>> 
>> If you are using sessions, the load-balancer will keep a client 
>> associated with the right version *after* the first request, but
>> you still need to decide under which circumstances a *new* client
>> should be sent to one or the other. Once you can answer that, we
>> can help you configure it.
> 
> Chris, I beg to differ.  I know EXACTLY what I want.  When I
> explained exactly what I wanted, I was told about the the
> loadbalancer worker, which I have never used before.  However, when
> I configured it as Andre (so graciously) explained it, I am
> receiving the same results as my simple workers list configuration.
> EXACTLY what I wanted to do was explained initially and clarified
> in my "5/14/12 9:54 PM" post.

This one? (quoted from here on out)

> I just want to forward based on the port that the Tomcat instance
> is running on.

Sadly, the client doesn't know the port number of the backend Tomcat.
So, how do you propose that httpd make the decision on which backend
Tomcat to contact? This is why I said you didn't have your
requirements straight.

> The 2 tomcat instances running on the same server is really the
> same application--but different versions. And, I thought that I
> could use the existing Apache instance to forward requests to the
> new version of the app running on tomcat as well.

You can, you just need to express the rules for choosing which
backend. I don't see that anywhere in the description of your problem.

> But, if I want (e.g. the tsademo app) the tomcat instance running
> on port 8009; and tsademo is being forwarded to both ports--how can
> I be sure that I would get the tsademo running on port 8009 and not
> the one running on 7009?

There needs to be some external factor. That's what I'm asking you to
provide: some way of telling which backend should be chosen. If you
don't care, then you can use the lb to randomly-assign new clients to
a backend. That seems unlikely to be the desired outcome: you want
some clients to go to one version and others to go to the other. But
which ones go where? That's the question you haven't answered.

> I tried using the Virtual host in Apache; but, ran into issues with
> that. Or, should I just go ahead and create an entirely new apache
> instance for the new tomcat instance?

Maybe I've misunderstood something: do you have httpd listening on two
ports (say, 80 and 81) and two backend Tomcats (8009 and 7009) and you
want to connect (for example) 80 -> 8009 and 81 -> 7009?

That can easily be done with VirtualHost configuration, but you have
to include the port number in the VirtualHost.

I would be surprised if that last bit is what you really have because
you haven't said anything about multi-port httpd yet. You also didn't
post your VirtualHost configuration so I suspect it's not relevant.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yczAACgkQ9CaO5/Lv0PCMogCgl54jfy29XCSD19T/s3DJBgFJ
9pQAoIZNc1P/sG9Vb28Zi1yppVTEKmeg
=Q/ZV
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234258-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:23:10 2012
Return-Path: <users-return-234258-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E390D9C4B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:23:10 +0000 (UTC)
Received: (qmail 34396 invoked by uid 500); 15 May 2012 15:23:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34338 invoked by uid 500); 15 May 2012 15:23:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34328 invoked by uid 99); 15 May 2012 15:23:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:23:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:22:59 +0000
Received: from [192.168.245.129] (p549E8A90.dip0.t-ipconnect.de [84.158.138.144])
	by tor.combios.es (Postfix) with ESMTPA id D02ECDA06F7
	for <users@tomcat.apache.org>; Tue, 15 May 2012 17:22:36 +0200 (CEST)
Message-ID: <4FB274BD.1090006@ice-sa.com>
Date: Tue, 15 May 2012 17:22:37 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl> <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl>
In-Reply-To: <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Vickie Troy-McKoy wrote:
...
> 
> Thank you Andre for your help.  After I configured it as you specified, the behavior was the same as before I inquired on this forum.  

Well, it doesn't sound as if we really helped a lot then, or am I misunderstanding this too ?
:-)

Note also for the record (and maybe a later enquiry) that it should not really be 
necessary to have 2 separate Apache httpd instances.  At least if we now understand 
properly what you are really trying to achieve..


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234259-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:29:31 2012
Return-Path: <users-return-234259-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65B9FC5A3
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:29:31 +0000 (UTC)
Received: (qmail 52230 invoked by uid 500); 15 May 2012 15:29:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52154 invoked by uid 500); 15 May 2012 15:29:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52145 invoked by uid 99); 15 May 2012 15:29:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:29:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:29:17 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id AFLj1j00417dt5G5EFUxwV; Tue, 15 May 2012 15:28:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id AFUw1j01N38FjT13ZFUxkF; Tue, 15 May 2012 15:28:57 +0000
Message-ID: <4FB27637.4080700@christopherschultz.net>
Date: Tue, 15 May 2012 11:28:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org> <4FB1E1C0.3060301@poonam.org> <4FB21B25.1020604@ice-sa.com> <4FB2634F.9050702@christopherschultz.net> <4FB270C4.5090304@jbgb.com>
In-Reply-To: <4FB270C4.5090304@jbgb.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Paul,

On 5/15/12 11:05 AM, Paul Singleton wrote:
> On 15/05/2012 15:08, Christopher Schultz wrote:
> 
>> On 5/15/12 5:00 AM, Andr Warnier wrote:
> 
>>> Personal opinion :<Base>  tags are evil. They create all kinds
>>> of issues when you move the app, or change your server
>>> configuration. There shouldn't be any real reason to use them,
>>> if your app is structured properly. Relative paths should
>>> work.
> 
>> +1
>> 
>> I only just found out in the last few months that URIs within a
>> CSS are /relative to the URI of the CSS/ which blew my mind and,
>> honestly, makes total sense.
> 
> A JSP developer needs to know how (and when) references are
> resolved in at least these cases:
> 
> <%@ include file="foo" ... <%@ include file="/foo" ...
> 
> <%@ page errorPage="foo" ... <%@ page errorPage="/foo" ...
> 
> <%@ taglib uri="foo" ... <%@ taglib uri="/foo" ...
> 
> <jsp:forward page="foo" ... <jsp:forward page="/foo" ...
> 
> <jsp:include page="foo" ... <jsp:include page="/foo" ...

All of the above should be covered in great detail in the JSP
specification. They are interpreted 100% on the server side.

http://jcp.org/aboutJava/communityprocess/mrel/jsr245/index.html

> <link href="foo" ... <link href="/foo" ...
> 
> <script src="foo" ... <script src="/foo" ...
> 
> <img src="foo" ... <img src="/foo" ...

All of the above will be (according to HTML) relative to the
currently-displaying page's URL (back to the last / in the first
example in each) or relative to the host (in the examples starting
with /). They are interpreted 100% by the client.

http://www.w3.org/TR/WD-html40-970917/htmlweb.html

> <style type="text/css"> p { background:url(foo) } ... <style
> type="text/css"> p { background:url(/foo) } ...

If this is in page markup (as you have here), then the URLs behave
exactly as described above for the HTML rules. If they are in a
separate CSS file, then all URLs are relative to the URL of the CSS
file itself.

Any relative URL on a page that contains a <base> tag will be relative
to the base tag's URL instead of the current page's URL.

http://www.w3.org/TR/css3-values/#url

> [surely there are more, e.g. within in-page JavaScript?]

In-page Javascript follows the same rules as everything in the HTML,
since you are manipulating DOM elements which follow HTML rules. If
you ask an element for its URL and then try to, say, open an
XMLHttpRequest to it, I don't know if the fully-qualified URL is used,
or if the browser resolves the URL relative to the current page. I
suspect that the latter is true, the result is the same, and it just
works as one would expect.

> What *nix minds think of as an "absolute" path e.g. /foo is just 
> relative to something other than what foo is relative to.

URLs beginning with / *are* relative. Absolute URLs must include the
protocol, etc. and so generally (on the web) begin with http(s)://.

> I'll try to find a small prize for whoever is first to provide
> links to clear, definitive documentation of how each case above
> resolves ;-)

Give the prize to Google. It's very good at finding things like "html
relative url" and "css relative url" and "jsp 2.2 specification".

>> I can't see a really good reason to use a<base>  tag these days
>> unless you want fully-qualified paths for all URLs and want to
>> save on bandwidth or something like that.
> 
> We found one

Please explain. I'd love to hear it.

> but if you are just using <base> empirically, to make things work
> when you don't really understand "relative paths", then it's 
> probably worth time spent figuring out how to manage without it.

+1

Using the <base> tag is just likely to mask other problems in your
webapp. Also, <base> doesn't work on the server ;)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+ydjcACgkQ9CaO5/Lv0PAT6gCgrfOjTLnGA2oiQ8v4aYgWPt2R
fwYAn3T8EgIRS+aYCGQL4RoBYoEsi0Vt
=+tP+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234260-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 15:37:54 2012
Return-Path: <users-return-234260-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 24531C5CE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 15:37:54 +0000 (UTC)
Received: (qmail 75188 invoked by uid 500); 15 May 2012 15:37:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75131 invoked by uid 500); 15 May 2012 15:37:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75122 invoked by uid 99); 15 May 2012 15:37:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:37:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 15:37:41 +0000
Received: from [192.168.245.129] (p549E8A90.dip0.t-ipconnect.de [84.158.138.144])
	by tor.combios.es (Postfix) with ESMTPA id 205B0DA079F
	for <users@tomcat.apache.org>; Tue, 15 May 2012 17:37:17 +0200 (CEST)
Message-ID: <4FB2782D.7000404@ice-sa.com>
Date: Tue, 15 May 2012 17:37:17 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Links not resolving to their correct path in TC 7.0.27
References: <4FB19BDF.6060205@poonam.org> <4FB1E1C0.3060301@poonam.org> <4FB21B25.1020604@ice-sa.com> <4FB2634F.9050702@christopherschultz.net> <4FB270C4.5090304@jbgb.com>
In-Reply-To: <4FB270C4.5090304@jbgb.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Paul Singleton wrote:
> On 15/05/2012 15:08, Christopher Schultz wrote:
> 
>> On 5/15/12 5:00 AM, Andr Warnier wrote:
> 
>>> Personal opinion :<Base>  tags are evil. They create all kinds of
>>> issues when you move the app, or change your server configuration.
>>> There shouldn't be any real reason to use them, if your app is
>>> structured properly. Relative paths should work.
> 
>> +1
>>
>> I only just found out in the last few months that URIs within a CSS
>> are /relative to the URI of the CSS/ which blew my mind and, honestly,
>> makes total sense.
> 
> A JSP developer needs to know how (and when) references are resolved in 
> at least these cases:
> 
> <%@ include file="foo" ...
> <%@ include file="/foo" ...
> 
> <%@ page errorPage="foo" ...
> <%@ page errorPage="/foo" ...
> 
> <%@ taglib uri="foo" ...
> <%@ taglib uri="/foo" ...
> 
> <jsp:forward page="foo" ...
> <jsp:forward page="/foo" ...
> 
> <jsp:include page="foo" ...
> <jsp:include page="/foo" ...
> 
> <link href="foo" ...
> <link href="/foo" ...
> 
> <script src="foo" ...
> <script src="/foo" ...
> 
> <img src="foo" ...
> <img src="/foo" ...
> 
> <style type="text/css"> p { background:url(foo) } ...
> <style type="text/css"> p { background:url(/foo) } ...
> 
> [surely there are more, e.g. within in-page JavaScript?]
> 
> What *nix minds think of as an "absolute" path e.g. /foo is just 
> relative to something other than what foo is relative to.
> 
> I'll try to find a small prize for whoever is first to provide links to 
> clear, definitive documentation of how each case above resolves ;-)

Well, if you are willing to up the prize a little bit (like to "medium" or so), here is my 
entry for an empirical set of rules :

The first and most important aspect to consider is *who* has to resolve these references.
And in your examples above, there are clearly two totally distinct cases :

a) a "<%@ include" kind of tag is processed by the server software, before the page is 
sent to the browser.  So in this case, the server software has to have a point of 
reference on the server, to resolve them.
The browser will never see those tags, as they will have been replaced by generated HTML 
before they are sent out.

b) the other cases which you mention are tags which "persist" in the pages sent to the 
browser, and thus it is the browser who will have to resolve them.
I will start with those.

When the browser resolves such a reference, its "point of reference" is the current 
document, or rather the URL from which this current document was obtained.
(Unless you changed it explicitly using a <base> tag - which is why they are evil..)

... Oh well, I see that Christopher beat me to it, and I agree 100% with his notes.
Jeez he types fast..
So I guess I've missed the prize.





> 
>> I can't see a really good reason to use a<base>  tag these days unless
>> you want fully-qualified paths for all URLs and want to save on
>> bandwidth or something like that.
> 
> We found one, but if you are just using <base> empirically, to make 
> things work when you don't really understand "relative paths", then it's 
> probably worth time spent figuring out how to manage without it.
> 
> Paul Singleton
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234261-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 16:05:47 2012
Return-Path: <users-return-234261-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB6FBC6A1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 16:05:47 +0000 (UTC)
Received: (qmail 53807 invoked by uid 500); 15 May 2012 16:05:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53724 invoked by uid 500); 15 May 2012 16:05:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53713 invoked by uid 99); 15 May 2012 16:05:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 16:05:44 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [149.8.64.32] (HELO mclmx2.mail.saic.com) (149.8.64.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 16:05:39 +0000
Received: from 0015-its-sbg03.saic.com ([149.8.64.21] [149.8.64.21]) by mclmx2.mail.saic.com with ESMTP id BT-MMP-437290 for users@tomcat.apache.org; Tue, 15 May 2012 12:05:12 -0400
X-AuditID: 95084018-b7cd5ae00000097a-1a-4fb27eb8c164
Received: from 0015-its-exbh03.us.saic.com (mcl-sixl-nat.saic.com [149.8.64.21])
	by 0015-its-sbg03.saic.com (Symantec Brightmail Gateway) with SMTP id C2.A4.02426.8BE72BF4; Tue, 15 May 2012 12:05:12 -0400 (EDT)
Received: from 0015-its-exmb11.us.saic.com ([10.43.229.22]) by 0015-its-exbh03.us.saic.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 15 May 2012 12:05:12 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: Tomcat Stdout Rotate
Date: Tue, 15 May 2012 12:05:11 -0400
Message-Id: <B111EEAA42CD0F4D85A5E486368D155A0BE88D4F@0015-its-exmb11.us.saic.com>
In-Reply-To: <4FB26FD2.6030205@christopherschultz.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Tomcat Stdout Rotate
Thread-Index: Ac0yq7wafqBHNR9MT2OX+4ccTIXqtwABr2vg
References: <B111EEAA42CD0F4D85A5E486368D155A0BE88ADE@0015-its-exmb11.us.saic.com> <4FB26FD2.6030205@christopherschultz.net>
From: "Le, Hong D." <HONG.D.LE@saic.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 15 May 2012 16:05:12.0212 (UTC) FILETIME=[821E0540:01CD32B4]
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Q2hyaXMsDQoNClRoYW5rIHlvdSBzbyBtdWNoIGZvciB0aGUgc3VnZ2VzdGlvbnMuDQoNCkl0J3Mg
YSB0b21jYXQgb24gd2luZG93cyBzbyBzb21lIG9wdGlvbnMgb2YgbG9ncyBvciBmaWxlcyByb3Rh
dGlvbiBhdmFpbGFibGUgb24gTGkvVW5peCB3b24ndCB3b3JrLiBJIHRyaWVkIHRvIHdyaXRlIHNj
cmlwdCB0byByb3RhdGUgYnV0IGZhaWxlZCBiL2MgYXMgeW91IHNhaWQsIEkgY2FuJ3QgbW92ZSBs
b2cgZmlsZXMgd2hpbGUgdG9tY2F0IGlzIHJ1bm5pbmcuIE5laXRoZXIgTG9nNGouDQoNCkkgYWxz
byB0cmllZCBzd2FsbG93T3V0cHV0IChtaW5lIGlzIFRvbWNhdDcpLCBidXQgaXQgZG9lc24ndCB3
b3JrIGZvciBtZS4gSWYNCg0KSSBoYXZlIHRvIGRlYWwgd2l0aCBpdCBvbiBwcm9kdWN0aW9uLiBU
aGF0J3MgdGhlIHByb2JsZW0uIFBsZWFzZSBkb24ndCBhc2sgbWUgd2h5LCBqdXN0IGIvYyB0aGF0
J3MgdGhlIGJ1c2luZXNzIEkgaGF2ZS4NCg0KU28gbWF5YmUgYW5vdGhlciBxdWVzdGlvbiBpcyBo
b3cgdG8gZG8gbG9nZ2luZy1waXBlIGFuZCByb3RhdGUgKGFzIHlvdSBzYWlkKSBmb3IgSlNTRT8N
Cg0KVGhhbmtzLg0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiB1c2Vycy1y
ZXR1cm4tMjM0MjU1LUhPTkcuRC5MRT1zYWljLmNvbUB0b21jYXQuYXBhY2hlLm9yZyBbbWFpbHRv
OnVzZXJzLXJldHVybi0yMzQyNTUtSE9ORy5ELkxFPXNhaWMuY29tQHRvbWNhdC5hcGFjaGUub3Jn
XSBPbiBCZWhhbGYgT2YgQ2hyaXN0b3BoZXIgU2NodWx0eg0KU2VudDogVHVlc2RheSwgTWF5IDE1
LCAyMDEyIDExOjAyIEFNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJlOiBUb21j
YXQgU3Rkb3V0IFJvdGF0ZQ0KDQotLS0tLUJFR0lOIFBHUCBTSUdORUQgTUVTU0FHRS0tLS0tDQpI
YXNoOiBTSEExDQoNCkhvbmcsDQoNCk9uIDUvMTUvMTIgMTA6MDQgQU0sIExlLCBIb25nIEQuIHdy
b3RlOg0KPiBJIGhhdmUgdHJpZWQgc28gbWFueSB3YXlzIHRvIHJvdGF0ZSB0b21jYXQgc3Rkb3V0
IGxvZyBmaWxlIGRhaWx5IG9yIGJ5IA0KPiBzaXplIGJ1dCB1bmFibGUgdG8gYWNoaWV2ZSB0aGUg
Z29hbC4NCg0KV2hhdCBkaWQgeW91IHRyeT8NCg0KPiBNeSBsb2cgZmlsZSBncm93cyB2ZXJ5IHF1
aWNrIGJlY2F1c2UgSSBoYXZlIHRvIHNldCBzc2wgYW5kIGhhbmRzaGFrZSANCj4gdG8gZGVidWcg
bW9kZS4NCg0KVGhpcyBpc24ndCBpbiBwcm9kdWN0aW9uLCBpcyBpdD8gWW91IGNlcnRhaW5seSBk
b24ndCB3YW50IGFueXRoaW5nIGluIGRlYnVnIG1vZGUgaW4gcHJvZHVjdGlvbiAtIGF0IGxlYXN0
IG5vdCBmb3IgbG9uZy4NCg0KPiBJIGFwcHJlY2lhdGUgaWYgeW91IGNhbiBoZWxwIG1lIGhvdyB0
byBkby4NCg0KT2J2aW91c2x5LCB0aGUgYmVzdCB0aGluZyBpcyBub3QgdG8gZHVtcCBhIGxvdCBv
ZiBzdHVmZiB0byBzdGRvdXQuDQpSZWNlbnQgdmVyc2lvbnMgb2YgVG9tY2F0ICh5b3UgZGlkbid0
IHNheSB3aGF0IHlvdSd2ZSBnb3QpIGhhdmUgYSAic3dhbGxvd091dHB1dCIgb3B0aW9uIG9uIHNw
ZWNpZmljIHdlYmFwcHMsIGJ1dCB0aGF0IGlzIHVubGlrZWx5IHRvIGFmZmVjdCBKU1NFIGRlYnVn
IGxvZ2dpbmcuDQoNClNpbmNlIFRvbWNhdCdzIGxvZ3MvY2F0YWxpbmEub3V0IGlzIGRvbmUgdXNp
bmcgc2hlbGwgcmVkaXJlY3Rpb24sIHRoZSBzdHJlYW0gbW92ZXMgd2l0aCB0aGUgZmlsZSwgc28g
eW91IGNhbid0IGp1c3QgcmUtbmFtZSB0aGUgZmlsZTogeW91J2QgaGF2ZSB0byByZXN0YXJ0IFRv
bWNhdCBhZnRlciBtb3ZpbmcgdGhlIGZpbGUgd2hpY2ggaXNuJ3QgcmVhbGx5IGEgZ29vZCBvcHRp
b24uDQoNCllvdSBjb3VsZCB0cnkgdG8gdXNlIGEgbG9nZ2luZy1waXBlIHRoYXQga25vd3MgaG93
IHRvIHJvdGF0ZSBmaWxlcyBhbmQgaGFjayBjYXRhbGluYS5zaCB0byB1c2UgdGhhdCBpbnN0ZWFk
IG9mICJbLi4uXSA+IGxvZ3MvY2F0YWxpbmEub3V0Ig0KdGhhdCBpcyBpbiB0aGVyZSBjdXJyZW50
bHkuDQoNCkdvb2QgbHVjaywNCi0gLWNocmlzDQotLS0tLUJFR0lOIFBHUCBTSUdOQVRVUkUtLS0t
LQ0KVmVyc2lvbjogR251UEcvTWFjR1BHMiB2Mi4wLjE3IChEYXJ3aW4pDQpDb21tZW50OiBHUEdU
b29scyAtIGh0dHA6Ly9ncGd0b29scy5vcmcNCkNvbW1lbnQ6IFVzaW5nIEdudVBHIHdpdGggTW96
aWxsYSAtIGh0dHA6Ly9lbmlnbWFpbC5tb3pkZXYub3JnLw0KDQppRVlFQVJFQ0FBWUZBayt5YjlJ
QUNna1E5Q2FPNS9MdjBQQlVFZ0NncmM5ZWlySDBjK2JSQ3pra3Bra2dzeXliDQpXOXNBbXdmUmhQ
MkM0T2loWmEyN1AzVWtTbnVDQWhzeQ0KPWc0eWwNCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0t
LQ0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2Ny
aWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiB1
c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234262-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 16:41:37 2012
Return-Path: <users-return-234262-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BDF45C15E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 16:41:37 +0000 (UTC)
Received: (qmail 58937 invoked by uid 500); 15 May 2012 16:41:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58858 invoked by uid 500); 15 May 2012 16:41:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58847 invoked by uid 99); 15 May 2012 16:41:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 16:41:34 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 16:41:27 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 90924281E5
	for <users@tomcat.apache.org>; Tue, 15 May 2012 09:41:05 -0700 (PDT)
Received: from zimbra-prod-mta-3.vmware.com (zimbra-prod-mta-3.vmware.com [10.113.160.227])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 838051829E
	for <users@tomcat.apache.org>; Tue, 15 May 2012 09:41:05 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id 7F72DE02AE
	for <users@tomcat.apache.org>; Tue, 15 May 2012 09:41:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-3.vmware.com
Received: from zimbra-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cqe36zBaY-Ud for <users@tomcat.apache.org>;
	Tue, 15 May 2012 09:41:05 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id 6DE0CE00B7
	for <users@tomcat.apache.org>; Tue, 15 May 2012 09:41:05 -0700 (PDT)
Date: Tue, 15 May 2012 09:41:05 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <22293339.550.1337100060605.JavaMail.daniel@cleveland>
In-Reply-To: <B111EEAA42CD0F4D85A5E486368D155A0BE88D4F@0015-its-exmb11.us.saic.com>
Subject: Re: Tomcat Stdout Rotate
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [24.160.217.1]
X-Mailer: Zimbra 7.1.3_GA_3374 (Zimbra Desktop/7.1.4_11299_Linux)



----- Original Message -----
> Chris,
> 
> Thank you so much for the suggestions.
> 
> It's a tomcat on windows so some options of logs or files rotation
> available on Li/Unix won't work. I tried to write script to rotate
> but failed b/c as you said, I can't move log files while tomcat is
> running. Neither Log4j.

Are you running Tomcat as a Windows Service?  If so, you'll be using a wrapper script.  The wrapper script should allow you to rotate the stdout / stderr log file.  What wrapper script are you using?

Dan



> 
> I also tried swallowOutput (mine is Tomcat7), but it doesn't work for
> me. If
> 
> I have to deal with it on production. That's the problem. Please
> don't ask me why, just b/c that's the business I have.
> 
> So maybe another question is how to do logging-pipe and rotate (as
> you said) for JSSE?
> 
> Thanks.
> 
> 
> -----Original Message-----
> From: users-return-234255-HONG.D.LE=saic.com@tomcat.apache.org
> [mailto:users-return-234255-HONG.D.LE=saic.com@tomcat.apache.org] On
> Behalf Of Christopher Schultz
> Sent: Tuesday, May 15, 2012 11:02 AM
> To: Tomcat Users List
> Subject: Re: Tomcat Stdout Rotate
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Hong,
> 
> On 5/15/12 10:04 AM, Le, Hong D. wrote:
> > I have tried so many ways to rotate tomcat stdout log file daily or
> > by
> > size but unable to achieve the goal.
> 
> What did you try?
> 
> > My log file grows very quick because I have to set ssl and
> > handshake
> > to debug mode.
> 
> This isn't in production, is it? You certainly don't want anything in
> debug mode in production - at least not for long.
> 
> > I appreciate if you can help me how to do.
> 
> Obviously, the best thing is not to dump a lot of stuff to stdout.
> Recent versions of Tomcat (you didn't say what you've got) have a
> "swallowOutput" option on specific webapps, but that is unlikely to
> affect JSSE debug logging.
> 
> Since Tomcat's logs/catalina.out is done using shell redirection, the
> stream moves with the file, so you can't just re-name the file:
> you'd have to restart Tomcat after moving the file which isn't
> really a good option.
> 
> You could try to use a logging-pipe that knows how to rotate files
> and hack catalina.sh to use that instead of "[...] >
> logs/catalina.out"
> that is in there currently.
> 
> Good luck,
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> 
> iEYEARECAAYFAk+yb9IACgkQ9CaO5/Lv0PBUEgCgrc9eirH0c+bRCzkkpkkgsyyb
> W9sAmwfRhP2C4OihZa27P3UkSnuCAhsy
> =g4yl
> -----END PGP SIGNATURE-----
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234263-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 17:03:08 2012
Return-Path: <users-return-234263-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7B73C1CD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 17:03:08 +0000 (UTC)
Received: (qmail 14114 invoked by uid 500); 15 May 2012 17:03:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14028 invoked by uid 500); 15 May 2012 17:03:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14015 invoked by uid 99); 15 May 2012 17:03:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 17:03:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 17:02:57 +0000
Received: from omta06.westchester.pa.mail.comcast.net ([76.96.62.51])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id AGuJ1j00416LCl05FH2dSo; Tue, 15 May 2012 17:02:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta06.westchester.pa.mail.comcast.net with comcast
	id AH2d1j00Q38FjT13SH2dtG; Tue, 15 May 2012 17:02:37 +0000
Message-ID: <4FB28C2B.7000308@christopherschultz.net>
Date: Tue, 15 May 2012 13:02:35 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat Stdout Rotate
References: <B111EEAA42CD0F4D85A5E486368D155A0BE88ADE@0015-its-exmb11.us.saic.com> <4FB26FD2.6030205@christopherschultz.net> <B111EEAA42CD0F4D85A5E486368D155A0BE88D4F@0015-its-exmb11.us.saic.com>
In-Reply-To: <B111EEAA42CD0F4D85A5E486368D155A0BE88D4F@0015-its-exmb11.us.saic.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hong,

On 5/15/12 12:05 PM, Le, Hong D. wrote:
> It's a tomcat on windows so some options of logs or files rotation 
> available on Li/Unix won't work.

Oh, that's really too bad.

> I tried to write script to rotate but failed b/c as you said, I
> can't move log files while tomcat is running.

Yeah, that's just how things work.

> Neither Log4j.

Well, you can't make log4j take-over stdout (at least not that I know of).

You might be able to hack Tomcat to to this for you, though. If you
write a component like a LifecycleListener that runs a) in Tomcat's
ClassLoader and b) has all security permissions (if running under a
SecurityManager), you might be able to re-assign System.out to a
stream of your choosing.

Of course, you'd have to write a stream that was capable of doing what
you want, but you might even be able to just pipe everything (probably
broken by newlines) to a "real" logger that can do rotation, such as
j.u.logging or even log4j.

> I also tried swallowOutput (mine is Tomcat7), but it doesn't work
> for me.

That's only for webapps, not for the core of Tomcat. So, you're out of
luck where swallowOutput is concerned.

> I have to deal with it on production. That's the problem. Please 
> don't ask me why, just b/c that's the business I have.

I certainly don't envy your position. What are you doing with all that
debugging information? It's non-standard, probably impossible to
parse, etc. Why not use a Filter that captures the information you
*actually need* and log that appropriately? I realize you are probably
operating under  policy of stupidity that you can't change, but maybe
you haven't thought of everything ;)

> So maybe another question is how to do logging-pipe and rotate (as 
> you said) for JSSE?

I couldn't find any JSSE-specific logging configuration, so I suspect
that stdout is what you get with no other choices. That said, you
still might have options. I don't know how stable pipes are on win32,
but I would be comfortable launching a piped log process on *NIX to
monitor a log file as long as necessary. You could definitely try it
on win32 and see what happens. Something like this:

http://httpd.apache.org/docs/2.2/logs.html#piped

Those instructions are for Apache httpd. You can't configure Tomcat to
log in this way, but you can do your own shell-based output
redirection using "[...] | rotatelogs [...]" instead of "[...] >
logs/catalina.out [...]" -- just hack catalina.bat.

If you are running Tomcat as a service, I think you are pretty much
entirely out of luck, unless there is some commons-daemon option that
I don't know about to pipe stdout to a process instead of a file on
the disk. Does win32 have named-pipes?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yjCsACgkQ9CaO5/Lv0PBysACfVg5wokI5XG3pOP2jvEHa1adU
va8AnjeX+K1ZWQAWCXu71DGmVxZqgRlz
=M7pN
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234264-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 17:13:19 2012
Return-Path: <users-return-234264-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C965AC211
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 17:13:19 +0000 (UTC)
Received: (qmail 48842 invoked by uid 500); 15 May 2012 17:13:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48792 invoked by uid 500); 15 May 2012 17:13:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48780 invoked by uid 99); 15 May 2012 17:13:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 17:13:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 17:13:08 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id AH3X1j00517dt5G51HCnRT; Tue, 15 May 2012 17:12:47 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id AHCn1j00D38FjT13ZHCndP; Tue, 15 May 2012 17:12:47 +0000
Message-ID: <4FB28E8E.7060501@christopherschultz.net>
Date: Tue, 15 May 2012 13:12:46 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat Stdout Rotate
References: <22293339.550.1337100060605.JavaMail.daniel@cleveland>
In-Reply-To: <22293339.550.1337100060605.JavaMail.daniel@cleveland>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dan,

On 5/15/12 12:41 PM, Daniel Mikusa wrote:
> ----- Original Message -----
>> Chris,
>> 
>> Thank you so much for the suggestions.
>> 
>> It's a tomcat on windows so some options of logs or files 
>> rotation available on Li/Unix won't work. I tried to write
>> script to rotate but failed b/c as you said, I can't move log
>> files while tomcat is running. Neither Log4j.
> 
> Are you running Tomcat as a Windows Service?  If so, you'll be 
> using a wrapper script.  The wrapper script should allow you to 
> rotate the stdout / stderr log file.  What wrapper script are you 
> using?

This prompted to actually *look* at commons-demon and it looks like
there is some support:

https://issues.apache.org/jira/browse/DAEMON-95

If you issue a SIGUSR1 to the process, it will re-open the output
files. I suspect that you could do something like this to rotate:

> STAMP=[obtain timestamp] ren catalina.out catalina.out.%STAMP% 
> pskill SIGUSR1 %CATALINA_PID%

You can get 'pskill' from Sysinternals, but I'm not sure if it will
work. This is obviously a very *NIX-oriented feature.

I would head-on over to the commons list and ask about log rotation
suggestions on win32.

That is, if you are using Tomcat's service launcher. You probably
should be, honestly.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+yjo4ACgkQ9CaO5/Lv0PCbqQCfTlovQW06feOq9nNaosg9dUkv
bWEAoIoFqUed8lPHrrXcE9BCoN7nGO1z
=xFEl
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234265-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 19:18:40 2012
Return-Path: <users-return-234265-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70E13CA7F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 19:18:40 +0000 (UTC)
Received: (qmail 46461 invoked by uid 500); 15 May 2012 19:18:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46299 invoked by uid 500); 15 May 2012 19:18:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46289 invoked by uid 99); 15 May 2012 19:18:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 19:18:36 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Douglas.Briere@ca.com designates 74.125.149.145 as permitted sender)
Received: from [74.125.149.145] (HELO na3sys009aog121.obsmtp.com) (74.125.149.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 19:18:25 +0000
Received: from USILMS190.ca.com ([141.202.246.44]) (using TLSv1) by na3sys009aob121.postini.com ([74.125.148.12]) with SMTP
	ID DSNKT7Kr6n70pAnkfhMU9XGx6Apj6eycocmG@postini.com; Tue, 15 May 2012 12:18:04 PDT
Received: from USILMS175.ca.com (141.202.6.25) by USILMS190.ca.com
 (141.202.246.44) with Microsoft SMTP Server (TLS) id 14.1.355.2; Tue, 15 May
 2012 15:18:01 -0400
Received: from USILMS111B.ca.com ([169.254.8.145]) by usilms175.ca.com
 ([141.202.6.25]) with mapi id 14.01.0355.002; Tue, 15 May 2012 15:18:01 -0400
From: "Briere, Douglas" <Douglas.Briere@ca.com>
To: "'users@tomcat.apache.org'" <'users@tomcat.apache.org'>
Subject: DefaultServlet socketWrite hang
Thread-Topic: DefaultServlet socketWrite hang
Thread-Index: Ac0yzgcmCQAnqhPoT8OAeWVJEcgQNQAAFiKQAABAybA=
Date: Tue, 15 May 2012 19:18:00 +0000
Message-ID: <FF57D64E4551F64F85176BC1E9478D402D3D1DB2@usilms111b.ca.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [138.42.248.45]
Content-Type: multipart/alternative;
	boundary="_000_FF57D64E4551F64F85176BC1E9478D402D3D1DB2usilms111bcacom_"
MIME-Version: 1.0

--_000_FF57D64E4551F64F85176BC1E9478D402D3D1DB2usilms111bcacom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hello,

We are using tomcat 5.5.30. I saw the following 26 times at one of customer=
s sites.  Our web server is used to launch JNLP applications, so I believe =
this was downloading the client jar files.  However, java webstart caches a=
fter the first occurrence so this is a bit odd.  Has anyone seen this befor=
e? It appears these threads are getting stalled out.  Could a socket timeou=
t be configured?  Thanks.

at java.net.SocketOutputStream.socketWrite0(Native Method)
                at java.net.SocketOutputStream.socketWrite(SocketOutputStre=
am.java:92)
                at java.net.SocketOutputStream.write(SocketOutputStream.jav=
a:136)
                at org.apache.coyote.http11.InternalOutputBuffer.realWriteB=
ytes(InternalOutputBuffer.java:751)
                at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChu=
nk.java:432)
                at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.ja=
va:347)
                at org.apache.coyote.http11.InternalOutputBuffer$OutputStre=
amOutputBuffer.doWrite(InternalOutputBuffer.java:774)
                at org.apache.coyote.http11.filters.IdentityOutputFilter.do=
Write(IdentityOutputFilter.java:118)
                at org.apache.coyote.http11.InternalOutputBuffer.doWrite(In=
ternalOutputBuffer.java:584)
                at org.apache.coyote.Response.doWrite(Response.java:560)
                at org.apache.catalina.connector.OutputBuffer.realWriteByte=
s(OutputBuffer.java:365)
                at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.ja=
va:352)
                at org.apache.catalina.connector.OutputBuffer.writeBytes(Ou=
tputBuffer.java:396)
                at org.apache.catalina.connector.OutputBuffer.write(OutputB=
uffer.java:385)
                at org.apache.catalina.connector.CoyoteOutputStream.write(C=
oyoteOutputStream.java:89)
                at org.apache.catalina.servlets.DefaultServlet.copy(Default=
Servlet.java:1839)
                at org.apache.catalina.servlets.DefaultServlet.serveResourc=
e(DefaultServlet.java:929)
                at org.apache.catalina.servlets.DefaultServlet.doGet(Defaul=
tServlet.java:385)
                at javax.servlet.http.HttpServlet.service(HttpServlet.java:=
627)
                at javax.servlet.http.HttpServlet.service(HttpServlet.java:=
729)
                at org.apache.catalina.core.ApplicationFilterChain.internal=
DoFilter(ApplicationFilterChain.java:269)
                at org.apache.catalina.core.ApplicationFilterChain.doFilter=
(ApplicationFilterChain.java:188)
                at org.apache.catalina.core.StandardWrapperValve.invoke(Sta=
ndardWrapperValve.java:213)
                at org.apache.catalina.core.StandardContextValve.invoke(Sta=
ndardContextValve.java:172)
                at org.apache.catalina.authenticator.AuthenticatorBase.invo=
ke(AuthenticatorBase.java:470)
                at org.apache.catalina.core.StandardHostValve.invoke(Standa=
rdHostValve.java:127)
                at org.apache.catalina.valves.ErrorReportValve.invoke(Error=
ReportValve.java:117)
                at org.apache.catalina.valves.FastCommonAccessLogValve.invo=
ke(FastCommonAccessLogValve.java:500)
                at org.apache.catalina.core.StandardEngineValve.invoke(Stan=
dardEngineValve.java:108)
                at org.apache.catalina.connector.CoyoteAdapter.service(Coyo=
teAdapter.java:174)
                at org.apache.coyote.http11.Http11Processor.process(Http11P=
rocessor.java:879)
                at org.apache.coyote.http11.Http11BaseProtocol$Http11Connec=
tionHandler.processConnection(Http11BaseProtocol.java:665)
                at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket=
(PoolTcpEndpoint.java:528)
                at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.ru=
nIt(LeaderFollowerWorkerThread.java:81)
                at org.apache.tomcat.util.threads.ThreadPool$ControlRunnabl=
e.run(ThreadPool.java



--_000_FF57D64E4551F64F85176BC1E9478D402D3D1DB2usilms111bcacom_--

From users-return-234266-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 22:07:21 2012
Return-Path: <users-return-234266-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCED9C090
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 22:07:21 +0000 (UTC)
Received: (qmail 9396 invoked by uid 500); 15 May 2012 22:07:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9335 invoked by uid 500); 15 May 2012 22:07:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9323 invoked by uid 99); 15 May 2012 22:07:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 22:07:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 22:07:12 +0000
Received: by werf3 with SMTP id f3so53529wer.18
        for <users@tomcat.apache.org>; Tue, 15 May 2012 15:06:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=DFKqPEx9ntIkHV0LSGxj4wg4OPYdrITYbcchzdWJVn0=;
        b=N2fcO0uB+qKlDCqqEGiO9/cqWSv7JDSRi1AnqJfbBB5IKsGYe7Kj28ugggICsvJLcf
         qDTNyX92Ibk+OWZCdhMpaKnQueQD1RjA0T+vYVxeiVG4/VNw6CNGwl8QDujqYOFUpCjz
         04lSciO/uIDGdzzFaA8M5G5WtkHeV6K7Tk3mQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=DFKqPEx9ntIkHV0LSGxj4wg4OPYdrITYbcchzdWJVn0=;
        b=Q4Mokbw+AG6wHVDAZ9uUGYUevR1Qj48BH9ooiQKYnMPCIxyAPQe01eQzHgGCpePRx/
         Xj5w28KsvIa+vwVSyjIfLMhgtetg5+Z33BLTKq5l2QdH2QZBUGDXXlKnI22wRnKZjUj1
         TbzcR8ZKlNdvD0efLsAPRwKGspvW55Dy+YMDrd6KPsPLA6UL/dPZOB4fpvl48nPvny1D
         l+0STMbbr+3Nsxyf78eQZYrM8AQKjPSzSBDj98GCMM0DmBFwq6YXqQ0OoWEnBNtQw3YN
         HQhza7/xABipaXsOEdqwzE1/S5kAuDBO5U19eNBNj1cXgjHniZfL58lkajifgzKbsKDg
         FJdw==
Received: by 10.180.107.101 with SMTP id hb5mr1600922wib.7.1337119611440;
        Tue, 15 May 2012 15:06:51 -0700 (PDT)
Received: from Asura.local ([89.195.2.186])
        by mx.google.com with ESMTPS id fl2sm1755008wib.2.2012.05.15.15.06.49
        (version=SSLv3 cipher=OTHER);
        Tue, 15 May 2012 15:06:50 -0700 (PDT)
Message-ID: <4FB2D385.60205@pidster.com>
Date: Tue, 15 May 2012 23:07:01 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com> <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>,<4FB26271.3010400@christopherschultz.net> <BLU162-W515A310C19E29BD9728CFDBE1B0@phx.gbl> <4FB27330.4050905@christopherschultz.net>
In-Reply-To: <4FB27330.4050905@christopherschultz.net>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig5213C69317719790E3A57189"
X-Gm-Message-State: ALoCoQnvv0KYZyMFHWEpxoKx3gFxQCgrIuv6KjeH35mYEG2DSvYu4+NmqWz7Sg7YmJg6mM/zHD1L
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig5213C69317719790E3A57189
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 15/05/2012 16:16, Christopher Schultz wrote:
> Vickie,
>=20
> (Bringing this back on-list).
>=20
> On 5/15/12 10:21 AM, Vickie Troy-McKoy wrote:
>>> Date: Tue, 15 May 2012 10:04:33 -0400 From:
>>> chris@christopherschultz.net Subject: Re: Multiple tomcat
>>> Instances on Same Server and One Apache Instance
>>>
>>> Try to express your requirements in simpler language. For
>>> instance, you have two versions of your software: one one port
>>> 8009 and one on port 7009. Under what conditions should a
>>> particular user be sent to either of those versions?
>>>
>>> If you are using sessions, the load-balancer will keep a client=20
>>> associated with the right version *after* the first request, but
>>> you still need to decide under which circumstances a *new* client
>>> should be sent to one or the other. Once you can answer that, we
>>> can help you configure it.
>=20
>> Chris, I beg to differ.  I know EXACTLY what I want.  When I
>> explained exactly what I wanted, I was told about the the
>> loadbalancer worker, which I have never used before.  However, when
>> I configured it as Andre (so graciously) explained it, I am
>> receiving the same results as my simple workers list configuration.
>> EXACTLY what I wanted to do was explained initially and clarified
>> in my "5/14/12 9:54 PM" post.
>=20
> This one? (quoted from here on out)
>=20
>> I just want to forward based on the port that the Tomcat instance
>> is running on.
>=20
> Sadly, the client doesn't know the port number of the backend Tomcat.
> So, how do you propose that httpd make the decision on which backend
> Tomcat to contact? This is why I said you didn't have your
> requirements straight.
>=20
>> The 2 tomcat instances running on the same server is really the
>> same application--but different versions. And, I thought that I
>> could use the existing Apache instance to forward requests to the
>> new version of the app running on tomcat as well.
>=20
> You can, you just need to express the rules for choosing which
> backend. I don't see that anywhere in the description of your problem.
>=20
>> But, if I want (e.g. the tsademo app) the tomcat instance running
>> on port 8009; and tsademo is being forwarded to both ports--how can
>> I be sure that I would get the tsademo running on port 8009 and not
>> the one running on 7009?
>=20
> There needs to be some external factor. That's what I'm asking you to
> provide: some way of telling which backend should be chosen. If you
> don't care, then you can use the lb to randomly-assign new clients to
> a backend. That seems unlikely to be the desired outcome: you want
> some clients to go to one version and others to go to the other. But
> which ones go where? That's the question you haven't answered.

Really, the requirement was achievable in a simple way.


p

>> I tried using the Virtual host in Apache; but, ran into issues with
>> that. Or, should I just go ahead and create an entirely new apache
>> instance for the new tomcat instance?
>=20
> Maybe I've misunderstood something: do you have httpd listening on two
> ports (say, 80 and 81) and two backend Tomcats (8009 and 7009) and you
> want to connect (for example) 80 -> 8009 and 81 -> 7009?
>=20
> That can easily be done with VirtualHost configuration, but you have
> to include the port number in the VirtualHost.
>=20
> I would be surprised if that last bit is what you really have because
> you haven't said anything about multi-port httpd yet. You also didn't
> post your VirtualHost configuration so I suspect it's not relevant.
>=20
> -chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enig5213C69317719790E3A57189
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPstOHAAoJEGoM2OGpOvr9xM8P+QHnjdsRutcTLDzIQaxJDtSj
v2yzNOz3SictZyqa53921BSG8y8muhDT7JX/HSlsYAfAbpCq27nXD4lfUZbvG2E5
HdJd92HXkfpSV+IJlGHyKhz32Q97eQjYt7M/8w9uMxie/WgatGxL2HDN0U+LyD5E
0jhnMcYePWUmucoJxnq9h2+WmP5I3++uxSuS5Suz4ShQT5uIOWj+vbizez6/0GzC
FBsJFvOLeaeDGiH/CtcqlTHU9w9F2SIFIvMlOLtQMpkwc3J5fEzO1eb5KbbQ1eJ9
BE8wyzzGPWgdboJaCM0kULgcp3ZgR2WA2wPGEnEkWAzFvSHGnmEaHzRAep4I0zFb
/v5IldEsZ+Hijhkr0bghZyljh3rQPDX1jkTDgsGaKvj/Bsva/EoxuFJHicv6i+Ih
4Oo0xTfArYFQY17dFGO1NsbahjDYsNn2Lu/uovRU2rBEiGUINj3tKkiwScGZgfY0
7yHBSU1IEL3tsHww9vllXw2FNGzxWZOAKYzrMi49ABJaTNGKIY9v7XbawSasYUsB
9Wy39O7CKu47I74zdYRPU35JiqI4nUWgaf4HqQT9q+b92crDeP9U5R0K7BQgXUm4
vwWPbtgWQ4faVgz010m6XPCZkcoev1OsrrkYw3LzK/mC7wXK9jzG/Ms+W/Vqu05j
BIKM/h63GprGlZBBd6pS
=api9
-----END PGP SIGNATURE-----

--------------enig5213C69317719790E3A57189--

From users-return-234267-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 15 22:33:19 2012
Return-Path: <users-return-234267-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA1FE9C42
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 15 May 2012 22:33:18 +0000 (UTC)
Received: (qmail 80819 invoked by uid 500); 15 May 2012 22:33:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80767 invoked by uid 500); 15 May 2012 22:33:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80758 invoked by uid 99); 15 May 2012 22:33:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 May 2012 22:33:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.183.242] (HELO nm10-vm0.bullet.mail.ukl.yahoo.com) (217.146.183.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 May 2012 22:33:08 +0000
Received: from [217.146.183.184] by nm10.bullet.mail.ukl.yahoo.com with NNFMP; 15 May 2012 22:32:46 -0000
Received: from [77.238.184.56] by tm15.bullet.mail.ukl.yahoo.com with NNFMP; 15 May 2012 22:32:46 -0000
Received: from [127.0.0.1] by smtp125.mail.ukl.yahoo.com with NNFMP; 15 May 2012 22:32:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1337121166; bh=IffIoNoASIRbx2NAqM4tk3Np2mRpCOSuhFD5YbFvhB8=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=Gg5GIEDQmo9kV70WMUIcU7zaZ9ayFLBkRWiu7iVD4hbrIn4u57LiKQq+i4GYAEg4Zwor7nvVpjKfHPbwxzC7qUrfz+GNh7FFwtTgpM0hVMGh7PzR6OlwlBH0mr1M/huyRYoQ85jwtXIgwnrcIkbPBSGTA4H1v4ns1gumVn2X6Jk=
X-Yahoo-Newman-Id: 464313.53202.bm@smtp125.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: bau7pyAVM1ncnpNSUthXQBobykupnW1SK5wmOK6DiENcy4I
 KnhZQSwSJvoWWEuwYy0TQNR9p7R1p7rZ10_0v0l1xSYYP7O4y3g0HNPLVS1.
 64W5ttJ4nwelmjIAreozVNHB9LxU.7RJZSmjbmvVs5F_XLXsIpJ6JcFzQlfX
 KUbmNeOjwNRf0yG.te_K2bmvs5fYGyncu53jYcrLWFdQiIdYQ3JUsUJJnxSL
 Qc52VoZMZKaA5g4Wv6fyrmf0e5i_xdMvFeaptYrScCCzLr5Ly4P9J2QEjaY5
 3sdyGTw_YCeFhbSA54VaMukOQkm1rVFh4OQIsWFDktsJLNq1OU8CisdaSczi
 _4qq7DT3Lbb5Gn0ePWTZ.9Lol34g_LHDxzn98GlHbpcZF47MoMcoBvapOKvR
 WVcqD4g--
X-Yahoo-SMTP: 4morDKeswBDE3lIuzd.cm_qbJNxlcsznEWqdK4MN
Received: from [127.0.0.1] (miguel_3_gonzalez@85.54.53.78 with plain)
        by smtp125.mail.ukl.yahoo.com with SMTP; 15 May 2012 22:32:46 +0000 GMT
Message-ID: <4FB2D98B.4050703@yahoo.es>
Date: Wed, 16 May 2012 00:32:43 +0200
From: =?ISO-8859-1?Q?Miguel_Gonz=E1lez_Casta=F1os?= <miguel_3_gonzalez@yahoo.es>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl> <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl> <4FB274BD.1090006@ice-sa.com>
In-Reply-To: <4FB274BD.1090006@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 120515-1, 15/05/2012), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

On 15/05/2012 17:22, Andr Warnier wrote:
> Vickie Troy-McKoy wrote:
> ...
>>
>> Thank you Andre for your help.  After I configured it as you 
>> specified, the behavior was the same as before I inquired on this forum. 
>
> Well, it doesn't sound as if we really helped a lot then, or am I 
> misunderstanding this too ?
> :-)
>
> Note also for the record (and maybe a later enquiry) that it should 
> not really be necessary to have 2 separate Apache httpd instances.  At 
> least if we now understand properly what you are really trying to 
> achieve..

Just wondering. With a 64 bits OS, how much RAM can you handle in a JVM 
and therefore with each instance of Tomcat? For a 12 Gb of RAM machine, 
it would be wise if you want to have this kind of setup (Apache and two 
Tomcat instances in the same machine) if you need more than 400-500 
concurrent users?

Miguel

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234268-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 08:49:57 2012
Return-Path: <users-return-234268-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9693E90DC
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 08:49:57 +0000 (UTC)
Received: (qmail 23915 invoked by uid 500); 16 May 2012 08:49:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23547 invoked by uid 500); 16 May 2012 08:49:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23510 invoked by uid 99); 16 May 2012 08:49:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 08:49:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 08:49:39 +0000
Received: by eekd41 with SMTP id d41so196796eek.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 01:49:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=8104m500n7weTjxM5vCoSQcPTFTdQQ4fJ2FQwjlB6/w=;
        b=dPMP+f0bBTPZM5UZNLy50CozzKKD5TZmQCXz88TrBVoT7nfJY1Sm0vmmYZb9ayS0JU
         OvW8+3zFm3XzkLc55qQemad6JbpEFjWmWC5HutmO1NLc2C2H9G8XOIGBWhIBIlQ7dbEu
         rBAeSuN7ZDMmExCdtHXXlY7h/Rbe+OQlsavH4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=8104m500n7weTjxM5vCoSQcPTFTdQQ4fJ2FQwjlB6/w=;
        b=ZaRN5OCYfzqpK4WzL206BorY6qs+XwLc6twI3oFqlZfhiFdArMavSx5101kC2SYXNs
         eQsaetuB1HmEV4/NBRbnOHskjHQnrotzvQRtTWpI6jgF3X/7BUjiyYW3soaijDTvgkPF
         Mb9g7yZ1JUNfz8iHkFKG4efZZ9841RyDjKjeIKujxBFpv98iG+gRW47ReecPVWIjuP59
         Fmmhgd3Uomsa94ZoLV/pZ/8D4Gx91nQZv6RfYGfzgB5qDbgiwkUJ+9TtBYbKNP8SyIcO
         /kOc3P91OOyK4sLliSTWueC/OZetanbBPlz1zjA83W8PbDM5KU2yt+FuAhNAUcihWZE5
         ICEA==
Received: by 10.14.28.77 with SMTP id f53mr353399eea.98.1337158158520;
        Wed, 16 May 2012 01:49:18 -0700 (PDT)
Received: from Asura.local ([89.195.75.201])
        by mx.google.com with ESMTPS id v46sm8930639eef.11.2012.05.16.01.49.15
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 01:49:16 -0700 (PDT)
Message-ID: <4FB36A1A.4020708@pidster.com>
Date: Wed, 16 May 2012 09:49:30 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl> <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl> <4FB274BD.1090006@ice-sa.com> <4FB2D98B.4050703@yahoo.es>
In-Reply-To: <4FB2D98B.4050703@yahoo.es>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig903EA5FD330A0CB5E039A808"
X-Gm-Message-State: ALoCoQmqBpzrpJvyfvw8z5u+3X5/S+1h5BEZdiIDdoP7g0Gg7u0haZDt29hja249OStUQrsQNMwC

--------------enig903EA5FD330A0CB5E039A808
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 15/05/2012 23:32, Miguel Gonz=E1lez Casta=F1os wrote:
> On 15/05/2012 17:22, Andr=E9 Warnier wrote:
>> Vickie Troy-McKoy wrote:
>> ...
>>>
>>> Thank you Andre for your help.  After I configured it as you
>>> specified, the behavior was the same as before I inquired on this for=
um.=20
>>
>> Well, it doesn't sound as if we really helped a lot then, or am I
>> misunderstanding this too ?
>> :-)
>>
>> Note also for the record (and maybe a later enquiry) that it should
>> not really be necessary to have 2 separate Apache httpd instances.  At=

>> least if we now understand properly what you are really trying to
>> achieve..
>=20
> Just wondering. With a 64 bits OS, how much RAM can you handle in a JVM=

> and therefore with each instance of Tomcat? For a 12 Gb of RAM machine,=

> it would be wise if you want to have this kind of setup (Apache and two=

> Tomcat instances in the same machine) if you need more than 400-500
> concurrent users?

If this is a new question, please post it in a completely* new thread,
rather than hijacking someone else's.


p

* ie, no editing of subject & body from a reply to an existing thread.


--=20

[key:62590808]


--------------enig903EA5FD330A0CB5E039A808
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPs2oaAAoJEGoM2OGpOvr9+SoP/3OtjaEy6TVJJ/r/nLGRiKEI
jC3P1VmSLmF5RDZsH6Vb8wWrQuyX8k+wjazf7nnTwH9BxT9RwC3PvOdXSxNkunqD
tqPWSTSaAd3SVm0VugeXbqq0SWSaCn26s45pkFG6awycf5zxhPPfv3Apw0CiUPQI
NE2PiqrnTEJGHNcD5krq+GugS7gn3yrUSqy0UpWDYj2YOcr7SMPFzH8/+jjbfpcr
RdlSH0rt1Yp0T89JsMLu9MSz3zCOfmUhymDO3wQdB0fEd1W0+5UCj5sCt6JL5B12
D4SG0AZPHwwpPP5Muj4HvO2zB7vQAjyrXraxlne4e5DUTcS3bZJVwBFzH8d29+F4
Bm5enRvzykHv0DUjg9/C2KfSXIn+l5eD+0CDUUMIK5v51MFKBu+MKr6MSNjTVH/2
8vw/uDwR3VBaN91dbvZXk6+uu/5WMNfgE/3O6D2U/t75fFP9E/0Rp0xPoC+lz17T
t3ffmzUYZ9x6R/ug4XH186FFfJKD5er0EHJeQMe2qQWcd5ooPpoKCgNsrUb4jghe
LxvqkDe5f5P/pMkBjHCWMFcnzhJCD9KqIgwSW8GL7aI85IMhaz+SLyaxz2qifO/3
qvZ1xm9gh/nMkXDfxLCmkwe2/HDpK1awhhoToNFdrx02nO4ZzlQ4JlRtO5Z3U7hV
fT9JD+skk3YE+9eQzEO4
=w3r+
-----END PGP SIGNATURE-----

--------------enig903EA5FD330A0CB5E039A808--

From users-return-234269-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 09:10:50 2012
Return-Path: <users-return-234269-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 858EF9168
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 09:10:50 +0000 (UTC)
Received: (qmail 78070 invoked by uid 500); 16 May 2012 09:10:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77906 invoked by uid 500); 16 May 2012 09:10:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77893 invoked by uid 99); 16 May 2012 09:10:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:10:45 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [77.238.189.64] (HELO nm11.bullet.mail.ird.yahoo.com) (77.238.189.64)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 16 May 2012 09:10:35 +0000
Received: from [77.238.189.233] by nm11.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:10:14 -0000
Received: from [212.82.108.119] by tm14.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:10:14 -0000
Received: from [127.0.0.1] by omp1028.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:10:14 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 692823.8632.bm@omp1028.mail.ird.yahoo.com
Received: (qmail 58941 invoked by uid 60001); 16 May 2012 09:10:14 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1337159414; bh=QV0BAy1kgzybV4BEYlckZ4hy8F1bdD93ecgx1bzo5LA=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=s4P7Fs07iC2zUShiPaE4wvS7L8ZDxqeZ5ndHNKAdcGo6xt8ResV5VMgK/zVBPUnsu3pdVTkVaKrxZC0Nx4Zb3yZ84um+M8wE0LM6iipEDNWwORu4GQh37ZuPirotJNHUASxUNfVrvhyD3D/KZWLfOQDH/9aQCMOxKi1AUpUTZF0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=AvIjO8bfZGGxsj8JR6omtS86XLZpm+IfZyoYC6+OFgwhhequY58kWQo3o7YnpzKrTGnBfYEXdp3s2AT5JZN0SgEM8pPNNK2Tth8ynj0rBcpgxIl5LCpz1PkNzQjf3AaT3gLcNmBMVPIco8lY0avrjH0Nw7KlIjrvGWWa5zBdY5E=;
X-YMail-OSG: yITGrrsVM1lASDPnbfNcXBjZ0fy9keb5agmFyo_ImPrZWBn
 4ek8J5MC7MXfugLAMrBon4XQZNbAB3ca9MFzBlxTeMqkWqMcazBYU9SSV2Ub
 3A3g9eQXNaoAproVES4IjJhYRMu_Q_hAjpe.LppYNg_yg1RO4XjAXcHGGBoq
 9jAc9kO0UdeMJJ6bcD0PUH5GaN27LoQFcC673tMBUwyxF.kJUCqZN5a_CI1G
 vVKOhcTZggTPx7erY2mHj0Zh9HKgBfZmBaKbDl5z7XXpS1EdIxx8TWRuEayJ
 Lv5tM6CPAVi62OdaLVKKUqlzR8Yi_8qSFgywCIz72MoRRU69OvoCE6.aNg5l
 cWC3EKvD4ckOBmuvP0hyCHfwr1ewIzDSKWBUg3GWtPcQ9Ai3x7LH6FRx5qg3
 AUvQqOZi_HD.sKlxe0OjRtolRJR8F5AhiRVI_gWy2JK7EI4X0
Received: from [192.171.2.126] by web29601.mail.ird.yahoo.com via HTTP; Wed, 16 May 2012 10:10:14 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl> <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl> <4FB274BD.1090006@ice-sa.com> <4FB2D98B.4050703@yahoo.es> <4FB36A1A.4020708@pidster.com> <1337159199.62265.YahooMailNeo@web29603.mail.ird.yahoo.com>
Message-ID: <1337159414.56593.YahooMailNeo@web29601.mail.ird.yahoo.com>
Date: Wed, 16 May 2012 10:10:14 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
To: Users List Tomcat <users@tomcat.apache.org>
In-Reply-To: <1337159199.62265.YahooMailNeo@web29603.mail.ird.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0A=0A=0AWell, I thought It was somehow related, trying to make sense of ha=
ving two instances of Tomcat in the same machine and when this kind of setu=
p is applicable (like the one I'm suggesting).=0A=0AMiguel=0A=0A=0A=0A_____=
___________________________=0ADe: Pid <pid@pidster.com>=0APara: Tomcat User=
s List <users@tomcat.apache.org> =0AEnviado: Mi=E9rcoles 16 de Mayo de 2012=
 10:49=0AAsunto: Re: Multiple tomcat Instances on Same Server and One Apach=
e Instance=0A=0AOn 15/05/2012 23:32, Miguel Gonz=E1lez Casta=F1os wrote:=0A=
> On 15/05/2012 17:22, Andr=E9 Warnier wrote:=0A>> Vickie Troy-McKoy wrote:=
=0A>> ...=0A>>>=0A>>> Thank you Andre for your help.=A0 After I configured =
it as you=0A>>> specified, the behavior was the same as before I inquired o=
n this forum. =0A>>=0A>> Well, it doesn't sound as if we really helped a lo=
t then, or am I=0A>> misunderstanding this too ?=0A>> :-)=0A>>=0A>> Note al=
so for the record (and maybe a later enquiry) that it should=0A>> not reall=
y be necessary to have 2 separate Apache httpd instances.=A0 At=0A>> least =
if we now understand properly what you are really trying to=0A>> achieve..=
=0A> =0A> Just wondering. With a 64 bits OS, how much RAM can you=0Ahandle =
in a JVM=0A> and therefore with each instance of Tomcat? For a 12 Gb of RAM=
 machine,=0A> it would be wise if you want to have this kind of setup (Apac=
he and two=0A> Tomcat instances in the same machine) if you need more than =
400-500=0A> concurrent users?=0A=0AIf this is a new question, please post i=
t in a completely* new thread,=0Arather than hijacking someone else's.=0A=
=0A=0Ap=0A=0A* ie, no editing of subject & body from a reply to an existing=
 thread.=0A=0A=0A-- =0A=0A[key:62590808]

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234270-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 09:23:17 2012
Return-Path: <users-return-234270-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5756191A0
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 09:23:17 +0000 (UTC)
Received: (qmail 9444 invoked by uid 500); 16 May 2012 09:23:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8974 invoked by uid 500); 16 May 2012 09:23:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8944 invoked by uid 99); 16 May 2012 09:23:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:23:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:23:03 +0000
Received: by eaak12 with SMTP id k12so206854eaa.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 02:22:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=hwYhifRbdeq1+4f2Vk/GgmQAH92f0Eidvqb+5PjuxMY=;
        b=iV04cerpeF1kGpgXAdKvNLvXjUJ/V/gmXWxPDAEK8hKCSXk3QiX4/giWG+MWkLWDlK
         m4Q33GKX8ZQtr+jzM9r5IbiRrMyZvW5BGBO8CPQTl7N7imXn2cR9kntZzlGSJjo8m4JR
         Vy2ulgnUBsSv1j+oXl33Bh1AN8/Vf9zYaNiMU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=hwYhifRbdeq1+4f2Vk/GgmQAH92f0Eidvqb+5PjuxMY=;
        b=lwpud947PcGELoX22GzZfOfFC9gkboKdHNfn8PFRAJJ1+IrGp/aQQyK/WHNan0yF1j
         bYAKsjCZCcwDqNqgzjPUnfm5lEG5J2QDcbOZ6AVHjlr39gwPz7MnMC45Yx2ngX9tUQLe
         TZoWvgkKSVOrDdiGGrCYG+wo8OFYkjIrRwrEptFK58xFNI+F3UzIq2RsC0wOGf6nZaDb
         XOrQPigMTTtg4K8v/+DQGqQPqxJaf03ve78gmGazQtoasUTosh2bjLzGAxyM8di+EAdq
         95gqHCOabBFgzRzotg85+WnJTiSILJZMOOe2DqBB76b08lI3VjUxsLhNj1Xx6P2HvXik
         yHXQ==
Received: by 10.213.114.84 with SMTP id d20mr1243949ebq.15.1337160160482;
        Wed, 16 May 2012 02:22:40 -0700 (PDT)
Received: from Asura.local ([89.195.75.201])
        by mx.google.com with ESMTPS id u10sm9440145eem.1.2012.05.16.02.22.38
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 02:22:39 -0700 (PDT)
Message-ID: <4FB371EB.8040901@pidster.com>
Date: Wed, 16 May 2012 10:22:51 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl> <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl> <4FB274BD.1090006@ice-sa.com> <4FB2D98B.4050703@yahoo.es> <4FB36A1A.4020708@pidster.com> <1337159199.62265.YahooMailNeo@web29603.mail.ird.yahoo.com> <1337159414.56593.YahooMailNeo@web29601.mail.ird.yahoo.com>
In-Reply-To: <1337159414.56593.YahooMailNeo@web29601.mail.ird.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig08B69DB17E0F8804946D97CF"
X-Gm-Message-State: ALoCoQkde2NUG+i8hKaxX+s7eSoXYphASMBm94DMIVBgpZHcX6rP3TJlrXzjuMdxKcRH1kxONssy
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig08B69DB17E0F8804946D97CF
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 16/05/2012 10:10, Miguel Gonzalez wrote:
>=20
>=20
>=20
> Well, I thought It was somehow related, trying to make sense of having =
two instances of Tomcat in the same machine and when this kind of setup i=
s applicable (like the one I'm suggesting).

Not really, no.


p

> ________________________________
> De: Pid <pid@pidster.com>
> Para: Tomcat Users List <users@tomcat.apache.org>=20
> Enviado: Mi=E9rcoles 16 de Mayo de 2012 10:49
> Asunto: Re: Multiple tomcat Instances on Same Server and One Apache Ins=
tance
>=20
> On 15/05/2012 23:32, Miguel Gonz=E1lez Casta=F1os wrote:
>> On 15/05/2012 17:22, Andr=E9 Warnier wrote:
>>> Vickie Troy-McKoy wrote:
>>> ...
>>>>
>>>> Thank you Andre for your help.  After I configured it as you
>>>> specified, the behavior was the same as before I inquired on this fo=
rum.=20
>>>
>>> Well, it doesn't sound as if we really helped a lot then, or am I
>>> misunderstanding this too ?
>>> :-)
>>>
>>> Note also for the record (and maybe a later enquiry) that it should
>>> not really be necessary to have 2 separate Apache httpd instances.  A=
t
>>> least if we now understand properly what you are really trying to
>>> achieve..
>>
>> Just wondering. With a 64 bits OS, how much RAM can you
> handle in a JVM
>> and therefore with each instance of Tomcat? For a 12 Gb of RAM machine=
,
>> it would be wise if you want to have this kind of setup (Apache and tw=
o
>> Tomcat instances in the same machine) if you need more than 400-500
>> concurrent users?
>=20
> If this is a new question, please post it in a completely* new thread,
> rather than hijacking someone else's.
>=20
>=20
> p
>=20
> * ie, no editing of subject & body from a reply to an existing thread.
>=20
>=20


--=20

[key:62590808]


--------------enig08B69DB17E0F8804946D97CF
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPs3HuAAoJEGoM2OGpOvr9IecP+wZINzJfX+KzJyhyanbZIVR0
T1+zRwOXkunYUoGb0oeJ7qt9zWKyuGiRskdJB164RfrnQM/s7vRbVHmoo1KifDdv
GP8g0xP7BvQeKD/h+q8rx+OyOBUiehRgdYWa6IVz7vMV27OxoLXN/YQlkWOq+GNP
O+oplBJ0ezVRyoN30/TxQoWLMKsGjTlQn0QvpLPkH0Xt4dg/5FytaDbxlFzDA1OV
AwyEPTPETPkeFPdXjzH1gD8olNTa036zf6Ib6J57GRTEByk4sWXFKVCIZBiwdHTJ
ozyctwBUkKujx0Filt02JMWBk4OPiBilcS6RUpXQbea4/vTDctqs9HWJDki6R5kq
4rofbQwJR8yTusywvDomKFS1tUudilW17026ZnzseUEK0kApyuh6AxV2T9n18Nng
63UYDuKXeZ6WNnNqmA12HB088TbxMp/TMLBvQ+7CHIqaWPFXcjHLCxcEQ9TTNb5F
mJ84uGwSpKoJdvKI8CTOthiVS56oH1LwoTphZLLJqeawKBnQeDJy/Kl4WFMqfIPf
8QrYvH+9TZFxSF/M2JuVaU8PRxcZjixv4hvbsJr5tMNiQMsCDnS03GBBNJa/ggCl
mOXQokjJN8bLW3ER8v5wMSWD5GLa2Tx2HclnjzV0XhFBjjXmhFowBXVd+XOk/fLA
WE1a7WHQkYVKEUyuOhdq
=OkXQ
-----END PGP SIGNATURE-----

--------------enig08B69DB17E0F8804946D97CF--

From users-return-234271-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 09:26:24 2012
Return-Path: <users-return-234271-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BCDB9F82
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 09:26:24 +0000 (UTC)
Received: (qmail 27931 invoked by uid 500); 16 May 2012 09:26:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27701 invoked by uid 500); 16 May 2012 09:26:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27686 invoked by uid 99); 16 May 2012 09:26:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:26:20 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [77.238.189.218] (HELO nm11-vm0.bullet.mail.ird.yahoo.com) (77.238.189.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 16 May 2012 09:26:11 +0000
Received: from [77.238.189.53] by nm11.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:25:50 -0000
Received: from [212.82.108.124] by tm6.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:25:50 -0000
Received: from [127.0.0.1] by omp1033.mail.ird.yahoo.com with NNFMP; 16 May 2012 09:25:50 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 133874.72801.bm@omp1033.mail.ird.yahoo.com
Received: (qmail 80968 invoked by uid 60001); 16 May 2012 09:25:50 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1337160349; bh=dkrkfJ3GWd9sOcNh4NVzzb1gp4sREy6rgashC58Jf3g=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=IlFcBHly9FkjyxYwUAsrAzRNPvkQQYzEYeYacY9rUakTvKlrsGuxlXZNtgwLYNwSjT7Q4XHPZpc5KGMEVAlSmtdTiOnbd18lOEUPvqry/hQE0Qywj5nGXNVNnOTUul1Mp4ZnhKT4+fDiYcMrmwvdY6ieco0CCmvqQ3o2L2LaP78=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0hHs9/NcSzK+77r/NK42DCCkRNU2z4DNy+YwWqsau3JR3osGu9O3no/4AAsWdMRWtwPZaz159wS4Fl+4Fh6RbvKt/nAE9gn7o4YcAkl4lreSHW9NgBN/O6dUTXxcfiuqFKO9bNFLKEfZ5sZ61QlYV55udZIIFFv91AK0VI0qKpw=;
X-YMail-OSG: RiDzGN8VM1lzTVMd1IRCDfbxQt9U5kWAgETmvmxGS2_byCG
 u5l.DReobdBhkaDc8evglHjYWkORryjnUYlid6g4nw5lw1rL6M2O91BVzTvn
 nKXv5Q6suy2zArqNb.0B27qweur82vGENhal2fc3s13jlOvrtTtfYMxORaG3
 q_d0e9w0NPrG03sMYPMsRUDoTdCOB.E3bmQAzrRX7Nz8VWmNFALcxCisdDmb
 G3e_ed3f9zk7NbzrG2W0ybAxsSdOoNDTIYikBO6hrlTYr4l8HIxC.AGTVOXM
 2H3IFePn.TjLXhF5PrbxmLrz44YyqM7cXq6UFkc0BOZ7m4e6GJu2R858AEKh
 jb5jGqV3oZhhrSZipXSa2F11XxMcnIWN7UwYUwBGyt2zfju66e_Wy6AcYiWX
 WcNZeFuEZhaxVEI8uRfa9cpkLtqljf9hg4v_No3pWigUcMA--
Received: from [192.171.2.126] by web29601.mail.ird.yahoo.com via HTTP; Wed, 16 May 2012 10:25:49 BST
X-Mailer: YahooMailWebService/0.8.118.349524
Message-ID: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com>
Date: Wed, 16 May 2012 10:25:49 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: two instances of Tomcat in same machine
To: Users List Tomcat <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Just wondering. With a 64 bits OS, how much RAM can you handle in a JVMand =
therefore with each instance of Tomcat? =0A=0A=0AFor a 12 Gb of RAM machine=
, it would be wise if you want to have this kind of setup (Apache and two T=
omcat instances in the same machine) if you need more than 400-500 concurre=
nt users?=0A=0AThanks,=0A=0AMiguel=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234272-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 09:51:09 2012
Return-Path: <users-return-234272-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD9BBCDD6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 09:51:09 +0000 (UTC)
Received: (qmail 7876 invoked by uid 500); 16 May 2012 09:51:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7760 invoked by uid 500); 16 May 2012 09:51:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7735 invoked by uid 99); 16 May 2012 09:51:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:51:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 09:50:56 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 8B5E0DA005E
	for <users@tomcat.apache.org>; Wed, 16 May 2012 11:50:34 +0200 (CEST)
Message-ID: <4FB37869.2060805@ice-sa.com>
Date: Wed, 16 May 2012 11:50:33 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: two instances of Tomcat in same machine
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com>
In-Reply-To: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Miguel Gonzalez wrote:
> Just wondering. With a 64 bits OS, how much RAM can you handle in a JVMand therefore with each instance of Tomcat? 
> 
> 
> For a 12 Gb of RAM machine, it would be wise if you want to have this kind of setup (Apache and two Tomcat instances in the same machine) if you need more than 400-500 concurrent users?
> 

Nobody can answer that question in the absolute. It all depends on how much memory your 
Tomcat instances really need, to run the applications you put it them, for the number of 
requests you expect to be handled.  And won what else on that machine needs memory, and 
how much memory that machine has.

Tomcat can run in as little as 512KB (or less).  The other end is unlimited..

The benefit of a 64-bit OS compared to a 32-bit OS, is that you can allocate more memory 
*per process*. A drawback of running an application in 64-bit mode - compared to running 
the same in 32-bit mode - is that under 64-bit mode, some things will use up 64 bits 
instead of 32 bits.  So you roughly use about 30% more memory, to run the exact same 
application.  But that also depends very much on the application.

In other words : try it and see.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234273-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 10:40:13 2012
Return-Path: <users-return-234273-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA2059DAD
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 10:40:12 +0000 (UTC)
Received: (qmail 53774 invoked by uid 500); 16 May 2012 10:40:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53586 invoked by uid 500); 16 May 2012 10:40:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53567 invoked by uid 99); 16 May 2012 10:40:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 10:40:08 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.82.109.226] (HELO nm22-vm7.bullet.mail.ird.yahoo.com) (212.82.109.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 16 May 2012 10:39:59 +0000
Received: from [77.238.189.234] by nm22.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 10:39:39 -0000
Received: from [212.82.108.120] by tm15.bullet.mail.ird.yahoo.com with NNFMP; 16 May 2012 10:39:39 -0000
Received: from [127.0.0.1] by omp1029.mail.ird.yahoo.com with NNFMP; 16 May 2012 10:39:39 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 23105.61820.bm@omp1029.mail.ird.yahoo.com
Received: (qmail 73074 invoked by uid 60001); 16 May 2012 10:39:38 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.es; s=s1024; t=1337164778; bh=RRXDDoBUkgoTTQbd6plduGZkXPHuC4dcx0XKcdQKX4k=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=pFzI9AxOkp0ENx2DT4Li5xquk74ebFWmvHq/jI0RYriU6qlaUALwahNKoUCQbVblImomTFm6gGsYRDkQbRUbE/ftvo4w49h8UKeTtdCCacelkEsaRUjCo9bC8FLZQ2TLWfdffnTQE7Y5X9w8hc6BKQLNjy3esM39RKJEaQAapqA=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MKWoJ8x637VUZ2+p4zeP7PSQw2wG9h+IsLbeZ5GJNWzmMJU15fpA1Zdruhps5Fq7TQGMTZvHgw7H7HPLnjTIkiGXEE7hR8Ops0jzAc5LIBG0MSmgdsjkg5T4fozMPnarNWCGebkvLn5EkD/gqmoNFlZ7WLGCpFnC2ntDOgkaWls=;
X-YMail-OSG: drUu5UIVM1nO1awdcRSxDXQBfTf5izTjREZd7GCyR7Wqt8J
 LmL2vW4.sRUPhKsfo9xHmvvT91XFfb1S2uJM7YdMkgH.teMNCeEbo3cN560E
 dI8qxqYcuOnEBV.4bAeO0xOAHvk8lWHw1ZCvh6zH0MzxldB5dnmHRwGbdC7q
 zhdGMnCkGiae83o6_4PvEt.OO8CAVFMKtr1UmEPncnXpk8E3csSVJiy9CTPu
 B212CjKv2cPmPL_AihueBNJPN3.UEjqyv8qswu5Fl7qbBAFdqu7510bAtz.n
 iHFFgptrIUZXtJCMM45pitQg03WzlMqZAczQ6xynbH4bEOBtodUBAoq60ZAv
 sQ92VDO37ix5GJKUM28ffX_ThNWTsMd6IW1_HOJAQhkSqANs_J5h4f3yAJKK
 jGONdZ9irIyD5PaWoPmHItMDQfxkHNvh7mdy_W1AE8jHNyFQg
Received: from [192.171.2.126] by web29606.mail.ird.yahoo.com via HTTP; Wed, 16 May 2012 11:39:38 BST
X-Mailer: YahooMailWebService/0.8.118.349524
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com> <4FB37869.2060805@ice-sa.com> <1337163532.15062.YahooMailNeo@web29606.mail.ird.yahoo.com>
Message-ID: <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com>
Date: Wed, 16 May 2012 11:39:38 +0100 (BST)
From: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Reply-To: Miguel Gonzalez <miguel_3_gonzalez@yahoo.es>
Subject: Re: two instances of Tomcat in same machine
To: Users List Tomcat <users@tomcat.apache.org>
In-Reply-To: <1337163532.15062.YahooMailNeo@web29606.mail.ird.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0Athere wasn't a limit of 32 bits OS for running JVM for more than 1.5 Gb?=
=0A=0ARegards,=0A=0AMiguel=0A=0A=0A________________________________=0ADe: A=
ndr=E9 Warnier <aw@ice-sa.com>=0APara: Tomcat Users List <users@tomcat.apac=
he.org> =0AEnviado: Mi=E9rcoles 16 de Mayo de 2012 11:50=0AAsunto: Re: two =
instances of Tomcat in same machine=0A=0AMiguel Gonzalez wrote:=0A> Just wo=
ndering. With a 64 bits OS, how much RAM can you handle in a JVMand therefo=
re with each instance of Tomcat? =0A> =0A> For a 12 Gb of RAM machine, it w=
ould be wise if you want to have this kind of setup (Apache and two Tomcat =
instances in the same machine) if you need more than 400-500 concurrent use=
rs?=0A> =0A=0ANobody can answer that question in the absolute. It all depen=
ds on how much memory your Tomcat instances really need, to run the applica=
tions you put it them, for the number of requests you expect to be handled.=
=A0 And won what else on that machine needs memory, and how much memory tha=
t machine has.=0A=0ATomcat can run in as little as 512KB (or less).=A0 The =
other end is unlimited..=0A=0AThe benefit of a 64-bit OS compared to a 32-b=
it OS, is that you can allocate more memory *per process*. A drawback of ru=
nning an application in 64-bit mode -=0Acompared to running the same in 32-=
bit mode - is that under 64-bit mode, some things will use up 64 bits inste=
ad of 32 bits.=A0 So you roughly use about 30% more memory, to run the exac=
t same application.=A0 But that also depends very much on the application.=
=0A=0AIn other words : try it and see.=0A=0A=0A----------------------------=
-----------------------------------------=0ATo unsubscribe, e-mail: users-u=
nsubscribe@tomcat.apache.org=0AFor additional commands, e-mail: users-help@=
tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234274-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 12:34:12 2012
Return-Path: <users-return-234274-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E1209756
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 12:34:12 +0000 (UTC)
Received: (qmail 46522 invoked by uid 500); 16 May 2012 12:34:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46308 invoked by uid 500); 16 May 2012 12:34:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46298 invoked by uid 99); 16 May 2012 12:34:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 12:34:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of v.dymikha@msk.teztour.com designates 194.165.24.66 as permitted sender)
Received: from [194.165.24.66] (HELO mail2.teztour.com) (194.165.24.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 12:34:01 +0000
X-Virus: 
Received: from [10.1.1.101] (account v.dymikha@mail2.teztour.com HELO [10.1.1.101])
  by mail2.teztour.com (CommuniGate Pro SMTP 5.3.9)
  with ESMTPSA id 58477402 for users@tomcat.apache.org; Wed, 16 May 2012 16:33:40 +0400
Message-ID: <1337171620.18697.6.camel@twotower>
Subject: Where can I find slow query log produced by tomcat-jdbc?
From: Vladimir Dymikha <v.dymikha@msk.teztour.com>
Reply-To: v.dymikha@msk.teztour.com
To: users@tomcat.apache.org
Date: Wed, 16 May 2012 16:33:40 +0400
Organization: TezTour
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.1 
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0

Pool works nice, but
I get empty logs/pool.2012-04-06.log
No debug messages, no slow query's.
Configuration below

-----------------------------------------------------------
datasource.xml:

<bean id="dataSourceOnline"
class="org.apache.tomcat.jdbc.pool.DataSource"
destroy-method="close"    
      p:driverClassName="oracle.jdbc.driver.OracleDriver"
      p:url="${jdbcPortalUrl}"
      p:username="${jdbcUser}"
      p:password="${jdbcPass}"   

p:connectionProperties="oracle.jdbc.defaultNChar=true;oracle.jdbc.convertNcharLiterals=true;oracle.jdbc.ReadTimeout=${jdbcTimeOut};"

p:jdbcInterceptors="SlowQueryReport(threshold=10);ConnectionState;StatementFinalizer"
      p:initialSize="10"
      p:minIdle="10"
      p:maxIdle="100"
      p:maxActive="5000"
      p:maxWait="6000"
      p:jmxEnabled="true"
      p:removeAbandoned="true"
      p:removeAbandonedTimeout="130"
      p:logAbandoned="true"
      p:testOnBorrow="false"
      p:testOnReturn="false"
      p:testWhileIdle="false"   
      p:useEquals="false"
      p:fairQueue="false"   
      p:timeBetweenEvictionRunsMillis="30000"
      p:minEvictableIdleTimeMillis="30000"
      p:validationInterval="1800000"
      p:validationQuery="SELECT 1 FROM DUAL"   
  />
-------------------------------------------------------
${catalina.home}/conf/logging.properties:

handlers = 1catalina.org.apache.juli.FileHandler,
2localhost.org.apache.juli.FileHandler,
3manager.org.apache.juli.FileHandler,
4host-manager.org.apache.juli.FileHandler,
5pool.org.apache.juli.FileHandler,, java.util.logging.ConsoleHandler

5pool.org.apache.juli.FileHandler.level = ALL
5pool.org.apache.juli.FileHandler.directory = ${catalina.base}/logs
5pool.org.apache.juli.FileHandler.prefix = pool.

org.apache.tomcat.jdbc.level = ALL
org.apache.tomcat.jdbc.handlers = 5pool.org.apache.juli.FileHandler
-------------------------------------------------------




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234275-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 12:50:07 2012
Return-Path: <users-return-234275-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81A9D97DD
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 12:50:07 +0000 (UTC)
Received: (qmail 94866 invoked by uid 500); 16 May 2012 12:50:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94665 invoked by uid 500); 16 May 2012 12:50:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94654 invoked by uid 99); 16 May 2012 12:50:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 12:50:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kaufhold4j@googlemail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 12:49:58 +0000
Received: by werf3 with SMTP id f3so562320wer.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 05:49:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=rBMmWlkrOKt3BeN9PYQ6uQQKH1vL1FyWnPWU0otJqFw=;
        b=WImEcAiu06NmVdc6QbaW3E2r1JMLK7dyuQo+H+3VGKKR25Nj3yUTsOJsftqdMGZ/p+
         z5Bb7z0jfjsM8l4nhEWcvDUhqF+jhlrzqvjgCGsyphQabfcKCRq3ul8gm6+Q0t4/BS0m
         Et9XZ4aa482cbe2AMohjt2UDFJIjH3PSK9bEv0lru+cRoGslFvKjoZiOQz9HAEMur3LH
         Zxn30M9DqMpJDI04KuxAOnwW4SvgRSNoKRi4ANa5/QKK//Dz/GSSmiBmRFXh3UXJW8Ye
         aUt2bqpAFjw/8PvUvRyXSSPO6FqEaIi5VYOFfj1QxNgKpEK0qKUEPS7Wgwn2GA7infDb
         KEsg==
MIME-Version: 1.0
Received: by 10.180.101.230 with SMTP id fj6mr40651987wib.13.1337172577828;
 Wed, 16 May 2012 05:49:37 -0700 (PDT)
Received: by 10.216.243.197 with HTTP; Wed, 16 May 2012 05:49:37 -0700 (PDT)
Date: Wed, 16 May 2012 14:49:37 +0200
Message-ID: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
Subject: tomcat slowing down
From: Christian Kaufhold <kaufhold4j@googlemail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d0442879e813e2f04c026c061

--f46d0442879e813e2f04c026c061
Content-Type: text/plain; charset=ISO-8859-1

Hi,

we have the problem that tomact is slowing down after a while
until even the manager app becomes unusable.

Our System:
2 Quadcores/24 GB Mem
OpenSuse 11.4
tomcat 6.0.29
wicket/hibernate/postgres

Max Memory and total Memory 2GB
Free Momory 500 MB when the system is slow
top shows 100 CPU usage by tomcat

Symptom
 System is initially ok, but is slowing down dramtically over time
when about 30 User are active

What can we do to analyse the problem?

thanks

--f46d0442879e813e2f04c026c061--

From users-return-234276-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:02:21 2012
Return-Path: <users-return-234276-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A51E7984A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:02:21 +0000 (UTC)
Received: (qmail 26544 invoked by uid 500); 16 May 2012 13:02:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26299 invoked by uid 500); 16 May 2012 13:02:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26290 invoked by uid 99); 16 May 2012 13:02:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:02:18 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:02:09 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id 8F41AD5618
	for <users@tomcat.apache.org>; Wed, 16 May 2012 15:01:49 +0200 (CEST)
Received: from poczta2.ceti.pl (ip-62-121-128-70.ceti.net.pl [62.121.128.70])
	by tau.ceti.pl (Postfix) with ESMTP id 25DC4202FE8;
	Wed, 16 May 2012 15:01:49 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 16 May 2012 15:01:49 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
In-Reply-To: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
References: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
Message-ID: <37d6904a418b34408d7ad5e5d1127e7a@tau.ceti.pl>
X-Sender: miki@ceti.pl
User-Agent: CETI Webmail/0.7.2

On 16.05.2012 14:49, Christian Kaufhold wrote:

> What can we do to analyse the problem?

Make a thread dump (kill -3 <jvm pid>). Information usually will be 
written to catalina.out.
You can use jvisualvm tool to capture threads, memory snapshots, etc.

-- 
Mikolaj Rydzewski <miki@ceti.pl>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234277-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:02:48 2012
Return-Path: <users-return-234277-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D83E1984C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:02:48 +0000 (UTC)
Received: (qmail 29787 invoked by uid 500); 16 May 2012 13:02:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29732 invoked by uid 500); 16 May 2012 13:02:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29723 invoked by uid 99); 16 May 2012 13:02:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:02:45 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:02:36 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 096562827E
	for <users@tomcat.apache.org>; Wed, 16 May 2012 06:02:15 -0700 (PDT)
Received: from zimbra-prod-mta-1.vmware.com (zimbra-prod-mta-1.vmware.com [10.113.160.173])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 0668B1841F
	for <users@tomcat.apache.org>; Wed, 16 May 2012 06:02:15 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id 020B66A590
	for <users@tomcat.apache.org>; Wed, 16 May 2012 06:02:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-1.vmware.com
Received: from zimbra-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yy5Jf2g33JOQ for <users@tomcat.apache.org>;
	Wed, 16 May 2012 06:02:14 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (zimbra-prod-mbox-5.vmware.com [10.113.160.194])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id E524E6A58B
	for <users@tomcat.apache.org>; Wed, 16 May 2012 06:02:14 -0700 (PDT)
Date: Wed, 16 May 2012 06:02:14 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <16748332.139.1337173333631.JavaMail.daniel@cleveland>
In-Reply-To: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
Subject: Re: tomcat slowing down
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [24.160.217.1]
X-Mailer: Zimbra 7.1.3_GA_3374 (Zimbra Desktop/7.1.4_11299_Linux)



----- Original Message -----
> Hi,
> 
> we have the problem that tomact is slowing down after a while
> until even the manager app becomes unusable.
> 
> Our System:
> 2 Quadcores/24 GB Mem
> OpenSuse 11.4
> tomcat 6.0.29
> wicket/hibernate/postgres
> 
> Max Memory and total Memory 2GB
> Free Momory 500 MB when the system is slow
> top shows 100 CPU usage by tomcat
> 
> Symptom
>  System is initially ok, but is slowing down dramtically over time
> when about 30 User are active
> 
> What can we do to analyse the problem?

As the system slows down, do you see an increase in CPU usage?  This can often indicate a problem with garbage collection.  In this case, you would want to enable garbage collection logging to gather more information about the problem.

If you don't see any increase in CPU usage, then you should take some thread dumps when the server is running slow (2 - 3 thread dumps, spread over a 30 - 45 second period is usually sufficient).  These would indicate if there is thread contention or blocking that is causing the slow down.

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234278-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:03:13 2012
Return-Path: <users-return-234278-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 100749850
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:03:13 +0000 (UTC)
Received: (qmail 33323 invoked by uid 500); 16 May 2012 13:03:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33129 invoked by uid 500); 16 May 2012 13:03:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33120 invoked by uid 99); 16 May 2012 13:03:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:03:09 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:03:00 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-14.tower-45.messagelabs.com!1337173351!30697089!24
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17048 invoked from network); 16 May 2012 13:02:37 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-14.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 16 May 2012 13:02:37 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 16 May 2012 08:02:28 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Wed, 16 May
 2012 08:02:28 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 16 May 2012 08:02:28 -0500
Subject: RE: tomcat slowing down
Thread-Topic: tomcat slowing down
Thread-Index: Ac0zYnQbtQXHHvNBQjam3YCvIqdhEwAAUygA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB026553DFB@USEA-EXCH8.na.uis.unisys.com>
References: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
In-Reply-To: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Christian Kaufhold [mailto:kaufhold4j@googlemail.com]=20
> Subject: tomcat slowing down

> What can we do to analyse the problem?

Start by taking a thread dump to find out what's going on inside the JVM.

http://wiki.apache.org/tomcat/HowTo#How_do_I_obtain_a_thread_dump_of_my_run=
ning_webapp_.3F

You can also use JConsole or VisualVM or similar tools to monitor activity =
within the JVM in real-time.

Without actual data, there's no point in speculating about the cause.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234279-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:05:31 2012
Return-Path: <users-return-234279-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E4569859
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:05:31 +0000 (UTC)
Received: (qmail 39861 invoked by uid 500); 16 May 2012 13:05:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39630 invoked by uid 500); 16 May 2012 13:05:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39620 invoked by uid 99); 16 May 2012 13:05:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:05:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:05:19 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id EB848DA0704
	for <users@tomcat.apache.org>; Wed, 16 May 2012 15:04:56 +0200 (CEST)
Message-ID: <4FB3A5F8.10106@ice-sa.com>
Date: Wed, 16 May 2012 15:04:56 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: two instances of Tomcat in same machine
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com> <4FB37869.2060805@ice-sa.com> <1337163532.15062.YahooMailNeo@web29606.mail.ird.yahoo.com> <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com>
In-Reply-To: <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Miguel Gonzalez wrote:
> there wasn't a limit of 32 bits OS for running JVM for more than 1.5 Gb?

Not exactly.  I'm not sure that my knowledge is totally accurate here, but here is my take 
on it :

- a "32 bit OS" generally means that the total address space available to *a process* 
running at any point in time under that OS is 2^32 = 4,294,967,296 bytes, which is 4 GB 
(give or take :-)).
- this includes the memory accupied by the resident part of the OS, so that in the 
practice nowadays, a process can use only a fraction of that, say 2-3 GB.
- that available addressable space is shared between the code of the process, and the 
in-memory data needed by that process
- the JVM (which runs Tomcat) is one such process.  The code of the JVM itself occupies 
some memory. For the JVM, the Tomcat code and your application code is data, which uses a 
part of the addressable space available to the JVM process. The JVM also allocates some 
space for the data that Tomcat and your applications use, dynamically, as needed and 
requested by Tomcat and your applications.  In Java, most of that "work memory" is 
allocated in a memory structure called the Heap.
- in the practice thus, if you are running a Java application under a Java JVM under a 
32-bit OS, the maximum size of the Heap that your application will be able to use is 
likely to limited to around 2-2.5 GB.  OS-specific characteristics may further reduce this.

On hardware that can use 64-bit addresses, and with an OS that can use a 64-bit address 
space, these limits are much higher (2^64 = 18,446,744,073,709,551,616 bytes), so that in 
the practice you would run out of money long before your run out of Heap space.
(And you would also run out of time before you fill up all that memory).


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234280-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:07:20 2012
Return-Path: <users-return-234280-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21A259869
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:07:20 +0000 (UTC)
Received: (qmail 49750 invoked by uid 500); 16 May 2012 13:07:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49550 invoked by uid 500); 16 May 2012 13:07:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49541 invoked by uid 99); 16 May 2012 13:07:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:07:16 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:07:07 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-3.tower-201.messagelabs.com!1337173605!7664159!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 4067 invoked from network); 16 May 2012 13:06:46 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-3.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 16 May 2012 13:06:46 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 16 May 2012 08:06:40 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Wed, 16 May
 2012 08:06:40 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 16 May 2012 08:06:41 -0500
Subject: RE: two instances of Tomcat in same machine
Thread-Topic: two instances of Tomcat in same machine
Thread-Index: Ac0zUEtoLKaF7LMTR1Ok2Rmu2sbleQAE/CxA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB026553E1D@USEA-EXCH8.na.uis.unisys.com>
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com>
 <4FB37869.2060805@ice-sa.com>
 <1337163532.15062.YahooMailNeo@web29606.mail.ird.yahoo.com>
 <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com>
In-Reply-To: <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Miguel Gonzalez [mailto:miguel_3_gonzalez@yahoo.es]=20
> Subject: Re: two instances of Tomcat in same machine

> there wasn't a limit of 32 bits OS for running JVM for more than 1.5 Gb?

Yes, there is a limit on heap size for 32-bit JVMs and it's usually around =
1.5 GB depending on the OS.  That's often quite adequate for well-behaved a=
pplications.

But that doesn't seem to have anything to do with your original question.

And don't top post - doing so makes it impossible to figure out what aspect=
 of any given response you're referring to.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234281-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:09:55 2012
Return-Path: <users-return-234281-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89DB09880
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:09:55 +0000 (UTC)
Received: (qmail 60936 invoked by uid 500); 16 May 2012 13:09:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60799 invoked by uid 500); 16 May 2012 13:09:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60789 invoked by uid 99); 16 May 2012 13:09:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:09:52 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jessh@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:09:43 +0000
X-IronPort-AV: E=Sophos;i="4.75,603,1330923600"; 
   d="scan'208";a="114795255"
Received: from hq-ex3fe3.ptcnet.ptc.com ([132.253.201.67])
  by irp2.ptc.com with ESMTP; 16 May 2012 09:09:09 -0400
Received: from [10.196.0.91] ([132.253.201.117]) by hq-ex3fe3.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 16 May 2012 09:09:09 -0400
Message-ID: <4FB3A6F4.4000606@ptc.com>
Date: Wed, 16 May 2012 08:09:08 -0500
From: Jess Holle <jessh@ptc.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Subject: Re: two instances of Tomcat in same machine
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com> <4FB37869.2060805@ice-sa.com> <1337163532.15062.YahooMailNeo@web29606.mail.ird.yahoo.com> <1337164778.49160.YahooMailNeo@web29606.mail.ird.yahoo.com> <4FB3A5F8.10106@ice-sa.com>
In-Reply-To: <4FB3A5F8.10106@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 16 May 2012 13:09:09.0470 (UTC) FILETIME=[14A53FE0:01CD3365]
X-Virus-Checked: Checked by ClamAV on apache.org

On Windows 32-bit JVMs are often limited to less than 1.3GB of heap due 
to fragmentation of the 32-bit address space.  Sometimes one cannot even 
get 1GB of heap!

For any hefty server process on Windows you really want a 64-bit JVM for 
this reason.

On other OS's one can often allocate much more heap under 32-bit 
addressing.  How much depends on the OS, etc, but generally is much more 
like 3GB.

--
Jess Holle

On 5/16/2012 8:04 AM, Andr Warnier wrote:
> Miguel Gonzalez wrote:
>> there wasn't a limit of 32 bits OS for running JVM for more than 1.5 Gb?
>
> Not exactly.  I'm not sure that my knowledge is totally accurate here, 
> but here is my take on it :
>
> - a "32 bit OS" generally means that the total address space available 
> to *a process* running at any point in time under that OS is 2^32 = 
> 4,294,967,296 bytes, which is 4 GB (give or take :-)).
> - this includes the memory accupied by the resident part of the OS, so 
> that in the practice nowadays, a process can use only a fraction of 
> that, say 2-3 GB.
> - that available addressable space is shared between the code of the 
> process, and the in-memory data needed by that process
> - the JVM (which runs Tomcat) is one such process.  The code of the 
> JVM itself occupies some memory. For the JVM, the Tomcat code and your 
> application code is data, which uses a part of the addressable space 
> available to the JVM process. The JVM also allocates some space for 
> the data that Tomcat and your applications use, dynamically, as needed 
> and requested by Tomcat and your applications.  In Java, most of that 
> "work memory" is allocated in a memory structure called the Heap.
> - in the practice thus, if you are running a Java application under a 
> Java JVM under a 32-bit OS, the maximum size of the Heap that your 
> application will be able to use is likely to limited to around 2-2.5 
> GB.  OS-specific characteristics may further reduce this.
>
> On hardware that can use 64-bit addresses, and with an OS that can use 
> a 64-bit address space, these limits are much higher (2^64 = 
> 18,446,744,073,709,551,616 bytes), so that in the practice you would 
> run out of money long before your run out of Heap space.
> (And you would also run out of time before you fill up all that memory).
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234282-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 13:32:48 2012
Return-Path: <users-return-234282-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 805C8C288
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 13:32:48 +0000 (UTC)
Received: (qmail 48600 invoked by uid 500); 16 May 2012 13:32:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48445 invoked by uid 500); 16 May 2012 13:32:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48435 invoked by uid 99); 16 May 2012 13:32:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:32:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 13:32:38 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id AdVt1j0030xGWP858dYJVr; Wed, 16 May 2012 13:32:18 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id AdYH1j01H38FjT13YdYJMQ; Wed, 16 May 2012 13:32:18 +0000
Message-ID: <4FB3AC60.9090008@christopherschultz.net>
Date: Wed, 16 May 2012 09:32:16 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com> <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>,<4FB26271.3010400@christopherschultz.net> <BLU162-W515A310C19E29BD9728CFDBE1B0@phx.gbl> <4FB27330.4050905@christopherschultz.net> <4FB2D385.60205@pidster.com>
In-Reply-To: <4FB2D385.60205@pidster.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Pid,

On 5/15/12 6:07 PM, Pid wrote:
> On 15/05/2012 16:16, Christopher Schultz wrote:
>> Vickie,
>> 
>> (Bringing this back on-list).
>> 
>> On 5/15/12 10:21 AM, Vickie Troy-McKoy wrote:
>>>> Date: Tue, 15 May 2012 10:04:33 -0400 From: 
>>>> chris@christopherschultz.net Subject: Re: Multiple tomcat 
>>>> Instances on Same Server and One Apache Instance
>>>> 
>>>> Try to express your requirements in simpler language. For 
>>>> instance, you have two versions of your software: one one
>>>> port 8009 and one on port 7009. Under what conditions should
>>>> a particular user be sent to either of those versions?
>>>> 
>>>> If you are using sessions, the load-balancer will keep a
>>>> client associated with the right version *after* the first
>>>> request, but you still need to decide under which
>>>> circumstances a *new* client should be sent to one or the
>>>> other. Once you can answer that, we can help you configure
>>>> it.
>> 
>>> Chris, I beg to differ.  I know EXACTLY what I want.  When I 
>>> explained exactly what I wanted, I was told about the the 
>>> loadbalancer worker, which I have never used before.  However,
>>> when I configured it as Andre (so graciously) explained it, I
>>> am receiving the same results as my simple workers list
>>> configuration. EXACTLY what I wanted to do was explained
>>> initially and clarified in my "5/14/12 9:54 PM" post.
>> 
>> This one? (quoted from here on out)
>> 
>>> I just want to forward based on the port that the Tomcat
>>> instance is running on.
>> 
>> Sadly, the client doesn't know the port number of the backend
>> Tomcat. So, how do you propose that httpd make the decision on
>> which backend Tomcat to contact? This is why I said you didn't
>> have your requirements straight.
>> 
>>> The 2 tomcat instances running on the same server is really
>>> the same application--but different versions. And, I thought
>>> that I could use the existing Apache instance to forward
>>> requests to the new version of the app running on tomcat as
>>> well.
>> 
>> You can, you just need to express the rules for choosing which 
>> backend. I don't see that anywhere in the description of your
>> problem.
>> 
>>> But, if I want (e.g. the tsademo app) the tomcat instance
>>> running on port 8009; and tsademo is being forwarded to both
>>> ports--how can I be sure that I would get the tsademo running
>>> on port 8009 and not the one running on 7009?
>> 
>> There needs to be some external factor. That's what I'm asking
>> you to provide: some way of telling which backend should be
>> chosen. If you don't care, then you can use the lb to
>> randomly-assign new clients to a backend. That seems unlikely to
>> be the desired outcome: you want some clients to go to one
>> version and others to go to the other. But which ones go where?
>> That's the question you haven't answered.
> 
> Really, the requirement was achievable in a simple way.

Same context-path on two different servers running two different
versions of the same webapp? That doesn't sound trivial to me unless
there is some trigger (usually a separate URL).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+zrGAACgkQ9CaO5/Lv0PBAlQCfaKXSnaTx5Nqu4XnjD2kaafip
d6cAn06jytRgUmyykFoqtTnx0b9JbW2p
=djii
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234283-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 14:41:39 2012
Return-Path: <users-return-234283-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E28FF9052
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 14:41:38 +0000 (UTC)
Received: (qmail 3323 invoked by uid 500); 16 May 2012 14:41:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3268 invoked by uid 500); 16 May 2012 14:41:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3256 invoked by uid 99); 16 May 2012 14:41:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 14:41:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of v.dymikha@msk.teztour.com designates 194.165.24.66 as permitted sender)
Received: from [194.165.24.66] (HELO mail2.teztour.com) (194.165.24.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 14:41:27 +0000
X-Virus: 
Received: from [10.1.1.101] (account v.dymikha@mail2.teztour.com HELO [10.1.1.101])
  by mail2.teztour.com (CommuniGate Pro SMTP 5.3.9)
  with ESMTPSA id 58503913 for users@tomcat.apache.org; Wed, 16 May 2012 18:41:07 +0400
Message-ID: <1337179267.18697.17.camel@twotower>
Subject: Re: Where can I find slow query log produced by tomcat-jdbc?
From: Vladimir Dymikha <v.dymikha@msk.teztour.com>
Reply-To: v.dymikha@msk.teztour.com
To: users@tomcat.apache.org
Date: Wed, 16 May 2012 18:41:07 +0400
Organization: TezTour
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.1 
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0

Ok, after upgrade to 7.0.27 I can see in catalina.out 

May 16, 2012 6:29:13 PM org.apache.tomcat.jdbc.pool.interceptor.SlowQueryReport reportSlowQuery
WARNING: Slow Query Report SQL=/* named HQL query HotelView.findPriceById */ select minspohote0_.HOTEL as HOTEL27_, minspohote0_.ID_CITY_DEP as ID2_27_, minspohote0_.MIN_PRICE as MIN3_27_, minspohote0_.ID_CURRENCY as ID4_27_ from erp.v_min_spo_hotel_prices_fast minspohote0_ where ( minspohote0_.RANK=1) and minspohote0_.HOTEL=? and minspohote0_.ID_CITY_DEP=?; time=11 ms;

1. How can I get substitution for "?" values?

2. p:jdbcInterceptors="SlowQueryReport(threshold=10,maxQueries=10000)"
Is this correct syntax?

3. How can I turn this output to pool.2012-05-16.log file instead of catalina.out?

-------------------------------------------------------
${catalina.home}/conf/logging.properties:

handlers = 1catalina.org.apache.juli.FileHandler,
2localhost.org.apache.juli.FileHandler,
3manager.org.apache.juli.FileHandler,
4host-manager.org.apache.juli.FileHandler,
5pool.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler

[...]

5pool.org.apache.juli.FileHandler.level = ALL
5pool.org.apache.juli.FileHandler.directory = ${catalina.base}/logs
5pool.org.apache.juli.FileHandler.prefix = pool.

org.apache.tomcat.jdbc.level = ALL
org.apache.tomcat.jdbc.handlers = 5pool.org.apache.juli.FileHandler
-------------------------------------------------------

Looks like this settings totally ignored.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234284-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 14:47:40 2012
Return-Path: <users-return-234284-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD8D39092
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 14:47:40 +0000 (UTC)
Received: (qmail 23733 invoked by uid 500); 16 May 2012 14:47:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23673 invoked by uid 500); 16 May 2012 14:47:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23658 invoked by uid 99); 16 May 2012 14:47:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 14:47:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kaufhold4j@googlemail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 14:47:00 +0000
Received: by werf3 with SMTP id f3so696709wer.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 07:46:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=+vyh03+OiAta2zYo8zamPB4GGmr7/ED0UDO0btWVJQo=;
        b=CF9OuSIgFBVHo96Q3MXfk2iSrjgVv1IoqJ51e40XSXwaMNc6Pq9KdloPzf6pPcfFus
         PqlPNutyWq3Z1Tg8ItAhON5Hl6V3YV2U/x7Xw6WUcqK8gvnJFNwf1TN4m2QnPGtN3RgC
         6G9rW9JYcGjU6OaIUN2FlVKrjAwZzyaU8oKuPim0OKXu+wJdxd+rIhh49B9BtEr9Njb8
         UkhYOJFlD+FefK0/St7KDfgMxDEvY5jTwC6IN42zz1OoTga6lw//BW8bBKrj8KHa6mpv
         D8GgfeS+dfgPyMlMZztta6BifAADBx6VbckJ5+kjZszoYcCkiuof0DPC64Dbf8JSYwE5
         gkeg==
MIME-Version: 1.0
Received: by 10.180.84.193 with SMTP id b1mr28700600wiz.11.1337179599695; Wed,
 16 May 2012 07:46:39 -0700 (PDT)
Received: by 10.216.243.197 with HTTP; Wed, 16 May 2012 07:46:38 -0700 (PDT)
Date: Wed, 16 May 2012 16:46:38 +0200
Message-ID: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
Subject: tomcat slowing down
From: Christian Kaufhold <kaufhold4j@googlemail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d043745010a6f4104c0286356

--f46d043745010a6f4104c0286356
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I made a thread dump off the slow server.
btw how to put this post in the mail-thread?



 thanx







Full thread dump Java HotSpot(TM) 64-Bit Server VM (19.0-b09 mixed mode):



"http-8080-103" daemon prio=10 tid=0x00007f8f70ca6000 nid=0xfd8 in
Object.wait() [0x00007f8f7faf9000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b32a5d28> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b32a5d28> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-102" daemon prio=10 tid=0x00007f8f7055f800 nid=0xfd7 in
Object.wait() [0x00007f8f7fbfa000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b32a5ed8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b32a5ed8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-101" daemon prio=10 tid=0x00007f8f704a3000 nid=0xfd6 in
Object.wait() [0x00007f8f7fcfb000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b32ab1b0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b32ab1b0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-100" daemon prio=10 tid=0x00007f8f74739800 nid=0xdf2 in
Object.wait() [0x00007f8f7fefd000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31aa5b0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31aa5b0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-99" daemon prio=10 tid=0x00007f8f74637800 nid=0xdf1 in
Object.wait() [0x00007f8f7fffe000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31aad30> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31aad30> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-98" daemon prio=10 tid=0x00007f8f74635800 nid=0xdf0 runnable
[0x00007f8f881b8000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-97" daemon prio=10 tid=0x00007f8f74298000 nid=0xdef in
Object.wait() [0x00007f8f882ba000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31abde8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31abde8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-96" daemon prio=10 tid=0x00007f8f74297000 nid=0xdee in
Object.wait() [0x00007f8f883bb000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31ac568> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31ac568> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-95" daemon prio=10 tid=0x00007f8f743f2800 nid=0xded in
Object.wait() [0x00007f8f884bc000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31acce8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31acce8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-94" daemon prio=10 tid=0x00007f8f743f1800 nid=0xdec runnable
[0x00007f8f885bd000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-93" daemon prio=10 tid=0x00007f8f742a9000 nid=0xdeb in
Object.wait() [0x00007f8f886be000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31add80> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31add80> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-92" daemon prio=10 tid=0x00007f8f7483e000 nid=0xdea runnable
[0x00007f8f887bf000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-91" daemon prio=10 tid=0x00007f8f7483d000 nid=0xde9 in
Object.wait() [0x00007f8f88ac2000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31ae688> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31ae688> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-90" daemon prio=10 tid=0x00007f8f7483c800 nid=0xde8 in
Object.wait() [0x00007f8f889c1000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31ae830> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31ae830> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-89" daemon prio=10 tid=0x000000004070c800 nid=0xde7 runnable
[0x00007f8f888bf000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-88" daemon prio=10 tid=0x000000004070c000 nid=0xde6 in
Object.wait() [0x00007f8f88c12000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007b31af780> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007b31af780> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-87" daemon prio=10 tid=0x0000000041301800 nid=0x2ccc in
Object.wait() [0x00007f8f88d13000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ae241b88> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ae241b88> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-86" daemon prio=10 tid=0x0000000040661000 nid=0x2ccb in
Object.wait() [0x00007f8f88e14000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ae241dd0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ae241dd0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-85" daemon prio=10 tid=0x0000000040660000 nid=0x2cca in
Object.wait() [0x00007f8f89016000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ae241f78> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ae241f78> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-84" daemon prio=10 tid=0x000000004065f800 nid=0x2cc9 runnable
[0x00007f8f88f15000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-83" daemon prio=10 tid=0x0000000041c33000 nid=0xf02 in
Object.wait() [0x00007f8f89117000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad411a08> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad411a08> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-82" daemon prio=10 tid=0x0000000041627000 nid=0xf01 in
Object.wait() [0x00007f8f89218000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad411c58> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad411c58> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-81" daemon prio=10 tid=0x0000000040bcd800 nid=0xf00 in
Object.wait() [0x00007f8f89319000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad411e40> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad411e40> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-80" daemon prio=10 tid=0x0000000041734000 nid=0xefe in
Object.wait() [0x00007f8f8941a000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad3e8a00> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad3e8a00> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-79" daemon prio=10 tid=0x00007f8f950ec800 nid=0xefd in
Object.wait() [0x00007f8f8951b000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad3e91a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad3e91a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-78" daemon prio=10 tid=0x00007f8f960f8000 nid=0xefc in
Object.wait() [0x00007f8f8961c000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad35c418> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad35c418> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-77" daemon prio=10 tid=0x00007f8f94cb8800 nid=0xefb in
Object.wait() [0x00007f8f8991f000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad361ea8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad361ea8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-76" daemon prio=10 tid=0x00007f8f94cb8000 nid=0xefa in
Object.wait() [0x00007f8f8a52b000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad362648> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad362648> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-75" daemon prio=10 tid=0x00007f8f955f4000 nid=0xef9 in
Object.wait() [0x00007f8f89c22000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad362de8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad362de8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-74" daemon prio=10 tid=0x00007f8f957fe000 nid=0xef8 in
Object.wait() [0x00007f8f8a329000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad363050> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad363050> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-73" daemon prio=10 tid=0x00007f8f950e5800 nid=0xef7 in
Object.wait() [0x00007f8f8971d000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ad3632b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ad3632b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-72" daemon prio=10 tid=0x00007f8f94cb6000 nid=0x7e8b in
Object.wait() [0x00007f8f8981e000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007abaa1818> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007abaa1818> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-71" daemon prio=10 tid=0x00007f8f955f3000 nid=0x7e89 in
Object.wait() [0x00007f8f89a20000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007abaa1a00> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007abaa1a00> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-70" daemon prio=10 tid=0x00007f8f955f2000 nid=0x7e88 runnable
[0x00007f8f89b1f000]

   java.lang.Thread.State: RUNNABLE

            at java.lang.Object.<init>(Object.java:20)

            at java.io.InputStream.<init>(InputStream.java:28)

            at java.io.FilterInputStream.<init>(FilterInputStream.java:44)

            at sun.net.www.MeteredStream.<init>(MeteredStream.java:32)

            at
sun.net.www.http.KeepAliveStream.<init>(KeepAliveStream.java:44)

            at
sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:874)

            at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:632)

            at
sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1200)

            - locked <0x00000007decbd2c0> (a
sun.net.www.protocol.http.HttpURLConnection)

            at
de.bfd.tools.FunktionsSammlung.postDataToURLAndReturnInputStream(FunktionsSammlung.java:518)

            at
de.lvg.blfd.geom.DenkmalGeometry.getMetaInfoViaURL(DenkmalGeometry.java:245)

            at
de.lvg.blfd.geom.DenkmalGeometry.getMetaInfo(DenkmalGeometry.java:167)

            at
de.lvg.blfd.geom.DenkmalGeometry.setGeometry(DenkmalGeometry.java:141)

            at
de.lvg.blfd.geom.DenkmalGeometry.setEWKT(DenkmalGeometry.java:434)

            at
de.lvg.blfd.geom.DenkmalGeometry.setEWKT(DenkmalGeometry.java:405)

            at de.lvg.blfd.boden.Kerndaten.loadGeometry(Kerndaten.java:698)

            at de.lvg.blfd.boden.Massnahme.loadByID(Massnahme.java:1683)

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
org.apache.myfaces.el.MethodBindingImpl.invoke(MethodBindingImpl.java:132)

            at
org.apache.myfaces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:61)

            at javax.faces.component.UICommand.broadcast(UICommand.java:109)

            at javax.faces.component.UIData.broadcast(UIData.java:517)

            at
org.ajax4jsf.framework.ajax.AjaxViewRoot.processEvents(AjaxViewRoot.java:180)

            at
org.ajax4jsf.framework.ajax.AjaxViewRoot.broadcastEvents(AjaxViewRoot.java:158)

            at
org.ajax4jsf.framework.ajax.AjaxViewRoot.processDecodes(AjaxViewRoot.java:274)

            at
org.apache.myfaces.lifecycle.ApplyRequestValuesExecutor.execute(ApplyRequestValuesExecutor.java:32)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:95)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:139)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-69" daemon prio=10 tid=0x00007f8f955a9000 nid=0x7e7e in
Object.wait() [0x00007f8f89d23000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007abaa4218> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007abaa4218> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-68" daemon prio=10 tid=0x00007f8f955f0000 nid=0x7e7d in
Object.wait() [0x00007f8f89e24000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007abaa43c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007abaa43c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-67" daemon prio=10 tid=0x00007f8f95663800 nid=0x7e7c runnable
[0x00007f8f89f23000]

   java.lang.Thread.State: RUNNABLE

            at java.lang.Throwable.fillInStackTrace(Native Method)

            - locked <0x00000007decd9978> (a
java.util.MissingResourceException)

            at java.lang.Throwable.<init>(Throwable.java:218)

            at java.lang.Exception.<init>(Exception.java:59)

            at java.lang.RuntimeException.<init>(RuntimeException.java:61)

            at
java.util.MissingResourceException.<init>(MissingResourceException.java:68)

            at
java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1427)

            at
java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1250)

            at java.util.ResourceBundle.getBundle(ResourceBundle.java:952)

            at
org.hibernate.validator.ClassValidator.getDefaultResourceBundle(ClassValidator.java:160)

            at
org.hibernate.validator.ClassValidator.<init>(ClassValidator.java:125)

            at
sun.reflect.GeneratedConstructorAccessor4207.newInstance(Unknown Source)

            at
sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)

            at
java.lang.reflect.Constructor.newInstance(Constructor.java:513)

            at
org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:382)

            at
org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1319)

            at
org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)

            at

de.lvg.corefoundation.hibernate.provider.ConfigurationSessionProvider.<init>(ConfigurationSessionProvider.java:18)

            at

de.lvg.corefoundation.hibernate.logging.InterceptedSessionProvider.<init>(InterceptedSessionProvider.java:23)

            at
de.lvg.corefoundation.hibernate.logging.Session.<init>(Session.java:32)

            at
de.blfd.bau.scenario.wi.PageContext.<init>(PageContext.java:62)

            at
de.blfd.bau.scenario.wi.PageContext.create(PageContext.java:173)

            at
de.blfd.bau.wicket.datenblatt.pages.DatenblattPage.<init>(DatenblattPage.java:29)

            at
sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)

            at
sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)

            at
sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)

            at
java.lang.reflect.Constructor.newInstance(Constructor.java:513)

            at
org.apache.wicket.session.DefaultPageFactory.createPage(DefaultPageFactory.java:192)

            at
org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:57)

            at

org.apache.wicket.request.target.component.BookmarkablePageRequestTarget.newPage(BookmarkablePageRequestTarget.jav

a:298)

            at

org.apache.wicket.request.target.component.BookmarkablePageRequestTarget.getPage(BookmarkablePageRequestTarget.jav

a:320)

            at

org.apache.wicket.request.target.component.BookmarkablePageRequestTarget.processEvents(BookmarkablePageRequestTarg

et.java:234)

            at

org.apache.wicket.request.AbstractRequestCycleProcessor.processEvents(AbstractRequestCycleProcessor.java:92)

            at
org.apache.wicket.RequestCycle.processEventsAndRespond(RequestCycle.java:1250)

            at org.apache.wicket.RequestCycle.step(RequestCycle.java:1329)

            at org.apache.wicket.RequestCycle.steps(RequestCycle.java:1428)

            at org.apache.wicket.RequestCycle.request(RequestCycle.java:545)

            at
org.apache.wicket.protocol.http.WicketFilter.doGet(WicketFilter.java:479)

            at
org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:312)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-66" daemon prio=10 tid=0x00007f8f955f5000 nid=0x7e79 runnable
[0x00007f8f8a026000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-65" daemon prio=10 tid=0x00007f8f84153800 nid=0x7ab8 runnable
[0x00007f8f8a127000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-64" daemon prio=10 tid=0x00007f8f8414e800 nid=0x7ab7 runnable
[0x00007f8f8a227000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-63" daemon prio=10 tid=0x00007f8f84920000 nid=0x7ab4 in
Object.wait() [0x00007f8f8a42a000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007ab2483c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007ab2483c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-62" daemon prio=10 tid=0x00007f8f942da800 nid=0x1fe7 in
Object.wait() [0x00007f8f8a62c000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4eb2660> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4eb2660> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-61" daemon prio=10 tid=0x00007f8f9566f000 nid=0x1fe6 runnable
[0x00007f8f8a72d000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-60" daemon prio=10 tid=0x00007f8f9566e000 nid=0x1fe5 runnable
[0x00007f8f8a82e000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-59" daemon prio=10 tid=0x00007f8f947f5000 nid=0x1fe4 in
Object.wait() [0x00007f8f8a92f000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4eb3708> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4eb3708> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-58" daemon prio=10 tid=0x00007f8f94204000 nid=0x1fe3 in
Object.wait() [0x00007f8f8b08f000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4eb3ea8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4eb3ea8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-57" daemon prio=10 tid=0x00007f8f94fb4000 nid=0x1fe1 in
Object.wait() [0x00007f8f8aa30000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4e762a8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4e762a8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-56" daemon prio=10 tid=0x00007f8f944bf000 nid=0x1fe0 in
Object.wait() [0x00007f8f8ac8b000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4e76510> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4e76510> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-55" daemon prio=10 tid=0x00007f8f9424e000 nid=0x1fdf in
Object.wait() [0x00007f8f8ad8c000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4e8a030> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4e8a030> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-54" daemon prio=10 tid=0x00007f8f9510a000 nid=0x1fde in
Object.wait() [0x00007f8f8b5f4000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4e9da90> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4e9da90> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-53" daemon prio=10 tid=0x00007f8f94a23800 nid=0x1fdd runnable
[0x00007f8f8ae8d000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-52" daemon prio=10 tid=0x00007f8f94df3000 nid=0x1fdc in
Object.wait() [0x00007f8f8af8e000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007a4e51e08> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007a4e51e08> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-51" daemon prio=10 tid=0x00007f8f94b36000 nid=0x4bf6 in
Object.wait() [0x00007f8f8b3f2000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x000000079a590328> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x000000079a590328> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"File Reaper" daemon prio=10 tid=0x00007f8f78005000 nid=0x246 in
Object.wait() [0x00007f8f8b6f5000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000797c14a20> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)

            - locked <0x0000000797c14a20> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)

            at
org.apache.commons.io.FileCleaningTracker$Reaper.run(FileCleaningTracker.java:205)



"File Reaper" daemon prio=10 tid=0x0000000040e0c800 nid=0x659f in
Object.wait() [0x00007f8f8b4f3000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x000000078c79be20> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)

            - locked <0x000000078c79be20> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)

            at
org.apache.wicket.util.file.FileCleaner$1.run(FileCleaner.java:64)



"PageSavingThread-WicketApplication" daemon prio=10 tid=0x0000000040748800
nid=0x770 waiting on condition

[0x00007f8f8b7f6000]

   java.lang.Thread.State: TIMED_WAITING (sleeping)

            at java.lang.Thread.sleep(Native Method)

            at
org.apache.wicket.protocol.http.pagestore.DiskPageStore$PageSavingThread.run(DiskPageStore.java:977)

            at java.lang.Thread.run(Thread.java:662)



"Thread-59" daemon prio=10 tid=0x00007f8f80036000 nid=0x1b6 runnable
[0x00007f8f8b8f7000]

   java.lang.Thread.State: RUNNABLE

            at java.net.PlainDatagramSocketImpl.receive0(Native Method)

            - locked <0x0000000781957518> (a
java.net.PlainDatagramSocketImpl)

            at
java.net.PlainDatagramSocketImpl.receive(PlainDatagramSocketImpl.java:136)

            - locked <0x0000000781957518> (a
java.net.PlainDatagramSocketImpl)

            at java.net.DatagramSocket.receive(DatagramSocket.java:725)

            - locked <0x0000000781b6de78> (a java.net.DatagramPacket)

            - locked <0x00000007819574d8> (a java.net.MulticastSocket)

            at
de.bfd.tools.ConnectionPool$ConnPoolMultiCaster.run(ConnectionPool.java:1057)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-50" daemon prio=10 tid=0x00007f8f949fb000 nid=0x7cbd in
Object.wait() [0x00007f8f8b9f8000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ffcec8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ffcec8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-49" daemon prio=10 tid=0x00007f8f949fa000 nid=0x7cbc runnable
[0x00007f8f8baf9000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-48" daemon prio=10 tid=0x00007f8f94846800 nid=0x7cbb in
Object.wait() [0x00007f8f8bbfa000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ffdde8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ffdde8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-47" daemon prio=10 tid=0x00007f8f94845800 nid=0x7cba in
Object.wait() [0x00007f8f90bd9000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007810030b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007810030b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-46" daemon prio=10 tid=0x00007f8f944a7000 nid=0x7aee in
Object.wait() [0x00007f8f8bcfb000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780fd1ff8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780fd1ff8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-45" daemon prio=10 tid=0x00007f8f944a6000 nid=0x7aed in
Object.wait() [0x00007f8f8bdfc000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780fd14a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780fd14a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-44" daemon prio=10 tid=0x00007f8f9483c800 nid=0x7aeb in
Object.wait() [0x00007f8f8befd000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780f266c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780f266c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-43" daemon prio=10 tid=0x00007f8f9511a800 nid=0x7aea in
Object.wait() [0x00007f8f8bffe000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ea4af0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ea4af0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-42" daemon prio=10 tid=0x00007f8f95119000 nid=0x7ae9 in
Object.wait() [0x00007f8f901cf000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780e9eba0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780e9eba0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-41" daemon prio=10 tid=0x00007f8f956bb000 nid=0x7ae5 in
Object.wait() [0x00007f8f902d0000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780dca9d8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780dca9d8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-40" daemon prio=10 tid=0x00007f8f956ba000 nid=0x7ae4 runnable
[0x00007f8f903d1000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-39" daemon prio=10 tid=0x00007f8f9597c800 nid=0x7ae3 in
Object.wait() [0x00007f8f904d2000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ddb610> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ddb610> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-38" daemon prio=10 tid=0x00007f8f9721b800 nid=0x7ae2 in
Object.wait() [0x00007f8f905d3000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ddbf18> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ddbf18> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-37" daemon prio=10 tid=0x00007f8f97cb3800 nid=0x7ae1 in
Object.wait() [0x00007f8f906d4000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ddc0c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ddc0c0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-36" daemon prio=10 tid=0x00007f8f95086000 nid=0x7ae0 runnable
[0x00007f8f907d5000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-35" daemon prio=10 tid=0x00007f8f960bd000 nid=0x7ade in
Object.wait() [0x00007f8f908d6000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x000000078088cae0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x000000078088cae0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-34" daemon prio=10 tid=0x00007f8f94cdd800 nid=0x7add in
Object.wait() [0x00007f8f909d7000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780884d58> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780884d58> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-33" daemon prio=10 tid=0x00007f8f95165000 nid=0x7adc in
Object.wait() [0x00007f8f90ad8000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780886f10> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780886f10> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-32" daemon prio=10 tid=0x00007f8f95747000 nid=0x7adb runnable
[0x00007f8f93cfd000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-31" daemon prio=10 tid=0x00007f8f95117800 nid=0x7ad6 runnable
[0x00007f8f90cd9000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-30" daemon prio=10 tid=0x00007f8f944df000 nid=0x7ad5 in
Object.wait() [0x00007f8f90ddb000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780890e50> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780890e50> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-29" daemon prio=10 tid=0x00007f8f94ceb800 nid=0x7ad4 in
Object.wait() [0x00007f8f90edc000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007808c9488> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007808c9488> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-28" daemon prio=10 tid=0x00007f8f944d9000 nid=0x7ad3 in
Object.wait() [0x00007f8f90fdd000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007808d3168> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007808d3168> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-27" daemon prio=10 tid=0x00007f8f948e9800 nid=0x7ad2 runnable
[0x00007f8f910dd000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-26" daemon prio=10 tid=0x00007f8f9511d000 nid=0x7ad0 in
Object.wait() [0x00007f8f911df000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780922ac8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780922ac8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-25" daemon prio=10 tid=0x00007f8f9511c800 nid=0x7acf runnable
[0x00007f8f912e0000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-24" daemon prio=10 tid=0x00007f8f949ff800 nid=0x7ace runnable
[0x00007f8f913e1000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-23" daemon prio=10 tid=0x00007f8f94687000 nid=0x7acb in
Object.wait() [0x00007f8f914e2000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780966b68> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780966b68> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-22" daemon prio=10 tid=0x00007f8f9521b800 nid=0x7ac9 in
Object.wait() [0x00007f8f915e3000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x000000078098d280> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x000000078098d280> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-21" daemon prio=10 tid=0x00007f8f9449f800 nid=0x7ac8 in
Object.wait() [0x00007f8f916e4000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007809baa90> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007809baa90> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-20" daemon prio=10 tid=0x00007f8f94512800 nid=0x7ac7 in
Object.wait() [0x00007f8f917e5000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007809f7bc0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x00000007809f7bc0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-19" daemon prio=10 tid=0x00007f8f94511800 nid=0x7ac6 runnable
[0x00007f8f918e2000]

   java.lang.Thread.State: RUNNABLE

            at sun.misc.Unsafe.defineClass(Native Method)

            at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45)

            at
sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:381)

            at java.security.AccessController.doPrivileged(Native Method)

            at
sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:377)

            at
sun.reflect.MethodAccessorGenerator.generateSerializationConstructor(MethodAccessorGenerator.java:95)

            at
sun.reflect.ReflectionFactory.newConstructorForSerialization(ReflectionFactory.java:313)

            at
java.io.ObjectStreamClass.getSerializableConstructor(ObjectStreamClass.java:1327)

            at
java.io.ObjectStreamClass.access$1500(ObjectStreamClass.java:52)

            at java.io.ObjectStreamClass$2.run(ObjectStreamClass.java:437)

            at java.security.AccessController.doPrivileged(Native Method)

            at java.io.ObjectStreamClass.<init>(ObjectStreamClass.java:413)

            at java.io.ObjectStreamClass.lookup(ObjectStreamClass.java:310)

            at
java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:547)

            at
java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)

            at
java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)

            at
java.io.ObjectInputStream.readClass(ObjectInputStream.java:1461)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1311)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)

            at
java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)

            at
java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)

            at java.util.ArrayList.readObject(ArrayList.java:593)

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)

            at
java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)

            at
java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)

            at java.util.ArrayList.readObject(ArrayList.java:593)

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)

            at
java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)

            at
java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)

            at java.util.ArrayList.readObject(ArrayList.java:593)

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)

            at
java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)

            at
java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)

            at
java.io.ObjectInputStream.readArray(ObjectInputStream.java:1666)

            at
java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1322)

            at
java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)

            at
org.apache.myfaces.application.jsp.JspStateManagerImpl.deserializeView(JspStateManagerImpl.java:579)

            at

org.apache.myfaces.application.jsp.JspStateManagerImpl.getSerializedViewFromServletSession(JspStateManagerImpl.jav

a:480)

            at

org.apache.myfaces.application.jsp.JspStateManagerImpl.restoreTreeStructure(JspStateManagerImpl.java:232)

            at
org.apache.myfaces.application.jsp.JspStateManagerImpl.restoreView(JspStateManagerImpl.java:267)

            at
org.ajax4jsf.framework.ajax.AjaxStateManager.restoreView(AjaxStateManager.java:83)

            at
org.apache.myfaces.application.jsp.JspViewHandlerImpl.restoreView(JspViewHandlerImpl.java:231)

            at
org.ajax4jsf.framework.ViewHandlerWrapper.restoreView(ViewHandlerWrapper.java:116)

            at
org.ajax4jsf.framework.ajax.AjaxViewHandler.restoreView(AjaxViewHandler.java:150)

            at
org.jenia.faces.template.handler.ViewHandler.restoreView(ViewHandler.java:263)

            at
org.ajax4jsf.framework.ViewHandlerWrapper.restoreView(ViewHandlerWrapper.java:116)

            at
org.ajax4jsf.framework.ajax.AjaxViewHandler.restoreView(AjaxViewHandler.java:150)

            at
org.apache.myfaces.lifecycle.RestoreViewExecutor.execute(RestoreViewExecutor.java:81)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:95)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:139)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"Java2D Disposer" daemon prio=10 tid=0x00007f8f8c656800 nid=0x7ac3 in
Object.wait() [0x00007f8f91aef000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007804838f0> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)

            - locked <0x00000007804838f0> (a
java.lang.ref.ReferenceQueue$Lock)

            at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)

            at sun.java2d.Disposer.run(Disposer.java:127)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-18" daemon prio=10 tid=0x00007f8f94665800 nid=0x7ac2 runnable
[0x00007f8f91d8e000]

   java.lang.Thread.State: RUNNABLE

            at java.net.SocketInputStream.socketRead0(Native Method)

            at java.net.SocketInputStream.read(SocketInputStream.java:129)

            at
org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:735)

            at
org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:366)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:814)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-17" daemon prio=10 tid=0x00007f8f9569e000 nid=0x7ac1 runnable
[0x00007f8f92163000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-16" daemon prio=10 tid=0x00007f8f955bd000 nid=0x7ac0 in
Object.wait() [0x00007f8f92265000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780a4d690> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780a4d690> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-15" daemon prio=10 tid=0x00007f8f9511b800 nid=0x78f4 in
Object.wait() [0x00007f8f92366000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780a72478> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780a72478> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-14" daemon prio=10 tid=0x00007f8f94cc2000 nid=0x78f3 runnable
[0x00007f8f92466000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-13" daemon prio=10 tid=0x00007f8f94cc1800 nid=0x78f2 in
Object.wait() [0x00007f8f92568000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780a8f658> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780a8f658> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-12" daemon prio=10 tid=0x00007f8f948fe000 nid=0x78f1 in
Object.wait() [0x00007f8f92669000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780ab9e68> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780ab9e68> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-11" daemon prio=10 tid=0x00007f8f948fd800 nid=0x78ee runnable
[0x00007f8f92769000]

   java.lang.Thread.State: RUNNABLE

            at javax.faces.FacesException.<init>(FacesException.java:50)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:392)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-10" daemon prio=10 tid=0x00007f8f94cf9800 nid=0x78ed in
Object.wait() [0x00007f8f928cd000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780af5f38> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780af5f38> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-9" daemon prio=10 tid=0x00007f8f94d7c000 nid=0x78ea runnable
[0x00007f8f929cd000]

   java.lang.Thread.State: RUNNABLE

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
javax.faces.component._ComponentAttributesMap.getComponentProperty(_ComponentAttributesMap.java:387)

            at
javax.faces.component._ComponentAttributesMap.get(_ComponentAttributesMap.java:235)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:230)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printComponent(DebugUtils.java:316)

            at
org.apache.myfaces.util.DebugUtils.printView(DebugUtils.java:150)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:142)

            at
org.apache.myfaces.util.DebugUtils.traceView(DebugUtils.java:122)

            at
org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

            at
javax.faces.webapp.FacesServlet.service(FacesServlet.java:140)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:127)

            at
org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:277)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.UploadMultipartFilter.doFilter(UploadMultipartFilter.java:44)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
de.lvg.blfd.filter.CustomCharacterEncodingFilter.doFilter(CustomCharacterEncodingFilter.java:22)

            at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)

            at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)

            at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)

            at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)

            at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)

            at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)

            at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)

            at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)

            at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)

            at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)

            at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-8" daemon prio=10 tid=0x00007f8f94d7b800 nid=0x78e9 in
Object.wait() [0x00007f8f92acf000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b485b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b485b8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"TP-Monitor" daemon prio=10 tid=0x00007f8f8c21b800 nid=0x78e8 in
Object.wait() [0x00007f8f92bd0000]

   java.lang.Thread.State: TIMED_WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007806c5fb8> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)

            at
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run(ThreadPool.java:565)

            - locked <0x00000007806c5fb8> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)

            at java.lang.Thread.run(Thread.java:662)



"TP-Processor4" daemon prio=10 tid=0x00007f8f8c219800 nid=0x78e7 runnable
[0x00007f8f92cd1000]

   java.lang.Thread.State: RUNNABLE

            at java.net.PlainSocketImpl.socketAccept(Native Method)

            at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)

            - locked <0x00000007806c6608> (a java.net.SocksSocketImpl)

            at java.net.ServerSocket.implAccept(ServerSocket.java:462)

            at java.net.ServerSocket.accept(ServerSocket.java:430)

            at
org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:312)

            at
org.apache.jk.common.ChannelSocket.acceptConnections(ChannelSocket.java:666)

            at
org.apache.jk.common.ChannelSocket$SocketAcceptor.runIt(ChannelSocket.java:877)

            at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)

            at java.lang.Thread.run(Thread.java:662)



"TP-Processor3" daemon prio=10 tid=0x00007f8f8c5e8800 nid=0x78e6 in
Object.wait() [0x00007f8f92dd2000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007806c5868> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)

            - locked <0x00000007806c5868> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Thread.run(Thread.java:662)



"TP-Processor2" daemon prio=10 tid=0x00007f8f8c5e7000 nid=0x78e5 in
Object.wait() [0x00007f8f93026000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007806c5ad8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)

            - locked <0x00000007806c5ad8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Thread.run(Thread.java:662)



"TP-Processor1" daemon prio=10 tid=0x00007f8f8c5e5800 nid=0x78e4 in
Object.wait() [0x00007f8f93127000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x00000007806c5d48> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)

            - locked <0x00000007806c5d48> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)

            at java.lang.Thread.run(Thread.java:662)



"http-8443-Acceptor-0" daemon prio=10 tid=0x00000000408e1000 nid=0x78e3
runnable [0x00007f8f92ed3000]

   java.lang.Thread.State: RUNNABLE

            at java.net.PlainSocketImpl.socketAccept(Native Method)

            at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)

            - locked <0x00000007806c71c0> (a java.net.SocksSocketImpl)

            at java.net.ServerSocket.implAccept(ServerSocket.java:462)

            at
com.sun.net.ssl.internal.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:261)

            at
org.apache.tomcat.util.net.jsse.JSSESocketFactory.acceptSocket(JSSESocketFactory.java:152)

            at
org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:352)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-7" daemon prio=10 tid=0x00007f8f955fc800 nid=0x78e2 in
Object.wait() [0x00007f8f93228000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b5fef8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b5fef8> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-6" daemon prio=10 tid=0x00007f8f955fb000 nid=0x78e1 in
Object.wait() [0x00007f8f93329000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b551a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b551a0> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-5" daemon prio=10 tid=0x00007f8f954ca800 nid=0x78e0 in
Object.wait() [0x00007f8f9342a000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b57358> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b57358> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-4" daemon prio=10 tid=0x000000004077c800 nid=0x78df in
Object.wait() [0x00007f8f9352b000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b9d538> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b9d538> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-3" daemon prio=10 tid=0x0000000040e3b800 nid=0x78de in
Object.wait() [0x00007f8f9362c000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780bb1848> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780bb1848> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-2" daemon prio=10 tid=0x000000004092c800 nid=0x78dd in
Object.wait() [0x00007f8f9372d000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780b93a20> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780b93a20> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-1" daemon prio=10 tid=0x00000000408c0000 nid=0x78dc in
Object.wait() [0x00007f8f9382e000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780bfaf18> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at java.lang.Object.wait(Object.java:485)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:458)

            - locked <0x0000000780bfaf18> (a
org.apache.tomcat.util.net.JIoEndpoint$Worker)

            at
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:484)

            at java.lang.Thread.run(Thread.java:662)



"http-8080-Acceptor-0" daemon prio=10 tid=0x0000000040966800 nid=0x78db
runnable [0x00007f8f9392f000]

   java.lang.Thread.State: RUNNABLE

            at java.net.PlainSocketImpl.socketAccept(Native Method)

            at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)

            - locked <0x0000000780c05c48> (a java.net.SocksSocketImpl)

            at java.net.ServerSocket.implAccept(ServerSocket.java:462)

            at java.net.ServerSocket.accept(ServerSocket.java:430)

            at
org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:61)

            at
org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:352)

            at java.lang.Thread.run(Thread.java:662)



"ContainerBackgroundProcessor[StandardEngine[Catalina]]" daemon prio=10
tid=0x0000000040973000 nid=0x78da waiting

on condition [0x00007f8f93a30000]

   java.lang.Thread.State: TIMED_WAITING (sleeping)

            at java.lang.Thread.sleep(Native Method)

            at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1579)

            at java.lang.Thread.run(Thread.java:662)



"PageSavingThread-WicketApplication" daemon prio=10 tid=0x0000000040550000
nid=0x78d8 waiting on condition

[0x00007f8f93b31000]

   java.lang.Thread.State: TIMED_WAITING (sleeping)

            at java.lang.Thread.sleep(Native Method)

            at
org.apache.wicket.protocol.http.pagestore.DiskPageStore$PageSavingThread.run(DiskPageStore.java:977)

            at java.lang.Thread.run(Thread.java:662)



"PageSavingThread-WicketApplication" daemon prio=10 tid=0x0000000040771800
nid=0x78d4 waiting on condition

[0x00007f8f9816c000]

   java.lang.Thread.State: TIMED_WAITING (sleeping)

            at java.lang.Thread.sleep(Native Method)

            at
org.apache.wicket.protocol.http.pagestore.DiskPageStore$PageSavingThread.run(DiskPageStore.java:977)

            at java.lang.Thread.run(Thread.java:662)



"GC Daemon" daemon prio=10 tid=0x00007f8f94b1d800 nid=0x78cd in
Object.wait() [0x00007f8f985ee000]

   java.lang.Thread.State: TIMED_WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780000140> (a sun.misc.GC$LatencyLock)

            at sun.misc.GC$Daemon.run(GC.java:100)

            - locked <0x0000000780000140> (a sun.misc.GC$LatencyLock)



"Low Memory Detector" daemon prio=10 tid=0x00007f8f94003800 nid=0x78cb
runnable [0x0000000000000000]

   java.lang.Thread.State: RUNNABLE



"CompilerThread1" daemon prio=10 tid=0x00007f8f94001000 nid=0x78ca waiting
on condition [0x0000000000000000]

   java.lang.Thread.State: RUNNABLE



"CompilerThread0" daemon prio=10 tid=0x00000000401ae800 nid=0x78c9 waiting
on condition [0x0000000000000000]

   java.lang.Thread.State: RUNNABLE



"Signal Dispatcher" daemon prio=10 tid=0x00000000401ac800 nid=0x78c8
waiting on condition [0x0000000000000000]

   java.lang.Thread.State: RUNNABLE



"Finalizer" daemon prio=10 tid=0x000000004018e000 nid=0x78c7 runnable
[0x00007f8f98d81000]

   java.lang.Thread.State: RUNNABLE

            at java.lang.ref.Finalizer.invokeFinalizeMethod(Native Method)

            at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:83)

            at java.lang.ref.Finalizer.access$100(Finalizer.java:14)

            at
java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:160)



"Reference Handler" daemon prio=10 tid=0x0000000040186800 nid=0x78c6 in
Object.wait() [0x00007f8f98e82000]

   java.lang.Thread.State: WAITING (on object monitor)

            at java.lang.Object.wait(Native Method)

            - waiting on <0x0000000780000120> (a
java.lang.ref.Reference$Lock)

            at java.lang.Object.wait(Object.java:485)

            at
java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)

            - locked <0x0000000780000120> (a java.lang.ref.Reference$Lock)



"main" prio=10 tid=0x0000000040113800 nid=0x78b7 runnable
[0x00007f8f9f4dc000]

   java.lang.Thread.State: RUNNABLE

            at java.net.PlainSocketImpl.socketAccept(Native Method)

            at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)

            - locked <0x0000000780c2c1d0> (a java.net.SocksSocketImpl)

            at java.net.ServerSocket.implAccept(ServerSocket.java:462)

            at java.net.ServerSocket.accept(ServerSocket.java:430)

            at
org.apache.catalina.core.StandardServer.await(StandardServer.java:389)

            at org.apache.catalina.startup.Catalina.await(Catalina.java:662)

            at org.apache.catalina.startup.Catalina.start(Catalina.java:614)

            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

            at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

            at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

            at java.lang.reflect.Method.invoke(Method.java:597)

            at
org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)

            at
org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)



"VM Thread" prio=10 tid=0x0000000040182800 nid=0x78c5 runnable



"GC task thread#0 (ParallelGC)" prio=10 tid=0x0000000040126800 nid=0x78b8
runnable



"GC task thread#1 (ParallelGC)" prio=10 tid=0x0000000040128000 nid=0x78b9
runnable



"GC task thread#2 (ParallelGC)" prio=10 tid=0x000000004012a000 nid=0x78ba
runnable



"GC task thread#3 (ParallelGC)" prio=10 tid=0x000000004012c000 nid=0x78bb
runnable



"GC task thread#4 (ParallelGC)" prio=10 tid=0x000000004012d800 nid=0x78bc
runnable



"GC task thread#5 (ParallelGC)" prio=10 tid=0x000000004012f800 nid=0x78bd
runnable



"GC task thread#6 (ParallelGC)" prio=10 tid=0x0000000040131800 nid=0x78be
runnable



"GC task thread#7 (ParallelGC)" prio=10 tid=0x0000000040133800 nid=0x78bf
runnable



"GC task thread#8 (ParallelGC)" prio=10 tid=0x0000000040135000 nid=0x78c0
runnable



"GC task thread#9 (ParallelGC)" prio=10 tid=0x0000000040137000 nid=0x78c1
runnable



"GC task thread#10 (ParallelGC)" prio=10 tid=0x0000000040139000 nid=0x78c2
runnable



"GC task thread#11 (ParallelGC)" prio=10 tid=0x000000004013a800 nid=0x78c3
runnable



"GC task thread#12 (ParallelGC)" prio=10 tid=0x000000004013c800 nid=0x78c4
runnable



"VM Periodic Task Thread" prio=10 tid=0x00007f8f94016000 nid=0x78cc waiting
on condition



JNI global references: 1710



Heap

 PSYoungGen      total 674496K, used 156558K [0x00000007d5560000,
0x0000000800000000, 0x0000000800000000)

  eden space 654720K, 23% used
[0x00000007d5560000,0x00000007dee43af0,0x00000007fd4c0000)

  from space 19776K, 0% used
[0x00000007fecb0000,0x00000007fecb0000,0x0000000800000000)

  to   space 22144K, 0% used
[0x00000007fd4c0000,0x00000007fd4c0000,0x00000007fea60000)

 PSOldGen        total 1398144K, used 1398143K [0x0000000780000000,
0x00000007d5560000, 0x00000007d5560000)

  object space 1398144K, 99% used
[0x0000000780000000,0x00000007d555fff0,0x00000007d5560000)

 PSPermGen       total 524288K, used 142585K [0x0000000760000000,
0x0000000780000000, 0x0000000780000000)

  object space 524288K, 27% used
[0x0000000760000000,0x0000000768b3e730,0x0000000780000000)

--f46d043745010a6f4104c0286356--

From users-return-234285-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:01:14 2012
Return-Path: <users-return-234285-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 535B19125
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:01:14 +0000 (UTC)
Received: (qmail 74785 invoked by uid 500); 16 May 2012 15:01:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74733 invoked by uid 500); 16 May 2012 15:01:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74724 invoked by uid 99); 16 May 2012 15:01:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:01:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:01:03 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id 7E0C6D50EA
	for <users@tomcat.apache.org>; Wed, 16 May 2012 17:00:42 +0200 (CEST)
Received: from poczta2.ceti.pl (ip-62-121-128-70.ceti.net.pl [62.121.128.70])
	by tau.ceti.pl (Postfix) with ESMTP id 16BB6202FE9;
	Wed, 16 May 2012 17:00:42 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 16 May 2012 17:00:42 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
In-Reply-To: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
Message-ID: <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
X-Sender: miki@ceti.pl
User-Agent: CETI Webmail/0.7.2
X-Virus-Checked: Checked by ClamAV on apache.org

On 16.05.2012 16:46, Christian Kaufhold wrote:

> I made a thread dump off the slow server.

You need to investigate it with application developers. Examine all 
threads and confirm whether application behaves correctly or not.
It looks you have some ajax requests - maybe they are executed to 
often, or they are too CPU intensive?

-- 
Mikolaj Rydzewski <miki@ceti.pl>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234286-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:11:56 2012
Return-Path: <users-return-234286-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4027F919B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:11:56 +0000 (UTC)
Received: (qmail 31803 invoked by uid 500); 16 May 2012 15:11:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31662 invoked by uid 500); 16 May 2012 15:11:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31653 invoked by uid 99); 16 May 2012 15:11:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:11:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:11:45 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 93B7CDA0519
	for <users@tomcat.apache.org>; Wed, 16 May 2012 17:11:22 +0200 (CEST)
Message-ID: <4FB3C399.4020906@ice-sa.com>
Date: Wed, 16 May 2012 17:11:21 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
In-Reply-To: <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mikolaj Rydzewski wrote:
> On 16.05.2012 16:46, Christian Kaufhold wrote:
> 
>> I made a thread dump off the slow server.
> 
> You need to investigate it with application developers. Examine all 
> threads and confirm whether application behaves correctly or not.
> It looks you have some ajax requests 

Just curious : how do you see that from the OP's stack trace ?

- maybe they are executed to often,
> or they are too CPU intensive?
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234287-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:16:06 2012
Return-Path: <users-return-234287-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AE6791B3
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:16:06 +0000 (UTC)
Received: (qmail 44954 invoked by uid 500); 16 May 2012 15:16:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44788 invoked by uid 500); 16 May 2012 15:16:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44779 invoked by uid 99); 16 May 2012 15:16:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:16:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:15:55 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id E5E4ED5437
	for <users@tomcat.apache.org>; Wed, 16 May 2012 17:15:34 +0200 (CEST)
Received: from poczta2.ceti.pl (ip-62-121-128-70.ceti.net.pl [62.121.128.70])
	by tau.ceti.pl (Postfix) with ESMTP id BBC9E202FE9;
	Wed, 16 May 2012 17:15:34 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 8bit
Date: Wed, 16 May 2012 17:15:34 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
In-Reply-To: <4FB3C399.4020906@ice-sa.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
 <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com>
Message-ID: <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl>
X-Sender: miki@ceti.pl
User-Agent: CETI Webmail/0.7.2
X-Virus-Checked: Checked by ClamAV on apache.org

On 16.05.2012 17:11, Andr Warnier wrote:
> Mikolaj Rydzewski wrote:
>> It looks you have some ajax requests
>
> Just curious : how do you see that from the OP's stack trace ?

Just a guess, maybe I'm wrong:

org.ajax4jsf.framework.ajax.AjaxViewRoot.processEvents(AjaxViewRoot.java:180)
             at
org.ajax4jsf.framework.ajax.AjaxViewRoot.broadcastEvents(AjaxViewRoot.java:158)
             at
org.ajax4jsf.framework.ajax.AjaxViewRoot.processDecodes(AjaxViewRoot.java:274)


-- 
Mikolaj Rydzewski <miki@ceti.pl>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234288-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:18:31 2012
Return-Path: <users-return-234288-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B549791BE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:18:30 +0000 (UTC)
Received: (qmail 55025 invoked by uid 500); 16 May 2012 15:18:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54948 invoked by uid 500); 16 May 2012 15:18:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54938 invoked by uid 99); 16 May 2012 15:18:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:18:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:18:19 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id AaEg1j0031ei1Bg5FfHxmj; Wed, 16 May 2012 15:17:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id AfHx1j00938FjT13kfHxUT; Wed, 16 May 2012 15:17:57 +0000
Message-ID: <4FB3C524.9040603@christopherschultz.net>
Date: Wed, 16 May 2012 11:17:56 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: two instances of Tomcat in same machine
References: <1337160349.79631.YahooMailNeo@web29601.mail.ird.yahoo.com> <4FB37869.2060805@ice-sa.com>
In-Reply-To: <4FB37869.2060805@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/16/12 5:50 AM, Andr Warnier wrote:
> Nobody can answer that question in the absolute. It all depends on
> how much memory your Tomcat instances really need

(Really, your webapps, not Tomcat).

> to run the applications you put it them, for the number of requests
> you expect to be handled. And won what else on that machine needs
> memory, and how much memory that machine has.
> 
> Tomcat can run in as little as 512KB (or less).  The other end is 
> unlimited..

Tomcat itself can run in like a 12MiB heap, depending on the JVM
version. We ran in production for years using a miniscule (for
Java-based webapp) 64MiB heap.

> The benefit of a 64-bit OS compared to a 32-bit OS, is that you
> can allocate more memory *per process*. A drawback of running an
> application in 64-bit mode - compared to running the same in 32-bit
> mode - is that under 64-bit mode, some things will use up 64 bits
> instead of 32 bits. So you roughly use about 30% more memory, to
> run the exact same application.  But that also depends very much on
> the application.
> 
> In other words : try it and see.

Also, there are lots of reasons to run multiple JVMs, even on the same
physical machine. For instance, you might want to improve the
robustness of your webapp by being able to restart one of the JVMs if
something goes wrong (e.g. OOME) or even to upgrade your webapps(s)
with zero downtime. (This of course assumes that you can run two
different versions of your webapp simultaneously including all
dependencies like database structure, etc.).

Or, maybe you want to run different webapps under different JVM
versions for some reason. We currently run all our productions webapps
in their own Tomcat instances with independent JVM versions, etc. It
provides complete isolation between webapps at the cost of memory.
Memory is cheap, and our webapps don't need a lot of it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+zxSQACgkQ9CaO5/Lv0PCRUgCdEfaEQt5CjJ9qVIHA1jyrqaqC
M6UAnRIDcBSfG7gRBHsxvFSH5UISLl2k
=vv+b
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234289-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:24:06 2012
Return-Path: <users-return-234289-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEE03926A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:24:05 +0000 (UTC)
Received: (qmail 74032 invoked by uid 500); 16 May 2012 15:24:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73955 invoked by uid 500); 16 May 2012 15:24:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73944 invoked by uid 99); 16 May 2012 15:24:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:24:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:23:56 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id AacD1j0061c6gX85FfPbKk; Wed, 16 May 2012 15:23:35 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id AfPb1j00C38FjT13jfPbkr; Wed, 16 May 2012 15:23:35 +0000
Message-ID: <4FB3C676.1020301@christopherschultz.net>
Date: Wed, 16 May 2012 11:23:34 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
In-Reply-To: <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Christian,

On 5/16/12 11:00 AM, Mikolaj Rydzewski wrote:
> On 16.05.2012 16:46, Christian Kaufhold wrote:
> 
>> I made a thread dump off the slow server.
> 
> You need to investigate it with application developers.

+1

I did notice some of the threads performing debugging operations (in
myfaces). Is that intentional?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+zxnYACgkQ9CaO5/Lv0PDL8ACggHJagqMHkPQ2dVFub7NUYls6
HZIAn1celh+spZjcX7KEViyGO7iRZjVm
=NvnK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234290-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:36:09 2012
Return-Path: <users-return-234290-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50383CDED
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:36:09 +0000 (UTC)
Received: (qmail 13580 invoked by uid 500); 16 May 2012 15:36:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13481 invoked by uid 500); 16 May 2012 15:36:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13278 invoked by uid 99); 16 May 2012 15:36:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:36:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kaufhold4j@googlemail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:35:59 +0000
Received: by wibhm14 with SMTP id hm14so706329wib.0
        for <users@tomcat.apache.org>; Wed, 16 May 2012 08:35:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UmC3CUmDLt3FGwUG1YEWX/E289cWJP2U9n7LuZxJyAQ=;
        b=SWZgLkLapA4Ly77a7KOAZqGmoLmtnnuRuGNrOI1jdQ4EjfLE0caQUpNcN5KPNuI1RT
         9r/Es3o6VreTdMRcrMnUImYeTjWtUrxx0yswvnQoJeslhQzL/15duxC4FPBTuh/HZqfo
         aWuEg3raf2rAgN0K78ZMOqjCFO+YvUqTxe9GTVQi/IaYjM7vMM2lZn4c5rHnHK1ilwbF
         DsSVikk2uHTO5dJNrRthTPp5hGxHqsExRxbpo9JreFdV3kMlg+HXg5BLTYrN9ZpvqChT
         18HEK6KXbX0qJQfqe3ZOQ6aF/5UsVbGbLONBfrQHHPytQ/KwC603PFoHJmIFr/XVyUl7
         JXHQ==
MIME-Version: 1.0
Received: by 10.180.109.229 with SMTP id hv5mr48003662wib.0.1337182539265;
 Wed, 16 May 2012 08:35:39 -0700 (PDT)
Received: by 10.216.243.197 with HTTP; Wed, 16 May 2012 08:35:39 -0700 (PDT)
In-Reply-To: <4FB3C676.1020301@christopherschultz.net>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
	<7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
	<4FB3C676.1020301@christopherschultz.net>
Date: Wed, 16 May 2012 17:35:39 +0200
Message-ID: <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
Subject: Re: tomcat slowing down
From: Christian Kaufhold <kaufhold4j@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f2354bd40b5a904c02912c5

--e89a8f2354bd40b5a904c02912c5
Content-Type: text/plain; charset=ISO-8859-1

Hi Christopher,

its not intentional but the myfaces App runs on the server for years now
and should not cause the problem
I recently deployed a wicket app and now
the server is slowing down when we have about 10 users or so.

I have no idea of whats going on...




2012/5/16 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Christian,
>
> On 5/16/12 11:00 AM, Mikolaj Rydzewski wrote:
> > On 16.05.2012 16:46, Christian Kaufhold wrote:
> >
> >> I made a thread dump off the slow server.
> >
> > You need to investigate it with application developers.
>
> +1
>
> I did notice some of the threads performing debugging operations (in
> myfaces). Is that intentional?
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+zxnYACgkQ9CaO5/Lv0PDL8ACggHJagqMHkPQ2dVFub7NUYls6
> HZIAn1celh+spZjcX7KEViyGO7iRZjVm
> =NvnK
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f2354bd40b5a904c02912c5--

From users-return-234291-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:43:47 2012
Return-Path: <users-return-234291-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E10E0CE13
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:43:46 +0000 (UTC)
Received: (qmail 43535 invoked by uid 500); 16 May 2012 15:43:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43479 invoked by uid 500); 16 May 2012 15:43:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43467 invoked by uid 99); 16 May 2012 15:43:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:43:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:43:34 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 30A13DA0555
	for <users@tomcat.apache.org>; Wed, 16 May 2012 17:43:12 +0200 (CEST)
Message-ID: <4FB3CB0C.3010309@ice-sa.com>
Date: Wed, 16 May 2012 17:43:08 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com> <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl>
In-Reply-To: <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Mikolaj Rydzewski wrote:
> On 16.05.2012 17:11, Andr Warnier wrote:
>> Mikolaj Rydzewski wrote:
>>> It looks you have some ajax requests
>>
>> Just curious : how do you see that from the OP's stack trace ?
> 
> Just a guess, maybe I'm wrong:
> 
> org.ajax4jsf.framework.ajax.AjaxViewRoot.processEvents(AjaxViewRoot.java:180) 
> 
>             at
> org.ajax4jsf.framework.ajax.AjaxViewRoot.broadcastEvents(AjaxViewRoot.java:158) 
> 
>             at
> org.ajax4jsf.framework.ajax.AjaxViewRoot.processDecodes(AjaxViewRoot.java:274) 
> 
> 

Oh. I always thought that Ajax was purely a client-side thing (Asynchronous Javascript etc..).
Maybe this is only a name coincidence ?
 From a server point of view, there should not be anything special distinguishing 
Ajax-triggered requests from others, not so ?
Of course, perhaps one has one of these nifty real-time Ajax-driven popups which poll the 
server every 0.1 second for an update to some graphic gimmick..
Which would of course provide some clue as to a gradual slowdown of some webserver, as the 
poor thing struggles to keep up.
Mere loose and unfounded speculation of course, on the base of at best flimsy evidence.
Let's wait to see what the real data says.





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234292-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:51:16 2012
Return-Path: <users-return-234292-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C812ECEA5
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:51:16 +0000 (UTC)
Received: (qmail 68078 invoked by uid 500); 16 May 2012 15:51:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68024 invoked by uid 500); 16 May 2012 15:51:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68015 invoked by uid 99); 16 May 2012 15:51:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:51:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:51:04 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 8E7CDDA07C0
	for <users@tomcat.apache.org>; Wed, 16 May 2012 17:50:42 +0200 (CEST)
Message-ID: <4FB3CCD1.9050902@ice-sa.com>
Date: Wed, 16 May 2012 17:50:41 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>	<7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>	<4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
In-Reply-To: <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Christian Kaufhold wrote:
> Hi Christopher,
> 
> its not intentional but the myfaces App runs on the server for years now
> and should not cause the problem
> I recently deployed a wicket app and now
> the server is slowing down when we have about 10 users or so.
> 
> I have no idea of whats going on...
> 
Well.. maybe the Ajax clue wasn't really so [OT] and speculative after all..
I don't know what exactly a wicket app thing is, but if this was me, I would at least have 
a look at it.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234293-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 15:53:13 2012
Return-Path: <users-return-234293-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2AC77CEB0
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 15:53:13 +0000 (UTC)
Received: (qmail 76196 invoked by uid 500); 16 May 2012 15:53:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75957 invoked by uid 500); 16 May 2012 15:53:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75947 invoked by uid 99); 16 May 2012 15:53:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:53:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cjderham@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 15:53:03 +0000
Received: by lahc1 with SMTP id c1so858407lah.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 08:52:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=g3AzXzkGLNczKTnLht+mlNun/4BHF8BPfUgclCCYTXQ=;
        b=BcVQeCYibDas8YXayMPQ4ajk4XM4Wq8/ItvQFuM5w2f0CatfHqqDzSjQ2OQacPHRJ1
         Jr48qsVFMrTe5UaqNellQFtgvSf3fCDOG+eek59e+zUczqZ8vHyXE8TBdODeVGYm6jMa
         5hVR2pN9EVYHyEfRljK05l21RfUs4/eRUDxaBod7T/gAKSzraVuaPzRzTZbtjG2PFi0o
         EyCAUqvnC3jCq7NcRaSfB6QXF120ParGdXAZ6PlOZkL3EsL9KH8bo9GD6lD9IOdOFzUN
         vB0PrNZfIqIeMA0/ChUneFo2qBY2L/Ka+RFC+fP8QcVVePs+V+GFx7n9v4r9kQeEQtZN
         m5iQ==
Received: by 10.112.100.7 with SMTP id eu7mr1468873lbb.105.1337183563144; Wed,
 16 May 2012 08:52:43 -0700 (PDT)
MIME-Version: 1.0
Reply-To: chris@derham.me.uk
Sender: cjderham@gmail.com
Received: by 10.112.6.233 with HTTP; Wed, 16 May 2012 08:52:22 -0700 (PDT)
In-Reply-To: <01CA4A2496DB4920B5915FDCEA34D0AD@Father>
References: <4f97d339.f38.12bc.7aac@land10.nl> <CAG6aRdUdoCw1o1vWfoG3r7OX9LDew-bKK6Vxd-x44GuTUZ-K_Q@mail.gmail.com>
 <01CA4A2496DB4920B5915FDCEA34D0AD@Father>
From: chris derham <chris@derham.me.uk>
Date: Wed, 16 May 2012 12:52:22 -0300
X-Google-Sender-Auth: _-YwOsl4wzRyZFy7e1DDqRJDVAk
Message-ID: <CAG6aRdUWtJJ8dMxtGaTxPLyPYsk7bRhTVN2m1iRdZytfEr41jw@mail.gmail.com>
Subject: Fwd: mod_jk binary
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9d7171a47de0d04c0294fde

--14dae9d7171a47de0d04c0294fde
Content-Type: text/plain; charset=ISO-8859-1

Steffen from apache lounge asked me to forward this to tomcat mailing list

Chris

---------- Forwarded message ----------
From: Steffen <info@apachelounge.com>
Date: Wed, 16 May 2012 at 12:10 PM
Subject: Re: mod_jk binary

  Chris,

Made 1.2.36 Apache 2.4 Win32/Win64 available.
Maybe you can say it on the Tomcat user list.

Steffen

--14dae9d7171a47de0d04c0294fde--

From users-return-234294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 16:05:05 2012
Return-Path: <users-return-234294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 818FFCF22
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 16:05:05 +0000 (UTC)
Received: (qmail 21564 invoked by uid 500); 16 May 2012 16:05:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21494 invoked by uid 500); 16 May 2012 16:05:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21481 invoked by uid 99); 16 May 2012 16:05:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:05:02 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.99] (HELO mail51.messagelabs.com) (216.82.241.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:04:50 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-3.tower-51.messagelabs.com!1337184266!9936701!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22950 invoked from network); 16 May 2012 16:04:26 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-3.tower-51.messagelabs.com with RC4-SHA encrypted SMTP; 16 May 2012 16:04:26 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 16 May 2012 11:04:23 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Wed, 16 May
 2012 11:04:22 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 16 May 2012 11:04:22 -0500
Subject: RE: [OT] tomcat slowing down
Thread-Topic: [OT] tomcat slowing down
Thread-Index: Ac0zeq9AAz//QGZKR3mk7kS7IYzgjgAAqXmA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB026619BC6@USEA-EXCH8.na.uis.unisys.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
 <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com>
 <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com>
In-Reply-To: <4FB3CB0C.3010309@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
> Subject: Re: [OT] tomcat slowing down

> I always thought that Ajax was purely a client-side thing

It may be so in this case as well - the stack traces include use of HttpCli=
ent, so the webapp may actually be hung up waiting on some external resourc=
e.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 16:24:30 2012
Return-Path: <users-return-234295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8095092FF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 16:24:30 +0000 (UTC)
Received: (qmail 82375 invoked by uid 500); 16 May 2012 16:24:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82286 invoked by uid 500); 16 May 2012 16:24:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82204 invoked by uid 99); 16 May 2012 16:24:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:24:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:24:16 +0000
Received: by eaak12 with SMTP id k12so415874eaa.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 09:23:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=FJXCNE7qgDBvlIXydpKaxMx//cLr/VLc1Al1BynuNcQ=;
        b=tVCTfLwEiq5EnmlK4M1nNOzHD9VcBv0SH40WCTRcenBk6UZ8BwaHxZRVR+EKBF32UX
         Re0WnSTVfwldp8owT5+9k75Fi6AsNJo/Q+FX7b4QIeGdN5iG/tsuSOVtjvPaFmMkaD9v
         zzPpqCQpZisMk+O9b6ydJtipkH7BnwbsvrhVE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=FJXCNE7qgDBvlIXydpKaxMx//cLr/VLc1Al1BynuNcQ=;
        b=WRm3vbqMj/tPJVI8IkSqNiyuqVl+W8AHCP+6ejXyBa5xQVfb+oZWQQizffbbVWQ+nN
         DFzxJojynHIr9gV5lDaWlK2khV/OlrlN9P8LRxl6Ef8lqRhPf5AVAWYGb+xzbjPY1uJK
         JPV0YlnRgID9OUA9HIiQz/nYaz/v4wQy6nNiX+LuUV2dFjp815hvFRaeCNJ50OaFgoio
         qNSg5vEtzd7Yj8a9SwamvKHl7ncViAe/Lv4ccnR+2OULcXxFLY1nYlfPSyh5m4MItMhb
         70EEx2d6kSfl84ieb8Plo7qOJzw64BZg1+DBpfsYBIlQCs4mRpubAaN5h9G21CE0w8Fv
         E4gQ==
Received: by 10.14.39.200 with SMTP id d48mr329462eeb.60.1337185436365;
        Wed, 16 May 2012 09:23:56 -0700 (PDT)
Received: from Asura.local ([89.194.197.171])
        by mx.google.com with ESMTPS id f16sm14696451eec.2.2012.05.16.09.23.53
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 09:23:54 -0700 (PDT)
Message-ID: <4FB3D4A8.5040801@pidster.com>
Date: Wed, 16 May 2012 17:24:08 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>	<7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>	<4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com> <4FB3CCD1.9050902@ice-sa.com>
In-Reply-To: <4FB3CCD1.9050902@ice-sa.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig83EE665720F27F2F4393EEBC"
X-Gm-Message-State: ALoCoQnU9xdpvtKBth68FajJzSQHpzuTvhjHdfeQR+MmhdvCL2pU4+GY4S/Dj3+Hb5JTDMF699xi

--------------enig83EE665720F27F2F4393EEBC
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 16/05/2012 16:50, Andr=E9 Warnier wrote:
> Christian Kaufhold wrote:
>> Hi Christopher,
>>
>> its not intentional but the myfaces App runs on the server for years n=
ow
>> and should not cause the problem
>> I recently deployed a wicket app and now
>> the server is slowing down when we have about 10 users or so.
>>
>> I have no idea of whats going on...
>>
> Well.. maybe the Ajax clue wasn't really so [OT] and speculative after
> all..
> I don't know what exactly a wicket app thing is, but if this was me, I
> would at least have a look at it.

Apache Wicket, app framework.

I'm given to understand that it stores a lot of data in the session, so
having a look at GC, heap usage properly seems like a good idea.

The OPs numbers didn't add up for me, maybe he can clarify...

> Our System:
> 2 Quadcores/24 GB Mem

24Gb?

> OpenSuse 11.4
> tomcat 6.0.29
> wicket/hibernate/postgres
>
> Max Memory and total Memory 2GB
> Free Momory 500 MB when the system is slow
> top shows 100 CPU usage by tomcat

& now only 2Gb?


p


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig83EE665720F27F2F4393EEBC
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPs9SqAAoJEGoM2OGpOvr9g/4QAJO3jwOf9ApJLRHCkr3hY97m
MtXL7DiTCG4q2ZGnzMSh8Ds9btbSFWnUobPKLPKgtogBIhnlG2S6cmtsD6wOEHR9
FGsGL8nqW6ZD054IuhdJmDKBRZwN3kSgn+F6yOZ0nJQM7I+lsby5wq20ddohOrRD
tHGVdh79EJ0Be6G7hZgR2F0/DlUb8hSccZ4H1saHfDJrviTAbzLJbs5DFdt3QmxJ
/aPKxHIo2jADkqmrtiH6UpR2Kh2vSkPpbozVS2LV1n6FdLIZj3tHVBxUI1uJmR+f
f/2T+R7JNhmYLk67qadSvTd/ChwpGmINHWBCUQ2Fb/MMof9r/BVAQEaAPCB0jl+Y
pS+FbkAPVFHkiROCuCalNEieiS7UuidLzmxCEKSyC06dS0/Zl8vtG8dEEL/m5RUz
6RG+uzeXo3+wOY7tSGQRkLWzkmlhHu3sPv1gXd/7PTxDmrc2FkVbyFsGORtWOVBB
or1hxoUn09r/JrLqIdW3Hoq37dZ50XDXUCTbgViFWXHfw4pLTdrMOdsEvsf2Y00u
e6JVx6iPw844DE1Vh6Z3qAZBTXk9KUdSVJMmzqf7et9Kv8y9eo+Ix1QRE0OnJNhW
v17bO1Bb9/1kfocP4sCpb1xQ6LBhaYw7gnaDezw23Y9MbxzTC2foVEOapJnZh/Eo
+ciMUMg6hRHjwhCHxiS0
=rj2z
-----END PGP SIGNATURE-----

--------------enig83EE665720F27F2F4393EEBC--

From users-return-234296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 16:25:59 2012
Return-Path: <users-return-234296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 185F49D9C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 16:25:59 +0000 (UTC)
Received: (qmail 91423 invoked by uid 500); 16 May 2012 16:25:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91357 invoked by uid 500); 16 May 2012 16:25:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91347 invoked by uid 99); 16 May 2012 16:25:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:25:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:25:48 +0000
Received: by eaak12 with SMTP id k12so416517eaa.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 09:25:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=zYMZiTmbJYpyp2TLQgbUpkUXrTNKJ+sq1WmpMZwQmQU=;
        b=PVu6CuVhZQ88JlrGWpVmaxzA/DJzXkp5DSvlkmY/SI7FR4cG8p8O4YvJ7IdMFQ9P1L
         8oSmy505bo8CqyimL6nB8SzickBMU/aii/Kc2zycPExsXNAi+6FPfLIp8uNOGfqlDnRN
         EHMWYUzYj5iFhpXKFPBOVNFOAXfJoAnyH2GDU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=zYMZiTmbJYpyp2TLQgbUpkUXrTNKJ+sq1WmpMZwQmQU=;
        b=SojUUt7SSxkkcLVb/85hpxt4U/hnMY26P+o6947nrAYOn4uFCN+QSPpRt9Wj8wNot7
         YH+gYmzK+le9IT1yTBuVJjrW3vv8Sh1vGyfxU/K5+j2a5Z/1hcuw/ly9UXUFU35iwpD9
         1vmQvY25xDrb1O+EH7n1SKdgpopWgTZCDOZ7Iz26qaJoTynfRb6+q/KBIGeSGgSyF3ww
         o50zMJcyG+wI3d3CLqDHf+nePVdFuv7jAOk7FE88B/BcPLRf8F0Ye1uq2b1m25bK99x2
         gZkPQSioonaqhDiZG/lIlRX8VN1xXh4/UAl9i7alQf9UjUsTSf9+yulDNpVbzFzzj49K
         Na1w==
Received: by 10.14.119.199 with SMTP id n47mr800128eeh.32.1337185528140;
        Wed, 16 May 2012 09:25:28 -0700 (PDT)
Received: from Asura.local ([89.194.197.171])
        by mx.google.com with ESMTPS id v7sm14670535eem.6.2012.05.16.09.25.25
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 09:25:26 -0700 (PDT)
Message-ID: <4FB3D506.5050701@pidster.com>
Date: Wed, 16 May 2012 17:25:42 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Multiple tomcat Instances on Same Server and One Apache Instance
References: <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl> <4FAFEDEB.4080103@pidster.com> <4FB00C79.7030207@ice-sa.com> <1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com> <BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com> <BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>,<4FB26271.3010400@christopherschultz.net> <BLU162-W515A310C19E29BD9728CFDBE1B0@phx.gbl> <4FB27330.4050905@christopherschultz.net> <4FB2D385.60205@pidster.com> <4FB3AC60.9090008@christopherschultz.net>
In-Reply-To: <4FB3AC60.9090008@christopherschultz.net>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigDA616B2D65E270AB4461D52B"
X-Gm-Message-State: ALoCoQlHACetiMP69p1TTkvo1wYYvBBupS0vObpZBVlhkjwbNOA2LZFzk/9MV+/pImOXqNDO884V

--------------enigDA616B2D65E270AB4461D52B
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 16/05/2012 14:32, Christopher Schultz wrote:
> Pid,
>=20
> On 5/15/12 6:07 PM, Pid wrote:
>> On 15/05/2012 16:16, Christopher Schultz wrote:
>>> Vickie,
>>>
>>> (Bringing this back on-list).
>>>
>>> On 5/15/12 10:21 AM, Vickie Troy-McKoy wrote:
>>>>> Date: Tue, 15 May 2012 10:04:33 -0400 From:=20
>>>>> chris@christopherschultz.net Subject: Re: Multiple tomcat=20
>>>>> Instances on Same Server and One Apache Instance
>>>>>
>>>>> Try to express your requirements in simpler language. For=20
>>>>> instance, you have two versions of your software: one one
>>>>> port 8009 and one on port 7009. Under what conditions should
>>>>> a particular user be sent to either of those versions?
>>>>>
>>>>> If you are using sessions, the load-balancer will keep a
>>>>> client associated with the right version *after* the first
>>>>> request, but you still need to decide under which
>>>>> circumstances a *new* client should be sent to one or the
>>>>> other. Once you can answer that, we can help you configure
>>>>> it.
>>>
>>>> Chris, I beg to differ.  I know EXACTLY what I want.  When I=20
>>>> explained exactly what I wanted, I was told about the the=20
>>>> loadbalancer worker, which I have never used before.  However,
>>>> when I configured it as Andre (so graciously) explained it, I
>>>> am receiving the same results as my simple workers list
>>>> configuration. EXACTLY what I wanted to do was explained
>>>> initially and clarified in my "5/14/12 9:54 PM" post.
>>>
>>> This one? (quoted from here on out)
>>>
>>>> I just want to forward based on the port that the Tomcat
>>>> instance is running on.
>>>
>>> Sadly, the client doesn't know the port number of the backend
>>> Tomcat. So, how do you propose that httpd make the decision on
>>> which backend Tomcat to contact? This is why I said you didn't
>>> have your requirements straight.
>>>
>>>> The 2 tomcat instances running on the same server is really
>>>> the same application--but different versions. And, I thought
>>>> that I could use the existing Apache instance to forward
>>>> requests to the new version of the app running on tomcat as
>>>> well.
>>>
>>> You can, you just need to express the rules for choosing which=20
>>> backend. I don't see that anywhere in the description of your
>>> problem.
>>>
>>>> But, if I want (e.g. the tsademo app) the tomcat instance
>>>> running on port 8009; and tsademo is being forwarded to both
>>>> ports--how can I be sure that I would get the tsademo running
>>>> on port 8009 and not the one running on 7009?
>>>
>>> There needs to be some external factor. That's what I'm asking
>>> you to provide: some way of telling which backend should be
>>> chosen. If you don't care, then you can use the lb to
>>> randomly-assign new clients to a backend. That seems unlikely to
>>> be the desired outcome: you want some clients to go to one
>>> version and others to go to the other. But which ones go where?
>>> That's the question you haven't answered.
>=20
>> Really, the requirement was achievable in a simple way.
>=20
> Same context-path on two different servers running two different
> versions of the same webapp? That doesn't sound trivial to me unless
> there is some trigger (usually a separate URL).

Exactly as you say:

 /v1/appname
 /v2/appname

Of course that's not what the OP asked for, as you also said.


p

> -chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enigDA616B2D65E270AB4461D52B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPs9UGAAoJEGoM2OGpOvr9+AcP/R8qqp153NaHr1/JbFGeeYfp
bK6AaevVoi/KldE/8i0KL/z344t3/3y+zyYjVIdj5L3CxwUJHQ5jYCMRzQ247Tj2
AXVASQ97NxdfLxnRIfEsnyyhNmm8u9niZ4KKIb0V2ez3gaGlFzk0fUo4ttaiOWNV
PJKcVVRo0zksrH8N37MkVZw29ZW4Afq9Pssg29v+XIMfGcm4N6TOzNAoFT6NTaFw
spKAGTmvd9z+CuXZRsTJW0MbTs/lFoBgQaQiiwPer5vHFnIBErlOJGVyVbNG6sRx
CzRhh7oMrontXMMhPcnxixvS932k5UP+Mu5OhIoxKCzbGjLFhdeRGVrcAGeD6eDn
doePMlE1P8S8lABCQZz2sCG8/yBwikl52LUyLnvDdIlpLe/cEUsEB7XI9xeBfT9m
I/y4FKBHPUQfMbdWcrA0fm1Hsr8nVQHuHN+QvBxHC0BBOOYTZl7Yo5YSlks+BSCN
NGJYGvJCoKYxxNqjiwhz6KXdveEhItABL4KRLZpS4Q1sLWIaC4kHhieIJSByTQlm
v/ZciiEU+wUr25IJYNjHgQpaEwTRS6JKIwoPgrblONlSj/9YVvaGwB4+HKlEAeip
aUnWQzYha0OCBV9RtW8Pck+RWqoGmrg0ka4lNl39pe74P3ROyrbUl8rh7lnle7bl
hmJDgr69BH2MYCjzRnKu
=etYW
-----END PGP SIGNATURE-----

--------------enigDA616B2D65E270AB4461D52B--

From users-return-234297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 16:38:13 2012
Return-Path: <users-return-234297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B2AC9F17
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 16:38:13 +0000 (UTC)
Received: (qmail 28760 invoked by uid 500); 16 May 2012 16:38:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28704 invoked by uid 500); 16 May 2012 16:38:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28691 invoked by uid 99); 16 May 2012 16:38:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:38:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:38:04 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Ac4E1j00227AodY53gdjgt; Wed, 16 May 2012 16:37:43 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id Agdj1j00V38FjT13fgdjeX; Wed, 16 May 2012 16:37:43 +0000
Message-ID: <4FB3D7D6.9060601@christopherschultz.net>
Date: Wed, 16 May 2012 12:37:42 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Fwd: mod_jk binary 1.2.36 Apache 2.4 Win32/Win64
References: <4f97d339.f38.12bc.7aac@land10.nl> <CAG6aRdUdoCw1o1vWfoG3r7OX9LDew-bKK6Vxd-x44GuTUZ-K_Q@mail.gmail.com> <01CA4A2496DB4920B5915FDCEA34D0AD@Father> <CAG6aRdUWtJJ8dMxtGaTxPLyPYsk7bRhTVN2m1iRdZytfEr41jw@mail.gmail.com>
In-Reply-To: <CAG6aRdUWtJJ8dMxtGaTxPLyPYsk7bRhTVN2m1iRdZytfEr41jw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

Adjusting the subject for better searchability in the archives.

Also adding a link: http://www.apachelounge.com/download/

- -chris

On 5/16/12 11:52 AM, chris derham wrote:
> Steffen from apache lounge asked me to forward this to tomcat
> mailing list
> 
> Chris
> 
> ---------- Forwarded message ---------- From: Steffen
> <info@apachelounge.com> Date: Wed, May 16, 2012 at 12:10 PM 
> Subject: Re: mod_jk binary
> 
> Chris,
> 
> Made 1.2.36 Apache 2.4 Win32/Win64 available. Maybe you can say it
> on the Tomcat user list.
> 
> Steffen
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+z19YACgkQ9CaO5/Lv0PBwgwCdH9JuC6tDQVuRbMOL7D52WPLE
7J0AoJ0GXyRSwdAMgJQK8jL6FTdsmA9n
=oSx+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 16:40:05 2012
Return-Path: <users-return-234298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8A549F20
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 16:40:04 +0000 (UTC)
Received: (qmail 34921 invoked by uid 500); 16 May 2012 16:40:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34842 invoked by uid 500); 16 May 2012 16:40:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34833 invoked by uid 99); 16 May 2012 16:40:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:40:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 16:39:53 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id AajA1j00D1ap0As51gfZSR; Wed, 16 May 2012 16:39:33 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id AgfZ1j00s38FjT13igfZAH; Wed, 16 May 2012 16:39:33 +0000
Message-ID: <4FB3D844.5070900@christopherschultz.net>
Date: Wed, 16 May 2012 12:39:32 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com> <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com>
In-Reply-To: <4FB3CB0C.3010309@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/16/12 11:43 AM, Andr Warnier wrote:
> Oh. I always thought that Ajax was purely a client-side thing 
> (Asynchronous Javascript etc..). Maybe this is only a name
> coincidence ?

There are libraries that make accepting Ajax requests easier (e.g.
parsing XML, unpacking JSON objects, etc.). So one could call this
"Ajax support" I suppose.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+z2EQACgkQ9CaO5/Lv0PB1ZQCfbRIMEfGs9Wju056OeSUuMXt+
ZHMAoI42R6EA0q37uXqcp5fS8QCyQMKw
=b92R
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:01:54 2012
Return-Path: <users-return-234299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 695CA9FF4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:01:54 +0000 (UTC)
Received: (qmail 2974 invoked by uid 500); 16 May 2012 17:01:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2886 invoked by uid 500); 16 May 2012 17:01:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2877 invoked by uid 99); 16 May 2012 17:01:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:01:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:01:43 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 68264DA0555
	for <users@tomcat.apache.org>; Wed, 16 May 2012 19:01:20 +0200 (CEST)
Message-ID: <4FB3DD5F.4050302@ice-sa.com>
Date: Wed, 16 May 2012 19:01:19 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com> <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com> <4FB3D844.5070900@christopherschultz.net>
In-Reply-To: <4FB3D844.5070900@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Andr,
> 
> On 5/16/12 11:43 AM, Andr Warnier wrote:
>> Oh. I always thought that Ajax was purely a client-side thing 
>> (Asynchronous Javascript etc..). Maybe this is only a name
>> coincidence ?
> 
> There are libraries that make accepting Ajax requests easier (e.g.
> parsing XML, unpacking JSON objects, etc.). So one could call this
> "Ajax support" I suppose.
> 
I was looking at "Wicket" in Wikipedia, and although much of that is unfamiliar to me, it 
sounds like there might indeed be DHTML and Ajax components involved.
Now I also can't imagine that someone would release an application that brings a server 
down to its knees with 10 users, but maybe some misconfiguration can achieve that.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:16:22 2012
Return-Path: <users-return-234300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1409C06B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:16:20 +0000 (UTC)
Received: (qmail 47273 invoked by uid 500); 16 May 2012 17:16:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47232 invoked by uid 500); 16 May 2012 17:16:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47223 invoked by uid 99); 16 May 2012 17:16:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:16:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:16:08 +0000
Received: by eekd41 with SMTP id d41so444803eek.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 10:15:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=ezA9+ZGOeuRpHyDrT72VN2e2aca7OyB+kqfY6KBSLqU=;
        b=qvATYwsz5OtP0mWkk7C7eobKL2EV0jGOFv74O812jeIvIDZD9sdRi8T0K1vJEl4U17
         iTgw0kXTgDDLwuyCwOd39HnQqhTSRyxQtf1yGuMDw08ZIZaKOnDD1Rgk+rBQcTp8lOcw
         IUhpzLn98mxv6+wA4zajGpN5271qtP7Cetf28=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=ezA9+ZGOeuRpHyDrT72VN2e2aca7OyB+kqfY6KBSLqU=;
        b=kLV5cels6tz0hG/S8cf7f31WHrFuCMrwIXpD/yN+zvZCbb898zNO0Uuj+JudxvpJS+
         EbyXEQvYwBEHxezkknhfGtyGEMEoLaR7yOdKrEpJ92WHr1l4b+1iKu7RaSFpJjVEUHUl
         kd4bWCkTXSZqzL+VrFVShioCWu7tB/gVD5uw38vhDIGQIHaV9FalGVcKXmapXdrli7pA
         HJlRmob1x7klzq7d4Ge43bfpfQ7QTNMH37VBVhiEyUkhko/9LhqeQN3zcG6mDbS/RwCC
         m4Bt4YdDNpPDcBZicAFUAXPtFZtWGudIOeyaPn1l6t6FhR1Ivajq1pHfWilsD2ulQJ4m
         xRgw==
Received: by 10.14.22.6 with SMTP id s6mr833742ees.53.1337188548478;
        Wed, 16 May 2012 10:15:48 -0700 (PDT)
Received: from Asura.local ([82.153.83.237])
        by mx.google.com with ESMTPS id u7sm7572244eeb.7.2012.05.16.10.15.47
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 10:15:47 -0700 (PDT)
Message-ID: <4FB3E0D3.6090309@pidster.com>
Date: Wed, 16 May 2012 18:16:03 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com> <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com> <4FB3D844.5070900@christopherschultz.net> <4FB3DD5F.4050302@ice-sa.com>
In-Reply-To: <4FB3DD5F.4050302@ice-sa.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig574C6463DCE3425343887CF3"
X-Gm-Message-State: ALoCoQnA6PgS2vf2AU4OYacRtWzeMftlW5wLeHSjGCv4ZQvKDMpPzadAEglgi05jKReWXSj+cO4G

--------------enig574C6463DCE3425343887CF3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 16/05/2012 18:01, Andr=C3=A9 Warnier wrote:
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Andr=C3=A9,
>>
>> On 5/16/12 11:43 AM, Andr=C3=A9 Warnier wrote:
>>> Oh. I always thought that Ajax was purely a client-side thing
>>> (Asynchronous Javascript etc..). Maybe this is only a name
>>> coincidence ?
>>
>> There are libraries that make accepting Ajax requests easier (e.g.
>> parsing XML, unpacking JSON objects, etc.). So one could call this
>> "Ajax support" I suppose.
>>
> I was looking at "Wicket" in Wikipedia,=20

That sir, is because you are not an Englishman.  However, I can assure
you, that we are very familiar with the wicket.  What ho'!


p

> and although much of that is
> unfamiliar to me, it sounds like there might indeed be DHTML and Ajax
> components involved.
> Now I also can't imagine that someone would release an application that=

> brings a server down to its knees with 10 users, but maybe some
> misconfiguration can achieve that.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig574C6463DCE3425343887CF3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPs+DVAAoJEGoM2OGpOvr9/8AP/0cePPKAlnMlPGXzpq5KfC1Y
gBXBamgehtT/8g/i1FIS8dUsPXcEorcYwSlrlXrKiQ5KufXnphthMsijMm3Z+f4U
0AFj+UA28vcTKZJOc2Jh1ZbkOZj7uyrIgY3N0qW1tNwwUekpbhXresxG+isq0+Di
JZ9jB40jYa5UnOUOxpTBUYYlDDsYq90dynqdNXMQKTaQ3OuZVuIsF1TZANKavV7Q
lrYrf5TtdeVUuCL9cIGoW5mgf6G9uhZYHAsmabbKoZIB6FY/0BK20Pfd49fd466Z
acQqldyV9kCUIs7cwkNv73VHCg8KK4bJJ603knm6OKMcIXP694tbFqWmV9Bh4XXi
TZLah7qXiTh9PlXUmOyVxvPVa0N0qQnsvpF4KCrdj7FtHZyFuC7S9JGCzrkiDCep
otsV3U20JCbDkfQYNjfVa+I5r6uRydS3ddEcKe10yA+H8jUhuPo52go60jKMbmPV
1Rg7TE6bB2xTuJL61MVs47rQJ/RCFZxzmcHEYt+MqUwTRpxSOsDYyeLh3fdSeY5O
rAs5Gg2XrpYFx69E2vCNEgVz4RoJ+qcJPFZUWQ1JTsTE/+JFawuMyWzdiePC2VJk
b3rK00yU15hML8aFvaBjWIMQA/t2v6LeRUpogO4vR578xqLthpGIOQRK/8jAKbRH
62mF2Z70QY9eMzMSWuqM
=PY6Q
-----END PGP SIGNATURE-----

--------------enig574C6463DCE3425343887CF3--

From users-return-234301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:31:01 2012
Return-Path: <users-return-234301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5D9AC92E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:31:01 +0000 (UTC)
Received: (qmail 91792 invoked by uid 500); 16 May 2012 17:30:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91750 invoked by uid 500); 16 May 2012 17:30:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91741 invoked by uid 99); 16 May 2012 17:30:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:30:58 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:30:47 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-3.tower-45.messagelabs.com!1337189423!30827929!5
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 4856 invoked from network); 16 May 2012 17:30:25 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-3.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 16 May 2012 17:30:25 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 16 May 2012 12:29:45 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 16 May
 2012 12:29:45 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 16 May 2012 12:29:45 -0500
Subject: RE: [OT] tomcat slowing down
Thread-Topic: [OT] tomcat slowing down
Thread-Index: Ac0zh55I4jmEI4j4TEO+wcJiu5MVRwAAaJ6A
Message-ID: <99C8B2929B39C24493377AC7A121E21FB026619E11@USEA-EXCH8.na.uis.unisys.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
 <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com>
 <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com>
 <4FB3D844.5070900@christopherschultz.net> <4FB3DD5F.4050302@ice-sa.com>
 <4FB3E0D3.6090309@pidster.com>
In-Reply-To: <4FB3E0D3.6090309@pidster.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Pid [mailto:pid@pidster.com]=20
> Subject: Re: [OT] tomcat slowing down

> > I was looking at "Wicket" in Wikipedia,=20

> That sir, is because you are not an Englishman.  However, I can assure
> you, that we are very familiar with the wicket.  What ho'!

Howzat?

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:32:56 2012
Return-Path: <users-return-234302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6DCCEC939
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:32:56 +0000 (UTC)
Received: (qmail 98777 invoked by uid 500); 16 May 2012 17:32:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98593 invoked by uid 500); 16 May 2012 17:32:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98577 invoked by uid 99); 16 May 2012 17:32:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:32:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rrigoni@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:32:44 +0000
Received: by ggnp1 with SMTP id p1so1298822ggn.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 10:32:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=HnDvh2JUkq3b6Uis8rfl30jDjcWGJDiRTapKeWvMXdg=;
        b=Nj12FjDVVFZdIlqa+s9mAQTxlvKfyv51n2uPJYxuieq3qDyWqa6egsyCPoUUngVydr
         uylrNU0A9ATa/1dB3gnQ7ojb2Z6IhQSTsnfTH0BODjHj5lYNmYbZUMhSZYb9IE2ArK3l
         je3ybVu7/18tLDwPT3yONOUOP/WYrejg0HkGtDllM/Pl/Dab0+nVOk4PQjhzkWcdNl5A
         skH4izsoxr1wWOj+0xzF77Dk3xEN4Vo7XAy2XNYYygT64ajGVOy1kQ8dwrHs9sswKbCR
         w1VYvbVdS901YbFgwDKJzPzeqNNa25INcb6EQTsFC2DxfwLGZcF2xMHX+k49xIdxsraO
         iZ7w==
Received: by 10.42.89.72 with SMTP id f8mr2534549icm.33.1337189543312; Wed, 16
 May 2012 10:32:23 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.64.132.5 with HTTP; Wed, 16 May 2012 10:31:53 -0700 (PDT)
From: "Ronaldo Rigoni ..." <rrigoni@gmail.com>
Date: Wed, 16 May 2012 14:31:53 -0300
Message-ID: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com>
Subject: Tomcat 7.0.27 websocket cluster
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6147e2b9fef404c02ab31b

--90e6ba6147e2b9fef404c02ab31b
Content-Type: text/plain; charset=UTF-8

Hello all,
I've a little question about the websocket implementation available in
Apache Tomcat 7.0.27.
There is a way to cluster an websocket application working with a session
replication feature?

Thanks
[]'s,
Ronaldo Rigoni

--90e6ba6147e2b9fef404c02ab31b--

From users-return-234303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:38:56 2012
Return-Path: <users-return-234303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A964C979
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:38:56 +0000 (UTC)
Received: (qmail 18106 invoked by uid 500); 16 May 2012 17:38:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17900 invoked by uid 500); 16 May 2012 17:38:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17891 invoked by uid 99); 16 May 2012 17:38:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:38:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:38:45 +0000
Received: from [192.168.245.129] (p549E8CEA.dip0.t-ipconnect.de [84.158.140.234])
	by tor.combios.es (Postfix) with ESMTPA id 45C88DA07C4
	for <users@tomcat.apache.org>; Wed, 16 May 2012 19:38:22 +0200 (CEST)
Message-ID: <4FB3E60D.2040607@ice-sa.com>
Date: Wed, 16 May 2012 19:38:21 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C399.4020906@ice-sa.com> <eaf6b128123cdde1d98f7507829ece62@tau.ceti.pl> <4FB3CB0C.3010309@ice-sa.com> <4FB3D844.5070900@christopherschultz.net> <4FB3DD5F.4050302@ice-sa.com> <4FB3E0D3.6090309@pidster.com>
In-Reply-To: <4FB3E0D3.6090309@pidster.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Pid wrote:
> On 16/05/2012 18:01, Andr Warnier wrote:
>> Christopher Schultz wrote:
>>> -----BEGIN PGP SIGNED MESSAGE-----
>>> Hash: SHA1
>>>
>>> Andr,
>>>
>>> On 5/16/12 11:43 AM, Andr Warnier wrote:
>>>> Oh. I always thought that Ajax was purely a client-side thing
>>>> (Asynchronous Javascript etc..). Maybe this is only a name
>>>> coincidence ?
>>> There are libraries that make accepting Ajax requests easier (e.g.
>>> parsing XML, unpacking JSON objects, etc.). So one could call this
>>> "Ajax support" I suppose.
>>>
>> I was looking at "Wicket" in Wikipedia, 
> 
> That sir, is because you are not an Englishman.  However, I can assure
> you, that we are very familiar with the wicket.  What ho'!

Well exactly.  The only familiarity I previously had with the word "wicket", was as some 
bit of wood carefully balanced on top of two other bits of wood, with some white-attired 
gentleman armed with another (wider) piece of wood in front, seemingly very anxious not to 
let another bloke viciously toss the first bit of wood off the second ones by means of 
something looking like a bigger golf ball.  And of course as a term in the mysterious kind 
of point-scoring ritual that goes with the same, along with other keywords like "inning", 
"not outs" and such.

So, in my mind - before I consulted Wikipedia - I had this picture of some kind of graphic 
browser applet, mostly popular in the UK and Indian markets, which one could use to 
superimpose the lastest results of such games worldwide upon one's professional workspace, 
with real-time updates.
But then, from previous experience watching the game on TV, I still could not quite figure 
out how even the real-time updates of 10 simultaneous tournaments for tens of users, could 
possibly overwhelm a Tomcat server, given the apparent pace of said game.

So that is why I checked Wikipedia, to see if my understanding was sufficient.
And to my utter relief, I realised it wasn't, and that the word wicket also seemed to 
cover some client-server software architectural feature, where indeed data may be 
exchanged by means of Ajax calls and such, but the data in question could be related to 
faster-moving matters, thus validating my initial suspicions, after a fashion.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 17:53:43 2012
Return-Path: <users-return-234304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD764C9E8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 17:53:43 +0000 (UTC)
Received: (qmail 78749 invoked by uid 500); 16 May 2012 17:53:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78678 invoked by uid 500); 16 May 2012 17:53:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78668 invoked by uid 99); 16 May 2012 17:53:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:53:40 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of singh.78@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 17:53:33 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <singh.78@gmail.com>)
	id 1SUiPQ-0003kl-Ll
	for users@tomcat.apache.org; Wed, 16 May 2012 10:53:12 -0700
Date: Wed, 16 May 2012 10:53:12 -0700 (PDT)
From: slayer12 <singh.78@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1337190792661-4980853.post@n6.nabble.com>
In-Reply-To: <027c01caa11c$d2826e80$6a00a8c0@dan>
References: <027c01caa11c$d2826e80$6a00a8c0@dan>
Subject: Re: Tomcat dies suddenly
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I was facing a problem with similar symptoms - Tomcat 7 (on centos 5, 64 bit,
12 GB RAM) was crashing without anything being logged in catalina.out
In case of JVM crash, there is supposed to be some hs_err_pid.log file but
that was also not getting generated.
Neither were there any OutOfMemory messages in /var/log/messages

Turns out that my code was going into an infinite loop because I was using
Calendar.before(Date) and this method (from java.util.calandar) stupidly
takes any object as a parameter but returns false if the passed object is
anything other than and instance of Calendar.

Sun knows about this, but in their infinite wisdom had closed 2 java bugs
related to this without resolving anything !!
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4682471
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4738710

- just my 2 bits

--
View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-dies-suddenly-tp2136492p4980853.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 18:17:07 2012
Return-Path: <users-return-234305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE5E1CAB8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 18:17:07 +0000 (UTC)
Received: (qmail 55596 invoked by uid 500); 16 May 2012 18:17:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55483 invoked by uid 500); 16 May 2012 18:17:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55471 invoked by uid 99); 16 May 2012 18:17:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:17:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [70.43.63.20] (HELO smtp03.atlngahp.sys.nuvox.net) (70.43.63.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:16:56 +0000
Received: from [192.168.0.113] (mail.etrak-plus.com [174.141.46.202])
	by smtp03.atlngahp.sys.nuvox.net (8.13.1/8.13.1) with ESMTP id q4GIGXS2002658
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO)
	for <users@tomcat.apache.org>; Wed, 16 May 2012 14:16:33 -0400
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1257)
Subject: Re: Tomcat dies suddenly
From: Carl Kabbe <carl@etrak-plus.com>
In-Reply-To: <1337190792661-4980853.post@n6.nabble.com>
Date: Wed, 16 May 2012 14:16:33 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <0144AEBD-1709-4684-9A5F-C02663991685@etrak-plus.com>
References: <027c01caa11c$d2826e80$6a00a8c0@dan> <1337190792661-4980853.post@n6.nabble.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1257)

Interesting and thanks for your response.

We switched back to VM version 1.6.0_07 (64 bit on Slackware) and =
everything was fine.  For several unrelated reasons, we switched to =
Tomcat version 6.0.35 and JVM (Oracle) version 1.6.0_16 and all has been =
fine for a month or so.    The cause remains unknown but seemingly gone =
now.

Thanks,

Carl


On May 16, 2012, at 1:53 PM, slayer12 wrote:

> I was facing a problem with similar symptoms - Tomcat 7 (on centos 5, =
64 bit,
> 12 GB RAM) was crashing without anything being logged in catalina.out
> In case of JVM crash, there is supposed to be some hs_err_pid.log file =
but
> that was also not getting generated.
> Neither were there any OutOfMemory messages in /var/log/messages
>=20
> Turns out that my code was going into an infinite loop because I was =
using
> Calendar.before(Date) and this method (from java.util.calandar) =
stupidly
> takes any object as a parameter but returns false if the passed object =
is
> anything other than and instance of Calendar.
>=20
> Sun knows about this, but in their infinite wisdom had closed 2 java =
bugs
> related to this without resolving anything !!
> http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=3D4682471
> http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=3D4738710
>=20
> - just my 2 bits
>=20
> --
> View this message in context: =
http://tomcat.10.n6.nabble.com/Tomcat-dies-suddenly-tp2136492p4980853.html=

> Sent from the Tomcat - User mailing list archive at Nabble.com.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 18:21:23 2012
Return-Path: <users-return-234306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA3CACAD6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 18:21:23 +0000 (UTC)
Received: (qmail 72977 invoked by uid 500); 16 May 2012 18:21:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72841 invoked by uid 500); 16 May 2012 18:21:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72832 invoked by uid 99); 16 May 2012 18:21:20 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:21:20 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:21:19 +0000
Message-ID: <4FB3F01F.2010004@apache.org>
Date: Wed, 16 May 2012 19:21:19 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.27 websocket cluster
References: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com>
In-Reply-To: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 16/05/2012 18:31, Ronaldo Rigoni ... wrote:
> Hello all,
> I've a little question about the websocket implementation available in
> Apache Tomcat 7.0.27.
> There is a way to cluster an websocket application working with a session
> replication feature?

There would be little point since at present there is no way to access
the HTTP session from the WebSocket connection.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 18:27:34 2012
Return-Path: <users-return-234307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F06E29F8E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 18:27:33 +0000 (UTC)
Received: (qmail 4296 invoked by uid 500); 16 May 2012 18:27:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4216 invoked by uid 500); 16 May 2012 18:27:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4109 invoked by uid 99); 16 May 2012 18:27:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:27:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [83.169.24.34] (HELO vwp4042.webpack.hosteurope.de) (83.169.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:27:19 +0000
Received: from ip-178-201-23-90.unitymediagroup.de ([178.201.23.90] helo=[192.168.178.21]); authenticated
	by vwp4042.webpack.hosteurope.de running ExIM with esmtpsa (TLS1.0:RSA_AES_128_CBC_SHA1:16)
	id 1SUiw7-0007g7-PY; Wed, 16 May 2012 20:26:59 +0200
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: Tomcat 7.0.27 websocket cluster
From: =?iso-8859-1?Q?Peter_Ro=DFbach?= <pr@objektpark.de>
In-Reply-To: <4FB3F01F.2010004@apache.org>
Date: Wed, 16 May 2012 20:26:59 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <66D12402-E71F-483A-A248-A1354B3E3499@objektpark.de>
References: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com> <4FB3F01F.2010004@apache.org>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-bounce-key: webpack.hosteurope.de;pr@objektpark.de;1337192839;b5f97cb5;

Currently we don't support it, but I read the Websocket spec that a =
client can send Auth and Cookie header!

Peter

Am 16.05.2012 um 20:21 schrieb Mark Thomas:

> On 16/05/2012 18:31, Ronaldo Rigoni ... wrote:
>> Hello all,
>> I've a little question about the websocket implementation available =
in
>> Apache Tomcat 7.0.27.
>> There is a way to cluster an websocket application working with a =
session
>> replication feature?
>=20
> There would be little point since at present there is no way to access
> the HTTP session from the WebSocket connection.
>=20
> Mark
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 18:35:36 2012
Return-Path: <users-return-234308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65829997D
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 18:35:36 +0000 (UTC)
Received: (qmail 38302 invoked by uid 500); 16 May 2012 18:35:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38211 invoked by uid 500); 16 May 2012 18:35:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38190 invoked by uid 99); 16 May 2012 18:35:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:35:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rrigoni@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:35:27 +0000
Received: by yhoo21 with SMTP id o21so1397143yho.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 11:35:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=vsNtzjWoql78qjbAd50Cre2Oe71coyv6kKvgjkTd7lU=;
        b=rrUtaJTQEf7g2dk8dDBwCnHvZ+33wSQESIc+8PirFg0srpW2GmzJz3sIyhZFs7rD0Z
         B7osw6VYYvHy+kJl/E3GmX4NKMTk1AgwFsIy0/Lzl988HFy+A7v1E3TzcaE5gx7gQmgq
         5EmeWf8qnfPRNSvv3/VchVLKvstavbcQQv44O8jD5wACE5Lu3lQIUrkPMo0T+j0hPtFB
         rnOQvyvqsPiUqz0DMPVK8t1WWAshq1cSLf2MHXoYhdTWO7dFgHW5bKe1j6hNtBs73TKS
         KHFJOf4/6vuc9roMAJq5jcIX/TjHQL4TIQy2uJFx855MGVyw2kjUr0R9Pjx76VC9STrb
         DyoA==
Received: by 10.50.186.132 with SMTP id fk4mr11365342igc.23.1337193306171;
 Wed, 16 May 2012 11:35:06 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.64.132.5 with HTTP; Wed, 16 May 2012 11:34:36 -0700 (PDT)
In-Reply-To: <66D12402-E71F-483A-A248-A1354B3E3499@objektpark.de>
References: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com>
 <4FB3F01F.2010004@apache.org> <66D12402-E71F-483A-A248-A1354B3E3499@objektpark.de>
From: "Ronaldo Rigoni ..." <rrigoni@gmail.com>
Date: Wed, 16 May 2012 15:34:36 -0300
Message-ID: <CAHWQpS=_-FK+Q0cjCvC+wdRd_3SnJhtTzm-KN24DBaL949xatA@mail.gmail.com>
Subject: Re: Tomcat 7.0.27 websocket cluster
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934068d02a79604c02b944a
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae934068d02a79604c02b944a
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Thanks Peter and Mark!

The current implementation is a tunnel over http or another socket open?
I'm planning to port a webgame to tomcat, comunicationg with websockets.
But, the absence of a session or context turns a little bit hard to work to=
.

Many thanks.
[]'s,
Ronaldo Rigoni
Arquiteto de Software



On Wed, May 16, 2012 at 3:26 PM, Peter Ro=C3=9Fbach <pr@objektpark.de> wrot=
e:

> Currently we don't support it, but I read the Websocket spec that a clien=
t
> can send Auth and Cookie header!
>
> Peter
>
> Am 16.05.2012 um 20:21 schrieb Mark Thomas:
>
> > On 16/05/2012 18:31, Ronaldo Rigoni ... wrote:
> >> Hello all,
> >> I've a little question about the websocket implementation available in
> >> Apache Tomcat 7.0.27.
> >> There is a way to cluster an websocket application working with a
> session
> >> replication feature?
> >
> > There would be little point since at present there is no way to access
> > the HTTP session from the WebSocket connection.
> >
> > Mark
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae934068d02a79604c02b944a--

From users-return-234309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 18:44:19 2012
Return-Path: <users-return-234309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4472599AF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 18:44:19 +0000 (UTC)
Received: (qmail 66625 invoked by uid 500); 16 May 2012 18:44:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66529 invoked by uid 500); 16 May 2012 18:44:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66518 invoked by uid 99); 16 May 2012 18:44:15 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:44:15 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 18:44:15 +0000
Message-ID: <4FB3F57E.6020003@apache.org>
Date: Wed, 16 May 2012 19:44:14 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.27 websocket cluster
References: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com> <4FB3F01F.2010004@apache.org> <66D12402-E71F-483A-A248-A1354B3E3499@objektpark.de> <CAHWQpS=_-FK+Q0cjCvC+wdRd_3SnJhtTzm-KN24DBaL949xatA@mail.gmail.com>
In-Reply-To: <CAHWQpS=_-FK+Q0cjCvC+wdRd_3SnJhtTzm-KN24DBaL949xatA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 16/05/2012 19:34, Ronaldo Rigoni ... wrote:
> Thanks Peter and Mark!
> 
> The current implementation is a tunnel over http or another socket open?
> I'm planning to port a webgame to tomcat, comunicationg with websockets.
> But, the absence of a session or context turns a little bit hard to work to.

It is a protocol switch - as per RFC6455. It starts off as an HTTP
connection and then switches to WebSocket.

Since it is a permanent connection, with objects representing the
connection at both ends, the initial expectation is that state can be
maintained in that object (you have to implement it, extending a base
class Tomcat provides).

If you need more, let us know with a use case. I am on the J2EE
WebSocket EG and we are looking at this topic at the moment.

Mark

> 
> Many thanks.
> []'s,
> Ronaldo Rigoni
> Arquiteto de Software
> 
> 
> 
> On Wed, May 16, 2012 at 3:26 PM, Peter Robach <pr@objektpark.de> wrote:
> 
>> Currently we don't support it, but I read the Websocket spec that a client
>> can send Auth and Cookie header!
>>
>> Peter
>>
>> Am 16.05.2012 um 20:21 schrieb Mark Thomas:
>>
>>> On 16/05/2012 18:31, Ronaldo Rigoni ... wrote:
>>>> Hello all,
>>>> I've a little question about the websocket implementation available in
>>>> Apache Tomcat 7.0.27.
>>>> There is a way to cluster an websocket application working with a
>> session
>>>> replication feature?
>>>
>>> There would be little point since at present there is no way to access
>>> the HTTP session from the WebSocket connection.
>>>
>>> Mark
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 19:49:43 2012
Return-Path: <users-return-234310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF61CC51A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 19:49:43 +0000 (UTC)
Received: (qmail 66975 invoked by uid 500); 16 May 2012 19:49:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66856 invoked by uid 500); 16 May 2012 19:49:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66845 invoked by uid 99); 16 May 2012 19:49:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 19:49:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 19:49:31 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id CF8D2D5621
	for <users@tomcat.apache.org>; Wed, 16 May 2012 21:49:11 +0200 (CEST)
Received: from [192.168.100.105] (unknown [80.54.134.16])
	by tau.ceti.pl (Postfix) with ESMTP id 8E1AD202FE8
	for <users@tomcat.apache.org>; Wed, 16 May 2012 21:49:11 +0200 (CEST)
Message-ID: <4FB404B7.7050407@ceti.pl>
Date: Wed, 16 May 2012 21:49:11 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
In-Reply-To: <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 7bit

On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
> its not intentional but the myfaces App runs on the server for years now
> and should not cause the problem
> I recently deployed a wicket app and now
> the server is slowing down when we have about 10 users or so.
>

So there are two different applications? Myfaces (which used to work for 
a long time) and wicket (which takes server down)?
I'd separate them first to have clear environment for investigation. 
Then enable GC logging, attach jvisualvm, deploy psi probe 
(http://code.google.com/p/psi-probe/), etc.

-- 
Mikolaj Rydzewski<miki@ceti.pl>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 19:53:10 2012
Return-Path: <users-return-234311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46B10C535
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 19:53:10 +0000 (UTC)
Received: (qmail 78975 invoked by uid 500); 16 May 2012 19:53:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78912 invoked by uid 500); 16 May 2012 19:53:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78901 invoked by uid 99); 16 May 2012 19:53:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 19:53:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rrigoni@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 19:53:00 +0000
Received: by yhoo21 with SMTP id o21so1498492yho.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 12:52:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=wD7/iWVbGVeUBftIfAU9Ih4zrV+ldwH55pMG9gvDiY8=;
        b=JZMEjkkIoiLSRLEaEm1YSay3NqPcK0e9ozJU3DI2LSXQR8G7x8yb4XtEXP8VMAdxO1
         u3PNLlN2uLmB+fETG+Zhz5ZzowAPqD081priUdNaLSbgKGwr7ZMMGSvwnY5KPvsTEoTv
         WMNvUQUFA1uiL3046FUsL50Fyu5od0P01z7rRTXL/ldHSoQmKqYG5jYbiUJ1ChuXGKPl
         986xSUhGbEZv0UMbE+jLh/FYoHj0WYsTrPhuXVdopuuNAC9vlVx2uGiCeVhAQ0eBBWDH
         m76oDXXRt7UiVvaWgN7UjkdiiGBJ9fMRH5cTQWEILACKbHHTyAGyWgOVo+eJo28hEvZs
         aN7A==
Received: by 10.50.149.194 with SMTP id uc2mr3390518igb.23.1337197958618; Wed,
 16 May 2012 12:52:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.64.132.5 with HTTP; Wed, 16 May 2012 12:52:08 -0700 (PDT)
In-Reply-To: <4FB3F57E.6020003@apache.org>
References: <CAHWQpSny32fyAR08NbS9PSAP7aBpgc2sLnFnQAwu6Y1P-y+LKw@mail.gmail.com>
 <4FB3F01F.2010004@apache.org> <66D12402-E71F-483A-A248-A1354B3E3499@objektpark.de>
 <CAHWQpS=_-FK+Q0cjCvC+wdRd_3SnJhtTzm-KN24DBaL949xatA@mail.gmail.com> <4FB3F57E.6020003@apache.org>
From: "Ronaldo Rigoni ..." <rrigoni@gmail.com>
Date: Wed, 16 May 2012 16:52:08 -0300
Message-ID: <CAHWQpSnrFi5zxtx1L_+nw2JRhpNN++c6CHyirE64P1nyPYtupw@mail.gmail.com>
Subject: Fwd: Tomcat 7.0.27 websocket cluster
To: users <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f3bac17515d6d04c02ca9ac

--e89a8f3bac17515d6d04c02ca9ac
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hello,
And, are the websocket clustering planned for future releases?


Regards

[]'s,
Ronaldo Rigoni
Arquiteto de Software



---------- Forwarded message ----------
From: Mark Thomas <markt@apache.org>
Date: Wed, 16 May 2012 at 3:44 PM
Subject: Re: Tomcat 7.0.27 websocket cluster
To: Tomcat Users List <users@tomcat.apache.org>


On 16/05/2012 19:34, Ronaldo Rigoni ... wrote:
> Thanks Peter and Mark!
>
> The current implementation is a tunnel over http or another socket open?
> I'm planning to port a webgame to tomcat, comunicationg with websockets.
> But, the absence of a session or context turns a little bit hard to work
to.

It is a protocol switch - as per RFC6455. It starts off as an HTTP
connection and then switches to WebSocket.

Since it is a permanent connection, with objects representing the
connection at both ends, the initial expectation is that state can be
maintained in that object (you have to implement it, extending a base
class Tomcat provides).

If you need more, let us know with a use case. I am on the J2EE
WebSocket EG and we are looking at this topic at the moment.

Mark

>
> Many thanks.
> []'s,
> Ronaldo Rigoni
> Arquiteto de Software
>
>
>
> On Wed, May 16, 2012 at 3:26 PM, Peter Ro=C3=9Fbach <pr@objektpark.de> wr=
ote:
>
>> Currently we don't support it, but I read the Websocket spec that a
client
>> can send Auth and Cookie header!
>>
>> Peter
>>
>> Am 16.05.2012 um 20:21 schrieb Mark Thomas:
>>
>>> On 16/05/2012 18:31, Ronaldo Rigoni ... wrote:
>>>> Hello all,
>>>> I've a little question about the websocket implementation available in
>>>> Apache Tomcat 7.0.27.
>>>> There is a way to cluster an websocket application working with a
>> session
>>>> replication feature?
>>>
>>> There would be little point since at present there is no way to access
>>> the HTTP session from the WebSocket connection.
>>>
>>> Mark
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org

--e89a8f3bac17515d6d04c02ca9ac--

From users-return-234312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 22:38:55 2012
Return-Path: <users-return-234312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88642C0B0
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 22:38:55 +0000 (UTC)
Received: (qmail 75998 invoked by uid 500); 16 May 2012 22:38:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75950 invoked by uid 500); 16 May 2012 22:38:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75941 invoked by uid 99); 16 May 2012 22:38:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 22:38:52 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of warrenbell2@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 22:38:43 +0000
Received: by pbbro12 with SMTP id ro12so2087846pbb.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 15:38:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:x-enigmail-version:content-type
         :content-transfer-encoding;
        bh=T6X1cvu99OLeGnoC8ZTLG2J1LUDO0o6nUATvkqW7fho=;
        b=RbpSqMC620DfXCjnB9U1nd0xmdpGcpZlEAOPXd6SjpbpPnKh+YfMDykx32H4bSfpmT
         p3ChNWjZOvxpHd7nI5EeSWz1Vfd6o8WXVzG1blCsdd4iXXD3qWU0MESMLVJ+X2gh90mf
         eoyxKFX0XBCqxU1MPB0EUrZGfxE79+dAxBKhaMxUMn5D47e4pmL9vfRLSWgGC8wwgTyV
         rWMorAendOgdkh8L2Hr2uxnZQnkBgsxzl8H6vRmYdpWqD26MF2IjLJ8BjmJu9V8YJhrU
         n33yBcSNV7v/RBee6Pc9VvQXWTI3XEA9jTZ3iKSH4c2tTwLIy9jARI0mNuGuFf+85fqJ
         mRJQ==
Received: by 10.68.129.194 with SMTP id ny2mr20761454pbb.56.1337207901827;
        Wed, 16 May 2012 15:38:21 -0700 (PDT)
Received: from warren-bells-macbook-pro-2.local (pool-71-110-206-227.lsanca.dsl-w.verizon.net. [71.110.206.227])
        by mx.google.com with ESMTPS id qu6sm297745pbc.36.2012.05.16.15.38.20
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 16 May 2012 15:38:21 -0700 (PDT)
Message-ID: <4FB42C5B.1060303@gmail.com>
Date: Wed, 16 May 2012 15:38:19 -0700
From: Warren Bell <warrenbell2@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:8.0) Gecko/20111105 Thunderbird/8.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com> <4FB404B7.7050407@ceti.pl>
In-Reply-To: <4FB404B7.7050407@ceti.pl>
X-Enigmail-Version: 1.3.4
Content-Type: text/plain; charset=ISO-8859-2
Content-Transfer-Encoding: 7bit

A Wicket app that is not written correctly can suck up resources. Wicket
keeps track of pages a user has been on by serializing them, "back
button support". If a page has references to other objects, it
serializes them and so on and so on. It can get real ugly real quick.

Wicket has many built-in ways to keep this from happening, but it is
still easy for a beginner to write an app that can cause problems.

Thanks,

Warren Bell

On 5/16/12 12:49 PM, Mikolaj Rydzewski wrote:
> On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
>> its not intentional but the myfaces App runs on the server for years now
>> and should not cause the problem
>> I recently deployed a wicket app and now
>> the server is slowing down when we have about 10 users or so.
>>
> 
> So there are two different applications? Myfaces (which used to work for
> a long time) and wicket (which takes server down)?
> I'd separate them first to have clear environment for investigation.
> Then enable GC logging, attach jvisualvm, deploy psi probe
> (http://code.google.com/p/psi-probe/), etc.
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 16 22:45:26 2012
Return-Path: <users-return-234313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57F6BC0CE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 16 May 2012 22:45:26 +0000 (UTC)
Received: (qmail 90414 invoked by uid 500); 16 May 2012 22:45:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90334 invoked by uid 500); 16 May 2012 22:45:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90324 invoked by uid 99); 16 May 2012 22:45:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 22:45:23 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warrenbell2@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 May 2012 22:45:16 +0000
Received: by dadv2 with SMTP id v2so1959217dad.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 15:44:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:x-enigmail-version:content-type
         :content-transfer-encoding;
        bh=4Aq8/oubEEOf17+s4HaBEdnOlHYrDdDuovCtMS+Tpj8=;
        b=KSU/urMbm1edY8b7NPHfiz0fdiy02WUZ3oJe78V2Wvx+3Nf0ypqx2NS3MQfTJbOBU/
         o0U16aon+iz1AllIBSPjZj6pWOi3Hb/4hM+GFFht18/qA++IjG+w3bdgSXk83UZy1di5
         ZwI3Qu5dg4B3QXYGyFmSoA0urEfLx0ctZ0cTP9mrxy/OWb9eqocd1UFnG24pdQTPfN4I
         jUmL5s4IHP6oycynUUxPQVaiZ5qner71aIGosdpC0IwvD8RCB5sJIXqu7uECeRwbRwq2
         h2K/BKK6MdAMvS2M77gDZh5VGDkxml+m/lPSYtsXpEu2ZHy0vcLqZZTNyKZPDox6GRdk
         8cCg==
Received: by 10.68.125.131 with SMTP id mq3mr20403914pbb.51.1337208296501;
        Wed, 16 May 2012 15:44:56 -0700 (PDT)
Received: from warren-bells-macbook-pro-2.local (pool-71-110-206-227.lsanca.dsl-w.verizon.net. [71.110.206.227])
        by mx.google.com with ESMTPS id wo8sm6872916pbc.9.2012.05.16.15.44.54
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 16 May 2012 15:44:55 -0700 (PDT)
Message-ID: <4FB42DE4.9060908@gmail.com>
Date: Wed, 16 May 2012 15:44:52 -0700
From: Warren Bell <warrenbell2@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:8.0) Gecko/20111105 Thunderbird/8.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com> <4FB404B7.7050407@ceti.pl>
In-Reply-To: <4FB404B7.7050407@ceti.pl>
X-Enigmail-Version: 1.3.4
Content-Type: text/plain; charset=ISO-8859-2
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Here is a good link explaining some of the pros and cons of Wicket. Look
at the part titled "Wicket Session size!"

http://www.small-improvements.com/10-things-about-apache-wicket-i-love

Thanks,

Warren Bell

On 5/16/12 12:49 PM, Mikolaj Rydzewski wrote:
> On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
>> its not intentional but the myfaces App runs on the server for years now
>> and should not cause the problem
>> I recently deployed a wicket app and now
>> the server is slowing down when we have about 10 users or so.
>>
> 
> So there are two different applications? Myfaces (which used to work for
> a long time) and wicket (which takes server down)?
> I'd separate them first to have clear environment for investigation.
> Then enable GC logging, attach jvisualvm, deploy psi probe
> (http://code.google.com/p/psi-probe/), etc.
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 04:20:42 2012
Return-Path: <users-return-234314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1608C80A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 04:20:41 +0000 (UTC)
Received: (qmail 7816 invoked by uid 500); 17 May 2012 04:20:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6672 invoked by uid 500); 17 May 2012 04:20:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6518 invoked by uid 99); 17 May 2012 04:20:34 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 04:20:34 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 04:20:33 +0000
Message-ID: <4FB47C8D.5070805@apache.org>
Date: Thu, 17 May 2012 06:20:29 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>, 
 Tomcat Developers List <dev@tomcat.apache.org>,
 announce@tomcat.apache.org, announce@apache.org
Subject: [ANN] Apache Tomcat Connectors 1.2.35 released
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

The Apache Tomcat Project is proud to announce the release of version 1.2.36
of Apache Tomcat Connectors.
This version fixes few bugs found in 1.2.35 release.

Full details of these changes and new features,
are available in the Apache Tomcat Connectors changelog:
http://tomcat.apache.org/connectors-doc/miscellaneous/changelog.html

Downloads:
http://tomcat.apache.org/download-connectors.cgi

Thank you,
-- 
The Apache Tomcat Team

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 05:19:40 2012
Return-Path: <users-return-234315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87D0AC19A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 05:19:40 +0000 (UTC)
Received: (qmail 66502 invoked by uid 500); 17 May 2012 05:19:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65973 invoked by uid 500); 17 May 2012 05:19:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65916 invoked by uid 99); 17 May 2012 05:19:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:19:29 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simran4u2@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:19:23 +0000
Received: by obbwd20 with SMTP id wd20so2758900obb.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 22:19:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=c2AmKCRBK6BV1Sff1AGKc00Ovu4euv0hr9dOzvlkQrQ=;
        b=uqS6hqdzX6q0gLQtx8bDIjrhpwjfmF3AY0hXFc637zz1c84Bhj8Lik7NUM/t2CKejL
         XAVCxbRCUTiW0bmVovRlozZlItRINvaqeblnzcXv6lXK2Fy2uG9qiusgdQnOD1FHioxM
         MTm1WYENLvCtgusXd5CHfbhjOL3z9KoPo7eZ4VRJXd55LK0MWs1DoZsS/5jOv6ZoDTfE
         JOc5V1AkkjULtWbOjDJWFG2/YhI+YojXhZnI7iBlVWKS0vS/ER5Eq/eAkzyuL+engblj
         KYYQiCtTbTvhUFhOp6208u1cuQRqQOV+OfpdjMlpMY2ICjss5p3WfT+Y0QjWzpLkuDR4
         69Hw==
MIME-Version: 1.0
Received: by 10.60.24.7 with SMTP id q7mr5227333oef.50.1337231943110; Wed, 16
 May 2012 22:19:03 -0700 (PDT)
Received: by 10.182.50.131 with HTTP; Wed, 16 May 2012 22:19:03 -0700 (PDT)
In-Reply-To: <4FB47C8D.5070805@apache.org>
References: <4FB47C8D.5070805@apache.org>
Date: Thu, 17 May 2012 10:49:03 +0530
Message-ID: <CAKJnvaMHVyUaR7uKNcY0QbN6p8NW6DGjs3BQCYwG7zpC4C9RRA@mail.gmail.com>
Subject: Re: [ANN] Apache Tomcat Connectors 1.2.35 released
From: Harsimranjit singh Kler <simran4u2@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1c4e6f390ec04c0349223
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff1c4e6f390ec04c0349223
Content-Type: text/plain; charset=ISO-8859-1

Hi

Its release of version 1.2.36 but mail subject mention as 1.2.35.

So there was little confusion when first time checked mail.





On Thu, May 17, 2012 at 9:50 AM, Mladen Turk <mturk@apache.org> wrote:

> The Apache Tomcat Project is proud to announce the release of version
> 1.2.36
> of Apache Tomcat Connectors.
> This version fixes few bugs found in 1.2.35 release.
>
> Full details of these changes and new features,
> are available in the Apache Tomcat Connectors changelog:
> http://tomcat.apache.org/**connectors-doc/miscellaneous/**changelog.html<http://tomcat.apache.org/connectors-doc/miscellaneous/changelog.html>
>
> Downloads:
> http://tomcat.apache.org/**download-connectors.cgi<http://tomcat.apache.org/download-connectors.cgi>
>
> Thank you,
> --
> The Apache Tomcat Team
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsubscribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff1c4e6f390ec04c0349223--

From users-return-234316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 05:38:30 2012
Return-Path: <users-return-234316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AB6BCA7B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 05:38:30 +0000 (UTC)
Received: (qmail 10109 invoked by uid 500); 17 May 2012 05:38:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9884 invoked by uid 500); 17 May 2012 05:38:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9868 invoked by uid 99); 17 May 2012 05:38:26 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:38:26 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:38:25 +0000
Message-ID: <4FB48ECD.3080303@apache.org>
Date: Thu, 17 May 2012 07:38:21 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: [ANN] Apache Tomcat Connectors 1.2.35 released
References: <4FB47C8D.5070805@apache.org> <CAKJnvaMHVyUaR7uKNcY0QbN6p8NW6DGjs3BQCYwG7zpC4C9RRA@mail.gmail.com>
In-Reply-To: <CAKJnvaMHVyUaR7uKNcY0QbN6p8NW6DGjs3BQCYwG7zpC4C9RRA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/17/2012 07:19 AM, Harsimranjit singh Kler wrote:
> Hi
>
> Its release of version 1.2.36 but mail subject mention as 1.2.35.
>
> So there was little confusion when first time checked mail.
>

Yeah, sorry for the typo.

Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 05:41:39 2012
Return-Path: <users-return-234317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46BAFCA8C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 05:41:39 +0000 (UTC)
Received: (qmail 20389 invoked by uid 500); 17 May 2012 05:41:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20257 invoked by uid 500); 17 May 2012 05:41:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20011 invoked by uid 99); 17 May 2012 05:41:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:41:34 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michaelr524@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 05:41:27 +0000
Received: by lbok6 with SMTP id k6so1401051lbo.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 22:41:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=V3xGQC/5YOjDizHDdDWtxh/SGEvL4I8zWkSPgUX5dmU=;
        b=IRVC4qTxpU+PQCNT6yYbM2ON1xRmEo9RGojgcbB/doXjRUBCnRJdzIwuZDAgKyEatx
         0fh5FnkvkBXPJSAtnqYe+EeyFSglezArfoX6592oKe47Rm2NUVp79AHPUjC2fuiTfP8u
         Tg7DBY8o5EbCTPNZwykT1XGG7Ty+H8k3xE+3X4l0tUDBe8gAbkRqKk5xEMaulzqgCnJP
         h1Nedo1PwhE5W8KDbrDLTI0JNagU5aZoiDCCEiv0y/7VkrEHwGa4qTYR3Cvq7U105mQ/
         33HoaoPeeyo0/HI/wdfGaWXtrk1CQqveNa9z/vMRT8ut/eJVkcQr0W1q8vJOnLGUJkRm
         Og0A==
MIME-Version: 1.0
Received: by 10.152.131.9 with SMTP id oi9mr1955221lab.39.1337233266643; Wed,
 16 May 2012 22:41:06 -0700 (PDT)
Received: by 10.112.23.65 with HTTP; Wed, 16 May 2012 22:41:06 -0700 (PDT)
Date: Thu, 17 May 2012 08:41:06 +0300
Message-ID: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
Subject: aliases attribute tomcat7
From: Michael Ravits <michaelr524@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hi Everybody,

I just can't get this to work.
Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
I deployed ROOT.war and then went on to configure aliases.
Tried adding the attribute in:

$CATALINA_BASE/conf/Catalina/localhost/ROOT.xml
$CATALINA_BASE/conf/Catalina/localhost/context.xml
$CATALINA_BASE/conf/Catalina/localhost/context.xml.default
$CATALINA_BASE/conf//context.xml

But nothing seems to work..

In the mean while I've resorted to adding:

$CATALINA_BASE/conf/Catalina/localhost/img.xml

With docBase attribute pointing at the right place and it works.
But it seems to me that aliases is more appropriate.

Does anyone know what I'm doing wrong?
How should I debug this?

Thanks,
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 06:06:40 2012
Return-Path: <users-return-234318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9074FCB19
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 06:06:40 +0000 (UTC)
Received: (qmail 75018 invoked by uid 500); 17 May 2012 06:06:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74653 invoked by uid 500); 17 May 2012 06:06:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74638 invoked by uid 99); 17 May 2012 06:06:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:06:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:06:25 +0000
Received: by wgbdr1 with SMTP id dr1so1233623wgb.0
        for <users@tomcat.apache.org>; Wed, 16 May 2012 23:06:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=K5a6OREQmJ01uyOjr/yPzbyFOSQmCMsG+f2dpn7Nbhs=;
        b=i3Y65C75tFgfXB+XhAMNk5axXsVIfDoLEU8xEOBhbEayThAJasTjgbhj7hEhB26Np4
         C0Cx/uVYwROdIfF/LbwOpJ2i6DoFxU2370+hgbNTitO2ltmo0BtcYl/ZXQShcp9GMRP/
         THaMlW2rkNLQCUkKTVJBA0PWgUXFeAWV1cDi0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=K5a6OREQmJ01uyOjr/yPzbyFOSQmCMsG+f2dpn7Nbhs=;
        b=fwoj5dk8pJ4kf/yD+ocTAIGow7VPjfMPPd8aung50OIQhRx1LKLAVK6Vkckz0Cymfi
         ebQcCfCPM/NtFPpZk9SImIieYq4NL4Wz7zD/IUS+KDW+ahBUOwQqSX98Ria0O/wiGSW6
         pmNKbTWwINv13BC5VTVZi2x+W6OCAK0S2bBmkGwcUutqbdr/kC6dre7W+5MIuWLatKpc
         4Ee2gQ3/ET6qiQ8LtKFTXbqYALZHq1dzep7gr3EEc8BfwDsfYVg15wuh4JDEG+J7auqF
         XUW4klFdSrDITAUepPTFIl56K1POjfoho3LLZ0H3mo+a1yBMVo7bUJjnfyS6D0wUcY/h
         ySCw==
Received: by 10.180.104.137 with SMTP id ge9mr14730836wib.20.1337234765191;
        Wed, 16 May 2012 23:06:05 -0700 (PDT)
Received: from Asura.local ([89.195.69.61])
        by mx.google.com with ESMTPS id n11sm17488623wiv.9.2012.05.16.23.06.02
        (version=SSLv3 cipher=OTHER);
        Wed, 16 May 2012 23:06:03 -0700 (PDT)
Message-ID: <4FB49558.5090006@pidster.com>
Date: Thu, 17 May 2012 07:06:16 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: aliases attribute tomcat7
References: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
In-Reply-To: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig4675682C0C0EDB27F6207604"
X-Gm-Message-State: ALoCoQkkRRToIyTLqiCAiAMaXCctRbMRdMw2ZFvpJHmE7K2hPZfkkz6PgK7x52owQmhenVwVdOY/

--------------enig4675682C0C0EDB27F6207604
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 17/05/2012 06:41, Michael Ravits wrote:
> Hi Everybody,
>=20
> I just can't get this to work.
> Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
> I deployed ROOT.war and then went on to configure aliases.
> Tried adding the attribute in:

Obvious question: what exactly did you try?


p

> $CATALINA_BASE/conf/Catalina/localhost/ROOT.xml
> $CATALINA_BASE/conf/Catalina/localhost/context.xml
> $CATALINA_BASE/conf/Catalina/localhost/context.xml.default
> $CATALINA_BASE/conf//context.xml
>=20
> But nothing seems to work..
>=20
> In the mean while I've resorted to adding:
>=20
> $CATALINA_BASE/conf/Catalina/localhost/img.xml
>=20
> With docBase attribute pointing at the right place and it works.
> But it seems to me that aliases is more appropriate.
>=20
> Does anyone know what I'm doing wrong?
> How should I debug this?
>=20
> Thanks,
> Michael
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig4675682C0C0EDB27F6207604
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPtJVbAAoJEGoM2OGpOvr9npQP/iiQ+DRlNTSYmtIv8tXldw29
WmvS7/unIVRxCNsLkGOcxSceKZidskUP04vpEZfNJ1cGX/JWwNfHWGJoIgrastxs
TKcEllM8PpZZ6tMI7FskieuRxiwnDmOC4V/5a/2Z2+ohflzSz0Y3Wo56/lqm6F6p
UZ/mtUam4fwRYtLEb9C2osxu2vKhxR2AC6BmsZ7iP19R2IGHQM2NIhS9/389Cztb
TxAgo5W38jt2y/EXf/Jyziv4oIlqCWyVywspzVbyB8ww7VoeM8QUtcWfqCAsO3wh
u4ubDJ0gxshyysOt3yL1HUcO2CRzJyQGgbA5utxuZAA1uoGGux/K5RiI+veFuaBe
D0lLbr/tDX8b+zbJ9x5LMY7iOGo2YFfyvv1Ybs4r7PHE4gudw2/KinGgy/i+ejel
Hnza/FQK+nURHGNPT5Ogt2Mpa5St+dgisGD8iRSw9FTPkZVHwq1Wgw5hg57yrQJN
xfojXO2lWI0tSRPML//l4uNanDrU/VjC9WHg6QviqGYUdqLH4vGUgfxifehrPiac
c7opOOwqbOQh/CXn74qfluZgdiC9lP8abGi6/IjXzUzFE72sWO3bbICxTFFQjlL5
2u/xTtd3j8TfN1+AxbyxAvJ1eY9lXmP0Mgms92BJAusTU+IgWO63MLjcKbnUqggm
u8QbLYDEKbHcLczkVCLX
=5FNN
-----END PGP SIGNATURE-----

--------------enig4675682C0C0EDB27F6207604--

From users-return-234319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 06:12:15 2012
Return-Path: <users-return-234319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 764AACB2D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 06:12:15 +0000 (UTC)
Received: (qmail 88316 invoked by uid 500); 17 May 2012 06:12:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88108 invoked by uid 500); 17 May 2012 06:12:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88085 invoked by uid 99); 17 May 2012 06:12:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:12:11 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of michaelr524@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:12:06 +0000
Received: by lbok6 with SMTP id k6so1415699lbo.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 23:11:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=C31DbE+q0OKG19qpGIoeEezoSc5QNVhc9VX6HnXqK7w=;
        b=Nx2Eqrl+jeZrNN6Py1DMW3FOJoDAEacSE23fNo74xxO9riVGMEAljbRRzsqPlv+2PJ
         Ytm0lBVtBAQpNbtiN8CEVXRcgP3i7BNR9M/9F4vCYlLEoxKj+Bxl2QadNPjG4mbUNFZE
         JbLYZGgM2HKbJqGD0vcSsUIpQRrvTAtt1Uly+HJCfAFTaOVQJ6ResMsul2wZ/Sw5RTRZ
         sPo82yMNyGSKh/TVvGw7Uaow7NlWgimdJu9gPSAvWkmGNpueCjmgs24wP9k6ZR3VK6+t
         bHaDMdS7bkCsT5gvap65EbASBrhQBa7OLxqowFLq20o8USY1dcBOImf1OYrKRS0v7roS
         Utbg==
MIME-Version: 1.0
Received: by 10.152.102.234 with SMTP id fr10mr3910556lab.32.1337235104725;
 Wed, 16 May 2012 23:11:44 -0700 (PDT)
Received: by 10.112.23.65 with HTTP; Wed, 16 May 2012 23:11:44 -0700 (PDT)
In-Reply-To: <4FB49558.5090006@pidster.com>
References: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
	<4FB49558.5090006@pidster.com>
Date: Thu, 17 May 2012 09:11:44 +0300
Message-ID: <CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
Subject: Re: aliases attribute tomcat7
From: Michael Ravits <michaelr524@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hey Pidster,

This is the tag I've used:

<Context aliases="/img/images=/home/michaelr/images,/img/thumbs=/home/michaelr/thumbs"></Context>

It could have been a permissions problem but I gather that if docBase
works, this must work as well permission wise.

Thanks,
Michael

2012/5/17, Pid <pid@pidster.com>:
> On 17/05/2012 06:41, Michael Ravits wrote:
>> Hi Everybody,
>>
>> I just can't get this to work.
>> Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
>> I deployed ROOT.war and then went on to configure aliases.
>> Tried adding the attribute in:
>
> Obvious question: what exactly did you try?
>
>
> p
>
>> $CATALINA_BASE/conf/Catalina/localhost/ROOT.xml
>> $CATALINA_BASE/conf/Catalina/localhost/context.xml
>> $CATALINA_BASE/conf/Catalina/localhost/context.xml.default
>> $CATALINA_BASE/conf//context.xml
>>
>> But nothing seems to work..
>>
>> In the mean while I've resorted to adding:
>>
>> $CATALINA_BASE/conf/Catalina/localhost/img.xml
>>
>> With docBase attribute pointing at the right place and it works.
>> But it seems to me that aliases is more appropriate.
>>
>> Does anyone know what I'm doing wrong?
>> How should I debug this?
>>
>> Thanks,
>> Michael
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
> --
>
> [key:62590808]
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 06:42:45 2012
Return-Path: <users-return-234320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 16707C3EA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 06:42:45 +0000 (UTC)
Received: (qmail 58838 invoked by uid 500); 17 May 2012 06:42:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58608 invoked by uid 500); 17 May 2012 06:42:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58558 invoked by uid 99); 17 May 2012 06:42:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:42:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kaufhold4j@googlemail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 06:42:30 +0000
Received: by bkwj10 with SMTP id j10so1632613bkw.18
        for <users@tomcat.apache.org>; Wed, 16 May 2012 23:42:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=VnXRNrIMtNI1cnMpuvpc4Wd0zZ5TY2zcDzJ3YvZA698=;
        b=F5GUzay9ODg1dpDriR5cEVKhxyPV0k6AAWYjxVefAZijiIEiTwbdfViI6kyufqmTc+
         0TFeIjpFfNSRLBLSBAhgDC9VzX6ue0dT31AsWgc+VXbjMr93eYK/veEKhK3XPXUXnCmp
         7fXAyDiLk9pfuk+eTm2UuQeRL10toD8OZfSRvAzinnxPiRBeRyTPVVkzG/B7FDnGj8mh
         /IdfSiIKjROSMm4pwRjFaUekDtLq2gGO9WrX2ri/MnYw2t6PCIIxxwwP7eUOk5UuQR6T
         Uy5uGHR/vYh0DWFCnzO278kjkfP84ZmnulVpJH5bqWvWLqNt/Gv6EkeZWLAJbSxCyne0
         sNmg==
Received: by 10.205.127.140 with SMTP id ha12mr2148428bkc.105.1337236929554;
        Wed, 16 May 2012 23:42:09 -0700 (PDT)
Received: from [192.168.2.100] (p4FFB139C.dip.t-dialin.net. [79.251.19.156])
        by mx.google.com with ESMTPS id gm18sm9321609bkc.7.2012.05.16.23.42.08
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 16 May 2012 23:42:09 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1257)
Subject: Re: tomcat slowing down
From: Christian Kaufhold <kaufhold4j@googlemail.com>
In-Reply-To: <4FB404B7.7050407@ceti.pl>
Date: Thu, 17 May 2012 08:42:07 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <890BE06F-F350-4D98-9E4C-9E3A26CD86DE@googlemail.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com> <4FB404B7.7050407@ceti.pl>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1257)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mikolaj,

thanks I will do that,
do you know a free tool to generate request for the simulation
of about 30 clients being connected?


Am 16.05.2012 um 21:49 schrieb Mikolaj Rydzewski:

> On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
>> its not intentional but the myfaces App runs on the server for years =
now
>> and should not cause the problem
>> I recently deployed a wicket app and now
>> the server is slowing down when we have about 10 users or so.
>>=20
>=20
> So there are two different applications? Myfaces (which used to work =
for a long time) and wicket (which takes server down)?
> I'd separate them first to have clear environment for investigation. =
Then enable GC logging, attach jvisualvm, deploy psi probe =
(http://code.google.com/p/psi-probe/), etc.
>=20
> --=20
> Mikolaj Rydzewski<miki@ceti.pl>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 07:29:07 2012
Return-Path: <users-return-234321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 616E290CA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 07:29:07 +0000 (UTC)
Received: (qmail 67514 invoked by uid 500); 17 May 2012 07:29:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67021 invoked by uid 500); 17 May 2012 07:29:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66238 invoked by uid 99); 17 May 2012 07:29:01 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:29:01 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:29:00 +0000
Message-ID: <4FB4A8B8.40807@apache.org>
Date: Thu, 17 May 2012 09:28:56 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: announce@apache.org, announce@tomcat.apache.org, 
 Tomcat Users List <users@tomcat.apache.org>,
 Tomcat Developers List <dev@tomcat.apache.org>
Subject: [ANN] Apache Tomcat Connectors 1.2.36 released
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

The Apache Tomcat Project is proud to announce the release of version 1.2.36
of Apache Tomcat Connectors.
This version fixes few bugs found in 1.2.35 release.

Full details of these changes and new features,
are available in the Apache Tomcat Connectors changelog:
http://tomcat.apache.org/connectors-doc/miscellaneous/changelog.html

Downloads:
http://tomcat.apache.org/download-connectors.cgi

Thank you,
-- 
The Apache Tomcat Team

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 07:29:34 2012
Return-Path: <users-return-234322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7638790CF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 07:29:34 +0000 (UTC)
Received: (qmail 71082 invoked by uid 500); 17 May 2012 07:29:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70946 invoked by uid 500); 17 May 2012 07:29:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70937 invoked by uid 99); 17 May 2012 07:29:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:29:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kaufhold4j@googlemail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:29:25 +0000
Received: by bkwj10 with SMTP id j10so1671961bkw.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 00:29:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=I7h4DKusWn2wUSZZpRBFY5X31tfawETCNxGprsJbJjI=;
        b=VzhzvrBVM8k03GDg6gZQVGWhz9RSje3gkXxZ9F/AKDjJItnJQio0DtXXLp4avr8Rg+
         DdZDcJ4kBAKjZPgdHCmbwHphHlou1Ro397dzv4bfPtfxyeRs6vPb/g9FFKe4hrJ3eBh9
         UuxnvpSk/9kvNN6i4IR4M51cPNOXEnE3FriEvvV6YdPwoLrNhT93YPNSU7gz13owZPda
         +jDY966tHaKBDjcOAcLlEnir5xX/0mourikU30kw9oU6A4raANgT+Gp6E1ybnwfF1Oh7
         4wWVy2g4qBQv02GZOIQ0qeZ8lzJzbfgX8yBgn6Q917PtfG0FN5Wrliwl9zmDsCDmoUJh
         mmtQ==
Received: by 10.205.33.136 with SMTP id so8mr2161493bkb.1.1337239744355;
        Thu, 17 May 2012 00:29:04 -0700 (PDT)
Received: from [192.168.2.100] (p50895DB1.dip.t-dialin.net. [80.137.93.177])
        by mx.google.com with ESMTPS id 9sm9502901bku.9.2012.05.17.00.29.03
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 17 May 2012 00:29:03 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1257)
Subject: Re: tomcat slowing down
From: Christian Kaufhold <kaufhold4j@googlemail.com>
In-Reply-To: <4FB42DE4.9060908@gmail.com>
Date: Thu, 17 May 2012 09:29:02 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <A31D820A-6006-4271-BCBE-B494200B42FB@googlemail.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com> <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net> <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com> <4FB404B7.7050407@ceti.pl> <4FB42DE4.9060908@gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1257)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Warren,

thanx, but I think session size is not an issue with 30 users since =
Tomcat has about
2 GB memory.

But who knows, do you know a way to check the size of a session in =
tomcat?

christian

Am 17.05.2012 um 00:44 schrieb Warren Bell:

> Here is a good link explaining some of the pros and cons of Wicket. =
Look
> at the part titled "Wicket Session size!"
>=20
> http://www.small-improvements.com/10-things-about-apache-wicket-i-love
>=20
> Thanks,
>=20
> Warren Bell
>=20
> On 5/16/12 12:49 PM, Mikolaj Rydzewski wrote:
>> On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
>>> its not intentional but the myfaces App runs on the server for years =
now
>>> and should not cause the problem
>>> I recently deployed a wicket app and now
>>> the server is slowing down when we have about 10 users or so.
>>>=20
>>=20
>> So there are two different applications? Myfaces (which used to work =
for
>> a long time) and wicket (which takes server down)?
>> I'd separate them first to have clear environment for investigation.
>> Then enable GC logging, attach jvisualvm, deploy psi probe
>> (http://code.google.com/p/psi-probe/), etc.
>>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 07:33:03 2012
Return-Path: <users-return-234323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53ABB90EA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 07:33:03 +0000 (UTC)
Received: (qmail 90664 invoked by uid 500); 17 May 2012 07:33:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90436 invoked by uid 500); 17 May 2012 07:32:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90409 invoked by uid 99); 17 May 2012 07:32:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:32:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:32:55 +0000
Received: by dadv2 with SMTP id v2so2522201dad.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 00:32:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=H5KnnMo7HFK2KR9v3a25lBHlsda+tbBr3sZApMIrCuk=;
        b=swlYt5pPxMzFcuunT9aQp5BIMayrOiZMCHM8K8fuft5ExivndyzBv9YgESppMd9zZ9
         rDuB1e5dghVJZ+tqTnT4wjLJg8rPt9NxTJyj1xWzhKA5/TLbPlvZrVARpN4vMZwyZ5uX
         J+i3lqwiRF7OaqlL+YlEJ1cBuTZeO/Q3GBozw=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=H5KnnMo7HFK2KR9v3a25lBHlsda+tbBr3sZApMIrCuk=;
        b=NQn19oI6/qy1tUCUwQoWzmCdFFY+nYQl1/OpQ5wW6ytu3pbhzZy+kc36VJJJpU++wx
         vkBXwo4xd1J68lyBe+fV4gCCpgSTlWLs/W8zJGeFd53pa+hbR0cY7hh/VPjNGS5DVv6u
         SMRzN/XeExWzEbqi1SMuE9IbapquVAWuyE9EkmGpq9ov22Byp+zs+ibUZfurOavE5BB2
         Aw1nv3jMAQTsHw+SW73VaGj/u8A73KHO5aVhmQ9AREgmQF7b2Ki2iVQkKlzWdPpxdhwv
         8imR4LYGD8kIibVGv8ZBCHO/0CwJejn7I3gMJ/VceqtJPj1u/HxFNGQmgUAr4C9bXWCK
         9bPA==
Received: by 10.68.225.230 with SMTP id rn6mr22863474pbc.70.1337239954635;
 Thu, 17 May 2012 00:32:34 -0700 (PDT)
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
 <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl> <4FB3C676.1020301@christopherschultz.net>
 <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
 <4FB404B7.7050407@ceti.pl> <890BE06F-F350-4D98-9E4C-9E3A26CD86DE@googlemail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <890BE06F-F350-4D98-9E4C-9E3A26CD86DE@googlemail.com>
Mime-Version: 1.0 (1.0)
Date: Thu, 17 May 2012 08:31:54 +0100
Message-ID: <-1462536451667757997@unknownmsgid>
Subject: Re: tomcat slowing down
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQmX2bIvXPdTXwTPMG/sDsQkzdLzK96GgQCm81L0rNp89PculKcufYAdC/9tMN2JNGlf5l3v
X-Virus-Checked: Checked by ClamAV on apache.org

On 17 May 2012, at 07:42, Christian Kaufhold <kaufhold4j@googlemail.com> wrote:

> Hi Mikolaj,
>
> thanks I will do that,
> do you know a free tool to generate request for the simulation
> of about 30 clients being connected?

JMeter


p


>
>
> Am 16.05.2012 um 21:49 schrieb Mikolaj Rydzewski:
>
>> On 05/16/2012 05:35 PM, Christian Kaufhold wrote:
>>> its not intentional but the myfaces App runs on the server for years now
>>> and should not cause the problem
>>> I recently deployed a wicket app and now
>>> the server is slowing down when we have about 10 users or so.
>>>
>>
>> So there are two different applications? Myfaces (which used to work for a long time) and wicket (which takes server down)?
>> I'd separate them first to have clear environment for investigation. Then enable GC logging, attach jvisualvm, deploy psi probe (http://code.google.com/p/psi-probe/), etc.
>>
>> --
>> Mikolaj Rydzewski<miki@ceti.pl>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 07:35:19 2012
Return-Path: <users-return-234324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 999389103
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 07:35:19 +0000 (UTC)
Received: (qmail 99341 invoked by uid 500); 17 May 2012 07:35:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99286 invoked by uid 500); 17 May 2012 07:35:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99274 invoked by uid 99); 17 May 2012 07:35:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:35:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of miki@ceti.pl designates 62.121.128.10 as permitted sender)
Received: from [62.121.128.10] (HELO relay.ceti.pl) (62.121.128.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 07:35:10 +0000
Received: from tau.ceti.pl (tau.ceti.pl [62.121.128.11])
	by relay.ceti.pl (Postfix) with ESMTP id 6A481D5147
	for <users@tomcat.apache.org>; Thu, 17 May 2012 09:34:49 +0200 (CEST)
Received: from poczta2.ceti.pl (ip-62-121-128-70.ceti.net.pl [62.121.128.70])
	by tau.ceti.pl (Postfix) with ESMTP id 28863202FEA;
	Thu, 17 May 2012 09:34:49 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Thu, 17 May 2012 09:34:49 +0200
From: Mikolaj Rydzewski <miki@ceti.pl>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
In-Reply-To: <A31D820A-6006-4271-BCBE-B494200B42FB@googlemail.com>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
 <7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
 <4FB3C676.1020301@christopherschultz.net>
 <CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
 <4FB404B7.7050407@ceti.pl> <4FB42DE4.9060908@gmail.com>
 <A31D820A-6006-4271-BCBE-B494200B42FB@googlemail.com>
Message-ID: <b3d341771d4fbc68a59ec9457f023470@tau.ceti.pl>
X-Sender: miki@ceti.pl
User-Agent: CETI Webmail/0.7.2
X-Virus-Checked: Checked by ClamAV on apache.org

On 17.05.2012 09:29, Christian Kaufhold wrote:

> But who knows, do you know a way to check the size of a session in 
> tomcat?

Psi probe allows to peek into the session (not exactly the size).

http://psi-probe.googlecode.com/svn/wiki/Features/session-attributes.png

-- 
Mikolaj Rydzewski <miki@ceti.pl>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 11:46:10 2012
Return-Path: <users-return-234325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85AB9C1BE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 11:46:10 +0000 (UTC)
Received: (qmail 81105 invoked by uid 500); 17 May 2012 11:46:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80743 invoked by uid 500); 17 May 2012 11:46:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80712 invoked by uid 99); 17 May 2012 11:46:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 11:46:03 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.90 as permitted sender)
Received: from [65.55.111.90] (HELO blu0-omc2-s15.blu0.hotmail.com) (65.55.111.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 11:45:55 +0000
Received: from BLU142-W4 ([65.55.111.72]) by blu0-omc2-s15.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 17 May 2012 04:45:34 -0700
Message-ID: <BLU142-W482245B2D526FEDE86831AE190@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_994128de-5d0d-450a-9129-e90af8efbad5_"
X-Originating-IP: [12.157.82.212]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Multiple tomcat Instances on Same Server and One Apache Instance
Date: Thu, 17 May 2012 07:45:34 -0400
Importance: Normal
In-Reply-To: <4FB2D98B.4050703@yahoo.es>
References:
 <BLU162-W27B1E4F9FF89E39B17105DBE170@phx.gbl>,<4FAFEDEB.4080103@pidster.com>
 <4FB00C79.7030207@ice-sa.com>,<1388348528339614161@unknownmsgid>,<4FB0C433.4060008@ice-sa.com>,<BLU162-W15D0C9E06ACB3D16B266B6BE1A0@phx.gbl>,<4FB192AE.50905@ice-sa.com>,<BLU162-W454662A2044C09E6FAC7B0BE1B0@phx.gbl>
 <BLU162-W51976DF8EC4B730C1994D6BE1B0@phx.gbl>
 <4FB274BD.1090006@ice-sa.com>,<4FB2D98B.4050703@yahoo.es>
MIME-Version: 1.0
X-OriginalArrivalTime: 17 May 2012 11:45:34.0362 (UTC) FILETIME=[91D23FA0:01CD3422]

--_994128de-5d0d-450a-9129-e90af8efbad5_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


=BFdos casos del tomcat en Cluster?
2 TC instances in Cluster?

Saludos desde EEUU=2C
Mart=EDn=20
______________________________________________=20
Porfavor ..no altere esta communicacion..Gracias
Please..do not alter this communication..Thank You


> Date: Wed=2C 16 May 2012 00:32:43 +0200
> From: miguel_3_gonzalez@yahoo.es
> To: users@tomcat.apache.org
> Subject: Re: Multiple tomcat Instances on Same Server and One Apache Inst=
ance
>=20
> On 15/05/2012 17:22=2C Andr=E9 Warnier wrote:
> > Vickie Troy-McKoy wrote:
> > ...
> >>
> >> Thank you Andre for your help.  After I configured it as you=20
> >> specified=2C the behavior was the same as before I inquired on this fo=
rum.=20
> >
> > Well=2C it doesn't sound as if we really helped a lot then=2C or am I=20
> > misunderstanding this too ?
> > :-)
> >
> > Note also for the record (and maybe a later enquiry) that it should=20
> > not really be necessary to have 2 separate Apache httpd instances.  At=
=20
> > least if we now understand properly what you are really trying to=20
> > achieve..
>=20
> Just wondering. With a 64 bits OS=2C how much RAM can you handle in a JVM=
=20
> and therefore with each instance of Tomcat? For a 12 Gb of RAM machine=2C=
=20
> it would be wise if you want to have this kind of setup (Apache and two=20
> Tomcat instances in the same machine) if you need more than 400-500=20
> concurrent users?
>=20
> Miguel
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_994128de-5d0d-450a-9129-e90af8efbad5_--

From users-return-234326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 15:32:51 2012
Return-Path: <users-return-234326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 257B0CFBC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 15:32:51 +0000 (UTC)
Received: (qmail 2183 invoked by uid 500); 17 May 2012 15:32:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2115 invoked by uid 500); 17 May 2012 15:32:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2103 invoked by uid 99); 17 May 2012 15:32:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 15:32:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Vasanth.Sekar@supervalu.com designates 216.32.180.31 as permitted sender)
Received: from [216.32.180.31] (HELO va3outboundpool.messaging.microsoft.com) (216.32.180.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 15:32:39 +0000
Received: from mail162-va3-R.bigfish.com (10.7.14.248) by
 VA3EHSOBE010.bigfish.com (10.7.40.12) with Microsoft SMTP Server id
 14.1.225.22; Thu, 17 May 2012 15:32:10 +0000
Received: from mail162-va3 (localhost [127.0.0.1])	by
 mail162-va3-R.bigfish.com (Postfix) with ESMTP id E66E422050E	for
 <users@tomcat.apache.org>; Thu, 17 May 2012 15:32:10 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:167.234.14.17;KIP:(null);UIP:(null);IPV:NLI;H:sboi2k3ex03.msg.albertsons.com;RD:mxb03.supervalu.com;EFVD:NLI
X-SpamScore: 0
X-BigFish: VPS0(zzzz1202hzzz2fh2a8h668h839h944hd25h)
Received-SPF: pass (mail162-va3: domain of supervalu.com designates 167.234.14.17 as permitted sender) client-ip=167.234.14.17; envelope-from=Vasanth.Sekar@supervalu.com; helo=sboi2k3ex03.msg.albertsons.com ;bertsons.com ;
Received: from mail162-va3 (localhost.localdomain [127.0.0.1]) by mail162-va3
 (MessageSwitch) id 1337268728945922_5981; Thu, 17 May 2012 15:32:08 +0000
 (UTC)
Received: from VA3EHSMHS014.bigfish.com (unknown [10.7.14.235])	by
 mail162-va3.bigfish.com (Postfix) with ESMTP id DA547340046	for
 <users@tomcat.apache.org>; Thu, 17 May 2012 15:32:08 +0000 (UTC)
Received: from sboi2k3ex03.msg.albertsons.com (167.234.14.17) by
 VA3EHSMHS014.bigfish.com (10.7.99.24) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Thu, 17 May 2012 15:32:08 +0000
Received: from sdwpmss009.msg.albertsons.com ([10.44.4.57]) by
 sboi2k3ex03.msg.albertsons.com with Microsoft SMTPSVC(6.0.3790.4675);	 Thu,
 17 May 2012 09:29:58 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Date: Thu, 17 May 2012 09:31:49 -0600
Message-ID: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Thread-Index: Ac00Qi1KEkdDArTuQIukIT338/ktnA==
From: "Sekar, Vasanth" <Vasanth.Sekar@supervalu.com>
To: <users@tomcat.apache.org>
X-OriginalArrivalTime: 17 May 2012 15:29:59.0129 (UTC) FILETIME=[EB72A490:01CD3441]
X-OriginatorOrg: supervalu.com
X-Virus-Checked: Checked by ClamAV on apache.org

Hello-
We have a custom form authenticator that runs on tomcat 4.0. Now, we
have a need to migrate that into tomcat 6.0. There are compilation
errors with the following.

import org.apache.catalina.HttpRequest;
import org.apache.catalina.HttpResponse;

I looked at the tomcat 6.0 API and found that these classes are not
there anymore. I believe these are replaced by=20

import org.apache.catalina.connector.Request;
import org.apache.catalina.connector.Response;

However, it still shows error on getSession and when I looked at the
authenticatorbase API it is not present in 6.0
associate(ssoId, getSession(request, true));

Could someone shed some light on how to go about this?

Thank you,
Regards,
Vasanth Sekar




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 16:11:29 2012
Return-Path: <users-return-234327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D141E9115
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 16:11:29 +0000 (UTC)
Received: (qmail 11825 invoked by uid 500); 17 May 2012 16:11:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11763 invoked by uid 500); 17 May 2012 16:11:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11749 invoked by uid 99); 17 May 2012 16:11:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:11:26 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.217 as permitted sender)
Received: from [68.230.241.217] (HELO eastrmfepo202.cox.net) (68.230.241.217)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:11:18 +0000
Received: from eastrmimpo110.cox.net ([68.230.241.223])
          by eastrmfepo202.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517161057.KQTI1165.eastrmfepo202.cox.net@eastrmimpo110.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 12:10:57 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo110.cox.net with bizsmtp
	id B4Ax1j00D4h0NJL024Ax5M; Thu, 17 May 2012 12:10:57 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020205.4FB52311.00D6,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=s1i2RV+unmn3sLkEA3lf1Tj2LikDbZyRf9iEFo2x6J8=
 c=1 sm=1 a=Ztn56SCpdbIA:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=urHNkeErAAAA:8
 a=CiT0-f1GFGsqgDL0N2UA:9 a=QEXdDO2ut3YA:10 a=Cfss38NwzkgA:10
 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 12:10:57 -0400
Message-ID: <20120517121057.QIYZF.927343.imail@eastrmwml206>
Date: Thu, 17 May 2012 12:10:57 -0400
From:  <ohaya@cox.net>
To: users@tomcat.apache.org
Subject: How to get debug output from JNDIRealm.java?
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal

Hi,

I'm trying to debug some problems while enabling JNDIRealm in Tomcat 6.0.33.

I've gotten Tomcat itself to output debug logging, but looking at the JNDIRealm.java code, e.g.:

http://www.docjar.com/html/api/org/apache/catalina/realm/JNDIRealm.java.html

It looks like there's a bunch of debug output that the Java code *can* output.

The problem is that I don't know how to enable that debug output/logging?

I'm assuming that something needs to be added to the Tomcat logging.properties, but can anyone tell me what that should be to get the messages such as would be output by the following code in JNDIRealm.java:

1044           if (username == null || username.equals("")
 1045               || credentials == null || credentials.equals("")) {
 1046               if (containerLog.isDebugEnabled())
 1047                   containerLog.debug("username null or empty: returning null principal.");
 1048               return (null);

??

Thanks,
Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 16:35:16 2012
Return-Path: <users-return-234328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A25BCD6D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 16:35:16 +0000 (UTC)
Received: (qmail 91566 invoked by uid 500); 17 May 2012 16:35:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91519 invoked by uid 500); 17 May 2012 16:35:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91507 invoked by uid 99); 17 May 2012 16:35:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:35:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:35:07 +0000
Received: by dadv2 with SMTP id v2so3262876dad.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 09:34:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=MJK85D9MkKXW2TIrmyak0zqTLytrn6eUMqtaATwTjVg=;
        b=uh3vgfnXYHzR6hg36Vi1xdnrULmtMA9LUTW2yHWoKlPQSTxffgn1IKf8vmBXvhqihb
         uL0dxGrWRIjHb1ojK5J50+S69AC/aXNT91NBjG+E6momvRqZ8Wq6jqP1MCB+LtxSjWH2
         gjQ+KaqQXzxvB67xG8WCRrZRtRIcyLuz9JOle77FyaJZCMIPvoQAtf2lFbazaLnwmFJx
         3HUK3wM0736xNx6ZfWAmsjFBl5E5f2eKfbL49X/HbbA5oywC3zv/cV7vx3v0hfT3Bm4I
         p/u7+JXWgREtLIMGapx3Q+94DvoEcre95hDCvH1XtdXJ/8k5daIrMlGA6lCq+fqO4AAk
         VIcQ==
MIME-Version: 1.0
Received: by 10.68.228.106 with SMTP id sh10mr19524597pbc.107.1337272487122;
 Thu, 17 May 2012 09:34:47 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Thu, 17 May 2012 09:34:47 -0700 (PDT)
In-Reply-To: <20120517121057.QIYZF.927343.imail@eastrmwml206>
References: <20120517121057.QIYZF.927343.imail@eastrmwml206>
Date: Thu, 17 May 2012 20:34:47 +0400
Message-ID: <CABzHfVm17oOEaiY3LbSDAWBHmsu1ycYDcs3A1cZbUPTN+2nEHA@mail.gmail.com>
Subject: Re: How to get debug output from JNDIRealm.java?
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/17  <ohaya@cox.net>:
> Hi,
>
> I'm trying to debug some problems while enabling JNDIRealm in Tomcat 6.0.=
33.
>
> I've gotten Tomcat itself to output debug logging, but looking at the JND=
IRealm.java code, e.g.:
>
> http://www.docjar.com/html/api/org/apache/catalina/realm/JNDIRealm.java.h=
tml
>
> It looks like there's a bunch of debug output that the Java code *can* ou=
tput.
>
> The problem is that I don't know how to enable that debug output/logging?
>
> I'm assuming that something needs to be added to the Tomcat logging.prope=
rties, but can anyone tell me what that should be to get the messages such =
as would be output by the following code in JNDIRealm.java:
>
> 1044 =A0 =A0 =A0 =A0 =A0 if (username =3D=3D null || username.equals("")
> =A01045 =A0 =A0 =A0 =A0 =A0 =A0 =A0 || credentials =3D=3D null || credent=
ials.equals("")) {
> =A01046 =A0 =A0 =A0 =A0 =A0 =A0 =A0 if (containerLog.isDebugEnabled())
> =A01047 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 containerLog.debug("username =
null or empty: returning null principal.");
> =A01048 =A0 =A0 =A0 =A0 =A0 =A0 =A0 return (null);
>


See
http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logging_API

The "containerLog" writes to a category that has name similar to the follow=
ing:
org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context}]

If your realm in in Context, then you will get the full name.
If it is in Host, you will get [engine][host] only,
and so on.


You may also want to run under debugger,
http://wiki.apache.org/tomcat/FAQ/Developing#Debugging

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 16:46:16 2012
Return-Path: <users-return-234329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BDDBCDB3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 16:46:16 +0000 (UTC)
Received: (qmail 29710 invoked by uid 500); 17 May 2012 16:46:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29665 invoked by uid 500); 17 May 2012 16:46:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29654 invoked by uid 99); 17 May 2012 16:46:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:46:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:46:08 +0000
Received: by dadv2 with SMTP id v2so3278568dad.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 09:45:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sIY9psLO9J7oRYUyBno3A4mGDaVeFYouMRJdGJAdwlo=;
        b=BKYEXiUM2TWDbupd/Ivsp9WXm9fB+VE454Gxg1tQto9WXbSYZ7Au5WTg7L9Uf9UFRh
         PEeNIIIrfBW0XwnSAjHougGMZJ3E3C357VCFHupWIiVBcm8CWaCJvcV0W1PERf0UxwiZ
         EFiccoq6HzzU8wiWpLrKOEwcHW42m7UIUvFfaknzAu+anvd3Ld26zsiOC+RG5Hovpf8o
         QiSuHtpXrOKn3kW29mj8dyzbCwEN71U+NC+a+uAmYB5iz9qxlrFRmDS64tBn+t1QFkdP
         S01CRXE2urCwSdnlqI9flAUYwoQ42VP9592p581D4RAdjuvHLAI8te2nnVI5LcAyXXK2
         22+Q==
MIME-Version: 1.0
Received: by 10.68.241.161 with SMTP id wj1mr28860749pbc.112.1337273148007;
 Thu, 17 May 2012 09:45:48 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Thu, 17 May 2012 09:45:47 -0700 (PDT)
In-Reply-To: <b3d341771d4fbc68a59ec9457f023470@tau.ceti.pl>
References: <CAGXngZ-CqjtQeAt+QijwoOA=f3fY3mn4uQb1jP7kcFagcTf9HA@mail.gmail.com>
	<7eb615ceb19743a54b9e975a949ed3c2@tau.ceti.pl>
	<4FB3C676.1020301@christopherschultz.net>
	<CAGXngZ8mO2oeZBbVzStRThv-xg9HfVdDDJYuAE+74SY22xZzuQ@mail.gmail.com>
	<4FB404B7.7050407@ceti.pl>
	<4FB42DE4.9060908@gmail.com>
	<A31D820A-6006-4271-BCBE-B494200B42FB@googlemail.com>
	<b3d341771d4fbc68a59ec9457f023470@tau.ceti.pl>
Date: Thu, 17 May 2012 20:45:47 +0400
Message-ID: <CABzHfVkFpfsZaUgyMicZ5QNaMPb1kkn43wSn+LPL-QZ-sf+Dhw@mail.gmail.com>
Subject: Re: tomcat slowing down
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/17 Mikolaj Rydzewski <miki@ceti.pl>:
> On 17.05.2012 09:29, Christian Kaufhold wrote:
>
>> But who knows, do you know a way to check the size of a session in tomcat?
>
>
> Psi probe allows to peek into the session (not exactly the size).
>
> http://psi-probe.googlecode.com/svn/wiki/Features/session-attributes.png
>

Tomcat Manager webapp also allows to peek into sessions.

In the list of applications -> click on the number that shows the
count of active sessions for specific web application -> sessions list
is displayed -> you can view any of them.
(I agree that is not exactly the size).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 16:58:10 2012
Return-Path: <users-return-234330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC131CDED
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 16:58:10 +0000 (UTC)
Received: (qmail 67493 invoked by uid 500); 17 May 2012 16:58:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67420 invoked by uid 500); 17 May 2012 16:58:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67410 invoked by uid 99); 17 May 2012 16:58:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:58:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 16:57:59 +0000
Received: from [192.168.245.129] (p549E0A8E.dip0.t-ipconnect.de [84.158.10.142])
	by tor.combios.es (Postfix) with ESMTPA id A1565DA0833
	for <users@tomcat.apache.org>; Thu, 17 May 2012 18:57:36 +0200 (CEST)
Message-ID: <4FB52DFE.8060606@ice-sa.com>
Date: Thu, 17 May 2012 18:57:34 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517121057.QIYZF.927343.imail@eastrmwml206>
In-Reply-To: <20120517121057.QIYZF.927343.imail@eastrmwml206>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

ohaya@cox.net wrote:
...

> 
> The problem is that I don't know how to enable that debug output/logging?
> 
> I'm assuming that something needs to be added to the Tomcat logging.properties, but can anyone tell me what that should be to get the messages such as would be output by the following code in JNDIRealm.java:
> 
Give it up.  The Tomcat logging implementation and its documentation (with the exception 
of the AcccesLogValve) are totally impenetrable to mere mortal human beings.
Unless you have been born from Java programmer parents, are having Java coffee exclusively 
for breakfast and read Java books by the pool for fun, you don't stand a chance.
It generally makes for lively debates though..

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:04:59 2012
Return-Path: <users-return-234331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20C17CE3F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:04:59 +0000 (UTC)
Received: (qmail 92063 invoked by uid 500); 17 May 2012 17:04:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91998 invoked by uid 500); 17 May 2012 17:04:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91986 invoked by uid 99); 17 May 2012 17:04:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:04:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.7 as permitted sender)
Received: from [206.46.173.7] (HELO vms173007pub.verizon.net) (206.46.173.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:04:47 +0000
MIME-version: 1.0
Content-transfer-encoding: 8BIT
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173007.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M4600GNSFETSK70@vms173007.mailsrvcs.net> for
 users@tomcat.apache.org; Thu, 17 May 2012 12:04:09 -0500 (CDT)
Message-id: <4FB52F84.9050505@verizon.net>
Date: Thu, 17 May 2012 13:04:04 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517121057.QIYZF.927343.imail@eastrmwml206>
 <4FB52DFE.8060606@ice-sa.com>
In-reply-to: <4FB52DFE.8060606@ice-sa.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 5/17/2012 12:57 PM, Andr Warnier wrote:
> ohaya@cox.net wrote:
> ...
>
>>
>> The problem is that I don't know how to enable that debug output/logging?
>>
>> I'm assuming that something needs to be added to the Tomcat
>> logging.properties, but can anyone tell me what that should be to get
>> the messages such as would be output by the following code in
>> JNDIRealm.java:
>>
> Give it up. The Tomcat logging implementation and its documentation
> (with the exception of the AcccesLogValve) are totally impenetrable to
> mere mortal human beings.
> Unless you have been born from Java programmer parents, are having Java
> coffee exclusively for breakfast and read Java books by the pool for
> fun, you don't stand a chance.
> It generally makes for lively debates though..

Thanks for the confirmation, Andre!  I've thought that way for a long 
time...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:21:59 2012
Return-Path: <users-return-234332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76E0CCEAD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:21:59 +0000 (UTC)
Received: (qmail 44749 invoked by uid 500); 17 May 2012 17:21:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44690 invoked by uid 500); 17 May 2012 17:21:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44681 invoked by uid 99); 17 May 2012 17:21:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:21:56 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ohaya@cox.net designates 68.230.241.213 as permitted sender)
Received: from [68.230.241.213] (HELO eastrmfepo101.cox.net) (68.230.241.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:21:49 +0000
Received: from eastrmimpo306.cox.net ([68.230.241.238])
          by eastrmfepo101.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517172128.MAHD18243.eastrmfepo101.cox.net@eastrmimpo306.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 13:21:28 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo306.cox.net with bizsmtp
	id B5MU1j0064h0NJL025MUk1; Thu, 17 May 2012 13:21:28 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.4FB53398.0068,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=oNsJgJ5cAGpTaXJztO+k5aVuruDCBvmbzOAslSMJ7bY=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=pGLkceISAAAA:8
 a=kviXuzpPAAAA:8 a=urHNkeErAAAA:8 a=mV9VRH-2AAAA:8 a=LQGeah3YeJ3EWz453UsA:9
 a=HZW5nKAvcnGtw7m8_70A:7 a=QEXdDO2ut3YA:10 a=Cfss38NwzkgA:10
 a=VzJlvgeKaA4A:10 a=MSl-tDqOz04A:10 a=4vB-4DCPJfMA:10
 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 13:21:28 -0400
Message-ID: <20120517132128.WE6TI.928436.imail@eastrmwml206>
Date: Thu, 17 May 2012 13:21:28 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <CABzHfVm17oOEaiY3LbSDAWBHmsu1ycYDcs3A1cZbUPTN+2nEHA@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
Sensitivity: Normal
X-Virus-Checked: Checked by ClamAV on apache.org


---- Konstantin Kolinko <knst.kolinko@gmail.com> wrote:=20
> 2012/5/17  <ohaya@cox.net>:
> > Hi,
> >
> > I'm trying to debug some problems while enabling JNDIRealm in Tomcat 6.=
0.33.
> >
> > I've gotten Tomcat itself to output debug logging, but looking at the J=
NDIRealm.java code, e.g.:
> >
> > http://www.docjar.com/html/api/org/apache/catalina/realm/JNDIRealm.java=
.html
> >
> > It looks like there's a bunch of debug output that the Java code *can* =
output.
> >
> > The problem is that I don't know how to enable that debug output/loggin=
g?
> >
> > I'm assuming that something needs to be added to the Tomcat logging.pro=
perties, but can anyone tell me what that should be to get the messages suc=
h as would be output by the following code in JNDIRealm.java:
> >
> > 1044 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (username =3D=3D null || use=
rname.equals("")
> > =C2=A01045 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 || credenti=
als =3D=3D null || credentials.equals("")) {
> > =C2=A01046 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (contain=
erLog.isDebugEnabled())
> > =C2=A01047 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 containerLog.debug("username null or empty: returning null principal.")=
;
> > =C2=A01048 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return (nul=
l);
> >
>=20
>=20
> See
> http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logging_API
>=20
> The "containerLog" writes to a category that has name similar to the foll=
owing:
> org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context}]
>=20
> If your realm in in Context, then you will get the full name.
> If it is in Host, you will get [engine][host] only,
> and so on.
>=20
>=20
> You may also want to run under debugger,
> http://wiki.apache.org/tomcat/FAQ/Developing#Debugging
>=20
> Best regards,
> Konstantin Kolinko
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

Konstantin,

Here's a partial stripped down version of my server.xml, to show the JNDIRe=
alm part in context.  I guess that it's in the <Engine>?

So, how do I enable the output from the JNDIRealm?

I checked the link you included, but it reflected what you said, but I'm un=
clear about exactly what I need to do (e.g., add to logging.properties) to =
get the debug output?

Thanks,
Jim

P.S.  Per other responses, if you could help explain, it might clarify thin=
gs for others on the mailing list, who also appear to not know how to do th=
is?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:25:20 2012
Return-Path: <users-return-234333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F426C622
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:25:20 +0000 (UTC)
Received: (qmail 58268 invoked by uid 500); 17 May 2012 17:25:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58223 invoked by uid 500); 17 May 2012 17:25:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58214 invoked by uid 99); 17 May 2012 17:25:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:25:16 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.218 as permitted sender)
Received: from [68.230.241.218] (HELO eastrmfepo203.cox.net) (68.230.241.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:25:09 +0000
Received: from eastrmimpo109.cox.net ([68.230.241.222])
          by eastrmfepo203.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517172448.NHFM18532.eastrmfepo203.cox.net@eastrmimpo109.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 13:24:48 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo109.cox.net with bizsmtp
	id B5Qn1j00Z4h0NJL025Qn9Z; Thu, 17 May 2012 13:24:47 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020206.4FB53460.0009,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=oCnpYUhdmvqPuxLMq7fsn3FqY3je+Ql30gwju2dxGGE=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=kviXuzpPAAAA:8
 a=pGLkceISAAAA:8 a=urHNkeErAAAA:8 a=mV9VRH-2AAAA:8 a=3pBNjP9oAAAA:8
 a=ADXCanPgAAAA:8 a=8BX7YY9VAAAA:8 a=UrcGnjEpAAAA:8 a=YLxnQJNtAAAA:8
 a=z4xPb5BCsk9ThIpsKzgA:9 a=baIqHkBwPZgmndf0GKgA:7 a=QEXdDO2ut3YA:10
 a=Cfss38NwzkgA:10 a=VzJlvgeKaA4A:10 a=xLrFxJkFV4AA:10 a=4vB-4DCPJfMA:10
 a=MSl-tDqOz04A:10 a=gA6IeH5FQcgA:10 a=NWVoK91CQyQA:10
 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 13:24:47 -0400
Message-ID: <20120517132447.456WX.928479.imail@eastrmwml206>
Date: Thu, 17 May 2012 13:24:47 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <20120517132128.WE6TI.928436.imail@eastrmwml206>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
Sensitivity: Normal


---- ohaya@cox.net wrote:=20
>=20
> ---- Konstantin Kolinko <knst.kolinko@gmail.com> wrote:=20
> > 2012/5/17  <ohaya@cox.net>:
> > > Hi,
> > >
> > > I'm trying to debug some problems while enabling JNDIRealm in Tomcat =
6.0.33.
> > >
> > > I've gotten Tomcat itself to output debug logging, but looking at the=
 JNDIRealm.java code, e.g.:
> > >
> > > http://www.docjar.com/html/api/org/apache/catalina/realm/JNDIRealm.ja=
va.html
> > >
> > > It looks like there's a bunch of debug output that the Java code *can=
* output.
> > >
> > > The problem is that I don't know how to enable that debug output/logg=
ing?
> > >
> > > I'm assuming that something needs to be added to the Tomcat logging.p=
roperties, but can anyone tell me what that should be to get the messages s=
uch as would be output by the following code in JNDIRealm.java:
> > >
> > > 1044 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (username =3D=3D null || u=
sername.equals("")
> > > =C2=A01045 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 || creden=
tials =3D=3D null || credentials.equals("")) {
> > > =C2=A01046 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (conta=
inerLog.isDebugEnabled())
> > > =C2=A01047 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 containerLog.debug("username null or empty: returning null principal=
.");
> > > =C2=A01048 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return (n=
ull);
> > >
> >=20
> >=20
> > See
> > http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logging_A=
PI
> >=20
> > The "containerLog" writes to a category that has name similar to the fo=
llowing:
> > org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context=
}]
> >=20
> > If your realm in in Context, then you will get the full name.
> > If it is in Host, you will get [engine][host] only,
> > and so on.
> >=20
> >=20
> > You may also want to run under debugger,
> > http://wiki.apache.org/tomcat/FAQ/Developing#Debugging
> >=20
> > Best regards,
> > Konstantin Kolinko
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
> Konstantin,
>=20
> Here's a partial stripped down version of my server.xml, to show the JNDI=
Realm part in context.  I guess that it's in the <Engine>?
>=20
> So, how do I enable the output from the JNDIRealm?
>=20
> I checked the link you included, but it reflected what you said, but I'm =
unclear about exactly what I need to do (e.g., add to logging.properties) t=
o get the debug output?
>=20
> Thanks,
> Jim
>=20
> P.S.  Per other responses, if you could help explain, it might clarify th=
ings for others on the mailing list, who also appear to not know how to do =
this?
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


P.P.S.  In case it helps, here is my current logging.properties:


# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

handlers =3D 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.j=
uli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.ap=
ache.juli.FileHandler, java.util.logging.ConsoleHandler

.handlers =3D 1catalina.org.apache.juli.FileHandler, java.util.logging.Cons=
oleHandler

############################################################
# Handler specific properties.
# Describes specific configuration info for Handlers.
############################################################

1catalina.org.apache.juli.FileHandler.level =3D FINE
1catalina.org.apache.juli.FileHandler.directory =3D ${catalina.base}/logs
1catalina.org.apache.juli.FileHandler.prefix =3D catalina.

# JL - FOLLOWING ADDED FOR DEBUG PER: http://dev-answers.blogspot.com/2010/=
03/enable-debugtrace-level-logging-for.html
1catalina.org.apache.juli.FileHandler.bufferSize =3D -1

2localhost.org.apache.juli.FileHandler.level =3D FINE
2localhost.org.apache.juli.FileHandler.directory =3D ${catalina.base}/logs
2localhost.org.apache.juli.FileHandler.prefix =3D localhost.

3manager.org.apache.juli.FileHandler.level =3D FINE
3manager.org.apache.juli.FileHandler.directory =3D ${catalina.base}/logs
3manager.org.apache.juli.FileHandler.prefix =3D manager.

4host-manager.org.apache.juli.FileHandler.level =3D FINE
4host-manager.org.apache.juli.FileHandler.directory =3D ${catalina.base}/lo=
gs
4host-manager.org.apache.juli.FileHandler.prefix =3D host-manager.

java.util.logging.ConsoleHandler.level =3D FINE
java.util.logging.ConsoleHandler.formatter =3D java.util.logging.SimpleForm=
atter


############################################################
# Facility specific properties.
# Provides extra control for each logger.
############################################################


# JL - FOLLOWING ADDED FOR DEBUG PER: http://dev-answers.blogspot.com/2010/=
03/enable-debugtrace-level-logging-for.html
# This would turn on trace-level for everything
# the possible levels are: SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINE=
ST or ALL
#org.apache.catalina.level =3D ALL
#org.apache.catalina.handlers =3D 2localhost.org.apache.juli.FileHandler
org.apache.catalina.realm.level =3D ALL
org.apache.catalina.realm.useParentHandlers =3D true
org.apache.catalina.authenticator.level =3D ALL
org.apache.catalina.authenticator.useParentHandlers =3D true


org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level =3D INF=
O
org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers =3D =
2localhost.org.apache.juli.FileHandler

org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].le=
vel =3D INFO
org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].ha=
ndlers =3D 3manager.org.apache.juli.FileHandler

org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manage=
r].level =3D INFO
org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manage=
r].handlers =3D 4host-manager.org.apache.juli.FileHandler

# For example, to log debug messages in ContextConfig and HostConfig
# classes and to log only warnings and errors in other
# org.apache.catalina.** classes, uncomment these lines:
#org.apache.catalina.startup.ContextConfig.level =3D FINE
#org.apache.catalina.startup.HostConfig.level =3D FINE
#org.apache.catalina.level =3D WARNING


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:29:52 2012
Return-Path: <users-return-234334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45878C758
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:29:52 +0000 (UTC)
Received: (qmail 71726 invoked by uid 500); 17 May 2012 17:29:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71674 invoked by uid 500); 17 May 2012 17:29:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71665 invoked by uid 99); 17 May 2012 17:29:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:29:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:29:42 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id B57J1j0011ap0As585VMwq; Thu, 17 May 2012 17:29:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id B5VM1j00s38FjT13i5VMHW; Thu, 17 May 2012 17:29:21 +0000
Message-ID: <4FB53571.4080801@christopherschultz.net>
Date: Thu, 17 May 2012 13:29:21 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517132128.WE6TI.928436.imail@eastrmwml206>
In-Reply-To: <20120517132128.WE6TI.928436.imail@eastrmwml206>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jim,

On 5/17/12 1:21 PM, ohaya@cox.net wrote:
> Here's a partial stripped down version of my server.xml

Try copy/paste instead of attaching: the list strips many types of
attachments.

> So, how do I enable the output from the JNDIRealm?

You need something like this in your logging.properties:

org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/context].level
= DEBUG

You'll need to replace "/context" with the context path of your webapp.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+1NXEACgkQ9CaO5/Lv0PBEiwCeKJEhmA4q+BCGer0FpHxdBRwu
A6AAoMEDa869XC0OippZPPI3mj8k/d1q
=LL3N
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:30:23 2012
Return-Path: <users-return-234335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CF1DC75F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:30:23 +0000 (UTC)
Received: (qmail 77147 invoked by uid 500); 17 May 2012 17:30:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76991 invoked by uid 500); 17 May 2012 17:30:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76980 invoked by uid 99); 17 May 2012 17:30:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:30:19 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ohaya@cox.net designates 68.230.241.213 as permitted sender)
Received: from [68.230.241.213] (HELO eastrmfepo101.cox.net) (68.230.241.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:30:13 +0000
Received: from eastrmimpo110.cox.net ([68.230.241.223])
          by eastrmfepo101.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517172952.MHZG18243.eastrmfepo101.cox.net@eastrmimpo110.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 13:29:52 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo110.cox.net with bizsmtp
	id B5Vs1j00D4h0NJL025Vs9Y; Thu, 17 May 2012 13:29:52 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020207.4FB53590.00B2,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=s1i2RV+unmn3sLkEA3lf1Tj2LikDbZyRf9iEFo2x6J8=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=kviXuzpPAAAA:8
 a=pGLkceISAAAA:8 a=urHNkeErAAAA:8 a=mV9VRH-2AAAA:8 a=3pBNjP9oAAAA:8
 a=ADXCanPgAAAA:8 a=8BX7YY9VAAAA:8 a=UrcGnjEpAAAA:8 a=YLxnQJNtAAAA:8
 a=-xqitIjrErmuSbIYdUUA:9 a=2tb5IWlXdQpy9H2o_IkA:7 a=QEXdDO2ut3YA:10
 a=Cfss38NwzkgA:10 a=VzJlvgeKaA4A:10 a=xLrFxJkFV4AA:10 a=4vB-4DCPJfMA:10
 a=MSl-tDqOz04A:10 a=gA6IeH5FQcgA:10 a=NWVoK91CQyQA:10
 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 13:29:52 -0400
Message-ID: <20120517132952.NKOS9.928561.imail@eastrmwml206>
Date: Thu, 17 May 2012 13:29:52 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <20120517132447.456WX.928479.imail@eastrmwml206>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
Sensitivity: Normal
X-Virus-Checked: Checked by ClamAV on apache.org


---- ohaya@cox.net wrote:=20
>=20
> ---- ohaya@cox.net wrote:=20
> >=20
> > ---- Konstantin Kolinko <knst.kolinko@gmail.com> wrote:=20
> > > 2012/5/17  <ohaya@cox.net>:
> > > > Hi,
> > > >
> > > > I'm trying to debug some problems while enabling JNDIRealm in Tomca=
t 6.0.33.
> > > >
> > > > I've gotten Tomcat itself to output debug logging, but looking at t=
he JNDIRealm.java code, e.g.:
> > > >
> > > > http://www.docjar.com/html/api/org/apache/catalina/realm/JNDIRealm.=
java.html
> > > >
> > > > It looks like there's a bunch of debug output that the Java code *c=
an* output.
> > > >
> > > > The problem is that I don't know how to enable that debug output/lo=
gging?
> > > >
> > > > I'm assuming that something needs to be added to the Tomcat logging=
.properties, but can anyone tell me what that should be to get the messages=
 such as would be output by the following code in JNDIRealm.java:
> > > >
> > > > 1044 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (username =3D=3D null ||=
 username.equals("")
> > > > =C2=A01045 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 || cred=
entials =3D=3D null || credentials.equals("")) {
> > > > =C2=A01046 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (con=
tainerLog.isDebugEnabled())
> > > > =C2=A01047 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 containerLog.debug("username null or empty: returning null principal=
.");
> > > > =C2=A01048 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return =
(null);
> > > >
> > >=20
> > >=20
> > > See
> > > http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logging=
_API
> > >=20
> > > The "containerLog" writes to a category that has name similar to the =
following:
> > > org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${conte=
xt}]
> > >=20
> > > If your realm in in Context, then you will get the full name.
> > > If it is in Host, you will get [engine][host] only,
> > > and so on.
> > >=20
> > >=20
> > > You may also want to run under debugger,
> > > http://wiki.apache.org/tomcat/FAQ/Developing#Debugging
> > >=20
> > > Best regards,
> > > Konstantin Kolinko
> > >=20
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> >=20
> > Konstantin,
> >=20
> > Here's a partial stripped down version of my server.xml, to show the JN=
DIRealm part in context.  I guess that it's in the <Engine>?
> >=20
> > So, how do I enable the output from the JNDIRealm?
> >=20
> > I checked the link you included, but it reflected what you said, but I'=
m unclear about exactly what I need to do (e.g., add to logging.properties)=
 to get the debug output?
> >=20
> > Thanks,
> > Jim
> >=20
> > P.S.  Per other responses, if you could help explain, it might clarify =
things for others on the mailing list, who also appear to not know how to d=
o this?
> >=20
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
>=20
> P.P.S.  In case it helps, here is my current logging.properties:
>=20
>=20
> # Licensed to the Apache Software Foundation (ASF) under one or more
> # contributor license agreements.  See the NOTICE file distributed with
> # this work for additional information regarding copyright ownership.
> # The ASF licenses this file to You under the Apache License, Version 2.0
> # (the "License"); you may not use this file except in compliance with
> # the License.  You may obtain a copy of the License at
> #
> #     http://www.apache.org/licenses/LICENSE-2.0
> #
> # Unless required by applicable law or agreed to in writing, software
> # distributed under the License is distributed on an "AS IS" BASIS,
> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied=
.
> # See the License for the specific language governing permissions and
> # limitations under the License.
>=20
> handlers =3D 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache=
.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.=
apache.juli.FileHandler, java.util.logging.ConsoleHandler
>=20
> .handlers =3D 1catalina.org.apache.juli.FileHandler, java.util.logging.Co=
nsoleHandler
>=20
> ############################################################
> # Handler specific properties.
> # Describes specific configuration info for Handlers.
> ############################################################
>=20
> 1catalina.org.apache.juli.FileHandler.level =3D FINE
> 1catalina.org.apache.juli.FileHandler.directory =3D ${catalina.base}/logs
> 1catalina.org.apache.juli.FileHandler.prefix =3D catalina.
>=20
> # JL - FOLLOWING ADDED FOR DEBUG PER: http://dev-answers.blogspot.com/201=
0/03/enable-debugtrace-level-logging-for.html
> 1catalina.org.apache.juli.FileHandler.bufferSize =3D -1
>=20
> 2localhost.org.apache.juli.FileHandler.level =3D FINE
> 2localhost.org.apache.juli.FileHandler.directory =3D ${catalina.base}/log=
s
> 2localhost.org.apache.juli.FileHandler.prefix =3D localhost.
>=20
> 3manager.org.apache.juli.FileHandler.level =3D FINE
> 3manager.org.apache.juli.FileHandler.directory =3D ${catalina.base}/logs
> 3manager.org.apache.juli.FileHandler.prefix =3D manager.
>=20
> 4host-manager.org.apache.juli.FileHandler.level =3D FINE
> 4host-manager.org.apache.juli.FileHandler.directory =3D ${catalina.base}/=
logs
> 4host-manager.org.apache.juli.FileHandler.prefix =3D host-manager.
>=20
> java.util.logging.ConsoleHandler.level =3D FINE
> java.util.logging.ConsoleHandler.formatter =3D java.util.logging.SimpleFo=
rmatter
>=20
>=20
> ############################################################
> # Facility specific properties.
> # Provides extra control for each logger.
> ############################################################
>=20
>=20
> # JL - FOLLOWING ADDED FOR DEBUG PER: http://dev-answers.blogspot.com/201=
0/03/enable-debugtrace-level-logging-for.html
> # This would turn on trace-level for everything
> # the possible levels are: SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FI=
NEST or ALL
> #org.apache.catalina.level =3D ALL
> #org.apache.catalina.handlers =3D 2localhost.org.apache.juli.FileHandler
> org.apache.catalina.realm.level =3D ALL
> org.apache.catalina.realm.useParentHandlers =3D true
> org.apache.catalina.authenticator.level =3D ALL
> org.apache.catalina.authenticator.useParentHandlers =3D true
>=20
>=20
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level =3D I=
NFO
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers =
=3D 2localhost.org.apache.juli.FileHandler
>=20
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].=
level =3D INFO
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].=
handlers =3D 3manager.org.apache.juli.FileHandler
>=20
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-mana=
ger].level =3D INFO
> org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-mana=
ger].handlers =3D 4host-manager.org.apache.juli.FileHandler
>=20
> # For example, to log debug messages in ContextConfig and HostConfig
> # classes and to log only warnings and errors in other
> # org.apache.catalina.** classes, uncomment these lines:
> #org.apache.catalina.startup.ContextConfig.level =3D FINE
> #org.apache.catalina.startup.HostConfig.level =3D FINE
> #org.apache.catalina.level =3D WARNING
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


Hi,

Oops.  In my previous email, I forgot to paste in the server.xml snippet wi=
th the realm :(....


<Server port=3D"8005" shutdown=3D"SHUTDOWN">

  <!--APR library loader. Documentation at /docs/apr.html -->
  <Listener className=3D"org.apache.catalina.core.AprLifecycleListener" SSL=
Engine=3D"on" />
  <!--Initialize Jasper prior to webapps are loaded. Documentation at /docs=
/jasper-howto.html -->
  <Listener className=3D"org.apache.catalina.core.JasperListener" />
  <!-- Prevent memory leaks due to use of particular java/javax APIs-->
  <Listener className=3D"org.apache.catalina.core.JreMemoryLeakPreventionLi=
stener" />
  <!-- JMX Support for the Tomcat server. Documentation at /docs/non-existe=
nt.html -->
  <Listener className=3D"org.apache.catalina.mbeans.ServerLifecycleListener=
" />
  <Listener className=3D"org.apache.catalina.mbeans.GlobalResourcesLifecycl=
eListener" />

  <!-- Global JNDI resources
       Documentation at /docs/jndi-resources-howto.html
  -->
  <GlobalNamingResources>
    <!-- Editable user database that can also be used by
         UserDatabaseRealm to authenticate users
    -->
    <Resource name=3D"UserDatabase" auth=3D"Container"
              type=3D"org.apache.catalina.UserDatabase"
              description=3D"User database that can be updated and saved"
              factory=3D"org.apache.catalina.users.MemoryUserDatabaseFactor=
y"
              pathname=3D"conf/tomcat-users.xml" />
  </GlobalNamingResources>

  <Service name=3D"Catalina">
 =20
   =20
   =20
    <!-- A "Connector" represents an endpoint by which requests are receive=
d
         and responses are returned. Documentation at :
         Java HTTP Connector: /docs/config/http.html (blocking & non-blocki=
ng)
         Java AJP  Connector: /docs/config/ajp.html
         APR (HTTP/AJP) Connector: /docs/apr.html
         Define a non-SSL HTTP/1.1 Connector on port 8080
    -->
    <Connector port=3D"8080" protocol=3D"HTTP/1.1"=20
               connectionTimeout=3D"20000"=20
               redirectPort=3D"8443" />

    <!-- Define an AJP 1.3 Connector on port 8009 -->
    <Connector port=3D"8009" protocol=3D"AJP/1.3" redirectPort=3D"8443" />


    <Engine name=3D"Catalina" defaultHost=3D"localhost">


<Realm  className=3D"org.apache.catalina.realm.JNDIRealm"
    =09connectionName=3D"cn=3DXXXX"
=09connectionPassword=3D"YYYYYYY"
     =09connectionURL=3D"ldap://oidoif:6501"
      =09userPassword=3D"userPassword"
       =09userPattern=3D"cn=3D{0},cn=3Dusers,dc=3Dwhatever,dc=3Dcom"
        roleBase=3D"cn=3Dgroups,dc=3Dwhatever,dc=3Dcom"
        roleName=3D"cn"
=09debug=3D"9"
        roleSearch=3D"(uniqueMember=3D{0})"
/>



      <!-- Define the default virtual host
           Note: XML Schema validation will not work with Xerces 2.2.
       -->
      <Host name=3D"localhost"  appBase=3D"webapps"
            unpackWARs=3D"true" autoDeploy=3D"true"
            xmlValidation=3D"false" xmlNamespaceAware=3D"false">


      </Host>
    </Engine>
  </Service>
</Server>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:30:56 2012
Return-Path: <users-return-234336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5458BC764
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:30:56 +0000 (UTC)
Received: (qmail 81113 invoked by uid 500); 17 May 2012 17:30:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80961 invoked by uid 500); 17 May 2012 17:30:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80952 invoked by uid 99); 17 May 2012 17:30:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:30:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:30:46 +0000
Received: by dadv2 with SMTP id v2so3340525dad.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 10:30:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=hQnddi/yrzRdZaKi6ipE1ZZ9WfwckUqEh0x/BaOklVU=;
        b=V9+umRgq9nhPPi2lFqNxR6CXPVu9fQyNU8x5qWSXcP1p1VCvYNANAygqNL8K2aEMrP
         bb+G0xWqz6LHXVFzv/7339ujf2oxRQjW3DcN6Qd3otuxwOkRcpqGfbv85QzR6+p6t7OH
         cSeVbObzqEygsw/843Giv141pV+Gu1vTabEivQr+6UtE3Vo3P9EuBaNcOeMHZ0wKXqQo
         6BB5SlX7bwLRWlzhhjYAgCosHqBUSgcyXcmDTaLZ9h4Y6PN36jecl0iFRF2YGvJ+ukqX
         8PEYpqm5hDRTVc5opfOSd9GUcADstF2HhdIDSP38m7b3FJSDKJOmi0jHIZjsENgDyNL9
         +pVw==
MIME-Version: 1.0
Received: by 10.68.200.202 with SMTP id ju10mr29212890pbc.54.1337275826207;
 Thu, 17 May 2012 10:30:26 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Thu, 17 May 2012 10:30:26 -0700 (PDT)
In-Reply-To: <20120517132447.456WX.928479.imail@eastrmwml206>
References: <20120517132128.WE6TI.928436.imail@eastrmwml206>
	<20120517132447.456WX.928479.imail@eastrmwml206>
Date: Thu, 17 May 2012 21:30:26 +0400
Message-ID: <CABzHfVnN4VC+kwGzJBURCRW8r9Kq+8SfSDy=oHReKqxSoYRUvw@mail.gmail.com>
Subject: Re: How to get debug output from JNDIRealm.java?
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/17  <ohaya@cox.net>:
>> >
>> > See
>> > http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logging_=
API
>> >
>>
>> Here's a partial stripped down version of my server.xml, to show the JND=
IRealm part in context. =A0I guess that it's in the <Engine>?
>>
>> So, how do I enable the output from the JNDIRealm?
>>
>> I checked the link you included, but it reflected what you said, but I'm=
 unclear about exactly what I need to do (e.g., add to logging.properties) =
to get the debug output?
>>
>> Thanks,
>> Jim
>>
>> P.S. =A0Per other responses, if you could help explain, it might clarify=
 things for others on the mailing list, who also appear to not know how to =
do this?
\>
> P.P.S. =A0In case it helps, here is my current logging.properties:
>

>
> # For example, to log debug messages in ContextConfig and HostConfig
> # classes and to log only warnings and errors in other
> # org.apache.catalina.** classes, uncomment these lines:
> #org.apache.catalina.startup.ContextConfig.level =3D FINE
> #org.apache.catalina.startup.HostConfig.level =3D FINE
> #org.apache.catalina.level =3D WARNING

I have not see your server.xml, but let's suppose that your Realm is
in the Engine.
The logging category for engine will be
"org.apache.catalina.core.ContainerBase.[Catalina]"

To enable debug logging for it you have to
1. add the following line to logging.properties file and
2. restart Tomcat:

org.apache.catalina.core.ContainerBase.[Catalina].level =3D FINE

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:49:11 2012
Return-Path: <users-return-234337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88366C7DE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:49:11 +0000 (UTC)
Received: (qmail 39405 invoked by uid 500); 17 May 2012 17:49:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39251 invoked by uid 500); 17 May 2012 17:49:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39240 invoked by uid 99); 17 May 2012 17:49:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:49:08 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.214 as permitted sender)
Received: from [68.230.241.214] (HELO eastrmfepo102.cox.net) (68.230.241.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:48:58 +0000
Received: from eastrmimpo210.cox.net ([68.230.241.225])
          by eastrmfepo102.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517174838.FAVQ26743.eastrmfepo102.cox.net@eastrmimpo210.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 13:48:38 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo210.cox.net with bizsmtp
	id B5od1j00J4h0NJL025odeg; Thu, 17 May 2012 13:48:37 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020208.4FB539F5.014F,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=zgrfwPxMZK8qZ92ObMQftE+CrxUcpQPkHWvi4UAp5mI=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=pGLkceISAAAA:8
 a=kviXuzpPAAAA:8 a=mV9VRH-2AAAA:8 a=R0y7Ydcyhci_tSyk5DIA:9
 a=WnPrPhX_rpTQWf7EOVAA:7 a=QEXdDO2ut3YA:10 a=VzJlvgeKaA4A:10
 a=MSl-tDqOz04A:10 a=4vB-4DCPJfMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 13:48:37 -0400
Message-ID: <20120517134837.XYFH3.928883.imail@eastrmwml206>
Date: Thu, 17 May 2012 13:48:37 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <CABzHfVnN4VC+kwGzJBURCRW8r9Kq+8SfSDy=oHReKqxSoYRUvw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
Sensitivity: Normal


---- Konstantin Kolinko <knst.kolinko@gmail.com> wrote:=20
> 2012/5/17  <ohaya@cox.net>:
> >> >
> >> > See
> >> > http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_loggin=
g_API
> >> >
> >>
> >> Here's a partial stripped down version of my server.xml, to show the J=
NDIRealm part in context. =C2=A0I guess that it's in the <Engine>?
> >>
> >> So, how do I enable the output from the JNDIRealm?
> >>
> >> I checked the link you included, but it reflected what you said, but I=
'm unclear about exactly what I need to do (e.g., add to logging.properties=
) to get the debug output?
> >>
> >> Thanks,
> >> Jim
> >>
> >> P.S. =C2=A0Per other responses, if you could help explain, it might cl=
arify things for others on the mailing list, who also appear to not know ho=
w to do this?
> \>
> > P.P.S. =C2=A0In case it helps, here is my current logging.properties:
> >
>=20
> >
> > # For example, to log debug messages in ContextConfig and HostConfig
> > # classes and to log only warnings and errors in other
> > # org.apache.catalina.** classes, uncomment these lines:
> > #org.apache.catalina.startup.ContextConfig.level =3D FINE
> > #org.apache.catalina.startup.HostConfig.level =3D FINE
> > #org.apache.catalina.level =3D WARNING
>=20
> I have not see your server.xml, but let's suppose that your Realm is
> in the Engine.
> The logging category for engine will be
> "org.apache.catalina.core.ContainerBase.[Catalina]"
>=20
> To enable debug logging for it you have to
> 1. add the following line to logging.properties file and
> 2. restart Tomcat:
>=20
> org.apache.catalina.core.ContainerBase.[Catalina].level =3D FINE
>=20
> Best regards,
> Konstantin Kolinko
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


Hi,

FYI, I posted a msg with the server.xml snippet, which I had forgotten.

Also, I just tried adding the line you suggested to logging.properties, the=
n bounced Tomcat. =20

On startup, I do see some new messages:

May 17, 2012 1:40:48 PM org.apache.catalina.realm.RealmBase init
FINE: Register Realm Catalina:type=3DRealm,realmPath=3D/realm0
May 17, 2012 1:40:48 PM org.apache.catalina.realm.JNDIRealm getDirectoryCon=
textEnvironment
FINE: Connecting to URL ldap://oidoif:6501

but, just to test if the logging was outputing anything, I access Tomcat /m=
anager, with incorrect username/password, and I don't see anything from JND=
IRealm in the logs.

Looking at JNDIRealm.java code, I see this code:

  944                   // Authenticate the specified username if possible
  945                   principal =3D authenticate(context, username, crede=
ntials);
  946  =20
  947               } catch (NullPointerException e) {
  948                   /* BZ 42449 - Kludge Sun's LDAP provider
  949                      with broken SSL
  950                   */
  951                   // log the exception so we know it's there.
  952                   containerLog.warn(sm.getString("jndiRealm.exception=
"), e);

Shouldn't the logs show some kind of exception message for the above lines?

Thanks,
Jim


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 17:57:14 2012
Return-Path: <users-return-234338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49BE7C81F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 17:57:14 +0000 (UTC)
Received: (qmail 63140 invoked by uid 500); 17 May 2012 17:57:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62940 invoked by uid 500); 17 May 2012 17:57:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62931 invoked by uid 99); 17 May 2012 17:57:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:57:10 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ohaya@cox.net designates 68.230.241.214 as permitted sender)
Received: from [68.230.241.214] (HELO eastrmfepo102.cox.net) (68.230.241.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 17:57:02 +0000
Received: from eastrmimpo209.cox.net ([68.230.241.224])
          by eastrmfepo102.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517175641.FGJR26743.eastrmfepo102.cox.net@eastrmimpo209.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 13:56:41 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo209.cox.net with bizsmtp
	id B5wh1j00Z4h0NJL025whzz; Thu, 17 May 2012 13:56:41 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.4FB53BD9.0142,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=LKDkrRjixwgtmuXwrIwnijc/8ro9lGx9B3c+ChRocFo=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=kviXuzpPAAAA:8
 a=pGLkceISAAAA:8 a=mV9VRH-2AAAA:8 a=UT5y2BsGjtzyIQM05iwA:9
 a=bTBJsAnw1vwMy9GkfPoA:7 a=QEXdDO2ut3YA:10 a=VzJlvgeKaA4A:10
 a=4vB-4DCPJfMA:10 a=MSl-tDqOz04A:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 13:56:41 -0400
Message-ID: <20120517135641.2I0ZL.929000.imail@eastrmwml206>
Date: Thu, 17 May 2012 13:56:41 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <20120517134837.XYFH3.928883.imail@eastrmwml206>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
Sensitivity: Normal
X-Virus-Checked: Checked by ClamAV on apache.org


---- ohaya@cox.net wrote:=20
>=20
> ---- Konstantin Kolinko <knst.kolinko@gmail.com> wrote:=20
> > 2012/5/17  <ohaya@cox.net>:
> > >> >
> > >> > See
> > >> > http://tomcat.apache.org/tomcat-6.0-doc/logging.html#Servlets_logg=
ing_API
> > >> >
> > >>
> > >> Here's a partial stripped down version of my server.xml, to show the=
 JNDIRealm part in context. =C2=A0I guess that it's in the <Engine>?
> > >>
> > >> So, how do I enable the output from the JNDIRealm?
> > >>
> > >> I checked the link you included, but it reflected what you said, but=
 I'm unclear about exactly what I need to do (e.g., add to logging.properti=
es) to get the debug output?
> > >>
> > >> Thanks,
> > >> Jim
> > >>
> > >> P.S. =C2=A0Per other responses, if you could help explain, it might =
clarify things for others on the mailing list, who also appear to not know =
how to do this?
> > \>
> > > P.P.S. =C2=A0In case it helps, here is my current logging.properties:
> > >
> >=20
> > >
> > > # For example, to log debug messages in ContextConfig and HostConfig
> > > # classes and to log only warnings and errors in other
> > > # org.apache.catalina.** classes, uncomment these lines:
> > > #org.apache.catalina.startup.ContextConfig.level =3D FINE
> > > #org.apache.catalina.startup.HostConfig.level =3D FINE
> > > #org.apache.catalina.level =3D WARNING
> >=20
> > I have not see your server.xml, but let's suppose that your Realm is
> > in the Engine.
> > The logging category for engine will be
> > "org.apache.catalina.core.ContainerBase.[Catalina]"
> >=20
> > To enable debug logging for it you have to
> > 1. add the following line to logging.properties file and
> > 2. restart Tomcat:
> >=20
> > org.apache.catalina.core.ContainerBase.[Catalina].level =3D FINE
> >=20
> > Best regards,
> > Konstantin Kolinko
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
>=20
> Hi,
>=20
> FYI, I posted a msg with the server.xml snippet, which I had forgotten.
>=20
> Also, I just tried adding the line you suggested to logging.properties, t=
hen bounced Tomcat. =20
>=20
> On startup, I do see some new messages:
>=20
> May 17, 2012 1:40:48 PM org.apache.catalina.realm.RealmBase init
> FINE: Register Realm Catalina:type=3DRealm,realmPath=3D/realm0
> May 17, 2012 1:40:48 PM org.apache.catalina.realm.JNDIRealm getDirectoryC=
ontextEnvironment
> FINE: Connecting to URL ldap://oidoif:6501
>=20
> but, just to test if the logging was outputing anything, I access Tomcat =
/manager, with incorrect username/password, and I don't see anything from J=
NDIRealm in the logs.
>=20
> Looking at JNDIRealm.java code, I see this code:
>=20
>   944                   // Authenticate the specified username if possibl=
e
>   945                   principal =3D authenticate(context, username, cre=
dentials);
>   946  =20
>   947               } catch (NullPointerException e) {
>   948                   /* BZ 42449 - Kludge Sun's LDAP provider
>   949                      with broken SSL
>   950                   */
>   951                   // log the exception so we know it's there.
>   952                   containerLog.warn(sm.getString("jndiRealm.excepti=
on"), e);
>=20
> Shouldn't the logs show some kind of exception message for the above line=
s?
>=20
> Thanks,
> Jim



Hi,

I think that the code snippet I sent earlier was the wrong one, but it seem=
s like I still should have gotten some output logging for the following cod=
e from JNDIRealm.java?

 1003           } catch (NamingException e) {
 1004  =20
 1005               // Log the problem for posterity
 1006               containerLog.error(sm.getString("jndiRealm.exception"),=
 e);
 1007  =20
 1008               // Close the connection so that it gets reopened next t=
ime
 1009               if (context !=3D null)
 1010                   close(context);
 1011  =20
 1012               // Return "not authenticated" for this request
 1013               if (containerLog.isDebugEnabled())
 1014                   containerLog.debug("Returning null principal.");
 1015               return (null);

i.e., I should have seen "Returning null principal" in the Tomcat logging?

Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 18:22:48 2012
Return-Path: <users-return-234339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E957CC921
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 18:22:47 +0000 (UTC)
Received: (qmail 49759 invoked by uid 500); 17 May 2012 18:22:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49580 invoked by uid 500); 17 May 2012 18:22:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49571 invoked by uid 99); 17 May 2012 18:22:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:22:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of janos.lobb@yale.edu designates 130.132.50.146 as permitted sender)
Received: from [130.132.50.146] (HELO vm-emlprdomr-05.its.yale.edu) (130.132.50.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:22:35 +0000
Received: from x10-caht2.yu.yale.edu (x10-caht2.its.yale.edu [130.132.61.25])
	by vm-emlprdomr-05.its.yale.edu (8.14.4/8.14.4) with ESMTP id q4HIME1K015928
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <users@tomcat.apache.org>; Thu, 17 May 2012 14:22:14 -0400
Received: from X10-MBX10.yu.yale.edu ([169.254.10.131]) by
 x10-caht2.yu.yale.edu ([130.132.61.25]) with mapi id 14.02.0247.003; Thu, 17
 May 2012 14:22:14 -0400
From: "Lobb, Janos" <janos.lobb@yale.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
Thread-Topic: How to get debug output from JNDIRealm.java?
Thread-Index: AQHNNFn747UaFJSciUGac6D0QCrNig==
Date: Thu, 17 May 2012 18:22:13 +0000
Message-ID: <378FE916-6C00-4DDE-BC6C-9FD604641B94@yale.edu>
References: <20120517121057.QIYZF.927343.imail@eastrmwml206>
 <4FB52DFE.8060606@ice-sa.com>
In-Reply-To: <4FB52DFE.8060606@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [130.132.61.94]
Content-Type: text/plain; charset="iso-8859-1"
Content-ID: <ED3777C111293B4E8266649FE2FD3BC2@connect.yale.edu>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.71 on 130.132.50.146
X-Virus-Checked: Checked by ClamAV on apache.org


On May 17, 2012, at 12:57 PM, Andr=E9 Warnier wrote:

> ohaya@cox.net wrote:
> ...
>=20
>> The problem is that I don't know how to enable that debug output/logging=
?
>> I'm assuming that something needs to be added to the Tomcat logging.prop=
erties, but can anyone tell me what that should be to get the messages such=
 as would be output by the following code in JNDIRealm.java:
> Give it up.  The Tomcat logging implementation and its documentation (wit=
h the exception of the AcccesLogValve) are totally impenetrable to mere mor=
tal human beings.
> Unless you have been born from Java programmer parents, are having Java c=
offee exclusively for breakfast and read Java books by the pool for fun, yo=
u don't stand a chance.
> It generally makes for lively debates though..
>=20

In the island of Java !!


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 18:23:08 2012
Return-Path: <users-return-234340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BB4EC925
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 18:23:08 +0000 (UTC)
Received: (qmail 53120 invoked by uid 500); 17 May 2012 18:23:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52949 invoked by uid 500); 17 May 2012 18:23:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52939 invoked by uid 99); 17 May 2012 18:23:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:23:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:22:57 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id B0wa1j0051ap0As5D6Nddj; Thu, 17 May 2012 18:22:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id B6Nc1j00f38FjT13i6NdnW; Thu, 17 May 2012 18:22:37 +0000
Message-ID: <4FB541EC.7010206@christopherschultz.net>
Date: Thu, 17 May 2012 14:22:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517121057.QIYZF.927343.imail@eastrmwml206> <4FB52DFE.8060606@ice-sa.com>
In-Reply-To: <4FB52DFE.8060606@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/17/12 12:57 PM, Andr Warnier wrote:
> Give it up.  The Tomcat logging implementation and its
> documentation (with the exception of the AcccesLogValve) are
> totally impenetrable to mere mortal human beings.

Or those not willing to take the time to read this:
http://tomcat.apache.org/tomcat-7.0-doc/logging.html#Using_java.util.logging_%28default%29

It takes about 5 minutes is you read slowly.

It tells you:

1. What can be configured
2. Where the configuration files are
3. How to set the logging threshold for a logger (e.g. DEBUG)
4. What an example configuration file looks like
5. Where to get more information about java.util.logging

What the documentation does provide is a reproduction of all of the
documentation available online for java.util.logging. If you want to
know exactly what "loggers" are versus "handlers" and how to configure
everything from scratch, do some Googling.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+1QewACgkQ9CaO5/Lv0PCoHQCfVUSfjC6bsv071j7YvpfNjudw
1+wAnR/LMpL7SyQiVnDmmSgnRB8dsuT5
=P42m
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 18:28:34 2012
Return-Path: <users-return-234341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF7EE964B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 18:28:34 +0000 (UTC)
Received: (qmail 75809 invoked by uid 500); 17 May 2012 18:28:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75579 invoked by uid 500); 17 May 2012 18:28:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75566 invoked by uid 99); 17 May 2012 18:28:31 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:28:31 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 18:28:31 +0000
Message-ID: <4FB5434C.40705@apache.org>
Date: Thu, 17 May 2012 19:28:28 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com>
In-Reply-To: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 17/05/2012 16:31, Sekar, Vasanth wrote:
> Hello-
> We have a custom form authenticator that runs on tomcat 4.0. Now, we
> have a need to migrate that into tomcat 6.0. There are compilation
> errors with the following.
> 
> import org.apache.catalina.HttpRequest;
> import org.apache.catalina.HttpResponse;
> 
> I looked at the tomcat 6.0 API and found that these classes are not
> there anymore. I believe these are replaced by 
> 
> import org.apache.catalina.connector.Request;
> import org.apache.catalina.connector.Response;

Correct.

> However, it still shows error on getSession and when I looked at the
> authenticatorbase API it is not present in 6.0
> associate(ssoId, getSession(request, true));
> 
> Could someone shed some light on how to go about this?

associate(ssoId, request.getSession(true));

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 19:12:15 2012
Return-Path: <users-return-234342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E1BC98C2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 19:12:15 +0000 (UTC)
Received: (qmail 21419 invoked by uid 500); 17 May 2012 19:12:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21366 invoked by uid 500); 17 May 2012 19:12:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21356 invoked by uid 99); 17 May 2012 19:12:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 19:12:12 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michaelr524@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 19:12:05 +0000
Received: by lbok6 with SMTP id k6so2079222lbo.18
        for <users@tomcat.apache.org>; Thu, 17 May 2012 12:11:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0A3E+rSCEl4muxQRCA/LWAbL7Z8MCCkyXrFElx1nbPA=;
        b=ReWENppmoY8rdD3hnzAs6UT+EGmgiZWcwBN0mfrWU+fUYn8kgLWEG0etJ7OJXfWMEZ
         wxRM1Q7KWP0NuHvi9XFfYgoG/Kpps0dprtwZitY7zeqmQWP1JQO3rXMgERTetKwddZQc
         APvRkvg7GpagV6pmESQnjYXhRUQK9gFh+7lGmjHXh+m87cp+f0fs6od/PIAtCcLX6Esb
         HoNQpQLOkh2ZBLz35zBPggX7+cZXx++UGO8nUrwD1DHX5ZM/jGxRfatZohhwtXHcz1UY
         QWbw8fcStcVvO/3LHRVBQlvaK4UeMX2TyCD9CVqg3TRDjzLRTLa2j9ESDmcG2nccVmUv
         kIig==
MIME-Version: 1.0
Received: by 10.152.111.200 with SMTP id ik8mr8201586lab.15.1337281904809;
 Thu, 17 May 2012 12:11:44 -0700 (PDT)
Received: by 10.112.23.65 with HTTP; Thu, 17 May 2012 12:11:44 -0700 (PDT)
In-Reply-To: <CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
References: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
	<4FB49558.5090006@pidster.com>
	<CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
Date: Thu, 17 May 2012 22:11:44 +0300
Message-ID: <CA+T4S-ixWd8irdHpT0E6ONe4zAo6yKKZFpUDSZ916+zXAqgG7Q@mail.gmail.com>
Subject: Re: aliases attribute tomcat7
From: Michael Ravits <michaelr524@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d04089131e697d604c040343e

--f46d04089131e697d604c040343e
Content-Type: text/plain; charset=ISO-8859-1

Hi,

It is really strange, most of the time tomcat seems to just ignore these
context files I put.
But if I change the alias path to a directory which doesn't exist and then
make a change in another context file, tomcat tries to reload the second
file and the first one and then complains about invalid directory in alias.
I fix the directory path, again change the other context file to trigger a
reload (not triggered by changing the one with the aliases attribute),
tomcat reloads the second file and then just continues to ignore the
aliases from the first file.
I must be missing some other configuration somewhere.. does anyone know
what is it?

Thanks,
Michael

2012/5/17 Michael Ravits <michaelr524@gmail.com>

> Hey Pidster,
>
> This is the tag I've used:
>
> <Context
> aliases="/img/images=/home/michaelr/images,/img/thumbs=/home/michaelr/thumbs"></Context>
>
> It could have been a permissions problem but I gather that if docBase
> works, this must work as well permission wise.
>
> Thanks,
> Michael
>
> 2012/5/17, Pid <pid@pidster.com>:
> > On 17/05/2012 06:41, Michael Ravits wrote:
> >> Hi Everybody,
> >>
> >> I just can't get this to work.
> >> Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
> >> I deployed ROOT.war and then went on to configure aliases.
> >> Tried adding the attribute in:
> >
> > Obvious question: what exactly did you try?
> >
> >
> > p
> >
> >> $CATALINA_BASE/conf/Catalina/localhost/ROOT.xml
> >> $CATALINA_BASE/conf/Catalina/localhost/context.xml
> >> $CATALINA_BASE/conf/Catalina/localhost/context.xml.default
> >> $CATALINA_BASE/conf//context.xml
> >>
> >> But nothing seems to work..
> >>
> >> In the mean while I've resorted to adding:
> >>
> >> $CATALINA_BASE/conf/Catalina/localhost/img.xml
> >>
> >> With docBase attribute pointing at the right place and it works.
> >> But it seems to me that aliases is more appropriate.
> >>
> >> Does anyone know what I'm doing wrong?
> >> How should I debug this?
> >>
> >> Thanks,
> >> Michael
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >
> >
> > --
> >
> > [key:62590808]
> >
> >
>

--f46d04089131e697d604c040343e--

From users-return-234343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 20:50:40 2012
Return-Path: <users-return-234343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A751FCD5A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 20:50:40 +0000 (UTC)
Received: (qmail 45271 invoked by uid 500); 17 May 2012 20:50:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45203 invoked by uid 500); 17 May 2012 20:50:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45194 invoked by uid 99); 17 May 2012 20:50:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 20:50:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.27.228] (HELO qmta15.emeryville.ca.mail.comcast.net) (76.96.27.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 20:50:30 +0000
Received: from omta19.emeryville.ca.mail.comcast.net ([76.96.30.76])
	by qmta15.emeryville.ca.mail.comcast.net with comcast
	id B0uk1j0041eYJf8AF8q9TQ; Thu, 17 May 2012 20:50:09 +0000
Received: from Christophers-MacBook-Pro.local ([70.17.122.67])
	by omta19.emeryville.ca.mail.comcast.net with comcast
	id B8po1j00p1TM4o6018puWd; Thu, 17 May 2012 20:50:04 +0000
Message-ID: <4FB5646C.80802@christopherschultz.net>
Date: Thu, 17 May 2012 16:49:48 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517135641.2I0ZL.929000.imail@eastrmwml206>
In-Reply-To: <20120517135641.2I0ZL.929000.imail@eastrmwml206>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jim,

On 5/17/12 1:56 PM, ohaya@cox.net wrote:
> I think that the code snippet I sent earlier was the wrong one, but
> it seems like I still should have gotten some output logging for
> the following code from JNDIRealm.java?
> 
> 1003           } catch (NamingException e) { 1004 1005
> // Log the problem for posterity 1006
> containerLog.error(sm.getString("jndiRealm.exception"), e); 1007
>  1008               // Close the connection so that it gets
> reopened next time 1009               if (context != null) 1010
> close(context); 1011 1012               // Return "not
> authenticated" for this request 1013               if
> (containerLog.isDebugEnabled()) 1014
> containerLog.debug("Returning null principal."); 1015
> return (null);
> 
> i.e., I should have seen "Returning null principal" in the Tomcat
> logging?

Why do you think that a NamingException is being caught?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+1ZGwACgkQ9CaO5/Lv0PCnXACfQ053y47B7MLmIbpznhPufSQK
Y3MAoJ4TkTP3/HcwlelKvOm/wISz5fbI
=H5G4
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 20:59:56 2012
Return-Path: <users-return-234344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF849CD99
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 20:59:55 +0000 (UTC)
Received: (qmail 81002 invoked by uid 500); 17 May 2012 20:59:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80941 invoked by uid 500); 17 May 2012 20:59:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80930 invoked by uid 99); 17 May 2012 20:59:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 20:59:52 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ohaya@cox.net designates 68.230.241.215 as permitted sender)
Received: from [68.230.241.215] (HELO eastrmfepo103.cox.net) (68.230.241.215)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 20:59:47 +0000
Received: from eastrmimpo110.cox.net ([68.230.241.223])
          by eastrmfepo103.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120517205926.SEUZ8874.eastrmfepo103.cox.net@eastrmimpo110.cox.net>
          for <users@tomcat.apache.org>; Thu, 17 May 2012 16:59:26 -0400
Received: from eastrmwml302 ([172.18.18.217])
	by eastrmimpo110.cox.net with bizsmtp
	id B8zS1j00B4h0NJL028zSMB; Thu, 17 May 2012 16:59:26 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020207.4FB566AE.00C4,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=s1i2RV+unmn3sLkEA3lf1Tj2LikDbZyRf9iEFo2x6J8=
 c=1 sm=1 a=QSarkATLJO4A:10 a=G8Uczd0VNMoA:10 a=H4AlmhIUOdgA:10
 a=IkcTkHD0fZMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:17 a=-57I09spAAAA:8
 a=kviXuzpPAAAA:8 a=j4nzMFrpAAAA:8 a=xe8BsctaAAAA:8 a=mV9VRH-2AAAA:8
 a=JUuX0IJbqRcnC04v-ecA:9 a=QEXdDO2ut3YA:10 a=EnLKqdGQ194A:10
 a=4vB-4DCPJfMA:10 a=iUHFWXxKLpJq0d/jDuaUrQ==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.192.251.2 by webmail.east.cox.net; Thu, 17 May 2012 16:59:26 -0400
Message-ID: <20120517165926.QRKAA.932231.imail@eastrmwml302>
Date: Thu, 17 May 2012 16:59:26 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
In-Reply-To: <4FB5646C.80802@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal
X-Virus-Checked: Checked by ClamAV on apache.org


---- Christopher Schultz <chris@christopherschultz.net> wrote: 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Jim,
> 
> On 5/17/12 1:56 PM, ohaya@cox.net wrote:
> > I think that the code snippet I sent earlier was the wrong one, but
> > it seems like I still should have gotten some output logging for
> > the following code from JNDIRealm.java?
> > 
> > 1003           } catch (NamingException e) { 1004 1005
> > // Log the problem for posterity 1006
> > containerLog.error(sm.getString("jndiRealm.exception"), e); 1007
> >  1008               // Close the connection so that it gets
> > reopened next time 1009               if (context != null) 1010
> > close(context); 1011 1012               // Return "not
> > authenticated" for this request 1013               if
> > (containerLog.isDebugEnabled()) 1014
> > containerLog.debug("Returning null principal."); 1015
> > return (null);
> > 
> > i.e., I should have seen "Returning null principal" in the Tomcat
> > logging?
> 
> Why do you think that a NamingException is being caught?
> 
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> 
> iEYEARECAAYFAk+1ZGwACgkQ9CaO5/Lv0PCnXACfQ053y47B7MLmIbpznhPufSQK
> Y3MAoJ4TkTP3/HcwlelKvOm/wISz5fbI
> =H5G4
> -----END PGP SIGNATURE-----
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 


Hi,

I didn't say that I didn't think that the exception was not being caught, but rather that I'm not seeing any associated output in any of the Tomcat logs (or the console out), e.g., I don't see a log msg with "Returning null principal".

What else do I need to configure in logging.properties or otherwise to get the output logged?

Thanks,
Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 21:32:50 2012
Return-Path: <users-return-234345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BAE8CA4A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 21:32:50 +0000 (UTC)
Received: (qmail 78375 invoked by uid 500); 17 May 2012 21:32:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78308 invoked by uid 500); 17 May 2012 21:32:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78296 invoked by uid 99); 17 May 2012 21:32:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 21:32:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 21:32:41 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id B4hE1j0031swQuc5A9YM5V; Thu, 17 May 2012 21:32:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id B9YM1j00S38FjT13b9YMGe; Thu, 17 May 2012 21:32:21 +0000
Message-ID: <4FB56E63.2020105@christopherschultz.net>
Date: Thu, 17 May 2012 17:32:19 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to get debug output from JNDIRealm.java?
References: <20120517165926.QRKAA.932231.imail@eastrmwml302>
In-Reply-To: <20120517165926.QRKAA.932231.imail@eastrmwml302>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jim,

On 5/17/12 4:59 PM, ohaya@cox.net wrote:
> Christopher Schultz <chris@christopherschultz.net> wrote:
>> 
>> Why do you think that a NamingException is being caught?
> 
> I didn't say that I didn't think that the exception was not being 
> caught, but rather that I'm not seeing any associated output in
> any of the Tomcat logs (or the console out), e.g., I don't see a
> log msg with "Returning null principal".

The code snippet you pasted was the exception handler for when a
NamingException is caught. I would only expect to see those log
messages when such an exception is being handled.

> What else do I need to configure in logging.properties or
> otherwise to get the output logged?

I'm wondering if you are just expecting some log messages that aren't
actually being logged (e.g. wrong code path).

- -chris

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+1bmMACgkQ9CaO5/Lv0PDkDQCfVuqzoec3Z3xa5bPsg7fIO5GG
LyMAnRnEFNX2QbvzXHFj40WsVZUzlC7a
=ktTt
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 23:43:50 2012
Return-Path: <users-return-234346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3561AC53E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 23:43:50 +0000 (UTC)
Received: (qmail 45333 invoked by uid 500); 17 May 2012 23:43:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45278 invoked by uid 500); 17 May 2012 23:43:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45269 invoked by uid 99); 17 May 2012 23:43:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 23:43:46 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Vasanth.Sekar@supervalu.com designates 65.55.88.13 as permitted sender)
Received: from [65.55.88.13] (HELO tx2outboundpool.messaging.microsoft.com) (65.55.88.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 23:43:37 +0000
Received: from mail89-tx2-R.bigfish.com (10.9.14.239) by
 TX2EHSOBE004.bigfish.com (10.9.40.24) with Microsoft SMTP Server id
 14.1.225.23; Thu, 17 May 2012 23:43:07 +0000
Received: from mail89-tx2 (localhost [127.0.0.1])	by mail89-tx2-R.bigfish.com
 (Postfix) with ESMTP id 0EF3F260500	for <users@tomcat.apache.org>; Thu, 17
 May 2012 23:43:07 +0000 (UTC)
X-SpamScore: -27
X-BigFish: VPS-27(zzbb2dI9371I103dK148cI542M13fcM1432N98dK111aI62a3Izz1202hzz8275dhz2fh2a8h668h839h944hd25hf0ah)
X-Forefront-Antispam-Report: CIP:167.234.14.18;KIP:(null);UIP:(null);IPV:NLI;H:sboi2k3ex04.msg.albertsons.com;RD:mxb04.supervalu.com;EFVD:NLI
Received-SPF: pass (mail89-tx2: domain of supervalu.com designates 167.234.14.18 as permitted sender) client-ip=167.234.14.18; envelope-from=Vasanth.Sekar@supervalu.com; helo=sboi2k3ex04.msg.albertsons.com ;bertsons.com ;
Received: from mail89-tx2 (localhost.localdomain [127.0.0.1]) by mail89-tx2
 (MessageSwitch) id 1337298185579808_27628; Thu, 17 May 2012 23:43:05 +0000
 (UTC)
Received: from TX2EHSMHS042.bigfish.com (unknown [10.9.14.236])	by
 mail89-tx2.bigfish.com (Postfix) with ESMTP id 8A48AE00CF	for
 <users@tomcat.apache.org>; Thu, 17 May 2012 23:43:05 +0000 (UTC)
Received: from sboi2k3ex04.msg.albertsons.com (167.234.14.18) by
 TX2EHSMHS042.bigfish.com (10.9.99.142) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Thu, 17 May 2012 23:43:05 +0000
Received: from sdwpmss009.msg.albertsons.com ([10.44.4.57]) by
 sboi2k3ex04.msg.albertsons.com with Microsoft SMTPSVC(6.0.3790.4675);	 Thu,
 17 May 2012 17:40:56 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Date: Thu, 17 May 2012 17:43:11 -0600
Message-ID: <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
In-Reply-To: <4FB5434C.40705@apache.org>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Thread-Index: Ac00Wo/oXTdjhu94SByoBdojbbwDTQAKaYEQ
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org>
From: "Sekar, Vasanth" <Vasanth.Sekar@supervalu.com>
To: Tomcat Users List <users@tomcat.apache.org>
X-OriginalArrivalTime: 17 May 2012 23:40:56.0278 (UTC) FILETIME=[8146DF60:01CD3486]
X-OriginatorOrg: supervalu.com

Good evening Mark,
Thanks for confirming the first part of the request.

I did try your below suggestion already

associate(ssoId, request.getSession(true));

The method associate(String, Session) in the type authenticatorbase is
not applicable for the arguments (String, HttpSession). The method
associate is expecting an org.apache.catalina.Session return where as
the connector Request is returning HttpSession.

Thanks again for your response and please advise.

Thanks!
Vasanth

-----Original Message-----
From: Mark Thomas [mailto:markt@apache.org]=20
Sent: Thursday, May 17, 2012 12:28 PM
To: Tomcat Users List
Subject: Re: Tomcat 4.0 & Tomcat 6.0 AuthenticatorBase

On 17/05/2012 16:31, Sekar, Vasanth wrote:
> Hello-
> We have a custom form authenticator that runs on tomcat 4.0. Now, we
> have a need to migrate that into tomcat 6.0. There are compilation
> errors with the following.
>=20
> import org.apache.catalina.HttpRequest;
> import org.apache.catalina.HttpResponse;
>=20
> I looked at the tomcat 6.0 API and found that these classes are not
> there anymore. I believe these are replaced by=20
>=20
> import org.apache.catalina.connector.Request;
> import org.apache.catalina.connector.Response;

Correct.

> However, it still shows error on getSession and when I looked at the
> authenticatorbase API it is not present in 6.0
> associate(ssoId, getSession(request, true));
>=20
> Could someone shed some light on how to go about this?

associate(ssoId, request.getSession(true));

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 17 23:58:51 2012
Return-Path: <users-return-234347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0BE2C5EC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 17 May 2012 23:58:51 +0000 (UTC)
Received: (qmail 95457 invoked by uid 500); 17 May 2012 23:58:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95332 invoked by uid 500); 17 May 2012 23:58:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95283 invoked by uid 99); 17 May 2012 23:58:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 May 2012 23:58:48 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.139] (HELO nm9-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.139)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 May 2012 23:58:38 +0000
Received: from [98.138.90.54] by nm9.bullet.mail.ne1.yahoo.com with NNFMP; 17 May 2012 23:58:18 -0000
Received: from [98.138.89.167] by tm7.bullet.mail.ne1.yahoo.com with NNFMP; 17 May 2012 23:58:18 -0000
Received: from [127.0.0.1] by omp1023.mail.ne1.yahoo.com with NNFMP; 17 May 2012 23:58:17 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 991789.47649.bm@omp1023.mail.ne1.yahoo.com
Received: (qmail 7945 invoked by uid 60001); 17 May 2012 23:58:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337299097; bh=njqIkMBb5QxbKFV0vcyq2Cemhdq+BbhyRiZaLacP7/Q=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=r4JcoGRVEXnoekFmZr2j8VHZlhtd39XHIbgwvjapF7ZQgNB8V1kCWyxsD3a3FZQtEFkz/kowGIqFL8m2mLzHFD2Iv0sniWcnSSUcgGy9sjqx8D1nophHaj4NpC2wWUecZRHAJ8KAE3sGs9BKPDu2fNOrSHurPlXDEszXNJmz+Ww=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=pSryPrGFoVc9OKUpiD/YqhuviKwy9jPKiJQAg7mGQhAfT6Jwj8eGpGhhWtGnmjfgsKd+bXNaUcqGE2g1FlvAA5Zrf7OVNm5GUlILtmnfG/EMN9KmLrU82cNQV7ULD8mFJjGI/5HdkQr8lS5h5pxq3E5i8dTXe8SsoWnCDUqBIFw=;
X-YMail-OSG: FavDXUgVM1nUQXmdPgHXZqiIwgWLO32cwbF0dGf_TUp1VhH
 1xr2w2siQkXcF2k8NvrrsgzHtiQ.C8bVty6lb.lCIJ.ROYZ0h554aWVymaJq
 RQnWyxulDar8MK9SuRlnEqyxes6BQxOA_u.8gcl2FScFTNOH7B4lutZ8jxjR
 ALtodRQHIs7HX1xmjxbEuAJJoHOm.jy.1d3MEi614k43VAdNBhlP3Xt85AvV
 KDzulclTOY7hSVvR8yjODxh4IaRydH_RHMt22vQBJ6kmkHqpvUc5QbJprf90
 k.704gs4BywkBQZbCxOe0J1KKNRgL2N77gH.iTxHWVm36t0C1XRndzJ1uOKu
 jp2zRmNRC47WrL6jAlIQiP41DSd5qUITO.yG9qA1xjT7IWqHc1z7HAKlRt9f
 LE8uosN1tqBELPc7JOeQtbFo98wr7HFTOZklQRvlzqwmsF.k6NR7vtkAD5fz
 xOpmEFuBey9r09rA6Pk4dgGwym6X7o_Rr
Received: from [203.25.255.17] by web121001.mail.ne1.yahoo.com via HTTP; Thu, 17 May 2012 16:58:17 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
Message-ID: <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
Date: Thu, 17 May 2012 16:58:17 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="344044665-1782689547-1337299097=:6404"
X-Virus-Checked: Checked by ClamAV on apache.org

--344044665-1782689547-1337299097=:6404
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,=0A=0AI have set up our system to do SSO.=A0 The setup works fine becaus=
e whenever the user access the system, they are automatically logged in to =
the system.=0A=0AFollowing are the steps that I used to set up Isapi:=0A1. =
Manually created the folders "Apache Software Foundation\Jakarta Isapi Redi=
rector".=A0 Then inside those folders I created a sub folder bin, conf and =
log.=0A2. I manually created the registry entries.=A0 The set up works beca=
use the system functions as SSO.=0A=0AThe only thing is that my isapi_redir=
ect.log is always empty even though I set the log_level to debug. =0A=0AI t=
ried searching the internet but I'm not getting anywhere.=0A=0AI would appr=
eciate any thoughts and ideas that you can share so I can resolve my proble=
m.=A0 =0A=0AThanks and regards.=0A=0APeeves=0A
--344044665-1782689547-1337299097=:6404--

From users-return-234348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 07:19:16 2012
Return-Path: <users-return-234348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA99E9657
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 07:19:15 +0000 (UTC)
Received: (qmail 2503 invoked by uid 500); 18 May 2012 07:19:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2253 invoked by uid 500); 18 May 2012 07:19:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2183 invoked by uid 99); 18 May 2012 07:19:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 07:19:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 07:18:55 +0000
Received: from [192.168.245.129] (p549E8CAD.dip0.t-ipconnect.de [84.158.140.173])
	by tor.combios.es (Postfix) with ESMTPA id 74FD1DA0802
	for <users@tomcat.apache.org>; Fri, 18 May 2012 09:18:33 +0200 (CEST)
Message-ID: <4FB5F7C6.50500@ice-sa.com>
Date: Fri, 18 May 2012 09:18:30 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
In-Reply-To: <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

ann ramos wrote:
> Hi,
> 
> I have set up our system to do SSO.  The setup works fine because whenever the user access the system, they are automatically logged in to the system.
> 
> Following are the steps that I used to set up Isapi:
> 1. Manually created the folders "Apache Software Foundation\Jakarta Isapi Redirector".  Then inside those folders I created a sub folder bin, conf and log.
> 2. I manually created the registry entries.  The set up works because the system functions as SSO.
> 
> The only thing is that my isapi_redirect.log is always empty even though I set the log_level to debug. 
> 
> I tried searching the internet but I'm not getting anywhere.
> 
> I would appreciate any thoughts and ideas that you can share so I can resolve my problem.  
> 

Apart from your mention of Tomcat in the subject, it is not very clear so far if anything 
you're doing is accessing Tomcat through isapi_redirector (or even Tomcat at all).
Can you be a bit more explicit about what you are doing ?
And where the SSO part come into the picture here ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 16:15:00 2012
Return-Path: <users-return-234349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5C7699DB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 16:15:00 +0000 (UTC)
Received: (qmail 30879 invoked by uid 500); 18 May 2012 16:14:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30734 invoked by uid 500); 18 May 2012 16:14:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30722 invoked by uid 99); 18 May 2012 16:14:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:14:56 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,HTML_OBFUSCATE_05_10,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vance0725@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:14:48 +0000
Received: by obbwd20 with SMTP id wd20so5848556obb.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 09:14:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ktxidV3pX492GuMjJ6C/4lgUJmcE6zKzNZgN1SWf5Hg=;
        b=Ew5Rd+dkjZI+s20SZ4eCr05hfe8ahdHrtxJmEVhXkVhEpphv353WFO4uhVYp9fh3NW
         3giU0KDSab1a6k0V92JTE0RWeDxuabt0jrh1inRELantG3MpiBSc622bEKph0mH41Ocx
         VfTdBwAnN9Nlt9l5mct2CZDJ/0mt/GrCqxgqHvdc5ZNI0jEFqok4T74O3c1jjhet1NJC
         qvXu+omQ6jbiM4eqVZ04B47p0J2339nxqVPp5MajmDmlIbeMMd1p9UBIIW3a1TS43q6S
         G8CMVEfloabAnCSOSEw1uHlfd0ZQoesTxTYZw0ma7V2sVD28W6iI087cWE8NHAHNlhVL
         g4GA==
MIME-Version: 1.0
Received: by 10.182.172.100 with SMTP id bb4mr10774426obc.22.1337357667956;
 Fri, 18 May 2012 09:14:27 -0700 (PDT)
Received: by 10.182.37.135 with HTTP; Fri, 18 May 2012 09:14:27 -0700 (PDT)
Date: Fri, 18 May 2012 12:14:27 -0400
Message-ID: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
Subject: Threads in Tomcat
From: Vance - <vance0725@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8f83a1ddbc78d204c051d8b1

--e89a8f83a1ddbc78d204c051d8b1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I'm maintaining a Web application for searching multiple wikis, this app
runs under Tomcat 6. I need to modify a servlet so it instantiates a
'Thread' subclass to perform a wiki availability check every so often, say
every 30 minutes. Given that I'm no expert on the use of threads, a
co-worker suggested the following questions to look into:

=B7         Does the spawned thread have a time limit imposed by Tomcat?

=B7         Does it take up worker thread space from other Tomcat threads?


I'd appreciate any help anyone could give w.r.t. these questions.

--e89a8f83a1ddbc78d204c051d8b1--

From users-return-234350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 16:20:53 2012
Return-Path: <users-return-234350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E2AAD9A12
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 16:20:52 +0000 (UTC)
Received: (qmail 54597 invoked by uid 500); 18 May 2012 16:20:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54405 invoked by uid 500); 18 May 2012 16:20:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54395 invoked by uid 99); 18 May 2012 16:20:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:20:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:20:43 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id BRwt1j0051ei1Bg5FULMnF; Fri, 18 May 2012 16:20:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.250.217.236])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id BULL1j02g56cnsd3kULM8p; Fri, 18 May 2012 16:20:21 +0000
Message-ID: <4FB676C6.30400@christopherschultz.net>
Date: Fri, 18 May 2012 12:20:22 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Threads in Tomcat
References: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
In-Reply-To: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vance,

On 5/18/12 12:14 PM, Vance - wrote:
> I'm maintaining a Web application for searching multiple wikis,
> this app runs under Tomcat 6. I need to modify a servlet so it
> instantiates a 'Thread' subclass to perform a wiki availability
> check every so often, say every 30 minutes.

Suggestion: use a ServletContextListener, not a Servlet. Remember to
terminate the thread in the destroy() method. Note that terminating a
thread basically requires that you be able to communicate with the
thread to tell it to shut down (i.e. don't call Thread.stop()): you
need to have a Runnable that can be interrupted (using interrupt())
and also knows that the interrupt needs to be terminal... so set a
"shutdown" flag or something like that.

> Given that I'm no expert on the use of threads, a co-worker
> suggested the following questions to look into:
> 
>          Does the spawned thread have a time limit imposed by
> Tomcat?

No.

>          Does it take up worker thread space from other Tomcat
> threads?

No.

Your thread will take up RAM and CPU time of course. Also, processes
have thread limits and your thread will count against that.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+2dsYACgkQ9CaO5/Lv0PBT8ACgnUwG5KjDzTf9SYHtEM9iaYxJ
dy8An1vGhmAjMhzgpvfXGVNMkDlQTPzA
=nH91
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 16:29:32 2012
Return-Path: <users-return-234351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB179C3C6
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 16:29:31 +0000 (UTC)
Received: (qmail 84127 invoked by uid 500); 18 May 2012 16:29:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83948 invoked by uid 500); 18 May 2012 16:29:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83934 invoked by uid 99); 18 May 2012 16:29:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:29:28 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vance0725@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 16:29:22 +0000
Received: by obbwd20 with SMTP id wd20so5868190obb.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 09:29:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=F0mMV6Gp71BvSeVxNOhp68ZO7JO1t3dxsHH98N5Oi6s=;
        b=suZO97mEhHroiyE4ARsYGTepyKre65j3i9bZzgph6gqgsXK+mhNSuoyogC8JG5NILd
         YUnMqB72YuVKAYVCwlAFFgglZeqsbdJtQk6XfRH2bxvXbeBfnAY1nZrdfQ3wEx6VZ8Aa
         H413CdjD3xI3+/ht/6/apD9G62ki+7eutBmuSRvvhJ4l989rUvv695NEVR+U5K147bAq
         nwsgcw6+0AZHT5W8vR5YubX55xB4GEIbUAUu3brl0+Gh+HGMghUtjeMAQST8uSgcNbto
         VwUQ8inZW5/6v9MStBR6l8C3em0Zkyto7AsM2fIt8I97tKTcEO8C9HX18mCeb/BcIV6K
         AErw==
MIME-Version: 1.0
Received: by 10.182.162.37 with SMTP id xx5mr2255924obb.31.1337358540362; Fri,
 18 May 2012 09:29:00 -0700 (PDT)
Received: by 10.182.37.135 with HTTP; Fri, 18 May 2012 09:29:00 -0700 (PDT)
In-Reply-To: <4FB676C6.30400@christopherschultz.net>
References: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
	<4FB676C6.30400@christopherschultz.net>
Date: Fri, 18 May 2012 12:29:00 -0400
Message-ID: <CAOwg8XZcQ5t5wztbpNRRcwL0fiTuTfDvUJriq0Bc+2yep+1dVg@mail.gmail.com>
Subject: Re: Threads in Tomcat
From: Vance - <vance0725@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f83a455bc544304c0520c86

--e89a8f83a455bc544304c0520c86
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Chris, thanks for responding.

The servlet I have in mind for modification is the one responsible for
performing the search as well as for getting the next page of search
results. If one or more of the wikis is unavailable, I want to display an
error message on the search results page.

The wiki availability check won't be done all the time, as I mentioned
before, just every so often, say, every 30 minutes.

Why would using a ServletContextListener be better than using a servlet?


On Fri, May 18, 2012 at 12:20 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Vance,
>
> On 5/18/12 12:14 PM, Vance - wrote:
> > I'm maintaining a Web application for searching multiple wikis,
> > this app runs under Tomcat 6. I need to modify a servlet so it
> > instantiates a 'Thread' subclass to perform a wiki availability
> > check every so often, say every 30 minutes.
>
> Suggestion: use a ServletContextListener, not a Servlet. Remember to
> terminate the thread in the destroy() method. Note that terminating a
> thread basically requires that you be able to communicate with the
> thread to tell it to shut down (i.e. don't call Thread.stop()): you
> need to have a Runnable that can be interrupted (using interrupt())
> and also knows that the interrupt needs to be terminal... so set a
> "shutdown" flag or something like that.
>
> > Given that I'm no expert on the use of threads, a co-worker
> > suggested the following questions to look into:
> >
> > =B7         Does the spawned thread have a time limit imposed by
> > Tomcat?
>
> No.
>
> > =B7         Does it take up worker thread space from other Tomcat
> > threads?
>
> No.
>
> Your thread will take up RAM and CPU time of course. Also, processes
> have thread limits and your thread will count against that.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk+2dsYACgkQ9CaO5/Lv0PBT8ACgnUwG5KjDzTf9SYHtEM9iaYxJ
> dy8An1vGhmAjMhzgpvfXGVNMkDlQTPzA
> =3DnH91
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f83a455bc544304c0520c86--

From users-return-234352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 19:38:09 2012
Return-Path: <users-return-234352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E4EA59EDC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 19:38:08 +0000 (UTC)
Received: (qmail 52384 invoked by uid 500); 18 May 2012 19:38:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52341 invoked by uid 500); 18 May 2012 19:38:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52332 invoked by uid 99); 18 May 2012 19:38:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 19:38:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of teominator@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 19:37:57 +0000
Received: by obbwd20 with SMTP id wd20so6098585obb.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 12:37:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=mdCFHphMGUtgblP/feFRjMRewO2vzK+bDrt7avao00I=;
        b=ZMi4EtNmEUCDeZr6bdVbvFxCPR2vYL2T1/fxpLgbDMXZOh0vVRLOmc24vJmIlsuZGq
         Q00g+6F2toEbCMyiPy/EOgjCkSrvVIuowWDeMlkKMQwHAoupK/KNROjW+qSdQplmb7tJ
         TedWi68m5K92E+WrE0koaqeiXosR3KaoCblIbvMDNOAJFQ+jKEEt2J/RkNRX/rR81Anc
         7RTCesl9n55elGHamsUxIc9VIPDy7y6kGCZeDyetRwOWOAlKwraj6QwqzLkErt18GljK
         noAYBRWGXW+roj8u3521i+ih1vltTKr6/RsWbMa3l01LtStqRhYlK5O8YTxL4yOvqdDY
         qEug==
Received: by 10.60.2.138 with SMTP id 10mr6201485oeu.58.1337369856700; Fri, 18
 May 2012 12:37:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.182.179.4 with HTTP; Fri, 18 May 2012 12:37:16 -0700 (PDT)
From: Teo <teominator@gmail.com>
Date: Fri, 18 May 2012 22:37:16 +0300
Message-ID: <CAM_s6kz8khch7ghqcr0ZuDPfY6hP5TJB-DLoVxHzHOdWRXN1Sw@mail.gmail.com>
Subject: I have /subapp/a and /subapp/b. Can i have different sessions for them?
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8f83ac253df22604c054af51

--e89a8f83ac253df22604c054af51
Content-Type: text/plain; charset=ISO-8859-1

Hi,

first time posting on a mailing list, hope i'm not breaking any rules of
some sort. My problem is pretty simple but it seems a lot of people have
trouble understanding it in other forums. Let's say i have 2 main entry
points into my application: /subapp/a and /subapp/b. They are part of the
same webapp but they are somehow different and i want to distinguish
between them. Having a separate session for each of them would be the
greatest thing but is this possible for Tomcat? The path of the session
cookie (JSESSIONID) is automatically put at the root context path (so
/subapp in this example). And i don't want to have multiple wars or
multiple Tomcats... I would like this in Tomcat 7 btw... I'm trying to
avoid changing Tomcat itself so i tried to extend/wrap the usual response
classes/interfaces but no luck because Tomcat writes the Set-Cookie header
directly into the coyote response header...

Any help would be appreciated, been wrestling with this for some days...

Thanks,
Teo

--e89a8f83ac253df22604c054af51--

From users-return-234353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 19:54:15 2012
Return-Path: <users-return-234353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8038D9F77
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 19:54:15 +0000 (UTC)
Received: (qmail 96071 invoked by uid 500); 18 May 2012 19:54:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95956 invoked by uid 500); 18 May 2012 19:54:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95890 invoked by uid 99); 18 May 2012 19:54:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 19:54:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.65] (HELO elasmtp-kukur.atl.sa.earthlink.net) (209.86.89.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 19:54:01 +0000
Received: from [66.32.238.77] (helo=[192.168.2.50])
	by elasmtp-kukur.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SVTF6-0008L1-DD
	for users@tomcat.apache.org; Fri, 18 May 2012 15:53:40 -0400
Subject: Re: Threads in Tomcat
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
References:
	 <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-vaoQU4TPUazYNMkyeN70"
Organization: Clifton Farm
Date: Fri, 18 May 2012 15:54:16 -0400
Message-ID: <1337370856.19846.20.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d47867684732b58b53f7e6c83b95358b2048598c756f3fe77b04350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.238.77

--=-vaoQU4TPUazYNMkyeN70
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Fri, 2012-05-18 at 12:14 -0400, Vance - wrote:
> I'm maintaining a Web application for searching multiple wikis, this app
> runs under Tomcat 6. I need to modify a servlet so it instantiates a
> 'Thread' subclass to perform a wiki availability check every so often, sa=
y
> every 30 minutes. Given that I'm no expert on the use of threads, a
> co-worker suggested the following questions to look into:
>=20
Might want to study the classes & interfaces in java.util.concurrent
instead of using a raw Thread.  Concurrency often ends up being trickier
than it first appears and the classes & interfaces in this package were
designed to handle a lot of these subtle details for you.  The Executors
class in particular has some pre-built common configurations ready to
instantiate.

> =C2=B7         Does the spawned thread have a time limit imposed by Tomca=
t?
>=20
> =C2=B7         Does it take up worker thread space from other Tomcat thre=
ads?
>=20
I believe the simple answer to these is No.  Which is to say I don't
believe Tomcat per se enforces such limits.  However, it may be possible
that an active SecurityManager could impose them.  Would be unusual
though -- especially the 1st question.

>=20
> I'd appreciate any help anyone could give w.r.t. these questions.


--=-vaoQU4TPUazYNMkyeN70
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJPtqjnAAoJEAfDBXDHBQilFy4IAL3kVx6Ku6M8hdvQ7MmvjKVi
FXqWaTGeWqpDsrZAUDutS45AhoEiYLYdNHYyv6WrQTaMshjSnnwxxWJAm6fs5nUt
dedZAZYs4PocGYPeBm17+1rgMRGNRcC5QxcqI20PBQ7UBFgeXygMnUfwtB1I/qAP
nsFFdxhcU6EULHlRuhXmLlrusfhSXG1xc4Rf/r1d7Ni4HGzY7MAXJIupJIKcwl3i
ftoTYX7Cdd1uDN5xg+du15J3k14OmPnmtDkDHLcLLwnbTCgEOd2OseKhFyp/QVQS
6gEKnQnlOfmBzQ0DXBQw+4iWUorfFVNJOxliECx11+GnMn1NuYBqyJQA74iiOac=
=VeZa
-----END PGP SIGNATURE-----

--=-vaoQU4TPUazYNMkyeN70--


From users-return-234354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 20:54:12 2012
Return-Path: <users-return-234354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9C51CCCC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 20:54:12 +0000 (UTC)
Received: (qmail 55613 invoked by uid 500); 18 May 2012 20:54:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55570 invoked by uid 500); 18 May 2012 20:54:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55561 invoked by uid 99); 18 May 2012 20:54:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 20:54:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ermal.aliraj@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 20:54:03 +0000
Received: by yhoo21 with SMTP id o21so4332778yho.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 13:53:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ZLRnApDLEo0W67MF4Lu+ZhF8qCzU7HGhu9so6YDDIWk=;
        b=RNQacLUYoHH8O/Mec9Z/xAb/tgAiAE9g8EN5a0K/lenZDASxgJT4z/5ZQ5RXDXik2n
         tlR9m0AHHJ789c0Xp00E7neD8YHTBdHoM6h9oU1OgX25ZIUgjnpW7KynT8uszKcgZ0Al
         +pI8NHyCvCQF81rmzKzKmhyE3O1yo2QKQ+uQ6BO9BL4rWkZkn0fiDtS/AnCXqdi20PkM
         wmRqiiOUNDt+pKdC/D5mEU7GxycoIL24zXmTe1fFBs6z0GyrRBKEdGZ5duF8n52viGdz
         wSOQZM7WNjSeOaQY/MbNl1wj6JYfiNuFHNKxHR1G36sc7kLog+R4E4Xrp8Cw8xI9aq5a
         5UYw==
MIME-Version: 1.0
Received: by 10.50.140.4 with SMTP id rc4mr1822273igb.68.1337374422265; Fri,
 18 May 2012 13:53:42 -0700 (PDT)
Received: by 10.64.54.202 with HTTP; Fri, 18 May 2012 13:53:42 -0700 (PDT)
Date: Fri, 18 May 2012 22:53:42 +0200
Message-ID: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
Subject: WebApp on Tomcat recognize automaticely uploaded file
From: Ermal Aliraj <ermal.aliraj@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f83a1295ef05c04c055bfc8
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f83a1295ef05c04c055bfc8
Content-Type: text/plain; charset=ISO-8859-1

Hello,

can anyone help me, if  there is a configuration parameter in tomcat, which
permit to the web application to auto-recognize when I put an image from
filesystem into the webapp?

I put images in the path of my application: appBase/webAppA/uploads through
another webAppB, but seems that webAppA recognizes the images only after
Tomcat restart.
Working until now with tomcat integrated into eclipse, I didn't noticed
this event because eclipse was publishing automatically after each upload.

Thank you to anyone for any kind of help.

Ermal

--e89a8f83a1295ef05c04c055bfc8--

From users-return-234355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 21:13:26 2012
Return-Path: <users-return-234355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D002CD38
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 21:13:26 +0000 (UTC)
Received: (qmail 12910 invoked by uid 500); 18 May 2012 21:13:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12821 invoked by uid 500); 18 May 2012 21:13:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12799 invoked by uid 99); 18 May 2012 21:13:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:13:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:13:13 +0000
Received: from [192.168.245.129] (p549E0A6B.dip0.t-ipconnect.de [84.158.10.107])
	by tor.combios.es (Postfix) with ESMTPA id 6FA56DA089E
	for <users@tomcat.apache.org>; Fri, 18 May 2012 23:12:51 +0200 (CEST)
Message-ID: <4FB6BB4C.7000503@ice-sa.com>
Date: Fri, 18 May 2012 23:12:44 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: WebApp on Tomcat recognize automaticely uploaded file
References: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
In-Reply-To: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Ermal Aliraj wrote:
> Hello,
> 
> can anyone help me, if  there is a configuration parameter in tomcat, which
> permit to the web application to auto-recognize when I put an image from
> filesystem into the webapp?
> 
> I put images in the path of my application: appBase/webAppA/uploads through
> another webAppB, but seems that webAppA recognizes the images only after
> Tomcat restart.
Hi.

Can you explain exactly what you mean by
"webAppA recognizes the images" ?

What are you doing that makes you think that these images are "not being recognised" ?
Are you trying to access them from a browser via a URL ?
Explain in detail please, step by step.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 21:25:17 2012
Return-Path: <users-return-234356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8457395AC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 21:25:17 +0000 (UTC)
Received: (qmail 46131 invoked by uid 500); 18 May 2012 21:25:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46052 invoked by uid 500); 18 May 2012 21:25:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46043 invoked by uid 99); 18 May 2012 21:25:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:25:14 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vance0725@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:25:07 +0000
Received: by obbwd20 with SMTP id wd20so6224494obb.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 14:24:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tNm5RiIbWStQR6KD6gdA7zN6qBGifMRbcfmyDj+sqN8=;
        b=Jl/AphbE5nq8wEHUEhoh+JatM/9Me87dAapzwg2w3yhMurFjwamxnDJTemvCfAoP4e
         pDIqhXAJBAbLkjeR7UsvQR5Y8Ri5nItZDqcR3H4F1PPynJSMRsUmoyUMAP1lY56bIIe9
         rlMcXLs+9Mfq+zN1z0+BXQ2KwocDRAznIg+TXVyLDwaXufVXGUbvydEU49awc5xxJpkw
         SY43iLoKJT1bFO2SqQ0bL5l4bCFScngHX0/ys/Ok7dtaAKChZ9du29nKoeUhgQMsAzdK
         OQjdewBBwUxB0d4NbwTqmfZbvX3nzmZlkJYXXj8q5tgqvP2YDSOcxoSyBDh5Uzio6YJt
         VsEw==
MIME-Version: 1.0
Received: by 10.182.131.7 with SMTP id oi7mr11784409obb.74.1337376286382; Fri,
 18 May 2012 14:24:46 -0700 (PDT)
Received: by 10.182.37.135 with HTTP; Fri, 18 May 2012 14:24:46 -0700 (PDT)
In-Reply-To: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
References: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
Date: Fri, 18 May 2012 17:24:46 -0400
Message-ID: <CAOwg8Xb-_n8jBiS13GJNHT7YZERABtYquHctbZ22iokyv-i4SQ@mail.gmail.com>
Subject: Re: WebApp on Tomcat recognize automaticely uploaded file
From: Vance - <vance0725@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f50398c7b1c3c04c0562ee3

--e89a8f50398c7b1c3c04c0562ee3
Content-Type: text/plain; charset=ISO-8859-1

I've found this article helpful in the past:

http://whatwouldnickdo.com/wordpress/157/tomcat-images-directory/


On Fri, May 18, 2012 at 4:53 PM, Ermal Aliraj <ermal.aliraj@gmail.com>wrote:

> Hello,
>
> can anyone help me, if  there is a configuration parameter in tomcat, which
> permit to the web application to auto-recognize when I put an image from
> filesystem into the webapp?
>
> I put images in the path of my application: appBase/webAppA/uploads through
> another webAppB, but seems that webAppA recognizes the images only after
> Tomcat restart.
> Working until now with tomcat integrated into eclipse, I didn't noticed
> this event because eclipse was publishing automatically after each upload.
>
> Thank you to anyone for any kind of help.
>
> Ermal
>

--e89a8f50398c7b1c3c04c0562ee3--

From users-return-234357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 21:43:38 2012
Return-Path: <users-return-234357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2913D9C43
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 21:43:38 +0000 (UTC)
Received: (qmail 91947 invoked by uid 500); 18 May 2012 21:43:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91817 invoked by uid 500); 18 May 2012 21:43:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91607 invoked by uid 99); 18 May 2012 21:43:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:43:34 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ermal.aliraj@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 21:43:27 +0000
Received: by ggnp1 with SMTP id p1so4359996ggn.18
        for <users@tomcat.apache.org>; Fri, 18 May 2012 14:43:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=V69L40VRuzL6r7NQkjLrEptHJCWL4uUQMOFHmL7VSOI=;
        b=HsUFK3mQjnGNTddTFJXK20XUUCaFXW4v5zdH+o5L9z6Uxn4mwjveGaM06cbkYSYbq2
         rE72Y1m7JuXKHMkh/2RufZAdK69n6OxKgULdHu/yo8BhLcBqz8npvUEXrlHad1Hpej2A
         4ug42xgjLwbIpgEnhimdaRJFqpk/S6eOAGwPwTzvnpEtfq5Og4L4tM3uKVc9luZrZvtv
         a07ywAVMxM3wnrl6L5TH7Y6KpCLZ/7QJEHzb7DieZI1Vu7qVrwkFJeRIkCclBfzEIvs5
         dkm/6F62PkbCuNdxsbim2pCTTyXaB41H0KcQPmA8g/1UZuaGWUqsym6oS1LCLGFJMYVK
         p7rg==
MIME-Version: 1.0
Received: by 10.50.217.193 with SMTP id pa1mr1922424igc.39.1337377386215; Fri,
 18 May 2012 14:43:06 -0700 (PDT)
Received: by 10.64.54.202 with HTTP; Fri, 18 May 2012 14:43:06 -0700 (PDT)
In-Reply-To: <4FB6BB4C.7000503@ice-sa.com>
References: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>
	<4FB6BB4C.7000503@ice-sa.com>
Date: Fri, 18 May 2012 23:43:06 +0200
Message-ID: <CAGt_AmaaVOF0o+Hg2nVMD6m0JRQEzO59Ayiw3BedS=uXsfpT7A@mail.gmail.com>
Subject: Re: WebApp on Tomcat recognize automaticely uploaded file
From: Ermal Aliraj <ermal.aliraj@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934053d09387004c05670c5

--14dae934053d09387004c05670c5
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Yes, I say webAppA do not recognize the images because do not serve them
through the browser via URL.

I did the following scneario and writing down in case can make the
situation more clear
uploaded manualy the following files on:

webAppA/uploads/1.jpg
webAppB/uploads/1.jpg

requesting the files through URL i have the following:

www.localhost/webAppA/uploads/1.jpg     --- no reply
www.localhost/webAppB/uploads/1.jpg     -- photo visualized

Do you have any idea what might cause appA not to "recognize" the images?

Thank you very much for your help

Ermal


2012/5/18 Andr=E9 Warnier <aw@ice-sa.com>

> Ermal Aliraj wrote:
>
>> Hello,
>>
>> can anyone help me, if  there is a configuration parameter in tomcat,
>> which
>> permit to the web application to auto-recognize when I put an image from
>> filesystem into the webapp?
>>
>> I put images in the path of my application: appBase/webAppA/uploads
>> through
>> another webAppB, but seems that webAppA recognizes the images only after
>> Tomcat restart.
>>
> Hi.
>
> Can you explain exactly what you mean by
> "webAppA recognizes the images" ?
>
What are you doing that makes you think that these images are "not being
> recognised" ?
> Are you trying to access them from a browser via a URL ?
> Explain in detail please, step by step.
>

>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae934053d09387004c05670c5--

From users-return-234358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 18 22:32:15 2012
Return-Path: <users-return-234358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B23389D34
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 18 May 2012 22:32:15 +0000 (UTC)
Received: (qmail 15534 invoked by uid 500); 18 May 2012 22:32:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15464 invoked by uid 500); 18 May 2012 22:32:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15455 invoked by uid 99); 18 May 2012 22:32:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 22:32:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 May 2012 22:32:03 +0000
Received: from [192.168.245.129] (p549E0A6B.dip0.t-ipconnect.de [84.158.10.107])
	by tor.combios.es (Postfix) with ESMTPA id EC6B1DA0885
	for <users@tomcat.apache.org>; Sat, 19 May 2012 00:31:40 +0200 (CEST)
Message-ID: <4FB6CDC9.1060802@ice-sa.com>
Date: Sat, 19 May 2012 00:31:37 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: WebApp on Tomcat recognize automaticely uploaded file
References: <CAGt_AmbMqQCUVc7LurKuLJbGwR5ah8D_R0fXAg1OA4Y8yHP-bQ@mail.gmail.com>	<4FB6BB4C.7000503@ice-sa.com> <CAGt_AmaaVOF0o+Hg2nVMD6m0JRQEzO59Ayiw3BedS=uXsfpT7A@mail.gmail.com>
In-Reply-To: <CAGt_AmaaVOF0o+Hg2nVMD6m0JRQEzO59Ayiw3BedS=uXsfpT7A@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Ermal Aliraj wrote:
> Yes, I say webAppA do not recognize the images because do not serve them
> through the browser via URL.
> 
> I did the following scneario and writing down in case can make the
> situation more clear
> uploaded manualy the following files on:
> 
> webAppA/uploads/1.jpg
> webAppB/uploads/1.jpg
> 
> requesting the files through URL i have the following:
> 
> www.localhost/webAppA/uploads/1.jpg     --- no reply

"no reply" cannot be.  What /exactly/ happens when you enter that URL ?

Have you verified that the user under which tomcat runs has permissions to read what is in 
"webAppA" ?


> www.localhost/webAppB/uploads/1.jpg     -- photo visualized
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 19 00:04:51 2012
Return-Path: <users-return-234359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A327B9F77
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 19 May 2012 00:04:51 +0000 (UTC)
Received: (qmail 26633 invoked by uid 500); 19 May 2012 00:04:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26469 invoked by uid 500); 19 May 2012 00:04:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26460 invoked by uid 99); 19 May 2012 00:04:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 00:04:47 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,RCVD_IN_DNSWL_NONE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.25.134.17] (HELO mailout02.t-online.de) (194.25.134.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 00:04:41 +0000
Received: from fwd12.aul.t-online.de (fwd12.aul.t-online.de )
	by mailout02.t-online.de with smtp 
	id 1SVX9h-0007pQ-2a; Sat, 19 May 2012 02:04:21 +0200
Received: from Preissa (TDK0AUZBZhrNAd0U4AHLWX6Kxq2FoZGhoI2GCwn9LqRy2jKv5tTiF4QwHBUMHR-ZBX@[217.95.47.10]) by fwd12.t-online.de
	with esmtp id 1SVX9e-1OTse00; Sat, 19 May 2012 02:04:18 +0200
From: =?utf-8?Q?Konstantin_Prei=C3=9Fer?= <verlag.preisser@t-online.de>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
Subject: Tomcat SPDY Connector
Date: Sat, 19 May 2012 02:04:14 +0200
Message-ID: <000001cd3552$ed678fb0$c836af10$@preisser@t-online.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: Ac01Uu0iVtv7K91TRwKmzwMKRZV8Ww==
Content-Language: de
X-ID: TDK0AUZBZhrNAd0U4AHLWX6Kxq2FoZGhoI2GCwn9LqRy2jKv5tTiF4QwHBUMHR-ZBX
X-TOI-MSGID: 6ed854d1-165d-471f-badc-41de4dd7e83a

Hi!

I'm currently experimenting with developing a .Net SPDY Client / IIS =
SPDY Redirector (written in C#) that could be used as a possible =
replacement over AJP, to forward HTTP requests from IIS to Tomcat (some =
time ago I mentioned that I might look into writing such a client when I =
had some spare time [1] - which is the case now ;) ).
It is based on Draft3 of the SPDY specification [2], which names the =
protocol "spdy/3".

Currently I'm testing the client with Google servers which support both =
"spdy/2" and "spdy/3". I'd also like to test it with Tomcat. I don't =
know much about Tomcat's code/architecture, but from looking at the SPDY =
code from Tomcat trunk [3], it seems that Tomcat is currently only =
supporting spdy/2, but not spdy/3. Is this correct?

If yes, are there already plans to implement spdy/3? (The main =
difference between SPDY v2 and v3 is the addition of flow control, which =
I think is important when using SPDY as server-to-server protocol, to =
prevent flooding the intermediate server with messages if it has a slow =
connection to the actual client.)

Thanks!

Regards,
Konstantin Prei=C3=9Fer


[1] http://markmail.org/message/jvaztqpl7vba7jn7
[2] http://dev.chromium.org/spdy/spdy-protocol/spdy-protocol-draft3
[3] =
http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/spdy


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 19 07:17:41 2012
Return-Path: <users-return-234360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2A2190F5
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 19 May 2012 07:17:41 +0000 (UTC)
Received: (qmail 77096 invoked by uid 500); 19 May 2012 07:17:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76584 invoked by uid 500); 19 May 2012 07:17:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76518 invoked by uid 99); 19 May 2012 07:17:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 07:17:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 07:17:23 +0000
Received: by pbbro12 with SMTP id ro12so5880874pbb.18
        for <users@tomcat.apache.org>; Sat, 19 May 2012 00:17:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=UjztvgmceHeELwYERpTXRgliaGwP478zMxXB4Bc4hQs=;
        b=WFERwle3xuu6m/M4aaOdx4rPwEcBIAJ3KNP3OOya5ZpkQOtsNCkPFlBvjdjocjbZqU
         pcpwIMW3eZFurpJBlBpogMWWP9MfRN8Z61oWC6T2EwsjwKo09q7E4SWD6I6RtLyGzKge
         OBzTIZN88wfs1XDrOI8q4/ILk1SlNy42nyztU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=UjztvgmceHeELwYERpTXRgliaGwP478zMxXB4Bc4hQs=;
        b=BbLIW71+XJerWOOGF0ewJsct2wLHfZ+C1URXC1p8gdgCCM8YomLaiJTrzac6Dv+wiE
         wiIMQ2S+w/vE5rERtn/+PjLc1LsfkomTT7nzNMpvJFS/aeeijd+sISUDbA8uqlwcl+7z
         ICmOIfQUhVkn1zWPyX88xSzut9AMIYw+R6sAKcoL7AIEz2ReWNneansDrzi+xz6mX5Jj
         S8E2Qq/UqsLC4anjHjh/kJd9szDvAC3LPKeR3Dhtwg79igVg821bpCkfexyldSA82tMW
         2XEO1Aff8hoEnhu8OvXqLFjdAdu4mcSyl1a/wxQfzVBQwZsWlM+gjlo7to37l5YsEUQ2
         Qp/Q==
Received: by 10.68.138.161 with SMTP id qr1mr18224933pbb.37.1337411821721;
 Sat, 19 May 2012 00:17:01 -0700 (PDT)
References: <CAM_s6kz8khch7ghqcr0ZuDPfY6hP5TJB-DLoVxHzHOdWRXN1Sw@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CAM_s6kz8khch7ghqcr0ZuDPfY6hP5TJB-DLoVxHzHOdWRXN1Sw@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Sat, 19 May 2012 08:16:23 +0100
Message-ID: <8527754308071852679@unknownmsgid>
Subject: Re: I have /subapp/a and /subapp/b. Can i have different sessions for them?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQlcOIXGqQLAtnGXH9UTAdw05pOPCkR6RD+sJC4k0U/PHdujOq5FqAjd//dWr7/dq0ahBAk1

On 18 May 2012, at 20:38, Teo <teominator@gmail.com> wrote:

> Hi,
>
> first time posting on a mailing list, hope i'm not breaking any rules of
> some sort. My problem is pretty simple but it seems a lot of people have
> trouble understanding it in other forums.

Okay...


> Let's say i have 2 main entry
> points into my application: /subapp/a and /subapp/b.

Ok

> They are part of the
> same webapp but they are somehow different and i want to distinguish
> between them.

Ok


> Having a separate session for each of them would be the
> greatest thing but is this possible for Tomcat?

Yes, if they are separate applications.
This is a Servlet Spec requirement.


> The path of the session
> cookie (JSESSIONID) is automatically put at the root context path (so
> /subapp in this example).

The word root has a special meaning, be precise please. It usually
means ROOT - the default application whose path is '/'.
I don't think that's what you intend.


> And i don't want to have multiple wars or
> multiple Tomcats...

Why not?  Work with the technology instead of against it.

If you name your app:

 myapp#subappA.war

The context & cookie path will be

 /myapp/subappA

Problem solved.


p


> I would like this in Tomcat 7 btw... I'm trying to
> avoid changing Tomcat itself so i tried to extend/wrap the usual response
> classes/interfaces but no luck because Tomcat writes the Set-Cookie header
> directly into the coyote response header...
>
> Any help would be appreciated, been wrestling with this for some days...
>
> Thanks,
> Teo

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 19 19:20:45 2012
Return-Path: <users-return-234361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02D37C5AB
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 19 May 2012 19:20:45 +0000 (UTC)
Received: (qmail 28678 invoked by uid 500); 19 May 2012 19:20:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28611 invoked by uid 500); 19 May 2012 19:20:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28599 invoked by uid 99); 19 May 2012 19:20:40 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 19:20:40 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 May 2012 19:20:39 +0000
Message-ID: <4FB7F283.1020106@apache.org>
Date: Sat, 19 May 2012 20:20:35 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
In-Reply-To: <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 18/05/2012 00:43, Sekar, Vasanth wrote:
> Good evening Mark,
> Thanks for confirming the first part of the request.
> 
> I did try your below suggestion already
> 
> associate(ssoId, request.getSession(true));
> 
> The method associate(String, Session) in the type authenticatorbase is
> not applicable for the arguments (String, HttpSession). The method
> associate is expecting an org.apache.catalina.Session return where as
> the connector Request is returning HttpSession.
> 
> Thanks again for your response and please advise.

Sorry. Looked too fast.

associate(ssoId, request.getSessionInternal(true));

I'm struggling to understand why you were unable to figure this out for
yourself.

Mark


> 
> Thanks!
> Vasanth
> 
> -----Original Message-----
> From: Mark Thomas [mailto:markt@apache.org] 
> Sent: Thursday, May 17, 2012 12:28 PM
> To: Tomcat Users List
> Subject: Re: Tomcat 4.0 & Tomcat 6.0 AuthenticatorBase
> 
> On 17/05/2012 16:31, Sekar, Vasanth wrote:
>> Hello-
>> We have a custom form authenticator that runs on tomcat 4.0. Now, we
>> have a need to migrate that into tomcat 6.0. There are compilation
>> errors with the following.
>>
>> import org.apache.catalina.HttpRequest;
>> import org.apache.catalina.HttpResponse;
>>
>> I looked at the tomcat 6.0 API and found that these classes are not
>> there anymore. I believe these are replaced by 
>>
>> import org.apache.catalina.connector.Request;
>> import org.apache.catalina.connector.Response;
> 
> Correct.
> 
>> However, it still shows error on getSession and when I looked at the
>> authenticatorbase API it is not present in 6.0
>> associate(ssoId, getSession(request, true));
>>
>> Could someone shed some light on how to go about this?
> 
> associate(ssoId, request.getSession(true));
> 
> Mark
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 20 19:40:42 2012
Return-Path: <users-return-234362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8D3E9C92
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 20 May 2012 19:40:42 +0000 (UTC)
Received: (qmail 46677 invoked by uid 500); 20 May 2012 19:40:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46627 invoked by uid 500); 20 May 2012 19:40:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46610 invoked by uid 99); 20 May 2012 19:40:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 19:40:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Vasanth.Sekar@supervalu.com designates 213.199.154.207 as permitted sender)
Received: from [213.199.154.207] (HELO am1outboundpool.messaging.microsoft.com) (213.199.154.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 19:40:29 +0000
Received: from mail81-am1-R.bigfish.com (10.3.201.227) by
 AM1EHSOBE001.bigfish.com (10.3.204.21) with Microsoft SMTP Server id
 14.1.225.23; Sun, 20 May 2012 19:39:56 +0000
Received: from mail81-am1 (localhost [127.0.0.1])	by mail81-am1-R.bigfish.com
 (Postfix) with ESMTP id E825A60110	for <users@tomcat.apache.org>; Sun, 20 May
 2012 19:39:56 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:167.234.14.18;KIP:(null);UIP:(null);IPV:NLI;H:sboi2k3ex04.msg.albertsons.com;RD:mxb04.supervalu.com;EFVD:NLI
X-SpamScore: -27
X-BigFish: VPS-27(zzbb2dI9371I103dK148cI542M13fcM1432N98dK111aI62a3Izz1202hzz8275dhz2fh2a8h668h839h944hd25hf0ah)
Received-SPF: pass (mail81-am1: domain of supervalu.com designates 167.234.14.18 as permitted sender) client-ip=167.234.14.18; envelope-from=Vasanth.Sekar@supervalu.com; helo=sboi2k3ex04.msg.albertsons.com ;bertsons.com ;
Received: from mail81-am1 (localhost.localdomain [127.0.0.1]) by mail81-am1
 (MessageSwitch) id 133754279423693_6718; Sun, 20 May 2012 19:39:54 +0000
 (UTC)
Received: from AM1EHSMHS005.bigfish.com (unknown [10.3.201.230])	by
 mail81-am1.bigfish.com (Postfix) with ESMTP id EECCD40043	for
 <users@tomcat.apache.org>; Sun, 20 May 2012 19:39:53 +0000 (UTC)
Received: from sboi2k3ex04.msg.albertsons.com (167.234.14.18) by
 AM1EHSMHS005.bigfish.com (10.3.207.105) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Sun, 20 May 2012 19:39:53 +0000
Received: from sdwpmss009.msg.albertsons.com ([10.44.4.57]) by
 sboi2k3ex04.msg.albertsons.com with Microsoft SMTPSVC(6.0.3790.4675);	 Sun,
 20 May 2012 13:37:45 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Date: Sun, 20 May 2012 13:40:01 -0600
Message-ID: <A673C01738FE4041BE3F03D75AC4C04A73A997@sdwpmss009.msg.albertsons.com>
In-Reply-To: <4FB7F283.1020106@apache.org>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase
Thread-Index: Ac019Cy3b203Jb5OSKqpaDU3LGTgQQAzBfOw
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <4FB7F283.1020106@apache.org>
From: "Sekar, Vasanth" <Vasanth.Sekar@supervalu.com>
To: Tomcat Users List <users@tomcat.apache.org>
X-OriginalArrivalTime: 20 May 2012 19:37:45.0618 (UTC) FILETIME=[07CE1720:01CD36C0]
X-OriginatorOrg: supervalu.com

Thanks Mark. Sorry, was just an oversight.

-----Original Message-----
From: Mark Thomas [mailto:markt@apache.org]=20
Sent: Saturday, May 19, 2012 1:21 PM
To: Tomcat Users List
Subject: Re: Tomcat 4.0 & Tomcat 6.0 AuthenticatorBase

On 18/05/2012 00:43, Sekar, Vasanth wrote:
> Good evening Mark,
> Thanks for confirming the first part of the request.
>=20
> I did try your below suggestion already
>=20
> associate(ssoId, request.getSession(true));
>=20
> The method associate(String, Session) in the type authenticatorbase is
> not applicable for the arguments (String, HttpSession). The method
> associate is expecting an org.apache.catalina.Session return where as
> the connector Request is returning HttpSession.
>=20
> Thanks again for your response and please advise.

Sorry. Looked too fast.

associate(ssoId, request.getSessionInternal(true));

I'm struggling to understand why you were unable to figure this out for
yourself.

Mark


>=20
> Thanks!
> Vasanth
>=20
> -----Original Message-----
> From: Mark Thomas [mailto:markt@apache.org]=20
> Sent: Thursday, May 17, 2012 12:28 PM
> To: Tomcat Users List
> Subject: Re: Tomcat 4.0 & Tomcat 6.0 AuthenticatorBase
>=20
> On 17/05/2012 16:31, Sekar, Vasanth wrote:
>> Hello-
>> We have a custom form authenticator that runs on tomcat 4.0. Now, we
>> have a need to migrate that into tomcat 6.0. There are compilation
>> errors with the following.
>>
>> import org.apache.catalina.HttpRequest;
>> import org.apache.catalina.HttpResponse;
>>
>> I looked at the tomcat 6.0 API and found that these classes are not
>> there anymore. I believe these are replaced by=20
>>
>> import org.apache.catalina.connector.Request;
>> import org.apache.catalina.connector.Response;
>=20
> Correct.
>=20
>> However, it still shows error on getSession and when I looked at the
>> authenticatorbase API it is not present in 6.0
>> associate(ssoId, getSession(request, true));
>>
>> Could someone shed some light on how to go about this?
>=20
> associate(ssoId, request.getSession(true));
>=20
> Mark
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 20 23:19:43 2012
Return-Path: <users-return-234363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8D1E9CCD
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 20 May 2012 23:19:43 +0000 (UTC)
Received: (qmail 54610 invoked by uid 500); 20 May 2012 23:19:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54531 invoked by uid 500); 20 May 2012 23:19:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54522 invoked by uid 99); 20 May 2012 23:19:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 23:19:40 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.55] (HELO nm32-vm7.bullet.mail.ne1.yahoo.com) (98.138.229.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 20 May 2012 23:19:30 +0000
Received: from [98.138.90.48] by nm32.bullet.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
Received: from [98.138.226.168] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
Received: from [127.0.0.1] by omp1069.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 563335.91674.bm@omp1069.mail.ne1.yahoo.com
Received: (qmail 44580 invoked by uid 60001); 20 May 2012 23:19:08 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337555948; bh=wklZ5bITfKuiGaR/nfbnYSRoKJQldzUMrLwK77XdH8A=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=eLFxoARkUEnDPEL33rjL556fBzX2UyVTCHSiKVyR751h3oBDp3qnHnY0+ZBG1lZf8UyBEDvCBtfV1ykTAa4kD7EOCrBebNGsyy0x0PU6vJmfa98oXRdH3iOhSmIKJTKEq+A0SBL0tefqDvsRFLZTixnjMc2DMAcZkRukrivYiio=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BbHYzcI+8J2Odj2fH+MYl15MHamS9uFV9249SkeZMxO8C9i0cV8wgw14dS/MWZF9o3l5Wo+OPpv2R+N9tF3dZ1/MZVbiPnilUQkbfd7F+xHGxcB4l0Msk2OwasFwxHd2+R1zXgvdxTEvk0VMTrtENhW9E2NqCkzPs0deAcCR82M=;
X-YMail-OSG: PsRx4oAVM1nuxBrTJ20H_dtv0VuyRw.jVRnqtzCtd_SW9EJ
 Od2du5OMbXd2D2DfF09BB5ZewPNraiN5aQxW_GySb4kWEqIJJWiZf.GpGgzP
 c8csoUVUa6.OysUv5bJlWlqXMO5SWp_jzRlZoYDa3foiq3q9d4MSi5S7VCsh
 zGnoN7FkemepfQ0Nb25Bz7FQEVxghiDeYrbsPmHt7.Frr6kN4HT02GeaorJL
 V6zU1.DOM7ENA_r1t6NfDX6lCJ0TzFsGjd29RaTyQjA3uTVEzUlsMm00JC.J
 tsjiEtd1ik13nXmv04digiTx.Q_x6cZf7OzBVDWnhAUOqJPgnk7rnRqRzCue
 Zs2ApHoZzByGBBFXuIPLLkUNnNpB57KJwVpRxpkyXTcL6XF.LldwDOT3pWZZ
 Q4E3Lb4bSmAnBJNEoKt2ENZsSfqDfQ62oij9EA7wqIWcwtzu1Ky0R.1F65S9
 hLnja7VaqXe0FtCQDIwOhiE0IvLC40Hau
Received: from [203.25.255.17] by web121006.mail.ne1.yahoo.com via HTTP; Sun, 20 May 2012 16:19:08 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com> <4FB5F7C6.50500@ice-sa.com>
Message-ID: <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com>
Date: Sun, 20 May 2012 16:19:08 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FB5F7C6.50500@ice-sa.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="285087016-1268774555-1337555948=:18325"

--285087016-1268774555-1337555948=:18325
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Sorry about that.=0A=0ASo here's what I did.=A0 I created a webapps folder =
for our application in Tomcat.=A0 We're using IIS as the webserver, used th=
e isapi redirector to make IIS and Tomcat interact.=A0 Followed the steps h=
ere:=A0 http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html=0A=
=0ASo everything works fine.=A0 The user can access the application.=A0 I c=
an see from the tomcat logs that our application is running.=0A=0AThe only =
thing is my isapi log file is always empty.=A0 I never see any messages log=
ged in there even though I set the log_level to debug.=0A=0A=0ARegards.=0A=
=0A=0A=0A________________________________=0A From: Andr=E9 Warnier <aw@ice-=
sa.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Friday, =
18 May 2012 5:18 PM=0ASubject: Re: Isapi redirector log file is always empt=
y - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2=0A =0Aann ramos wro=
te:=0A> Hi,=0A> =0A> I have set up our system to do SSO.=A0 The setup works=
 fine because whenever the user access the system, they are automatically l=
ogged in to the system.=0A> =0A> Following are the steps that I used to set=
 up Isapi:=0A> 1. Manually created the folders "Apache Software Foundation\=
Jakarta Isapi Redirector".=A0 Then inside those folders I created a sub fol=
der bin, conf and log.=0A> 2. I manually created the registry entries.=A0 T=
he set up works because the system functions as SSO.=0A> =0A> The only thin=
g is that my isapi_redirect.log is always empty even though I set the log_l=
evel to debug. =0A> I tried searching the internet but I'm not getting anyw=
here.=0A> =0A> I would appreciate any thoughts and ideas that you can share=
 so I can resolve my problem.=A0 =0A=0AApart from your mention of Tomcat in=
 the subject, it is not very clear so far if anything you're doing is acces=
sing Tomcat through isapi_redirector (or even Tomcat at all).=0ACan you be =
a bit more explicit about what you are doing ?=0AAnd where the SSO part com=
e into the picture here ?=0A=0A=0A-----------------------------------------=
----------------------------=0ATo unsubscribe, e-mail: users-unsubscribe@to=
mcat.apache.org=0AFor additional commands, e-mail: users-help@tomcat.apache=
.org
--285087016-1268774555-1337555948=:18325--

From users-return-234364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 20 23:19:47 2012
Return-Path: <users-return-234364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 580509CCF
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 20 May 2012 23:19:47 +0000 (UTC)
Received: (qmail 55063 invoked by uid 500); 20 May 2012 23:19:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54946 invoked by uid 500); 20 May 2012 23:19:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54680 invoked by uid 99); 20 May 2012 23:19:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 23:19:40 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.54] (HELO nm6-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.54)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 20 May 2012 23:19:30 +0000
Received: from [98.138.90.49] by nm6.bullet.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
Received: from [98.138.226.167] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
Received: from [127.0.0.1] by omp1068.mail.ne1.yahoo.com with NNFMP; 20 May 2012 23:19:08 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 663867.64603.bm@omp1068.mail.ne1.yahoo.com
Received: (qmail 44580 invoked by uid 60001); 20 May 2012 23:19:08 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337555948; bh=wklZ5bITfKuiGaR/nfbnYSRoKJQldzUMrLwK77XdH8A=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=eLFxoARkUEnDPEL33rjL556fBzX2UyVTCHSiKVyR751h3oBDp3qnHnY0+ZBG1lZf8UyBEDvCBtfV1ykTAa4kD7EOCrBebNGsyy0x0PU6vJmfa98oXRdH3iOhSmIKJTKEq+A0SBL0tefqDvsRFLZTixnjMc2DMAcZkRukrivYiio=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BbHYzcI+8J2Odj2fH+MYl15MHamS9uFV9249SkeZMxO8C9i0cV8wgw14dS/MWZF9o3l5Wo+OPpv2R+N9tF3dZ1/MZVbiPnilUQkbfd7F+xHGxcB4l0Msk2OwasFwxHd2+R1zXgvdxTEvk0VMTrtENhW9E2NqCkzPs0deAcCR82M=;
X-YMail-OSG: PsRx4oAVM1nuxBrTJ20H_dtv0VuyRw.jVRnqtzCtd_SW9EJ
 Od2du5OMbXd2D2DfF09BB5ZewPNraiN5aQxW_GySb4kWEqIJJWiZf.GpGgzP
 c8csoUVUa6.OysUv5bJlWlqXMO5SWp_jzRlZoYDa3foiq3q9d4MSi5S7VCsh
 zGnoN7FkemepfQ0Nb25Bz7FQEVxghiDeYrbsPmHt7.Frr6kN4HT02GeaorJL
 V6zU1.DOM7ENA_r1t6NfDX6lCJ0TzFsGjd29RaTyQjA3uTVEzUlsMm00JC.J
 tsjiEtd1ik13nXmv04digiTx.Q_x6cZf7OzBVDWnhAUOqJPgnk7rnRqRzCue
 Zs2ApHoZzByGBBFXuIPLLkUNnNpB57KJwVpRxpkyXTcL6XF.LldwDOT3pWZZ
 Q4E3Lb4bSmAnBJNEoKt2ENZsSfqDfQ62oij9EA7wqIWcwtzu1Ky0R.1F65S9
 hLnja7VaqXe0FtCQDIwOhiE0IvLC40Hau
Received: from [203.25.255.17] by web121006.mail.ne1.yahoo.com via HTTP; Sun, 20 May 2012 16:19:08 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com> <4FB5F7C6.50500@ice-sa.com>
Message-ID: <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com>
Date: Sun, 20 May 2012 16:19:08 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FB5F7C6.50500@ice-sa.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="285087016-1268774555-1337555948=:18325"

--285087016-1268774555-1337555948=:18325
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Sorry about that.=0A=0ASo here's what I did.=A0 I created a webapps folder =
for our application in Tomcat.=A0 We're using IIS as the webserver, used th=
e isapi redirector to make IIS and Tomcat interact.=A0 Followed the steps h=
ere:=A0 http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html=0A=
=0ASo everything works fine.=A0 The user can access the application.=A0 I c=
an see from the tomcat logs that our application is running.=0A=0AThe only =
thing is my isapi log file is always empty.=A0 I never see any messages log=
ged in there even though I set the log_level to debug.=0A=0A=0ARegards.=0A=
=0A=0A=0A________________________________=0A From: Andr=E9 Warnier <aw@ice-=
sa.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Friday, =
18 May 2012 5:18 PM=0ASubject: Re: Isapi redirector log file is always empt=
y - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2=0A =0Aann ramos wro=
te:=0A> Hi,=0A> =0A> I have set up our system to do SSO.=A0 The setup works=
 fine because whenever the user access the system, they are automatically l=
ogged in to the system.=0A> =0A> Following are the steps that I used to set=
 up Isapi:=0A> 1. Manually created the folders "Apache Software Foundation\=
Jakarta Isapi Redirector".=A0 Then inside those folders I created a sub fol=
der bin, conf and log.=0A> 2. I manually created the registry entries.=A0 T=
he set up works because the system functions as SSO.=0A> =0A> The only thin=
g is that my isapi_redirect.log is always empty even though I set the log_l=
evel to debug. =0A> I tried searching the internet but I'm not getting anyw=
here.=0A> =0A> I would appreciate any thoughts and ideas that you can share=
 so I can resolve my problem.=A0 =0A=0AApart from your mention of Tomcat in=
 the subject, it is not very clear so far if anything you're doing is acces=
sing Tomcat through isapi_redirector (or even Tomcat at all).=0ACan you be =
a bit more explicit about what you are doing ?=0AAnd where the SSO part com=
e into the picture here ?=0A=0A=0A-----------------------------------------=
----------------------------=0ATo unsubscribe, e-mail: users-unsubscribe@to=
mcat.apache.org=0AFor additional commands, e-mail: users-help@tomcat.apache=
.org
--285087016-1268774555-1337555948=:18325--

From users-return-234365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 20 23:42:42 2012
Return-Path: <users-return-234365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6248EC65E
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 20 May 2012 23:42:42 +0000 (UTC)
Received: (qmail 99867 invoked by uid 500); 20 May 2012 23:42:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99813 invoked by uid 500); 20 May 2012 23:42:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99800 invoked by uid 99); 20 May 2012 23:42:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 23:42:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 May 2012 23:42:33 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>, ann ramos
	<ramos_maryann@yahoo.com>
Subject: RE: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
Thread-Topic: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
Thread-Index: AQHNNIkOQYP2hqIKcEWZFMn8Z8ZzsJbOfCQAgAQxDwCAAK3cEA==
Date: Sun, 20 May 2012 23:42:09 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049400D0@DC1INTADCW8201.yieldbroker.com>
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com>
 <4FB5434C.40705@apache.org>
 <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
 <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
 <4FB5F7C6.50500@ice-sa.com>
 <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com>
In-Reply-To: <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.172.207.125]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Silly question but does IIS have write permissions to the directory where y=
ou are writing the isapi log ?

A

-----Original Message-----
From: ann ramos [mailto:ramos_maryann@yahoo.com]=20
Sent: Monday, 21 May 2012 9:19 AM
To: Tomcat Users List; Tomcat Users List
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2

Sorry about that.

So here's what I did.=A0 I created a webapps folder for our application in =
Tomcat.=A0 We're using IIS as the webserver, used the isapi redirector to m=
ake IIS and Tomcat interact.=A0 Followed the steps here:=A0 http://tomcat.a=
pache.org/connectors-doc/webserver_howto/iis.html

So everything works fine.=A0 The user can access the application.=A0 I can =
see from the tomcat logs that our application is running.

The only thing is my isapi log file is always empty.=A0 I never see any mes=
sages logged in there even though I set the log_level to debug.


Regards.



________________________________
 From: Andr=E9 Warnier <aw@ice-sa.com>
To: Tomcat Users List <users@tomcat.apache.org>=20
Sent: Friday, 18 May 2012 5:18 PM
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2
=20
ann ramos wrote:
> Hi,
>=20
> I have set up our system to do SSO.=A0 The setup works fine because whene=
ver the user access the system, they are automatically logged in to the sys=
tem.
>=20
> Following are the steps that I used to set up Isapi:
> 1. Manually created the folders "Apache Software Foundation\Jakarta Isapi=
 Redirector".=A0 Then inside those folders I created a sub folder bin, conf=
 and log.
> 2. I manually created the registry entries.=A0 The set up works because t=
he system functions as SSO.
>=20
> The only thing is that my isapi_redirect.log is always empty even though =
I set the log_level to debug.=20
> I tried searching the internet but I'm not getting anywhere.
>=20
> I would appreciate any thoughts and ideas that you can share so I can res=
olve my problem.=A0=20

Apart from your mention of Tomcat in the subject, it is not very clear so f=
ar if anything you're doing is accessing Tomcat through isapi_redirector (o=
r even Tomcat at all).
Can you be a bit more explicit about what you are doing ?
And where the SSO part come into the picture here ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 03:28:25 2012
Return-Path: <users-return-234366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 74B5B92E1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 03:28:25 +0000 (UTC)
Received: (qmail 7520 invoked by uid 500); 21 May 2012 03:28:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7393 invoked by uid 500); 21 May 2012 03:28:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7379 invoked by uid 99); 21 May 2012 03:28:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 03:28:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.46] (HELO nm21-vm1.bullet.mail.ne1.yahoo.com) (98.138.91.46)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 May 2012 03:28:14 +0000
Received: from [98.138.90.50] by nm21.bullet.mail.ne1.yahoo.com with NNFMP; 21 May 2012 03:27:53 -0000
Received: from [98.138.87.2] by tm3.bullet.mail.ne1.yahoo.com with NNFMP; 21 May 2012 03:27:53 -0000
Received: from [127.0.0.1] by omp1002.mail.ne1.yahoo.com with NNFMP; 21 May 2012 03:27:53 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 23240.70807.bm@omp1002.mail.ne1.yahoo.com
Received: (qmail 89631 invoked by uid 60001); 21 May 2012 03:27:52 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337570872; bh=cQE0Wi35MMBs7YmnS4CRd5odZ/h5ZOH/SQqRdEhNBKc=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=u9NFsH9sQtwfw3jH8HbYF403PK1yR5Gpe3GAnnWhLnZNcNJP1lSV86B+gUIA1WR11atjgk+cYoki3mOt7gOXcTiX/BUJqYbWk9m+rTJud3WduTbWwlhwu4W+UJooqpcEZH1cl7iv8dLtYgI9Z1SGMHIQGcsAbtecURqa9aSrsPE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=r6e50+kb/FR3+9rbA3YgnXnF8bG6CNAMIAuppeNVHxYrt4aBYau2owdywLLKLJ/2kRxHk5aKC0WNoZNx7k18md3SSTmTENs/PfwP0li3HRhWP+s1dmz8sLq0w0vNlbsm68f80tMcIEPb5vSpBQegKLt2lmntxQRDHBOuoPqOuak=;
X-YMail-OSG: _Oy89zAVM1lHVSWKvG1viT9gi_XNLFO8TsTNpl9rCc5Qqc_
 c3D2t0lkXeWiNqrWPePMrYdtXAt6CygOve_4VXJw6KG9848FLpjQypv7KDmU
 wAYvOxAB4UTvE9KGUZaB7pnUb5dM0I_98oj4kVUpphUpDxeubY5fNA7lSDQ9
 W5SS32n8vsKpGE62eKeYAjLNmQXAUmDthZez9POcmO6.BD8qn93VpWeTl1wB
 JSC8iyzpxX2CtLvom6tMOrS1hDtabRuINKcRfEFvZZj958zXc5BTuBdGHYbN
 x_HF.dJLCkfbt3KbGqjh_APVXkwwO_HGjX.6kO202kUICVa6LlTqqYdMs_RM
 KKOBDMgkJjI1Bh22qrfJpXqoMUo75cQxQYoOSI4jLNtRYcbRZ3KuywJg19Z8
 .FYIDHBKqU7k4nFI0Y.eB5BjODpGhDRs7S5kKDrio6mNWJwZJJwiiWpfYBz6
 4ZvxzZS7Ydeap2T7gIADPa1pawRZwm.yw
Received: from [203.25.255.17] by web121005.mail.ne1.yahoo.com via HTTP; Sun, 20 May 2012 20:27:52 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com> <4FB5F7C6.50500@ice-sa.com> <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com> <A3FB5D9FD28C50429DF7692DC31054E6049400D0@DC1INTADCW8201.yieldbroker.com>
Message-ID: <1337570872.89579.YahooMailNeo@web121005.mail.ne1.yahoo.com>
Date: Sun, 20 May 2012 20:27:52 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <A3FB5D9FD28C50429DF7692DC31054E6049400D0@DC1INTADCW8201.yieldbroker.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-406315465-501821117-1337570872=:89579"
X-Virus-Checked: Checked by ClamAV on apache.org

---406315465-501821117-1337570872=:89579
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Alex, you're a life-saver.=0AI checked my set up and I noticed that SERVICE=
 is not included in the list of users with read/write access.=0AI added the=
m and now my isapi log file is not empty anymore.=0A=0AThanks heaps for you=
r "silly question".=A0=A0=0A=0AThanks to everyone who has spent time lookin=
g at my problem.=0A=0A=0A=0A________________________________=0A From: Alex =
Samad - Yieldbroker <Alex.Samad@yieldbroker.com>=0ATo: Tomcat Users List <u=
sers@tomcat.apache.org>; ann ramos <ramos_maryann@yahoo.com> =0ASent: Monda=
y, 21 May 2012 9:42 AM=0ASubject: RE: Isapi redirector log file is always e=
mpty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2=0A =0ASilly ques=
tion but does IIS have write permissions to the directory where you are wri=
ting the isapi log ?=0A=0AA=0A=0A-----Original Message-----=0AFrom: ann ram=
os [mailto:ramos_maryann@yahoo.com] =0ASent: Monday, 21 May 2012 9:19 AM=0A=
To: Tomcat Users List; Tomcat Users List=0ASubject: Re: Isapi redirector lo=
g file is always empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R=
2=0A=0ASorry about that.=0A=0ASo here's what I did.=A0 I created a webapps =
folder for our application in Tomcat.=A0 We're using IIS as the webserver, =
used the isapi redirector to make IIS and Tomcat interact.=A0 Followed the =
steps here:=A0 http://tomcat.apache.org/connectors-doc/webserver_howto/iis.=
html=0A=0ASo everything works fine.=A0 The user can access the application.=
=A0 I can see from the tomcat logs that our application is running.=0A=0ATh=
e only thing is my isapi log file is always empty.=A0 I never see any messa=
ges logged in there even though I set the log_level to debug.=0A=0A=0ARegar=
ds.=0A=0A=0A=0A________________________________=0AFrom: Andr=E9 Warnier <aw=
@ice-sa.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Fri=
day, 18 May 2012 5:18 PM=0ASubject: Re: Isapi redirector log file is always=
 empty - IIS 7.5 - Tomcat 7.0.26 - Isapi 1.2.30 - Win2008 R2=0A=0Aann ramos=
 wrote:=0A> Hi,=0A> =0A> I have set up our system to do SSO.=A0 The setup w=
orks fine because whenever the user access the system, they are automatical=
ly logged in to the system.=0A> =0A> Following are the steps that I used to=
 set up Isapi:=0A> 1. Manually created the folders "Apache Software Foundat=
ion\Jakarta Isapi Redirector".=A0 Then inside those folders I created a sub=
 folder bin, conf and log.=0A> 2. I manually created the registry entries.=
=A0 The set up works because the system functions as SSO.=0A> =0A> The only=
 thing is that my isapi_redirect.log is always empty even though I set the =
log_level to debug. =0A> I tried searching the internet but I'm not getting=
 anywhere.=0A> =0A> I would appreciate any thoughts and ideas that you can =
share so I can resolve my problem.=A0 =0A=0AApart from your mention of Tomc=
at in the subject, it is not very clear so far if anything you're doing is =
accessing Tomcat through isapi_redirector (or even Tomcat at all).=0ACan yo=
u be a bit more explicit about what you are doing ?=0AAnd where the SSO par=
t come into the picture here ?=0A=0A=0A------------------------------------=
---------------------------------=0ATo unsubscribe, e-mail: users-unsubscri=
be@tomcat.apache.org=0AFor additional commands, e-mail: users-help@tomcat.a=
pache.org=0A=0A------------------------------------------------------------=
---------=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AF=
or additional commands, e-mail: users-help@tomcat.apache.org
---406315465-501821117-1337570872=:89579--

From users-return-234367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 04:04:14 2012
Return-Path: <users-return-234367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2837E9871
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 04:04:14 +0000 (UTC)
Received: (qmail 71638 invoked by uid 500); 21 May 2012 04:04:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71161 invoked by uid 500); 21 May 2012 04:04:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71107 invoked by uid 99); 21 May 2012 04:04:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 04:04:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 04:04:00 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>, ann ramos
	<ramos_maryann@yahoo.com>
Subject: RE: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
Thread-Topic: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
Thread-Index: AQHNNIkOQYP2hqIKcEWZFMn8Z8ZzsJbOfCQAgAQxDwCAAK3cEP//l6MAgACxiTA=
Date: Mon, 21 May 2012 04:03:36 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049432D9@DC1INTADCW8201.yieldbroker.com>
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com>
 <4FB5434C.40705@apache.org>
 <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com>
 <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
 <4FB5F7C6.50500@ice-sa.com>
 <1337555948.18325.YahooMailNeo@web121006.mail.ne1.yahoo.com>
 <A3FB5D9FD28C50429DF7692DC31054E6049400D0@DC1INTADCW8201.yieldbroker.com>
 <1337570872.89579.YahooMailNeo@web121005.mail.ne1.yahoo.com>
In-Reply-To: <1337570872.89579.YahooMailNeo@web121005.mail.ne1.yahoo.com>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.172.207.125]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Pretty sure if you look back in the mailing list logs, I asked the same que=
stion :)

A

-----Original Message-----
From: ann ramos [mailto:ramos_maryann@yahoo.com]=20
Sent: Monday, 21 May 2012 1:28 PM
To: Tomcat Users List
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2

Alex, you're a life-saver.
I checked my set up and I noticed that SERVICE is not included in the list =
of users with read/write access.
I added them and now my isapi log file is not empty anymore.

Thanks heaps for your "silly question".=A0=A0

Thanks to everyone who has spent time looking at my problem.



________________________________
 From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>; ann ramos <ramos_maryann@y=
ahoo.com>=20
Sent: Monday, 21 May 2012 9:42 AM
Subject: RE: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2
=20
Silly question but does IIS have write permissions to the directory where y=
ou are writing the isapi log ?

A

-----Original Message-----
From: ann ramos [mailto:ramos_maryann@yahoo.com]=20
Sent: Monday, 21 May 2012 9:19 AM
To: Tomcat Users List; Tomcat Users List
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2

Sorry about that.

So here's what I did.=A0 I created a webapps folder for our application in =
Tomcat.=A0 We're using IIS as the webserver, used the isapi redirector to m=
ake IIS and Tomcat interact.=A0 Followed the steps here:=A0 http://tomcat.a=
pache.org/connectors-doc/webserver_howto/iis.html

So everything works fine.=A0 The user can access the application.=A0 I can =
see from the tomcat logs that our application is running.

The only thing is my isapi log file is always empty.=A0 I never see any mes=
sages logged in there even though I set the log_level to debug.


Regards.



________________________________
From: Andr=E9 Warnier <aw@ice-sa.com>
To: Tomcat Users List <users@tomcat.apache.org>=20
Sent: Friday, 18 May 2012 5:18 PM
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat 7=
.0.26 - Isapi 1.2.30 - Win2008 R2

ann ramos wrote:
> Hi,
>=20
> I have set up our system to do SSO.=A0 The setup works fine because whene=
ver the user access the system, they are automatically logged in to the sys=
tem.
>=20
> Following are the steps that I used to set up Isapi:
> 1. Manually created the folders "Apache Software Foundation\Jakarta Isapi=
 Redirector".=A0 Then inside those folders I created a sub folder bin, conf=
 and log.
> 2. I manually created the registry entries.=A0 The set up works because t=
he system functions as SSO.
>=20
> The only thing is that my isapi_redirect.log is always empty even though =
I set the log_level to debug.=20
> I tried searching the internet but I'm not getting anywhere.
>=20
> I would appreciate any thoughts and ideas that you can share so I can res=
olve my problem.=A0=20

Apart from your mention of Tomcat in the subject, it is not very clear so f=
ar if anything you're doing is accessing Tomcat through isapi_redirector (o=
r even Tomcat at all).
Can you be a bit more explicit about what you are doing ?
And where the SSO part come into the picture here ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 07:19:12 2012
Return-Path: <users-return-234368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6F269072
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 07:19:12 +0000 (UTC)
Received: (qmail 53959 invoked by uid 500); 21 May 2012 07:19:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53773 invoked by uid 500); 21 May 2012 07:19:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53746 invoked by uid 99); 21 May 2012 07:19:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 07:19:08 +0000
X-ASF-Spam-Status: No, hits=0.3 required=5.0
	tests=FROM_12LTRDOM,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jamie@stimulussoft.com designates 71.6.200.51 as permitted sender)
Received: from [71.6.200.51] (HELO serve.stimulussoft.com) (71.6.200.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 07:18:59 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by serve.stimulussoft.com (Postfix) with ESMTP id 5272310703
	for <users@tomcat.apache.org>; Mon, 21 May 2012 00:27:09 -0700 (PDT)
Received: from serve.stimulussoft.com ([127.0.0.1])
	by localhost (serve.stimulussoft.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rw+hi8Js15ER for <users@tomcat.apache.org>;
	Mon, 21 May 2012 00:27:03 -0700 (PDT)
Received: from e4-ce-8f-0f-c2-b0.dummy.porta.siemens.net (196-215-69-16.dynamic.isadsl.co.za [196.215.69.16])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by serve.stimulussoft.com (Postfix) with ESMTPSA id 16A29106FC
	for <users@tomcat.apache.org>; Mon, 21 May 2012 00:27:02 -0700 (PDT)
Message-ID: <4FB9EC44.5000608@stimulussoft.com>
Date: Mon, 21 May 2012 09:18:28 +0200
From: Jamie <jamie@stimulussoft.com>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: TC7: trigger seeding of SecureRandom
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi There

We've just upgraded out web app to TC7. It seems the following is being 
outputted repeatedly on the console for each page load:

trigger seeding of SecureRandom
done seeding SecureRandom

Closer inspection reveals, the Tomcat class SessionIdGenerator using 
SecureRandom.

Is this normal? Why would SecureRandom have to be seeded so often? I am 
also worried about the Tomcat console log filling up over time.

Thanks

Jamie

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 09:36:58 2012
Return-Path: <users-return-234369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 944E0C7B1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 09:36:58 +0000 (UTC)
Received: (qmail 14241 invoked by uid 500); 21 May 2012 09:36:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14050 invoked by uid 500); 21 May 2012 09:36:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14036 invoked by uid 99); 21 May 2012 09:36:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 09:36:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 09:36:46 +0000
Received: by eaak12 with SMTP id k12so2139041eaa.18
        for <users@tomcat.apache.org>; Mon, 21 May 2012 02:36:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=l5EFKup4Ssv86UDH6Fe0bl5/od8TDprKc/da/jtKrS4=;
        b=GcHzhgQx7yabT8PaX4yHR+SVOtFyw+aUbvjm2YSooperTY0h46nVtDfOmmoonRwOQo
         2Px4fn5iHojVgloqb0hzF/FYL/ZC0yXYAxqkzcURt+GdlaPB1GzJNVr0r0ohkseehVkp
         WmaoCmGLu/x3luRdyJ/DAgxyJyzGrDpUKqLtM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=l5EFKup4Ssv86UDH6Fe0bl5/od8TDprKc/da/jtKrS4=;
        b=Qq6ZbyTXPBa3JKBFe/5K8MjDuCZmEhaqH+73NdfeLX9YUF6j/BRziCYOONh/VEve1a
         tkgGXQNx9OtFey511waj7kx5vJRLJoI77PJBqPIko1w6qN0N8By1HVyv8tJUFDOFsN7D
         ik1Upqb5RpVDxT0ZhQd0TTwiYG/Fngsd3jUvwjuOj6M9cv/kEEm9EMMeojHEy9HASrdV
         9NpCzOfA9weOVSNMbrHAwCCKm9DtdoGr/lUxLQrglqNldN0QrDHBrXPSSjyOnXfDvJCM
         vbJmKXOIbs3WeAOnqs3VeUnP8YJH0wVhnWexCLBR8Ucsu0iF+nG8yqz126YI3byMwJUZ
         eJ8w==
Received: by 10.14.28.202 with SMTP id g50mr663750eea.51.1337592984137;
        Mon, 21 May 2012 02:36:24 -0700 (PDT)
Received: from Asura.local (host81-130-11-164.in-addr.btopenworld.com. [81.130.11.164])
        by mx.google.com with ESMTPS id z5sm87394129eem.3.2012.05.21.02.36.21
        (version=SSLv3 cipher=OTHER);
        Mon, 21 May 2012 02:36:22 -0700 (PDT)
Message-ID: <4FBA0C94.1060408@pidster.com>
Date: Mon, 21 May 2012 10:36:20 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Isapi redirector log file is always empty - IIS 7.5 - Tomcat
 7.0.26 - Isapi 1.2.30 - Win2008 R2
References: <A673C01738FE4041BE3F03D75AC4C04A73A758@sdwpmss009.msg.albertsons.com> <4FB5434C.40705@apache.org> <A673C01738FE4041BE3F03D75AC4C04A73A858@sdwpmss009.msg.albertsons.com> <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
In-Reply-To: <1337299097.6404.YahooMailNeo@web121001.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigBCD58C9773A2062011B466CA"
X-Gm-Message-State: ALoCoQkExd2Lh6p5LVK3Y9qFuVZVJSoZREDvqQijb4k12Oo18+swVso5JOCZdiQ818lusAOrwf8y
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigBCD58C9773A2062011B466CA
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 18/05/2012 00:58, ann ramos wrote:
> Hi,
>=20
> I have set up our system to do SSO.  The setup works fine because whene=
ver the user access the system, they are automatically logged in to the s=
ystem.
>=20
> Following are the steps that I used to set up Isapi:
> 1. Manually created the folders "Apache Software Foundation\Jakarta Isa=
pi Redirector".  Then inside those folders I created a sub folder bin, co=
nf and log.
> 2. I manually created the registry entries.  The set up works because t=
he system functions as SSO.
>=20
> The only thing is that my isapi_redirect.log is always empty even thoug=
h I set the log_level to debug.=20
>=20
> I tried searching the internet but I'm not getting anywhere.
>=20
> I would appreciate any thoughts and ideas that you can share so I can r=
esolve my problem. =20
>=20
> Thanks and regards.
>=20
> Peeves
>=20

Small note, next time please start an entirely new thread - rather than
replying to an existing one* and just editing the subject & body.


p

* RE: Tomcat 4.0 &  Tomcat 6.0 AuthenticatorBase


--=20

[key:62590808]


--------------enigBCD58C9773A2062011B466CA
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPugyUAAoJEGoM2OGpOvr9VpEQAJugzdAgFnkZPt96b1OUdv4r
7daEdZUmm2Af9A9lD1b8BxM66E+fDfyY7WyxrCD47UXMNlvyY1K8YhsdTU6objlF
cBqldX92hSKGjSIBBHE1xqWyP8nPW995Q58pptBgPOmEcSUMxdAXYGpG4c45no8N
K/SvAh4w/M3HLbcQOvlfnyhTrwweul2qk6nQCbJnQtjoiXVapz0yMHO0jppFGahS
CiI9k2sEFBcOVPlnVhNzGbkWTuus9df2y0MgEc+nObt9Dgczqd62+2lmCH23fhuh
WL/vy/7avmcRmw5CmbCfg2TAsrkSeVIPNK79a+YK4DBUJQ/vBnTewiSo28tr1ZS/
W7wH3xhUYgOIJ/DV80fnzvz/XfRew8gE1VxjcqtyM7kI2Nd84BPSL86biU+Pwa5h
gRfinZFLhj9PHB/6iDGftdmsA585R/jF7n7IRuySMh/2quptCfsReoaNdxve+14+
fgUuYTvNHj7hc9OETyf3kKFk3j3eXSxXTgW1RdfoegAImDx+ANQCK78o4CP1ASHp
Q0xZ5APL5geAxxAYEnec0iAGrg0NTfkgxASnYnvO6mDozOPPpHK75jiW0+FjCM/B
eC+MgpRo4i6jC3oyoLHHjzDOnU6ec46bA1j3WFvK8b7L1O529iYxvN9GH61khDJu
nSg7I6Ypz/1gtinh+Vkn
=POm9
-----END PGP SIGNATURE-----

--------------enigBCD58C9773A2062011B466CA--

From users-return-234370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 09:37:02 2012
Return-Path: <users-return-234370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ACA12C7B5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 09:37:02 +0000 (UTC)
Received: (qmail 15938 invoked by uid 500); 21 May 2012 09:36:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15847 invoked by uid 500); 21 May 2012 09:36:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15782 invoked by uid 99); 21 May 2012 09:36:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 09:36:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 09:36:48 +0000
Received: by eaak12 with SMTP id k12so2139086eaa.18
        for <users@tomcat.apache.org>; Mon, 21 May 2012 02:36:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=whzRgA2LWtddSJH++fQYTExs94uftOwPLPd+XulGLVI=;
        b=HqZ+qJBLEbtwaoR5kz+7sQcnyEULM1J7mZ7nMVwNDuiJJQCVZ9VB1jS5Z8UTDcvVOH
         YXmtNm8LVVsC2occ6P8d+jyT7U7kQqcpGdy/QkWbNV42984oUjFcTyOQytBbTEsTRgZT
         gDZJpvtHh9FacvrnkSrN/yOXDMC4VPzvYKKhU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=whzRgA2LWtddSJH++fQYTExs94uftOwPLPd+XulGLVI=;
        b=UF0/9+aZ2fqMPBWAAgSlP52WkPJC6vv1Ik5iOyDP46fZcWvxQTQZwnCLsLtPcd+6mI
         wHY89WYXDsD1koqs+HCnri0bz+LL2ROBJw+YP8uxyIg2T7zugIyykUiB2gcUBtmFT5hU
         NpL9WjFlr777aI3u+mMWPU18anPtOSwEVg678JIj6bVF2YFe2UitH+YjZ5XJe+BOotsg
         ETaSbrN0kPtTymrZE/LfnTidGwixYk1QdM24zAfnNykE+VE0fkcT0SUeBQOLZi1m9uuL
         OPyDF3c2dwQ0D8DakCK/NliZuR7X38T2AuKj3i5K9ii9RipCqjyXfFbSV1GvOw5Rw5Sw
         q8cw==
Received: by 10.213.13.199 with SMTP id d7mr4367892eba.1.1337592988404;
        Mon, 21 May 2012 02:36:28 -0700 (PDT)
Received: from Asura.local (host81-130-11-164.in-addr.btopenworld.com. [81.130.11.164])
        by mx.google.com with ESMTPS id s47sm66094727eef.4.2012.05.21.02.36.26
        (version=SSLv3 cipher=OTHER);
        Mon, 21 May 2012 02:36:27 -0700 (PDT)
Message-ID: <4FBA0C98.3030006@pidster.com>
Date: Mon, 21 May 2012 10:36:24 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: TC7: trigger seeding of SecureRandom
References: <4FB9EC44.5000608@stimulussoft.com>
In-Reply-To: <4FB9EC44.5000608@stimulussoft.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigE17E9D92BB66F1CDD35C134F"
X-Gm-Message-State: ALoCoQmfF/r7rGq8ubJ9a+TxPy8XN1NlWnTMNMW1QYKF5Yk9W1FK8tts2LI/ufp7S6MFtIoIzpzQ

--------------enigE17E9D92BB66F1CDD35C134F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 21/05/2012 08:18, Jamie wrote:
> Hi There
>=20
> We've just upgraded out web app to TC7. It seems the following is being=

> outputted repeatedly on the console for each page load:
>=20
> trigger seeding of SecureRandom
> done seeding SecureRandom

Can you post the full information from the log file, including the lines
before and after these entries?


p


> Closer inspection reveals, the Tomcat class SessionIdGenerator using
> SecureRandom.
>=20
> Is this normal? Why would SecureRandom have to be seeded so often? I am=

> also worried about the Tomcat console log filling up over time.
>=20
> Thanks
>=20
> Jamie
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigE17E9D92BB66F1CDD35C134F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPugyYAAoJEGoM2OGpOvr9HYAP/jlMtgwYom7IkmROWW18IsW+
MNjKIJ9c0dzfLwWNLyKTOERq1CxxFiySW32GVEtJCJ7/i1pzM35TqOObEwqP6Pyr
n5hFPDDWk+X71B6oEt+YxucJlYL2v3ux3MLdD7y04BDXyVV+74zcPInGupEsaao2
eTF4YIVliwXUMSIQmCldllY3ZvJIW+IegxkZ5hQ7lm6kWjNj5mLuVxhnwI/SWNa3
x9Qslsxsw6E4ok1RpG7fhRoSNO0JmnWSlBk+dgXaXAUUTQg25h2y12Fgx3uyZN8j
BEods+ZfGPCWSDg2y9UjHN1QwPu0sgjAjMrcsfRJHm/26hgiroy2JdjCwtKIBXjk
JjNpMDBO/MT7dpEnEkBusWgtzkrHHbkmuYq85xeiRUbIyLwRSMR7MX12jj/vSCwX
3HP6zM4AT7Y5xqR6oT2DlQxbzQj05PpRRUTU2x1k6oaUv/n+bdnQBpauYl8vUNwb
no/qumZJ5TXZTBSZRMk4VO/RFhKH9HllwiQW39pzv4O1ThetsL2LDoguMDO5Uv0P
0jO9N4e6J6TaBT9oAPoTVKqSj9U36Rz1P+LEIhgwGuBWrrC+AKe+gI9JEhaDBPfK
Dlq1EM8sXsT3xPXEr5p+g1qLpQgs98lG84XGg/Kdn0xHX12ZLH7D2Yi0g+tcOhjz
P00DW4lgwJHpeYw666fT
=04DQ
-----END PGP SIGNATURE-----

--------------enigE17E9D92BB66F1CDD35C134F--

From users-return-234371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 10:57:29 2012
Return-Path: <users-return-234371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81E55980E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 10:57:29 +0000 (UTC)
Received: (qmail 14018 invoked by uid 500); 21 May 2012 10:57:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13967 invoked by uid 500); 21 May 2012 10:57:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13936 invoked by uid 99); 21 May 2012 10:57:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 10:57:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kalle.privat@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 10:57:15 +0000
Received: by lbok6 with SMTP id k6so4537681lbo.18
        for <users@tomcat.apache.org>; Mon, 21 May 2012 03:56:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:to:references:in-reply-to:subject:date:message-id:mime-version
         :content-type:content-transfer-encoding:x-mailer:thread-index
         :content-language;
        bh=4aTpFTaKMJCt38LJwxYWVYHPXqOmMo6gz8zS4XxUOs8=;
        b=ztP7LroKuqcodFcKdjkCGHb7u9gy60O3F/yvM2gO/sKJTQx2aEsD2mchG4cPF28aoH
         TdnA9Q5GKTJM79P1yNm8RqmKkzmVH9V36mdqXZyGlnd295+NbXGN8zyB+PbPC5ww9FCY
         xpJ7kMeS3hbrS8qYTrXn3WhQXKsTxbMVMjDA/rLR1fiN7zUFkH40Srhgt0UNizuUfFj3
         FjzjIXEVs+i/vnUcMPAi2a8TvnmPI7gFIjw0jlgB8uvYzM0Z44UqBj39XIhdZBWVIhME
         u9f7LbK7eL181Au9tbgO6Age0S2efSsq4+Z3Hmq3zsFSh5vFdwoaeIC+DNlyypg7PFxH
         bTwA==
Received: by 10.152.122.116 with SMTP id lr20mr19151858lab.42.1337597815271;
        Mon, 21 May 2012 03:56:55 -0700 (PDT)
Received: from DWCWSd830 ([81.95.255.42])
        by mx.google.com with ESMTPS id sy1sm8288273lab.13.2012.05.21.03.56.53
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 21 May 2012 03:56:53 -0700 (PDT)
From: "Casper Wandahl Schmidt" <kalle.privat@gmail.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com> <1337370856.19846.20.camel@dellberry>
In-Reply-To: <1337370856.19846.20.camel@dellberry>
Subject: RE: Threads in Tomcat
Date: Mon, 21 May 2012 12:56:49 +0200
Message-ID: <013f01cd3740$6e9efc00$4bdcf400$@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGrfvtqHkh1Vzi7Nz5VIYbDAyxykgGfR1cPlwqHf2A=
Content-Language: da

A little late for the party but nonetheless:

I'm using Quartz for something similar. I use a framework that has a =
startup and shutdown hook. This I where I configure Quartz and launch =
the thread/worker (in startup hook) and shutting it down nicely (in =
shutdown hook). This way you don't have to worry about memory leaks when =
redeploying your webapp. As Tim mentioned you still have to take care of =
any concurrency between the availability check and the servlets =
accessing the Wikis though (my worker runs once a day and writes to a =
database, the webapp servlets then reads from the database).

Med venlig hilsen/Kind regards
Casper/Kalle

-----Original Message-----
From: Tim Watts [mailto:tim@cliftonfarm.org]=20
Sent: 18. maj 2012 21:54
To: Tomcat Users List
Subject: Re: Threads in Tomcat

On Fri, 2012-05-18 at 12:14 -0400, Vance - wrote:
> I'm maintaining a Web application for searching multiple wikis, this=20
> app runs under Tomcat 6. I need to modify a servlet so it instantiates =

> a 'Thread' subclass to perform a wiki availability check every so=20
> often, say every 30 minutes. Given that I'm no expert on the use of=20
> threads, a co-worker suggested the following questions to look into:
>=20
Might want to study the classes & interfaces in java.util.concurrent =
instead of using a raw Thread.  Concurrency often ends up being trickier =
than it first appears and the classes & interfaces in this package were =
designed to handle a lot of these subtle details for you.  The Executors =
class in particular has some pre-built common configurations ready to =
instantiate.

> =C2=B7         Does the spawned thread have a time limit imposed by =
Tomcat?
>=20
> =C2=B7         Does it take up worker thread space from other Tomcat =
threads?
>=20
I believe the simple answer to these is No.  Which is to say I don't =
believe Tomcat per se enforces such limits.  However, it may be possible =
that an active SecurityManager could impose them.  Would be unusual =
though -- especially the 1st question.

>=20
> I'd appreciate any help anyone could give w.r.t. these questions.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 12:46:18 2012
Return-Path: <users-return-234372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D43DA9FFB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 12:46:18 +0000 (UTC)
Received: (qmail 6820 invoked by uid 500); 21 May 2012 12:46:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6759 invoked by uid 500); 21 May 2012 12:46:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6750 invoked by uid 99); 21 May 2012 12:46:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 12:46:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 12:46:07 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id 5830FA840C41
	for <users@tomcat.apache.org>; Mon, 21 May 2012 06:42:16 -0600 (MDT)
Date: Mon, 21 May 2012 06:42:15 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: DefaultServlet socketWrite hang
Message-ID: <710cc17e-c8a0-4775-87c1-e38a565fae7f@arizona.hanik.com>
In-Reply-To: <FF57D64E4551F64F85176BC1E9478D402D3D1DB2@usilms111b.ca.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [181.30.6.114]
X-Mailer: Zimbra 7.1.1_GA_3196 (ZimbraWebClient - IE8 (Win)/7.1.1_GA_3196)

if you look deeper under the hood of Java NET/IO you will see that there is no configurable timeout for writing blocking IO.
The best thing you can do is upgrade to Tomcat 6, and use the NIO connector (protocol="org.apache.coyote.http11.Http11NioProtocol") as that has a configurable timeout for writing data.

best
Filip


----- Original Message -----
> From: "Douglas Briere" <Douglas.Briere@ca.com>
> To: 'users@tomcat.apache.org'
> Sent: Tuesday, May 15, 2012 4:18:00 PM
> Subject: DefaultServlet socketWrite hang
> 
> 
> Hello,
> 
> We are using tomcat 5.5.30. I saw the following 26 times at one of
> customers sites.  Our web server is used to launch JNLP
> applications, so I believe this was downloading the client jar
> files.  However, java webstart caches after the first occurrence so
> this is a bit odd.  Has anyone seen this before? It appears these
> threads are getting stalled out.  Could a socket timeout be
> configured?  Thanks.
> 
> at java.net.SocketOutputStream.socketWrite0(Native Method)
>                 at
>                 java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
>                 at
>                 java.net.SocketOutputStream.write(SocketOutputStream.java:136)
>                 at
>                 org.apache.coyote.http11.InternalOutputBuffer.realWriteBytes(InternalOutputBuffer.java:751)
>                 at
>                 org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:432)
>                 at
>                 org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:347)
>                 at
>                 org.apache.coyote.http11.InternalOutputBuffer$OutputStreamOutputBuffer.doWrite(InternalOutputBuffer.java:774)
>                 at
>                 org.apache.coyote.http11.filters.IdentityOutputFilter.doWrite(IdentityOutputFilter.java:118)
>                 at
>                 org.apache.coyote.http11.InternalOutputBuffer.doWrite(InternalOutputBuffer.java:584)
>                 at
>                 org.apache.coyote.Response.doWrite(Response.java:560)
>                 at
>                 org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:365)
>                 at
>                 org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:352)
>                 at
>                 org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:396)
>                 at
>                 org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:385)
>                 at
>                 org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:89)
>                 at
>                 org.apache.catalina.servlets.DefaultServlet.copy(DefaultServlet.java:1839)
>                 at
>                 org.apache.catalina.servlets.DefaultServlet.serveResource(DefaultServlet.java:929)
>                 at
>                 org.apache.catalina.servlets.DefaultServlet.doGet(DefaultServlet.java:385)
>                 at
>                 javax.servlet.http.HttpServlet.service(HttpServlet.java:627)
>                 at
>                 javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
>                 at
>                 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
>                 at
>                 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
>                 at
>                 org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
>                 at
>                 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
>                 at
>                 org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)
>                 at
>                 org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
>                 at
>                 org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
>                 at
>                 org.apache.catalina.valves.FastCommonAccessLogValve.invoke(FastCommonAccessLogValve.java:500)
>                 at
>                 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
>                 at
>                 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
>                 at
>                 org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:879)
>                 at
>                 org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
>                 at
>                 org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
>                 at
>                 org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
>                 at
>                 org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 14:07:26 2012
Return-Path: <users-return-234373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CCE3CF61
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 14:07:26 +0000 (UTC)
Received: (qmail 31762 invoked by uid 500); 21 May 2012 14:07:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31702 invoked by uid 500); 21 May 2012 14:07:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31692 invoked by uid 99); 21 May 2012 14:07:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 14:07:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 14:07:14 +0000
Received: by eekd41 with SMTP id d41so2284892eek.18
        for <users@tomcat.apache.org>; Mon, 21 May 2012 07:06:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=8ZWF7fr05muy2Gg/Oew2bYCUJ2v4McXRxGAflB4r/Xg=;
        b=NKd7uM7JDVjsax9BQ4QfOSSYplizomVhq52LS3r/3GcMT6wQRG5VtMxwzcsYC8tkrG
         Y9p7Tb6G9uuSfNAGeVnpVIpwBEXPZLAAXjRYAA953Bwc+LxFkremOsi+aIhlZtL6jy1q
         2o+syR1RRlYI5F5vCx5zR+JWZSZWjkP/WZml4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=8ZWF7fr05muy2Gg/Oew2bYCUJ2v4McXRxGAflB4r/Xg=;
        b=U7JYrxeBSlp1u+N89a/7OuxRHhWlW9YVlB9j0bfsGPjghTw1faf4SAAbjMolwTIzqz
         IDVWmBU/DC11fQOd5e1q57l3B3UZ3bMc3gYov/t9WWgXq+lN+TrqqJ01KdJxEjmOi0HB
         LCkNUP4HdLc7JbyuUV6TcXSQu2XOiOJg/y5Q/WgAHf+MuH0jEfdxG0SJ9Ae46cxKtqoT
         OdResn2zNj2cDr0kHW6BJAgKwANDhkFG5wpQYQf20sG1uYSo7FQn/psrmj8tiWfXO6P0
         /Tdm4DbLO7rYgWEkZNEEoVCsjmcJluC5v5X2rh/OU8yaiJ5dJ5Ks3rQ03pQgO41vKxlQ
         CsQQ==
Received: by 10.213.2.204 with SMTP id 12mr4321530ebk.98.1337609213162;
        Mon, 21 May 2012 07:06:53 -0700 (PDT)
Received: from Asura.local (host81-130-11-164.in-addr.btopenworld.com. [81.130.11.164])
        by mx.google.com with ESMTPS id u10sm90748046eem.1.2012.05.21.07.06.50
        (version=SSLv3 cipher=OTHER);
        Mon, 21 May 2012 07:06:51 -0700 (PDT)
Message-ID: <4FBA4BF7.40703@pidster.com>
Date: Mon, 21 May 2012 15:06:47 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: aliases attribute tomcat7
References: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com> <4FB49558.5090006@pidster.com> <CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
In-Reply-To: <CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigA3D4E187FDA9E14E3A5C8530"
X-Gm-Message-State: ALoCoQnqPtU26HIHYkAI8payBpZgChKIo+63EfRWGqYWoeUgP3i73qzzgUUBzbDZx58AvC75WSGD

--------------enigA3D4E187FDA9E14E3A5C8530
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 17/05/2012 07:11, Michael Ravits wrote:
> Hey Pidster,
>=20
> This is the tag I've used:
>=20
> <Context aliases=3D"/img/images=3D/home/michaelr/images,/img/thumbs=3D/=
home/michaelr/thumbs"></Context>
>=20
> It could have been a permissions problem but I gather that if docBase
> works, this must work as well permission wise.
>=20
> Thanks,
> Michael
>=20
> 2012/5/17, Pid <pid@pidster.com>:
>> On 17/05/2012 06:41, Michael Ravits wrote:
>>> Hi Everybody,
>>>
>>> I just can't get this to work.
>>> Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
>>> I deployed ROOT.war and then went on to configure aliases.
>>> Tried adding the attribute in:
>>
>> Obvious question: what exactly did you try?
>>
>>
>> p
>>
>>> $CATALINA_BASE/conf/Catalina/localhost/ROOT.xml

This applies to the default context and seems to work OK on my install.
Can you try using a fresh download from Apache?


>>> $CATALINA_BASE/conf/Catalina/localhost/context.xml

This would only work for an application called '/context'.
If your app is called something else, it won't work.


>>> $CATALINA_BASE/conf/Catalina/localhost/context.xml.default
>>> $CATALINA_BASE/conf//context.xml

I don't know if it works in the default context, but I'd assume not - or
at least that it's not such a good idea to set it for all Contexts.


p

>>> But nothing seems to work..
>>>
>>> In the mean while I've resorted to adding:
>>>
>>> $CATALINA_BASE/conf/Catalina/localhost/img.xml
>>>
>>> With docBase attribute pointing at the right place and it works.
>>> But it seems to me that aliases is more appropriate.
>>>
>>> Does anyone know what I'm doing wrong?
>>> How should I debug this?
>>>
>>> Thanks,
>>> Michael
>>>
>>> ---------------------------------------------------------------------=

>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>> --
>>
>> [key:62590808]
>>
>>
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigA3D4E187FDA9E14E3A5C8530
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPukv3AAoJEGoM2OGpOvr9wjUP/RDc+e20hZ+O3qUMHXr3T7DR
FbW4L3/MZUYJc7OFfjlZEynfMrkmTsQAXmsZfPeQGut7ddCi0bgONmOWv2HiCZhV
2w7FrFcjBQkCyFc/+e9AWNe2onRGRc0QQ4Cq7IRp1ae+okRE7Cj8lnedJheQo0cZ
TVNd0fkGvzS6lRGTRx0gz4rZ9DlMpGdFINBEeKd2PRTxbGj49Sr1eUtbsXIbxTzq
Op3V8PFtftSfQNS7ZkAcaMT9vTEu9fwQWZ0RWWjR+jcG3bDzs1uC6jrdZ0O9urq7
NOgIrM0otcUJ53yy4irh9y7AISLdUBFGjNbu1Nkbb+9VxItzMzj4eI79papdjC/c
nti5U+UoVrSD46E2UTxvTYlbYW7x2otfJm6sBtEP0Rksq9O90lv1PUw9Y5fJGJon
spSVfjEXO+y3oVeMSQdt1/OB9Ouxtp+ieTcITu9Y0fgyXHxTplNFqxXRLAXD7f8H
DjeEvbPoyFliR53aeU6hJLD3C4EMApwrsBgEeupR+KA8jYu1ks++hgewc1WdT20o
4q0PmKhkwZcFKRS98hZceTKU4eyjGz/qDeCvzQ2SHyKGJvTozA6TQKcVUcZdEXlZ
0+Qy2DGuCJH+cOWHaZOJQmTEDbhlDbHQAKN2kjQdHZ8rjMMgP/rQHmsdi0u4m0VW
/J4jlZ/s3gzSFGXmRyPM
=5NCx
-----END PGP SIGNATURE-----

--------------enigA3D4E187FDA9E14E3A5C8530--

From users-return-234374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 19:45:09 2012
Return-Path: <users-return-234374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B5399F39
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 19:45:09 +0000 (UTC)
Received: (qmail 96169 invoked by uid 500); 21 May 2012 19:45:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96129 invoked by uid 500); 21 May 2012 19:45:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96118 invoked by uid 99); 21 May 2012 19:45:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 19:45:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 19:44:59 +0000
Received: from omta02.westchester.pa.mail.comcast.net ([76.96.62.19])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id CjFT1j0050QuhwU51jkd8l; Mon, 21 May 2012 19:44:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta02.westchester.pa.mail.comcast.net with comcast
	id Cjkc1j00P38FjT13NjkcoL; Mon, 21 May 2012 19:44:37 +0000
Message-ID: <4FBA9B24.1010603@christopherschultz.net>
Date: Mon, 21 May 2012 15:44:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Threads in Tomcat
References: <CAOwg8XY=vtwig+pPtKmhjsOBEwW7yh5U+a4L21Zky5szSnxVcA@mail.gmail.com> <4FB676C6.30400@christopherschultz.net> <CAOwg8XZcQ5t5wztbpNRRcwL0fiTuTfDvUJriq0Bc+2yep+1dVg@mail.gmail.com>
In-Reply-To: <CAOwg8XZcQ5t5wztbpNRRcwL0fiTuTfDvUJriq0Bc+2yep+1dVg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vance,

On 5/18/12 12:29 PM, Vance - wrote:
> The servlet I have in mind for modification is the one responsible
> for performing the search as well as for getting the next page of
> search results. If one or more of the wikis is unavailable, I want
> to display an error message on the search results page.

I'm not sure that's entirely relevant.

> The wiki availability check won't be done all the time, as I
> mentioned before, just every so often, say, every 30 minutes.

Again, not sure that's relevant. If you are going to do things
periodically, then the place to kick-off the thread is in a
ServletContextListener and not in a servlet.

> Why would using a ServletContextListener be better than using a
> servlet?

Because that's the most appropriate place to do it: servlets can be
started and stopped, started multiple times, run in parallel, etc. --
however the container wants to do things. ServletContextListeners are
well-defined to only be called on startup and shutdown.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+6myQACgkQ9CaO5/Lv0PCIWgCePuqidEy+iLnmzQTF5bNvJlBJ
ffIAoKvQ8Xp2v15Q7Xia9i1qlCmA2jWl
=kA23
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 19:50:34 2012
Return-Path: <users-return-234375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A20469F6F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 19:50:34 +0000 (UTC)
Received: (qmail 17815 invoked by uid 500); 21 May 2012 19:50:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17775 invoked by uid 500); 21 May 2012 19:50:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17766 invoked by uid 99); 21 May 2012 19:50:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 19:50:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 19:50:24 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id CaAp1j00J1ei1Bg51jq45z; Mon, 21 May 2012 19:50:04 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id Cjq41j00238FjT13kjq4dX; Mon, 21 May 2012 19:50:04 +0000
Message-ID: <4FBA9C6B.1000305@christopherschultz.net>
Date: Mon, 21 May 2012 15:50:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: TC7: trigger seeding of SecureRandom
References: <4FB9EC44.5000608@stimulussoft.com>
In-Reply-To: <4FB9EC44.5000608@stimulussoft.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jamie,

On 5/21/12 3:18 AM, Jamie wrote:
> We've just upgraded out web app to TC7. It seems the following is 
> being outputted repeatedly on the console for each page load:
> 
> trigger seeding of SecureRandom done seeding SecureRandom

Hmm.

> Closer inspection reveals, the Tomcat class SessionIdGenerator
> using SecureRandom.

Since you've looked at the code, have you found any indication that it
would log a) any message like this at all or b) to the console? What
makes you suspect SessionIdGenerator when there are other classes in
Tomcat that use SecureRandom?

> Is this normal?

I've never seen it. Then again, I've never run your web app in my
environment.

> Why would SecureRandom have to be seeded so often?

I can't imagine why. I would recommend looking through your webapp's
code for clues. There isn't anything

> I am also worried about the Tomcat console log filling up over
> time.

You shouldn't be logging to stdout, then.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+6nGsACgkQ9CaO5/Lv0PAHsgCfWahEvD+tBt2B7M8Dg6RWuuQb
PfkAn2CNoWYOXav2qXmtaeVbbU8u6hj4
=UTit
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 21 20:07:36 2012
Return-Path: <users-return-234376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A36709034
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 21 May 2012 20:07:36 +0000 (UTC)
Received: (qmail 77606 invoked by uid 500); 21 May 2012 20:07:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77362 invoked by uid 500); 21 May 2012 20:07:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77351 invoked by uid 99); 21 May 2012 20:07:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 20:07:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 May 2012 20:07:25 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id Ck5N1j0010Fqzac58k74Qr; Mon, 21 May 2012 20:07:04 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id Ck731j02N38FjT13Uk74vo; Mon, 21 May 2012 20:07:04 +0000
Message-ID: <4FBAA067.8010203@christopherschultz.net>
Date: Mon, 21 May 2012 16:07:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I have /subapp/a and /subapp/b. Can i have different sessions
 for them?
References: <CAM_s6kz8khch7ghqcr0ZuDPfY6hP5TJB-DLoVxHzHOdWRXN1Sw@mail.gmail.com>
In-Reply-To: <CAM_s6kz8khch7ghqcr0ZuDPfY6hP5TJB-DLoVxHzHOdWRXN1Sw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Teo,

On 5/18/12 3:37 PM, Teo wrote:
> Let's say i have 2 main entry points into my application: /subapp/a
> and /subapp/b. They are part of the same webapp but they are
> somehow different and i want to distinguish between them. Having a
> separate session for each of them would be the greatest thing

Why JSESSIONID? Why not some other cookie?

I can see several other ways to do this, but it would help if you
could explain what kinds of things you want to do when the user is in
a different "sub-section" of the webapp.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+6oGcACgkQ9CaO5/Lv0PBw2ACfSEQNVwNEGNfg/ehJC76J4Ckt
XKsAoMMuseRkZXyrIl7KdM4T563wGxaM
=vgko
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 07:38:16 2012
Return-Path: <users-return-234377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BDCB29E43
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 07:38:16 +0000 (UTC)
Received: (qmail 78250 invoked by uid 500); 22 May 2012 07:38:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77793 invoked by uid 500); 22 May 2012 07:38:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77741 invoked by uid 99); 22 May 2012 07:38:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 07:38:04 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of michaelr524@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 07:37:59 +0000
Received: by lahc1 with SMTP id c1so5410229lah.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 00:37:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vzCnQH71jKW8pQpOc4mvS+Hfr6T4vXtOQsdfA8yBK1Q=;
        b=CCuGpsSreDIBADn3SHQacPfY5AuKQgmN//iUSMAk+/VR6hGg+9hNisKHS0vGJnHF2J
         tAio+fJcHHYvDBPpQfcaAIWUeVemTLCKzAgIUIGBytE1ZBduU8qQyheixoI/hrcU/WFV
         A+MHDLxIZ4opeVtWaqjTe/hW4teAXEswU9KwWHrtfZl3WTzfNPpqVWa46OkkI5yUrCjP
         /MUsabhLcZCjuVsiN28yHPRuISb1dhwwHJMdj39/gwptLqpnJ3LswGh8jLZqQUv2/naM
         ZRvc84fh32XsqnuwQaD4rUW3QV17t5DOrvpWvCwByEyYExO5WjPHu08gSmIVqR/iKrEc
         uUwQ==
MIME-Version: 1.0
Received: by 10.112.99.98 with SMTP id ep2mr1799028lbb.45.1337672257793; Tue,
 22 May 2012 00:37:37 -0700 (PDT)
Received: by 10.112.23.65 with HTTP; Tue, 22 May 2012 00:37:37 -0700 (PDT)
In-Reply-To: <4FBA4BF7.40703@pidster.com>
References: <CA+T4S-j8WMBTX+UEhTvRw2nOmR4R5C4R8BK3q+yQQvig3fPazg@mail.gmail.com>
	<4FB49558.5090006@pidster.com>
	<CA+T4S-h9OzZ1tHCGTbWSTZEBQCJMY7QLrrtRZM9zfofSA94aXA@mail.gmail.com>
	<4FBA4BF7.40703@pidster.com>
Date: Tue, 22 May 2012 10:37:37 +0300
Message-ID: <CA+T4S-hfKio1zPY9F31pGx=hYTT0OjnfjO+DXhusp1f_TW7bGQ@mail.gmail.com>
Subject: Re: aliases attribute tomcat7
From: Michael Ravits <michaelr524@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Pid,

Tried your suggestion but got the same results.
Any way to debug this?

Thanks,
Michael

2012/5/21, Pid <pid@pidster.com>:
> On 17/05/2012 07:11, Michael Ravits wrote:
>> Hey Pidster,
>>
>> This is the tag I've used:
>>
>> <Context
>> aliases="/img/images=/home/michaelr/images,/img/thumbs=/home/michaelr/thumbs"></Context>
>>
>> It could have been a permissions problem but I gather that if docBase
>> works, this must work as well permission wise.
>>
>> Thanks,
>> Michael
>>
>> 2012/5/17, Pid <pid@pidster.com>:
>>> On 17/05/2012 06:41, Michael Ravits wrote:
>>>> Hi Everybody,
>>>>
>>>> I just can't get this to work.
>>>> Installed Tomcat 7.0.21 on ubuntu 11 using apt-get.
>>>> I deployed ROOT.war and then went on to configure aliases.
>>>> Tried adding the attribute in:
>>>
>>> Obvious question: what exactly did you try?
>>>
>>>
>>> p
>>>
>>>> $CATALINA_BASE/conf/Catalina/localhost/ROOT.xml
>
> This applies to the default context and seems to work OK on my install.
> Can you try using a fresh download from Apache?
>
>
>>>> $CATALINA_BASE/conf/Catalina/localhost/context.xml
>
> This would only work for an application called '/context'.
> If your app is called something else, it won't work.
>
>
>>>> $CATALINA_BASE/conf/Catalina/localhost/context.xml.default
>>>> $CATALINA_BASE/conf//context.xml
>
> I don't know if it works in the default context, but I'd assume not - or
> at least that it's not such a good idea to set it for all Contexts.
>
>
> p
>
>>>> But nothing seems to work..
>>>>
>>>> In the mean while I've resorted to adding:
>>>>
>>>> $CATALINA_BASE/conf/Catalina/localhost/img.xml
>>>>
>>>> With docBase attribute pointing at the right place and it works.
>>>> But it seems to me that aliases is more appropriate.
>>>>
>>>> Does anyone know what I'm doing wrong?
>>>> How should I debug this?
>>>>
>>>> Thanks,
>>>> Michael
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>
>>>
>>> --
>>>
>>> [key:62590808]
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
> --
>
> [key:62590808]
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 09:12:27 2012
Return-Path: <users-return-234378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 110EAC9C6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 09:12:27 +0000 (UTC)
Received: (qmail 33678 invoked by uid 500); 22 May 2012 09:12:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33252 invoked by uid 500); 22 May 2012 09:12:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33201 invoked by uid 99); 22 May 2012 09:12:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:12:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kjkoster@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:12:08 +0000
Received: by werf3 with SMTP id f3so5364687wer.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 02:11:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:content-type:content-transfer-encoding:subject:date:message-id
         :to:mime-version:x-mailer;
        bh=PxP02g2hoveZSo8pa/Bb2kb++GkrUI7ByV0Q3rotXcU=;
        b=CVveUvvwj6unIU7Ajk1/KB4RGvNBcPyPcAncxULbeD+hn1pGZoX4c5VhbihmP2xrZh
         yjMSSEIDXBTv6B6CsEBu8f5KZgLvsCG7cIQ6BnWawA/T45P4uA4xtCA+aTnTkLacFD/u
         kVgP/M3q+PRTQauMdqcnl24cngAb/fCkHtoUeGkvXJPgkpzibIoVnvrJwtxYYOf7+h0i
         FLYdC9tyHjIBwGVCeN++Kd/zPQ8ahZ13x4tyOWEiToliZlzF2LRgXpypGZUUg6FraART
         l1Y3aI1JBuWJE10Lpb5cW5CI7Irs3BUOyuoKqk0jbjZRqw3KstnWOaKRcuxlMujs8G1w
         OrkA==
Received: by 10.180.82.5 with SMTP id e5mr32992109wiy.0.1337677908330;
        Tue, 22 May 2012 02:11:48 -0700 (PDT)
Received: from [192.168.20.227] ([130.117.252.5])
        by mx.google.com with ESMTPS id gb9sm31810347wib.8.2012.05.22.02.11.47
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 May 2012 02:11:47 -0700 (PDT)
From: Kees Jan Koster <kjkoster@gmail.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: connection reset errors
Date: Tue, 22 May 2012 11:11:45 +0200
Message-Id: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Mime-Version: 1.0 (Apple Message framework v1278)
X-Mailer: Apple Mail (2.1278)

Dear Tomcat community,

I am trying to resolve the problem where some client code in Java =
frequently gets the following error in the logs:

java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at =
java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at =
java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at =
java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at =
sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:687)
	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:632)
	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:652)
	at =
sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnecti=
on.java:1000)
	...

The client code performs a simple HTTP POST request to a Tomcat server =
(FreeBSD 9.0-STABLE, Java 1.6.0_03, Tomcat 6.0.26). Below is the HTTP =
connector from server.xml:

    <Connector port=3D"8080" protocol=3D"HTTP/1.1"=20
               connectionTimeout=3D"10000" enableLookups=3D"false" =
compression=3D"on"
               maxThreads=3D"256" bufferSize=3D"9000" />

Tracing the servlet in Tomcat shows that the servlet's doPost() method =
returns normally and does not show any exceptions (I catch and log =
Throwable and nothing related is logged). Tracing on an application =
level shows the posted data to be in the database, as would be for a =
normal POST. The data is correct.

Of note is that the response time of the post is the same as for a =
successful post. Under normal circumstances Tomcat processes a post in =
about 25ms, measured in the client. When I get this exception, the =
response time is also about that time. I think therefore that I am not =
timing out anywhere (or the response time would be a lot longer).

First question: It says "Connection reset" and not "Connection reset by =
peer". What is the difference between the two? I am told that one means =
a local reset and the other means a remote reset. Where can I find more =
about this difference?

Second question: how do I analyze such resets? How do I find out who =
reset the connection and why? How can I replay this in such a way that I =
can see that?
--
Kees Jan

http://java-monitor.com/
kjkoster@kjkoster.org
+31651838192

Change is good. Granted, it is good in retrospect, but change is good.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 09:46:08 2012
Return-Path: <users-return-234379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17EDC9924
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 09:46:08 +0000 (UTC)
Received: (qmail 42764 invoked by uid 500); 22 May 2012 09:46:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42536 invoked by uid 500); 22 May 2012 09:46:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42509 invoked by uid 99); 22 May 2012 09:46:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:46:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:45:55 +0000
Received: by obbwd20 with SMTP id wd20so13378027obb.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 02:45:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=3oPyiyDSXmQBoxljuW2jlfsd3MxnrWMRWw9xqOZZR/I=;
        b=PlokPCOX1eBA10oRWvkWkUSsy1FH94oLXousPuMbDo7zePCSeF+3yb2yuCxMSps7Ei
         4BqOj1JYurbiak0s34QMgfBfY6ODAfUitrJMyc0cpMaxSM2lTOmOczZo3el3AbKZyFy4
         reZJDA5mdrrW7B3aU+//Kf3Px0HJUQeRbNL3EvIQ1VZoXv9XrlX0nLRmGbq4O8dGM35p
         pcHWBzOdxJdLKGlYNgZFUYg07ubzWW2NouNNPo/iGuakFUwey5zKvmv4NgG2HaxAGMix
         F1/CaNOE1uw7L2q13JXKiO/2EmY+HRGZx66d+RUJysBCMJEL+Ve5Qwi0ymvd4WA1aDlE
         4caA==
Received: by 10.60.5.231 with SMTP id v7mr21894853oev.61.1337679934117; Tue,
 22 May 2012 02:45:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.98.38 with HTTP; Tue, 22 May 2012 02:45:13 -0700 (PDT)
In-Reply-To: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Tue, 22 May 2012 11:45:13 +0200
Message-ID: <CABOBwRhrEqrku5KMFU=9h20ayk+89UC=8hMuniJ2Not_r9Pi5w@mail.gmail.com>
Subject: Re: connection reset errors
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/22 Kees Jan Koster <kjkoster@gmail.com>:
> Dear Tomcat community,
>
> I am trying to resolve the problem where some client code in Java frequen=
tly gets the following error in the logs:
>
> java.net.SocketException: Connection reset
> =A0 =A0 =A0 =A0at java.net.SocketInputStream.read(SocketInputStream.java:=
168)
> =A0 =A0 =A0 =A0at java.io.BufferedInputStream.fill(BufferedInputStream.ja=
va:218)
> =A0 =A0 =A0 =A0at java.io.BufferedInputStream.read1(BufferedInputStream.j=
ava:258)
> =A0 =A0 =A0 =A0at java.io.BufferedInputStream.read(BufferedInputStream.ja=
va:317)
> =A0 =A0 =A0 =A0at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.=
java:687)
> =A0 =A0 =A0 =A0at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:6=
32)
> =A0 =A0 =A0 =A0at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:6=
52)
> =A0 =A0 =A0 =A0at sun.net.www.protocol.http.HttpURLConnection.getInputStr=
eam(HttpURLConnection.java:1000)
> =A0 =A0 =A0 =A0...
>

Are you calling to disconnect() method ?

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 09:53:26 2012
Return-Path: <users-return-234380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8DE8996E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 09:53:26 +0000 (UTC)
Received: (qmail 69994 invoked by uid 500); 22 May 2012 09:53:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69713 invoked by uid 500); 22 May 2012 09:53:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69688 invoked by uid 99); 22 May 2012 09:53:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:53:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kjkoster@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:53:16 +0000
Received: by wibhm14 with SMTP id hm14so2652643wib.0
        for <users@tomcat.apache.org>; Tue, 22 May 2012 02:52:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=ARkxYf/VL1l/icWwg4agLcbUFDFcQyTiO1F/W4MutEg=;
        b=u75HVBWtCbgDNl7Q/8ISi9NVI1nzO2A1aJYp15YNmIK4OsrqC7jbw/i2k0aTCPLVBQ
         0z1TEYUCxzd7xjOWLXEXDqntwktIdAc67YuqvfjxttYAigzp6UaoCvvjI9ZzZYafvNkL
         eeiJsV3ihS1dmkR8DJm4XMC96yLerPzRaJBVnl7ebjuiUCy6kvucacz1b6FQ8bvt1Wtu
         2CTcQ57P861h0+11MpznNUXzaaR2syQoGT54ZI0JdQZ9Gfdj4TcppHbJt+JDKwxqCsRC
         wbZS8h8YuxGwupv0RPoJxwXSCLOT3Zv2jWe/lWtrihhiBSXAl27qrgesjTFTybgWVE+a
         zdhw==
Received: by 10.180.79.71 with SMTP id h7mr4000086wix.19.1337680374718;
        Tue, 22 May 2012 02:52:54 -0700 (PDT)
Received: from [192.168.20.227] ([130.117.252.5])
        by mx.google.com with ESMTPS id bn9sm31979071wib.5.2012.05.22.02.52.53
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 May 2012 02:52:53 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: connection reset errors
From: Kees Jan Koster <kjkoster@gmail.com>
In-Reply-To: <CABOBwRhrEqrku5KMFU=9h20ayk+89UC=8hMuniJ2Not_r9Pi5w@mail.gmail.com>
Date: Tue, 22 May 2012 11:52:52 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <93846927-7497-42BD-AFB6-944364743B1D@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com> <CABOBwRhrEqrku5KMFU=9h20ayk+89UC=8hMuniJ2Not_r9Pi5w@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)
X-Virus-Checked: Checked by ClamAV on apache.org

Dear Jose,

> 2012/5/22 Kees Jan Koster <kjkoster@gmail.com>:
>> Dear Tomcat community,
>>=20
>> I am trying to resolve the problem where some client code in Java =
frequently gets the following error in the logs:
>>=20
>> java.net.SocketException: Connection reset
>>        at java.net.SocketInputStream.read(SocketInputStream.java:168)
>>        at =
java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
>>        at =
java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
>>        at =
java.io.BufferedInputStream.read(BufferedInputStream.java:317)
>>        at =
sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:687)
>>        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:632)
>>        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:652)
>>        at =
sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnecti=
on.java:1000)
>>        ...
>>=20
>=20
> Are you calling to disconnect() method ?


Yes I am. In finally{} block. Here is the client code:

    private Properties push(final Properties request) throws IOException =
{
        HttpURLConnection connection =3D null;
        PrintStream out =3D null;
        InputStream in =3D null;
        try {
            connection =3D (HttpURLConnection) =
pushUrl.openConnection(proxy);
            connection.setRequestMethod("POST");
            connection.setDoOutput(true);
            connection.setConnectTimeout(TWO_MINUTES);
            connection.setReadTimeout(TWO_MINUTES);
            connection.setRequestProperty("Connection", "close");

            out =3D new PrintStream(connection.getOutputStream());
            request.storeToXML(out, null);
            out.flush();

            in =3D connection.getInputStream();
            final Properties response =3D new Properties();
            response.loadFromXML(in);

            return response;
        } finally {
            if (in !=3D null) {
                try {
                    in.close();
                } catch (Exception e) {
                    // ignore...
                }
            }
            if (out !=3D null) {
                try {
                    out.close();
                } catch (Exception e) {
                    // ignore...
                }
            }

            if (connection !=3D null) {
                try {
                    connection.disconnect();
                } catch (Exception e) {
                    // ignore...
                }
            }
        }
    }
}

--
Kees Jan

http://java-monitor.com/
kjkoster@kjkoster.org
+31651838192

Human beings make life so interesting. Do you know that in a universe so =
full of wonders,
they have managed to invent boredom. Quite astonishing... -- Terry =
Pratchett


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 09:57:38 2012
Return-Path: <users-return-234381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63BF9999E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 09:57:38 +0000 (UTC)
Received: (qmail 84593 invoked by uid 500); 22 May 2012 09:57:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84521 invoked by uid 500); 22 May 2012 09:57:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84504 invoked by uid 99); 22 May 2012 09:57:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:57:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:57:26 +0000
Received: from [192.168.245.129] (p549E8DF0.dip0.t-ipconnect.de [84.158.141.240])
	by tor.combios.es (Postfix) with ESMTPA id 0787BDA08DE
	for <users@tomcat.apache.org>; Tue, 22 May 2012 11:57:03 +0200 (CEST)
Message-ID: <4FBB62E9.4090406@ice-sa.com>
Date: Tue, 22 May 2012 11:56:57 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: connection reset errors
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
In-Reply-To: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Kees Jan Koster wrote:
> Dear Tomcat community,
> 
> I am trying to resolve the problem where some client code in Java frequently gets the following error in the logs:
> 
> java.net.SocketException: Connection reset
> 	at java.net.SocketInputStream.read(SocketInputStream.java:168)
> 	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
> 	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
> 	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
> 	at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:687)
> 	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:632)
> 	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:652)
> 	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1000)
> 	...
> 
> The client code performs a simple HTTP POST request to a Tomcat server (FreeBSD 9.0-STABLE, Java 1.6.0_03, Tomcat 6.0.26). Below is the HTTP connector from server.xml:
> 
>     <Connector port="8080" protocol="HTTP/1.1" 
>                connectionTimeout="10000" enableLookups="false" compression="on"
>                maxThreads="256" bufferSize="9000" />
> 
> Tracing the servlet in Tomcat shows that the servlet's doPost() method returns normally and does not show any exceptions (I catch and log Throwable and nothing related is logged). Tracing on an application level shows the posted data to be in the database, as would be for a normal POST. The data is correct.
> 
> Of note is that the response time of the post is the same as for a successful post. Under normal circumstances Tomcat processes a post in about 25ms, measured in the client. When I get this exception, the response time is also about that time. I think therefore that I am not timing out anywhere (or the response time would be a lot longer).
> 
> First question: It says "Connection reset" and not "Connection reset by peer". What is the difference between the two? I am told that one means a local reset and the other means a remote reset. Where can I find more about this difference?
> 
> Second question: how do I analyze such resets? How do I find out who reset the connection and why? How can I replay this in such a way that I can see that?
> --

Hi.

Assuming that your client is really connecting to that HTTP connector on port 8080 
mentioned above..

1) You are getting a
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)

so this appears to happen when/while your java client is reading the response from the 
server, and it appears to be that the client is expecting to be able to read more data, 
but finds itself unable to, because the socket has been closed "under his nose".

You say that it happens "frequently", so it's not always.

2) the server itself seems unaware that there is a problem.  So it has already written the 
whole response back to the client, decided it was done with this request, and gone happily 
to handle other things.

That can happen, even if the client has not yet received all data, because between the 
server and the client there is a lot of piping, and the data may buffered at various 
levels or still "in transit".

thus..

- either the client is misinterpreting the amount of data that it should be reading from 
the server's response (trying to read more than there actually is)
(on the other hand, I think that the kind of exception you would get in that case would be 
different, more like "trying to read beyond EOF" or so).
- or something in-between the server and the client closes the connection before all data 
has been returned to the client (and/or is loosing data).

It would be helpful to know if this happens when the response is particularly large, or 
small, or if it is unrelated to the response size.

If the server is configured with an AccessLogValve, you should be able to see how big the 
response was, in bytes.  If you have control over the client code, you should be able to 
add something that logs how many bytes it has read before the exception occurs.
Dumping the response HTTP headers to the client logfile would also help finding out what 
happens. (If the client is an applet running inside of a browser, then a browser add-on 
would show this easily (like "Live HTTP Headers" for Firefox, or Fiddler2 for IE)).

Doing a "traceroute" from the client to the server,  may also give an idea of what there 
is actually between the server and the client.
And if this all still does not provide any clues, then you're down to a network packet 
trace, using Wireshark or similar.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 09:59:53 2012
Return-Path: <users-return-234382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D3D599AE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 09:59:53 +0000 (UTC)
Received: (qmail 94703 invoked by uid 500); 22 May 2012 09:59:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94654 invoked by uid 500); 22 May 2012 09:59:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94618 invoked by uid 99); 22 May 2012 09:59:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:59:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 09:59:43 +0000
Received: by obbwd20 with SMTP id wd20so13402958obb.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 02:59:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=Ge4YeaSRfu5hEhs7wk4MUxbLeTHGW6mugxLA/D7jvqM=;
        b=rYGXS6ra40KwMb8hjKM49LQ0nnEg3LBcUnTYqLSyrUI7YIKzH3k1LhHo6/Mzq3RfIw
         gHrA1IbTKnrk1xdBHYWaVgF7hGycbthGTGDA4lqbsz5BIsxhA5l1HbGMx9AH7EBaa6N4
         MXtfXmgRVXvvpcIA+t75gPeXMkFbQ8n3Zsg5II7k1pt7ae5vfn//Y5IUVfF+OW59zZh2
         IvF2HFTJ2LE4Zc4HdKzYLzmYN9Kmkzm7V+Ik0S07MUybxVpQqZBIksagDNT0Iz1xXZLP
         cwD5sN55nkXUOmCggY0mlMfWDXf2h6dTQq7uiOBst7ZRKmknZlCZer+Rn3YTzkKS9cen
         1v/g==
Received: by 10.60.171.80 with SMTP id as16mr21976143oec.59.1337680762527;
 Tue, 22 May 2012 02:59:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.98.38 with HTTP; Tue, 22 May 2012 02:59:02 -0700 (PDT)
In-Reply-To: <93846927-7497-42BD-AFB6-944364743B1D@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com>
 <CABOBwRhrEqrku5KMFU=9h20ayk+89UC=8hMuniJ2Not_r9Pi5w@mail.gmail.com> <93846927-7497-42BD-AFB6-944364743B1D@gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Tue, 22 May 2012 11:59:02 +0200
Message-ID: <CABOBwRh4rU8PpzuS2YrGo4G+r0vvujBV0t53n5ZxJ+51apZJGA@mail.gmail.com>
Subject: Re: connection reset errors
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

> Yes I am. In finally{} block. Here is the client code:

Calling the disconnect() method of HttpURLConnection may close the
underlying socket
if a persistent connection is otherwise idle at that time
Try don't call it,  test it and tell us :-)

http://docs.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html


>
> =A0 =A0private Properties push(final Properties request) throws IOExcepti=
on {
> =A0 =A0 =A0 =A0HttpURLConnection connection =3D null;
> =A0 =A0 =A0 =A0PrintStream out =3D null;
> =A0 =A0 =A0 =A0InputStream in =3D null;
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0connection =3D (HttpURLConnection) pushUrl.openCon=
nection(proxy);
> =A0 =A0 =A0 =A0 =A0 =A0connection.setRequestMethod("POST");
> =A0 =A0 =A0 =A0 =A0 =A0connection.setDoOutput(true);
> =A0 =A0 =A0 =A0 =A0 =A0connection.setConnectTimeout(TWO_MINUTES);
> =A0 =A0 =A0 =A0 =A0 =A0connection.setReadTimeout(TWO_MINUTES);
> =A0 =A0 =A0 =A0 =A0 =A0connection.setRequestProperty("Connection", "close=
");
>
> =A0 =A0 =A0 =A0 =A0 =A0out =3D new PrintStream(connection.getOutputStream=
());
> =A0 =A0 =A0 =A0 =A0 =A0request.storeToXML(out, null);
> =A0 =A0 =A0 =A0 =A0 =A0out.flush();
>
> =A0 =A0 =A0 =A0 =A0 =A0in =3D connection.getInputStream();
> =A0 =A0 =A0 =A0 =A0 =A0final Properties response =3D new Properties();
> =A0 =A0 =A0 =A0 =A0 =A0response.loadFromXML(in);
>
> =A0 =A0 =A0 =A0 =A0 =A0return response;
> =A0 =A0 =A0 =A0} finally {
> =A0 =A0 =A0 =A0 =A0 =A0if (in !=3D null) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0in.close();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0} catch (Exception e) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// ignore...
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0if (out !=3D null) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0out.close();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0} catch (Exception e) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// ignore...
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0}
>
> =A0 =A0 =A0 =A0 =A0 =A0if (connection !=3D null) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0connection.disconnect();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0} catch (Exception e) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// ignore...
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0}
> =A0 =A0}
> }
>
> --
> Kees Jan
>
> http://java-monitor.com/
> kjkoster@kjkoster.org
> +31651838192
>
> Human beings make life so interesting. Do you know that in a universe so =
full of wonders,
> they have managed to invent boredom. Quite astonishing... -- Terry Pratch=
ett
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 10:57:00 2012
Return-Path: <users-return-234383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A7A3C49F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 10:57:00 +0000 (UTC)
Received: (qmail 64965 invoked by uid 500); 22 May 2012 10:56:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64744 invoked by uid 500); 22 May 2012 10:56:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64697 invoked by uid 99); 22 May 2012 10:56:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 10:56:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kjkoster@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 10:56:47 +0000
Received: by wibhm14 with SMTP id hm14so2697477wib.0
        for <users@tomcat.apache.org>; Tue, 22 May 2012 03:56:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=7nqUNvuJVnbp0XP58ej7ZmF1yRpS+Vx3Bxpdo8qDQ60=;
        b=njLSXReg807+etyd/+y7tlmhJZCFl0Iz/hzvyJlTqj7B8eZG52nsTsVhmNkQkfzrou
         DWX8PZaad/IjecZuN/IJ17NbTSenqKvkUfZzPJyPpn56eBchOLQAOrXM7l8UYA9pzBIE
         /AJoDM7ej271RPdahYK/OfbXKpr/nfHnzvu9qr9hQ3qcNN50MxUFAQs6GiZUJUIHby4g
         mRISkLXvGK1eyOpaBYmboNhhBSLMYdTOzDNg/cUilPfRPELZqS7EwrJKD0eUX9m54X/A
         AHfUvQf93yspp+Y2RMwVC6GCWPqGhE5h6CtxpUsRTBBSsh9rPz5KgJTlpj3X3lWwgLOa
         PBQg==
Received: by 10.216.132.150 with SMTP id o22mr15088596wei.109.1337684187652;
        Tue, 22 May 2012 03:56:27 -0700 (PDT)
Received: from [192.168.20.227] ([130.117.252.5])
        by mx.google.com with ESMTPS id fo7sm32282135wib.9.2012.05.22.03.56.26
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 May 2012 03:56:26 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: connection reset errors
From: Kees Jan Koster <kjkoster@gmail.com>
In-Reply-To: <CABOBwRh4rU8PpzuS2YrGo4G+r0vvujBV0t53n5ZxJ+51apZJGA@mail.gmail.com>
Date: Tue, 22 May 2012 12:56:25 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <74268996-989A-45DD-8AD9-D2680F3528A0@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com> <CABOBwRhrEqrku5KMFU=9h20ayk+89UC=8hMuniJ2Not_r9Pi5w@mail.gmail.com> <93846927-7497-42BD-AFB6-944364743B1D@gmail.com> <CABOBwRh4rU8PpzuS2YrGo4G+r0vvujBV0t53n5ZxJ+51apZJGA@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)

Dear Jose,

>> Yes I am. In finally{} block. Here is the client code:
>=20
> Calling the disconnect() method of HttpURLConnection may close the
> underlying socket
> if a persistent connection is otherwise idle at that time
> Try don't call it,  test it and tell us :-)
>=20
> http://docs.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html

Ugh. I never realized the socket API was this messy.

At any rate, I call connection.setRequestProperty("Connection", =
"close"); to indicate that I do not want to make use of persistent =
connections. You can see that in my client code.

If the underlying socket were closed I would also occasionally see other =
methods than 'read' get an error. The stack trace I posted is the only =
one I get, though.
--
Kees Jan

http://java-monitor.com/
kjkoster@kjkoster.org
+31651838192

Change is good. Granted, it is good in retrospect, but change is good.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 11:54:51 2012
Return-Path: <users-return-234384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5376F925D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 11:54:51 +0000 (UTC)
Received: (qmail 54616 invoked by uid 500); 22 May 2012 11:54:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54560 invoked by uid 500); 22 May 2012 11:54:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54551 invoked by uid 99); 22 May 2012 11:54:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 11:54:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kjkoster@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 11:54:41 +0000
Received: by wibhm14 with SMTP id hm14so2739515wib.0
        for <users@tomcat.apache.org>; Tue, 22 May 2012 04:54:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=gEE+3Yi2pz1gB6LPP9TDDXrB3pRZKfBGmHGFbBJJGSs=;
        b=SVHh3BOuNxlLax33E5UkuIUjEq1/MkNQaq/UdXrfZ/RnHlIfN5TNVT0Xn2N8XmhFb5
         /rSj39IDQSY9/Tro7n1vK8+PhpTFXA14vDuxFMZozmHudfRSrqRWGd546yTkh2Q85hPu
         VjeGJadjqT7UHwQ0O9oaVRG/ND1J9SXw+QRUBgPjWAXn730xP6uyI9iBTGOERHzORh3c
         kgLQdUUtGO13/Co7/71dHjYWNlNFWcfktLnmkkkR0+l2cb98ZG1MT0CkLoY/skTigPeq
         CpsCACO7VBweKnLpd69uyjmvuesboX0TyLUewJAUuV0wH5SF8mMFFoinWZX3ZpLsW5RR
         ilFg==
Received: by 10.180.102.3 with SMTP id fk3mr34590555wib.9.1337687660433;
        Tue, 22 May 2012 04:54:20 -0700 (PDT)
Received: from [192.168.20.227] ([130.117.252.5])
        by mx.google.com with ESMTPS id et10sm32532349wib.2.2012.05.22.04.54.18
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 May 2012 04:54:19 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: connection reset errors
From: Kees Jan Koster <kjkoster@gmail.com>
In-Reply-To: <4FBB62E9.4090406@ice-sa.com>
Date: Tue, 22 May 2012 13:54:17 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <A69D0F8A-0624-42F5-9D12-0C9CA18BBB24@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com> <4FBB62E9.4090406@ice-sa.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)
X-Virus-Checked: Checked by ClamAV on apache.org

Dear Andr=E9,

> Assuming that your client is really connecting to that HTTP connector =
on port 8080 mentioned above..

Yes, it has a forwarded port 80 (using FreeBSD ipfw) that also points to =
8080, and there is an Apache with mod_proxy_http that hooks into 8081. =
My tests are on the vanilla port, though.

> 1) You are getting a
> java.net.SocketException: Connection reset
> 	at java.net.SocketInputStream.read(SocketInputStream.java:168)
>=20
> so this appears to happen when/while your java client is reading the =
response from the server, and it appears to be that the client is =
expecting to be able to read more data, but finds itself unable to, =
because the socket has been closed "under his nose".

The reading is one area I need to look into: did the client get all =
data, partial data or none at all. I need to experiment with that.

> You say that it happens "frequently", so it's not always.

Indeed, not always. About 1 in 10 posts die like this on bad days. =
Sometimes hours with no issues. No pattern I can discern.

> 2) the server itself seems unaware that there is a problem.  So it has =
already written the whole response back to the client, decided it was =
done with this request, and gone happily to handle other things.

Precisely.

> That can happen, even if the client has not yet received all data, =
because between the server and the client there is a lot of piping, and =
the data may buffered at various levels or still "in transit".
>=20
> thus..
>=20
> - either the client is misinterpreting the amount of data that it =
should be reading from the server's response (trying to read more than =
there actually is)
> (on the other hand, I think that the kind of exception you would get =
in that case would be different, more like "trying to read beyond EOF" =
or so).
> - or something in-between the server and the client closes the =
connection before all data has been returned to the client (and/or is =
loosing data).
>=20
> It would be helpful to know if this happens when the response is =
particularly large, or small, or if it is unrelated to the response =
size.

The response is a few bytes. I think it is about 10-20 bytes. Less than =
a packet, I expect. :)

> If the server is configured with an AccessLogValve, you should be able =
to see how big the response was, in bytes.  If you have control over the =
client code, you should be able to add something that logs how many =
bytes it has read before the exception occurs.

What makes the request size interesting? What previous experience are =
you basing this question on?

> Dumping the response HTTP headers to the client logfile would also =
help finding out what happens. (If the client is an applet running =
inside of a browser, then a browser add-on would show this easily (like =
"Live HTTP Headers" for Firefox, or Fiddler2 for IE)).

I can check that I see the same problems from a browser using firebug, =
that is a good idea. Thanks.

> Doing a "traceroute" from the client to the server,  may also give an =
idea of what there is actually between the server and the client.

mtr reports no packet loss between the two machines I used for testing.

> And if this all still does not provide any clues, then you're down to =
a network packet trace, using Wireshark or similar.


Packet traces I was hoping to avoid. :(
--
Kees Jan

http://java-monitor.com/
kjkoster@kjkoster.org
+31651838192

The secret of success lies in the stability of the goal. -- Benjamin =
Disraeli


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 12:46:02 2012
Return-Path: <users-return-234385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05EB5CFE2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 12:46:02 +0000 (UTC)
Received: (qmail 35077 invoked by uid 500); 22 May 2012 12:45:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34892 invoked by uid 500); 22 May 2012 12:45:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34878 invoked by uid 99); 22 May 2012 12:45:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 12:45:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 12:45:50 +0000
Received: from [192.168.245.129] (p549E8DF0.dip0.t-ipconnect.de [84.158.141.240])
	by tor.combios.es (Postfix) with ESMTPA id 0D82DDA063A
	for <users@tomcat.apache.org>; Tue, 22 May 2012 14:45:27 +0200 (CEST)
Message-ID: <4FBB8A61.1080906@ice-sa.com>
Date: Tue, 22 May 2012 14:45:21 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: connection reset errors
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com> <4FBB62E9.4090406@ice-sa.com> <A69D0F8A-0624-42F5-9D12-0C9CA18BBB24@gmail.com>
In-Reply-To: <A69D0F8A-0624-42F5-9D12-0C9CA18BBB24@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Kees Jan Koster wrote:
> Dear Andr,
> 
>> Assuming that your client is really connecting to that HTTP connector on port 8080 mentioned above..
> 
> Yes, it has a forwarded port 80 (using FreeBSD ipfw) that also points to 8080, and there is an Apache with mod_proxy_http that hooks into 8081. My tests are on the vanilla port, though.
> 

Can you be a bit clearer on this part ?  Do you see the problem happening for 1 in 10 
posts, when your client connects directly to Tomcat's HTTP port 8080 ?
Or is it only when the client connects to Tomcat via either one of these intermediate 
pieces of machinery ?

>> 1) You are getting a
>> java.net.SocketException: Connection reset
>> 	at java.net.SocketInputStream.read(SocketInputStream.java:168)
>>
>> so this appears to happen when/while your java client is reading the response from the server, and it appears to be that the client is expecting to be able to read more data, but finds itself unable to, because the socket has been closed "under his nose".
> 
> The reading is one area I need to look into: did the client get all data, partial data or none at all. I need to experiment with that.
> 
>> You say that it happens "frequently", so it's not always.
> 
> Indeed, not always. About 1 in 10 posts die like this on bad days. Sometimes hours with no issues. No pattern I can discern.
> 
>> 2) the server itself seems unaware that there is a problem.  So it has already written the whole response back to the client, decided it was done with this request, and gone happily to handle other things.
> 
> Precisely.
> 
>> That can happen, even if the client has not yet received all data, because between the server and the client there is a lot of piping, and the data may buffered at various levels or still "in transit".
>>
>> thus..
>>
>> - either the client is misinterpreting the amount of data that it should be reading from the server's response (trying to read more than there actually is)
>> (on the other hand, I think that the kind of exception you would get in that case would be different, more like "trying to read beyond EOF" or so).
>> - or something in-between the server and the client closes the connection before all data has been returned to the client (and/or is loosing data).
>>
>> It would be helpful to know if this happens when the response is particularly large, or small, or if it is unrelated to the response size.
> 
> The response is a few bytes. I think it is about 10-20 bytes. Less than a packet, I expect. :)

That is quite strange, I think.
See below.


> 
>> If the server is configured with an AccessLogValve, you should be able to see how big the response was, in bytes.  If you have control over the client code, you should be able to add something that logs how many bytes it has read before the exception occurs.
> 
> What makes the request size interesting? What previous experience are you basing this question on?

Just that intuitively, if a problem happens while reading the response, one would expect 
that the larger the response is, the more likely that some network issue would show up in 
the middle.

But now that I say this, going back to your initial message and the stacktrace in it, I see
..
at sun.net.www.http.HttpClient.parseHTTPHeader
...
so the problem seems to show up right away, while the response's HTTP *headers* are being 
read.  So it looks like when the problem happens, the client is not able to read anything 
at all, not even the headers..

Do all problems show up the same stacktrace, all with a problem while reading/parsing the 
response headers ?


> 
>> Dumping the response HTTP headers to the client logfile would also help finding out what happens. (If the client is an applet running inside of a browser, then a browser add-on would show this easily (like "Live HTTP Headers" for Firefox, or Fiddler2 for IE)).
> 
> I can check that I see the same problems from a browser using firebug, that is a good idea. Thanks.
> 
>> Doing a "traceroute" from the client to the server,  may also give an idea of what there is actually between the server and the client.
> 
> mtr reports no packet loss between the two machines I used for testing.

Actually, I was more thinking about some intermediate problematic proxy or something.
But a traceroute or similar would not show that.

See the first question above, about the direct/indirect connection client-server.

> 
>> And if this all still does not provide any clues, then you're down to a network packet trace, using Wireshark or similar.
> 
> 
> Packet traces I was hoping to avoid. :(

So far it smells to me like there is some network issue, with some intermediate software 
or hardware part which is dropping the connection between client and server, after the 
client has sent the request, but before it even starts receiving the response.
Is there anything in-between client and server which could have this behaviour, such as 
when it gets very busy ?
Do you have any kind of tool which can show you how many requests Tomcat is processing 
over time, and if these problems happen when it is handling lots of requests ?
(Not that the problem appears to be at the Tomcat level, but just to check how busy the 
network may be at such times)

Another thing : your client is effectively requesting non-keepalive connections, so Tomcat 
will close the connection after sending the response to each request.  And your clients 
have to rebuild a new connection for each request.
If the same client(s) make lots of small requests one after another, this may be 
counter-productive, because each connection build-up requires several packets going back 
and forth. Also, on the server side, when a connection is being closed, it will 
nevertheless "linger" for a while in CLOSE_WAIT state, waiting for the client's TCP stack 
to acknowledge the CLOSE.  I have seen cases where a large number of such connections 
being in CLOSE_WAIT triggered bizarre issues, such as a server becoming unable to accept 
new TCP connections for a while.
It may be worth checking how many of such CLOSE_WAIT connections you have over time, and 
if this relates to when the problems happen.
netstat -pan | grep CLOSE_WAIT
would show this. If more than a couple of hundreds show up, I'd become suspicious of 
something like that.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 14:50:24 2012
Return-Path: <users-return-234386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64EEBC921
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 14:50:24 +0000 (UTC)
Received: (qmail 66032 invoked by uid 500); 22 May 2012 14:50:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65976 invoked by uid 500); 22 May 2012 14:50:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65958 invoked by uid 99); 22 May 2012 14:50:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 14:50:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vadzim.mikhalenak@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 14:50:12 +0000
Received: by ghrr14 with SMTP id r14so1086046ghr.18
        for <multiple recipients>; Tue, 22 May 2012 07:49:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=CWztd3NvhIxcD8+3sTxqlC5b8knJy9N5JZWOZ5i8zIM=;
        b=DuM/7UqpJCVcHIXt7TKKM5T3U+w8gcLRlmxkC5Ru1oi4c3ixxyEt00cUOU9NpIRdYp
         CRQzurnVEhIUoP6mi9VZlV2J65ttnyS/3L/yGaY5fl695u2+AvuMCFKwbjNcJ/t4SjDo
         Lj1DPlPyEofHn1+HGrRPIqg28xjE7biCZ8ZQe74dLYxFLSCynhNEFquV8+Y/o6KOXCOR
         aflhKmIpXyPXnfckphWNl+dKPtDsagVwPWVOPVJEdSSWw3oraTY2Y+ErEJ0efvgX5ZJn
         2RRKgKBzAfYFkQsmKEBrcJDI//B6eIyjlXjsrO81IYwtBsQUAE84BsFkVkHOWi44xXyD
         7y9Q==
MIME-Version: 1.0
Received: by 10.50.187.137 with SMTP id fs9mr9873678igc.50.1337698191693; Tue,
 22 May 2012 07:49:51 -0700 (PDT)
Received: by 10.64.127.36 with HTTP; Tue, 22 May 2012 07:49:51 -0700 (PDT)
Date: Tue, 22 May 2012 17:49:51 +0300
Message-ID: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com>
Subject: Tomcat 7. MX4J
From: Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>
To: dev@tomcat.apache.org, users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=14dae9340cff8856c704c0a12198

--14dae9340cff8856c704c0a12198
Content-Type: text/plain; charset=ISO-8859-1

Hello,

We are going to migrate our application from tomcat 6 to tomcat 7. But
during migration we've faced with the following issue:
we have the following configuration to have possbility to manage JMX Bean
using browser (through http):
...
<Connector port="8009"
                 handler.list="mx"
                 mx.enabled="true"
                 mx.httpHost="10.30.244.40"
                 mx.authMode="basic"
                 mx.authUser="someUser"
                 mx.authPassword="pass"
                 mx.httpPort="9012"
                 enableLookups="false" redirectPort="8443"
protocol="AJP/1.3"/>
...

as described at the following page:
http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html
But when we use this configuration we have the following warnings: WARNING:
[SetAllPropertiesRule]{Server/Service/Connector} Setting property
'handler.list' to 'mx' did not find a matching property.
However
http://tomcat.apache.org/tomcat-7.0-doc/cluster-howto.html#Monitoring_your_Cluster_with_JMX
.
Also I've noticed that some classes where removed from catalina.jar (such
as JkMX, JkMain and others).

Could you please point me how should tomcat  be configured / what libraries
should be added?

Thanks in advance!
Vadim.

--14dae9340cff8856c704c0a12198--

From users-return-234387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 21:14:10 2012
Return-Path: <users-return-234387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 532349E7B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 21:14:10 +0000 (UTC)
Received: (qmail 4676 invoked by uid 500); 22 May 2012 21:14:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4591 invoked by uid 500); 22 May 2012 21:14:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4580 invoked by uid 99); 22 May 2012 21:14:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 21:14:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 21:13:58 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id D9641j00B17dt5G519DduA; Tue, 22 May 2012 21:13:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id D9Dc1j01Z38FjT13Z9DcHW; Tue, 22 May 2012 21:13:37 +0000
Message-ID: <4FBC0180.6080601@christopherschultz.net>
Date: Tue, 22 May 2012 17:13:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>
Subject: Re: Fwd: Tomcat 7. MX4J
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com> <4FBBE75D.2050308@christopherschultz.net> <CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com> <CAJHUnphSn3YUUVU4Ub=9Pikge_xUE5yoPuSKd8Zd96q+ugfm0g@mail.gmail.com>
In-Reply-To: <CAJHUnphSn3YUUVU4Ub=9Pikge_xUE5yoPuSKd8Zd96q+ugfm0g@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vadim,

Bringing this back onto the list...

On 5/22/12 4:29 PM, Vadzim Mikhalenak wrote:
> Thank you for the reply! Yes, link
> http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for 
> version 5.5 but we are migrating from version 6 (sorry for the 
> confusion) but the configuration above was valid for version 6

I'll bet the configuration was not valid for Tomcat 6, but the
connectors are just more chatty in Tomcat 7 when certain properties
don't match anything.

> [This JMX setup] gave us opportunity to manage JMX beans using 
> http://${JMX.HOST}:${JMX.PORT} (please see 
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif)
>  In version 7 I couldn't see any possibility to do it.

You can use the Tomcat Manager webapp and the JMXProxy servlet to do a
lot. Consider reading the reference I posted.

> I've noticed that in Connector class of version 6 if
> ("AJP/1.3".equals(protocol)) { setProtocolHandlerClassName 
> ("org.apache.jk.server.JkCoyoteHandler");
> 
> org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX
> where HttpAdapter from mx4j-tool.jar was used.
> 
> but in version 7 else if ("AJP/1.3".equals(protocol)) { 
> setProtocolHandlerClassName 
> ("org.apache.coyote.ajp.AjpAprProtocol");

There have been many changes to Tomcat between 5.5->6.0->7.0.

> So do we have possibility to manage JMX beans in version 7 as we
> could in version 6? (please see
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> )

I don't see any reason you can't use MX4J in Tomcat 7: there's just no
direct support for configuring it. If you want to use MX4J, then use a
Listener (probably LivecycleListener makes sense) to launch it when
the server starts up.

Feel free to look at how Tomcat used to do it and replicate something
similar in your own code.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+8AYAACgkQ9CaO5/Lv0PDcIgCfQAgJ4wqy61okfFhGx47QhH+v
fzoAnAnWoP/qlNIboUmiW/qyFIyOmV9z
=7o4N
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 21:32:20 2012
Return-Path: <users-return-234388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01DA9C939
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 21:32:19 +0000 (UTC)
Received: (qmail 57478 invoked by uid 500); 22 May 2012 21:32:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57433 invoked by uid 500); 22 May 2012 21:32:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57421 invoked by uid 99); 22 May 2012 21:32:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 21:32:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 21:32:11 +0000
Received: by dadv2 with SMTP id v2so10774479dad.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 14:31:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=nvyKlJ2jbyfpy9I+IEJUuin/Pmg4eJzrhy40cGXXMtM=;
        b=nt5tnxELaISOlswz0rNPmtPCOrdXmfYfIUNDLkL6lXpQgASKcEJ/P216ccK3cKG6R5
         Bh7KGw+AEdkWhVIGBOJ0VTR/ah6J/D3Y0kdkckG+o4/sJG+8ULgaS3RMFJpznbk+9XKg
         BexvInauQtq8E/PHE8RcQoEWjPqsV4al4dPQ35oNLLDUa6b5rYbeToJ5cFwFK7pi/M+Y
         vy1eO3KXwHzCVzPu6r6ZHLGMbJ8Ohhzi9ApUuGMsO2iAEPXIgXO2T06/xxpr8c2AjQsk
         2EUWjt0MiimKbe5WyKR87D4tgh5vnQ+pNTfQcn/rzzAVxvbBbLfWNjl/sYLbWjMKSSBF
         Np0A==
MIME-Version: 1.0
Received: by 10.68.238.134 with SMTP id vk6mr2500293pbc.128.1337722310979;
 Tue, 22 May 2012 14:31:50 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Tue, 22 May 2012 14:31:50 -0700 (PDT)
In-Reply-To: <CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com>
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com>
	<4FBBE75D.2050308@christopherschultz.net>
	<CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com>
Date: Wed, 23 May 2012 01:31:50 +0400
Message-ID: <CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com>
Subject: Re: Tomcat 7. MX4J
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
> Hello =A0Christopher,
> *
> *
> Thank you for the reply! Yes, link
> http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for version 5.=
5
> but we are migrating from version 6 (sorry for the confusion) but the
> configuration above was valid for version 6
>

It works (or at least tries to start, to my surprise) in Tomcat 6 with
this particular AJP/1.3 connector implementation, but it is not
documented and not supported.  Other connectors do not support those
attributes and this one was removed from Tomcat 7.

Tomcat 6 and 7 use JMX support provided by JRE and if you need http
access to it, the common way is to use "JMXProxy" servlet that is part
of the manager webapp.

It is all is documented
http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_Pr=
oxy_Servlet

or see the same docs for Tomcat 7.



> =A0<Connector port=3D"${AJP.PORT}"
> =A0 =A0 =A0 =A0 =A0 =A0handler.list=3D"mx"
> =A0 =A0 =A0 =A0 =A0 =A0mx.enabled=3D"true"
> =A0 =A0 =A0 =A0 =A0 =A0mx.httpHost=3D"${JMX.HOST}"
> =A0 =A0 =A0 =A0 =A0 =A0mx.httpPort=3D"${JMX.PORT}"
> =A0 =A0 =A0 =A0 =A0 =A0protocol=3D"AJP/1.3" />
>
>
> *
> *
> and gave us opportunity to manage JMX beans using =A0http://
> ${JMX.HOST}:${JMX.PORT} (please see
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.g=
if
> )
> In version 7 I couldn't see any possibility to do it.
> I've noticed that in Connector class of version 6
> if ("AJP/1.3".equals(protocol)) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0setProtocolHandlerClassName
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0("org.apache.jk.server.JkCoyoteHan=
dler");
>
> org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX where
> HttpAdapter from mx4j-tool.jar was used.
>
> but in version 7
> else if ("AJP/1.3".equals(protocol)) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0setProtocolHandlerClassName
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0("org.apache.coyote.ajp.AjpAprProt=
ocol");
>
>
>
> So do we have possibility to manage JMX beans in version 7 as we could in
> version 6? (please see
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.g=
if
> =A0)
>

Please
1. Post your response below the text that you are replying to (aka "do
not top-post")
2. Do not cross-post questions between users@ and dev@ lists.

This one belongs to users@.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 22 22:07:22 2012
Return-Path: <users-return-234389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2139CCBF9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 22 May 2012 22:07:22 +0000 (UTC)
Received: (qmail 59183 invoked by uid 500); 22 May 2012 22:07:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59113 invoked by uid 500); 22 May 2012 22:07:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59104 invoked by uid 99); 22 May 2012 22:07:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 22:07:18 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vadzim.mikhalenak@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 May 2012 22:07:13 +0000
Received: by yhoo21 with SMTP id o21so7851096yho.18
        for <users@tomcat.apache.org>; Tue, 22 May 2012 15:06:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8uEJKaCw9PHSMIIF3AnsSJidrNI5jVkgsxZtXUdpiMs=;
        b=GncRPJguER7+OgntQ55eg8g0zcc6m6WkVQ3plnta7LO8bssRT+goD9tWjjoGxjoRk3
         g2RMF3WAP56QgkYEmO6INHTCukW2ET9f05olpxrHYcvzq4vjG7Q8ZmlWEuymyUlROuxe
         mewqkAKKrpapAmVYSOGeEugdvNVeYPr7E0ZoKhOSLY9XpQsWu+zJwd1f2bOJEYdsdC/n
         eRy/x9dnKvTtpX+08VUgokSmN5EkYc8nSU1Rpjftiks7XEk3n93Y/P3Rb2a3W6gvApWz
         u3UCgDh/udp/qIOhs4dIZtJeZnftFsdzbfwBfScfhRYO938fBK1/5bCl8daw6nztgTWe
         1qlQ==
MIME-Version: 1.0
Received: by 10.50.187.137 with SMTP id fs9mr11107403igc.50.1337724412584;
 Tue, 22 May 2012 15:06:52 -0700 (PDT)
Received: by 10.64.127.36 with HTTP; Tue, 22 May 2012 15:06:52 -0700 (PDT)
In-Reply-To: <CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com>
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com>
	<4FBBE75D.2050308@christopherschultz.net>
	<CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com>
	<CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com>
Date: Wed, 23 May 2012 01:06:52 +0300
Message-ID: <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
Subject: Re: Tomcat 7. MX4J
From: Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340cff6b629404c0a73c84
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340cff6b629404c0a73c84
Content-Type: text/plain; charset=ISO-8859-1

On Wed, May 23, 2012 at 12:31 AM, Konstantin Kolinko <knst.kolinko@gmail.com
> wrote:

> 2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
> > Hello  Christopher,
> > *
> > *
> > Thank you for the reply! Yes, link
> > http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for version
> 5.5
> > but we are migrating from version 6 (sorry for the confusion) but the
> > configuration above was valid for version 6
> >
>
> It works (or at least tries to start, to my surprise) in Tomcat 6 with
> this particular AJP/1.3 connector implementation, but it is not
> documented and not supported.  Other connectors do not support those
> attributes and this one was removed from Tomcat 7.
>
> Tomcat 6 and 7 use JMX support provided by JRE and if you need http
> access to it, the common way is to use "JMXProxy" servlet that is part
> of the manager webapp.
>
> It is all is documented
> http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
>
> http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_Proxy_Servlet
>
> or see the same docs for Tomcat 7.
>
>
>
> >  <Connector port="${AJP.PORT}"
> >            handler.list="mx"
> >            mx.enabled="true"
> >            mx.httpHost="${JMX.HOST}"
> >            mx.httpPort="${JMX.PORT}"
> >            protocol="AJP/1.3" />
> >
> >
> > *
> > *
> > and gave us opportunity to manage JMX beans using  http://
> > ${JMX.HOST}:${JMX.PORT} (please see
> >
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> > )
> > In version 7 I couldn't see any possibility to do it.
> > I've noticed that in Connector class of version 6
> > if ("AJP/1.3".equals(protocol)) {
> >                setProtocolHandlerClassName
> >                    ("org.apache.jk.server.JkCoyoteHandler");
> >
> > org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX where
> > HttpAdapter from mx4j-tool.jar was used.
> >
> > but in version 7
> > else if ("AJP/1.3".equals(protocol)) {
> >                setProtocolHandlerClassName
> >                    ("org.apache.coyote.ajp.AjpAprProtocol");
> >
> >
> >
> > So do we have possibility to manage JMX beans in version 7 as we could in
> > version 6? (please see
> >
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> >  )
> >
>
> Please
> 1. Post your response below the text that you are replying to (aka "do
> not top-post")
> 2. Do not cross-post questions between users@ and dev@ lists.
>
> This one belongs to users@.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
> Hi,

Thanks for the reply.
I know about JMX Proxy Servlet but it was more preferable to use MX4J page
and I thought there is simple way to configure it (as it was configured in
6 version).
I'll be looking for solution to get mx4j page working.
Thanks again for your help!
Sorry for the trouble.

Best regards,
Vadim.

--14dae9340cff6b629404c0a73c84--

From users-return-234390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 16:42:56 2012
Return-Path: <users-return-234390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 803C1C23F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 16:42:56 +0000 (UTC)
Received: (qmail 76826 invoked by uid 500); 23 May 2012 16:42:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76701 invoked by uid 500); 23 May 2012 16:42:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76688 invoked by uid 99); 23 May 2012 16:42:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 16:42:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of georges@mhsoftware.com designates 209.169.14.178 as permitted sender)
Received: from [209.169.14.178] (HELO mail.mhsoftware.com) (209.169.14.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 16:42:44 +0000
Received: from macmini.private.mhsoftware.com (c-67-190-16-78.hsd1.co.comcast.net [67.190.16.78])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.mhsoftware.com (Postfix) with ESMTPSA id DCFA46662F
	for <users@tomcat.apache.org>; Wed, 23 May 2012 10:42:22 -0600 (MDT)
Message-ID: <4FBD136C.3050101@mhsoftware.com>
Date: Wed, 23 May 2012 10:42:20 -0600
From: George Sexton <georges@mhsoftware.com>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat slowing down
References: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
In-Reply-To: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Just out of idle curiosity, are you running in a virtual server?

On 5/16/12 6:49 AM, Christian Kaufhold wrote:
> Hi,
>
> we have the problem that tomact is slowing down after a while
> until even the manager app becomes unusable.
>
> Our System:
> 2 Quadcores/24 GB Mem
> OpenSuse 11.4
> tomcat 6.0.29
> wicket/hibernate/postgres
>
> Max Memory and total Memory 2GB
> Free Momory 500 MB when the system is slow
> top shows 100 CPU usage by tomcat
>
> Symptom
>   System is initially ok, but is slowing down dramtically over time
> when about 30 User are active
>
> What can we do to analyse the problem?
>
> thanks
>

-- 
George Sexton
MH Software, Inc.
303 438-9585
http://www.mhsoftware.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 17:28:59 2012
Return-Path: <users-return-234391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BE3A914C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 17:28:59 +0000 (UTC)
Received: (qmail 22006 invoked by uid 500); 23 May 2012 17:28:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21866 invoked by uid 500); 23 May 2012 17:28:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21853 invoked by uid 99); 23 May 2012 17:28:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 17:28:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kaufhold4j@googlemail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 17:28:50 +0000
Received: by bkwj10 with SMTP id j10so8225866bkw.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 10:28:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=subject:references:from:content-type:x-mailer:in-reply-to
         :message-id:date:to:content-transfer-encoding:mime-version;
        bh=6BhL9SVcb58maA1xMvrILyxLARf2SJE64GharX1Ln2k=;
        b=p8bhTq7xY1flCJnWFEoWFlhu9Zi09qKlKz7hnhXefXFbmczUKPm7Fqd8bptFKMkXZ/
         NZZMbATYPZvtgAmeSbvbnRa14UUP2OSmRX/lXewCEFilLOMsZUyZQ7Togwp39tKpcEWR
         3dR4rGHCyQRflrk+ORrx+T/G4E6sjC8/9Li0yoFuIjP48qEoTaNHlsgmLxRA+Fst+FZz
         AtoCTJ0o2N1ZE6EOXm9dy87uiYVKvsRdblD/bkg7BHA2ytd10RmUATMRpwHoiCrIacGx
         UmnS5raD580/piB/sx/x12osexyqlH+SPV7b6BwX6L8QyJcTyaWktBrtrEVlJvmJrKwK
         Ylgg==
Received: by 10.204.154.193 with SMTP id p1mr11780323bkw.102.1337794108927;
        Wed, 23 May 2012 10:28:28 -0700 (PDT)
Received: from [192.168.2.101] (p5089753B.dip.t-dialin.net. [80.137.117.59])
        by mx.google.com with ESMTPS id ig1sm38421231bkc.4.2012.05.23.10.28.27
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 23 May 2012 10:28:27 -0700 (PDT)
Subject: Re: tomcat slowing down
References: <CAGXngZ_Ns=rponysxqCuKT_-jeB9zFQx65JZGaDKgTQxxCZT6g@mail.gmail.com> <4FBD136C.3050101@mhsoftware.com>
From: Christian Kaufhold <kaufhold4j@googlemail.com>
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPad Mail (9B176)
In-Reply-To: <4FBD136C.3050101@mhsoftware.com>
Message-Id: <65B58B85-B44A-418D-93F5-A9815457F5DB@googlemail.com>
Date: Wed, 23 May 2012 19:28:27 +0200
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi George,

No its just a plain server.
I used selenium and probe to check the issue.
Its definitely a Memory leak problem.

I try to find the leaks now.


Von meinem iPad gesendet

Am 23.05.2012 um 18:42 schrieb George Sexton <georges@mhsoftware.com>:

> Just out of idle curiosity, are you running in a virtual server?
> 
> On 5/16/12 6:49 AM, Christian Kaufhold wrote:
>> Hi,
>> 
>> we have the problem that tomact is slowing down after a while
>> until even the manager app becomes unusable.
>> 
>> Our System:
>> 2 Quadcores/24 GB Mem
>> OpenSuse 11.4
>> tomcat 6.0.29
>> wicket/hibernate/postgres
>> 
>> Max Memory and total Memory 2GB
>> Free Momory 500 MB when the system is slow
>> top shows 100 CPU usage by tomcat
>> 
>> Symptom
>>  System is initially ok, but is slowing down dramtically over time
>> when about 30 User are active
>> 
>> What can we do to analyse the problem?
>> 
>> thanks
>> 
> 
> -- 
> George Sexton
> MH Software, Inc.
> 303 438-9585
> http://www.mhsoftware.com/
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 19:18:28 2012
Return-Path: <users-return-234392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3EAC8C54D
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 19:18:28 +0000 (UTC)
Received: (qmail 44195 invoked by uid 500); 23 May 2012 19:18:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44119 invoked by uid 500); 23 May 2012 19:18:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44109 invoked by uid 99); 23 May 2012 19:18:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 19:18:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 19:18:18 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id A2E92A840C40
	for <users@tomcat.apache.org>; Wed, 23 May 2012 13:14:25 -0600 (MDT)
Date: Wed, 23 May 2012 13:14:25 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7. MX4J
Message-ID: <7bc0c3ff-f612-4d0b-9892-afab52c0b309@arizona.hanik.com>
In-Reply-To: <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [181.30.6.114]
X-Mailer: Zimbra 7.1.1_GA_3196 (ZimbraWebClient - FF3.0 (Mac)/7.1.1_GA_3196)
X-Virus-Checked: Checked by ClamAV on apache.org

http://tomcat.apache.org/tomcat-6.0-doc/config/listeners.html#JMX_Remote_Lifecycle_Listener_-_org.apache.catalina.mbeans.JmxRemoteLifecycleListener



----- Original Message -----
> From: "Vadzim Mikhalenak" <vadzim.mikhalenak@gmail.com>
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Sent: Tuesday, May 22, 2012 4:06:52 PM
> Subject: Re: Tomcat 7. MX4J
> 
> On Wed, May 23, 2012 at 12:31 AM, Konstantin Kolinko
> <knst.kolinko@gmail.com
> > wrote:
> 
> > 2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
> > > Hello  Christopher,
> > > *
> > > *
> > > Thank you for the reply! Yes, link
> > > http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for
> > > version
> > 5.5
> > > but we are migrating from version 6 (sorry for the confusion) but
> > > the
> > > configuration above was valid for version 6
> > >
> >
> > It works (or at least tries to start, to my surprise) in Tomcat 6
> > with
> > this particular AJP/1.3 connector implementation, but it is not
> > documented and not supported.  Other connectors do not support
> > those
> > attributes and this one was removed from Tomcat 7.
> >
> > Tomcat 6 and 7 use JMX support provided by JRE and if you need http
> > access to it, the common way is to use "JMXProxy" servlet that is
> > part
> > of the manager webapp.
> >
> > It is all is documented
> > http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
> >
> > http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_Proxy_Servlet
> >
> > or see the same docs for Tomcat 7.
> >
> >
> >
> > >  <Connector port="${AJP.PORT}"
> > >            handler.list="mx"
> > >            mx.enabled="true"
> > >            mx.httpHost="${JMX.HOST}"
> > >            mx.httpPort="${JMX.PORT}"
> > >            protocol="AJP/1.3" />
> > >
> > >
> > > *
> > > *
> > > and gave us opportunity to manage JMX beans using  http://
> > > ${JMX.HOST}:${JMX.PORT} (please see
> > >
> > http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> > > )
> > > In version 7 I couldn't see any possibility to do it.
> > > I've noticed that in Connector class of version 6
> > > if ("AJP/1.3".equals(protocol)) {
> > >                setProtocolHandlerClassName
> > >                    ("org.apache.jk.server.JkCoyoteHandler");
> > >
> > > org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX
> > > where
> > > HttpAdapter from mx4j-tool.jar was used.
> > >
> > > but in version 7
> > > else if ("AJP/1.3".equals(protocol)) {
> > >                setProtocolHandlerClassName
> > >                    ("org.apache.coyote.ajp.AjpAprProtocol");
> > >
> > >
> > >
> > > So do we have possibility to manage JMX beans in version 7 as we
> > > could in
> > > version 6? (please see
> > >
> > http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> > >  )
> > >
> >
> > Please
> > 1. Post your response below the text that you are replying to (aka
> > "do
> > not top-post")
> > 2. Do not cross-post questions between users@ and dev@ lists.
> >
> > This one belongs to users@.
> >
> > Best regards,
> > Konstantin Kolinko
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> > Hi,
> 
> Thanks for the reply.
> I know about JMX Proxy Servlet but it was more preferable to use MX4J
> page
> and I thought there is simple way to configure it (as it was
> configured in
> 6 version).
> I'll be looking for solution to get mx4j page working.
> Thanks again for your help!
> Sorry for the trouble.
> 
> Best regards,
> Vadim.
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 20:32:12 2012
Return-Path: <users-return-234393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18D5D98D9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 20:32:12 +0000 (UTC)
Received: (qmail 59391 invoked by uid 500); 23 May 2012 20:32:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59172 invoked by uid 500); 23 May 2012 20:32:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59163 invoked by uid 99); 23 May 2012 20:32:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:32:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:32:00 +0000
Received: by yhoo21 with SMTP id o21so9226088yho.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 13:31:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=z21Jomc2GvY3vDeE0XJUEzDVLLNE4Y6tgi8STWJblWE=;
        b=OlWv1ZkpqHWvbjKYG4E+ZsSOff/tBYAcPRhFKoPUdelTgkxbe2HNUzw54zDwdTtZQR
         Upt9Zx8eXOqXi4vCv2IufvoC3loo3cb7L+wvV29ps3FncmOEyvcnQoaHx000TNS93MRq
         85CO4h4lx2S+n3R7010UDbioQoA5DdCgvlBVBjQjuqoThqHfHTjW/OsAOrovxi/IDDXy
         sjm3HDX+X7lV1Kui/eKU+tAJlT/NogUgiYe5YH2/u7BC+Zyn3XdO6M3eYntpGvRLjX9K
         npZMlKQyBkvJ8C+FN/M1+V6B3iNSUosDfl5Hp/x55FaJCWGc65kcq8cfRWGDA5IQ+vJR
         jk+A==
MIME-Version: 1.0
Received: by 10.42.88.6 with SMTP id a6mr2475705icm.44.1337805099283; Wed, 23
 May 2012 13:31:39 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Wed, 23 May 2012 13:31:39 -0700 (PDT)
Date: Wed, 23 May 2012 17:31:39 -0300
Message-ID: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
Subject: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=90e6ba3fcdd1b8b52c04c0ba0548

--90e6ba3fcdd1b8b52c04c0ba0548
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm testing this functionality (versions 6.0.35 and 7.0.27) but it's not
working for me (https://issues.apache.org/bugzilla/show_bug.cgi?id=49543 ,
http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links).


-->server.xml


  <GlobalNamingResources>

    <Resource name="jdbc/globalpg" auth="Container"
type="javax.sql.DataSource" removeAbandoned="true"
removeAbandonedTimeout="300"
                                   maxActive="400" maxIdle="30"
maxWait="10000"
                                   validationQuery="select 1"
                                   testOnBorrow="true"

factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
                                   driverClassName="org.postgresql.Driver"
                                   url="jdbc:postgresql://
172.17.1.5:5432/tjse"
                                   username="user1"
                                   password="validpassword"
                                   />

  </GlobalNamingResources>


-->conf/Catalina/localhost/app1.xml


<Context>

    <ResourceLink name="jdbc/localpg"
    global="jdbc/globalpg"
    type="javax.sql.DataSource"
    factory="org.apache.naming.factory.DataSourceLinkFactory"
    username="user2"
    password="invalidpassword"
    />

</Context>


-->webapps/app1/index.jsp

<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<%@ page session="false" import="javax.naming.*, java.sql.*, javax.sql.*" %>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
    <title>Test shared data source</title>
</head>
<body>
<%
    Context ctx = new InitialContext();
    DataSource ds = (DataSource)ctx.lookup("java:comp/env/jdbc/localpg");
    Connection c = ds.getConnection();
    Statement stm = c.createStatement();

    ResultSet rs = stm.executeQuery("select 'this should fail because the
password of localpg is invalid but it is working.'");

    rs.next();

%>
    <%= rs.getString(1) %><br/>
<%

    c.close();
%>
</body>
</html>


Am I doing some wrong?


Thanks in advance,


Robert

--90e6ba3fcdd1b8b52c04c0ba0548--

From users-return-234394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 20:53:51 2012
Return-Path: <users-return-234394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6D4A9B2A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 20:53:51 +0000 (UTC)
Received: (qmail 26672 invoked by uid 500); 23 May 2012 20:53:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26611 invoked by uid 500); 23 May 2012 20:53:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26595 invoked by uid 99); 23 May 2012 20:53:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:53:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.13 as permitted sender)
Received: from [206.46.173.13] (HELO vms173013pub.verizon.net) (206.46.173.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:53:37 +0000
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173013.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M4H007P5U0DM151@vms173013.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 23 May 2012 15:53:02 -0500 (CDT)
Message-id: <4FBD4E33.8080709@verizon.net>
Date: Wed, 23 May 2012 16:53:07 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: JRE Access violation
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

Any suggestions as to where to start looking for this error?

This is TC 7.0.22 32-bit running on Windows Server 2008R2, on a Dell 
Dual-processor 4-core hyperthreaded (total 16 cores according to the OS) 
box with 16GB RAM.  Overall memory usage is approx 26% according to task 
Manager.

There are 5 instances of Tomcat running, each on a different TCP port, 
and each running from its own doc base.  They are all running the same 
application, though with slightly different settings for different 
customers.  I have allocated 512MB to each instance, and the biggest one 
is using approx 260MB according to task manager.  Only the single 
instance of TC has had this problem, and it has died each of the last 
two days, after running perfectly for over two months.  All other 
instances continue to run with no trouble, including one which has much 
more activity than the one with the trouble.

This is the only unexpected entry in any of the TC logs.

2012-05-23 08:12:04 Commons Daemon procrun stdout initialized
#
# A fatal error has been detected by the Java Runtime Environment:
#
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x7729e39e, pid=4432, 
tid=4588
#
# JRE version: 6.0_27-b07
# Java VM: Java HotSpot(TM) Server VM (20.2-b06 mixed mode windows-x86 )
# Problematic frame:
# C  [ntdll.dll+0x2e39e]
#
# An error report file with more information is saved as:
# C:\Windows\system32\hs_err_pid4432.log
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
#


According to C:\Windows\system32\hs_err_pid4432.log, the problem appears 
to be in the sun database access stuff, but I'm not sure if the "thread 
blocked" messages in the below listing mean anything.

And here is C:\Windows\system32\hs_err_pid4432.log.  Unfortunately, 
pasting it into the e-mail hosed the line wrapping:

#
# A fatal error has been detected by the Java Runtime Environment:
#
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00000000770e32d0, 
pid=1400, tid=5028
#
# JRE version: 6.0_27-b07
# Java VM: Java HotSpot(TM) 64-Bit Server VM (20.2-b06 mixed mode 
windows-amd64 compressed oops)
# Problematic frame:
# C  [ntdll.dll+0x532d0]
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
#

---------------  T H R E A D  ---------------

Current thread (0x000000000cf7b800):  JavaThread 
"http-apr-55001-exec-570" daemon [_thread_in_vm, id=5028, 
stack(0x000000000cb00000,0x000000000cc00000)]

siginfo: ExceptionCode=0xc0000005, reading address 0x00000e6779be1a38

Registers:
RAX=0x0000000007b28890, RBX=0x00000e6779be1a30, RCX=0x000000ffffffffff, 
RDX=0x00000000082f11e0
RSP=0x000000000cbfea10, RBP=0x0000000000000000, RSI=0x0000000000470000, 
RDI=0x00000000082f11f0
R8 =0x00000000082f11f0, R9 =0x0000000000000001, R10=0x000000000000000c, 
R11=0x00000000fd3b1748
R12=0x0000000000000000, R13=0x00000000e3773cb0, R14=0x000000000cbfebf0, 
R15=0x000000000cf7b800
RIP=0x00000000770e32d0, EFLAGS=0x0000000000010206

Top of Stack: (sp=0x000000000cbfea10)
0x000000000cbfea10:   0000000000000000 00000000014e1897
0x000000000cbfea20:   0000000000000001 0000000000000001
0x000000000cbfea30:   00000000078f29c8 000000006d908410
0x000000000cbfea40:   0000000000000004 0000000000000001
0x000000000cbfea50:   000000000cf7b800 000000000cbfebf0
0x000000000cbfea60:   00000000e3773cb0 0000000000000000
0x000000000cbfea70:   0000000000000000 00000000082f11f0
0x000000000cbfea80:   000000000cbfebb8 000007fefde510c4
0x000000000cbfea90:   00000000e3772f90 000000000cf7b800
0x000000000cbfeaa0:   000000000cbfeac8 000000000cbfeb28
0x000000000cbfeab0:   000000000cf7b800 000000006d927949
0x000000000cbfeac0:   000000000cbfeb28 00000000014d58fa
0x000000000cbfead0:   0000000007f08120 00000000014d58fa
0x000000000cbfeae0:   00000000e81708c0 000000006d409fc4
0x000000000cbfeaf0:   000000000cf7b9d0 000000000cbfebb8
0x000000000cbfeb00:   0000000000000001 0000000007855268

Instructions: (pc=0x00000000770e32d0)
0x00000000770e32b0:   ff ff 00 00 00 48 33 de 48 23 c1 48 c1 eb 04 48
0x00000000770e32c0:   33 d8 48 33 1d ff f0 0d 00 48 c1 e3 04 0f 0d 0b
0x00000000770e32d0:   4c 8b 63 08 49 bd 01 00 00 00 01 00 00 00 49 be
0x00000000770e32e0:   ff 7f 00 00 ff ff ff ff c6 42 0f 80 c6 42 0e 00


Register to memory mapping:

RAX=0x0000000007b28890 is an unknown value
RBX=0x00000e6779be1a30 is an unknown value
RCX=0x000000ffffffffff is an unknown value
RDX=0x00000000082f11e0 is an unknown value
RSP=0x000000000cbfea10 is pointing into the stack for thread: 
0x000000000cf7b800
RBP=0x0000000000000000 is an unknown value
RSI=0x0000000000470000 is an unknown value
RDI=0x00000000082f11f0 is an unknown value
R8 =0x00000000082f11f0 is an unknown value
R9 =0x0000000000000001 is an unknown value
R10=0x000000000000000c is an unknown value
R11=0x00000000fd3b1748 is an unknown value
R12=0x0000000000000000 is an unknown value
R13=0x00000000e3773cb0 is an oop
{method}
  - klass: {other class}
R14=0x000000000cbfebf0 is pointing into the stack for thread: 
0x000000000cf7b800
R15=0x000000000cf7b800 is a thread


Stack: [0x000000000cb00000,0x000000000cc00000],  sp=0x000000000cbfea10, 
  free space=1018k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, 
C=native code)
C  [ntdll.dll+0x532d0]  RtlFreeHeap+0xd0

[error occurred during error reporting (printing native stack), id 
0xc0000005]

Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
j  sun.jdbc.odbc.JdbcOdbc.ReleaseStoredIntegers(JJ)V+0
J 
sun.jdbc.odbc.JdbcOdbcResultSet.initialize(Lsun/jdbc/odbc/JdbcOdbc;JJZLsun/jdbc/odbc/JdbcOdbcStatement;)V
j  sun.jdbc.odbc.JdbcOdbcStatement.getResultSet(Z)Ljava/sql/ResultSet;+71
j 
sun.jdbc.odbc.JdbcOdbcStatement.executeQuery(Ljava/lang/String;)Ljava/sql/ResultSet;+59
j 
com.wra.osp.ospconfig.OspConfig.openResultSet(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;II)Ljava/sql/ResultSet;+47
j 
com.wra.osp.ospconfig.OspConfig.loadATypeList(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)[Lcom/wra/osp/ospconfig/TypeList;+73
j 
com.wra.osp.ospconfig.OspConfig.loadTypeLists(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V+189
j 
com.wra.osp.ospconfig.TCfgRecord.getSiteConfigFromDb(IILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)I+75
j 
com.wra.osp.ospconfig.TCfgRecord.getSiteConfigFromDb(IILcom/wra/websira/WraAdmin;)I+15
j 
com.wra.osp.ospconfig.TCfgRecord.getSiteConfigFromDb(Ljava/lang/String;Ljava/lang/String;ILcom/wra/websira/WraAdmin;)I+31
j 
eddsrv.EddSrvConfig.doGet(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V+732
j 
javax.servlet.http.HttpServlet.service(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V+35
J 
javax.servlet.http.HttpServlet.service(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
J 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
J 
org.apache.catalina.core.StandardWrapperValve.invoke(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
J 
org.apache.catalina.core.StandardContextValve.invoke(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
J 
org.apache.catalina.authenticator.AuthenticatorBase.invoke(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
J 
org.apache.catalina.core.StandardHostValve.invoke(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
J 
org.apache.catalina.core.StandardEngineValve.invoke(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
J 
org.apache.catalina.connector.CoyoteAdapter.service(Lorg/apache/coyote/Request;Lorg/apache/coyote/Response;)V
J 
org.apache.coyote.http11.Http11AprProcessor.process(Lorg/apache/tomcat/util/net/SocketWrapper;)Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
J 
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Ljava/lang/Runnable;)V
J  java.util.concurrent.ThreadPoolExecutor$Worker.run()V
j  java.lang.Thread.run()V+11
v  ~StubRoutines::call_stub

---------------  P R O C E S S  ---------------

Java Threads: ( => current thread )
   0x00000000078ed800 JavaThread "http-apr-55001-exec-581" daemon 
[_thread_blocked, id=5376, stack(0x000000000e5d0000,0x000000000e6d0000)]
   0x00000000078ed000 JavaThread "http-apr-55001-exec-580" daemon 
[_thread_blocked, id=5696, stack(0x000000000e4d0000,0x000000000e5d0000)]
   0x00000000078ec800 JavaThread "http-apr-55001-exec-579" daemon 
[_thread_blocked, id=1116, stack(0x000000000e3d0000,0x000000000e4d0000)]
   0x00000000078eb800 JavaThread "http-apr-55001-exec-578" daemon 
[_thread_blocked, id=3656, stack(0x000000000e2d0000,0x000000000e3d0000)]
   0x00000000078eb000 JavaThread "http-apr-55001-exec-577" daemon 
[_thread_in_native, id=1836, stack(0x000000000e1d0000,0x000000000e2d0000)]
   0x000000000cf80000 JavaThread "http-apr-55001-exec-576" daemon 
[_thread_in_native, id=3968, stack(0x000000000e0d0000,0x000000000e1d0000)]
   0x000000000cf7f800 JavaThread "http-apr-55001-exec-575" daemon 
[_thread_blocked, id=3532, stack(0x000000000dfd0000,0x000000000e0d0000)]
   0x000000000cf7e800 JavaThread "http-apr-55001-exec-574" daemon 
[_thread_blocked, id=684, stack(0x000000000ded0000,0x000000000dfd0000)]
   0x000000000cf7e000 JavaThread "http-apr-55001-exec-573" daemon 
[_thread_blocked, id=6448, stack(0x000000000ddd0000,0x000000000ded0000)]
   0x000000000cf7d000 JavaThread "http-apr-55001-exec-572" daemon 
[_thread_blocked, id=5308, stack(0x000000000dcd0000,0x000000000ddd0000)]
   0x000000000cf7c800 JavaThread "http-apr-55001-exec-571" daemon 
[_thread_blocked, id=4840, stack(0x000000000cc00000,0x000000000cd00000)]
=>0x000000000cf7b800 JavaThread "http-apr-55001-exec-570" daemon 
[_thread_in_vm, id=5028, stack(0x000000000cb00000,0x000000000cc00000)]
   0x000000000cf7b000 JavaThread "http-apr-55001-exec-569" daemon 
[_thread_blocked, id=5864, stack(0x000000000ca00000,0x000000000cb00000)]
   0x000000000cf7a000 JavaThread "http-apr-55001-exec-568" daemon 
[_thread_blocked, id=7736, stack(0x000000000c900000,0x000000000ca00000)]
   0x000000000cf79800 JavaThread "http-apr-55001-exec-567" daemon 
[_thread_blocked, id=3944, stack(0x000000000c800000,0x000000000c900000)]
   0x000000000cf79000 JavaThread "http-apr-55001-exec-566" daemon 
[_thread_blocked, id=4484, stack(0x000000000c700000,0x000000000c800000)]
   0x000000000707d800 JavaThread "http-apr-55001-exec-565" daemon 
[_thread_blocked, id=3664, stack(0x000000000c600000,0x000000000c700000)]
   0x000000000707c800 JavaThread "http-apr-55001-exec-564" daemon 
[_thread_blocked, id=4848, stack(0x000000000c500000,0x000000000c600000)]
   0x000000000707c000 JavaThread "http-apr-55001-exec-563" daemon 
[_thread_blocked, id=7552, stack(0x000000000c400000,0x000000000c500000)]
   0x000000000707b800 JavaThread "http-apr-55001-exec-562" daemon 
[_thread_in_native, id=6460, stack(0x000000000c300000,0x000000000c400000)]
   0x000000000707a800 JavaThread "http-apr-55001-exec-561" daemon 
[_thread_blocked, id=3988, stack(0x000000000c200000,0x000000000c300000)]
   0x000000000707a000 JavaThread "http-apr-55001-exec-560" daemon 
[_thread_blocked, id=3848, stack(0x000000000c100000,0x000000000c200000)]
   0x0000000007079000 JavaThread "http-apr-55001-exec-559" daemon 
[_thread_blocked, id=7744, stack(0x000000000c000000,0x000000000c100000)]
   0x0000000007078800 JavaThread "http-apr-55001-exec-558" daemon 
[_thread_blocked, id=6240, stack(0x000000000bf00000,0x000000000c000000)]
   0x0000000007077800 JavaThread "http-apr-55001-exec-557" daemon 
[_thread_blocked, id=6880, stack(0x000000000be00000,0x000000000bf00000)]
   0x0000000007077000 JavaThread "http-apr-55001-exec-556" daemon 
[_thread_blocked, id=3736, stack(0x000000000bc00000,0x000000000bd00000)]
   0x0000000007076000 JavaThread "http-apr-55001-exec-555" daemon 
[_thread_blocked, id=2948, stack(0x000000000bb00000,0x000000000bc00000)]
   0x000000000752a000 JavaThread "http-apr-55001-exec-554" daemon 
[_thread_in_native, id=4004, stack(0x000000000ba00000,0x000000000bb00000)]
   0x0000000007529000 JavaThread "http-apr-55001-exec-553" daemon 
[_thread_in_native, id=4764, stack(0x000000000b900000,0x000000000ba00000)]
   0x0000000007528800 JavaThread "http-apr-55001-exec-552" daemon 
[_thread_blocked, id=5788, stack(0x000000000b800000,0x000000000b900000)]
   0x0000000007527800 JavaThread "http-apr-55001-exec-551" daemon 
[_thread_blocked, id=7008, stack(0x000000000b700000,0x000000000b800000)]
   0x0000000007527000 JavaThread "http-apr-55001-exec-550" daemon 
[_thread_blocked, id=2800, stack(0x000000000b600000,0x000000000b700000)]
   0x0000000007526800 JavaThread "http-apr-55001-exec-549" daemon 
[_thread_blocked, id=6236, stack(0x000000000b500000,0x000000000b600000)]
   0x0000000007525800 JavaThread "http-apr-55001-exec-548" daemon 
[_thread_blocked, id=5284, stack(0x000000000b400000,0x000000000b500000)]
   0x0000000007525000 JavaThread "http-apr-55001-exec-547" daemon 
[_thread_blocked, id=4904, stack(0x000000000b300000,0x000000000b400000)]
   0x0000000007524000 JavaThread "http-apr-55001-exec-546" daemon 
[_thread_blocked, id=2032, stack(0x000000000b200000,0x000000000b300000)]
   0x0000000007523800 JavaThread "http-apr-55001-exec-545" daemon 
[_thread_blocked, id=5580, stack(0x000000000b100000,0x000000000b200000)]
   0x0000000007522800 JavaThread "http-apr-55001-exec-544" daemon 
[_thread_blocked, id=3716, stack(0x000000000b000000,0x000000000b100000)]
   0x00000000079b2800 JavaThread "http-apr-55001-exec-543" daemon 
[_thread_blocked, id=5432, stack(0x000000000af00000,0x000000000b000000)]
   0x00000000079b3000 JavaThread "http-apr-55001-exec-542" daemon 
[_thread_blocked, id=7892, stack(0x000000000ae00000,0x000000000af00000)]
   0x00000000079ac800 JavaThread "http-apr-55001-exec-541" daemon 
[_thread_blocked, id=7856, stack(0x000000000ad00000,0x000000000ae00000)]
   0x00000000079b4800 JavaThread "http-apr-55001-exec-540" daemon 
[_thread_blocked, id=2804, stack(0x000000000ac00000,0x000000000ad00000)]
   0x00000000079b3800 JavaThread "http-apr-55001-exec-539" daemon 
[_thread_blocked, id=4872, stack(0x000000000ab00000,0x000000000ac00000)]
   0x00000000079ae800 JavaThread "http-apr-55001-exec-538" daemon 
[_thread_blocked, id=3540, stack(0x000000000aa00000,0x000000000ab00000)]
   0x00000000079af800 JavaThread "http-apr-55001-exec-537" daemon 
[_thread_blocked, id=1292, stack(0x000000000a900000,0x000000000aa00000)]
   0x00000000079b0000 JavaThread "http-apr-55001-exec-536" daemon 
[_thread_blocked, id=6064, stack(0x000000000a800000,0x000000000a900000)]
   0x00000000079b1800 JavaThread "http-apr-55001-exec-535" daemon 
[_thread_blocked, id=5152, stack(0x000000000a700000,0x000000000a800000)]
   0x00000000079ad000 JavaThread "http-apr-55001-exec-534" daemon 
[_thread_blocked, id=3488, stack(0x000000000a600000,0x000000000a700000)]
   0x00000000079b1000 JavaThread "http-apr-55001-exec-533" daemon 
[_thread_blocked, id=3924, stack(0x0000000000cf0000,0x0000000000df0000)]
   0x00000000079ae000 JavaThread "http-apr-55001-exec-532" daemon 
[_thread_blocked, id=4616, stack(0x0000000000bf0000,0x0000000000cf0000)]
   0x00000000079ac000 JavaThread "http-apr-55001-AsyncTimeout" daemon 
[_thread_blocked, id=3420, stack(0x000000000a500000,0x000000000a600000)]
   0x00000000079ab000 JavaThread "http-apr-55001-Acceptor-0" daemon 
[_thread_in_native, id=3416, stack(0x000000000a400000,0x000000000a500000)]
   0x00000000079aa800 JavaThread "http-apr-55001-Sendfile-0" daemon 
[_thread_blocked, id=3400, stack(0x000000000a300000,0x000000000a400000)]
   0x00000000079a9800 JavaThread "http-apr-55001-CometPoller-7" daemon 
[_thread_blocked, id=3392, stack(0x000000000a200000,0x000000000a300000)]
   0x00000000079a9000 JavaThread "http-apr-55001-CometPoller-6" daemon 
[_thread_blocked, id=3380, stack(0x000000000a100000,0x000000000a200000)]
   0x00000000079a8000 JavaThread "http-apr-55001-CometPoller-5" daemon 
[_thread_blocked, id=3376, stack(0x000000000a000000,0x000000000a100000)]
   0x00000000079a7800 JavaThread "http-apr-55001-CometPoller-4" daemon 
[_thread_blocked, id=3368, stack(0x0000000009f00000,0x000000000a000000)]
   0x00000000079a6800 JavaThread "http-apr-55001-CometPoller-3" daemon 
[_thread_blocked, id=3360, stack(0x0000000009e00000,0x0000000009f00000)]
   0x00000000079a6000 JavaThread "http-apr-55001-CometPoller-2" daemon 
[_thread_blocked, id=3352, stack(0x0000000009d00000,0x0000000009e00000)]
   0x00000000079a5800 JavaThread "http-apr-55001-CometPoller-1" daemon 
[_thread_blocked, id=3344, stack(0x0000000009c00000,0x0000000009d00000)]
   0x0000000007c18000 JavaThread "http-apr-55001-CometPoller-0" daemon 
[_thread_blocked, id=3336, stack(0x0000000009b00000,0x0000000009c00000)]
   0x0000000007d58800 JavaThread "http-apr-55001-Poller-7" daemon 
[_thread_in_native, id=3324, stack(0x0000000009a00000,0x0000000009b00000)]
   0x0000000007a88000 JavaThread "http-apr-55001-Poller-6" daemon 
[_thread_in_native, id=2932, stack(0x0000000009900000,0x0000000009a00000)]
   0x0000000007cee800 JavaThread "http-apr-55001-Poller-5" daemon 
[_thread_in_native, id=2944, stack(0x0000000009800000,0x0000000009900000)]
   0x0000000007148000 JavaThread "http-apr-55001-Poller-4" daemon 
[_thread_in_native, id=2888, stack(0x0000000009700000,0x0000000009800000)]
   0x00000000074b9800 JavaThread "http-apr-55001-Poller-3" daemon 
[_thread_in_native, id=576, stack(0x0000000009600000,0x0000000009700000)]
   0x0000000006eb6000 JavaThread "http-apr-55001-Poller-2" daemon 
[_thread_in_native, id=2756, stack(0x0000000009500000,0x0000000009600000)]
   0x0000000007b29000 JavaThread "http-apr-55001-Poller-1" daemon 
[_thread_in_native, id=2764, stack(0x0000000009400000,0x0000000009500000)]
   0x0000000007ddc000 JavaThread "http-apr-55001-Poller-0" daemon 
[_thread_in_native, id=2768, stack(0x00000000091a0000,0x00000000092a0000)]
   0x0000000007a4b800 JavaThread 
"ContainerBackgroundProcessor[StandardEngine[Catalina]]" daemon 
[_thread_blocked, id=3052, stack(0x0000000008da0000,0x0000000008ea0000)]
   0x00000000076d4800 JavaThread "GC Daemon" daemon [_thread_blocked, 
id=2852, stack(0x0000000008a30000,0x0000000008b30000)]
   0x0000000005485800 JavaThread "Low Memory Detector" daemon 
[_thread_blocked, id=2168, stack(0x0000000006c60000,0x0000000006d60000)]
   0x0000000005482000 JavaThread "C2 CompilerThread1" daemon 
[_thread_blocked, id=2136, stack(0x0000000006b60000,0x0000000006c60000)]
   0x000000000547a800 JavaThread "C2 CompilerThread0" daemon 
[_thread_blocked, id=2124, stack(0x0000000006a60000,0x0000000006b60000)]
   0x000000000547a000 JavaThread "Attach Listener" daemon 
[_thread_blocked, id=2112, stack(0x0000000006960000,0x0000000006a60000)]
   0x0000000005479000 JavaThread "Signal Dispatcher" daemon 
[_thread_blocked, id=2104, stack(0x0000000006860000,0x0000000006960000)]
   0x000000000541f800 JavaThread "Finalizer" daemon [_thread_blocked, 
id=1956, stack(0x0000000006660000,0x0000000006760000)]
   0x000000000541f000 JavaThread "Reference Handler" daemon 
[_thread_blocked, id=1952, stack(0x0000000006560000,0x0000000006660000)]
   0x000000000047c800 JavaThread "main" [_thread_in_native, id=1480, 
stack(0x0000000000ff0000,0x00000000010f0000)]

Other Threads:
   0x0000000005413800 VMThread [stack: 
0x0000000006460000,0x0000000006560000] [id=1912]
   0x000000000549c000 WatcherThread [stack: 
0x0000000006d60000,0x0000000006e60000] [id=2216]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread: None

Heap
  PSYoungGen      total 130752K, used 92061K [0x00000000f8000000, 
0x0000000100000000, 0x0000000100000000)
   eden space 130432K, 70% used 
[0x00000000f8000000,0x00000000fd9b7480,0x00000000fff60000)
   from space 320K, 60% used 
[0x00000000fffb0000,0x00000000fffe0000,0x0000000100000000)
   to   space 320K, 0% used 
[0x00000000fff60000,0x00000000fff60000,0x00000000fffb0000)
  PSOldGen        total 262144K, used 14763K [0x00000000e8000000, 
0x00000000f8000000, 0x00000000f8000000)
   object space 262144K, 5% used 
[0x00000000e8000000,0x00000000e8e6aed8,0x00000000f8000000)
  PSPermGen       total 27136K, used 27074K [0x00000000e2e00000, 
0x00000000e4880000, 0x00000000e8000000)
   object space 27136K, 99% used 
[0x00000000e2e00000,0x00000000e4870a78,0x00000000e4880000)

Code Cache  [0x00000000014d0000, 0x0000000001870000, 0x00000000044d0000)
  total_blobs=1368 nmethods=967 adapters=353 free_code_cache=46601600 
largest_free_block=12288

Dynamic libraries:
0x0000000140000000 - 0x000000014001c000 	C:\Program Files\Apache 
Software Foundation\Tomcat 7.0\bin\tomcat7.exe
0x0000000077090000 - 0x0000000077239000 	C:\Windows\SYSTEM32\ntdll.dll
0x0000000076e70000 - 0x0000000076f8f000 	C:\Windows\system32\kernel32.dll
0x000007fefd340000 - 0x000007fefd3ac000 	C:\Windows\system32\KERNELBASE.dll
0x000007fefd810000 - 0x000007fefd8eb000 	C:\Windows\system32\ADVAPI32.dll
0x000007fefde50000 - 0x000007fefdeef000 	C:\Windows\system32\msvcrt.dll
0x000007fefe3e0000 - 0x000007fefe3ff000 	C:\Windows\SYSTEM32\sechost.dll
0x000007fefe400000 - 0x000007fefe52d000 	C:\Windows\system32\RPCRT4.dll
0x000007fefe530000 - 0x000007feff2b8000 	C:\Windows\system32\SHELL32.dll
0x000007feff2c0000 - 0x000007feff331000 	C:\Windows\system32\SHLWAPI.dll
0x000007fefe210000 - 0x000007fefe277000 	C:\Windows\system32\GDI32.dll
0x0000000076f90000 - 0x000000007708a000 	C:\Windows\system32\USER32.dll
0x000007fefe200000 - 0x000007fefe20e000 	C:\Windows\system32\LPK.dll
0x000007fefdb70000 - 0x000007fefdc39000 	C:\Windows\system32\USP10.dll
0x000007fefde20000 - 0x000007fefde4e000 	C:\Windows\system32\IMM32.DLL
0x000007fefd3b0000 - 0x000007fefd4b9000 	C:\Windows\system32\MSCTF.dll
0x000000006d7f0000 - 0x000000006dfa8000 	C:\Program 
Files\Java\jre6\bin\server\jvm.dll
0x000007fef9ce0000 - 0x000007fef9d1b000 	C:\Windows\system32\WINMM.dll
0x000000006d760000 - 0x000000006d76e000 	C:\Program 
Files\Java\jre6\bin\verify.dll
0x000000006d3b0000 - 0x000000006d3d7000 	C:\Program 
Files\Java\jre6\bin\java.dll
0x000000006d7b0000 - 0x000000006d7c2000 	C:\Program 
Files\Java\jre6\bin\zip.dll
0x000007fefdff0000 - 0x000007fefe1f3000 	C:\Windows\system32\ole32.dll
0x000000006d540000 - 0x000000006d54a000 	C:\Program 
Files\Java\jre6\bin\management.dll
0x0000000010000000 - 0x0000000010125000 	C:\Program Files\Apache 
Software Foundation\Tomcat 7.0\bin\tcnative-1.dll
0x0000000077250000 - 0x0000000077257000 	C:\Windows\system32\PSAPI.DLL
0x000007fefdf00000 - 0x000007fefdf4d000 	C:\Windows\system32\WS2_32.dll
0x000007fefdef0000 - 0x000007fefdef8000 	C:\Windows\system32\NSI.dll
0x000007fefc7a0000 - 0x000007fefc7f5000 	C:\Windows\system32\MSWSOCK.dll
0x000007fefc860000 - 0x000007fefc877000 	C:\Windows\system32\CRYPTSP.dll
0x000007fefc5d0000 - 0x000007fefc617000 	C:\Windows\system32\rsaenh.dll
0x000007fefced0000 - 0x000007fefcedf000 	C:\Windows\system32\CRYPTBASE.dll
0x000007fefc1f0000 - 0x000007fefc1f7000 	C:\Windows\System32\wshtcpip.dll
0x000007fefcfe0000 - 0x000007fefcfef000 	C:\Windows\system32\profapi.dll
0x000000006d600000 - 0x000000006d617000 	C:\Program 
Files\Java\jre6\bin\net.dll
0x000007fefca00000 - 0x000007fefca07000 	C:\Windows\System32\wship6.dll
0x000007fefbd50000 - 0x000007fefbd65000 	C:\Windows\system32\NLAapi.dll
0x000007fefa210000 - 0x000007fefa225000 	C:\Windows\system32\napinsp.dll
0x000007fefc690000 - 0x000007fefc6eb000 	C:\Windows\system32\DNSAPI.dll
0x000007fefa240000 - 0x000007fefa24b000 	C:\Windows\System32\winrnr.dll
0x000007fefa830000 - 0x000007fefa857000 	C:\Windows\system32\IPHLPAPI.DLL
0x000007fefa820000 - 0x000007fefa82b000 	C:\Windows\system32\WINNSI.DLL
0x000007fefa280000 - 0x000007fefa288000 	C:\Windows\system32\rasadhlp.dll
0x000007fefa710000 - 0x000007fefa763000 	C:\Windows\System32\fwpuclnt.dll
0x0000000066700000 - 0x000000006675c000 	C:\Windows\System32\dbjodbc9.dll
0x000007fef5ad0000 - 0x000007fef5b81000 	C:\Windows\system32\ODBC32.dll
0x00000000747b0000 - 0x00000000747e8000 	C:\Windows\system32\odbcint.dll
0x000000006d400000 - 0x000000006d412000 	C:\Program 
Files\Java\jre6\bin\JdbcOdbc.dll
0x000007fefca10000 - 0x000007fefca32000 	C:\Windows\system32\bcrypt.dll
0x000007fefc510000 - 0x000007fefc55c000 
C:\Windows\system32\bcryptprimitives.dll
0x000000000f020000 - 0x000000000f101000 	C:\Windows\System32\dbodbc9.dll
0x000007fef9210000 - 0x000007fef9219000 	C:\Windows\System32\WSOCK32.dll
0x000007fef3350000 - 0x000007fef3378000 	C:\Windows\system32\odbccp32.dll
0x000007fefc120000 - 0x000007fefc12c000 	C:\Windows\system32\VERSION.dll
0x0000000065000000 - 0x00000000650a6000 	C:\Windows\System32\dblgen9.dll
0x000007fefb680000 - 0x000007fefb7a5000 	C:\Windows\system32\dbghelp.dll

VM Arguments:
jvm_args: -Dcatalina.base=d:\RtData\Pilot2\EddSrv 
-Dcatalina.home=C:\Program Files\Apache Software Foundation\Tomcat 7.0 
-Djava.endorsed.dirs=C:\Program Files\Apache Software Foundation\Tomcat 
7.0\endorsed -Djava.io.tmpdir=d:\RtData\Pilot2\EddSrv\temp 
-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager 
-Djava.util.logging.config.file=d:\RtData\Pilot2\EddSrv\conf\logging.properties 
-DEddSrv.configFileName=D:\RtData\Pilot2\EddSrv\EddSrvServer.properties 
-DRealTime.configFileName=D:\RtData\Pilot2\EddSrv\RealTimeServer.properties 
-XX:+UseCompressedOops -Xms384m -Xmx384m
java_command: <unknown>
Launcher Type: generic

Environment Variables:
PATH=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;
USERNAME=SM3$
OS=Windows_NT
PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 44 Stepping 2, GenuineIntel



---------------  S Y S T E M  ---------------

OS: Windows NT 6.1 , 64 bit Build 7601 Service Pack 1

CPU:total 16 (4 cores per cpu, 2 threads per core) family 6 model 44 
stepping 2, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, 
sse4.2, popcnt, ht

Memory: 4k page, physical 16763992k(13666632k free), swap 
33526136k(29133308k free)

vm_info: Java HotSpot(TM) 64-Bit Server VM (20.2-b06) for windows-amd64 
JRE (1.6.0_27-b07), built on Jul 19 2011 01:08:22 by "java_re" with MS 
VC++ 8.0 (VS2005)

time: Mon Nov 07 10:22:49 2011
elapsed time: 1623266 seconds


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 20:57:59 2012
Return-Path: <users-return-234395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4AED9B3F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 20:57:59 +0000 (UTC)
Received: (qmail 39778 invoked by uid 500); 23 May 2012 20:57:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39607 invoked by uid 500); 23 May 2012 20:57:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39598 invoked by uid 99); 23 May 2012 20:57:56 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:57:56 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 20:57:56 +0000
Message-ID: <4FBD4F51.9000507@apache.org>
Date: Wed, 23 May 2012 21:57:53 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JRE Access violation
References: <4FBD4E33.8080709@verizon.net>
In-Reply-To: <4FBD4E33.8080709@verizon.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 23/05/2012 21:53, David kerber wrote:
> Any suggestions as to where to start looking for this error?

Ditch the ODBC-JDBC bridge driver and get a JDBC driver for the database
you are using. The ODBC-JDBC bridge is not recommended for production use.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 21:17:45 2012
Return-Path: <users-return-234396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5AFE9C8F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 21:17:45 +0000 (UTC)
Received: (qmail 92110 invoked by uid 500); 23 May 2012 21:17:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92032 invoked by uid 500); 23 May 2012 21:17:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92022 invoked by uid 99); 23 May 2012 21:17:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:17:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.5 as permitted sender)
Received: from [206.46.173.5] (HELO vms173005pub.verizon.net) (206.46.173.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:17:33 +0000
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173005.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M4H00M9JV4DXT22@vms173005.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 23 May 2012 16:17:01 -0500 (CDT)
Message-id: <4FBD53D3.2080807@verizon.net>
Date: Wed, 23 May 2012 17:17:07 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JRE Access violation
References: <4FBD4E33.8080709@verizon.net> <4FBD4F51.9000507@apache.org>
In-reply-to: <4FBD4F51.9000507@apache.org>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

On 5/23/2012 4:57 PM, Mark Thomas wrote:
> On 23/05/2012 21:53, David kerber wrote:
>> Any suggestions as to where to start looking for this error?
>
> Ditch the ODBC-JDBC bridge driver and get a JDBC driver for the database
> you are using. The ODBC-JDBC bridge is not recommended for production use.

In general I agree, but that's easier said than done, and it has been 
working quite reliably for several years until yesterday.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 21:27:14 2012
Return-Path: <users-return-234397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB79ACD44
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 21:27:14 +0000 (UTC)
Received: (qmail 22219 invoked by uid 500); 23 May 2012 21:27:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22158 invoked by uid 500); 23 May 2012 21:27:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22146 invoked by uid 99); 23 May 2012 21:27:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:27:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:27:05 +0000
Received: by pbbro12 with SMTP id ro12so12760250pbb.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 14:26:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=kWguJ2Urgak64cXQSP3w5dHVzYROfGvfhnK9QWXL7Yc=;
        b=AtZOjoSCu9dF9cSY1jfT1aiEsrsKr1dCQ8UyTSL0kjXeNqkOc7XjPy4iyN+LGTQJ2Z
         xnZKxucJ095OkMCoZGX4YVoI/vKSG1LOFmoUmVC6qoS8/ln0s3FnKHhYrVzM8qhtwumX
         uwX3kR8qXltOn9DolZyLuIvJtLese6QROBgXA3l3PyWPAgcUzgH1Mt0Mqi8JBU1oIRHS
         xU1VUfwQVUwO1sqsV74gXyCmC/gvLZCg+ajdtN2/13jTrH/i+smWSjRWSH/OogNuNTQ9
         /73skFwJ8D3YxHFfLc7e3KT35xJss5kyiUahUnrnRBBhW8CqnLKLOwd8/hurZnpO4dv+
         IlPg==
MIME-Version: 1.0
Received: by 10.68.190.39 with SMTP id gn7mr14410281pbc.5.1337808404674; Wed,
 23 May 2012 14:26:44 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Wed, 23 May 2012 14:26:44 -0700 (PDT)
In-Reply-To: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
Date: Thu, 24 May 2012 01:26:44 +0400
Message-ID: <CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/24 Robert Anderson <ranomail@gmail.com>:
> Hi,
>
> I'm testing this functionality (versions 6.0.35 and 7.0.27) but it's not
> working for me (https://issues.apache.org/bugzilla/show_bug.cgi?id=3D4954=
3 ,
> http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Link=
s).
>
>
> -->server.xml
>
>
> =A0<GlobalNamingResources>
>
> =A0 =A0<Resource name=3D"jdbc/globalpg" auth=3D"Container"
> type=3D"javax.sql.DataSource" removeAbandoned=3D"true"
> removeAbandonedTimeout=3D"300"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 maxAc=
tive=3D"400" maxIdle=3D"30"
> maxWait=3D"10000"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 valid=
ationQuery=3D"select 1"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 testO=
nBorrow=3D"true"
>
> factory=3D"org.apache.tomcat.jdbc.pool.DataSourceFactory"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 drive=
rClassName=3D"org.postgresql.Driver"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 url=
=3D"jdbc:postgresql://
> 172.17.1.5:5432/tjse"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 usern=
ame=3D"user1"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 passw=
ord=3D"validpassword"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 />
>
> =A0</GlobalNamingResources>
>
>
> -->conf/Catalina/localhost/app1.xml
>
>
> <Context>
>
> =A0 =A0<ResourceLink name=3D"jdbc/localpg"
> =A0 =A0global=3D"jdbc/globalpg"
> =A0 =A0type=3D"javax.sql.DataSource"
> =A0 =A0factory=3D"org.apache.naming.factory.DataSourceLinkFactory"
> =A0 =A0username=3D"user2"
> =A0 =A0password=3D"invalidpassword"
> =A0 =A0/>
>
> </Context>
>
>
> -->webapps/app1/index.jsp
>
> <?xml version=3D"1.0" encoding=3D"ISO-8859-1"?>
> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
> =A0 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
> <%@ page session=3D"false" import=3D"javax.naming.*, java.sql.*, javax.sq=
l.*" %>
> <html xmlns=3D"http://www.w3.org/1999/xhtml" xml:lang=3D"en" lang=3D"en">
> =A0 =A0<head>
> =A0 =A0<title>Test shared data source</title>
> </head>
> <body>
> <%
> =A0 =A0Context ctx =3D new InitialContext();
> =A0 =A0DataSource ds =3D (DataSource)ctx.lookup("java:comp/env/jdbc/local=
pg");
> =A0 =A0Connection c =3D ds.getConnection();
> =A0 =A0Statement stm =3D c.createStatement();
>
> =A0 =A0ResultSet rs =3D stm.executeQuery("select 'this should fail becaus=
e the
> password of localpg is invalid but it is working.'");
>
> =A0 =A0rs.next();
>
> %>
> =A0 =A0<%=3D rs.getString(1) %><br/>
> <%
>
> =A0 =A0c.close();
> %>
> </body>
> </html>
>
>
> Am I doing some wrong?
>

1. You have to wrap all this with try/finally and invoke close() on
ResultSet and Statement before calling that method on Connection
(which returns it to the pool, but does not actually close it). I'd
have resource leaks otherwise.

2. You need to set alternateUsernameAllowed=3D"true" on Tomcat JDBC pool  [=
1]
Otherwise arguments in ds.getConnection(user,password) method on that
datasource are ignored.

[1] http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 21:27:23 2012
Return-Path: <users-return-234398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C809CDFB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 21:27:23 +0000 (UTC)
Received: (qmail 25729 invoked by uid 500); 23 May 2012 21:27:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25674 invoked by uid 500); 23 May 2012 21:27:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25664 invoked by uid 99); 23 May 2012 21:27:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:27:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of joao.silva@vilt-group.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:27:12 +0000
Received: by bkwj10 with SMTP id j10so8450623bkw.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 14:26:51 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to:cc
         :subject:references:in-reply-to:content-type:x-gm-message-state;
        bh=n+zK8EJjNzH6PYo1BUV1IOa3cM6d7WxAfKpqDmg03Go=;
        b=ZCBZEAPWLL/fRYLvkGQEkQ8JAgGEmqT2K3lk2wFphuUF4WgV7PbNX8pz7f9oA8DS0j
         FNpL76A6Y9Xl9dzKQMC9CYZPDqQ6CSk9t1s+3zsZy0dYHWcrWzfODm3pIOxwywjSCBtg
         GU4oLUvePg1qmiuOaygkKw6ey/9wgvEmHBMb7WSxjpHLzUp6KNvA2JclLv81ygCESeJP
         N9bBYPlG4P20bYfdIbmHvfMRD6ChEtm0p4JJMPFFM2kajJbBlEbBN1eNNI3HMTbD4rCA
         w5uENVLUbuyAbtJX2Aehjd6G5mrTr6Ba+zZnnqfsvnMKyV1GmdaO+QCb4UnPIxOc/kY+
         cjPw==
Received: by 10.205.124.8 with SMTP id gm8mr12334585bkc.90.1337808411489;
        Wed, 23 May 2012 14:26:51 -0700 (PDT)
Received: from [192.168.1.3] (a81-84-225-175.cpe.netcabo.pt. [81.84.225.175])
        by mx.google.com with ESMTPS id gw6sm124819bkc.16.2012.05.23.14.26.48
        (version=SSLv3 cipher=OTHER);
        Wed, 23 May 2012 14:26:49 -0700 (PDT)
Message-ID: <4FBD560E.3080102@vilt-group.com>
Date: Wed, 23 May 2012 22:26:38 +0100
From: Joao Silva <joao.silva@vilt-group.com>
Organization: VILT Group (www.vilt-group.com)
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Robert Anderson <ranomail@gmail.com>
CC: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Shared data source (Bug 49543)
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
In-Reply-To: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------010000090206030206030200"
X-Gm-Message-State: ALoCoQkDXNgWrVjfj18Xv+VR1dFMqXpvKvHefXCKABtPZ0X5P82IEqGLFTT8ApMQnuNSp+nvCgOm

--------------010000090206030206030200
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi

The ResourceLink element will use the parameters name, global and type.
Everything else is being ignored, as the resource link is but reference 
to the global shared data source.
See http://tomcat.apache.org/tomcat-7.0-doc/config/context.html, 
searching for ResourceLink.

Best regards

On 5/23/2012 9:31 PM, Robert Anderson wrote:
> Hi,
>
> I'm testing this functionality (versions 6.0.35 and 7.0.27) but it's not
> working for me (https://issues.apache.org/bugzilla/show_bug.cgi?id=49543 ,
> http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links).
>
>
> -->server.xml
>
>
>    <GlobalNamingResources>
>
>      <Resource name="jdbc/globalpg" auth="Container"
> type="javax.sql.DataSource" removeAbandoned="true"
> removeAbandonedTimeout="300"
>                                     maxActive="400" maxIdle="30"
> maxWait="10000"
>                                     validationQuery="select 1"
>                                     testOnBorrow="true"
>
> factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
>                                     driverClassName="org.postgresql.Driver"
>                                     url="jdbc:postgresql://
> 172.17.1.5:5432/tjse"
>                                     username="user1"
>                                     password="validpassword"
>                                     />
>
>    </GlobalNamingResources>
>
>
> -->conf/Catalina/localhost/app1.xml
>
>
> <Context>
>
>      <ResourceLink name="jdbc/localpg"
>      global="jdbc/globalpg"
>      type="javax.sql.DataSource"
>      factory="org.apache.naming.factory.DataSourceLinkFactory"
>      username="user2"
>      password="invalidpassword"
>      />
>
> </Context>
>
>
> -->webapps/app1/index.jsp
>
> <?xml version="1.0" encoding="ISO-8859-1"?>
> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
>     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
> <%@ page session="false" import="javax.naming.*, java.sql.*, javax.sql.*" %>
> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
>      <head>
>      <title>Test shared data source</title>
> </head>
> <body>
> <%
>      Context ctx = new InitialContext();
>      DataSource ds = (DataSource)ctx.lookup("java:comp/env/jdbc/localpg");
>      Connection c = ds.getConnection();
>      Statement stm = c.createStatement();
>
>      ResultSet rs = stm.executeQuery("select 'this should fail because the
> password of localpg is invalid but it is working.'");
>
>      rs.next();
>
> %>
>      <%= rs.getString(1) %><br/>
> <%
>
>      c.close();
> %>
> </body>
> </html>
>
>
> Am I doing some wrong?
>
>
> Thanks in advance,
>
>
> Robert
>

-- 
*Joo Silva
* *
VILT Group
* *_http://www.vilt-group.com
_
Rua Ivone Silva, 6 - 7 Esq
1050-124 Lisboa - Portugal

Mobile  +351 926 531 097
Phone   +351 210 34 33 00
Fax       +351 210 34 33 99
Email _joao.silva@vilt-group.com <mailto:joao.silva@vilt-group.com>_*

--------------010000090206030206030200--

From users-return-234399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 21:40:25 2012
Return-Path: <users-return-234399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61C68C737
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 21:40:25 +0000 (UTC)
Received: (qmail 69284 invoked by uid 500); 23 May 2012 21:40:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69097 invoked by uid 500); 23 May 2012 21:40:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69084 invoked by uid 99); 23 May 2012 21:40:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:40:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 21:40:14 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id DX3Z1j00M1ei1Bg5FZfsur; Wed, 23 May 2012 21:39:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id DZfs1j00d38FjT13kZfsJH; Wed, 23 May 2012 21:39:52 +0000
Message-ID: <4FBD5928.4070808@christopherschultz.net>
Date: Wed, 23 May 2012 17:39:52 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JRE Access violation
References: <4FBD4E33.8080709@verizon.net> <4FBD4F51.9000507@apache.org> <4FBD53D3.2080807@verizon.net>
In-Reply-To: <4FBD53D3.2080807@verizon.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 5/23/12 5:17 PM, David kerber wrote:
> On 5/23/2012 4:57 PM, Mark Thomas wrote:
>> On 23/05/2012 21:53, David kerber wrote:
>>> Any suggestions as to where to start looking for this error?
>> 
>> Ditch the ODBC-JDBC bridge driver and get a JDBC driver for the
>> database you are using. The ODBC-JDBC bridge is not recommended
>> for production use.
> 
> In general I agree, but that's easier said than done, and it has
> been working quite reliably for several years until yesterday.

Is it tough to move to a Type 4 driver? I didn't think there was a
database these days that still required the ODBC bridge...

If EXCEPTION_ACCESS_VIOLATION is what I think it is (SIGSEGV), then I
would highly recommend that you run memtest86+ on this machine as soon
as you can. Barring JVM bugs (and a buggy JDBC->ODBC bridge could
certainly be the culprit), my experience has been that unexplained seg
faults usually mean that the hardware is starting to die (I've seen
independent CPU, memory, and motherboard failures cause this kind of
thing).

After you replace the ODBC driver, I'd immediately test with
memtext86+ is you are still having problems: it's much faster to test
your rig and rule that out first than it is to chase-down all the
crazy leads that teh intarwebs have to offer.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+9WSgACgkQ9CaO5/Lv0PCMaQCgunjQ4eFnhEg2aFmzgXMkbvNu
V7kAoJBRAyaNG536TyhO1R9Hl9eElV68
=CBXh
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 22:06:08 2012
Return-Path: <users-return-234400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6741C835
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 22:06:08 +0000 (UTC)
Received: (qmail 42807 invoked by uid 500); 23 May 2012 22:06:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42750 invoked by uid 500); 23 May 2012 22:06:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42740 invoked by uid 99); 23 May 2012 22:06:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 22:06:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 22:05:58 +0000
Received: by werf3 with SMTP id f3so7105765wer.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 15:05:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=KwT9NUtddu4lgQQ3miuF3b/focBpNrWb4SZWO/Dfm+E=;
        b=IkGSat8AOyEpBgsOF3VaisyRVIIIyJxUtFwsA0wANc6UOGqu1QMGtsQ5A+a7vk8q6l
         fHjUgU4mOGbG19NBoxWsROweN/ELQAbg5zsHS6lo/GSrDRTSbIVkVQ4n4/RdKW8qvcKb
         NeaaTv+z4w49iYL+dWCg3P9meEGAniPdmb+tEKKehttLBfSsUWSvQN7NWZsuvUcz1fKy
         CN+Vj/cdH4hLQpE1zF42h/574lBUkPPzAZWyQ5PEB3cvqLHPag6qtMlCLcDWjkkqLShd
         v2xUrFdl1ZtxfNJlVYe24h6lPY5mDQghs8FBI/oWLgiGiOWe4WrvKPPzSkNpozUrZ69j
         bv9A==
MIME-Version: 1.0
Received: by 10.216.141.223 with SMTP id g73mr15396174wej.64.1337810738202;
 Wed, 23 May 2012 15:05:38 -0700 (PDT)
Received: by 10.216.4.3 with HTTP; Wed, 23 May 2012 15:05:38 -0700 (PDT)
In-Reply-To: <4FBD4E33.8080709@verizon.net>
References: <4FBD4E33.8080709@verizon.net>
Date: Thu, 24 May 2012 02:05:38 +0400
Message-ID: <CABzHfVnyW9AWnfgWhmuzFOUmTjOOfMvz=vEN89TUmaK27ARJ3Q@mail.gmail.com>
Subject: Re: JRE Access violation
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/24 David kerber <dckerber@verizon.net>:
> Any suggestions as to where to start looking for this error?
>
> This is TC 7.0.22 32-bit running on Windows Server 2008R2, on a Dell
> Dual-processor 4-core hyperthreaded (total 16 cores according to the OS) =
box
> with 16GB RAM. =A0Overall memory usage is approx 26% according to task
> Manager.
>
> There are 5 instances of Tomcat running, each on a different TCP port, an=
d
> each running from its own doc base. =A0They are all running the same
> application, though with slightly different settings for different
> customers. =A0I have allocated 512MB to each instance, and the biggest on=
e is
> using approx 260MB according to task manager. =A0Only the single instance=
 of
> TC has had this problem, and it has died each of the last two days, after
> running perfectly for over two months. =A0All other instances continue to=
 run
> with no trouble, including one which has much more activity than the one
> with the trouble.
>
> This is the only unexpected entry in any of the TC logs.
>
> 2012-05-23 08:12:04 Commons Daemon procrun stdout initialized
> #
> # A fatal error has been detected by the Java Runtime Environment:
> #
> # =A0EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=3D0x7729e39e, pid=3D44=
32,
> tid=3D4588
> #
> # JRE version: 6.0_27-b07
> # Java VM: Java HotSpot(TM) Server VM (20.2-b06 mixed mode windows-x86 )
> # Problematic frame:
> # C =A0[ntdll.dll+0x2e39e]
> #
> # An error report file with more information is saved as:
> # C:\Windows\system32\hs_err_pid4432.log
> #
> # If you would like to submit a bug report, please visit:
> # =A0 http://java.sun.com/webapps/bugreport/crash.jsp
> #
>
>
> According to C:\Windows\system32\hs_err_pid4432.log, the problem appears =
to
> be in the sun database access stuff, but I'm not sure if the "thread
> blocked" messages in the below listing mean anything.
>
> And here is C:\Windows\system32\hs_err_pid4432.log. =A0Unfortunately, pas=
ting
> it into the e-mail hosed the line wrapping:
>
> #
> # A fatal error has been detected by the Java Runtime Environment:
> #
> # =A0EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=3D0x00000000770e32d0,
> pid=3D1400, tid=3D5028
> #
> # JRE version: 6.0_27-b07
> # Java VM: Java HotSpot(TM) 64-Bit Server VM (20.2-b06 mixed mode
> windows-amd64 compressed oops)
> # Problematic frame:
> # C =A0[ntdll.dll+0x532d0]
> #
> # If you would like to submit a bug report, please visit:
> # =A0 http://java.sun.com/webapps/bugreport/crash.jsp
> #
>
> --------------- =A0T H R E A D =A0---------------
>
> Current thread (0x000000000cf7b800): =A0JavaThread "http-apr-55001-exec-5=
70"
> daemon [_thread_in_vm, id=3D5028,
> stack(0x000000000cb00000,0x000000000cc00000)]
>
> siginfo: ExceptionCode=3D0xc0000005, reading address 0x00000e6779be1a38
>
> Registers:
> RAX=3D0x0000000007b28890, RBX=3D0x00000e6779be1a30, RCX=3D0x000000fffffff=
fff,
> RDX=3D0x00000000082f11e0
> RSP=3D0x000000000cbfea10, RBP=3D0x0000000000000000, RSI=3D0x0000000000470=
000,
> RDI=3D0x00000000082f11f0
> R8 =3D0x00000000082f11f0, R9 =3D0x0000000000000001, R10=3D0x0000000000000=
00c,
> R11=3D0x00000000fd3b1748
> R12=3D0x0000000000000000, R13=3D0x00000000e3773cb0, R14=3D0x000000000cbfe=
bf0,
> R15=3D0x000000000cf7b800
> RIP=3D0x00000000770e32d0, EFLAGS=3D0x0000000000010206
>
> Top of Stack: (sp=3D0x000000000cbfea10)
> 0x000000000cbfea10: =A0 0000000000000000 00000000014e1897
> 0x000000000cbfea20: =A0 0000000000000001 0000000000000001
> 0x000000000cbfea30: =A0 00000000078f29c8 000000006d908410
> 0x000000000cbfea40: =A0 0000000000000004 0000000000000001
> 0x000000000cbfea50: =A0 000000000cf7b800 000000000cbfebf0
> 0x000000000cbfea60: =A0 00000000e3773cb0 0000000000000000
> 0x000000000cbfea70: =A0 0000000000000000 00000000082f11f0
> 0x000000000cbfea80: =A0 000000000cbfebb8 000007fefde510c4
> 0x000000000cbfea90: =A0 00000000e3772f90 000000000cf7b800
> 0x000000000cbfeaa0: =A0 000000000cbfeac8 000000000cbfeb28
> 0x000000000cbfeab0: =A0 000000000cf7b800 000000006d927949
> 0x000000000cbfeac0: =A0 000000000cbfeb28 00000000014d58fa
> 0x000000000cbfead0: =A0 0000000007f08120 00000000014d58fa
> 0x000000000cbfeae0: =A0 00000000e81708c0 000000006d409fc4
> 0x000000000cbfeaf0: =A0 000000000cf7b9d0 000000000cbfebb8
> 0x000000000cbfeb00: =A0 0000000000000001 0000000007855268
>
> Instructions: (pc=3D0x00000000770e32d0)
> 0x00000000770e32b0: =A0 ff ff 00 00 00 48 33 de 48 23 c1 48 c1 eb 04 48
> 0x00000000770e32c0: =A0 33 d8 48 33 1d ff f0 0d 00 48 c1 e3 04 0f 0d 0b
> 0x00000000770e32d0: =A0 4c 8b 63 08 49 bd 01 00 00 00 01 00 00 00 49 be
> 0x00000000770e32e0: =A0 ff 7f 00 00 ff ff ff ff c6 42 0f 80 c6 42 0e 00
>
>
> Register to memory mapping:
>
> RAX=3D0x0000000007b28890 is an unknown value
> RBX=3D0x00000e6779be1a30 is an unknown value
> RCX=3D0x000000ffffffffff is an unknown value
> RDX=3D0x00000000082f11e0 is an unknown value
> RSP=3D0x000000000cbfea10 is pointing into the stack for thread:
> 0x000000000cf7b800
> RBP=3D0x0000000000000000 is an unknown value
> RSI=3D0x0000000000470000 is an unknown value
> RDI=3D0x00000000082f11f0 is an unknown value
> R8 =3D0x00000000082f11f0 is an unknown value
> R9 =3D0x0000000000000001 is an unknown value
> R10=3D0x000000000000000c is an unknown value
> R11=3D0x00000000fd3b1748 is an unknown value
> R12=3D0x0000000000000000 is an unknown value
> R13=3D0x00000000e3773cb0 is an oop
> {method}
> =A0- klass: {other class}
> R14=3D0x000000000cbfebf0 is pointing into the stack for thread:
> 0x000000000cf7b800
> R15=3D0x000000000cf7b800 is a thread
>
>
> Stack: [0x000000000cb00000,0x000000000cc00000], =A0sp=3D0x000000000cbfea1=
0,
> =A0free space=3D1018k
> Native frames: (J=3Dcompiled Java code, j=3Dinterpreted, Vv=3DVM code, C=
=3Dnative
> code)
> C =A0[ntdll.dll+0x532d0] =A0RtlFreeHeap+0xd0
>
> [error occurred during error reporting (printing native stack), id
> 0xc0000005]
>

The above line - so it failed so hard, that was not able to properly
report the error?

Regarding your question
> I'm not sure if the "thread blocked" messages in the below listing mean a=
nything.

I see nothing wrong with Apr connector threads state.

They are executing java code. Only several of them are in
"_thread_in_native" state. Nothing else can be said, because java
stack traces are not present.

You can take thread dumps from Tomcat instance when it is running and compa=
re.

Note, that this connector using Tomcat-Native library is one more
native component in the picture. I have nothing against it, just
saying.

> each of the last two days
Two days ago?
http://en.wikipedia.org/wiki/Solar_eclipse_of_May_20,_2012


BTW, there is known stability issue with that version of Tomcat if you
have compression=3D"on" on your connector
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D52121

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 22:12:41 2012
Return-Path: <users-return-234401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20645C8E4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 22:12:41 +0000 (UTC)
Received: (qmail 62090 invoked by uid 500); 23 May 2012 22:12:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62014 invoked by uid 500); 23 May 2012 22:12:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62004 invoked by uid 99); 23 May 2012 22:12:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 22:12:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 22:12:31 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 7212825DA04
	for <users@tomcat.apache.org>; Wed, 23 May 2012 16:12:10 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 608C025DA05; Wed, 23 May 2012 16:12:10 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
	*  0.0 AWL AWL: From: address is in the auto white-list
X-Spam-DCC: wuwien: mx-01.formatdynamics.com 1290; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 2E10C25DA04
	for <users@tomcat.apache.org>; Wed, 23 May 2012 16:12:08 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Wed, 23 May 2012 16:12:06 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac05L3I2iaDdC8zlRP2wKwuymn8x4A==
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Wed May 23 16:12:10 2012 -0600 (MDT)
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

Centos 5.8, x86_64, apache 2.2.22, java 1.6.0_32, tomcat 7.0.27, apr
1.4.6 (also happens on another machine with apache 2.2.21 and java
1.6.0_29, rest of the versions are the same)

Connecting apache to tomcat ajp, same machine.
Once I upgraded to 1.2.36 I started receiving 503 errors when trying to
access my webapps.
1.2.32 and 1.2.35 work fine.

Tomcat catalina.out and access logs show nothing

Jk log shows:
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_get_endpoint::jk_ajp_common.c (3154): acquired connection pool
slot=3D0 after 0 retries
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_marshal_into_msgb::jk_ajp_common.c (626): ajp marshaling done
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_service::jk_ajp_common.c (2449): processing app-03 with 2 retries
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_send_request::jk_ajp_common.c (1623): (app-03) all endpoints are
disconnected.
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_open_socket::jk_connect.c (574): timeout 20 set for socket=3D22
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_open_socket::jk_connect.c (609): trying to connect socket 22 to
0.0.0.0:0
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_open_socket::jk_connect.c (635): socket 22 [errno=3D107] connected
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_connection_tcp_send_message::jk_ajp_common.c (1183): sending to
ajp13 pos=3D4 len=3D5 max=3D16
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
ajp_connection_tcp_send_message::jk_ajp_common.c (1183): 0000    12 34
00 01 0A 00 00 00 00 00 00 00 00 00 00 00  - .4..............
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 22
[errno=3D107]
[Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
jk_shutdown_socket::jk_connect.c (741): Failed sending SHUT_WR for
socket 22 [errno=3D107]
[Wed May 23 15:56:32 2012] [32504:1138178368] [info]
ajp_connection_tcp_send_message::jk_ajp_common.c (1215): sendfull for
socket 22 returned -32 (errno=3D32)
[Wed May 23 15:56:32 2012] [32504:1138178368] [info]
ajp_handle_cping_cpong::jk_ajp_common.c (902): can't send cping query
[Wed May 23 15:56:32 2012] [32504:1138178368] [error]
ajp_connect_to_endpoint::jk_ajp_common.c (1026): (app-03) cping/cpong
after connecting to the backend server failed (errno=3D32)
[Wed May 23 15:56:32 2012] [32504:1138178368] [error]
ajp_send_request::jk_ajp_common.c (1629): (app-03) connecting to backend
failed. Tomcat is probably not started or is listening on the wrong port
(errno=3D32)
[Wed May 23 15:56:32 2012] [32504:1138178368] [info]
ajp_service::jk_ajp_common.c (2622): (app-03) sending request to tomcat
failed (recoverable), because of error during request sending
(attempt=3D1)

I also noticed that a tcpdump shows 0 packets to and from on the lo
interface

httpd.conf settings are:

JkWorkersFile /path/to/workers.properties
JkWatchdogInterval 60
JkLogFile     /path/to/GLOBAL-mod_jk.log
JkLogLevel    debug
JkLogStampFormat "[%a %b %d %H:%M:%S %Y] "
JkOptions +ForwardKeySize +ForwardURIProxy -ForwardDirectories
JkRequestLogFormat "%w %R %V %B %T %m %U %s"
JkShmFile logs/jk-runtime-status
JkMount /webapp/* loadbalancer

workers.properties settings are:

worker.list=3Djkstatus,app-03,loadbalancer
worker.template.port=3D8009
worker.template.type=3Dajp13
worker.template.lbfactor=3D1
worker.template.connection_pool_timeout=3D30
worker.template.connect_timeout=3D30000
worker.template.recovery_options=3D4
worker.template.reply_timeout=3D31000
worker.template.socket_timeout=3D20
worker.template.socket_connect_timeout=3D5000
worker.template.ping_mode=3DA
worker.template.ping_timeout=3D20000
worker.app-03.host=3D127.0.0.1
worker.app-03.reference=3Dworker.template
worker.jkstatus.type=3Dstatus
worker.loadbalancer.sticky_session=3D1
worker.loadbalancer.type=3Dlb
worker.loadbalancer.balance_workers=3Dapp-03

server.xml settings are:

        <Connector port=3D"8009" protocol=3D"AJP/1.3"
                        maxThreads=3D"1000" backlog=3D"25"
maxPostSize=3D"4194304"
                        enableLookups=3D"false" =
connectionTimeout=3D"30000"
keepAliveTimeout=3D"10000"
                        redirectPort=3D"8443" />

# netstat -anop | grep 8009
tcp        0      0 0.0.0.0:8009                0.0.0.0:*
LISTEN      30151/jsvc.exec     off (0.00/0/0)

-Tony
---------------------------
Manager, IT Operations
Format Dynamics, Inc.
P: 303-228-7327
F: 303-228-7305
abiacco@formatdynamics.com
http://www.formatdynamics.com



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:02:13 2012
Return-Path: <users-return-234402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2959999AE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:02:13 +0000 (UTC)
Received: (qmail 9484 invoked by uid 500); 23 May 2012 23:02:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9433 invoked by uid 500); 23 May 2012 23:02:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9423 invoked by uid 99); 23 May 2012 23:02:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:02:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.71.1.210] (HELO relaygateway01.edpnet.net) (212.71.1.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:02:02 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApIBAApsvU/V25GM/2dsb2JhbAANNoUvskSBCwIUEgJpsFiSXIEki2MCggKBEgOndA
X-IronPort-AV: E=Sophos;i="4.75,647,1330902000"; 
   d="scan'208";a="87178216"
Received: from 213.219.145.140.adsl.dyn.edpnet.net (HELO [192.168.1.13]) ([213.219.145.140])
  by relaygateway01.edpnet.net with ESMTP; 24 May 2012 01:01:41 +0200
Subject: user switching or application interacting with container based
 authentication
From: dirk ooms <dirk@onesparrow.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset="UTF-8"
Organization: OneSparrow
Date: Thu, 24 May 2012 01:01:41 +0200
Message-ID: <1337814101.1891.45.camel@earth>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit

Hello,

we are running a web application with form based authentication. we now
have a requirement to switch between users (for subsets of users) with a
minimum of user interaction (log out and log in providing username &
password is way too much work for the user). so i was thinking of
providing each user with a badge with a unique barcode (a hash of
username&password?) which they can scan into a dedicated field in the
webpage and which will trigger the user switch. note that this barcode
field will only be available once a person has logged in in the normal
way (form based), so the user switch request is received within an
authenticated session.

the difficult part of the story is how can i tell the 'container based
authentication' that the current session is transferred to another user
with possibly other roles OR how can i create a new session for the new
user (so applying the correct authorization and providing a
HttpServletRequest returning the correct values of getUserPrincipal()
and isUserInRole()). the application is able to retrieve the user and
its roles, but how can the application inform the container about this.

i've been googling and reading for hours now and i'm a bit lost
(understatement) on how to proceed with this. it could also be the case
that there are much better scenario's than the one i have in mind.

any hint on fast-user-switching or
applications-interacting-with-container-based-authentication are very
welcome.

cheers,
dirk


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:03:09 2012
Return-Path: <users-return-234403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 182C399BB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:03:09 +0000 (UTC)
Received: (qmail 15582 invoked by uid 500); 23 May 2012 23:03:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15500 invoked by uid 500); 23 May 2012 23:03:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15489 invoked by uid 99); 23 May 2012 23:03:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:03:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:02:59 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id B571025DA03
	for <users@tomcat.apache.org>; Wed, 23 May 2012 17:02:37 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id A0D6625DA04; Wed, 23 May 2012 17:02:37 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: wuwien: mx-01.formatdynamics.com 1290; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 2FFF925DA03
	for <users@tomcat.apache.org>; Wed, 23 May 2012 17:02:31 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Wed, 23 May 2012 17:02:29 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C2934C@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac05L3I2iaDdC8zlRP2wKwuymn8x4AABzL4g
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Wed May 23 17:02:37 2012 -0600 (MDT)
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

>=20
> Centos 5.8, x86_64, apache 2.2.22, java 1.6.0_32, tomcat 7.0.27, apr
> 1.4.6 (also happens on another machine with apache 2.2.21 and java
> 1.6.0_29, rest of the versions are the same)
>=20

FWIW I also tried the following combos with the same effects:

tomcat 7.0.25/jni 1.1.22/apr 1.4.5
tomcat 7.0.25/jni 1.1.22/apr 1.4.6
tomcat 7.0.26/jni 1.1.22/apr 1.4.6

-Tony



> Connecting apache to tomcat ajp, same machine.
> Once I upgraded to 1.2.36 I started receiving 503 errors when trying
to
> access my webapps.
> 1.2.32 and 1.2.35 work fine.
>=20
> Tomcat catalina.out and access logs show nothing
>=20
> Jk log shows:
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_get_endpoint::jk_ajp_common.c (3154): acquired connection pool
> slot=3D0 after 0 retries
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_marshal_into_msgb::jk_ajp_common.c (626): ajp marshaling done
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_service::jk_ajp_common.c (2449): processing app-03 with 2 retries
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_send_request::jk_ajp_common.c (1623): (app-03) all endpoints are
> disconnected.
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (574): timeout 20 set for socket=3D22
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (609): trying to connect socket 22 to
> 0.0.0.0:0
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (635): socket 22 [errno=3D107] connected
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_connection_tcp_send_message::jk_ajp_common.c (1183): sending to
> ajp13 pos=3D4 len=3D5 max=3D16
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> ajp_connection_tcp_send_message::jk_ajp_common.c (1183): 0000    12 34
> 00 01 0A 00 00 00 00 00 00 00 00 00 00 00  - .4..............
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 22
> [errno=3D107]
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_shutdown_socket::jk_connect.c (741): Failed sending SHUT_WR for
> socket 22 [errno=3D107]
> [Wed May 23 15:56:32 2012] [32504:1138178368] [info]
> ajp_connection_tcp_send_message::jk_ajp_common.c (1215): sendfull for
> socket 22 returned -32 (errno=3D32)
> [Wed May 23 15:56:32 2012] [32504:1138178368] [info]
> ajp_handle_cping_cpong::jk_ajp_common.c (902): can't send cping query
> [Wed May 23 15:56:32 2012] [32504:1138178368] [error]
> ajp_connect_to_endpoint::jk_ajp_common.c (1026): (app-03) cping/cpong
> after connecting to the backend server failed (errno=3D32)
> [Wed May 23 15:56:32 2012] [32504:1138178368] [error]
> ajp_send_request::jk_ajp_common.c (1629): (app-03) connecting to
> backend
> failed. Tomcat is probably not started or is listening on the wrong
port
> (errno=3D32)
> [Wed May 23 15:56:32 2012] [32504:1138178368] [info]
> ajp_service::jk_ajp_common.c (2622): (app-03) sending request to
tomcat
> failed (recoverable), because of error during request sending
> (attempt=3D1)
>=20
> I also noticed that a tcpdump shows 0 packets to and from on the lo
> interface
>=20
> httpd.conf settings are:
>=20
> JkWorkersFile /path/to/workers.properties
> JkWatchdogInterval 60
> JkLogFile     /path/to/GLOBAL-mod_jk.log
> JkLogLevel    debug
> JkLogStampFormat "[%a %b %d %H:%M:%S %Y] "
> JkOptions +ForwardKeySize +ForwardURIProxy -ForwardDirectories
> JkRequestLogFormat "%w %R %V %B %T %m %U %s"
> JkShmFile logs/jk-runtime-status
> JkMount /webapp/* loadbalancer
>=20
> workers.properties settings are:
>=20
> worker.list=3Djkstatus,app-03,loadbalancer
> worker.template.port=3D8009
> worker.template.type=3Dajp13
> worker.template.lbfactor=3D1
> worker.template.connection_pool_timeout=3D30
> worker.template.connect_timeout=3D30000
> worker.template.recovery_options=3D4
> worker.template.reply_timeout=3D31000
> worker.template.socket_timeout=3D20
> worker.template.socket_connect_timeout=3D5000
> worker.template.ping_mode=3DA
> worker.template.ping_timeout=3D20000
> worker.app-03.host=3D127.0.0.1
> worker.app-03.reference=3Dworker.template
> worker.jkstatus.type=3Dstatus
> worker.loadbalancer.sticky_session=3D1
> worker.loadbalancer.type=3Dlb
> worker.loadbalancer.balance_workers=3Dapp-03
>=20
> server.xml settings are:
>=20
>         <Connector port=3D"8009" protocol=3D"AJP/1.3"
>                         maxThreads=3D"1000" backlog=3D"25"
> maxPostSize=3D"4194304"
>                         enableLookups=3D"false"
connectionTimeout=3D"30000"
> keepAliveTimeout=3D"10000"
>                         redirectPort=3D"8443" />
>=20
> # netstat -anop | grep 8009
> tcp        0      0 0.0.0.0:8009                0.0.0.0:*
> LISTEN      30151/jsvc.exec     off (0.00/0/0)
>=20
> -Tony
> ---------------------------
> Manager, IT Operations
> Format Dynamics, Inc.
> P: 303-228-7327
> F: 303-228-7305
> abiacco@formatdynamics.com
> http://www.formatdynamics.com
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:03:30 2012
Return-Path: <users-return-234404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E470399C4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:03:30 +0000 (UTC)
Received: (qmail 20105 invoked by uid 500); 23 May 2012 23:03:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20058 invoked by uid 500); 23 May 2012 23:03:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20047 invoked by uid 99); 23 May 2012 23:03:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:03:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:03:23 +0000
Received: by yhoo21 with SMTP id o21so9401028yho.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 16:03:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dkyGZ45GiPw0ovtmnCWnoc04ciofQa1HQQH7RfSQ90M=;
        b=krDK0YlIz440VzrFKspsnaei9W1uPzATiCzQlwiZMRfuuejAZ493UrkVepJgaO/API
         BqzbEf4ZFfyEizaYQzyB9f4Gf8E7FnaOcLEj+Q0r20yE8MbCF4rndagJO0aCJr2HkPdy
         abw/ChEua4GkNo9+vrHDlXJtRfgrA2VA5zD8douGV0McfsCQzwBbIEY5itSP6zLlYE1W
         XjNpfSsSamYzayBezQf2KcMtp7y8ywIULdJkW1tOhqikhqGcW+HJnU02IS6s1vaxuTcu
         EKrVlJ041w64C1WUJCn+xyxy5kXDSJee+0pe3ZwtdOV0SJhHhTMfPiZtl1efFzjMKnkg
         eTGA==
MIME-Version: 1.0
Received: by 10.50.87.227 with SMTP id bb3mr14743288igb.57.1337814181906; Wed,
 23 May 2012 16:03:01 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Wed, 23 May 2012 16:03:01 -0700 (PDT)
In-Reply-To: <CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
Date: Wed, 23 May 2012 20:03:01 -0300
Message-ID: <CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f3ba4d3168a9004c0bc23bf
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f3ba4d3168a9004c0bc23bf
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Thanks guys.

"1. You have to wrap all this with try/finally and invoke close() on
ResultSet and Statement before calling that method on Connection
(which returns it to the pool, but does not actually close it). I'd
have resource leaks otherwise."

Cetainly, in this code I just wanted to test getConnection is not a real
application.


2. You need to set alternateUsernameAllowed="
>
> true" on Tomcat JDBC pool  [1]
> Otherwise arguments in ds.getConnection(user,password) method on that
> datasource are ignored.


Good, I'll test it. Anyway, the following description and example in
documentation is not valid (
tomcat.apache.org/tomcat-6.0-doc/config/context.html#Resource_Links,
tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links):

"When the attribute
factory="org.apache.naming.factory.DataSourceLinkFactory" the resource link
can be used with two additional attributes to allow a shared data source to
be used with different credentials. When these two additional attributes
are used in combination with the javax.sql.DataSource type, different
contexts can share a global data source with different credentials. Under
the hood, what happens is that a call to
getConnection()<http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28%29>is
simply translated to a call getConnection(username,
password)<http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28java.lang.String,%20java.lang.String%29>on
the global data source. This is an easy way to get code to be
transparent to what schemas are being used, yet be able to control
connections (or pools) in the global configuration. "

<GlobalNamingResources>
  ...
  <Resource name="sharedDataSource"
            global="sharedDataSource"
            type="javax.sql.DataSource"
            username="bar"
            password="barpass"

            ...
  ...
</GlobalNamingResources>

<Context path="/foo"...>
  ...
  <ResourceLink
            name="appDataSource"
            global="sharedDataSource"
            type="javax.sql.DataSource"
            factory="org.apache.naming.factory.DataSourceLinkFactory"
            username="foo"
            password="foopass"
  ...
</Context>
<Context path="/bar"...>
  ...
  <ResourceLink
            name="appDataSource"
            global="sharedDataSource"
            type="javax.sql.DataSource"
  ...
</Context>



That way, just does not work.


Best regards,

Robert






On Wed, May 23, 2012 at 6:26 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/24 Robert Anderson <ranomail@gmail.com>:
> > Hi,
> >
> > I'm testing this functionality (versions 6.0.35 and 7.0.27) but it's not
> > working for me (https://issues.apache.org/bugzilla/show_bug.cgi?id=49543,
> >
> http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links
> ).
> >
> >
> > -->server.xml
> >
> >
> >  <GlobalNamingResources>
> >
> >    <Resource name="jdbc/globalpg" auth="Container"
> > type="javax.sql.DataSource" removeAbandoned="true"
> > removeAbandonedTimeout="300"
> >                                   maxActive="400" maxIdle="30"
> > maxWait="10000"
> >                                   validationQuery="select 1"
> >                                   testOnBorrow="true"
> >
> > factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
> >                                   driverClassName="org.postgresql.Driver"
> >                                   url="jdbc:postgresql://
> > 172.17.1.5:5432/tjse"
> >                                   username="user1"
> >                                   password="validpassword"
> >                                   />
> >
> >  </GlobalNamingResources>
> >
> >
> > -->conf/Catalina/localhost/app1.xml
> >
> >
> > <Context>
> >
> >    <ResourceLink name="jdbc/localpg"
> >    global="jdbc/globalpg"
> >    type="javax.sql.DataSource"
> >    factory="org.apache.naming.factory.DataSourceLinkFactory"
> >    username="user2"
> >    password="invalidpassword"
> >    />
> >
> > </Context>
> >
> >
> > -->webapps/app1/index.jsp
> >
> > <?xml version="1.0" encoding="ISO-8859-1"?>
> > <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
> >   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
> > <%@ page session="false" import="javax.naming.*, java.sql.*,
> javax.sql.*" %>
> > <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
> >    <head>
> >    <title>Test shared data source</title>
> > </head>
> > <body>
> > <%
> >    Context ctx = new InitialContext();
> >    DataSource ds = (DataSource)ctx.lookup("java:comp/env/jdbc/localpg");
> >    Connection c = ds.getConnection();
> >    Statement stm = c.createStatement();
> >
> >    ResultSet rs = stm.executeQuery("select 'this should fail because the
> > password of localpg is invalid but it is working.'");
> >
> >    rs.next();
> >
> > %>
> >    <%= rs.getString(1) %><br/>
> > <%
> >
> >    c.close();
> > %>
> > </body>
> > </html>
> >
> >
> > Am I doing some wrong?
> >
>
> 1. You have to wrap all this with try/finally and invoke close() on
> ResultSet and Statement before calling that method on Connection
> (which returns it to the pool, but does not actually close it). I'd
> have resource leaks otherwise.
>
> 2. You need to set alternateUsernameAllowed="true" on Tomcat JDBC pool  [1]
> Otherwise arguments in ds.getConnection(user,password) method on that
> datasource are ignored.
>
> [1] http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f3ba4d3168a9004c0bc23bf--

From users-return-234405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:06:47 2012
Return-Path: <users-return-234405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A31F99DA
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:06:47 +0000 (UTC)
Received: (qmail 29010 invoked by uid 500); 23 May 2012 23:06:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28957 invoked by uid 500); 23 May 2012 23:06:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28942 invoked by uid 99); 23 May 2012 23:06:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:06:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:06:39 +0000
Received: by ghrr14 with SMTP id r14so2037135ghr.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 16:06:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=vNdJ4wD7k1YSquoF426B6LhJhlqomxx++sh/J+QkRCE=;
        b=vLQqO/g33luZE3ZnBjOa95KKsrKDCVc+bvCoPVbB+a7+LA3E19ImrmK+hOaBJQI0F8
         +uDzLMxckgcJik71F3+FCzzIhg/KDHlSTltB39FzXaqS/IZw9CvxwK9X/BRWAfa3ZT7F
         5J2Vbg7YHPBucnimd+je0z+fFeD7kz4TqP6glYba9IeKV3x8PZ7sqO34rnVpfXHfpTjU
         O4QbkwANrFRV3NYaoOH8+aYTTPB3VqI5H/fUiUeTAaeqgDeAdQ55qnuEvvzZFXEpXVU7
         xVpR02ZOeydh8bA1i2GgZ7fQrOnvE53hkmTaiO+fa7LrE+tT+sXEUZna84aVaCUnO2i6
         CUkw==
MIME-Version: 1.0
Received: by 10.43.126.1 with SMTP id gu1mr19550684icc.6.1337814378755; Wed,
 23 May 2012 16:06:18 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Wed, 23 May 2012 16:06:18 -0700 (PDT)
In-Reply-To: <4FBD560E.3080102@vilt-group.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<4FBD560E.3080102@vilt-group.com>
Date: Wed, 23 May 2012 20:06:18 -0300
Message-ID: <CAGrg8DXb4GRNGaf7DJWZGpcTOS-WU3ZUTJDk_NaT=e3AVvv8Cw@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Joao Silva <joao.silva@vilt-group.com>
Cc: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec5186da0d2386f04c0bc2ebb
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec5186da0d2386f04c0bc2ebb
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Jo=E3o,

This documentation also says:

When the attribute
factory=3D"org.apache.naming.factory.DataSourceLinkFactory"the resource
link can be used with two additional attributes to allow a
shared data source to be used with different credentials. When these two
additional attributes are used in combination with the
javax.sql.DataSourcetype, different contexts can share a global data
source with different
credentials. Under the hood, what happens is that a call to
getConnection()<http://download.oracle.com/javase/6/docs/api/javax/sql/Data=
Source.html#getConnection%28%29>is
simply translated to a call getConnection(username,
password)<http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource=
.html#getConnection%28java.lang.String,%20java.lang.String%29>on
the global data source. This is an easy way to get code to be
transparent to what schemas are being used, yet be able to control
connections (or pools) in the global configuration.
AttributeDescriptionusername

username value for the getConnection(username, password) call on the linked
global DataSource.
password

password value for the getConnection(username, password) call on the linked
global DataSource.


Thanks,

Robert
On Wed, May 23, 2012 at 6:26 PM, Joao Silva <joao.silva@vilt-group.com>wrot=
e:

>  Hi
>
> The ResourceLink element will use the parameters name, global and type.
> Everything else is being ignored, as the resource link is but reference t=
o
> the global shared data source.
> See http://tomcat.apache.org/tomcat-7.0-doc/config/context.html,
> searching for ResourceLink.
>
> Best regards
>
>
> On 5/23/2012 9:31 PM, Robert Anderson wrote:
>
> Hi,
>
> I'm testing this functionality (versions 6.0.35 and 7.0.27) but it's not
> working for me (https://issues.apache.org/bugzilla/show_bug.cgi?id=3D4954=
3 ,http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Lin=
ks).
>
>
> -->server.xml
>
>
>   <GlobalNamingResources>
>
>     <Resource name=3D"jdbc/globalpg" auth=3D"Container"
> type=3D"javax.sql.DataSource" removeAbandoned=3D"true"
> removeAbandonedTimeout=3D"300"
>                                    maxActive=3D"400" maxIdle=3D"30"
> maxWait=3D"10000"
>                                    validationQuery=3D"select 1"
>                                    testOnBorrow=3D"true"
>
> factory=3D"org.apache.tomcat.jdbc.pool.DataSourceFactory"
>                                    driverClassName=3D"org.postgresql.Driv=
er"
>                                    url=3D"jdbc:postgresql://172.17.1.5:54=
32/tjse"
>                                    username=3D"user1"
>                                    password=3D"validpassword"
>                                    />
>
>   </GlobalNamingResources>
>
>
> -->conf/Catalina/localhost/app1.xml
>
>
> <Context>
>
>     <ResourceLink name=3D"jdbc/localpg"
>     global=3D"jdbc/globalpg"
>     type=3D"javax.sql.DataSource"
>     factory=3D"org.apache.naming.factory.DataSourceLinkFactory"
>     username=3D"user2"
>     password=3D"invalidpassword"
>     />
>
> </Context>
>
>
> -->webapps/app1/index.jsp
>
> <?xml version=3D"1.0" encoding=3D"ISO-8859-1"?>
> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
>    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" <http://www.w3.org=
/TR/xhtml1/DTD/xhtml1-strict.dtd>>
> <%@ page session=3D"false" import=3D"javax.naming.*, java.sql.*, javax.sq=
l.*" %>
> <html xmlns=3D"http://www.w3.org/1999/xhtml" <http://www.w3.org/1999/xhtm=
l> xml:lang=3D"en" lang=3D"en">
>     <head>
>     <title>Test shared data source</title>
> </head>
> <body>
> <%
>     Context ctx =3D new InitialContext();
>     DataSource ds =3D (DataSource)ctx.lookup("java:comp/env/jdbc/localpg"=
);
>     Connection c =3D ds.getConnection();
>     Statement stm =3D c.createStatement();
>
>     ResultSet rs =3D stm.executeQuery("select 'this should fail because t=
he
> password of localpg is invalid but it is working.'");
>
>     rs.next();
>
> %>
>     <%=3D rs.getString(1) %><br/>
> <%
>
>     c.close();
> %>
> </body>
> </html>
>
>
> Am I doing some wrong?
>
>
> Thanks in advance,
>
>
> Robert
>
>
>
> --
> *Jo=E3o Silva
> *  *
> VILT Group
>  *  *http://www.vilt-group.com
>
>  Rua Ivone Silva, 6 - 7=BA Esq
> 1050-124 Lisboa - Portugal
>
> Mobile  +351 926 531 097
> Phone   +351 210 34 33 00
> Fax       +351 210 34 33 99
> Email     joao.silva@vilt-group.com*
>

--bcaec5186da0d2386f04c0bc2ebb--

From users-return-234406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:07:27 2012
Return-Path: <users-return-234406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37FE799DC
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:07:27 +0000 (UTC)
Received: (qmail 34229 invoked by uid 500); 23 May 2012 23:07:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34048 invoked by uid 500); 23 May 2012 23:07:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34036 invoked by uid 99); 23 May 2012 23:07:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:07:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cjderham@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:07:17 +0000
Received: by lahc1 with SMTP id c1so7341145lah.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 16:06:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=0Rf2eRIZ++YsObKnQ6CjMpOESWQdBix7Ck+yH8V02wE=;
        b=0mx9JSd2rBCcRZfktCnUXXKw/87GEaZh6UMUFdOikZEeAz28keaAS3m25uxfZNNg+d
         PX558K9UUBEcLfi69nDsuqzau+eyse4SsOxygS+qZFg9nAD4T7yo5Ie+7w71pCeZy2s3
         4W/pEU65mQaaEVs/G70SWzI4yc6CBw9yIpKzxQHhheSi4OUY+PUIt3hog0jtS5MXzcv1
         +avO6UFGh1Iobq4YdIuV9rye8rS7Pc/ai9lxSobcDPw6MMfsGn3aoC49nib13ThygnUZ
         l1WVxrEivjtCgbapq5QcsdP86agoAqH5R6hwkSnZVDCxdfMdoda/e1OSMzYXPoFkdRc9
         fgYg==
Received: by 10.152.135.105 with SMTP id pr9mr20888131lab.37.1337814416279;
 Wed, 23 May 2012 16:06:56 -0700 (PDT)
MIME-Version: 1.0
Reply-To: chris@derham.me.uk
Sender: cjderham@gmail.com
Received: by 10.112.6.233 with HTTP; Wed, 23 May 2012 16:06:35 -0700 (PDT)
In-Reply-To: <1337814101.1891.45.camel@earth>
References: <1337814101.1891.45.camel@earth>
From: chris derham <chris@derham.me.uk>
Date: Wed, 23 May 2012 20:06:35 -0300
X-Google-Sender-Auth: 2WPzVLlHH85xIoP30S81X-GGts0
Message-ID: <CAG6aRdWJiqBXepFx1hoD3diGDJy5dTD1XfV60odx0V8qoH42SA@mail.gmail.com>
Subject: Re: user switching or application interacting with container based authentication
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044271560ec8c704c0bc31a8
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044271560ec8c704c0bc31a8
Content-Type: text/plain; charset=ISO-8859-1

>
>
> any hint on fast-user-switching or
> applications-interacting-with-container-based-authentication are very
> welcome.
>

Dirk,

We had an app where support staff can login, and then on a special form
enter the username of the person to impersonate and their own password (to
prevent abuse), and the system then allows them to impersonate the user.
Worked well for viewing exactly what the user was seeing when reporting
issues. To do this we used acegi security - has built in support for
impersonation.

HTH

Chris

--f46d044271560ec8c704c0bc31a8--

From users-return-234407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:27:04 2012
Return-Path: <users-return-234407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C795D9F27
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:27:04 +0000 (UTC)
Received: (qmail 78497 invoked by uid 500); 23 May 2012 23:27:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78321 invoked by uid 500); 23 May 2012 23:27:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78310 invoked by uid 99); 23 May 2012 23:27:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:27:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:26:56 +0000
Received: by dadv2 with SMTP id v2so12755989dad.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 16:26:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=rHpDab8WK3GuH71LZhbNSwyCyWXAnlXf5mSdkUFtTVU=;
        b=BRHgEOSETKqv2Vcv6kPbv1HbZTM4ubhXb89UHofWRTm1c4zX+U4WDJFOKm6SneGdw7
         zy/xeEqTLOMOdaXCdmHV7ZVOmgdvZFJLhz07z2O4HyBPlq0tMpM/V76UZ5y3wBRrNLh1
         cbvYFFurma7Z6C53EZBsvQt5STuF2whIOdzai5mma0q3Fh5mvyCK7zdNPfinwM4dAond
         0VQqv+kjggFyMRj+3jDC9/iVcqq78vFMXehC6IXMF6V+zq6Gqc5SZTqtTF9TPWc9hC01
         Cx+y0QId1nVnp+nIeK8xvZc0WdrXE4gwPi2N6xWIvJQefOM1j+R6YMx5/zwHBj/68HUA
         9Fiw==
MIME-Version: 1.0
Received: by 10.68.238.134 with SMTP id vk6mr14679366pbc.128.1337815596275;
 Wed, 23 May 2012 16:26:36 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Wed, 23 May 2012 16:26:36 -0700 (PDT)
In-Reply-To: <CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
Date: Thu, 24 May 2012 03:26:36 +0400
Message-ID: <CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/24 Robert Anderson <ranomail@gmail.com>:
>
> 2. You need to set alternateUsernameAllowed=3D"
>>
>> true" on Tomcat JDBC pool =A0[1]
>> Otherwise arguments in ds.getConnection(user,password) method on that
>> datasource are ignored.
>
>
> Good, I'll test it. Anyway, the following description and example in
> documentation is not valid (
> tomcat.apache.org/tomcat-6.0-doc/config/context.html#Resource_Links,
> tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links):
>
> "When the attribute
> factory=3D"org.apache.naming.factory.DataSourceLinkFactory" the resource =
link
> can be used with two additional attributes to allow a shared data source =
to
> be used with different credentials. When these two additional attributes
> are used in combination with the javax.sql.DataSource type, different
> contexts can share a global data source with different credentials. Under
> the hood, what happens is that a call to
> getConnection()<http://download.oracle.com/javase/6/docs/api/javax/sql/Da=
taSource.html#getConnection%28%29>is
> simply translated to a call getConnection(username,
> password)<http://download.oracle.com/javase/6/docs/api/javax/sql/DataSour=
ce.html#getConnection%28java.lang.String,%20java.lang.String%29>on
> the global data source. This is an easy way to get code to be
> transparent to what schemas are being used, yet be able to control
> connections (or pools) in the global configuration. "
>
> <GlobalNamingResources>
> =A0...
> =A0<Resource name=3D"sharedDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0global=3D"sharedDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0type=3D"javax.sql.DataSource"
> =A0 =A0 =A0 =A0 =A0 =A0username=3D"bar"
> =A0 =A0 =A0 =A0 =A0 =A0password=3D"barpass"
>
> =A0 =A0 =A0 =A0 =A0 =A0...
> =A0...
> </GlobalNamingResources>
>
> <Context path=3D"/foo"...>
> =A0...
> =A0<ResourceLink
> =A0 =A0 =A0 =A0 =A0 =A0name=3D"appDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0global=3D"sharedDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0type=3D"javax.sql.DataSource"
> =A0 =A0 =A0 =A0 =A0 =A0factory=3D"org.apache.naming.factory.DataSourceLin=
kFactory"
> =A0 =A0 =A0 =A0 =A0 =A0username=3D"foo"
> =A0 =A0 =A0 =A0 =A0 =A0password=3D"foopass"
> =A0...
> </Context>
> <Context path=3D"/bar"...>
> =A0...
> =A0<ResourceLink
> =A0 =A0 =A0 =A0 =A0 =A0name=3D"appDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0global=3D"sharedDataSource"
> =A0 =A0 =A0 =A0 =A0 =A0type=3D"javax.sql.DataSource"
> =A0...
> </Context>
>
>
>
> That way, just does not work.
>

Can you be more specific? You are just citing a wall of text and it is
hard to digest.

Can you open an issue in Bugzilla?

IIRC there is no support for getConnection(username, password) in
Apache Commons DBCP pool at all, and it was a new feature in Tomcat
JDBC pool at that time.

Is it the problem, or something else is wrong?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 23 23:38:32 2012
Return-Path: <users-return-234408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB3B999D7
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 23 May 2012 23:38:32 +0000 (UTC)
Received: (qmail 9518 invoked by uid 500); 23 May 2012 23:38:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9465 invoked by uid 500); 23 May 2012 23:38:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9456 invoked by uid 99); 23 May 2012 23:38:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:38:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 May 2012 23:38:25 +0000
Received: by yhoo21 with SMTP id o21so9429681yho.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 16:38:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=I9tCtNtKuomIP+3v+lDzWbPbmXIGCia3xBw1lHAq3d4=;
        b=WkQIhePCqpBKGISajetNGfxT6DJxsaRbJVX/Txn7gQ0eIBHk4rKS2XO7fOegQEtQdf
         M1/c7mUd33ABEZP/Ifd5TMMbVp6dwMty70OqwiPjItCFPfDnqOhNjjjeOcE/+snym5eO
         jyG5fU0Km6yDGS6mEFmJWfxBVzuRWWHZhrA6ddcHbz5zCIykZUxgH2Q7M2SnYLqiWOCt
         vdfkzZQSxokRFg9FTuh1gGb9C/7Gnp1snOWNTTIWfq1L21X2xfA/WOizfGN8hFixBWiO
         6TpD5u0S2WsMn7yzsfYySlk2Hpk0SjlTJvTikRtMCrSGy646+SWotMzX1beZseVFT+dL
         SbOw==
MIME-Version: 1.0
Received: by 10.50.46.232 with SMTP id y8mr14487961igm.57.1337816284037; Wed,
 23 May 2012 16:38:04 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Wed, 23 May 2012 16:38:03 -0700 (PDT)
In-Reply-To: <CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
	<CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
Date: Wed, 23 May 2012 20:38:03 -0300
Message-ID: <CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340cbb62809a04c0bca0c5
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340cbb62809a04c0bca0c5
Content-Type: text/plain; charset=ISO-8859-1

Sorry, for the wall of text. :)

"IIRC there is no support for getConnection(username, password) in
Apache Commons DBCP pool at all, and it was a new feature in Tomcat
JDBC pool at that time."

Yes,  it is the problem. I've lost many hours following an example in
documentation about ResourceLink and DataSource that does not work as
expected/described.


Best regards,

Robert

On Wed, May 23, 2012 at 8:26 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/24 Robert Anderson <ranomail@gmail.com>:
> >
> > 2. You need to set alternateUsernameAllowed="
> >>
> >> true" on Tomcat JDBC pool  [1]
> >> Otherwise arguments in ds.getConnection(user,password) method on that
> >> datasource are ignored.
> >
> >
> > Good, I'll test it. Anyway, the following description and example in
> > documentation is not valid (
> > tomcat.apache.org/tomcat-6.0-doc/config/context.html#Resource_Links,
> > tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links):
> >
> > "When the attribute
> > factory="org.apache.naming.factory.DataSourceLinkFactory" the resource
> link
> > can be used with two additional attributes to allow a shared data source
> to
> > be used with different credentials. When these two additional attributes
> > are used in combination with the javax.sql.DataSource type, different
> > contexts can share a global data source with different credentials. Under
> > the hood, what happens is that a call to
> > getConnection()<
> http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28%29
> >is
> > simply translated to a call getConnection(username,
> > password)<
> http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28java.lang.String,%20java.lang.String%29
> >on
> > the global data source. This is an easy way to get code to be
> > transparent to what schemas are being used, yet be able to control
> > connections (or pools) in the global configuration. "
> >
> > <GlobalNamingResources>
> >  ...
> >  <Resource name="sharedDataSource"
> >            global="sharedDataSource"
> >            type="javax.sql.DataSource"
> >            username="bar"
> >            password="barpass"
> >
> >            ...
> >  ...
> > </GlobalNamingResources>
> >
> > <Context path="/foo"...>
> >  ...
> >  <ResourceLink
> >            name="appDataSource"
> >            global="sharedDataSource"
> >            type="javax.sql.DataSource"
> >            factory="org.apache.naming.factory.DataSourceLinkFactory"
> >            username="foo"
> >            password="foopass"
> >  ...
> > </Context>
> > <Context path="/bar"...>
> >  ...
> >  <ResourceLink
> >            name="appDataSource"
> >            global="sharedDataSource"
> >            type="javax.sql.DataSource"
> >  ...
> > </Context>
> >
> >
> >
> > That way, just does not work.
> >
>
> Can you be more specific? You are just citing a wall of text and it is
> hard to digest.
>
> Can you open an issue in Bugzilla?
>
> IIRC there is no support for getConnection(username, password) in
> Apache Commons DBCP pool at all, and it was a new feature in Tomcat
> JDBC pool at that time.
>
> Is it the problem, or something else is wrong?
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9340cbb62809a04c0bca0c5--

From users-return-234409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 00:05:50 2012
Return-Path: <users-return-234409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53A8F9B23
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 00:05:50 +0000 (UTC)
Received: (qmail 83863 invoked by uid 500); 24 May 2012 00:05:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83784 invoked by uid 500); 24 May 2012 00:05:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83771 invoked by uid 99); 24 May 2012 00:05:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 00:05:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.17 as permitted sender)
Received: from [206.46.173.17] (HELO vms173017pub.verizon.net) (206.46.173.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 00:05:39 +0000
Received: from [192.168.11.7] ([unknown] [108.34.150.60])
 by vms173017.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M4I000IH2VYL6A0@vms173017.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 23 May 2012 19:04:47 -0500 (CDT)
Message-id: <4FBD7B1A.4050602@verizon.net>
Date: Wed, 23 May 2012 20:04:42 -0400
From: David Kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JRE Access violation
References: <4FBD4E33.8080709@verizon.net> <4FBD4F51.9000507@apache.org>
 <4FBD53D3.2080807@verizon.net> <4FBD5928.4070808@christopherschultz.net>
In-reply-to: <4FBD5928.4070808@christopherschultz.net>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 5/23/2012 5:39 PM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> David,
>
> On 5/23/12 5:17 PM, David kerber wrote:
>> On 5/23/2012 4:57 PM, Mark Thomas wrote:
>>> On 23/05/2012 21:53, David kerber wrote:
>>>> Any suggestions as to where to start looking for this error?
>>> Ditch the ODBC-JDBC bridge driver and get a JDBC driver for the
>>> database you are using. The ODBC-JDBC bridge is not recommended
>>> for production use.
>> In general I agree, but that's easier said than done, and it has
>> been working quite reliably for several years until yesterday.
> Is it tough to move to a Type 4 driver? I didn't think there was a
> database these days that still required the ODBC bridge...
I don't think it's particularly difficult, but it will require some code 
changes, and the DB manufacturer says it doesn't have as good of 
performance as the ODBC driver.  Not really an issue in this particular 
app, because the db is only used for authentication and a few config 
items, and not for ongoing processing.


>
> If EXCEPTION_ACCESS_VIOLATION is what I think it is (SIGSEGV), then I
 From what I've seen, it is.

> would highly recommend that you run memtest86+ on this machine as soon
> as you can. Barring JVM bugs (and a buggy JDBC->ODBC bridge could
> certainly be the culprit), my experience has been that unexplained seg
> faults usually mean that the hardware is starting to die (I've seen
> independent CPU, memory, and motherboard failures cause this kind of
> thing).
I just started a run of memtestPro for windows (can't take this server 
out of production on no notice).


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 00:09:03 2012
Return-Path: <users-return-234410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 561109B4C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 00:09:03 +0000 (UTC)
Received: (qmail 93731 invoked by uid 500); 24 May 2012 00:09:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93672 invoked by uid 500); 24 May 2012 00:09:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93662 invoked by uid 99); 24 May 2012 00:09:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 00:09:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.3 as permitted sender)
Received: from [206.46.173.3] (HELO vms173003pub.verizon.net) (206.46.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 00:08:53 +0000
Received: from [192.168.11.7] ([unknown] [108.34.150.60])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M4I0040B31QD9P0@vms173003.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 23 May 2012 19:08:15 -0500 (CDT)
Message-id: <4FBD7BEA.4030304@verizon.net>
Date: Wed, 23 May 2012 20:08:10 -0400
From: David Kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JRE Access violation
References: <4FBD4E33.8080709@verizon.net>
 <CABzHfVnyW9AWnfgWhmuzFOUmTjOOfMvz=vEN89TUmaK27ARJ3Q@mail.gmail.com>
In-reply-to:
 <CABzHfVnyW9AWnfgWhmuzFOUmTjOOfMvz=vEN89TUmaK27ARJ3Q@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 5/23/2012 6:05 PM, Konstantin Kolinko wrote:
> 2012/5/24 David kerber<dckerber@verizon.net>:

>> Stack: [0x000000000cb00000,0x000000000cc00000],  sp=0x000000000cbfea10,
>>   free space=1018k
>> Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native
>> code)
>> C  [ntdll.dll+0x532d0]  RtlFreeHeap+0xd0
>>
>> [error occurred during error reporting (printing native stack), id
>> 0xc0000005]
>>
> The above line - so it failed so hard, that was not able to properly
> report the error?
I don't know windows error messages very well, but that's what it looks 
like to me, too.

>
> Regarding your question
>> I'm not sure if the "thread blocked" messages in the below listing mean anything.
> I see nothing wrong with Apr connector threads state.
Ok, you know better than I do.  I just mentioned it because I wasn't 
sure if it meant anything or not, and wanted to be sure somebody who DID 
know would see it.

>
> They are executing java code. Only several of them are in
> "_thread_in_native" state. Nothing else can be said, because java
> stack traces are not present.
>
> You can take thread dumps from Tomcat instance when it is running and compare.
>
> Note, that this connector using Tomcat-Native library is one more
> native component in the picture. I have nothing against it, just
> saying.
Just removed that.  I don't do any SSL in this app, so it's probably not 
doing anything for me any way.

>
>> each of the last two days
> Two days ago?
> http://en.wikipedia.org/wiki/Solar_eclipse_of_May_20,_2012
If it was a major solar storm, I might consider it as a potential cause.

>
>
> BTW, there is known stability issue with that version of Tomcat if you
> have compression="on" on your connector
> http://issues.apache.org/bugzilla/show_bug.cgi?id=52121
Not using that, but thanks for pointing it out.

D


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 04:31:58 2012
Return-Path: <users-return-234411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5D3DC34F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 04:31:58 +0000 (UTC)
Received: (qmail 34987 invoked by uid 500); 24 May 2012 04:31:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34536 invoked by uid 500); 24 May 2012 04:31:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34445 invoked by uid 99); 24 May 2012 04:31:43 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 04:31:43 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 04:31:43 +0000
Message-ID: <4FBDB9AD.2070709@apache.org>
Date: Thu, 24 May 2012 06:31:41 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/24/2012 12:12 AM, Anthony J. Biacco wrote:
> Centos 5.8, x86_64, apache 2.2.22, java 1.6.0_32, tomcat 7.0.27, apr
> 1.4.6 (also happens on another machine with apache 2.2.21 and java
> 1.6.0_29, rest of the versions are the same)
>
> Connecting apache to tomcat ajp, same machine.
> Once I upgraded to 1.2.36 I started receiving 503 errors when trying to
> access my webapps.
> 1.2.32 and 1.2.35 work fine.
>
> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (609): trying to connect socket 22 to
> 0.0.0.0:0

Connecting to 0.0.0.0:0 ?

> [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> jk_open_socket::jk_connect.c (635): socket 22 [errno=107] connected

getsockname fails with errno=107 (ENOTCONN)
Fix your config.


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 05:34:45 2012
Return-Path: <users-return-234412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1943195AC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 05:34:45 +0000 (UTC)
Received: (qmail 59690 invoked by uid 500); 24 May 2012 05:34:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59508 invoked by uid 500); 24 May 2012 05:34:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59477 invoked by uid 99); 24 May 2012 05:34:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 05:34:39 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bw57899@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 05:34:31 +0000
Received: by obbwd20 with SMTP id wd20so17056529obb.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 22:34:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=c314hhoTPqB00iOIpMXJpBIONBok62BlyErNN8k+/6k=;
        b=ET3w2SG5ngTVhcfmBJYxII9r1Kwci7orFi5sxTEAut4WxmIXFeK5pNY6gBCB9uehgL
         EPIELb7QRlT+EAgUj9yJ1mcwgR4QrFTPQyDw6WsQPBMlmcCngFWqVvClDecd1uPPKbiJ
         UXwp/FMR6octZ4d3u1R7gT8eokP9VXOlM1Q1kegp/ZXn7QT+bdp7aduTK3NCNM8FU1u2
         g3wyu9sreLsdC3n3jXAmTnbZMRCe1Qg2mxFiCdGnuh4T0Io/mZSwZ5q/ozY/agx/g3xG
         eevtwLLKASLpLQjBGiKjPhVmPgdLJgiR/RViTaimB4xC9NCNQSiQLGO8WwYj4YoM4vux
         tTlA==
MIME-Version: 1.0
Received: by 10.182.182.9 with SMTP id ea9mr28789895obc.7.1337837650729; Wed,
 23 May 2012 22:34:10 -0700 (PDT)
Received: by 10.76.136.168 with HTTP; Wed, 23 May 2012 22:34:10 -0700 (PDT)
Date: Thu, 24 May 2012 15:34:10 +1000
Message-ID: <CALj8J-jYQ=C=W5RrNtN2XYZLh=VknjWX0TAm9-SHrJ75uYEdWA@mail.gmail.com>
Subject: encrypt the database password
From: Bill Wang <bw57899@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9399e07f05c9a04c0c199fe

--14dae9399e07f05c9a04c0c199fe
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

There is a tomcat server with some database setup.

cd apache-tomcat-6.0.29/conf
cat server.xml

  <Resource auth="Container"
driverClassName="oracle.jdbc.driver.OracleDriver"

              factory="oracle.jdbc.pool.OracleDataSourceFactory"
maxActive="20"
              maxIdle="10" maxWait="-1" name="jdbc/abc" password="abcADMIN"
              type="oracle.jdbc.pool.OracleDataSource"

url="jdbc:oracle:thin:@localhost:1521:mydb" user="abc" />


So which the plain password, end user may get the password directly.


How can create encrypted password within server.xml

--14dae9399e07f05c9a04c0c199fe--

From users-return-234413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 05:58:59 2012
Return-Path: <users-return-234413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3790E97DE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 05:58:59 +0000 (UTC)
Received: (qmail 19379 invoked by uid 500); 24 May 2012 05:58:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19210 invoked by uid 500); 24 May 2012 05:58:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19188 invoked by uid 99); 24 May 2012 05:58:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 05:58:54 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vadzim.mikhalenak@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 05:58:50 +0000
Received: by yhoo21 with SMTP id o21so9682626yho.18
        for <users@tomcat.apache.org>; Wed, 23 May 2012 22:58:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vzaizetPYvM/6wVHW1Svh+blQsMZMDyCIJEorDWBdbc=;
        b=Z0YeWc196T3ekv+Hyuqo3VgCujCVZCLZNNPbs/P2wK7ps7MmlV4gEQIw7ueRP85JGN
         22kEhsyIhKO0gGtqwmlUpM2LL7CLuEO2PM7VbExoyRAAHnADXrXwWNtgjfvwksXp7fSI
         /7Giqa5FArhrwKLVz93RMD2fGAnPBfvvirsu7JSoEtrdn8D74xXhvXshAdhpEuBXCcBd
         V+Kjkr/d0KTOKB+HDAvIVtrN9HMgNg23yyxXXx6eSLyh0Qigh42gPWMazvfIiqJ0hvwZ
         EFBIBj2hQzONUaw5esfNlLX7TkbhFMihuckezEjeMrnKnqDoLOwBfZ5mw9N+WD/RBZi5
         Z6rw==
MIME-Version: 1.0
Received: by 10.50.187.137 with SMTP id fs9mr15386694igc.50.1337839109059;
 Wed, 23 May 2012 22:58:29 -0700 (PDT)
Received: by 10.64.127.36 with HTTP; Wed, 23 May 2012 22:58:28 -0700 (PDT)
In-Reply-To: <7bc0c3ff-f612-4d0b-9892-afab52c0b309@arizona.hanik.com>
References: <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
	<7bc0c3ff-f612-4d0b-9892-afab52c0b309@arizona.hanik.com>
Date: Thu, 24 May 2012 08:58:28 +0300
Message-ID: <CAJHUnpg+=BQXLa5zHjJm3AR8Akr32aqZ7KMPF-+k611jgapC_w@mail.gmail.com>
Subject: Re: Tomcat 7. MX4J
From: Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340cffdcb3fb04c0c1f05f
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340cffdcb3fb04c0c1f05f
Content-Type: text/plain; charset=ISO-8859-1

Hi,

This Listener doesn't register MX4J HttpAdapter. So I wrote my Listener
that do it. Now I can access MBeans through http://host:port (MX4J Page)

Best regards,
Vadim.

On Wed, May 23, 2012 at 10:14 PM, Filip Hanik Mailing Lists <
devlists@hanik.com> wrote:

>
> http://tomcat.apache.org/tomcat-6.0-doc/config/listeners.html#JMX_Remote_Lifecycle_Listener_-_org.apache.catalina.mbeans.JmxRemoteLifecycleListener
>
>
>
> ----- Original Message -----
> > From: "Vadzim Mikhalenak" <vadzim.mikhalenak@gmail.com>
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Sent: Tuesday, May 22, 2012 4:06:52 PM
> > Subject: Re: Tomcat 7. MX4J
> >
> > On Wed, May 23, 2012 at 12:31 AM, Konstantin Kolinko
> > <knst.kolinko@gmail.com
> > > wrote:
> >
> > > 2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
> > > > Hello  Christopher,
> > > > *
> > > > *
> > > > Thank you for the reply! Yes, link
> > > > http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for
> > > > version
> > > 5.5
> > > > but we are migrating from version 6 (sorry for the confusion) but
> > > > the
> > > > configuration above was valid for version 6
> > > >
> > >
> > > It works (or at least tries to start, to my surprise) in Tomcat 6
> > > with
> > > this particular AJP/1.3 connector implementation, but it is not
> > > documented and not supported.  Other connectors do not support
> > > those
> > > attributes and this one was removed from Tomcat 7.
> > >
> > > Tomcat 6 and 7 use JMX support provided by JRE and if you need http
> > > access to it, the common way is to use "JMXProxy" servlet that is
> > > part
> > > of the manager webapp.
> > >
> > > It is all is documented
> > > http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
> > >
> > >
> http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_Proxy_Servlet
> > >
> > > or see the same docs for Tomcat 7.
> > >
> > >
> > >
> > > >  <Connector port="${AJP.PORT}"
> > > >            handler.list="mx"
> > > >            mx.enabled="true"
> > > >            mx.httpHost="${JMX.HOST}"
> > > >            mx.httpPort="${JMX.PORT}"
> > > >            protocol="AJP/1.3" />
> > > >
> > > >
> > > > *
> > > > *
> > > > and gave us opportunity to manage JMX beans using  http://
> > > > ${JMX.HOST}:${JMX.PORT} (please see
> > > >
> > >
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> > > > )
> > > > In version 7 I couldn't see any possibility to do it.
> > > > I've noticed that in Connector class of version 6
> > > > if ("AJP/1.3".equals(protocol)) {
> > > >                setProtocolHandlerClassName
> > > >                    ("org.apache.jk.server.JkCoyoteHandler");
> > > >
> > > > org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX
> > > > where
> > > > HttpAdapter from mx4j-tool.jar was used.
> > > >
> > > > but in version 7
> > > > else if ("AJP/1.3".equals(protocol)) {
> > > >                setProtocolHandlerClassName
> > > >                    ("org.apache.coyote.ajp.AjpAprProtocol");
> > > >
> > > >
> > > >
> > > > So do we have possibility to manage JMX beans in version 7 as we
> > > > could in
> > > > version 6? (please see
> > > >
> > >
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gif
> > > >  )
> > > >
> > >
> > > Please
> > > 1. Post your response below the text that you are replying to (aka
> > > "do
> > > not top-post")
> > > 2. Do not cross-post questions between users@ and dev@ lists.
> > >
> > > This one belongs to users@.
> > >
> > > Best regards,
> > > Konstantin Kolinko
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >
> > > Hi,
> >
> > Thanks for the reply.
> > I know about JMX Proxy Servlet but it was more preferable to use MX4J
> > page
> > and I thought there is simple way to configure it (as it was
> > configured in
> > 6 version).
> > I'll be looking for solution to get mx4j page working.
> > Thanks again for your help!
> > Sorry for the trouble.
> >
> > Best regards,
> > Vadim.
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9340cffdcb3fb04c0c1f05f--

From users-return-234414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 06:13:54 2012
Return-Path: <users-return-234414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B965898FB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 06:13:54 +0000 (UTC)
Received: (qmail 50515 invoked by uid 500); 24 May 2012 06:13:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50256 invoked by uid 500); 24 May 2012 06:13:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50239 invoked by uid 99); 24 May 2012 06:13:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 06:13:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 06:13:40 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-29.messagelabs.com!1337839996!22449363!3
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 7039 invoked from network); 24 May 2012 06:13:17 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-4.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 24 May 2012 06:13:17 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 24 May 2012 01:12:11 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 24 May
 2012 01:12:11 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 24 May 2012 01:12:03 -0500
Subject: RE: encrypt the database password
Thread-Topic: encrypt the database password
Thread-Index: Ac05bu3D8t7OipBYTsCA+me9x/BHdQABIMBQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB02867FDD2@USEA-EXCH8.na.uis.unisys.com>
References: <CALj8J-jYQ=C=W5RrNtN2XYZLh=VknjWX0TAm9-SHrJ75uYEdWA@mail.gmail.com>
In-Reply-To: <CALj8J-jYQ=C=W5RrNtN2XYZLh=VknjWX0TAm9-SHrJ75uYEdWA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Bill Wang [mailto:bw57899@gmail.com]=20
> Subject: encrypt the database password

> So which the plain password, end user may get the password directly.

Only if you don't bother to protect access to your Tomcat server.  And if y=
ou don't do that, you've got much, much bigger problems than someone discov=
ering the DB password.

> How can create encrypted password within server.xml

It's amazing how often this inept question comes up.  If you encrypt the pa=
ssword in server.xml, how do you expect Tomcat to open data base connection=
s?  Read the FAQ:

http://wiki.apache.org/tomcat/FAQ/Password

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 07:38:36 2012
Return-Path: <users-return-234415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D645C044
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 07:38:36 +0000 (UTC)
Received: (qmail 49144 invoked by uid 500); 24 May 2012 07:38:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48900 invoked by uid 500); 24 May 2012 07:38:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48883 invoked by uid 99); 24 May 2012 07:38:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 07:38:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 07:38:24 +0000
Received: from [192.168.245.129] (p549E8E24.dip0.t-ipconnect.de [84.158.142.36])
	by tor.combios.es (Postfix) with ESMTPA id 9DC64DA07D6
	for <users@tomcat.apache.org>; Thu, 24 May 2012 09:38:02 +0200 (CEST)
Message-ID: <4FBDE555.2030702@ice-sa.com>
Date: Thu, 24 May 2012 09:37:57 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>
In-Reply-To: <1337814101.1891.45.camel@earth>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

dirk ooms wrote:
> Hello,
> 
> we are running a web application with form based authentication. we now
> have a requirement to switch between users (for subsets of users) with a
> minimum of user interaction (log out and log in providing username &
> password is way too much work for the user). so i was thinking of
> providing each user with a badge with a unique barcode (a hash of
> username&password?) which they can scan into a dedicated field in the
> webpage and which will trigger the user switch. note that this barcode
> field will only be available once a person has logged in in the normal
> way (form based), so the user switch request is received within an
> authenticated session.
> 
> the difficult part of the story is how can i tell the 'container based
> authentication' that the current session is transferred to another user
> with possibly other roles OR how can i create a new session for the new
> user (so applying the correct authorization and providing a
> HttpServletRequest returning the correct values of getUserPrincipal()
> and isUserInRole()). the application is able to retrieve the user and
> its roles, but how can the application inform the container about this.
> 
> i've been googling and reading for hours now and i'm a bit lost
> (understatement) on how to proceed with this. it could also be the case
> that there are much better scenario's than the one i have in mind.
> 
> any hint on fast-user-switching or
> applications-interacting-with-container-based-authentication are very
> welcome.
> 

Without going into the technique itself, from your description above it looks to me as if 
this is a scenario so different from what a standard AAA mechanism is designed to achieve, 
that you are going to find yourself getting into a loop of increasing contradictions, if 
you try to fit this into the standard authentication mechanisms.
(In other words : you are going to be using code that has been carefully designed and 
perfected to do things well in one scenario, and try to do something else with it.  I 
would expect all kinds of side-effects, and an endless series of patches upon patches to 
avoid them).

Maybe the first question to ask : why do you need the user to be authenticated /to the 
servlet container/ in the first place ? when, and for what, do you use the return values 
of getUserPrincipal() and/or isUserInRole() ? (I mean really, deep down)

If you rethink the above, imagining that the user-id is just a request parameter like any 
other <form> parameter (*), and that Tomcat itself has no knowledge of an authenticated 
user, what breaks down ?



(*) which according to your own explanation above, you are going to have to do at some 
point anyway.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 10:19:42 2012
Return-Path: <users-return-234416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22739CBCC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 10:19:42 +0000 (UTC)
Received: (qmail 77761 invoked by uid 500); 24 May 2012 10:19:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77635 invoked by uid 500); 24 May 2012 10:19:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77593 invoked by uid 99); 24 May 2012 10:19:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 10:19:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [83.169.24.34] (HELO vwp4042.webpack.hosteurope.de) (83.169.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 10:19:28 +0000
Received: from ip-178-201-23-90.unitymediagroup.de ([178.201.23.90] helo=[192.168.178.21]); authenticated
	by vwp4042.webpack.hosteurope.de running ExIM with esmtpsa (TLS1.0:RSA_AES_128_CBC_SHA1:16)
	id 1SXV8M-0004si-Gi; Thu, 24 May 2012 12:19:06 +0200
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: Tomcat 7. MX4J
From: =?iso-8859-1?Q?Peter_Ro=DFbach?= <pr@objektpark.de>
In-Reply-To: <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
Date: Thu, 24 May 2012 12:19:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de>
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com> <4FBBE75D.2050308@christopherschultz.net> <CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com> <CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com> <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-bounce-key: webpack.hosteurope.de;pr@objektpark.de;1337854768;d57985fc;
X-Virus-Checked: Checked by ClamAV on apache.org

HI Vadzim,

as you like a hot HTTP-JMX access use

http://www.jolokia.org/

chili...

Peter

=20
Am 23.05.2012 um 00:06 schrieb Vadzim Mikhalenak:

> On Wed, May 23, 2012 at 12:31 AM, Konstantin Kolinko =
<knst.kolinko@gmail.com
>> wrote:
>=20
>> 2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
>>> Hello  Christopher,
>>> *
>>> *
>>> Thank you for the reply! Yes, link
>>> http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for =
version
>> 5.5
>>> but we are migrating from version 6 (sorry for the confusion) but =
the
>>> configuration above was valid for version 6
>>>=20
>>=20
>> It works (or at least tries to start, to my surprise) in Tomcat 6 =
with
>> this particular AJP/1.3 connector implementation, but it is not
>> documented and not supported.  Other connectors do not support those
>> attributes and this one was removed from Tomcat 7.
>>=20
>> Tomcat 6 and 7 use JMX support provided by JRE and if you need http
>> access to it, the common way is to use "JMXProxy" servlet that is =
part
>> of the manager webapp.
>>=20
>> It is all is documented
>> http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
>>=20
>> =
http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_P=
roxy_Servlet
>>=20
>> or see the same docs for Tomcat 7.
>>=20
>>=20
>>=20
>>> <Connector port=3D"${AJP.PORT}"
>>>           handler.list=3D"mx"
>>>           mx.enabled=3D"true"
>>>           mx.httpHost=3D"${JMX.HOST}"
>>>           mx.httpPort=3D"${JMX.PORT}"
>>>           protocol=3D"AJP/1.3" />
>>>=20
>>>=20
>>> *
>>> *
>>> and gave us opportunity to manage JMX beans using  http://
>>> ${JMX.HOST}:${JMX.PORT} (please see
>>>=20
>> =
http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gi=
f
>>> )
>>> In version 7 I couldn't see any possibility to do it.
>>> I've noticed that in Connector class of version 6
>>> if ("AJP/1.3".equals(protocol)) {
>>>               setProtocolHandlerClassName
>>>                   ("org.apache.jk.server.JkCoyoteHandler");
>>>=20
>>> org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX =
where
>>> HttpAdapter from mx4j-tool.jar was used.
>>>=20
>>> but in version 7
>>> else if ("AJP/1.3".equals(protocol)) {
>>>               setProtocolHandlerClassName
>>>                   ("org.apache.coyote.ajp.AjpAprProtocol");
>>>=20
>>>=20
>>>=20
>>> So do we have possibility to manage JMX beans in version 7 as we =
could in
>>> version 6? (please see
>>>=20
>> =
http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.gi=
f
>>> )
>>>=20
>>=20
>> Please
>> 1. Post your response below the text that you are replying to (aka =
"do
>> not top-post")
>> 2. Do not cross-post questions between users@ and dev@ lists.
>>=20
>> This one belongs to users@.
>>=20
>> Best regards,
>> Konstantin Kolinko
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>=20
>> Hi,
>=20
> Thanks for the reply.
> I know about JMX Proxy Servlet but it was more preferable to use MX4J =
page
> and I thought there is simple way to configure it (as it was =
configured in
> 6 version).
> I'll be looking for solution to get mx4j page working.
> Thanks again for your help!
> Sorry for the trouble.
>=20
> Best regards,
> Vadim.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 10:31:36 2012
Return-Path: <users-return-234417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 025789A54
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 10:31:36 +0000 (UTC)
Received: (qmail 10083 invoked by uid 500); 24 May 2012 10:31:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9976 invoked by uid 500); 24 May 2012 10:31:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9960 invoked by uid 99); 24 May 2012 10:31:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 10:31:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.71.1.210] (HELO relaygateway01.edpnet.net) (212.71.1.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 10:31:25 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApMBAAINvk/V25GM/2dsb2JhbAANNoUxsjEBAQEDASMrOwsaAiYCAjEmBggHBAEYBASHZ6g8km+BJIl1g3SBEgOndIFd
X-IronPort-AV: E=Sophos;i="4.75,649,1330902000"; 
   d="scan'208";a="87316293"
Received: from 213.219.145.140.adsl.dyn.edpnet.net (HELO [192.168.1.13]) ([213.219.145.140])
  by relaygateway01.edpnet.net with ESMTP; 24 May 2012 12:31:02 +0200
Subject: Re: user switching or application interacting with container based
 authentication
From: dirk ooms <dirk@onesparrow.com>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FBDE555.2030702@ice-sa.com>
References: <1337814101.1891.45.camel@earth>  <4FBDE555.2030702@ice-sa.com>
Content-Type: text/plain; charset="UTF-8"
Organization: OneSparrow
Date: Thu, 24 May 2012 12:31:02 +0200
Message-ID: <1337855462.1864.126.camel@earth>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Andre,

thanks for your thoughts on this. i agree that this issue brings me to
'a loop of increasing contradictions'.  it's probably good to go one
step back and explain the real-life requirement:

we have an application that is used by many small companies, each
company has its own data and can have multiple users (typically 1 to 5).
within a company there is a requirement to switch users in a fast way
(e.g. using a badge or a fingerprint). think of a restaurant having 1
computer and several waiters. we want to trace what is done by which
waiter and there is also an incentive for the waiter to switch users
because his fee will be based on his logged activities.

my reasoning was: i'll keep the standard proven AAA mechanism for the
initial log in, but allow fast user switching within a company where
there is more trust between users (which is security-wise probably a
weak statement). still there is a need for some type of authentication
because the users can have different roles. but this indeed leads to
conflicts between the standard and the proprietary
authentication/authorization mechanism.

my current reasoning is: i need to keep a standard proven AAA mechanism
also for fast user switching. correct? but how do i tackle this given
that we now have form/container-based authentication. do i need a
parallel standard container-based mechanism? what mechanism exists that
allows to authenticate by scanning a barcode (i.e. a single (possibly
long) string)? any pointer/suggestion will be much appreciated.

dirk


> 
> Without going into the technique itself, from your description above it looks to me as if 
> this is a scenario so different from what a standard AAA mechanism is designed to achieve, 
> that you are going to find yourself getting into a loop of increasing contradictions, if 
> you try to fit this into the standard authentication mechanisms.
> (In other words : you are going to be using code that has been carefully designed and 
> perfected to do things well in one scenario, and try to do something else with it.  I 
> would expect all kinds of side-effects, and an endless series of patches upon patches to 
> avoid them).
> 
> Maybe the first question to ask : why do you need the user to be authenticated /to the 
> servlet container/ in the first place ? when, and for what, do you use the return values 
> of getUserPrincipal() and/or isUserInRole() ? (I mean really, deep down)
> 
> If you rethink the above, imagining that the user-id is just a request parameter like any 
> other <form> parameter (*), and that Tomcat itself has no knowledge of an authenticated 
> user, what breaks down ?
> 
> 
> 
> (*) which according to your own explanation above, you are going to have to do at some 
> point anyway.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 11:50:33 2012
Return-Path: <users-return-234418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AAD8C622
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 11:50:33 +0000 (UTC)
Received: (qmail 98394 invoked by uid 500); 24 May 2012 11:50:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97988 invoked by uid 500); 24 May 2012 11:50:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97952 invoked by uid 99); 24 May 2012 11:50:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 11:50:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 11:50:22 +0000
Received: by ggnp1 with SMTP id p1so10030460ggn.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 04:50:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jIbqijB1aClzwXnjMHKgMoUcY+FZ7qKBj/DflqeQ1Mw=;
        b=wf0LVjY+43+yylsoyo0n0unRUhLD92mJpsFw3nEBWww3Y1vRzYQMwK8RY2XcfD8asP
         BHDPKJl2TNAbiF/qzcWDwYUETYUy0xmelvZA3+exhpPrTtJt2hvYQHwjwYplxdQ3GDcd
         hZcLADjJVNC5hXijr2YOB2FGd9IPs8dnBy5ncb1uPBkEHSOVvDDd+BEJcYS6pGK7k4E2
         rxZqFCXyUGduhUqsgS3ScjwV3VatxdBo0B29OLKIyM1vkHmhAC7Eoc3W8kDzEpVWMGIG
         3KwRJHisQn2CqFoXBTqdVeEFl0IYGfGkxX8FQ/mT7e5VFVy1xwxufrdgLNPewh1QmSTK
         3aRg==
MIME-Version: 1.0
Received: by 10.42.88.6 with SMTP id a6mr3608711icm.44.1337860201280; Thu, 24
 May 2012 04:50:01 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Thu, 24 May 2012 04:50:01 -0700 (PDT)
In-Reply-To: <CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
	<CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
	<CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
Date: Thu, 24 May 2012 08:50:01 -0300
Message-ID: <CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba3fcdd10e735804c0c6da98
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba3fcdd10e735804c0c6da98
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Now it's working! Follows the script:

1) Tomcat 6.0.35: copy tomcat-jdbc.jar to CATALINA_HOME/lib. Tomcat 7.0.x
is ready.

2)  Create a global resource in CATALINA_HOME/conf/server.xml. Attributes
in bold *MUST *be present:

    <Resource name="jdbc/pgserver" auth="Container"
type="javax.sql.DataSource" removeAbandoned="true"
removeAbandonedTimeout="300"
                                   maxActive="200" maxIdle="10"
maxWait="10000"
                                   validationQuery="select 1"
                                   validationInterval="10000"
                                   testOnBorrow="true"
*
factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"*
                                   driverClassName="org.postgresql.Driver"

url="jdbc:postgresql://localhost:5432/tjse"
                                   username="globaluser"
                                   password="globalpassword"
*                                   alternateUsernameAllowed="true"*

jdbcInterceptors="org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer"
                                   />


3)  Create a context.xml for apps;

The attribute "name" need not possess the same value of the attribute
"global".

--> CATALINA_HOME/conf/Catalina/localhost/app1.xml (shared connection with
different credential)

<Context>
    <ResourceLink name="jdbc/pgserver"
    global="jdbc/pgserver"
    type="javax.sql.DataSource"
*    factory="org.apache.naming.factory.DataSourceLinkFactory"*
*    username="userapp1"
    password="passwordapp1"*
    />
</Context>

--> CATALINA_HOME/conf/Catalina/localhost/app2.xml (shared connection with
default credential)

<Context>
    <ResourceLink name="jdbc/pgserver"
    global="jdbc/pgserver"
    type="javax.sql.DataSource"
    />
</Context>


4) JSP to test this feature (in both CATALINA_HOME/webapps/app1 and
CATALINA_HOME/webapps/app2):

<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<%@ page session="false" import="javax.naming.*, java.sql.*, javax.sql.*" %>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
    <title>Test shared data source</title>
</head>
<body>
<%
    Context ctx = null;
    DataSource ds = null;
    Connection c = null;
    Statement stm = null;
    ResultSet rs = null;

    try {

    ctx = new InitialContext();
    ds = (DataSource)ctx.lookup("java:comp/env/jdbc/pgserver");
    c = ds.getConnection();
    stm = c.createStatement();

    rs = stm.executeQuery("select current_user");

    rs.next();

%>
    Current user: <%= rs.getString(1) %><br/>
<%
    } catch (Exception e) {
%>
    Error: <%= e.getMessage() %>
<%
    } finally {
     if (rs!=null) try  { rs.close(); } catch (Exception ignore){}
     if (stm!=null) try  { stm.close(); } catch (Exception ignore){}
     if (c!=null) try { c.close();} catch (Exception ignore){}    }
%>
</body>
</html>


5) App1 output:

Current user: userapp1

6) App2 output:

Current user: globaluser


Thanks and I hope this script can help others with the same problem.


Cheers,

Robert

On Wed, May 23, 2012 at 8:38 PM, Robert Anderson <ranomail@gmail.com> wrote:

> Sorry, for the wall of text. :)
>
>
> "IIRC there is no support for getConnection(username, password) in
> Apache Commons DBCP pool at all, and it was a new feature in Tomcat
> JDBC pool at that time."
>
> Yes,  it is the problem. I've lost many hours following an example in
> documentation about ResourceLink and DataSource that does not work as
> expected/described.
>
>
> Best regards,
>
> Robert
>
> On Wed, May 23, 2012 at 8:26 PM, Konstantin Kolinko <
> knst.kolinko@gmail.com> wrote:
>
>> 2012/5/24 Robert Anderson <ranomail@gmail.com>:
>> >
>> > 2. You need to set alternateUsernameAllowed="
>> >>
>> >> true" on Tomcat JDBC pool  [1]
>> >> Otherwise arguments in ds.getConnection(user,password) method on that
>> >> datasource are ignored.
>> >
>> >
>> > Good, I'll test it. Anyway, the following description and example in
>> > documentation is not valid (
>> > tomcat.apache.org/tomcat-6.0-doc/config/context.html#Resource_Links,
>> > tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Links):
>> >
>> > "When the attribute
>> > factory="org.apache.naming.factory.DataSourceLinkFactory" the resource
>> link
>> > can be used with two additional attributes to allow a shared data
>> source to
>> > be used with different credentials. When these two additional attributes
>> > are used in combination with the javax.sql.DataSource type, different
>> > contexts can share a global data source with different credentials.
>> Under
>> > the hood, what happens is that a call to
>> > getConnection()<
>> http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28%29
>> >is
>> > simply translated to a call getConnection(username,
>> > password)<
>> http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html#getConnection%28java.lang.String,%20java.lang.String%29
>> >on
>> > the global data source. This is an easy way to get code to be
>> > transparent to what schemas are being used, yet be able to control
>> > connections (or pools) in the global configuration. "
>> >
>> > <GlobalNamingResources>
>> >  ...
>> >  <Resource name="sharedDataSource"
>> >            global="sharedDataSource"
>> >            type="javax.sql.DataSource"
>> >            username="bar"
>> >            password="barpass"
>> >
>> >            ...
>> >  ...
>> > </GlobalNamingResources>
>> >
>> > <Context path="/foo"...>
>> >  ...
>> >  <ResourceLink
>> >            name="appDataSource"
>> >            global="sharedDataSource"
>> >            type="javax.sql.DataSource"
>> >            factory="org.apache.naming.factory.DataSourceLinkFactory"
>> >            username="foo"
>> >            password="foopass"
>> >  ...
>> > </Context>
>> > <Context path="/bar"...>
>> >  ...
>> >  <ResourceLink
>> >            name="appDataSource"
>> >            global="sharedDataSource"
>> >            type="javax.sql.DataSource"
>> >  ...
>> > </Context>
>> >
>> >
>> >
>> > That way, just does not work.
>> >
>>
>> Can you be more specific? You are just citing a wall of text and it is
>> hard to digest.
>>
>> Can you open an issue in Bugzilla?
>>
>> IIRC there is no support for getConnection(username, password) in
>> Apache Commons DBCP pool at all, and it was a new feature in Tomcat
>> JDBC pool at that time.
>>
>> Is it the problem, or something else is wrong?
>>
>> Best regards,
>> Konstantin Kolinko
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--90e6ba3fcdd10e735804c0c6da98--

From users-return-234419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 12:22:08 2012
Return-Path: <users-return-234419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 791F7C825
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 12:22:08 +0000 (UTC)
Received: (qmail 78653 invoked by uid 500); 24 May 2012 12:22:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78602 invoked by uid 500); 24 May 2012 12:22:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78585 invoked by uid 99); 24 May 2012 12:22:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:22:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kaufhold4j@googlemail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:21:56 +0000
Received: by werf3 with SMTP id f3so7639598wer.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 05:21:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=OXPP0r4E5iy9uQeKJwHCP6ZVZsOun+7y+tU/kd1S/bU=;
        b=wDlAT7LOZoYqo41aeuVtEBWKasMMUxDvyn43JOJeL9BxQcw7UDoYCnEjDIj4KjMvFo
         TYQnxosvSZs23iM68LAXprp0CAGj6U6RpA+FQBeRaXO4Dlj+hw7KKtPpho/INGn4dgNP
         +cmyGjoorrrggmX8zuIinY/6qs6MKEoMz27L/9/eix9ifcBVezcpiQ6IxlYdWkX4b58E
         fYeFKm4Ff65ebboGr+rUnGuXGB6O8pqQY428Zr6hB1qPsi7/1MC+4aB2ceThNrrZcrKL
         CaXtDSYIBuhkjcIAqTrdX5M1NECRsleH6ATg3bH2DSLYgIXPHqDWwhHcQ3yUsXHPrlzq
         pE7g==
MIME-Version: 1.0
Received: by 10.216.219.11 with SMTP id l11mr3457698wep.213.1337862096374;
 Thu, 24 May 2012 05:21:36 -0700 (PDT)
Received: by 10.216.243.197 with HTTP; Thu, 24 May 2012 05:21:33 -0700 (PDT)
Date: Thu, 24 May 2012 14:21:33 +0200
Message-ID: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com>
Subject: memory leak in tomcat
From: Christian Kaufhold <kaufhold4j@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6dab064034b1004c0c74b6f

--0016e6dab064034b1004c0c74b6f
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

I have a leaking Tomcat App
I checked the heap with the Eclipse Memory Analyser
and it says

The classloader/component *"org.apache.catalina.loader.WebappClassLoader @
0x94532f50"*
occupies *376.421.152 (79,51%)* bytes. The memory is accumulated in one
instance of
*"java.util.HashMap$Entry[]"* loaded by *"<system class loader>"*.

and the data that is in the entries of the gigantic Map is
org.hibernate.impl.SessionFactoryObjectFactory

Does anyone know why this?

Christian




**
  Class Name Shallow Heap Retained Heap

   - java.util.HashMap$Entry[64] @ 0xaa9314c0 <mat://object/0xaa9314c0>

272 339.906.832 [image: \]

   - *table* java.util.HashMap @ 0xaa931498 <mat://object/0xaa931498>

40 339.906.872 [image: .][image: \]

   - *map* org.hibernate.util.FastHashMap @ 0x94e4bc98<mat://object/0x94e4b=
c98>

16 339.906.888 [image: .][image: .][image: \]

   - *INSTANCES* class org.hibernate.impl.SessionFactoryObjectFactory @
   0x759319f8 <mat://object/0x759319f8>

24 339.907.088 [image: .][image: .][image: .][image: \]

   - *[1788]* java.lang.Object[5120] @ 0x95148470 <mat://object/0x95148470>

20.496 375.206.992 [image: .][image: .][image: .][image: .][image: \]

   - *elementData* java.util.Vector @ 0x94538998 <mat://object/0x94538998>

24 375.207.016 [image: .][image: .][image: .][image: .][image: .][image: \]

   - *classes* org.apache.catalina.loader.WebappClassLoader @
0x94532f50<mat://object/0x94532f50>

176 376.421.152 [image: .][image: .][image: .][image: .][image:
.][image: .][image:
+]

   - *contextClassLoader* java.lang.Thread @ 0x94e1ac60
Thread-10<mat://object/0x94e1ac60>
   *Thread*

112 7.112 [image: .][image: .][image: .][image: .][image: .][image: .][imag=
e:
+]

   - *contextClassLoader* de.bfd.tools.ConnectionPool$ConnPoolMultiCaster @
   0x94e1ad00 Thread-9 <mat://object/0x94e1ad00> =BB

136 592 [image: .][image: .][image: .][image: .][image: .][image: .][image:
+]

   - *contextClassLoader* java.lang.Thread @ 0x9bb7b548
Keep-Alive-Timer<mat://object/0x9bb7b548>=BB

112 168 [image: .][image: .][image: .][image: .][image: .][image: .][image:
+]

   - *classloader* java.security.ProtectionDomain @
0x9453a160<mat://object/0x9453a160>=BB

--0016e6dab064034b1004c0c74b6f--

From users-return-234420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 12:39:28 2012
Return-Path: <users-return-234420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C237896B3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 12:39:28 +0000 (UTC)
Received: (qmail 21178 invoked by uid 500); 24 May 2012 12:39:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21128 invoked by uid 500); 24 May 2012 12:39:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21119 invoked by uid 99); 24 May 2012 12:39:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:39:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:39:17 +0000
Received: from [192.168.245.129] (p549E8E24.dip0.t-ipconnect.de [84.158.142.36])
	by tor.combios.es (Postfix) with ESMTPA id DBF05DA07ED
	for <users@tomcat.apache.org>; Thu, 24 May 2012 14:38:54 +0200 (CEST)
Message-ID: <4FBE2BDD.6000709@ice-sa.com>
Date: Thu, 24 May 2012 14:38:53 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: memory leak in tomcat
References: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com>
In-Reply-To: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christian Kaufhold wrote:

> Hi,
> 
> I have a leaking Tomcat App
> I checked the heap with the Eclipse Memory Analyser
> and it says
> 
> The classloader/component *"org.apache.catalina.loader.WebappClassLoader @
> 0x94532f50"*
> occupies *376.421.152 (79,51%)* bytes. The memory is accumulated in one
> instance of
> *"java.util.HashMap$Entry[]"* loaded by *"<system class loader>"*.
> 
> and the data that is in the entries of the gigantic Map is
> org.hibernate.impl.SessionFactoryObjectFactory
> 
> Does anyone know why this?
> 

One giant leap in the dark and totally-uneducated guess : due to some logical or 
configuration error, this application creates a new session at each request, and they 
never time out ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 12:42:53 2012
Return-Path: <users-return-234421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 902BB96BD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 12:42:53 +0000 (UTC)
Received: (qmail 33535 invoked by uid 500); 24 May 2012 12:42:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33344 invoked by uid 500); 24 May 2012 12:42:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33334 invoked by uid 99); 24 May 2012 12:42:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:42:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 12:42:45 +0000
Received: by pbbro12 with SMTP id ro12so270237pbb.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 05:42:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1bLllb9f2+2wgMBSiFTBr27e4w+LTFJm5zlUckVeaTc=;
        b=PJdZmamFxPyrphKtLHK787EU22UPeHCirdVwN4rWyXXUFdFItnT5dXknLUzxmUGn+C
         0gwbuSAHI/E/8x0YPIdu3SJwkz24lvtRgtSSjXv2K8L9+hsXYraqkli0dfMkXYzROr5Y
         28jVw2oT/caWXwqUwrKqF5IfChKFg1VDD9tQu7pl992Hc7LVbBBlRxB7L+qmLXaXrV0A
         KVdaZmVrc9+vc/jLuQzbJXzNPR+dJOA2Uv7h7G5ReUqL4IMEchz+mf6A/QhqieM5GLpU
         41upA90qk75qLGOy0SoUiAqan5PSiqcpsdcbpJpQXcwrs8PDFNjNy3HNv340VJOIi+sX
         g5Uw==
MIME-Version: 1.0
Received: by 10.68.238.135 with SMTP id vk7mr21259290pbc.134.1337863344918;
 Thu, 24 May 2012 05:42:24 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Thu, 24 May 2012 05:42:24 -0700 (PDT)
In-Reply-To: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com>
References: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com>
Date: Thu, 24 May 2012 16:42:24 +0400
Message-ID: <CABzHfV=-8BuqoC4DgHD6qNDbme8+bC==UYm1URPS8=A+jT--UA@mail.gmail.com>
Subject: Re: memory leak in tomcat
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/24 Christian Kaufhold <kaufhold4j@googlemail.com>:
> Hi,
>
> I have a leaking Tomcat App
> I checked the heap with the Eclipse Memory Analyser
> and it says
>
> The classloader/component *"org.apache.catalina.loader.WebappClassLoader @
> 0x94532f50"*
> occupies *376.421.152 (79,51%)* bytes. The memory is accumulated in one
> instance of
> *"java.util.HashMap$Entry[]"* loaded by *"<system class loader>"*.
>

So the memory is used for something useful? That is not a "memory
leak". It is just a web application requiring a lot of memory.

WebappClassLoader is the classloader that is used to load the classes
of your webapp.  Of course, it remembers every class that it loaded
(to satisfy repeated class.forName() calls) and every class that it
loads has a reference it it (via getClass().getClassLoader()).

There may be many classes, but I do not think that the classloader
itself is responsible for 300 Mb of memory.

> and the data that is in the entries of the gigantic Map is
> org.hibernate.impl.SessionFactoryObjectFactory
>

That would be a hibernate question. I have no clue what that class is about.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:03:52 2012
Return-Path: <users-return-234422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E103C535
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:03:52 +0000 (UTC)
Received: (qmail 76346 invoked by uid 500); 24 May 2012 14:03:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76282 invoked by uid 500); 24 May 2012 14:03:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76272 invoked by uid 99); 24 May 2012 14:03:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:03:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:03:41 +0000
Received: by dadv2 with SMTP id v2so13878333dad.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 07:03:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=o4Q6px9GjY2OnnBMWD3UabZOUDbSPCC6M4wboCIl1jo=;
        b=Oqr3NchPWsmueOy0/yFtkpCws7K54CsgKYeFprl4BRFCjT4T97LEuqPvYNBW6Bz8wv
         vveRk2VkXVXj6CmanwkPpydgK0xn3Flv/+pJPP4QAczJqFHh4wc1OftGA7FtU1uBWblr
         MO5aTwfBRFi1BwzwumelTlMl2OTYXiHXVK1hNrskEl4DdXF/3BmShtxpl5K2m7HRDQVP
         pSZLO5E18pguBo8zx2OizI0be8nGj0P+ziXSwHCG/2rcl+coZKwZwzz8uk4XyLek62Z3
         yx5A+677NRz+NkSVV+g5y3TyMt85twKKLNNrX1iNjgYiHfnnAas75ljOiU9TJxpaHGeD
         Akng==
MIME-Version: 1.0
Received: by 10.68.190.137 with SMTP id gq9mr21715761pbc.34.1337868200253;
 Thu, 24 May 2012 07:03:20 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Thu, 24 May 2012 07:03:20 -0700 (PDT)
In-Reply-To: <CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
	<CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
	<CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
Date: Thu, 24 May 2012 18:03:20 +0400
Message-ID: <CABzHfVmVVXizp+xRRC9a9KJCFftt65vtC574bY=GSM71Pe6DjQ@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/24 Robert Anderson <ranomail@gmail.com>:
> Sorry, for the wall of text. :)
>
> "IIRC there is no support for getConnection(username, password) in
> Apache Commons DBCP pool at all, and it was a new feature in Tomcat
> JDBC pool at that time."
>
> Yes, =A0it is the problem. I've lost many hours following an example in
> documentation about ResourceLink and DataSource that does not work as
> expected/described.
>

I added it to Bugzilla.
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D53289

> Now it's working! Follows the script:
> 1) ...
> 2) ...
> 3) ...

Thank you. It is good to have a working example.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:24:00 2012
Return-Path: <users-return-234423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2837C755
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:24:00 +0000 (UTC)
Received: (qmail 63045 invoked by uid 500); 24 May 2012 14:23:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62915 invoked by uid 500); 24 May 2012 14:23:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62904 invoked by uid 99); 24 May 2012 14:23:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:23:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:23:49 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id 5B4A2A8C26A9
	for <users@tomcat.apache.org>; Thu, 24 May 2012 08:19:56 -0600 (MDT)
Date: Thu, 24 May 2012 08:19:56 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: encrypt the database password
Message-ID: <1aaa3d00-40e7-43a2-b30b-51e4a184c638@arizona.hanik.com>
In-Reply-To: <CALj8J-jYQ=C=W5RrNtN2XYZLh=VknjWX0TAm9-SHrJ75uYEdWA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [181.30.6.114]
X-Mailer: Zimbra 7.1.1_GA_3196 (ZimbraWebClient - FF3.0 (Mac)/7.1.1_GA_3196)

yes, there is, search http://tomcat.markmail.org for the same
org.apache.tomcat.util.digester.PROPERTY_SOURCE
is a system property where you can add the code that digests properties in server.xml
This code can 'decode' your encoded properties



----- Original Message -----
> From: "Bill Wang" <bw57899@gmail.com>
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Sent: Wednesday, May 23, 2012 11:34:10 PM
> Subject: encrypt the database password
> 
> Hi All,
> 
> There is a tomcat server with some database setup.
> 
> cd apache-tomcat-6.0.29/conf
> cat server.xml
> 
>   <Resource auth="Container"
> driverClassName="oracle.jdbc.driver.OracleDriver"
> 
>               factory="oracle.jdbc.pool.OracleDataSourceFactory"
> maxActive="20"
>               maxIdle="10" maxWait="-1" name="jdbc/abc"
>               password="abcADMIN"
>               type="oracle.jdbc.pool.OracleDataSource"
> 
> url="jdbc:oracle:thin:@localhost:1521:mydb" user="abc" />
> 
> 
> So which the plain password, end user may get the password directly.
> 
> 
> How can create encrypted password within server.xml
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:38:16 2012
Return-Path: <users-return-234424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15AC197E6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:38:16 +0000 (UTC)
Received: (qmail 20951 invoked by uid 500); 24 May 2012 14:38:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20884 invoked by uid 500); 24 May 2012 14:38:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20874 invoked by uid 99); 24 May 2012 14:38:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:38:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:38:04 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id DpMt1j0031vXlb857qdiD0; Thu, 24 May 2012 14:37:42 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id Dqdi1j01B38FjT13dqdikq; Thu, 24 May 2012 14:37:42 +0000
Message-ID: <4FBE47B8.5040003@christopherschultz.net>
Date: Thu, 24 May 2012 10:37:44 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>
In-Reply-To: <1337814101.1891.45.camel@earth>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dirk,

On 5/23/12 7:01 PM, dirk ooms wrote:
> any hint on fast-user-switching or 
> applications-interacting-with-container-based-authentication are
> very welcome.

We use securityfilter for AAA and the user is stored in the session:
you can just replace the user object and boom: you are a new user. We
support "user impersonation" in this way and allows administrators to
masquerade as another user and then go back to their original login.

Switching to securityfilter may not be a great plan for you, though
it's not terribly hard to do. But, its a possibility.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk++R7gACgkQ9CaO5/Lv0PBVSQCePHZUW/l2Ybdcqegu206zfY+g
6rIAniyLbfpW0m96AeietxvHYXysOW7r
=ROLF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:39:18 2012
Return-Path: <users-return-234425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 62D67981D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:39:18 +0000 (UTC)
Received: (qmail 27390 invoked by uid 500); 24 May 2012 14:39:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27322 invoked by uid 500); 24 May 2012 14:39:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27312 invoked by uid 99); 24 May 2012 14:39:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:39:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:39:07 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id DpL51j0051vXlb85BqelkS; Thu, 24 May 2012 14:38:45 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id Dqel1j00k38FjT13dqelCl; Thu, 24 May 2012 14:38:45 +0000
Message-ID: <4FBE47F8.1050406@christopherschultz.net>
Date: Thu, 24 May 2012 10:38:48 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth> <CAG6aRdWJiqBXepFx1hoD3diGDJy5dTD1XfV60odx0V8qoH42SA@mail.gmail.com>
In-Reply-To: <CAG6aRdWJiqBXepFx1hoD3diGDJy5dTD1XfV60odx0V8qoH42SA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chris,

On 5/23/12 7:06 PM, chris derham wrote:
> We had an app where support staff can login, and then on a special
> form enter the username of the person to impersonate and their own
> password (to prevent abuse), and the system then allows them to
> impersonate the user. Worked well for viewing exactly what the user
> was seeing when reporting issues. To do this we used acegi security
> - has built in support for impersonation.

NB: ACEGI is now called "Spring Security".

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk++R/gACgkQ9CaO5/Lv0PAgXwCgtJy6H3IQ/zTXXAGE8NTfmYMN
nSEAnjDvGCXJBkvAyP4dTtCNgGq0Bnp/
=xMMQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:47:04 2012
Return-Path: <users-return-234426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E3139947
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:47:04 +0000 (UTC)
Received: (qmail 60159 invoked by uid 500); 24 May 2012 14:47:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60096 invoked by uid 500); 24 May 2012 14:47:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60087 invoked by uid 99); 24 May 2012 14:47:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:47:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:46:54 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id Dout1j0031swQuc5BqmZ7p; Thu, 24 May 2012 14:46:33 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id DqmY1j01q38FjT13bqmZ9l; Thu, 24 May 2012 14:46:33 +0000
Message-ID: <4FBE49CB.50501@christopherschultz.net>
Date: Thu, 24 May 2012 10:46:35 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Shared data source (Bug 49543)
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com> <CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com> <CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com> <CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com> <CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com> <CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com>
In-Reply-To: <CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Robert,

On 5/24/12 7:50 AM, Robert Anderson wrote:
> Now it's working! Follows the script:

So, how does your "script" deviate from the Tomcat documentation? It
seems that you followed the docs and now it works. Right?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEUEARECAAYFAk++ScsACgkQ9CaO5/Lv0PAy4ACWNsbvFopO5tY0s0SXCDfnmXEb
7wCfTJA3lvlqkl7hXrAcVB70EREQ7EU=
=ssa2
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:58:28 2012
Return-Path: <users-return-234427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05E2D9B6E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:58:27 +0000 (UTC)
Received: (qmail 8139 invoked by uid 500); 24 May 2012 14:58:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8034 invoked by uid 500); 24 May 2012 14:58:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7949 invoked by uid 99); 24 May 2012 14:58:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:58:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:58:19 +0000
Received: by qaeb19 with SMTP id b19so5574939qae.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 07:57:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4TtBKPIWBqvLKA1eUzIRZbGl37TC/op25Ufp1g9K1Ds=;
        b=YG4oofJG42MWf7NvlJ9wZZC0e+UIgDjEptNnhsi5oxPoKyekCFQGnrBEYiR9FKiKKQ
         5hvJfAC2FBHfm9nL7jGU4wdf73Q++n1IbOaGHw2zdqs0WYIZAxKbsUQQ7vFJtXfiMiRn
         xlRKua2omif2WjrtQOGGbj5d5ig6GShlkQQrA0gn0MGltvoeWs1ccblWKXXYTCfAx8hb
         m8cdPpc2Rj15LAFwXvsawpBPSXI62/Zjgg5GVyTyGO5BsHcmXHnUl+c1peX/FxYocr6O
         Lz0YELkPg7fpiVmg67TSoQLNhrKX/1+K/0Bipc+yCux8+kUtdIRm3w8aD8etQ8lzPqZk
         +Hig==
MIME-Version: 1.0
Received: by 10.50.46.232 with SMTP id y8mr16353225igm.57.1337871478779; Thu,
 24 May 2012 07:57:58 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Thu, 24 May 2012 07:57:58 -0700 (PDT)
In-Reply-To: <4FBE49CB.50501@christopherschultz.net>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
	<CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
	<CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
	<CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com>
	<4FBE49CB.50501@christopherschultz.net>
Date: Thu, 24 May 2012 11:57:58 -0300
Message-ID: <CAGrg8DV=VULLjrrfEVBNv2en=FjLGTOJ3NAmsuE2dv3roVp--w@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340cbb3f6e1d04c0c97a85
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340cbb3f6e1d04c0c97a85
Content-Type: text/plain; charset=ISO-8859-1

Chris,

Basically, the ResourceLink documentation doesn't say that to enable shared
pool with different credentials:

1) You have to add tomcat-jdbc.jar in Tomcat 6.0 classpath;

2) You have to put the attributes in global resource definition:
factory="org.apache.tomcat.jdbc.pool.DataSourceFactory" and
alternateUsernameAllowed="true".


Cheers,

Robert

On Thu, May 24, 2012 at 11:46 AM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Robert,
>
> On 5/24/12 7:50 AM, Robert Anderson wrote:
> > Now it's working! Follows the script:
>
> So, how does your "script" deviate from the Tomcat documentation? It
> seems that you followed the docs and now it works. Right?
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEUEARECAAYFAk++ScsACgkQ9CaO5/Lv0PAy4ACWNsbvFopO5tY0s0SXCDfnmXEb
> 7wCfTJA3lvlqkl7hXrAcVB70EREQ7EU=
> =ssa2
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9340cbb3f6e1d04c0c97a85--

From users-return-234428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 14:59:47 2012
Return-Path: <users-return-234428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 105789BA4
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 14:59:47 +0000 (UTC)
Received: (qmail 15754 invoked by uid 500); 24 May 2012 14:59:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15567 invoked by uid 500); 24 May 2012 14:59:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15557 invoked by uid 99); 24 May 2012 14:59:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:59:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [207.193.141.28] (HELO kcm-smtp-002.burnsmcd.com) (207.193.141.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 14:59:36 +0000
X-IronPort-AV: E=Sophos;i="4.75,651,1330927200"; 
   d="scan'208";a="320747"
Received: from unknown (HELO KCM-EXFE-001.burnsmcd.com) ([10.3.35.155])
  by kcm-smtp-002.burnsmcd.com with ESMTP/TLS/AES128-SHA; 24 May 2012 09:59:15 -0500
Received: from bmcdmail01.burnsmcd.com ([169.254.1.120]) by
 KCM-EXFE-001.burnsmcd.com ([::1]) with mapi; Thu, 24 May 2012 09:59:14 -0500
From: "Haenni, Tia" <thaenni@burnsmcd.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 24 May 2012 09:59:13 -0500
Subject: RE: maxParameterCount with Tomcat 5.5.23
Thread-Topic: maxParameterCount with Tomcat 5.5.23
Thread-Index: Ac0vsR9p5P9U3ddhTLexvwLEolh+iAAAYgOwAACPacAAAKjdcAKBcwkA
Message-ID: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EFE2972@BMCDMAIL01.burnsmcd.com>
References: <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC321@BMCDMAIL01.burnsmcd.com>
 <99C8B2929B39C24493377AC7A121E21FB025EFB570@USEA-EXCH8.na.uis.unisys.com>
 <ABEB43C9EAAD9142AA3B7D34DCD129D9510EECC357@BMCDMAIL01.burnsmcd.com>
 <99C8B2929B39C24493377AC7A121E21FB025EFB5F9@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB025EFB5F9@USEA-EXCH8.na.uis.unisys.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

For my Red Hat delivered Tomcat, changes to the connector attribute were ig=
nored. However, I did find a fix that works.

In tomcat5.conf, after all other settings are added to JAVA_OPTS, add the v=
alue you desire for max parameter count like this:

# RH KB 100383
# Override default max parameter count of 512
JAVA_OPTS=3D"$JAVA_OPTS -Dorg.apache.tomcat.util.http.Parameters.MAX_COUNT=
=3D10000"

The Red Hat KB article references JBoss run script, but the above works fin=
e for standalone Tomcat.

-----Original Message-----
From: Caldarale, Charles R [mailto:Chuck.Caldarale@unisys.com]=20
Sent: Friday, May 11, 2012 3:51 PM
To: Tomcat Users List
Subject: RE: maxParameterCount with Tomcat 5.5.23

> From: Haenni, Tia [mailto:thaenni@burnsmcd.com]
> Subject: RE: maxParameterCount with Tomcat 5.5.23

> I read some posts where it was apparently ignored and the default used=20
> instead.

It would be interesting to know who's publishing such garbage.

> Can you confirm that setting maxParameterCount in the connector=20
> attribute will override the default?

Not on a Tomcat mangled by Red Hat - you're on your own with that.  If you =
use a real Tomcat, it will certainly work.

- Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:07:14 2012
Return-Path: <users-return-234429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79F849CCE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:07:14 +0000 (UTC)
Received: (qmail 45678 invoked by uid 500); 24 May 2012 15:07:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45598 invoked by uid 500); 24 May 2012 15:07:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45588 invoked by uid 99); 24 May 2012 15:07:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:07:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:07:04 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id Dr661j0011YDfWL5Ar6jZ5; Thu, 24 May 2012 15:06:43 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id Dr6i1j00a38FjT13gr6jfo; Thu, 24 May 2012 15:06:43 +0000
Message-ID: <4FBE4E82.1040005@christopherschultz.net>
Date: Thu, 24 May 2012 11:06:42 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Shared data source (Bug 49543)
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com> <CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com> <CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com> <CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com> <CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com> <CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com> <4FBE49CB.50501@christopherschultz.net> <CAGrg8DV=VULLjrrfEVBNv2en=FjLGTOJ3NAmsuE2dv3roVp--w@mail.gmail.com>
In-Reply-To: <CAGrg8DV=VULLjrrfEVBNv2en=FjLGTOJ3NAmsuE2dv3roVp--w@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Robert,

On 5/24/12 10:57 AM, Robert Anderson wrote:
> Chris,
> 
> Basically, the ResourceLink documentation doesn't say that to
> enable shared pool with different credentials:
> 
> 1) You have to add tomcat-jdbc.jar in Tomcat 6.0 classpath;
> 
> 2) You have to put the attributes in global resource definition: 
> factory="org.apache.tomcat.jdbc.pool.DataSourceFactory" and 
> alternateUsernameAllowed="true".

Gotcha: you didn't know that this was an example only relevant to
tomcat-jdbc (not that you should have -- I didn't know, either). I
thought you were already using tomcat-jdbc and I believe the docs
there are accurate.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk++ToIACgkQ9CaO5/Lv0PDFHQCgrXsXmL3C/Cc3a74Lt8ul8Ton
RyQAn0WwW4ZfQVJz3s8pHHh/ulBm7vwX
=XrXd
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:12:55 2012
Return-Path: <users-return-234430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 84D809D16
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:12:55 +0000 (UTC)
Received: (qmail 64885 invoked by uid 500); 24 May 2012 15:12:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64846 invoked by uid 500); 24 May 2012 15:12:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64837 invoked by uid 99); 24 May 2012 15:12:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:12:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.227] (HELO qmta12.westchester.pa.mail.comcast.net) (76.96.59.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:12:44 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta12.westchester.pa.mail.comcast.net with comcast
	id DpTm1j0021ZXKqc5CrCPxx; Thu, 24 May 2012 15:12:23 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id DrCP1j00F38FjT13hrCPiR; Thu, 24 May 2012 15:12:23 +0000
Message-ID: <4FBE4FD7.8090307@christopherschultz.net>
Date: Thu, 24 May 2012 11:12:23 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: memory leak in tomcat
References: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com> <CABzHfV=-8BuqoC4DgHD6qNDbme8+bC==UYm1URPS8=A+jT--UA@mail.gmail.com>
In-Reply-To: <CABzHfV=-8BuqoC4DgHD6qNDbme8+bC==UYm1URPS8=A+jT--UA@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 5/24/12 8:42 AM, Konstantin Kolinko wrote:
> 2012/5/24 Christian Kaufhold <kaufhold4j@googlemail.com>:
>> Hi,
>> 
>> I have a leaking Tomcat App I checked the heap with the Eclipse
>> Memory Analyser and it says
>> 
>> The classloader/component
>> *"org.apache.catalina.loader.WebappClassLoader @ 0x94532f50"* 
>> occupies *376.421.152 (79,51%)* bytes. The memory is accumulated
>> in one instance of *"java.util.HashMap$Entry[]"* loaded by
>> *"<system class loader>"*.
>> 
> 
> So the memory is used for something useful? That is not a "memory 
> leak". It is just a web application requiring a lot of memory.
> 
> WebappClassLoader is the classloader that is used to load the
> classes of your webapp.  Of course, it remembers every class that
> it loaded (to satisfy repeated class.forName() calls) and every
> class that it loads has a reference it it (via
> getClass().getClassLoader()).
> 
> There may be many classes, but I do not think that the classloader 
> itself is responsible for 300 Mb of memory.

It may, if the ClassLoader holds references to Class objects (it does)
that contain static members with lots of data (not so sure about this
part).

>> and the data that is in the entries of the gigantic Map is 
>> org.hibernate.impl.SessionFactoryObjectFactory
> 
> That would be a hibernate question. I have no clue what that class
> is about.

+1

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk++T9YACgkQ9CaO5/Lv0PAwAQCfZSz67ALyFrRfZaVYs6Tjoee7
Q4UAnA/Q2vIjecxXPEW+BzsN7GeSJQk3
=zQcP
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:15:39 2012
Return-Path: <users-return-234431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 514069D2B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:15:39 +0000 (UTC)
Received: (qmail 75979 invoked by uid 500); 24 May 2012 15:15:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75896 invoked by uid 500); 24 May 2012 15:15:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75886 invoked by uid 99); 24 May 2012 15:15:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:15:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:15:26 +0000
Received: from [192.168.245.129] (p549E8E24.dip0.t-ipconnect.de [84.158.142.36])
	by tor.combios.es (Postfix) with ESMTPA id 9697CDA0950
	for <users@tomcat.apache.org>; Thu, 24 May 2012 17:15:04 +0200 (CEST)
Message-ID: <4FBE5077.3090904@ice-sa.com>
Date: Thu, 24 May 2012 17:15:03 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>  <4FBDE555.2030702@ice-sa.com> <1337855462.1864.126.camel@earth>
In-Reply-To: <1337855462.1864.126.camel@earth>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

dirk ooms wrote:
> Andre,
> 
> thanks for your thoughts on this. i agree that this issue brings me to
> 'a loop of increasing contradictions'.  it's probably good to go one
> step back and explain the real-life requirement:
> 
> we have an application that is used by many small companies, each
> company has its own data and can have multiple users (typically 1 to 5).
> within a company there is a requirement to switch users in a fast way
> (e.g. using a badge or a fingerprint). think of a restaurant having 1
> computer and several waiters. we want to trace what is done by which
> waiter and there is also an incentive for the waiter to switch users
> because his fee will be based on his logged activities.
> 
> my reasoning was: i'll keep the standard proven AAA mechanism for the
> initial log in, but allow fast user switching within a company where
> there is more trust between users (which is security-wise probably a
> weak statement). still there is a need for some type of authentication
> because the users can have different roles. but this indeed leads to
> conflicts between the standard and the proprietary
> authentication/authorization mechanism.
> 
> my current reasoning is: i need to keep a standard proven AAA mechanism
> also for fast user switching. correct? but how do i tackle this given
> that we now have form/container-based authentication. do i need a
> parallel standard container-based mechanism? what mechanism exists that
> allows to authenticate by scanning a barcode (i.e. a single (possibly
> long) string)? any pointer/suggestion will be much appreciated.
> 

So, if I understand correctly :
- the first level of authentication is, say, by company, and is meant basically to avoid 
some unauthorised people accessing the website of each customer
- the second level of authentication is within this company's dedicated website, and is 
meant to distinguish between different "actors" within that website.
- and within the website, there is an incentive for the actors to use their own id, and 
not someone else's when they do something

As far as the "within the one website" thing is concerned, the other suggestions that you 
have received seem the way to go.  How you really integrate that into each action that 
these people do, I don't know really.
But I would imagine that you could have some kind of applet within your web pages, which 
reads a barcode from a barcode reader, and adds what it has read as a POST parameter, 
before it submits the form to the server.
And then on the server, you pick up this special parameter, and switch the userPrincipal 
on-the-fly, as they say.

As far as the first-level authentication is concerned, here is maybe a bit of lateral 
thinking :
If you put an Apache httpd front-end in front of Tomcat, then you could install some form 
of standard authentication at the Apache httpd level, which protects that website "in 
general" with the "company login".  Then only if that authentication succeeds, you would 
proxy the calls to Tomcat (using mod_jk for instance).  But Tomcat would know nothing 
about this front-end authentication, and would not need to know.
Similarly, Apache httpd would never know - nor need to know - when the user at the Tomcat 
level changes.

I think such a scheme would keep things nicely separated, and simplify the whole design.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:21:01 2012
Return-Path: <users-return-234432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D95A39D4E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:21:01 +0000 (UTC)
Received: (qmail 4050 invoked by uid 500); 24 May 2012 15:20:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3972 invoked by uid 500); 24 May 2012 15:20:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3963 invoked by uid 99); 24 May 2012 15:20:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:20:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:20:50 +0000
Received: from [192.168.245.129] (p549E8E24.dip0.t-ipconnect.de [84.158.142.36])
	by tor.combios.es (Postfix) with ESMTPA id B0E19DA0942
	for <users@tomcat.apache.org>; Thu, 24 May 2012 17:20:27 +0200 (CEST)
Message-ID: <4FBE51BA.6050709@ice-sa.com>
Date: Thu, 24 May 2012 17:20:26 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>  <4FBDE555.2030702@ice-sa.com> <1337855462.1864.126.camel@earth> <4FBE5077.3090904@ice-sa.com>
In-Reply-To: <4FBE5077.3090904@ice-sa.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Andr Warnier wrote:
> dirk ooms wrote:
>> Andre,
>>
>> thanks for your thoughts on this. i agree that this issue brings me to
>> 'a loop of increasing contradictions'.  it's probably good to go one
>> step back and explain the real-life requirement:
>>
>> we have an application that is used by many small companies, each
>> company has its own data and can have multiple users (typically 1 to 5).
>> within a company there is a requirement to switch users in a fast way
>> (e.g. using a badge or a fingerprint). think of a restaurant having 1
>> computer and several waiters. we want to trace what is done by which
>> waiter and there is also an incentive for the waiter to switch users
>> because his fee will be based on his logged activities.
>>
>> my reasoning was: i'll keep the standard proven AAA mechanism for the
>> initial log in, but allow fast user switching within a company where
>> there is more trust between users (which is security-wise probably a
>> weak statement). still there is a need for some type of authentication
>> because the users can have different roles. but this indeed leads to
>> conflicts between the standard and the proprietary
>> authentication/authorization mechanism.
>>
>> my current reasoning is: i need to keep a standard proven AAA mechanism
>> also for fast user switching. correct? but how do i tackle this given
>> that we now have form/container-based authentication. do i need a
>> parallel standard container-based mechanism? what mechanism exists that
>> allows to authenticate by scanning a barcode (i.e. a single (possibly
>> long) string)? any pointer/suggestion will be much appreciated.
>>
> 
> So, if I understand correctly :
> - the first level of authentication is, say, by company, and is meant 
> basically to avoid some unauthorised people accessing the website of 
> each customer
> - the second level of authentication is within this company's dedicated 
> website, and is meant to distinguish between different "actors" within 
> that website.
> - and within the website, there is an incentive for the actors to use 
> their own id, and not someone else's when they do something
> 
> As far as the "within the one website" thing is concerned, the other 
> suggestions that you have received seem the way to go.  How you really 
> integrate that into each action that these people do, I don't know really.
> But I would imagine that you could have some kind of applet within your 
> web pages, which reads a barcode from a barcode reader, and adds what it 
> has read as a POST parameter, before it submits the form to the server.
> And then on the server, you pick up this special parameter, and switch 
> the userPrincipal on-the-fly, as they say.
> 
> As far as the first-level authentication is concerned, here is maybe a 
> bit of lateral thinking :
> If you put an Apache httpd front-end in front of Tomcat, then you could 
> install some form of standard authentication at the Apache httpd level, 
> which protects that website "in general" with the "company login".  Then 
> only if that authentication succeeds, you would proxy the calls to 
> Tomcat (using mod_jk for instance).  But Tomcat would know nothing about 
> this front-end authentication, and would not need to know.
> Similarly, Apache httpd would never know - nor need to know - when the 
> user at the Tomcat level changes.
> 
> I think such a scheme would keep things nicely separated, and simplify 
> the whole design.
> 

Upon further thinking, of course you would not necessarily need an Apache httpd front-end 
for this, and could do this all within Tomcat.
The container-level authentication comes first, before your webapp is even called.
So that is your Tomcat-level authentication, by company.
Then you could still have some servlet filter (which runs after the container-level 
authentication) to pick up this special POST parameter and do your "application-level" 
authentication.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:22:58 2012
Return-Path: <users-return-234433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 280309D56
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:22:58 +0000 (UTC)
Received: (qmail 10240 invoked by uid 500); 24 May 2012 15:22:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10050 invoked by uid 500); 24 May 2012 15:22:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10040 invoked by uid 99); 24 May 2012 15:22:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:22:54 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warrenbell2@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:22:48 +0000
Received: by pbbro12 with SMTP id ro12so514462pbb.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 08:22:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:x-enigmail-version:content-type
         :content-transfer-encoding;
        bh=Hq/FxoA7Ovtpn5htuZtBJWoLrjN/p8LHJoSdnfOQdIQ=;
        b=jSUlI2Jg0mX3ymY8xB0W1xyLKG4OyaahRHF3CKvhJrwT5oWOA7ZYdbhslLLbUIP03a
         fQJTtwSt+l80SdEtvmG6VkCMFA+ey68fm9Gg+EUuzo21rYJ/SUxQuVqX0CFhoBCQmxtk
         Nl42vm4AQViyKNl4HrlWgvRcMLf8wHcg1tLwUlZI06dFHN3DK8rGwJWOzf+cdk4jurjJ
         XJA5ruI91krbV/31BwvR3VlkDizamXDk82mLmh6t+8PfpwnVyMA7qS+KZj9uHPny8XDE
         iXgbd6FPC1ID8MU2FScsirRM6pZPZU4HVkbsGml8DzuUcEsh930RzVCDT5ETUBfj3pvS
         W+Ng==
Received: by 10.68.237.165 with SMTP id vd5mr386544pbc.116.1337872948294;
        Thu, 24 May 2012 08:22:28 -0700 (PDT)
Received: from warren-bells-macbook-pro-2.local (pool-71-110-206-227.lsanca.dsl-w.verizon.net. [71.110.206.227])
        by mx.google.com with ESMTPS id rs3sm5763047pbc.47.2012.05.24.08.22.26
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 24 May 2012 08:22:27 -0700 (PDT)
Message-ID: <4FBE522F.5030608@gmail.com>
Date: Thu, 24 May 2012 08:22:23 -0700
From: Warren Bell <warrenbell2@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:8.0) Gecko/20111105 Thunderbird/8.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: memory leak in tomcat
References: <CAGXngZ_Td_=Kt4zBVE9inniNWGGjEN1wUvao7bGnO_dYmO7iHw@mail.gmail.com> <CABzHfV=-8BuqoC4DgHD6qNDbme8+bC==UYm1URPS8=A+jT--UA@mail.gmail.com>
In-Reply-To: <CABzHfV=-8BuqoC4DgHD6qNDbme8+bC==UYm1URPS8=A+jT--UA@mail.gmail.com>
X-Enigmail-Version: 1.3.4
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Is this the same server with the Wicket app you posted about earlier ?
If so, you have a Wicket app that is storing the
SessionFactoryObjectFactory on a page as a class member. Wicket stores
each page a user has been to in the user's session. If the page has
class members, then it serializes them and stores them too. I have seen
this kind of thing happen many times before causing big memory usage.

Remove the Wicket app and run the Eclipse Memory Analyzer.

Thanks,

Warren Bell

On 5/24/12 5:42 AM, Konstantin Kolinko wrote:
> 2012/5/24 Christian Kaufhold <kaufhold4j@googlemail.com>:
>> Hi,
>>
>> I have a leaking Tomcat App
>> I checked the heap with the Eclipse Memory Analyser
>> and it says
>>
>> The classloader/component *"org.apache.catalina.loader.WebappClassLoader @
>> 0x94532f50"*
>> occupies *376.421.152 (79,51%)* bytes. The memory is accumulated in one
>> instance of
>> *"java.util.HashMap$Entry[]"* loaded by *"<system class loader>"*.
>>
> 
> So the memory is used for something useful? That is not a "memory
> leak". It is just a web application requiring a lot of memory.
> 
> WebappClassLoader is the classloader that is used to load the classes
> of your webapp.  Of course, it remembers every class that it loaded
> (to satisfy repeated class.forName() calls) and every class that it
> loads has a reference it it (via getClass().getClassLoader()).
> 
> There may be many classes, but I do not think that the classloader
> itself is responsible for 300 Mb of memory.
> 
>> and the data that is in the entries of the gigantic Map is
>> org.hibernate.impl.SessionFactoryObjectFactory
>>
> 
> That would be a hibernate question. I have no clue what that class is about.
> 
> Best regards,
> Konstantin Kolinko
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 15:23:56 2012
Return-Path: <users-return-234434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 888989D83
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 15:23:56 +0000 (UTC)
Received: (qmail 17167 invoked by uid 500); 24 May 2012 15:23:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17016 invoked by uid 500); 24 May 2012 15:23:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17007 invoked by uid 99); 24 May 2012 15:23:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:23:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 15:23:47 +0000
Received: by yhoo21 with SMTP id o21so10382886yho.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 08:23:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=MHhsgy9GtFrJm58tIy2tO5bfrrYRVrwWadZBl7nxjHI=;
        b=J58BMRIiJMfPnzRCNs0lDbDCrB2FvnG1yiyKzf3OL8C84bkP2FBd+V1Y36bZ4g+TIv
         aPjrtzP50n8c5lFpM415CJD8TrUPdwTvVWFSek76ExiuKa/naFO/uxVBjmuO+cm6HCcq
         7mR/o6h7Zp7fILzv1Sd93dmJvg167qtv4T5z+FBSRZk5rfE1sV6ZjQIKPJlHK7k8bg6f
         F51BApxcUH+Eis7quV5O6cNM/g2+JBC9328T5CJmzKHlBFgVcr5xmper30DXFmA5hXgF
         fkDtIpLLKKMDBWDMSwFVo/THaDUEKPY5XqlWW+mCLYNT+xEm+UBaUn6DDQobGy7wTmbn
         RhCQ==
MIME-Version: 1.0
Received: by 10.50.45.234 with SMTP id q10mr17218843igm.54.1337873005784; Thu,
 24 May 2012 08:23:25 -0700 (PDT)
Received: by 10.231.201.12 with HTTP; Thu, 24 May 2012 08:23:25 -0700 (PDT)
In-Reply-To: <4FBE4E82.1040005@christopherschultz.net>
References: <CAGrg8DWL334+17PdVfFhz=bC6CuRBZ6EZq5UBTfqmJ3Wr-XH7A@mail.gmail.com>
	<CABzHfVmGLEpc-Y4C=UjNh9BsRqDmpzWOz7tJgbZB-LqW+ur1FQ@mail.gmail.com>
	<CAGrg8DUY_ZzHjQfaMkKuSCkRg5jFV-y2AShzjiNE1mfR1xcP7Q@mail.gmail.com>
	<CABzHfVkLwBOmGKhhnpvhjrDQCA=Tx+PkHyU0_+-WhbLNQdJ2bg@mail.gmail.com>
	<CAGrg8DVV3Mv66E_GWSP0Vx1WCXUfJq0TEzhZZVTCFT-_00S03Q@mail.gmail.com>
	<CAGrg8DW2HvaMGfsXYhZbQ_N3z9T6svOw+2-cOQxzJ1Kt3nXGqQ@mail.gmail.com>
	<4FBE49CB.50501@christopherschultz.net>
	<CAGrg8DV=VULLjrrfEVBNv2en=FjLGTOJ3NAmsuE2dv3roVp--w@mail.gmail.com>
	<4FBE4E82.1040005@christopherschultz.net>
Date: Thu, 24 May 2012 12:23:25 -0300
Message-ID: <CAGrg8DVhfwCJ1bgC6XxE+8gA-muMrBy03uhTMyuhy5J3q1v6MQ@mail.gmail.com>
Subject: Re: Shared data source (Bug 49543)
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93403d743acb804c0c9d531

--14dae93403d743acb804c0c9d531
Content-Type: text/plain; charset=ISO-8859-1

Exactly, I had no way of knowing because the documentation of ResourceLink
does not inform these "details". :)

Konstantin was perfect in his description in bugzilla.



On Thu, May 24, 2012 at 12:06 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Robert,
>
> On 5/24/12 10:57 AM, Robert Anderson wrote:
> > Chris,
> >
> > Basically, the ResourceLink documentation doesn't say that to
> > enable shared pool with different credentials:
> >
> > 1) You have to add tomcat-jdbc.jar in Tomcat 6.0 classpath;
> >
> > 2) You have to put the attributes in global resource definition:
> > factory="org.apache.tomcat.jdbc.pool.DataSourceFactory" and
> > alternateUsernameAllowed="true".
>
> Gotcha: you didn't know that this was an example only relevant to
> tomcat-jdbc (not that you should have -- I didn't know, either). I
> thought you were already using tomcat-jdbc and I believe the docs
> there are accurate.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk++ToIACgkQ9CaO5/Lv0PDFHQCgrXsXmL3C/Cc3a74Lt8ul8Ton
> RyQAn0WwW4ZfQVJz3s8pHHh/ulBm7vwX
> =XrXd
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae93403d743acb804c0c9d531--

From users-return-234435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 17:44:42 2012
Return-Path: <users-return-234435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C81AF92D2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 17:44:42 +0000 (UTC)
Received: (qmail 43844 invoked by uid 500); 24 May 2012 17:44:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43797 invoked by uid 500); 24 May 2012 17:44:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43786 invoked by uid 99); 24 May 2012 17:44:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 17:44:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 17:44:33 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 6CF5925DA03
	for <users@tomcat.apache.org>; Thu, 24 May 2012 11:44:12 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 4AAB625DA04; Thu, 24 May 2012 11:44:12 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: : mx-01.formatdynamics.com 1356; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 6BAE925DA03
	for <users@tomcat.apache.org>; Thu, 24 May 2012 11:44:06 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Thu, 24 May 2012 11:44:05 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com>
In-Reply-To: <4FBDB9AD.2070709@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac05ZiyGgTBsD5OTRF+g6HfcUMUZXgAbd6QQ
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Thu May 24 11:44:12 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

> > 1.2.32 and 1.2.35 work fine.
> >
> > [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> > jk_open_socket::jk_connect.c (609): trying to connect socket 22 to
> > 0.0.0.0:0
>=20
> Connecting to 0.0.0.0:0 ?
>=20

Yeah, I balked at that too.

> > [Wed May 23 15:56:32 2012] [32504:1138178368] [debug]
> > jk_open_socket::jk_connect.c (635): socket 22 [errno=3D107] =
connected
>=20
> getsockname fails with errno=3D107 (ENOTCONN)
> Fix your config.

Please point out the workers.properties config line from my OP that's
incorrect. I didn't change configs at all from 1.2.32->1.2.35->1.2.36.
How could the config all of a sudden be incorrect with 1.2.36? The
changelog doesn't mention anything about deprecated or changed
parameters.

-Tony


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 18:56:18 2012
Return-Path: <users-return-234436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8ED0BCFF5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 18:56:18 +0000 (UTC)
Received: (qmail 47683 invoked by uid 500); 24 May 2012 18:56:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47642 invoked by uid 500); 24 May 2012 18:56:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47633 invoked by uid 99); 24 May 2012 18:56:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 18:56:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 18:56:07 +0000
Received: from [192.168.245.129] (p549E0C29.dip0.t-ipconnect.de [84.158.12.41])
	by tor.combios.es (Postfix) with ESMTPA id 8019CDA07D3
	for <users@tomcat.apache.org>; Thu, 24 May 2012 20:55:44 +0200 (CEST)
Message-ID: <4FBE842B.4040109@ice-sa.com>
Date: Thu, 24 May 2012 20:55:39 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Anthony J. Biacco wrote:
> 
> Please point out the workers.properties config line from my OP that's
> incorrect. I didn't change configs at all from 1.2.32->1.2.35->1.2.36.
> How could the config all of a sudden be incorrect with 1.2.36? The
> changelog doesn't mention anything about deprecated or changed
> parameters.
> 

I don't know if it has anything to do with your problem, but

workers.properties settings are:

worker.list=jkstatus,app-03,loadbalancer     <-------------
worker.template.port=8009
worker.template.type=ajp13
worker.template.lbfactor=1
worker.template.connection_pool_timeout=30
worker.template.connect_timeout=30000
worker.template.recovery_options=4
worker.template.reply_timeout=31000
worker.template.socket_timeout=20
worker.template.socket_connect_timeout=5000
worker.template.ping_mode=A
worker.template.ping_timeout=20000
worker.app-03.host=127.0.0.1
worker.app-03.reference=worker.template
worker.jkstatus.type=status
worker.loadbalancer.sticky_session=1
worker.loadbalancer.type=lb
worker.loadbalancer.balance_workers=app-03  <-------------

You have the worker app-03 referenced both as a worker in its own right, and as a balanced 
worker.  Isn't this a bit strange ?
Normally, if it is accessed via the balancer, you do not list it in workers.list.
See http://tomcat.apache.org/connectors-doc/reference/workers.html, "balance_workers"




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 19:41:09 2012
Return-Path: <users-return-234437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 258029C46
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 19:41:09 +0000 (UTC)
Received: (qmail 57707 invoked by uid 500); 24 May 2012 19:41:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57470 invoked by uid 500); 24 May 2012 19:41:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57459 invoked by uid 99); 24 May 2012 19:41:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 19:41:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 19:40:59 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 9967125DA03
	for <users@tomcat.apache.org>; Thu, 24 May 2012 13:40:38 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 78B2325DA04; Thu, 24 May 2012 13:40:38 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: : mx-01.formatdynamics.com 1356; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 7139F25DA03
	for <users@tomcat.apache.org>; Thu, 24 May 2012 13:40:32 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Thu, 24 May 2012 13:40:31 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com>
In-Reply-To: <4FBE842B.4040109@ice-sa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac053ut6Yt31Szq0ReKZ4xz0VM8DLwAArg2g
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Thu May 24 13:40:38 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1


>=20
> You have the worker app-03 referenced both as a worker in its own
right,
> and as a balanced
> worker.  Isn't this a bit strange ?
> Normally, if it is accessed via the balancer, you do not list it in
workers.list.

I have it in the list because sometimes I reference a specific worker in
the jkmount and sometimes the balancer.
Maybe I'll have a balancer with app-01 and app-02 and under normal
circumstances access the a balancer, but then maybe I'll need to test
something and I want to send things to just app-01.
So I'll point the jkmount to app-01. If I take it out of the worker.list
I can't do that.
In this particular environment's config I quoted it doesn't apply since
I only have one worker, but in my prod environment it's like above with
multiple workers.

FWIW, if I point the jkmount to the specific worker (app-03) and not the
loadbalancer it works.
If I take the worker out of the worker.list as your suggest and point my
jkmount to the loadbalancer works, but then I can't point jkmount to a
specific worker, I'll get a 500 error and "Could not find a worker for
worker name=3Dapp-03"

So to get it to work under the previous behavior, I'd have to have 2
workers.
1 worker entry if I want to use it directly (and put into the
worker.list) and 1 worker entry if I want to use it in the loadbalancer.

So basically I'm changing my config (which seems kind of wacky) to:

worker.list=3Djkstatus,app-03-standalone,loadbalancer    =20
worker.app-03.host=3D127.0.0.1
worker.app-03.reference=3Dworker.template
worker.app-03-standalone.host=3D127.0.0.1
worker.app-03-standalone.reference=3Dworker.template
worker.jkstatus.type=3Dstatus
worker.loadbalancer.sticky_session=3D1
worker.loadbalancer.type=3Dlb
worker.loadbalancer.balance_workers=3Dapp-03 =20

I'm still puzzled as to why this behavior just changed between .35 and
.36

-Tony


> See http://tomcat.apache.org/connectors-doc/reference/workers.html,
> "balance_workers"
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 20:51:58 2012
Return-Path: <users-return-234438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8F3AC772
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 20:51:57 +0000 (UTC)
Received: (qmail 55227 invoked by uid 500); 24 May 2012 20:51:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55161 invoked by uid 500); 24 May 2012 20:51:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55148 invoked by uid 99); 24 May 2012 20:51:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 20:51:54 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.71.1.210] (HELO relaygateway01.edpnet.net) (212.71.1.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 20:51:49 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApMBANuevk/V25GM/2dsb2JhbAANN4UxslEBAQEEIys7CxgCAhIBEwICMSYGCAcEARwEhXCqaZJsgSSJdYFsAYIHgRIDlieRTYFWBw
X-IronPort-AV: E=Sophos;i="4.75,653,1330902000"; 
   d="scan'208";a="87473632"
Received: from 213.219.145.140.adsl.dyn.edpnet.net (HELO [192.168.1.13]) ([213.219.145.140])
  by relaygateway01.edpnet.net with ESMTP; 24 May 2012 22:51:25 +0200
Subject: Re: user switching or application interacting with container based
 authentication
From: dirk ooms <dirk@onesparrow.com>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FBE47B8.5040003@christopherschultz.net>
References: <1337814101.1891.45.camel@earth>
	 <4FBE47B8.5040003@christopherschultz.net>
Content-Type: text/plain; charset="UTF-8"
Organization: OneSparrow
Date: Thu, 24 May 2012 22:51:24 +0200
Message-ID: <1337892684.1864.184.camel@earth>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Chris, Andre,

thanks for sharing your thoughts, it helped me to see things more clear.

changing a user object in the session is something i already did. the
problem with this was (and which was triggering my initial question) is
that a new user could have access rights to more functionality than the
first user, but that the access to this functionality is blocked by the
container because of the role based security constraints i have defined
in web.xml (the container does not know that there is a new user with
other roles, so it still applying the access rules of the first user).

anyway to move forward i decided to use the container-managed
authentication just as yes/no to obtain access to the complete
application and to move authorization to the application itself.

thanks,
dirk

On Thu, 2012-05-24 at 10:37 -0400, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Dirk,
> 
> On 5/23/12 7:01 PM, dirk ooms wrote:
> > any hint on fast-user-switching or 
> > applications-interacting-with-container-based-authentication are
> > very welcome.
> 
> We use securityfilter for AAA and the user is stored in the session:
> you can just replace the user object and boom: you are a new user. We
> support "user impersonation" in this way and allows administrators to
> masquerade as another user and then go back to their original login.
> 
> Switching to securityfilter may not be a great plan for you, though
> it's not terribly hard to do. But, its a possibility.
> 
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> 
> iEYEARECAAYFAk++R7gACgkQ9CaO5/Lv0PBVSQCePHZUW/l2Ybdcqegu206zfY+g
> 6rIAniyLbfpW0m96AeietxvHYXysOW7r
> =ROLF
> -----END PGP SIGNATURE-----
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 21:32:33 2012
Return-Path: <users-return-234439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2628796B5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 21:32:33 +0000 (UTC)
Received: (qmail 67417 invoked by uid 500); 24 May 2012 21:32:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67165 invoked by uid 500); 24 May 2012 21:32:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67017 invoked by uid 99); 24 May 2012 21:32:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 21:32:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 21:32:18 +0000
Received: from [192.168.245.129] (p549E0C29.dip0.t-ipconnect.de [84.158.12.41])
	by tor.combios.es (Postfix) with ESMTPA id 503A8DA0920
	for <users@tomcat.apache.org>; Thu, 24 May 2012 23:31:56 +0200 (CEST)
Message-ID: <4FBEA8CA.50802@ice-sa.com>
Date: Thu, 24 May 2012 23:31:54 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>	 <4FBE47B8.5040003@christopherschultz.net> <1337892684.1864.184.camel@earth>
In-Reply-To: <1337892684.1864.184.camel@earth>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

dirk ooms wrote:
> Chris, Andre,
> 
> thanks for sharing your thoughts, it helped me to see things more clear.
> 
> changing a user object in the session is something i already did. the
> problem with this was (and which was triggering my initial question) is
> that a new user could have access rights to more functionality than the
> first user, but that the access to this functionality is blocked by the
> container because of the role based security constraints i have defined
> in web.xml (the container does not know that there is a new user with
> other roles, so it still applying the access rules of the first user).
> 
> anyway to move forward i decided to use the container-managed
> authentication just as yes/no to obtain access to the complete
> application and to move authorization to the application itself.
> 

How about your barcode (or card or whatever) idea, to allow users to switch id on-the-fly 
? I am curious as to how you implement that.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 24 23:09:54 2012
Return-Path: <users-return-234440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79A93C2D7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 24 May 2012 23:09:54 +0000 (UTC)
Received: (qmail 87779 invoked by uid 500); 24 May 2012 23:09:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87527 invoked by uid 500); 24 May 2012 23:09:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87516 invoked by uid 99); 24 May 2012 23:09:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 23:09:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.71.1.211] (HELO relaygateway02.edpnet.net) (212.71.1.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 May 2012 23:09:43 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApMBAL++vk/V25GM/2dsb2JhbAANN4U0slQBAQQjKzsLGgIUEgICMSYGCAcEARwEsF2SV4EkiW8GghiCAoESA6dqgVQCBxk
X-IronPort-AV: E=Sophos;i="4.75,653,1330902000"; 
   d="scan'208";a="82108414"
Received: from 213.219.145.140.adsl.dyn.edpnet.net (HELO [192.168.1.13]) ([213.219.145.140])
  by relaygateway02.edpnet.net with ESMTP; 25 May 2012 01:09:22 +0200
Subject: Re: user switching or application interacting with container based
 authentication
From: dirk ooms <dirk@onesparrow.com>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FBEA8CA.50802@ice-sa.com>
References: <1337814101.1891.45.camel@earth>
	 <4FBE47B8.5040003@christopherschultz.net> <1337892684.1864.184.camel@earth>
	 <4FBEA8CA.50802@ice-sa.com>
Content-Type: text/plain; charset="UTF-8"
Organization: OneSparrow
Date: Fri, 25 May 2012 01:09:21 +0200
Message-ID: <1337900961.1799.24.camel@earth>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit


> > 
> 
> How about your barcode (or card or whatever) idea, to allow users to switch id on-the-fly 
> ? I am curious as to how you implement that.

after some user has logged in in a 'normal/standard' way (using e.g.
form-based, container-managed), there is a text input field in the
header of the secured web page. if another user scans his personal
barcode which could be e.g. a hash of his username and his hashed
password into this field, there will be a switch to this new user (just
by setting its 'user object' in the session). to validate this hash, the
application just loops over the limited number of users of that specific
(small) company to find a match. the container is no longer involved in
authorization, the existing session is reused by the new user. this
method has the advantage that one can only switch between users of the
same 'company/shop' and that someone of that company must have logged in
in a standard way before any user switching becomes possible.

dirk


> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 01:08:10 2012
Return-Path: <users-return-234441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40AC8C9B4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 01:08:10 +0000 (UTC)
Received: (qmail 10435 invoked by uid 500); 25 May 2012 01:08:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10374 invoked by uid 500); 25 May 2012 01:08:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10364 invoked by uid 99); 25 May 2012 01:08:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 01:08:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 01:08:00 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id E03C1j00A1swQuc5F17f5r; Fri, 25 May 2012 01:07:39 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id E17e1j00k38FjT13b17fEb; Fri, 25 May 2012 01:07:39 +0000
Message-ID: <4FBEDB5A.8020805@christopherschultz.net>
Date: Thu, 24 May 2012 21:07:38 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: user switching or application interacting with container based
 authentication
References: <1337814101.1891.45.camel@earth>  <4FBE47B8.5040003@christopherschultz.net> <1337892684.1864.184.camel@earth>
In-Reply-To: <1337892684.1864.184.camel@earth>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dirk,

On 5/24/12 4:51 PM, dirk ooms wrote:
> changing a user object in the session is something i already did.

I misspoke: SF stores the /user principal/ in the session. When you
change that, the identity of the current user (roles and all) changes.
Note that this is *not* container-managed security.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk++21oACgkQ9CaO5/Lv0PAd7ACff4eeBaBZVryXqmG3/Shj62hJ
/hIAn3thz6husf/WnbJ4HYwCxNW+J82J
=mWc5
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 04:46:04 2012
Return-Path: <users-return-234442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6B3DCD0E
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 04:46:04 +0000 (UTC)
Received: (qmail 99272 invoked by uid 500); 25 May 2012 04:46:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98881 invoked by uid 500); 25 May 2012 04:46:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98853 invoked by uid 99); 25 May 2012 04:45:59 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 04:45:59 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 04:45:58 +0000
Message-ID: <4FBF0E85.9030809@apache.org>
Date: Fri, 25 May 2012 06:45:57 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/24/2012 09:40 PM, Anthony J. Biacco wrote:
>
>
> I'm still puzzled as to why this behavior just changed between .35 and
> .36
>

OK, but if you follow the recommended configuration
by making sure that workers which are members of lb are not
listed inside worker.list, does it works?


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 05:26:05 2012
Return-Path: <users-return-234443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7260C9B4D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 05:26:05 +0000 (UTC)
Received: (qmail 87312 invoked by uid 500); 25 May 2012 05:26:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86689 invoked by uid 500); 25 May 2012 05:26:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86648 invoked by uid 99); 25 May 2012 05:26:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 05:26:00 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aman.arora051@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 05:25:54 +0000
Received: by werf3 with SMTP id f3so434425wer.18
        for <users@tomcat.apache.org>; Thu, 24 May 2012 22:25:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=omNV3i8fLFBHXgvqUGQYrFIbkxf9r8B+RfXMBalgIXA=;
        b=AzrxAu1DCh79OmgHpvJY4X6V2+28nAZjImCg9b3KeOmo+T+73gqaAT8wSgPvapG1Dp
         wNIlz316iEgkQWwkWN61FluEHuEbIyR7cWs3xP842CQEIPwodeBx+eb+kOIoZl8uhpbb
         js7pD6YrN70OdHfBGBw6XFoP/oq5TBs2lbUYTHqJC+w7XgWsD4iMHhXqtt7apfCWvMd4
         kpOBNayrxATEo7MmsshQFS2rgfrHzWZdnyJlYqtZUKI2C94ZOmzKt1kalr0+ojlhVdRn
         81s+e/h1KxI4vOXj9Z7doWCsPvydDNaJfnBaK1Gx4dxyuNvTzkoyIkhDvitsiX/ZXLnI
         ZDCg==
MIME-Version: 1.0
Received: by 10.180.80.228 with SMTP id u4mr4181723wix.5.1337923533946; Thu,
 24 May 2012 22:25:33 -0700 (PDT)
Received: by 10.216.237.194 with HTTP; Thu, 24 May 2012 22:25:33 -0700 (PDT)
Date: Fri, 25 May 2012 10:55:33 +0530
Message-ID: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
Subject: mod_jk not working !!
From: Aman Arora <aman.arora051@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d044288d4fa40dd04c0d59826

--f46d044288d4fa40dd04c0d59826
Content-Type: text/plain; charset=ISO-8859-1

 m trying to do a setup of tomcat clustering in which one tomcat is on port
8080 and other one is on 8081.
i have downloaded the tomcat-connector in the modules folder of my apache.i
built it using build-unix.sh by downloading the script from net as it was
nt already there in the downloaded tomcat-connector. it buit mod_jk.so
which i have placed inside modules folder as
/usr/local/apache2/modules/mod_jk.so
then i created workers.properties file and gave the description of workers
there .and included it in httpd.cong file .
still when i type http://localhost/jsp-pages which are in my webapps / it
is not passing requast to tomcat which is holding the js pages.
you may hav a look at the conf files to get a better fel of the problem !
the link is
http://www.coderanch.com/t/581294/Tomcat/Tomcat-Clustering#2648034

--f46d044288d4fa40dd04c0d59826--

From users-return-234444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 08:15:04 2012
Return-Path: <users-return-234444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6BFFC8AA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 08:15:04 +0000 (UTC)
Received: (qmail 62026 invoked by uid 500); 25 May 2012 08:15:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61228 invoked by uid 500); 25 May 2012 08:14:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61015 invoked by uid 99); 25 May 2012 08:14:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 08:14:57 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vadzim.mikhalenak@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 08:14:50 +0000
Received: by ggnp1 with SMTP id p1so747400ggn.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 01:14:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tlgtHMwTL714bVBPYdXpnb0wHnA8TW4xVhzXkdTBt9I=;
        b=xwdxe7LbUUpXY3XxIP0IXPUj6IN4O5lkg/14l2VtbOWEEJMdcusG+R5nenvL0vySWE
         csS9lnAcKJfQRImKf2m5MvtPvN+aprzDxvSNvCwWGHQB/GD56Fg29U7S/agNNRMpIHkS
         EHH4h8ynWFOKi8cEpoIAwFtP55cYblZbRLdEwhqXg8QkfZLjY7oQtj2zgvKoh7lwlqo2
         1zAhiYDQb8be7PmAif+TpJnBchn2njlpWE/gmzoIpGCGLHuQXj7zkIt3Xg7Vq9Xp7KBn
         YECqNiKYktTCQzBxE6WXKQq0C2/GxRqouNBGz8VBVsXq1WLYy5BVgk2cZK3GD27vfwLb
         oWiw==
MIME-Version: 1.0
Received: by 10.50.179.103 with SMTP id df7mr1693517igc.35.1337933669435; Fri,
 25 May 2012 01:14:29 -0700 (PDT)
Received: by 10.64.127.36 with HTTP; Fri, 25 May 2012 01:14:29 -0700 (PDT)
In-Reply-To: <B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de>
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com>
	<4FBBE75D.2050308@christopherschultz.net>
	<CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com>
	<CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com>
	<CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
	<B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de>
Date: Fri, 25 May 2012 11:14:29 +0300
Message-ID: <CAJHUnpgyLOwRSxHMBP8bWFH5h-UrtpbPV5j020p5KJ=z9FwsoQ@mail.gmail.com>
Subject: Re: Tomcat 7. MX4J
From: Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340451198a6604c0d7f531

--14dae9340451198a6604c0d7f531
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Thu, May 24, 2012 at 1:19 PM, Peter Ro=DFbach <pr@objektpark.de> wrote:

> HI Vadzim,
>
> as you like a hot HTTP-JMX access use
>
> http://www.jolokia.org/
>
> chili...
>
> Peter
>
>
> Am 23.05.2012 um 00:06 schrieb Vadzim Mikhalenak:
>
> > On Wed, May 23, 2012 at 12:31 AM, Konstantin Kolinko <
> knst.kolinko@gmail.com
> >> wrote:
> >
> >> 2012/5/22 Vadzim Mikhalenak <vadzim.mikhalenak@gmail.com>:
> >>> Hello  Christopher,
> >>> *
> >>> *
> >>> Thank you for the reply! Yes, link
> >>> http://tomcat.apache.org/tomcat-5.5-doc/monitoring.html is for versio=
n
> >> 5.5
> >>> but we are migrating from version 6 (sorry for the confusion) but the
> >>> configuration above was valid for version 6
> >>>
> >>
> >> It works (or at least tries to start, to my surprise) in Tomcat 6 with
> >> this particular AJP/1.3 connector implementation, but it is not
> >> documented and not supported.  Other connectors do not support those
> >> attributes and this one was removed from Tomcat 7.
> >>
> >> Tomcat 6 and 7 use JMX support provided by JRE and if you need http
> >> access to it, the common way is to use "JMXProxy" servlet that is part
> >> of the manager webapp.
> >>
> >> It is all is documented
> >> http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html
> >>
> >>
> http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Using_the_JMX_=
Proxy_Servlet
> >>
> >> or see the same docs for Tomcat 7.
> >>
> >>
> >>
> >>> <Connector port=3D"${AJP.PORT}"
> >>>           handler.list=3D"mx"
> >>>           mx.enabled=3D"true"
> >>>           mx.httpHost=3D"${JMX.HOST}"
> >>>           mx.httpPort=3D"${JMX.PORT}"
> >>>           protocol=3D"AJP/1.3" />
> >>>
> >>>
> >>> *
> >>> *
> >>> and gave us opportunity to manage JMX beans using  http://
> >>> ${JMX.HOST}:${JMX.PORT} (please see
> >>>
> >>
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.g=
if
> >>> )
> >>> In version 7 I couldn't see any possibility to do it.
> >>> I've noticed that in Connector class of version 6
> >>> if ("AJP/1.3".equals(protocol)) {
> >>>               setProtocolHandlerClassName
> >>>                   ("org.apache.jk.server.JkCoyoteHandler");
> >>>
> >>> org.apache.jk.server.JkCoyoteHandler used JkMain which used JkMX wher=
e
> >>> HttpAdapter from mx4j-tool.jar was used.
> >>>
> >>> but in version 7
> >>> else if ("AJP/1.3".equals(protocol)) {
> >>>               setProtocolHandlerClassName
> >>>                   ("org.apache.coyote.ajp.AjpAprProtocol");
> >>>
> >>>
> >>>
> >>> So do we have possibility to manage JMX beans in version 7 as we coul=
d
> in
> >>> version 6? (please see
> >>>
> >>
> http://logback.qos.ch/manual/images/chapters/jmxConfigurator/mx4j_jetty.g=
if
> >>> )
> >>>
> >>
> >> Please
> >> 1. Post your response below the text that you are replying to (aka "do
> >> not top-post")
> >> 2. Do not cross-post questions between users@ and dev@ lists.
> >>
> >> This one belongs to users@.
> >>
> >> Best regards,
> >> Konstantin Kolinko
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >> Hi,
> >
> > Thanks for the reply.
> > I know about JMX Proxy Servlet but it was more preferable to use MX4J
> page
> > and I thought there is simple way to configure it (as it was configured
> in
> > 6 version).
> > I'll be looking for solution to get mx4j page working.
> > Thanks again for your help!
> > Sorry for the trouble.
> >
> > Best regards,
> > Vadim.
>
> Hello  Peter,
>

Thanks for the link. May be I'll try it soon :)

Best regards,
Vadim.

> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9340451198a6604c0d7f531--

From users-return-234445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 09:04:36 2012
Return-Path: <users-return-234445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3D5D97CB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 09:04:36 +0000 (UTC)
Received: (qmail 68193 invoked by uid 500); 25 May 2012 09:04:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67840 invoked by uid 500); 25 May 2012 09:04:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67803 invoked by uid 99); 25 May 2012 09:04:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 09:04:30 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.34] (HELO nm24-vm0.bullet.mail.ne1.yahoo.com) (98.138.90.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 May 2012 09:04:19 +0000
Received: from [98.138.90.52] by nm24.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 09:03:58 -0000
Received: from [98.138.89.250] by tm5.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 09:03:58 -0000
Received: from [127.0.0.1] by omp1042.mail.ne1.yahoo.com with NNFMP; 25 May 2012 09:03:58 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 152283.5262.bm@omp1042.mail.ne1.yahoo.com
Received: (qmail 79384 invoked by uid 60001); 25 May 2012 09:03:58 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337936638; bh=XgBhns0ePqAvmuajQsrJH24X8er6twxEJ+8fsAZFK2Y=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=wGz9yXKl7YrYojQDIeAQHuravN8XzHyikZ+F4dWT0Bz9KMTovqDgBbnimw+lnEoUgIG3+GEioWYon58b2sTgryNgrO+pGCXFmfs3Uo/Bi3n3CJpWYGkYlYXBK1X6fjmhI9zGk0fgEI8fJ7X6TyTKkehv1fOpNkoTKOHnHlUlR5w=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=HARVpZRsApd7aRioZk8wI7XmZHQ1kTO1L27sJimRP75QNELizhL03JMc030UrXas9PFT41EqARNKK0HAqRPv1K7K4+g4o8Mtrkb3gJ7N0UsNzjpwObCob2tjEyDhk1yF7EvArTOScBpEULSB3HiLA+Y7OjV724+ZXJGQD9ImxLI=;
X-YMail-OSG: 6Zbu.EEVM1mL32LjwMZReDIzKNK5ITwXAwRpfHvU7hsWC5i
 1iHWfCK8QmccZT5QOoDy8wl13hlNZ9.5ckcnxOGA93tJy4qsLwd_EZQ3ncpA
 rfk6dNYMDwa0QEDjFZ7JmgBCQ9A.rJ9lLBEi9OOe2boERdBG1NvbHBBZMztA
 LI_kdXc3zCG2f2CFQWkm61z6cikpNpM9uLZvTPPj77MaFu4Z2z_JXne7gmwi
 LPUnHT1We3Aiqd7qBsgoDvndrqp946SWWakoPf2p5DT2kHWlXEo8cO8ibsIf
 GI1gcQMMxpWkveunJdGl8J.aS4HRs06jhfq_1MW_nik8TsjH97YuseF5TVaL
 zkT9goaerI60dg8ma2fV6qe3ZOJcnin2jqbeO4.Sphrry3Owt2ikSmLUu0IB
 a7vHTSzovy8YNS5Q2kLK1wNR3
Received: from [62.134.46.5] by web122302.mail.ne1.yahoo.com via HTTP; Fri, 25 May 2012 02:03:58 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com> <4FBBE75D.2050308@christopherschultz.net> <CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com> <CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com> <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com> <B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de> <CAJHUnpgyLOwRSxHMBP8bWFH5h-UrtpbPV5j020p5KJ=z9FwsoQ@mail.gmail.com>
Message-ID: <1337936638.59836.YahooMailNeo@web122302.mail.ne1.yahoo.com>
Date: Fri, 25 May 2012 02:03:58 -0700 (PDT)
From: Hermes Flying <flyinghermes@yahoo.com>
Reply-To: Hermes Flying <flyinghermes@yahoo.com>
Subject: After going to Tomcat 6 I get log4j problems. Why?
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAJHUnpgyLOwRSxHMBP8bWFH5h-UrtpbPV5j020p5KJ=z9FwsoQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1800448838-1310673413-1337936638=:59836"

--1800448838-1310673413-1337936638=:59836
Content-Type: text/plain; charset=us-ascii

Hi,

I have upgraded from Tomcat 5.5 to Tomcat 6.0.35
I am getting java.lang.NoClassDefFoundError: org.apache.commons.logging.LogFactory
I didn't have this problem before.
Note that I have commons-logging already in my web apps WEB-INF\lib
And this exception is from a class (custom class) running from a jar in %TOMCAT_HOME%\lib
If I drop commons-logging in %TOMCAT_HOME%\lib the exception does not happen BUT now I get exceptions in log4j from inside my web app.
I tried also deleting the commons-logging from %TOMCAT_HOME%\webapps\myApp\WEB-INF\lib but no success.

Any idea what is the problem here?

--1800448838-1310673413-1337936638=:59836--

From users-return-234446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 09:10:01 2012
Return-Path: <users-return-234446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88C2197ED
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 09:10:01 +0000 (UTC)
Received: (qmail 81032 invoked by uid 500); 25 May 2012 09:09:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80960 invoked by uid 500); 25 May 2012 09:09:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80946 invoked by uid 99); 25 May 2012 09:09:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 09:09:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 09:09:50 +0000
Received: from [192.168.245.129] (p549E8C94.dip0.t-ipconnect.de [84.158.140.148])
	by tor.combios.es (Postfix) with ESMTPA id 84C22DA0777
	for <users@tomcat.apache.org>; Fri, 25 May 2012 11:09:28 +0200 (CEST)
Message-ID: <4FBF4C46.8060007@ice-sa.com>
Date: Fri, 25 May 2012 11:09:26 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_jk not working !!
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
In-Reply-To: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

That's strange.  It's working fine for many other people, on thousands of websites.

Maybe it is your configuration that is not working ?

"xxxx is not working !!" is about the best subject that can be imagined, if your intention 
was to not get any response at all.  The only missing parts are capitals and the word 
"URGENT".

And if you believe that anyone is going to walk through the hundreds of lines of your 
configuration files, trying to figure out what you did wrong, then you have a surprise coming.

You really need to read this : http://www.catb.org/~esr/faqs/smart-questions.html

When you have read it, post another message to the list, with a better subject and the 
/relevant/ parts of your configuration, and maybe someone will feel like helping.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 09:29:25 2012
Return-Path: <users-return-234447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D0C6CAB1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 09:29:25 +0000 (UTC)
Received: (qmail 34269 invoked by uid 500); 25 May 2012 09:29:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33975 invoked by uid 500); 25 May 2012 09:29:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33949 invoked by uid 99); 25 May 2012 09:29:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 09:29:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knobisoft@googlemail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 09:29:15 +0000
Received: by ggnp1 with SMTP id p1so796306ggn.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 02:28:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=AynRSNOErKHOaPPE2Zx/HpTpst3fwlDwCYQfK6zFAns=;
        b=GyLhvTsOqUQsxvuHmpIGYd14cs9kjKtXRP1Obz/L5Q0YzJnwbBE3WBT/m7Kd2j3yPS
         u1qV6tRPqR9Z7k1/Z8IZxfy8nGpyVLdoWHZ1i2aPSKL1qoHq4UwT8TFyH2W07ok8RvDp
         H60MzXw3HAtYenFHSlT7Yc0izBAQMEKn46383jlFfqSkroy1mJnz6EmbIsJ5JxliHmUs
         HdK9MyaC8TmOFb9B6xCqGkAszNI9vgPfFUgphwCbbyNVjxrdGPq/VrkqYPgqOPkf9E81
         KjHv/jNqvn7BncsTIa+kxFJRBKwegfVy0GZ2ABUZyzouR0vsa0YrBk1hE2N2DIppCBUp
         Evgw==
MIME-Version: 1.0
Received: by 10.60.172.50 with SMTP id az18mr2524943oec.21.1337938134691; Fri,
 25 May 2012 02:28:54 -0700 (PDT)
Received: by 10.182.17.169 with HTTP; Fri, 25 May 2012 02:28:54 -0700 (PDT)
In-Reply-To: <4FBF0E85.9030809@apache.org>
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
	<4FBDB9AD.2070709@apache.org>
	<40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com>
	<4FBE842B.4040109@ice-sa.com>
	<40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com>
	<4FBF0E85.9030809@apache.org>
Date: Fri, 25 May 2012 11:28:54 +0200
Message-ID: <CAJtcoLa1FcgicqP-vK0K9ps=PdOYNjxsiXr4-NSrZcCNUoU+SA@mail.gmail.com>
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
From: Martin Knoblauch <knobisoft@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, May 25, 2012 at 6:45 AM, Mladen Turk <mturk@apache.org> wrote:
> On 05/24/2012 09:40 PM, Anthony J. Biacco wrote:
>>
>>
>>
>> I'm still puzzled as to why this behavior just changed between .35 and
>> .36
>>
>
> OK, but if you follow the recommended configuration
> by making sure that workers which are members of lb are not
> listed inside worker.list, does it works?
>
>

 The question is, is this a recommendation or a restriction that
should be enforced? Maybe a warning about this, apparently common,
[mis-]configuration should be issued at module configuration time?

Cheers
Martin

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 11:30:05 2012
Return-Path: <users-return-234448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71C24CDDF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 11:30:05 +0000 (UTC)
Received: (qmail 22314 invoked by uid 500); 25 May 2012 11:30:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22237 invoked by uid 500); 25 May 2012 11:30:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22177 invoked by uid 99); 25 May 2012 11:29:59 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 11:29:59 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 11:29:58 +0000
Message-ID: <4FBF6D35.4050009@apache.org>
Date: Fri, 25 May 2012 13:29:57 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <CAJtcoLa1FcgicqP-vK0K9ps=PdOYNjxsiXr4-NSrZcCNUoU+SA@mail.gmail.com>
In-Reply-To: <CAJtcoLa1FcgicqP-vK0K9ps=PdOYNjxsiXr4-NSrZcCNUoU+SA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/25/2012 11:28 AM, Martin Knoblauch wrote:
> On Fri, May 25, 2012 at 6:45 AM, Mladen Turk<mturk@apache.org>  wrote:
>> On 05/24/2012 09:40 PM, Anthony J. Biacco wrote:
>>>
>>>
>>>
>>> I'm still puzzled as to why this behavior just changed between .35 and
>>> .36
>>>
>>
>> OK, but if you follow the recommended configuration
>> by making sure that workers which are members of lb are not
>> listed inside worker.list, does it works?
>>
>>
>
>   The question is, is this a recommendation or a restriction that
> should be enforced? Maybe a warning about this, apparently common,
> [mis-]configuration should be issued at module configuration time?
>

Hmm, I still didn't get the response if it works in case
member workers are not in the worker.list.

But you are right. Before 1.2.36 we just created another worker
slot in shared memory. Now it's allocated 'by name' so it can
create problems if the same name is declared both as standalone
ajp13 worker and load balancer member.

I'm sure that once we had 'must not be in worker.list',
but someone changed that to 'should' inside
http://tomcat.apache.org/connectors-doc/reference/workers.html
(see balance_workers directive)


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 12:29:41 2012
Return-Path: <users-return-234449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F06BD9E98
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 12:29:40 +0000 (UTC)
Received: (qmail 66728 invoked by uid 500); 25 May 2012 12:29:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66279 invoked by uid 500); 25 May 2012 12:29:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66258 invoked by uid 99); 25 May 2012 12:29:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 12:29:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 12:29:28 +0000
Received: by dadv2 with SMTP id v2so1471429dad.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 05:29:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4XdPlIubK6XyzjYHPv7l3i9rcYXM47zQIs0+LL23Gmk=;
        b=wEV+XUdr0EMkHdCkKORQfP4Ej2KbG2aQdyIrBzrjuY9srK3M841vkw9gz4dLVpWmx0
         cpzyk5Czdg9sZqtmwopHyKmBsmjvoO/ou5MnSFU5Z7PPVp60SJsIjFTIrLi0IwyDK6ar
         B71APKtiaHXV060wUx9DTMIXMtcfLq1ZUyuYpWyk+MRwTn16qBSma7nG614f+MLPSxTF
         0DXTv9sqMRpQHpDDllaFcWhbNNvC+oeE+lTGM/eb4ZNdCDXqLwBfz+UessEWltKIQ2us
         Emu4BZH8TsAboEGKoF++1UdmABE4P6xJFIBZHfVMcbHKyczEyBYwmgpGDGSFTacqCuwq
         r7cg==
MIME-Version: 1.0
Received: by 10.68.190.39 with SMTP id gn7mr32423655pbc.5.1337948948074; Fri,
 25 May 2012 05:29:08 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Fri, 25 May 2012 05:29:07 -0700 (PDT)
In-Reply-To: <1337936638.59836.YahooMailNeo@web122302.mail.ne1.yahoo.com>
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com>
	<4FBBE75D.2050308@christopherschultz.net>
	<CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com>
	<CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com>
	<CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com>
	<B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de>
	<CAJHUnpgyLOwRSxHMBP8bWFH5h-UrtpbPV5j020p5KJ=z9FwsoQ@mail.gmail.com>
	<1337936638.59836.YahooMailNeo@web122302.mail.ne1.yahoo.com>
Date: Fri, 25 May 2012 16:29:07 +0400
Message-ID: <CABzHfVmi69HhNyP6TQq92kCVBymJ6gVKQL_CjFsVoAOJvXAK6w@mail.gmail.com>
Subject: Re: After going to Tomcat 6 I get log4j problems. Why?
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/25 Hermes Flying <flyinghermes@yahoo.com>:
> Hi,
>
> I have upgraded from Tomcat 5.5 to Tomcat 6.0.35
> I am getting java.lang.NoClassDefFoundError: org.apache.commons.logging.LogFactory
> I didn't have this problem before.
> Note that I have commons-logging already in my web apps WEB-INF\lib
> And this exception is from a class (custom class) running from a jar in %TOMCAT_HOME%\lib
>
> If I drop commons-logging in %TOMCAT_HOME%\lib the exception does not happen BUT now I get exceptions in log4j from inside my web app.
> I tried also deleting the commons-logging from %TOMCAT_HOME%\webapps\myApp\WEB-INF\lib but no success.
>
> Any idea what is the problem here?

Your description is too generic to say.

You do not say what jars are exactly where and what actual
configuration (server.xml and logging) you have.

See
1) "Class Loading" page in documentation.

Placing custom jars into %TOMCAT_HOME%\lib is usually a bad idea.

I'd suspect that one of them is the culprit.

2) "Logging" page in documentation.

Compare it with your configuration.  It might be that you config
matches some of the steps for "enabling log4j" described there, but
not all of them. Note that using log4j in Tomcat is not the default
configuration.

3) Apache Commons Logging documentation
http://commons.apache.org/logging/guide.html

Especially how commons-logging switches between java.util.logging and
log4j (preferring the latter if it is available).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 12:31:10 2012
Return-Path: <users-return-234450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36E799305
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 12:31:10 +0000 (UTC)
Received: (qmail 82780 invoked by uid 500); 25 May 2012 12:31:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82589 invoked by uid 500); 25 May 2012 12:31:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82571 invoked by uid 99); 25 May 2012 12:31:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 12:31:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 12:30:59 +0000
Received: by eekd41 with SMTP id d41so378626eek.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 05:30:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=K/ejoeyToV12sMxWBG51+aY6Pyrl/mnAEVsfcKqP3GQ=;
        b=A2njk3GswoyQbg1in4n1Ep/CsqCMfQdp6rBJ62NEsrOX1nJVVa1/gkoKkKiSvWZa0E
         ZFEZQs13y+SjhY/tr6vSiX8pmUwBL1UnxqwuCMbzMymX6Tb1F6Lvjrb3k0dTMaGQtPMX
         TXv8VJOu8EgyTtEMcOyVaoc73yFmtZYhqwM78=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=K/ejoeyToV12sMxWBG51+aY6Pyrl/mnAEVsfcKqP3GQ=;
        b=MFJuxmRTsCXL2AQ1ZELKbjVeyzGYJ0XQ7qTnfEjNiztTcGHzfTlqM+JB3Sl/Br7TAJ
         RKy51CDmRjd6XSRN1ob5Zvkg+zOu+T0pxG/MFvpFrCnVvFFTMY++mxSArVnOuoXbHzYS
         qRdrIIN1Z4cncuCv3g6ZO1aCY0DRE360a6KFxs5HvmoCalxY9Wwuev6N1jPxmwn9bP8x
         h3juNIYZGGeSjfhntCbzAgyyQto6AnkmTZAAFgOntHWmEnOIfqOc6/VWECVVCHkhuhlv
         JO86Q7UDHiesSKJMPV2FovpWhOahHfLEF0QQHYscDSupPjT/LY8IgAIx5rAaehj6Y79b
         tq4Q==
Received: by 10.14.27.136 with SMTP id e8mr606218eea.156.1337949037244;
        Fri, 25 May 2012 05:30:37 -0700 (PDT)
Received: from Asura.local ([82.109.183.226])
        by mx.google.com with ESMTPS id z47sm6783979een.5.2012.05.25.05.30.35
        (version=SSLv3 cipher=OTHER);
        Fri, 25 May 2012 05:30:36 -0700 (PDT)
Message-ID: <4FBF7B6A.5010600@pidster.com>
Date: Fri, 25 May 2012 13:30:34 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: After going to Tomcat 6 I get log4j problems. Why?
References: <CAJHUnphEHVr9zdSNC6NedX++HNd5tPO_RaUn76Jc1J6_Sv0xvw@mail.gmail.com> <4FBBE75D.2050308@christopherschultz.net> <CAJHUnphEv71OTLfZzf-o=SCof1sktzL02kPggFaEQ_8m5uoOZg@mail.gmail.com> <CABzHfV=M490312-jH55cGfAKHh99XQMEBdxNREV70HOwVoq70Q@mail.gmail.com> <CAJHUnpggBpcSNz_5pG_=MfX8fSUsGpLv7e=eiLL4ehVRS8J_1w@mail.gmail.com> <B4C123A0-5D64-423E-ADCF-F0D095DEAD7D@objektpark.de> <CAJHUnpgyLOwRSxHMBP8bWFH5h-UrtpbPV5j020p5KJ=z9FwsoQ@mail.gmail.com> <1337936638.59836.YahooMailNeo@web122302.mail.ne1.yahoo.com>
In-Reply-To: <1337936638.59836.YahooMailNeo@web122302.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig7651033F7FCB3027AD24812F"
X-Gm-Message-State: ALoCoQn/qcBIIV54dR3xM6jVs2sbu5bRu0g+kjfEa1K0x2Cxe+H813RX2kIUfnL+JGaD4m5JLEY4
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig7651033F7FCB3027AD24812F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 25/05/2012 10:03, Hermes Flying wrote:
> Hi,
>=20
> I have upgraded from Tomcat 5.5 to Tomcat 6.0.35
> I am getting java.lang.NoClassDefFoundError: org.apache.commons.logging=
=2ELogFactory
> I didn't have this problem before.
> Note that I have commons-logging already in my web apps WEB-INF\lib
> And this exception is from a class (custom class) running from a jar in=
 %TOMCAT_HOME%\lib
> If I drop commons-logging in %TOMCAT_HOME%\lib the exception does not h=
appen BUT now I get exceptions in log4j from inside my web app.
> I tried also deleting the commons-logging from %TOMCAT_HOME%\webapps\my=
App\WEB-INF\lib but no success.
>=20
> Any idea what is the problem here?

Please start a new thread, rather than hijacking an existing thread, by
editing a subject/body.


p



--=20

[key:62590808]


--------------enig7651033F7FCB3027AD24812F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPv3ttAAoJEGoM2OGpOvr98YkP/3DkTQv1daAJQmEXa9LP+nC6
tOQI8ESNa7nvBzPnjggrNanTWB/eY6KNlW1ag5WPeZIqJv6du1X8PhuoOJTWikyh
mMnUke1b35va+u1ylDMYjZ9Z1IaLt9RmiyOWotC8mmODDS7CiLIwiIjQ40AxvwiH
Z4EjvCdIbQ8wmDo8P1NW3tfaBbV4sOOUmsoocMz5jIzF/ZwTZTVaHYuIDqbPCQBF
ZlgEjTVJqqthV7vArCVLz03PKiqsU2+w1mczEMB6fNJRSly1fD76iI+k1nYZnZ43
NmajBI0Krnd7Rc7F8Kkt+zdQUOzai4GiX34GbHreXtjSfb4LXr3NNmRjut2gc/ZV
5uwNoJvHzHZfBtZclDluxmYY4ZQPkkqbOLkCicJfBqQtfF8pYf9eQFbgr5HcQgE+
xqO1TlG/FrHA48EM8mNf5HQsFWY1XsY44ReRVe+wC2BRQHkxdCxAoMnGlPR5Rxr5
0DP0U2gjlULTzT/9DhjClV9LC+LZrSpDo4/XreRfsADRzUvQJn2zoCmTFmuDR9AT
53FKr4rcdWCHYzwKpLRhHHkhRuPqVSk5jtGziZ3bXwdI+jRMS51SU/IEzkbWWtTQ
Lazj5cn1+p/fSmBd/v6BlMZC9UYbtmaM4Jp1PTeHsTytD6QDS2//IBR2Vdmn3cWE
mY7tUqbyYwGieVPa4eEj
=vyhw
-----END PGP SIGNATURE-----

--------------enig7651033F7FCB3027AD24812F--

From users-return-234451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 13:32:22 2012
Return-Path: <users-return-234451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DD87C034
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 13:32:22 +0000 (UTC)
Received: (qmail 39632 invoked by uid 500); 25 May 2012 13:32:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39548 invoked by uid 500); 25 May 2012 13:32:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39539 invoked by uid 99); 25 May 2012 13:32:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 13:32:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knobisoft@googlemail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 13:32:12 +0000
Received: by obbwd20 with SMTP id wd20so1744542obb.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 06:31:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=XOfHVw7i6MhUapt6lgT1sx3HimNsEhzsrsQjflKbGQs=;
        b=v0Zxsf7FKaolAyvts6EQifFnYE4YomLDyOCfQd0C5evGeBa6KReMxOeFAiYbegvrzq
         91syKeI8PODeB/cw86FELt0AwTp3UYQITMrGxrsCzsBRrIR4BsSzxi7kR+E/tihHVKiM
         0civ97T5MUBA/rdhBj+tT1/pgNfhGTVxmwisZQqTfz9OW8aGO71lW9f6++lwzCOENdUQ
         fwEL3485r2qHbK5x5QBA6rMNLhTWGI92Ui7iDRFvoWNCn3iBlUU5u2i4Vzp3Ma+DSJ40
         OeOxq6v3BpgfXwuywcV6xYiNxDkjIpd4ws830T9ku02a2ZntuYodTFS5nSeVAh9clY1A
         tbBA==
MIME-Version: 1.0
Received: by 10.182.152.72 with SMTP id uw8mr3090356obb.73.1337952706671; Fri,
 25 May 2012 06:31:46 -0700 (PDT)
Received: by 10.182.17.169 with HTTP; Fri, 25 May 2012 06:31:46 -0700 (PDT)
In-Reply-To: <4FBF6D35.4050009@apache.org>
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com>
	<4FBDB9AD.2070709@apache.org>
	<40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com>
	<4FBE842B.4040109@ice-sa.com>
	<40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com>
	<4FBF0E85.9030809@apache.org>
	<CAJtcoLa1FcgicqP-vK0K9ps=PdOYNjxsiXr4-NSrZcCNUoU+SA@mail.gmail.com>
	<4FBF6D35.4050009@apache.org>
Date: Fri, 25 May 2012 15:31:46 +0200
Message-ID: <CAJtcoLYFQxCSH0AVR-0aXOrY+DdMNPmdjV5ujJeecPYzPaLTmQ@mail.gmail.com>
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
From: Martin Knoblauch <knobisoft@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Fri, May 25, 2012 at 1:29 PM, Mladen Turk <mturk@apache.org> wrote:
> On 05/25/2012 11:28 AM, Martin Knoblauch wrote:
>>
>> On Fri, May 25, 2012 at 6:45 AM, Mladen Turk<mturk@apache.org> =A0wrote:
>>>
>>> On 05/24/2012 09:40 PM, Anthony J. Biacco wrote:
>>>>
>>>>
>>>>
>>>>
>>>> I'm still puzzled as to why this behavior just changed between .35 and
>>>> .36
>>>>
>>>
>>> OK, but if you follow the recommended configuration
>>> by making sure that workers which are members of lb are not
>>> listed inside worker.list, does it works?
>>>
>>>
>>
>> =A0The question is, is this a recommendation or a restriction that
>> should be enforced? Maybe a warning about this, apparently common,
>> [mis-]configuration should be issued at module configuration time?
>>
>
> Hmm, I still didn't get the response if it works in case
> member workers are not in the worker.list.
>

 I'm not the OP, although I believe he wrote so.

> But you are right. Before 1.2.36 we just created another worker
> slot in shared memory. Now it's allocated 'by name' so it can
> create problems if the same name is declared both as standalone
> ajp13 worker and load balancer member.
>

 This would explain the changed behaviour. As I said, if this is a
non-no with 1.2.36+, there should be a watning in the logs, or an
outright refusal to load.

> I'm sure that once we had 'must not be in worker.list',
> but someone changed that to 'should' inside
> http://tomcat.apache.org/connectors-doc/reference/workers.html
> (see balance_workers directive)
>
>

 Probably needs to be changed back, or a strong warning added.

Cheers
Martin

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:07:56 2012
Return-Path: <users-return-234452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 312B2CA85
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:07:56 +0000 (UTC)
Received: (qmail 82517 invoked by uid 500); 25 May 2012 16:07:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82473 invoked by uid 500); 25 May 2012 16:07:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82463 invoked by uid 99); 25 May 2012 16:07:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:07:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:07:44 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id F0EB225DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 10:07:23 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id E117725DA02; Fri, 25 May 2012 10:07:23 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: x.dcc-servers: mx-01.formatdynamics.com 104; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 23C8025DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 10:07:18 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Fri, 25 May 2012 10:07:16 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com>
In-Reply-To: <4FBF0E85.9030809@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac06MU8gWFkWO+eJSkGza+OFqnXzyQAXnfrw
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Fri May 25 10:07:23 2012 -0600 (MDT)
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

> On 05/24/2012 09:40 PM, Anthony J. Biacco wrote:
> >
> >
> > I'm still puzzled as to why this behavior just changed between .35
and
> > .36
> >
>=20
> OK, but if you follow the recommended configuration
> by making sure that workers which are members of lb are not
> listed inside worker.list, does it works?

If I take the worker out of the worker list, then the loadbalancer
works. But then accessing the worker by itself it doesn't. It seems to
be based on the worker.list ordering

Here's the behavior:

worker.list=3Djkstatus,app-03,loadbalancer
loadbalancer: does NOT work (503)
app-03: works

worker.list=3Djkstatus,loadbalancer,app-03
loadbalancer: works
app-03: does NOT work (503)

worker.list=3Djkstatus,loadbalancer
loadbalancer: works
app-03: does NOT work (500)


-Tony



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:12:40 2012
Return-Path: <users-return-234453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85DC0CAA8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:12:40 +0000 (UTC)
Received: (qmail 99031 invoked by uid 500); 25 May 2012 16:12:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98836 invoked by uid 500); 25 May 2012 16:12:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98827 invoked by uid 99); 25 May 2012 16:12:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:12:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:12:30 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 3EE7F25DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 10:12:10 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 2D74525DA02; Fri, 25 May 2012 10:12:10 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: x.dcc-servers: mx-01.formatdynamics.com 104; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 9FE7A25DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 10:12:08 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Fri, 25 May 2012 10:12:06 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293A1@missoula.formatdynamics.com>
In-Reply-To: <CAJtcoLYFQxCSH0AVR-0aXOrY+DdMNPmdjV5ujJeecPYzPaLTmQ@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac06etT+XXi2a7i5QOW25daAG8oosQAFcJHg
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com><4FBDB9AD.2070709@apache.org><40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com><4FBE842B.4040109@ice-sa.com><40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com><4FBF0E85.9030809@apache.org><CAJtcoLa1FcgicqP-vK0K9ps=PdOYNjxsiXr4-NSrZcCNUoU+SA@mail.gmail.com><4FBF6D35.4050009@apache.org> <CAJtcoLYFQxCSH0AVR-0aXOrY+DdMNPmdjV5ujJeecPYzPaLTmQ@mail.gmail.com>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Fri May 25 10:12:10 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

>=20
> > I'm sure that once we had 'must not be in worker.list',
> > but someone changed that to 'should' inside
> > http://tomcat.apache.org/connectors-doc/reference/workers.html
> > (see balance_workers directive)
> >
> >
>=20
>  Probably needs to be changed back, or a strong warning added.
>=20

And that's ok, if I need to change my config, then that's no problem. It
does make it more complicated for me, but I don't care enough to gripe
about it. :)
I was just going by how I read the docs, so didn't know if it was a
desired change or a bug.

-Tony


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:27:23 2012
Return-Path: <users-return-234454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E74F09DBB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:27:22 +0000 (UTC)
Received: (qmail 33690 invoked by uid 500); 25 May 2012 16:27:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33628 invoked by uid 500); 25 May 2012 16:27:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33618 invoked by uid 99); 25 May 2012 16:27:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:27:19 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.39] (HELO nm2-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.39)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 May 2012 16:27:10 +0000
Received: from [98.138.90.49] by nm2.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 16:26:48 -0000
Received: from [98.138.88.233] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 16:26:48 -0000
Received: from [127.0.0.1] by omp1033.mail.ne1.yahoo.com with NNFMP; 25 May 2012 16:26:48 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 690858.34919.bm@omp1033.mail.ne1.yahoo.com
Received: (qmail 88975 invoked by uid 60001); 25 May 2012 16:26:48 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337963208; bh=QGQza/PJW7KEKNnCfnPIafEBMv3o75QUcAfuvHaxqww=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=1i5OoygErafGEM03+R9/RNBT5qQxXKczFfMckI6E93RJW1oh/veZzJ9YL53bkjxiB99a8Q3AN+r7oFIbUnhilO2VOICQmy/sxmDvdQuMmuXFB/dtE/GQFQUg3zlnNlBrLtIH+F878YwJOPcxMf9M4LUMohqtjv9SpvTEIx2n834=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=32zaiE/B3GkSdHXkwr4aD0ZSRuvwqB3+ORfQ3kUw9Z4vMEDRET4/1Qerc4VYSYXocTq38Bm0U1f++bhnnwyVLywgwPUwmFMdBKFONp3OtbQjxdmiRY3u/TK+bJM0S6AZfvedibM8Zwd3ZE0LHZd9QISsQiqwYlyfQyHvL6vZMCY=;
X-YMail-OSG: CdejdC0VM1mQbG.prycPYbLPtm5kHfEBcM5KAqlf1_4xmR6
 q4yxZIHd8xGHaslJzGZr3k3Cq6Aojr1Xzc6I44hwq9H99QdWLYphSMU67mxg
 PZ1rWYS_y12pSsN4W_Cot3wNx1IGlmEJfljw644r63wml6CKY4daorz7.EeZ
 coDVOwxyeATLslMdNmWH39Ce9qmXc8N6iB.Ur2uUuBTgrIPkAnOTHNwasvMD
 YyUVcPDe3uCfVH6LCwG3cHmv8gZh0rODUkem_sPDxVxTRi97wrXd2ijR1GCR
 Rgogz650jA6.nyXRnUJkYXEiR2MGZgPC0fwV3GeHk5TNKJk3rIAt3XaW04tS
 sdxQMyfE41jQkCVR.YkmrkPs.bxuPbteMQd1g.dpIQSlHAAl1oOlKEKZ.3Nh
 4lONH3pRjS047QOmBhEZT78eIcatWpisU.KYw8jxKjBKKDWxHCkGVrtyV0bG
 WhDZCus_0eqr014NX6886BjfUIZPgRPTCBfyJM1S9V2oZF6RvWt2BawhXigf
 zmhLpSAlfDzF6yaVElv9gmDBCLYLaCT49oF0afV_lehzSwSwApYVDaM.zCnu
 jO2sqth_dwpwjJoMjtB.D98QdixlMlBfJtSKO8aWZflPw1SwMUu0p4Fwmk2y
 xGS_e8kQphaYZbg5fmXlrvO.BcAooY6LGXDYIqK97QSPvW1Llkm1uPyEflr_
 8J9wt22SlCLZetcxmjkakRAj.6lFZTc0ovQapcm1FwWMA4YOnCYXCBHaB31B
 ftWpb1EELBNnNp9oS2S5acRisTw--
Received: from [71.134.33.177] by web125505.mail.ne1.yahoo.com via HTTP; Fri, 25 May 2012 09:26:48 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>  
Message-ID: <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
Date: Fri, 25 May 2012 09:26:48 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: mod_jk not working !!
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

>________________________________=0A> From: Aman Arora <aman.arora051@gmail=
.com>=0A>To: users@tomcat.apache.org=0A>Sent: Thursday, May 24, 2012 10:25 =
PM=0A>Subject: mod_jk not working !!=0A> =0A>m trying to do a setup of tomc=
at clustering in which one tomcat is on port=0A>8080 and other one is on 80=
81.=0A>i have downloaded the tomcat-connector in the modules folder of my a=
pache.i=0A>built it using build-unix.sh by downloading the script from net =
as it was=0A>nt already there in the downloaded tomcat-connector. it buit m=
od_jk.so=0A>which i have placed inside modules folder as=0A>/usr/local/apac=
he2/modules/mod_jk.so=0A>then i created workers.properties file and gave th=
e description of workers=0A>there .and included it in httpd.cong file .=0A>=
still when i type http://localhost/jsp-pages which are in my webapps / it=
=0A>is not passing requast to tomcat which is holding the js pages.=0A>you =
may hav a look at the conf files to get a better fel of the problem !=0A>th=
e link is=0A>http://www.coderanch.com/t/581294/Tomcat/Tomcat-Clustering#264=
8034=0A=0AOK,=0A=0AI've taken a brief look at your configuration files (htt=
pd.conf, mod_jk.conf, server.xml, workers.properties).=0A=0AI've also taken=
 a brief look at the Safari Books link you gave.=0A=0AAs Andre said (sorry =
about the lack of accent, Andre), people are going to be a bit reluctant to=
 wade through all of that material and provide pointers.=0A=0A=0AAlso as An=
dre has said, clustering Tomcat on the same machine works fine for many peo=
ple. I routinely use a 3 or 4 node cluster as a test platform.=0A=0AI'll tr=
y to give a few general directions. As is my usual practice, this is going =
to be long. You have been warned.=0A=0AGeneral thoughts=0A=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0AIn your Code Ranch postings, you sta=
te that you are new to Linux. Getting clustering to work on Linux involves =
Apache HTTPD configuration, Tomcat configuration, and Linux configuration. =
If this is your first time doing all of this, it's probably best to get a s=
imple mod_jk connection working first.=0A=0AAt each stage of the setup, I r=
ecommend testing and coming back to the mailing list with simple questions =
and the relevant portion(s) of the configuration file(s). Also, be prepared=
 to do at least as much work as those people trying to help. Remember, this=
 is a volunteer list, and we contribute in our spare time.=0A=0AAlso, as an=
other aside . . . there is a lot of misleading, incomplete, and just flat w=
rong information concerning Tomcat floating around on the 'net. The authori=
tative source for information is always:=0A=0Ahttp://tomcat.apache.org/=0A=
=0A=0AThe mailing list for questions is this mailing list. We try to give a=
ccurate information, and some people here have been working with Tomcat for=
 a very long time.=0A=0AYou might get accurate information elsewhere, but f=
rom what I've seen this is not very likely.=0A=0ALinux in General=0A=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0AYou'll find that Linux is a=
 different beast than Windows (even Windows 7). In particular file permissi=
ons, file ownerships, and SELinux present quite a different security model =
than the typical Windows installation. It's best to be aware of this from t=
he start.=0A=0APurpose=0A=3D=3D=3D=3D=3D=3D=3D=0A=0AWhat is the purpose of =
this setup? If you're running a pseudo-production development platform, the=
n what you're setting up may be reasonable. If you're setting up a developm=
ent platform with NetBeans or Eclipse, then you will run into a lot of file=
 access problems with your setup.=0A=0AIf you're setting up a development s=
ystem, I recommend just creating a directory in your home directory to hold=
 a single Tomcat, unpack Tomcat 7.0.27 in that directory, edit $CATALINA_HO=
ME/conf/tomcat-users.xml per the instructions, and then use that installati=
on.=0A=0Ahttp://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configu=
ring_Manager_Application_Access=A0=0A=0A=0AOnce it's running and you can ac=
cess the manager application, then associate the installation with your IDE=
. Now you can develop, debug, test, and deploy without running into permiss=
ion issues.=0A=0AIf you're setting up a pseudo-production environment, then=
 it's probably a good idea to set up a service account, install (and contro=
l) all Tomcats from that account, and connect those Tomcats to Apache HTTPD=
 (or not). Note that since this is a separate account, this is a bit less c=
onvenient for development.=0A=0AApache HTTPD=0A=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=0A=0AI noticed that you have a lot of /usr/local based directorie=
s in your Apache HTTPD configuration. This is quite unusual for Linux, sinc=
e most (all?) Linux distributions package Apache HTTPD.=0A=0ARather than bu=
ilding your own Apache HTTPD, I recommend that you get and install the dist=
ribution package for Apache HTTPD. This will place files in line with the r=
est of your system, and it will also have a serviceable default configurati=
on.=0A=0AOn Fedora, the Apache HTTPD packages include:=0A=0Aapr=0Aapr-util=
=0Aapr-devel=0Aapr-util-devel=0Ahttpd=0Ahttpd-devel=0Ahttpd-tools=0A=0AThe =
-devel packages are very important, since you will be building mod_jk from =
source.=0A=0AJava=0A=3D=3D=3D=3D=0A=0AI from your messages that you have Or=
acle's Java installed. Make sure you're using the Java you think you're usi=
ng. Type:=0A=0Ajavac -version=0Ajava -version=0A=0Aon the command line and =
see what you get.=0A=0ATomcat=0A=3D=3D=3D=3D=3D=3D=0A=0AAs I've noted above=
 if you're setting up a pure development environment it's just best to crea=
te a directory in your home directory and unpack a Tomcat there. For now, j=
ust start with one.=0A=0AIf you have Java installed correctly, Tomcat comes=
 ready to run out of the box. Just unpack it, cd to the bin directory, and =
run startup.sh. You should be able to browse to localhost:8080/ and see the=
 Tomcat welcome page.=0A=0AUnlike Apache HTTPD, most people here do NOT rec=
ommend that you use the Linux distribution packaged versions of Tomcat. In =
general people have found that these are much more difficult to work with t=
han just getting a stock Tomcat from:=0A=0Ahttp://tomcat.apache.org/=A0=0A=
=0A=0Amod_jk build=0A=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0AWhile other =
people have had difficulty (search the mailing list) building mod_jk on var=
ious platforms, I've never had much trouble.=0A=0A1. Download the source fr=
om=A0http://tomcat.apache.org/=0A2. Unpack it into a directory=0A3. cd to [=
tomcat-connectors-1.xx]/native=0A4. Read BUILDING.txt=0A=0ABriefly . . .=0A=
1. =A0./configure --with-apxs=3D/usr/sbin/apxs=0A2. make=0A3. su to root=0A=
4. cd back to where you were=0A5. make install=0A=0AThis will put everythin=
g in the right place.=0A=0Amod_jk configuration=0A=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0ARecent versions of mod_jk come wi=
th some very nice and well-commented examples. They can be found in [tomcat=
-connectors-1.xx]/conf. Read them, follow them, use them.=0A=0AThe defaults=
 have been chosen to work in most general use cases.=0A=0AMap all of the ex=
amples (not just the *.jsp files).=0A=0ARestart Apache HTTPD, and then star=
t Apache Tomcat. You should be able to browse to localhost/examples and get=
 the Apache Tomcat examples.=0A=0A---- IMPORTANT ----=0A=0ADo not proceed w=
ith clustering until this works.=0A=0A---- IMPORTANT ----=A0=0A=0A=0APlease=
 note that if you place all of your mappings in a uriworkermap.properties f=
ile, Apache HTTPD will reread this once per minute (by default). This is ni=
ce if you tend to add and delete Tomcat applications. It's probably not qui=
te as nice for a production system (but I don't know what the overhead is).=
=0A=0AClustering=0A=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0AThere are a lot of p=
ieces.=0A=0A1. Linux=0A=0AYou have to ensure that multicast is enabled, and=
 that multicast routing is set up. If you run iptables, you may run into fi=
rewall issues, but on the same system probably not.=0A=0AI'll not go into t=
he Linux configuration issues in detail at this time.=0A=0A2. mod_jk=0A=0AY=
ou'll have to add another host (obviously) for clustering. You'll need to n=
ame your workers appropriately. As noted in the documentation, each worker =
name must match the jvmRoute attribute set in your Engine.=0A=0Ahttp://tomc=
at.apache.org/tomcat-7.0-doc/cluster-howto.html#Cluster_Basics=A0=0A=0A=0AY=
ou'll need to change the mapping in uriworkermap.properties to point to the=
 load balancer.=0A=0A3. Another Tomcat=0A=0AWhile the easiest way to get st=
arted with clustering is just to unpack another copy of Tomcat in another d=
irectory, it's probably far more useful to use the concept of CATALINA_HOME=
 and CATALINA_BASE. See RUNNING.txt in the Tomcat directory for details.=0A=
=0A4. Tomcat clustering configuration=0A=0AThe basic clustering documentati=
on can be found here:=0A=0Ahttp://tomcat.apache.org/tomcat-7.0-doc/cluster-=
howto.html=A0=0A=0A=0AIt's long, involved, and needs to be read carefully. =
However, as a first pass the following will work.=0A=0Aa. Make sure that ea=
ch Tomcat has a unique jvmRoute in the=0A=A0 =A0Engine element=0Ab. Make su=
re that the jvmRoute matches the correct worker=0A=A0 =A0name (see above)=
=0Ac. Make sure that each Tomcat has a unique shutdown port=0Ad. Make sure =
that each Tomcat has a unique AJP/1.3 port=0Ae. Make sure that each AJP/1.3=
 port matches the correctly=0A=A0 =A0named worker in =A0workers.properties=
=0Af. Make sure that each HTTP/1.1 port is unique (nice for=0A=A0 =A0manage=
r access)=0Ag. Copy the example configuration from:=0A=0Ahttp://tomcat.apac=
he.org/tomcat-7.0-doc/cluster-howto.html=0A=0Ato inside your Host element i=
n server.xml, but omit (for now) the Deployer element.=0A=0AStart up your T=
omcat servers.=0A=0AIt's also nice to have the access log enabled for your =
Tomcat servers. You can then tell which Tomcat is receiving the request fro=
m Apache HTTPD.=0A=0A=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=0AThis a=
bove should point you in the right direction.=0A=0AAgain, start simply.=0A=
=0A1. Stock Apache HTTPD installation (and verify)=0A2. Stock Apache Tomcat=
 installation (and verify)=0A3. mod_jk installation (and verify)=0A4. Secon=
d Apache Tomcat installation (and verify both)=0A5. Cluster=0A=0A. . . just=
 my three cents (since this is long)=0A/mde/=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:36:51 2012
Return-Path: <users-return-234455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C3389996
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:36:51 +0000 (UTC)
Received: (qmail 63056 invoked by uid 500); 25 May 2012 16:36:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62999 invoked by uid 500); 25 May 2012 16:36:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62988 invoked by uid 99); 25 May 2012 16:36:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:36:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:36:41 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id EGZp1j0040bG4ec5DGcKyF; Fri, 25 May 2012 16:36:19 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id EGcK1j00138FjT13PGcKFQ; Fri, 25 May 2012 16:36:19 +0000
Message-ID: <4FBFB502.1030306@christopherschultz.net>
Date: Fri, 25 May 2012 12:36:18 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_jk not working !!
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
In-Reply-To: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Aman,

On 5/25/12 1:25 AM, Aman Arora wrote:
> I'm trying to do a setup of tomcat clustering in which one tomcat
> is on port 8080 and other one is on 8081.

Sounds reasonable.

> i have downloaded the tomcat-connector in the modules folder of my
> apache.i built it using build-unix.sh by downloading the script
> from net as it was nt already there in the downloaded
> tomcat-connector.

What is build-unix.sh and why did you have to "download it from [the]
net"? Other than apxs (which implies you have the httpd dev tools
available), you don't need anything else to build mod_jk for your
environment. Read the README.txt file in the root of the tarball and
follow the directions.

> it buit mod_jk.so

That's good. Since I don't know what build-unix.sh does, I'm happy it
didn't delete your kernel.

> which i have placed inside modules folder as 
> /usr/local/apache2/modules/mod_jk.so then i created
> workers.properties file and gave the description of workers there

What's in there (see below)?

> .and included it in httpd.cong file .

How?

> still when i type http://localhost/jsp-pages which are in my
> webapps / it is not passing requast to tomcat which is holding the
> js pages.

What do you get in the response instead?

> you may hav a look at the conf files to get a better fel of the
> problem ! the link is 
> http://www.coderanch.com/t/581294/Tomcat/Tomcat-Clustering#2648034

So I have to follow one link to get to 4 other links?

For those less-willing to put up with this kind of crap, here's the
important part of httpd.conf:

Include /usr/local/apache2/conf/mod_jk.conf

(*Not inside a VirtualHost definition*)

Here's the mod_jk.conf:

    LoadModule jk_module /usr/local/apache2/modules/mod_jk.so
    JkWorkersFile /usr/local/apache2/conf/workers.properties
    JkLogFile /usr/local/apache2/logs/mod_jk.log
    JkLogLevel info
    #JkMount /sample/* loadbalancer
    #JkMount /* loadbalancer
    JkMount /examples/*.jsp default

And finally, here's the workers.properties:

    workers.tomcat_home=/usr/local/tomcat/apache-tomcat-7.0.27/
    workers.java_home=/usr/java/jdk1.7.0_04/
    ps=/
    worker.list=tomcatnode1, tomcatnode2, loadbalancer
    worker.tomcatnode1.port=8009
    worker.tomcatnode1.host=localhost
    worker.tomcatnode1.type=ajp13
    worker.tomcatnode1.lbfactor=1
    worker.tomcatnode2.port=8010
    worker.tomcatnode2.host=localhost
    worker.tomcatnode2.type=ajp13
    worker.tomcatnode2.lbfactor=1
    worker.loadbalancer.type=lb
    worker.loadbalancer.balanced_workers=tomcatnode1, tomcatnode2
    worker.loadbalancer.sticky_session=1


So, I can see a bunch of problems. Let's start at the top.

1. You put your JkMount directives in your mod_jk.conf file,
   which is included in your the top-level httpd.conf file.
   Your JkMounts will not be copied into your VirtualHosts
   and so you essentially have no mappings at all.

2. You are mapping /examples/*.jsp and trying to access /jsp-pages,
   so that's not going to work.

3. You are mapping /examples/*.jsp to the "default" worker, which
   has not been defined.

4. You have an old mod_jk config that contains these irrelevant
   settings: workers.tomcat_home, workers.java_home, ps

5. You have defined your 2 "node" workers to be on ports 8009 and 8010
   but you said that you have your Tomcats running on 8080 and 8081.
   Perhaps you have AJP/1.3 connectors defined for 8009 and 8010 but
   I'm not going to enter /yet another/ CAPTCHA just to see your
   configuration files which I'm sure are completely full of comments
   and other crap I don't feel like reading.

I suspect that #1, #2, and #3 are your real problems. Fix those and
try again.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/tQIACgkQ9CaO5/Lv0PAqXQCeLCHjYQAtRJH8FQ78+x9e0xf4
v1gAoJLdYNCS/HErJbQr2bm47AUYSczC
=y+SX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:37:51 2012
Return-Path: <users-return-234456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14F9F9999
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:37:51 +0000 (UTC)
Received: (qmail 67622 invoked by uid 500); 25 May 2012 16:37:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67558 invoked by uid 500); 25 May 2012 16:37:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67549 invoked by uid 99); 25 May 2012 16:37:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:37:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:37:40 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id EG7p1j00C0Fqzac53GdKCm; Fri, 25 May 2012 16:37:19 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id EGdJ1j00U38FjT13UGdJKu; Fri, 25 May 2012 16:37:19 +0000
Message-ID: <4FBFB53E.8020303@christopherschultz.net>
Date: Fri, 25 May 2012 12:37:18 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_jk not working !!
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com> <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
In-Reply-To: <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mark,

On 5/25/12 12:26 PM, Mark Eggers wrote:
> . . . just my three cents (since this is long)

More like twelve bucks: you should send this guy a bill for the
message you just put together for him.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/tT4ACgkQ9CaO5/Lv0PDYhQCcDgYU8IJzIwqd0toPoJPk+UMK
5lEAoJbcKTc3l4wl9UWBLyOVd9qhaczv
=Ly2T
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:40:52 2012
Return-Path: <users-return-234457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDB3999B3
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:40:51 +0000 (UTC)
Received: (qmail 83515 invoked by uid 500); 25 May 2012 16:40:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83472 invoked by uid 500); 25 May 2012 16:40:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83463 invoked by uid 99); 25 May 2012 16:40:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:40:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:40:41 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ECmp1j00Z1swQuc53GgMPb; Fri, 25 May 2012 16:40:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id EGgL1j00r38FjT13bGgLuS; Fri, 25 May 2012 16:40:21 +0000
Message-ID: <4FBFB5F4.1010602@christopherschultz.net>
Date: Fri, 25 May 2012 12:40:20 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 5/25/12 12:07 PM, Anthony J. Biacco wrote:
> If I take the worker out of the worker list, then the loadbalancer 
> works. But then accessing the worker by itself it doesn't. It seems
> to be based on the worker.list ordering
> 
> Here's the behavior:
> 
> worker.list=jkstatus,app-03,loadbalancer loadbalancer: does NOT
> work (503) app-03: works
> 
> worker.list=jkstatus,loadbalancer,app-03 loadbalancer: works 
> app-03: does NOT work (503)
> 
> worker.list=jkstatus,loadbalancer loadbalancer: works app-03: does
> NOT work (500)

What if you remove the jkstatus worker?

What if you put jkstatus at the end of the list?

I know we're grasping at straws, but you are not the only one who has
this problem: 0.0.0.0 is showing up in a few places and we need to
track it down.

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/tfQACgkQ9CaO5/Lv0PDFJQCfSkC5uWQG4iqJ84XOpNp3KV7I
U5oAniHDeVa5mFQ4tv3s9Wnj8qcOFrmp
=lAcB
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:42:47 2012
Return-Path: <users-return-234458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6632C99BC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:42:47 +0000 (UTC)
Received: (qmail 92458 invoked by uid 500); 25 May 2012 16:42:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92418 invoked by uid 500); 25 May 2012 16:42:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92396 invoked by uid 99); 25 May 2012 16:42:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:42:44 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.131 as permitted sender)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:42:34 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-16.tower-28.messagelabs.com!1337964129!27955734!13
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 20329 invoked from network); 25 May 2012 16:42:12 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-16.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 25 May 2012 16:42:12 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 25 May 2012 11:41:58 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Fri, 25 May
 2012 11:41:58 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 25 May 2012 11:41:56 -0500
Subject: RE: mod_jk not working !!
Thread-Topic: mod_jk not working !!
Thread-Index: Ac06k0gX/Ym9NgmzQe25y2KWw2X6PgAAbU8g
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com>
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
   <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
In-Reply-To: <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Mark Eggers [mailto:its_toasted@yahoo.com]=20
> Subject: Re: mod_jk not working !!


> I'll try to give a few general directions.

<much useful content snipped>

> Again, start simply.

> 1. Stock Apache HTTPD installation (and verify)
> 2. Stock Apache Tomcat installation (and verify)
> 3. mod_jk installation (and verify)
> 4. Second Apache Tomcat installation (and verify both)
> 5. Cluster

I'd suggest that your entire e-mail should be put in the Wiki.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:57:23 2012
Return-Path: <users-return-234459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A8BE9A0C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:57:23 +0000 (UTC)
Received: (qmail 31068 invoked by uid 500); 25 May 2012 16:57:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30951 invoked by uid 500); 25 May 2012 16:57:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30942 invoked by uid 99); 25 May 2012 16:57:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:57:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:57:12 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id EGcD1j0051GhbT85DGwr6y; Fri, 25 May 2012 16:56:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id EGwq1j00G38FjT13TGwrCc; Fri, 25 May 2012 16:56:51 +0000
Message-ID: <4FBFB9D2.7080607@christopherschultz.net>
Date: Fri, 25 May 2012 12:56:50 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 5/25/12 12:07 PM, Anthony J. Biacco wrote:
> worker.list=jkstatus,app-03,loadbalancer loadbalancer: does NOT
> work (503) app-03: works
> 
> worker.list=jkstatus,loadbalancer,app-03 loadbalancer: works 
> app-03: does NOT work (503)
> 
> worker.list=jkstatus,loadbalancer loadbalancer: works app-03: does
> NOT work (500)

I can confirm that load-balancing works properly in my environment[1]
with this workers.properties:

worker.list=jk-status

worker.jk-status.type=status

# Template worker
worker.template.type=ajp13
worker.template.host=localhost
worker.template.connection_pool_timeout=60
worker.template.socket_timeout=300
worker.template.max_packet_size=65536

worker.list=crazy-lb
worker.crazy-lb.type=lb
worker.crazy-lb.balance_workers=worker23,worker03

worker.list=worker01
worker.worker01.reference=worker.template
worker.worker01.port=8015

[more workers defined in exactly the same way]

All worked as well as I expected (see below).

- -chris

[1] Environment:
  Debian Linux kernel 2.6.32 x86_64
  Apache httpd 2.2.16-6
  mod_jk 1.2.36 (just built it myself against httpd 2.2.16-6)
  Oracle Java 1.6.0_26-b03 (though not terribly relevant)
  Tomcat 7.0.27 and Tomcat 6.0.35 (I balanced two different TC versions
     and two different webapps... the results were not pretty but
     proved that mod_jk was working properly)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/udIACgkQ9CaO5/Lv0PAH1gCfd6Dqc3IoLUQzQTN0zFnINpko
K+YAoMBkcEwxJP5tKhYG87I9XdFoChML
=/OIp
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 16:57:56 2012
Return-Path: <users-return-234460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B33329A11
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 16:57:56 +0000 (UTC)
Received: (qmail 34890 invoked by uid 500); 25 May 2012 16:57:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34696 invoked by uid 500); 25 May 2012 16:57:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34687 invoked by uid 99); 25 May 2012 16:57:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:57:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 16:57:45 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id EGdC1j00817dt5G5BGxQuc; Fri, 25 May 2012 16:57:24 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id EGxQ1j00p38FjT13ZGxQnb; Fri, 25 May 2012 16:57:24 +0000
Message-ID: <4FBFB9F4.8020904@christopherschultz.net>
Date: Fri, 25 May 2012 12:57:24 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_jk not working !!
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>   <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com> <99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chuck,

On 5/25/12 12:41 PM, Caldarale, Charles R wrote:
>> From: Mark Eggers [mailto:its_toasted@yahoo.com] Subject: Re:
>> mod_jk not working !!
> 
> 
>> I'll try to give a few general directions.
> 
> <much useful content snipped>
> 
>> Again, start simply.
> 
>> 1. Stock Apache HTTPD installation (and verify) 2. Stock Apache
>> Tomcat installation (and verify) 3. mod_jk installation (and
>> verify) 4. Second Apache Tomcat installation (and verify both) 5.
>> Cluster
> 
> I'd suggest that your entire e-mail should be put in the Wiki.

+1, though maybe in smaller pieces linked by a top-level page.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/ufQACgkQ9CaO5/Lv0PBvzQCeM/ugajKLsv3od//91wc3WcKP
/X4AoJztvRXa1d6lMYdHSbPiiT5WDPIF
=nBVy
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 17:40:09 2012
Return-Path: <users-return-234461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC2B9C4DB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 17:40:09 +0000 (UTC)
Received: (qmail 50812 invoked by uid 500); 25 May 2012 17:40:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50742 invoked by uid 500); 25 May 2012 17:40:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50733 invoked by uid 99); 25 May 2012 17:40:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 17:40:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 17:40:00 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id C5C0125DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 11:39:39 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id B91BC25DA02; Fri, 25 May 2012 11:39:39 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: : mx-01.formatdynamics.com 1282; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id C018425DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 11:39:37 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Fri, 25 May 2012 11:39:35 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com>
In-Reply-To: <4FBFB5F4.1010602@christopherschultz.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac06lSpNqIUSA8igSUqfx7AwUGuBWAABEJSQ
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Fri May 25 11:39:39 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

PiANCj4gV2hhdCBpZiB5b3UgcmVtb3ZlIHRoZSBqa3N0YXR1cyB3b3JrZXI/DQo+IA0KDQp3b3Jr
ZXIubGlzdD1hcHAtMDMsbG9hZGJhbGFuY2VyDQphcHAtMDM6IHdvcmtzDQpsb2FkYmFsYW5jZXI6
IGRvZXMgTk9UIHdvcmsgKDUwMykNCg0Kd29ya2VyLmxpc3Q9bG9hZGJhbGFuY2VyLGFwcC0wMw0K
YXBwLTAzOiBkb2VzIE5PVCB3b3JrICg1MDMpDQpsb2FkYmFsYW5jZXI6IHdvcmtzDQoNCj4gV2hh
dCBpZiB5b3UgcHV0IGprc3RhdHVzIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3Q/DQo+IA0KDQp3b3Jr
ZXIubGlzdD1hcHAtMDMsbG9hZGJhbGFuY2VyLGprc3RhdHVzDQphcHAtMDM6IHdvcmtzDQpsb2Fk
YmFsYW5jZXI6IGRvZXMgTk9UIHdvcmsgKDUwMykNCg0Kd29ya2VyLmxpc3Q9bG9hZGJhbGFuY2Vy
LGFwcC0wMyxqa3N0YXR1cw0KYXBwLTAzOiBkb2VzIE5PVCB3b3JrICg1MDMpDQpsb2FkYmFsYW5j
ZXI6IHdvcmtzDQoNCg0KLVRvbnkNCg0KDQoNCj4gDQo+IFRoYW5rcywNCj4gLSAtY2hyaXMNCj4g
LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0NCj4gVmVyc2lvbjogR251UEcvTWFjR1BHMiB2
Mi4wLjE3IChEYXJ3aW4pDQo+IENvbW1lbnQ6IEdQR1Rvb2xzIC0gaHR0cDovL2dwZ3Rvb2xzLm9y
Zw0KPiBDb21tZW50OiBVc2luZyBHbnVQRyB3aXRoIE1vemlsbGEgLSBodHRwOi8vZW5pZ21haWwu
bW96ZGV2Lm9yZy8NCj4gDQo+IGlFWUVBUkVDQUFZRkFrKy90ZlFBQ2drUTlDYU81L0x2MFBERkpR
Q2ZTa0M1dVdRRzRpcUo4NFhPcE5wM0sNCj4gVjdJDQo+IFU1b0FuaUhEZVZhNW1GUTR0djNzOVdu
ajhxY09Gcm1wDQo+ID1sQWNCDQo+IC0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQ0KPiANCj4g
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJl
QHRvbWNhdC5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVz
ZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCg0K
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 18:11:40 2012
Return-Path: <users-return-234462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31037C5ED
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 18:11:40 +0000 (UTC)
Received: (qmail 49743 invoked by uid 500); 25 May 2012 18:11:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49655 invoked by uid 500); 25 May 2012 18:11:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49600 invoked by uid 99); 25 May 2012 18:11:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 18:11:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 18:11:30 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 4EA8525DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 12:11:09 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 3978725DA02; Fri, 25 May 2012 12:11:09 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-DCC: : mx-01.formatdynamics.com 1282; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 10FFF25DA01
	for <users@tomcat.apache.org>; Fri, 25 May 2012 12:11:03 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Fri, 25 May 2012 12:11:00 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac06lSpNqIUSA8igSUqfx7AwUGuBWAABEJSQAAHMtMA=
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Fri May 25 12:11:09 2012 -0600 (MDT)
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

R09PRCBsb2FkYmFsYW5jZXIgKGxvYWRiYWxhbmNlcixhcHAtMDMpDQpbRnJpIE1heSAyNSAxMTo1
Mjo1MiAyMDEyXSBbMjQ3NTQ6MTEzODM3MDg4MF0gW2RlYnVnXSB3Y19nZXRfd29ya2VyX2Zvcl9u
YW1lOjpqa193b3JrZXIuYyAoMTE1KTogZm91bmQgYSB3b3JrZXIgbG9hZGJhbGFuY2VyDQpbRnJp
IE1heSAyNSAxMTo1Mjo1MiAyMDEyXSBbMjQ3NTQ6MTEzODM3MDg4MF0gW2RlYnVnXSB3Y19nZXRf
bmFtZV9mb3JfdHlwZTo6amtfd29ya2VyLmMgKDI5Mik6IEZvdW5kIHdvcmtlciB0eXBlICdsYicg
DQpbRnJpIE1heSAyNSAxMjowMToyMCAyMDEyXSBbMjUwMzA6MTEwNTk5MjAwMF0gW2RlYnVnXSBz
ZXJ2aWNlOjpqa19sYl93b3JrZXIuYyAoMTI0OCk6IHNlcnZpY2Ugd29ya2VyPWFwcC0wMyByb3V0
ZT1hcHAtMDMNCltGcmkgTWF5IDI1IDEyOjAxOjIwIDIwMTJdIFsyNTAzMDoxMTA1OTkyMDAwXSBb
aW5mb10gc2VydmljZTo6amtfbGJfd29ya2VyLmMgKDEyNTQpOiBGRDogSVAgaXMgMTI3LjAuMC4x
DQoNCkJBRCBsb2FkYmFsYW5jZXIgKGFwcC0wMyxsb2FkYmFsYW5jZXIpDQpbRnJpIE1heSAyNSAx
MTo1Mjo1MiAyMDEyXSBbMjQ3NTQ6MTEzODM3MDg4MF0gW2RlYnVnXSB3Y19nZXRfd29ya2VyX2Zv
cl9uYW1lOjpqa193b3JrZXIuYyAoMTE1KTogZm91bmQgYSB3b3JrZXIgbG9hZGJhbGFuY2VyDQpb
RnJpIE1heSAyNSAxMTo1Mjo1MiAyMDEyXSBbMjQ3NTQ6MTEzODM3MDg4MF0gW2RlYnVnXSB3Y19n
ZXRfbmFtZV9mb3JfdHlwZTo6amtfd29ya2VyLmMgKDI5Mik6IEZvdW5kIHdvcmtlciB0eXBlICds
YicNCltGcmkgTWF5IDI1IDExOjUyOjUyIDIwMTJdIFsyNDc1NDoxMTM4MzcwODgwXSBbZGVidWdd
IHNlcnZpY2U6OmprX2xiX3dvcmtlci5jICgxMjQ4KTogc2VydmljZSB3b3JrZXI9YXBwLTAzIHJv
dXRlPWFwcC0wMw0KW0ZyaSBNYXkgMjUgMTE6NTI6NTIgMjAxMl0gWzI0NzU0OjExMzgzNzA4ODBd
IFtpbmZvXSBzZXJ2aWNlOjpqa19sYl93b3JrZXIuYyAoMTI1NCk6IEZEOiBJUCBpcyAwLjAuMC4w
DQoNCkknbSBnZXR0aW5nIHRoZSBJUCB1c2luZyBpbmV0X250b2Egb24gdGhlIHdvcmtlcl9pbmV0
X2FkZHINCkluIGJvdGggR09PRCBhbmQgQkFEIHNjZW5hcmlvcywgamtfcmVzb2x2ZSBoYXMgdGhl
IHJpZ2h0IElQIGZvciB0aGUgYXBwLTAzIGV2ZXJ5IHRpbWUuDQpTbyBpdCdzIHNvbWV3aGVyZSBp
biBiZXR3ZWVuIG9yIHJpZ2h0IGluIGprX2xiX3dvcmtlci5jDQoNCi1Ub255DQotLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NCk1hbmFnZXIsIElUIE9wZXJhdGlvbnMNCkZvcm1hdCBEeW5hbWlj
cywgSW5jLg0KUDogMzAzLTIyOC03MzI3DQpGOiAzMDMtMjI4LTczMDUNCmFiaWFjY29AZm9ybWF0
ZHluYW1pY3MuY29tDQpodHRwOi8vd3d3LmZvcm1hdGR5bmFtaWNzLmNvbQ0KDQoNCj4gLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogQW50aG9ueSBKLiBCaWFjY28gW21haWx0bzph
YmlhY2NvQGZvcm1hdGR5bmFtaWNzLmNvbV0NCj4gU2VudDogRnJpZGF5LCBNYXkgMjUsIDIwMTIg
MTE6NDAgQU0NCj4gVG86IFRvbWNhdCBVc2VycyBMaXN0DQo+IFN1YmplY3Q6IFJFOiBqayAxLjIu
MzYgdGhyb3dpbmcgNTAzL3NlbmRmdWxsL2NwaW5nIGVycm9ycw0KPiANCj4gPg0KPiA+IFdoYXQg
aWYgeW91IHJlbW92ZSB0aGUgamtzdGF0dXMgd29ya2VyPw0KPiA+DQo+IA0KPiB3b3JrZXIubGlz
dD1hcHAtMDMsbG9hZGJhbGFuY2VyDQo+IGFwcC0wMzogd29ya3MNCj4gbG9hZGJhbGFuY2VyOiBk
b2VzIE5PVCB3b3JrICg1MDMpDQo+IA0KPiB3b3JrZXIubGlzdD1sb2FkYmFsYW5jZXIsYXBwLTAz
DQo+IGFwcC0wMzogZG9lcyBOT1Qgd29yayAoNTAzKQ0KPiBsb2FkYmFsYW5jZXI6IHdvcmtzDQo+
IA0KPiA+IFdoYXQgaWYgeW91IHB1dCBqa3N0YXR1cyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0Pw0K
PiA+DQo+IA0KPiB3b3JrZXIubGlzdD1hcHAtMDMsbG9hZGJhbGFuY2VyLGprc3RhdHVzDQo+IGFw
cC0wMzogd29ya3MNCj4gbG9hZGJhbGFuY2VyOiBkb2VzIE5PVCB3b3JrICg1MDMpDQo+IA0KPiB3
b3JrZXIubGlzdD1sb2FkYmFsYW5jZXIsYXBwLTAzLGprc3RhdHVzDQo+IGFwcC0wMzogZG9lcyBO
T1Qgd29yayAoNTAzKQ0KPiBsb2FkYmFsYW5jZXI6IHdvcmtzDQo+IA0KPiANCj4gLVRvbnkNCj4g
DQo+IA0KPiANCj4gPg0KPiA+IFRoYW5rcywNCj4gPiAtIC1jaHJpcw0KPiA+IC0tLS0tQkVHSU4g
UEdQIFNJR05BVFVSRS0tLS0tDQo+ID4gVmVyc2lvbjogR251UEcvTWFjR1BHMiB2Mi4wLjE3IChE
YXJ3aW4pDQo+ID4gQ29tbWVudDogR1BHVG9vbHMgLSBodHRwOi8vZ3BndG9vbHMub3JnDQo+ID4g
Q29tbWVudDogVXNpbmcgR251UEcgd2l0aCBNb3ppbGxhIC0gaHR0cDovL2VuaWdtYWlsLm1vemRl
di5vcmcvDQo+ID4NCj4gPg0KPiBpRVlFQVJFQ0FBWUZBaysvdGZRQUNna1E5Q2FPNS9MdjBQREZK
UUNmU2tDNXVXUUc0aXFKODRYT3BOcDNLDQo+ID4gVjdJDQo+ID4gVTVvQW5pSERlVmE1bUZRNHR2
M3M5V25qOHFjT0ZybXANCj4gPiA9bEFjQg0KPiA+IC0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0t
LQ0KPiA+DQo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogdXNl
cnMtdW5zdWJzY3JpYmVAdG9tY2F0LmFwYWNoZS5vcmcNCj4gPiBGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQo+IA0KPiANCj4gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRv
bWNhdC5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVzZXJz
LWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCg0K
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 18:21:41 2012
Return-Path: <users-return-234463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3755EC63B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 18:21:41 +0000 (UTC)
Received: (qmail 77616 invoked by uid 500); 25 May 2012 18:21:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77564 invoked by uid 500); 25 May 2012 18:21:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77553 invoked by uid 99); 25 May 2012 18:21:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 18:21:37 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.244] (HELO nm22-vm5.bullet.mail.ne1.yahoo.com) (98.138.91.244)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 May 2012 18:21:28 +0000
Received: from [98.138.90.51] by nm22.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 18:21:07 -0000
Received: from [98.138.88.238] by tm4.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 18:21:07 -0000
Received: from [127.0.0.1] by omp1038.mail.ne1.yahoo.com with NNFMP; 25 May 2012 18:21:07 -0000
X-Yahoo-Newman-Property: ymail-5
X-Yahoo-Newman-Id: 266118.17070.bm@omp1038.mail.ne1.yahoo.com
Received: (qmail 74952 invoked by uid 60001); 25 May 2012 18:21:07 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337970067; bh=TwnFBWjwaPYhkIkT3bfya60eF2eXThdFKPorDQ8v24c=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=DjEmNKFV/wme0i/61M1+bD2z3e0aoq3c8LX6qfLx+sSQUVpndr6naC0vrgq48DwdgRE8ARCQwFQZbuhIaPN9ix8C86tQFeiPdhowg+YkhnWrw4K+b6MMt8CDs0yQFB8ElX719E4SdbEfn1nzMzzEp/6LDtVP+mF+Oq73D94o3VY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=mWSf5LtU1oFTlp83YxdQsSkHt4ZKFGT8A7htcccckpl+e2Z5ovP29NZ/U0RtUwQsngaw+9ygJK229GQyiZXXzLaRnMebnICQHZuZemzOvEDrE0MWgWL0FhcxiqDjKAzF+IAUrW1NJ7KSZy56VDdIFuKi8l+Zya6g+Frb0oTl9Hc=;
X-YMail-OSG: _xPTi4kVM1mNJpO0mxSnqRrAinoM1gNBSP15G3aq2jN.UaO
 Q4dwg18zO5VoXAEijGDe.0dkc3lgUfQKuG1HeTvLSrQjV_q4lH168hfNfk8M
 IW7tIv1XB_HEHkDMobiZvIgkSltgL.H90e5WbBCtGWzy.FHTeC.IR.WZIBTT
 ciEu_FvL8pO9uC6lU03KjGDCPV.4JLVDVDB90Lfe1bSYxu.cfOUOHoWKH2D.
 qWc37uFbIQ211u3wKRmakRlxu7j81Khq43IMAG6srPmsShU4FMoklX9qEpZ6
 AFw86WI9wn1Fg_F1d.fq72n.4U7zI_WoE1BFbqRyi688cnn9MdknWAtAeD0N
 9CcbXr8oH_NvoOA.crBQkQeGR5T1j9fQ87NIaq1z3XiTNuTLZvtRwlJT.jNr
 CKBru2QeGepXwQEno58ni_o5cCI.IQtEpH2WXU8tK00F3qLLCmMdT8blhhRy
 orWcT6G0IWbLWoYcsAuOeOvANgeBt
Received: from [71.134.33.177] by web125502.mail.ne1.yahoo.com via HTTP; Fri, 25 May 2012 11:21:07 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>   <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com> <99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com> <4FBFB9F4.8020904@christopherschultz.net>
Message-ID: <1337970067.61576.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Fri, 25 May 2012 11:21:07 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: mod_jk not working !!
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FBFB9F4.8020904@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>________________________________
> From: Christopher Schultz <chris@christopherschultz.net>
>To: Tomcat Users List <users@tomcat.apache.org> 
>Sent: Friday, May 25, 2012 9:57 AM
>Subject: Re: mod_jk not working !!
> 
>-----BEGIN PGP SIGNED MESSAGE-----
>Hash: SHA1
>
>Chuck,
>
>On 5/25/12 12:41 PM, Caldarale, Charles R wrote:
>>> From: Mark Eggers [mailto:its_toasted@yahoo.com] Subject: Re:
>>> mod_jk not working !!
>> 
>> 
>>> I'll try to give a few general directions.
>> 
>> <much useful content snipped>
>> 
>>> Again, start simply.
>> 
>>> 1. Stock Apache HTTPD installation (and verify) 2. Stock Apache
>>> Tomcat installation (and verify) 3. mod_jk installation (and
>>> verify) 4. Second Apache Tomcat installation (and verify both) 5.
>>> Cluster
>> 
>> I'd suggest that your entire e-mail should be put in the Wiki.
>
>+1, though maybe in smaller pieces linked by a top-level page.
>
>- -chris


If this goes up on the Wiki, then smaller pages organized by task would be good.

It would probably help if the Wiki pages had a lot of detail, and cross-reference the appropriate documentation on the Tomcat web site as well.

I've been meaning to write this up for some time, so maybe I'll get started on it this weekend.

Since this is going to take a bit of time, is there a place on the Tomcat Wiki that I can write but not have it published (may be a developer list question). If not, then I'll write locally and then do a cut / paste. However, it would be nice to have feedback during the writing process.

/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 19:21:00 2012
Return-Path: <users-return-234464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB8E895F3
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 19:20:59 +0000 (UTC)
Received: (qmail 63946 invoked by uid 500); 25 May 2012 19:20:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63898 invoked by uid 500); 25 May 2012 19:20:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63887 invoked by uid 99); 25 May 2012 19:20:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 19:20:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 19:20:50 +0000
Received: by pbbro12 with SMTP id ro12so2666811pbb.18
        for <users@tomcat.apache.org>; Fri, 25 May 2012 12:20:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=H+VAxk0cXsRdGPqKK+S6hcQ5ytE+MEQypOTvVMP580M=;
        b=Gm857HBphzlH996c5hqWB81Q1E6ImgklOnJKyy7bFLR+MGh99f5PCLeGDnmXExHxOj
         C8JZ3lNtoCEH36wBpO+qvl0Dz45kup9rm53ytfZCc/9CsJHH7cVbXbyvMf3YY2F2Y8Dg
         8FlRswShkSLaSoBXVf5207/CXIwE2MkDKh+yc=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=H+VAxk0cXsRdGPqKK+S6hcQ5ytE+MEQypOTvVMP580M=;
        b=O8SWbQaV+zq8YuegJvBhgpPjIBlj+kcuC0x9u805tctPWGQxOz7RA/BV/XBArbPiun
         NQQxHzYo/vk7ZnCMjQYWGQXKlbmQhwiYnbtW3G4zbwDD79D218W3ovHpstpaKpD1aSPD
         e2YHuWhCd+EdQyzmaVKLSRyX3LyY0yWSQqGc6oX8el7Ml3P2rB0oZ9axlIn464h1EwOD
         H7z8dDfx6u8C1tjxZEpMvzRo4we0V7yMt0ACge4jeutwlO3IzoruFLn3mpHbU+QVcwcB
         gt0x4GRzV0zexXXU3m7Vm0q+4uSVIEMVRjogkA+XYMAdS16ySbXkAUu9eyq0QwPajWAl
         bojA==
Received: by 10.68.233.193 with SMTP id ty1mr473072pbc.47.1337973628799; Fri,
 25 May 2012 12:20:28 -0700 (PDT)
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
 <1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
 <99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com>
 <4FBFB9F4.8020904@christopherschultz.net> <1337970067.61576.YahooMailNeo@web125502.mail.ne1.yahoo.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <1337970067.61576.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Mime-Version: 1.0 (1.0)
Date: Fri, 25 May 2012 20:19:58 +0100
Message-ID: <-7953955806622399028@unknownmsgid>
Subject: Re: mod_jk not working !!
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQk1oLdxIN0Qr6NjKD2a2cZTsE2WuqfAFRJsMk1g3Sph0GPcWISpmD/jkhGg8FyPfcz3AYCh

On 25 May 2012, at 19:21, Mark Eggers <its_toasted@yahoo.com> wrote:

>> ________________________________
>> From: Christopher Schultz <chris@christopherschultz.net>
>> To: Tomcat Users List <users@tomcat.apache.org>
>> Sent: Friday, May 25, 2012 9:57 AM
>> Subject: Re: mod_jk not working !!
>>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Chuck,
>>
>> On 5/25/12 12:41 PM, Caldarale, Charles R wrote:
>>>> From: Mark Eggers [mailto:its_toasted@yahoo.com] Subject: Re:
>>>> mod_jk not working !!
>>>
>>>
>>>> I'll try to give a few general directions.
>>>
>>> <much useful content snipped>
>>>
>>>> Again, start simply.
>>>
>>>> 1. Stock Apache HTTPD installation (and verify) 2. Stock Apache
>>>> Tomcat installation (and verify) 3. mod_jk installation (and
>>>> verify) 4. Second Apache Tomcat installation (and verify both) 5.
>>>> Cluster
>>>
>>> I'd suggest that your entire e-mail should be put in the Wiki.
>>
>> +1, though maybe in smaller pieces linked by a top-level page.
>>
>> - -chris
>
>
> If this goes up on the Wiki, then smaller pages organized by task would b=
e good.
>
> It would probably help if the Wiki pages had a lot of detail, and cross-r=
eference the appropriate documentation on the Tomcat web site as well.
>
> I've been meaning to write this up for some time, so maybe I'll get start=
ed on it this weekend.
>
> Since this is going to take a bit of time, is there a place on the Tomcat=
 Wiki that I can write but not have it published (may be a developer list q=
uestion). If not, then I'll write locally and then do a cut / paste. Howeve=
r, it would be nice to have feedback during the writing process.

It's coherent. Just put it up, worry about the tweaking later.


p



>
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 19:36:25 2012
Return-Path: <users-return-234465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D55DB95CC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 19:36:25 +0000 (UTC)
Received: (qmail 11049 invoked by uid 500); 25 May 2012 19:36:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10990 invoked by uid 500); 25 May 2012 19:36:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10978 invoked by uid 99); 25 May 2012 19:36:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 19:36:22 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chad.Davis@emc.com designates 128.222.32.20 as permitted sender)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 19:36:14 +0000
Received: from hop04-l1d11-si03.isus.emc.com (HOP04-L1D11-SI03.isus.emc.com [10.254.111.23])
	by mexforward.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4PJZq1h006121
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Fri, 25 May 2012 15:35:53 -0400
Received: from mailhub.lss.emc.com (mailhub.lss.emc.com [10.254.221.253]) by hop04-l1d11-si03.isus.emc.com (RSA Interceptor) for <users@tomcat.apache.org>; Fri, 25 May 2012 15:35:27 -0400
Received: from mxhub07.corp.emc.com (mxhub07.corp.emc.com [128.222.70.204])
	by mailhub.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4PJXCY6027276
	for <users@tomcat.apache.org>; Fri, 25 May 2012 15:33:12 -0400
Received: from mx14a.corp.emc.com ([169.254.1.170]) by mxhub07.corp.emc.com
 ([128.222.70.204]) with mapi; Fri, 25 May 2012 15:33:12 -0400
From: <Chad.Davis@emc.com>
To: <users@tomcat.apache.org>
Date: Fri, 25 May 2012 15:31:28 -0400
Subject: CATALINA_BASE and CATALINA_HOME deployment
Thread-Topic: CATALINA_BASE and CATALINA_HOME deployment
Thread-Index: Ac06rIKFDhZaqND0S0q71lk7xvexcw==
Message-ID: <26A7FC1339D50348898F6DFFC9A96D9C06AA837F@MX14A.corp.emc.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_26A7FC1339D50348898F6DFFC9A96D9C06AA837FMX14Acorpemccom_"
MIME-Version: 1.0
X-EMM-MHVC: 1
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_26A7FC1339D50348898F6DFFC9A96D9C06AA837FMX14Acorpemccom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm trying to convert my app to use the preferred catalina base and home de=
ployment.  I understand that this allows for easier migration between tomca=
t versions, etc.  As a point of reference, I'm reading about how to do this=
 in Tomcat: The Definitive Guide.  Also, I'm dealing with 5.5.35, if that m=
atters.

I have one question.  I understand that the separation of the core tomcat s=
tuff from my instance stuff is good.  But the book says to copy the entire =
conf folder over to my instance folder ( CATALINA_BASE/myapp/conf ).  Isn't=
 this copying a bunch of tomcat version specific stuff that I'll have to si=
ft through when it's time to migrate?  Will I be able to just upgrade CATAL=
INA_HOME and not upgrade all of that copied conf stuff as well?

Thanks,
Chad

--_000_26A7FC1339D50348898F6DFFC9A96D9C06AA837FMX14Acorpemccom_--

From users-return-234466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 20:25:55 2012
Return-Path: <users-return-234466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C869C21D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 20:25:55 +0000 (UTC)
Received: (qmail 44837 invoked by uid 500); 25 May 2012 20:25:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44773 invoked by uid 500); 25 May 2012 20:25:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44759 invoked by uid 99); 25 May 2012 20:25:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:25:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:25:44 +0000
Received: from [192.168.245.129] (p549E08C4.dip0.t-ipconnect.de [84.158.8.196])
	by tor.combios.es (Postfix) with ESMTPA id 79D42DA06A6
	for <users@tomcat.apache.org>; Fri, 25 May 2012 22:25:21 +0200 (CEST)
Message-ID: <4FBFEAAC.3010908@ice-sa.com>
Date: Fri, 25 May 2012 22:25:16 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: CATALINA_BASE and CATALINA_HOME deployment
References: <26A7FC1339D50348898F6DFFC9A96D9C06AA837F@MX14A.corp.emc.com>
In-Reply-To: <26A7FC1339D50348898F6DFFC9A96D9C06AA837F@MX14A.corp.emc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Chad.Davis@emc.com wrote:
> I'm trying to convert my app to use the preferred catalina base and home deployment.  I understand that this allows for easier migration between tomcat versions, etc. 

Maybe that is a slight misconception.  I think that the separation between catalina_base 
and catalina_home is /mainly/ directed at allowing someone to run multiple tomcat 
instances on the same host, with different configurations, but sharing the same (tomcat) code.

  As a point of reference, I'm reading about how to do this in Tomcat: The Definitive Guide.

That may be ok, but why not use the online tomcat documentation ?
Last time I looked - and with the exception of the part about logging ;-) - it was quite 
comprehensible.

   Also, I'm dealing with 5.5.35, if that matters.

Well yes. Why choose an old version that will soon become obsolete (or at least unsupported) ?
The current version is 7.0, and the version before that was 6.0.
If you are going to make this effort, do it with the latest released version. It will last 
longer.

> 
> I have one question.  I understand that the separation of the core tomcat stuff from my instance stuff is good.  

But the book says to copy the entire conf folder over to my instance folder ( 
CATALINA_BASE/myapp/conf ).

That's a strange-sounding location.
Maybe you are confused about the term "instance" ? It means "an instance of tomcat", not 
of your application.
The correct folder is catalina_base/conf.
The default location for applications running under that separate tomcat instance would be 
catalina_base/webapps/, with your apps below that one (like catalina_base/webapps/myapp).

Isn't this copying a bunch of tomcat version specific stuff that I'll have to sift through 
when it's time to migrate?
   Will I be able to just upgrade CATALINA_HOME and not upgrade all of that copied conf 
stuff as well?
> 

Definitely not.  The files in the "conf" folder are quite likely to change between 
versions (old tags being retired, new tags being added, attributes changing in tags, etc..).
The recommended practice when you ugrade to another version is to install a "vanilla" new 
version in a new directory, with the vanilla conf files of that new version.
Then check that it is working.
And then, bring over your modifications to the old vanilla version, into these new conf 
files, one by one and carefully, consulting the docs at every step to see what's changed.
Then when it all works with the new version, remove the old one.

Under the catalina_home/catalina_base directory (by default they are the same), there have 
been (and will be) changes between versions, such as some sub-directories disappearing or 
being renamed, other ones added, and some stuff that used to be in one place being moved 
to another.  If you try to keep the same directory structure and the same conf files 
between versions, you are looking for trouble.

Note: I am talking about upgrading between major versions, like from tomcat 5.5.x to 
tomcat 6.0.x, or from 6.0.x to 7.0.x.
If you are talking about upgrading from 7.0.x to 7.0.y, then things are a bit different.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 20:30:21 2012
Return-Path: <users-return-234467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D19E6C1B6
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 20:30:21 +0000 (UTC)
Received: (qmail 56126 invoked by uid 500); 25 May 2012 20:30:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56067 invoked by uid 500); 25 May 2012 20:30:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56058 invoked by uid 99); 25 May 2012 20:30:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:30:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:30:11 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id ELVi1j0020EZKEL5ALVq3T; Fri, 25 May 2012 20:29:50 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id ELVp1j00w38FjT13MLVq3h; Fri, 25 May 2012 20:29:50 +0000
Message-ID: <4FBFEBBD.5070002@christopherschultz.net>
Date: Fri, 25 May 2012 16:29:49 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: CATALINA_BASE and CATALINA_HOME deployment
References: <26A7FC1339D50348898F6DFFC9A96D9C06AA837F@MX14A.corp.emc.com>
In-Reply-To: <26A7FC1339D50348898F6DFFC9A96D9C06AA837F@MX14A.corp.emc.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chad,

On 5/25/12 3:31 PM, Chad.Davis@emc.com wrote:
> I'm trying to convert my app to use the preferred catalina base
> and home deployment.

I dunno about /preferred/, but it certainly is flexible.

> I understand that this allows for easier migration between tomcat
> versions, etc.

Absolutely!

> As a point of reference, I'm reading about how to do this in
> Tomcat: The Definitive Guide.  Also, I'm dealing with 5.5.35, if
> that matters.

CATALINA_BASE and CATALINA_HOME have worked (roughly) the same way
since at least as far back as Tomcat 4.1.

> I have one question.  I understand that the separation of the core 
> tomcat stuff from my instance stuff is good.  But the book says to 
> copy the entire conf folder over to my instance folder ( 
> CATALINA_BASE/myapp/conf ).  Isn't this copying a bunch of tomcat 
> version specific stuff that I'll have to sift through when it's
> time to migrate?

Yes and no. First, you *must* have a separate conf/server.xml file
otherwise all your instances will conflict with their port numbers,
etc. Same thing with conf/tomcat-users.xml -- that would be a security
issue to share that configuration.

Technically, you can leave catalina.policy, catalina.properties,
context.xml, and logging.properties in CATALINA_HOME/conf and Tomcat
will pick them up.

You'll have to check, but you may be able to leave web.xml out of
CATALINA_BASE/conf and Tomcat will pick-up the one from
CATALINA_HOME/conf.

> Will I be able to just upgrade CATALINA_HOME and not upgrade all of
> that copied conf stuff as well?

When upgrading between major versions of Tomcat (say, 5.5 -> 7.0 which
you should do at your earliest possible convenience), you *will* have
to ditch your server.xml. You will also have to replace your
conf/web.xml file with the one that comes with the version of Tomcat
that you are using. I think everything else left over (assuming you
have left out catalina.policy, etc. as I described above) then you
should be good to go after a new server.xml has been installed.

When I upgrade from one version to the next, I usually just do a diff
of my server.xml and the one that is in CATALINA_HOME/conf of the
version I'm /leaving/. Then, I get a fresh copy of server.xml from the
*new* version of Tomcat, stick it in CATALINA_BASE/conf/ and apply
basically the same changes to it. That way, I don't break things like
logging, standard Listener configuration, etc.

Hope that helps,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/670ACgkQ9CaO5/Lv0PD/GgCeLsr3wzQr0UOTUWphWCATwLFY
gPgAoI2GZIcAqUR88oVPfJfM9ZvCV33E
=x70f
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 20:40:35 2012
Return-Path: <users-return-234468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B66D7C255
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 20:40:35 +0000 (UTC)
Received: (qmail 96736 invoked by uid 500); 25 May 2012 20:40:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96693 invoked by uid 500); 25 May 2012 20:40:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96681 invoked by uid 99); 25 May 2012 20:40:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:40:32 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.23] (HELO nm8-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.23)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 25 May 2012 20:40:22 +0000
Received: from [98.138.90.53] by nm8.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 20:40:02 -0000
Received: from [98.138.89.163] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 25 May 2012 20:40:02 -0000
Received: from [127.0.0.1] by omp1019.mail.ne1.yahoo.com with NNFMP; 25 May 2012 20:40:02 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 376345.1110.bm@omp1019.mail.ne1.yahoo.com
Received: (qmail 78765 invoked by uid 60001); 25 May 2012 20:40:02 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1337978402; bh=EYwEMIPUsF67vYueFHrlkR/BKlMXgKyEWmZUb4DaHDA=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:Cc:MIME-Version:Content-Type; b=HGLnC3gqifvAmP2fwN6qXIhwqlkC0q70j85wyA0jKnouam8ymGZXn0eUgucQDRUYyCnhulvwaJ/AN0jOC/20ezQI+A9lC0XEaim3fZTO7V3Ig5nrF8tleB1N4r3WgCqwVkNPWwqz2mbOOcqdYSZfGgZ5cQElm3Kp9U6NDAiB1Eo=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:Cc:MIME-Version:Content-Type;
  b=Fxa6dMH4Tqk3D0GTKuZ58fNvRWNN9rbx5CFevWlqoT4tEdnk+cEFR2Z5TQ+hVwIdisjdhniRZk8MlEeOZNcb8Z9z5jVo0KzVuDnFrFdi/bv0ToREpbHDAVBMZyQSFPlHV55wA04j6EzcvxSjnMfODnWhYcqgfNqh3Ko1Cpe+/so=;
X-YMail-OSG: 6oa.U38VM1nbR.EZRWgAD6OI6SpY4szf21HuK8456ED3qdV
 qIJrFneJHw4TG1VCclDXtds_Pk9onIgcUKLGflwjDXScWN1s.YMD1RiOijtR
 xWRcmIa0i8IyvyNAwzC3G5g9vRW7VTHvUz2pCF9Bc8IdTOKZXdEbhcrks0GJ
 3XgyBtALbwOc5SFCyV7zzHnD6VEQJ1VLBfqiQEkdcxuxy8H4z0ITA9Qx7w9o
 S05Ie2R.eM3m1sPPn3lBw160L3ZWKWUlef2lUqwY9DBdJw1M58W0DJKODIC1
 HOK4aVvmX.w8nYlCg0AJghT_hpUGIvOO0DbcSgW.UHnA79Ubr4qGB2enE0gx
 k_l_cw520w2BQSvbJxJMd.k0ODrI4WgfITVgASaq5RmI7HqdImNVcGLkj8gq
 6eH2aZg--
Received: from [87.202.12.178] by web122306.mail.ne1.yahoo.com via HTTP; Fri, 25 May 2012 13:40:02 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
Message-ID: <1337978402.73442.YahooMailNeo@web122306.mail.ne1.yahoo.com>
Date: Fri, 25 May 2012 13:40:02 -0700 (PDT)
From: Hermes Flying <flyinghermes@yahoo.com>
Reply-To: Hermes Flying <flyinghermes@yahoo.com>
Subject: After going to Tomcat 6 I get log4j problems. Why? (RE:)
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Cc: "knst.kolinko@gmail.com" <knst.kolinko@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-140725594-524291117-1337978402=:73442"
X-Virus-Checked: Checked by ClamAV on apache.org

---140725594-524291117-1337978402=:73442
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Creating a new Thread as Pid recommended:=0AConcerning the questions posed =
by Konstantin Kolinko:=0A>>You do not say what jars are exactly where and w=
hat actual=0A>>configuration (server.xml and logging) you have.=0AI am not =
sure I follow: you mean the version? I have log4j in the WEB-INF\xml, and c=
ommons-logging and commons-logging-api as well=0ANo problem up to Tomcat 5.=
5. Does this answer your question?=0A=0A=0A>>Placing custom jars into %TOMC=
AT_HOME%\lib is usually a bad idea.=0AThe custom jar provides an SSLImpleme=
ntation to be "hooked" in the connectors. When it tries to log I get except=
ion. No problem in Tomcat 5.5.=0AThis exception goes away if I move commons=
-logging in %TOMCAT_HOME%\lib BUT then I have exceptions in my web applicat=
ion (even if I delete the commons-logging from WEB-INF\lib)=0A=0AHas someth=
ing changed in the logging in Tomcat 6?=0AHow can I resolve this problems?=
=0A=0AThank you!=0A=0A=0A=0A=0AI'd suspect that one of them is the culprit.=
=0A2012/5/25 Hermes Flying <flyinghermes@yahoo.com>:=0A> Hi,=0A>=0A> I have=
 upgraded from Tomcat 5.5 to Tomcat 6.0.35=0A> I am getting java.lang.NoCla=
ssDefFoundError: org.apache.commons.logging.LogFactory=0A> I didn't have th=
is problem before.=0A> Note that I have commons-logging already in my web a=
pps WEB-INF\lib=0A> And this exception is from a class (custom class) runni=
ng from a jar in %TOMCAT_HOME%\lib=0A>=0A> If I drop commons-logging in %TO=
MCAT_HOME%\lib the exception does not happen BUT now I get exceptions in lo=
g4j from inside my web app.=0A> I tried also deleting the commons-logging f=
rom %TOMCAT_HOME%\webapps\myApp\WEB-INF\lib but no success.=0A>=0A> Any ide=
a what is the problem here?=0A=0AYour description is too generic to say.=0A=
=0AYou do not say what jars are exactly where and what actual=0Aconfigurati=
on (server.xml and logging) you have.=0A=0ASee=0A1) "Class Loading" page in=
 documentation.=0A=0APlacing custom jars into %TOMCAT_HOME%\lib is usually =
a bad idea.=0A=0AI'd suspect that one of them is the culprit.=0A=0A2) "Logg=
ing" page in documentation.=0A=0ACompare it with your configuration.=A0 It =
might be that you config=0Amatches some of the steps for "enabling log4j" d=
escribed there, but=0Anot all of them. Note that using log4j in Tomcat is n=
ot the default=0Aconfiguration.=0A=0A3) Apache Commons Logging documentatio=
n=0Ahttp://commons.apache.org/logging/guide.html=0A=0AEspecially how common=
s-logging switches between java.util.logging and=0Alog4j (preferring the la=
tter if it is available).=0A=0ABest regards,=0AKonstantin Kolinko=0A=0A----=
-----------------------------------------------------------------=0ATo unsu=
bscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AFor additional comma=
nds, e-mail: users-help@tomcat.apache.org=0A
---140725594-524291117-1337978402=:73442--

From users-return-234469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 20:46:16 2012
Return-Path: <users-return-234469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C01F2C28C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 20:46:16 +0000 (UTC)
Received: (qmail 9046 invoked by uid 500); 25 May 2012 20:46:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8970 invoked by uid 500); 25 May 2012 20:46:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8961 invoked by uid 99); 25 May 2012 20:46:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:46:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 20:46:05 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id ELXd1j0041swQuc5DLlkVV; Fri, 25 May 2012 20:45:44 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id ELlj1j00P38FjT13bLlkYg; Fri, 25 May 2012 20:45:44 +0000
Message-ID: <4FBFEF77.1080104@christopherschultz.net>
Date: Fri, 25 May 2012 16:45:43 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: After going to Tomcat 6 I get log4j problems. Why? (RE:)
References: <1337978402.73442.YahooMailNeo@web122306.mail.ne1.yahoo.com>
In-Reply-To: <1337978402.73442.YahooMailNeo@web122306.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hermes,

A: Because it's hard to read.

Q: Why shouldn't I top-post?

- -chris

On 5/25/12 4:40 PM, Hermes Flying wrote:
> Creating a new Thread as Pid recommended: Concerning the questions
> posed by Konstantin Kolinko:
>>> You do not say what jars are exactly where and what actual 
>>> configuration (server.xml and logging) you have.
> I am not sure I follow: you mean the version? I have log4j in the
> WEB-INF\xml, and commons-logging and commons-logging-api as well No
> problem up to Tomcat 5.5. Does this answer your question?
> 
> 
>>> Placing custom jars into %TOMCAT_HOME%\lib is usually a bad
>>> idea.
> The custom jar provides an SSLImplementation to be "hooked" in the
> connectors. When it tries to log I get exception. No problem in
> Tomcat 5.5. This exception goes away if I move commons-logging in
> %TOMCAT_HOME%\lib BUT then I have exceptions in my web application
> (even if I delete the commons-logging from WEB-INF\lib)
> 
> Has something changed in the logging in Tomcat 6? How can I resolve
> this problems?
> 
> Thank you!
> 
> 
> 
> 
> I'd suspect that one of them is the culprit. 2012/5/25 Hermes
> Flying <flyinghermes@yahoo.com>:
>> Hi,
>> 
>> I have upgraded from Tomcat 5.5 to Tomcat 6.0.35 I am getting
>> java.lang.NoClassDefFoundError:
>> org.apache.commons.logging.LogFactory I didn't have this problem
>> before. Note that I have commons-logging already in my web apps
>> WEB-INF\lib And this exception is from a class (custom class)
>> running from a jar in %TOMCAT_HOME%\lib
>> 
>> If I drop commons-logging in %TOMCAT_HOME%\lib the exception does
>> not happen BUT now I get exceptions in log4j from inside my web
>> app. I tried also deleting the commons-logging from
>> %TOMCAT_HOME%\webapps\myApp\WEB-INF\lib but no success.
>> 
>> Any idea what is the problem here?
> 
> Your description is too generic to say.
> 
> You do not say what jars are exactly where and what actual 
> configuration (server.xml and logging) you have.
> 
> See 1) "Class Loading" page in documentation.
> 
> Placing custom jars into %TOMCAT_HOME%\lib is usually a bad idea.
> 
> I'd suspect that one of them is the culprit.
> 
> 2) "Logging" page in documentation.
> 
> Compare it with your configuration.  It might be that you config 
> matches some of the steps for "enabling log4j" described there,
> but not all of them. Note that using log4j in Tomcat is not the
> default configuration.
> 
> 3) Apache Commons Logging documentation 
> http://commons.apache.org/logging/guide.html
> 
> Especially how commons-logging switches between java.util.logging
> and log4j (preferring the latter if it is available).
> 
> Best regards, Konstantin Kolinko
> 
> ---------------------------------------------------------------------
>
> 
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk+/73cACgkQ9CaO5/Lv0PBuFQCeM91SilAiWfhgXVeaHA5BDv1w
P2QAoI9rggqqhrkgmoJLwM7XobIlDpCi
=dbX/
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri May 25 21:35:41 2012
Return-Path: <users-return-234470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0EDA190B0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 25 May 2012 21:35:41 +0000 (UTC)
Received: (qmail 38091 invoked by uid 500); 25 May 2012 21:35:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37911 invoked by uid 500); 25 May 2012 21:35:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37900 invoked by uid 99); 25 May 2012 21:35:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 21:35:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 May 2012 21:35:29 +0000
Received: by wgbdr1 with SMTP id dr1so1135965wgb.0
        for <users@tomcat.apache.org>; Fri, 25 May 2012 14:35:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=YuZr37j3DSV6NzDynJUguyR1RJ1+OFGfUize2Gysdn0=;
        b=TykqhdUa6grwnetJMOBSacemCUhOkDzL1rLrjJGR9Pcu1ElhXbVP8HKFUYVo9xsSJH
         rBIj21ZlC8+wfwbEZocQY4OUAqxL7Jd+1hwbSzp49tKKpBQcp8/Shtx3FoPMEc7gg4sq
         AimSS6LqIThtrK8m44vQmdibuxXfGUv/ms2ak=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=YuZr37j3DSV6NzDynJUguyR1RJ1+OFGfUize2Gysdn0=;
        b=V96NPA/dYI2PRVE8ykaRorP8vCllLd23jJshePpTq+6N1Q3JMxPc5IW58j8kubJZt5
         UrF2gLiPuGNJFVG9g7uhOFxctUzchQNPeJ8EcIw7qnlVu4Lu8arO1rwWzWiiPBZ1A4L7
         ZvheQG1pGZQYLaqnKxhiFlMMGatBAjuE9eCS7oJ7Fi+gVZ/qfiyO/DT+InEzrLe9DXnN
         x9lULbsjIlS/Gfoi2BdxHSBv24vXXMn9FYeCyclhYe8n81O+X1X+Ol8/jMv83L4h1JRG
         7JTW/gXC6v+2xdVXiYtkUXX1QsQGgJ05JOS8eJcumUdG5WXy/OryplZ6vS1skDYOdJRi
         rm1g==
Received: by 10.216.228.88 with SMTP id e66mr145823weq.208.1337981709302;
        Fri, 25 May 2012 14:35:09 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id n11sm24567879wiv.9.2012.05.25.14.35.07
        (version=SSLv3 cipher=OTHER);
        Fri, 25 May 2012 14:35:08 -0700 (PDT)
Message-ID: <4FBFFB0C.4020009@pidster.com>
Date: Fri, 25 May 2012 22:35:08 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: After going to Tomcat 6 I get log4j problems. Why? (RE:)
References: <1337978402.73442.YahooMailNeo@web122306.mail.ne1.yahoo.com>
In-Reply-To: <1337978402.73442.YahooMailNeo@web122306.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigC646D13133E859B1F28FA25D"
X-Gm-Message-State: ALoCoQmP94SwxPiuX+z4t8rInVFPUqnqjeNigMg+tIq4CJ44Mgsj0Gn17mFN/0KBYPpn//Gx2gMW

--------------enigC646D13133E859B1F28FA25D
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 25/05/2012 21:40, Hermes Flying wrote:
> Creating a new Thread as Pid recommended:
> Concerning the questions posed by Konstantin Kolinko:
>>> You do not say what jars are exactly where and what actual
>>> configuration (server.xml and logging) you have.
> I am not sure I follow: you mean the version? I have log4j in the WEB-I=
NF\xml, and commons-logging and commons-logging-api as well
> No problem up to Tomcat 5.5. Does this answer your question?
>=20
>=20
>>> Placing custom jars into %TOMCAT_HOME%\lib is usually a bad idea.
> The custom jar provides an SSLImplementation to be "hooked" in the conn=
ectors. When it tries to log I get exception. No problem in Tomcat 5.5.
> This exception goes away if I move commons-logging in %TOMCAT_HOME%\lib=
 BUT then I have exceptions in my web application (even if I delete the c=
ommons-logging from WEB-INF\lib)
>=20
> Has something changed in the logging in Tomcat 6?
> How can I resolve this problems?
>=20
> Thank you!
>=20
>=20
>=20
>=20
> I'd suspect that one of them is the culprit.
> 2012/5/25 Hermes Flying <flyinghermes@yahoo.com>:
>> Hi,
>>
>> I have upgraded from Tomcat 5.5 to Tomcat 6.0.35
>> I am getting java.lang.NoClassDefFoundError: org.apache.commons.loggin=
g.LogFactory
>> I didn't have this problem before.

Tomcat 5.5 !=3D Tomcat 6.0

 http://tomcat.apache.org/migration.html


p

>> Note that I have commons-logging already in my web apps WEB-INF\lib
>> And this exception is from a class (custom class) running from a jar i=
n %TOMCAT_HOME%\lib
>>
>> If I drop commons-logging in %TOMCAT_HOME%\lib the exception does not =
happen BUT now I get exceptions in log4j from inside my web app.
>> I tried also deleting the commons-logging from %TOMCAT_HOME%\webapps\m=
yApp\WEB-INF\lib but no success.
>>
>> Any idea what is the problem here?
>=20
> Your description is too generic to say.
>=20
> You do not say what jars are exactly where and what actual
> configuration (server.xml and logging) you have.
>=20
> See
> 1) "Class Loading" page in documentation.
>=20
> Placing custom jars into %TOMCAT_HOME%\lib is usually a bad idea.
>=20
> I'd suspect that one of them is the culprit.
>=20
> 2) "Logging" page in documentation.
>=20
> Compare it with your configuration.  It might be that you config
> matches some of the steps for "enabling log4j" described there, but
> not all of them. Note that using log4j in Tomcat is not the default
> configuration.
>=20
> 3) Apache Commons Logging documentation
> http://commons.apache.org/logging/guide.html
>=20
> Especially how commons-logging switches between java.util.logging and
> log4j (preferring the latter if it is available).
>=20
> Best regards,
> Konstantin Kolinko
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigC646D13133E859B1F28FA25D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPv/sNAAoJEGoM2OGpOvr94dYP/3YXSH6a3+HnYkolh10s3hTF
xJxRSy3+cQ1cH6ba3vrc3slfqdW1HRN51ltySesGZxfe2MoeqPi5dB5SqxFl75id
a8La3Ky5YvurhCn1dAbY9JEjg+9dtgEqXRuoX5oWxSV40DosyRqCBnhXJK+g+719
+GqBdxngviRWGOcmcG7GxclkejchxfVWLa34H8K8CepxJgRjwAMNpKRE9Ex5oVDl
6KwJkNNpHN7IvwQVpALwQHN+CB+ke5QcwUgQ7AgA3oGizJ0Eab6GpQSvynhrrSwM
kAlWEsLFS/dD6Df/auRKmS3WNPyzRIQVscRmbCWGMpEWVN60A24AOvwbgIXDfjdy
z0NUwtfK8vA6uk6LAvuvBGmZrF1hCcQjXehFF39K+jTJsuFQKvve3lQZZMsek/3T
xDqjmgQ5TwZ16r5a9YWtq4/eNnuhwLQQKxFv7dEbYFzA7Yt41aw7uKXijmh5Kl71
8uHrVeyywielq1QYFbfT8bJHTwSU9rWXZMauwfuCGkugsUufQUt22UUirrrFx+m2
62McNS5Gpey+GNIP4Z1Z8e1JrF8pMNhU5RvkF8QCdbTAebmrDgWthdZWbZ4Qfypt
7yv+Z131rrrMO+P+Qe726Ph+U733OpUrksA5kmfNcr3p2rix8jbAyJcq65QvbhhW
4f0vTd6U2+pJ6qt2lhc5
=u2z5
-----END PGP SIGNATURE-----

--------------enigC646D13133E859B1F28FA25D--

From users-return-234471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 26 08:35:35 2012
Return-Path: <users-return-234471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 326C89DC2
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 26 May 2012 08:35:35 +0000 (UTC)
Received: (qmail 79708 invoked by uid 500); 26 May 2012 08:35:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79440 invoked by uid 500); 26 May 2012 08:35:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79417 invoked by uid 99); 26 May 2012 08:35:29 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 08:35:29 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 08:35:28 +0000
Message-ID: <4FC095CF.9040305@apache.org>
Date: Sat, 26 May 2012 10:35:27 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 05/25/2012 08:11 PM, Anthony J. Biacco wrote:
> GOOD loadbalancer (loadbalancer,app-03)
> BAD loadbalancer (app-03,loadbalancer)


Could you open BZ entry for that?
Although it works in most cases, it's an error and should be fixed.
The point is that we can have both lb and standard workers with the
same name because we allocate shared memory both by name and type.

So, need a BZ entry so we can reference it as a regression from 1.2.35


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 26 14:45:25 2012
Return-Path: <users-return-234472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0C5DA9326
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 26 May 2012 14:45:24 +0000 (UTC)
Received: (qmail 22676 invoked by uid 500); 26 May 2012 14:45:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22602 invoked by uid 500); 26 May 2012 14:45:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22589 invoked by uid 99); 26 May 2012 14:45:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 14:45:20 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 14:45:12 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q4QEipld021284
	for <users@tomcat.apache.org>; Sat, 26 May 2012 16:44:52 +0200 (CEST)
Message-ID: <4FC0EC5B.9010509@kippdata.de>
Date: Sat, 26 May 2012 16:44:43 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: mod_jk recovery when tomcat killed
References: <CADmRKMwbsUZcu9oRyBu+jH+0jDMWuHBFgP=N-NwhNZMeQ_Dmag@mail.gmail.com><4F9EA654.6060903@christopherschultz.net><CADmRKMyqyakmDDWCGt7MFwRdO8MJsyZKXosQUBvMFOYRBrYXRw@mail.gmail.com> <CADmRKMzrD4RtFR33uDePNSbw5xX_FT=_wG4L2_B_vSfyaJ39xA@mail.gmail.com>
In-Reply-To: <CADmRKMzrD4RtFR33uDePNSbw5xX_FT=_wG4L2_B_vSfyaJ39xA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

On 10.05.2012 11:24, Agnieszka Allstar wrote:

> Obviously this has sth to do with the fact that in A case the mod_jk.log
> says the request is recoverable, whereas in B case it's unrecoverable but I
> can't really tell what's the cause after looking at mod_jk src.

Just in case you are still following the list: in general a request is 
recoverable, if mod_jk wasn't able to send a request packet to Tomcat. 
If it has already sent the request there and the communication fails 
later, failing over to another Tomcat would possibly mean the same 
request were handled twice. Not the right decision in general, e.g. if 
the request triggers a shop order.

The workers.properties attribute reciovery_options influences this in 
detail, e.g. you can decide that GET and HEAD requests should always be 
recoverable, even if they had already been sent.

For your two examples it would indicate, that they failed at different 
points of the communication, e.g. in one case mod_jk could not connect 
to Tomcat (recoverable), in the other case Tomcat already received the 
request but did not response (in general unrecoverable).

Regards,

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat May 26 21:19:32 2012
Return-Path: <users-return-234473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3FCC9DDC
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 26 May 2012 21:19:32 +0000 (UTC)
Received: (qmail 52684 invoked by uid 500); 26 May 2012 21:19:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52614 invoked by uid 500); 26 May 2012 21:19:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52605 invoked by uid 99); 26 May 2012 21:19:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 21:19:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kjkoster@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 May 2012 21:19:21 +0000
Received: by wibhm14 with SMTP id hm14so464765wib.0
        for <users@tomcat.apache.org>; Sat, 26 May 2012 14:19:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=uuYHiyKcWEca8G5grI5QdpHWj0caXA5ezNE6R2rsU84=;
        b=HJVIO60kVxhSOOiUGMURfdyAXCt53Dwwk4S6ZfRu/PWCXFUOqRIu6BY+iPZ3Y8Fes0
         gkG3OvAg497hVmi5rpJtvnIWIHd7AGZVVlKOuou0CHBAdEwXqIm59Exnq/SbdFocMVV/
         3xd+kqV+zBgqyTk/MaX8efkH1f/+Ij1CGhUD80YkA7CbMDMHowchFp5yL2VEy0DuSRjG
         uaSP6Qqf8hNFmcSjnoE1t1K49wg+YORFPOvWF4+nAv3E2BybLxWTlLsCEST6iMac7qyH
         iaKYFKPaUHhXFnT0XbZ4jEJQXXLR0i3TmqVi6DZ/PnXuJaQj6UY6ePruiGKS4uq5hp1M
         cAQg==
Received: by 10.216.228.152 with SMTP id f24mr1517012weq.85.1338067141079;
        Sat, 26 May 2012 14:19:01 -0700 (PDT)
Received: from [192.168.0.28] (kjkoster.org. [83.163.197.206])
        by mx.google.com with ESMTPS id e20sm8075376wiv.7.2012.05.26.14.18.59
        (version=TLSv1/SSLv3 cipher=OTHER);
        Sat, 26 May 2012 14:19:00 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: connection reset errors
From: Kees Jan Koster <kjkoster@gmail.com>
In-Reply-To: <4FBB8A61.1080906@ice-sa.com>
Date: Sat, 26 May 2012 23:18:58 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <8E544082-C9D0-4CB8-AEEB-3AB4E0DF800C@gmail.com>
References: <66593FBF-28EE-4714-B635-665E8C8108DC@gmail.com> <4FBB62E9.4090406@ice-sa.com> <A69D0F8A-0624-42F5-9D12-0C9CA18BBB24@gmail.com> <4FBB8A61.1080906@ice-sa.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)

Dear Andr=E9,

Took me a while to answer, because I wanted to get more precise =
readings.

>>> Assuming that your client is really connecting to that HTTP =
connector on port 8080 mentioned above..
>> Yes, it has a forwarded port 80 (using FreeBSD ipfw) that also points =
to 8080, and there is an Apache with mod_proxy_http that hooks into =
8081. My tests are on the vanilla port, though.
>=20
> Can you be a bit clearer on this part ?  Do you see the problem =
happening for 1 in 10 posts, when your client connects directly to =
Tomcat's HTTP port 8080 ?
> Or is it only when the client connects to Tomcat via either one of =
these intermediate pieces of machinery ?

I re-ran my tests, making sure that I was positive about the path the =
packets travel. Here is what I fished out of the log of a client app =
running on the same machine as the server:

java.net.SocketException: Connection reset by peer
        at java.net.PlainSocketImpl.socketSetOption(Native Method)
        at =
java.net.AbstractPlainSocketImpl.setOption(AbstractPlainSocketImpl.java:26=
7)
        at java.net.Socket.setTcpNoDelay(Socket.java:940)
        at sun.net.www.http.HttpClient.openServer(HttpClient.java:400)
        at sun.net.www.http.HttpClient.openServer(HttpClient.java:483)
        at sun.net.www.http.HttpClient.<init>(HttpClient.java:213)
        at sun.net.www.http.HttpClient.New(HttpClient.java:300)
        at sun.net.www.http.HttpClient.New(HttpClient.java:316)
        at =
sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnec=
tion.java:992)
        at =
sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection=
.java:971)
        at =
sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java=
:846)
        at =
sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnect=
ion.java:1087)
        ....

This particular client connects on the same machine as the Tomcat =
server, using port 8080 (the configured HTTP connector for this Tomcat =
server). The URL used is http://localhost:8080/<webapp>.

So whatever is happening, it is not happening on the network or in the =
ISP's hardware. It seems to be local to my machine and with this I feel =
that Tomcat is a suspect again. This goes against some of the things I =
said earlier. I was wrong, sorry.

Is there any way to overwhelm a Tomcat connector without it serving 503 =
responses? This particular connector is maxed out at 256 connections, =
with about 5% actually busy at any given time (as reported by JMX), with =
spikes of up to 50% busy every hour or so.

> Another thing : your client is effectively requesting non-keepalive =
connections, so Tomcat will close the connection after sending the =
response to each request.  And your clients have to rebuild a new =
connection for each request.
> If the same client(s) make lots of small requests one after another, =
this may be counter-productive, because each connection build-up =
requires several packets going back and forth. Also, on the server side, =
when a connection is being closed, it will nevertheless "linger" for a =
while in CLOSE_WAIT state, waiting for the client's TCP stack to =
acknowledge the CLOSE.  I have seen cases where a large number of such =
connections being in CLOSE_WAIT triggered bizarre issues, such as a =
server becoming unable to accept new TCP connections for a while.

I know this, but since I know the traffic pattern (connections are used =
once per minute) I opted to make the connections non-keep-alive from the =
client side. That way, the connections that come from browsers can make =
use of keep-alive for performance.

I guess I should have gone for a model where I have a non-keel-alive =
HTTP connector on Tomcat for the clients and another keep-alive-enabled =
connector for the browser traffic. Hmmm. It may not be too late for =
that, but first I'd like some proof this is an issue. :)

> It may be worth checking how many of such CLOSE_WAIT connections you =
have over time, and if this relates to when the problems happen.
> netstat -pan | grep CLOSE_WAIT
> would show this. If more than a couple of hundreds show up, I'd become =
suspicious of something like that.

I now graph these in Munin and I see spikes of up to 100 sockets in that =
state. You say hundreds are a problem, what about one hundred?
--
Kees Jan

http://java-monitor.com/
kjkoster@kjkoster.org
+31651838192

Repairing cannot be completed, you can only stop doing it.
                                     -- Belarusian proverb


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 15:27:47 2012
Return-Path: <users-return-234474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 065CF9F3D
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 15:27:47 +0000 (UTC)
Received: (qmail 32549 invoked by uid 500); 27 May 2012 15:27:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32446 invoked by uid 500); 27 May 2012 15:27:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32435 invoked by uid 99); 27 May 2012 15:27:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 15:27:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 15:27:36 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id AFA0725DA01
	for <users@tomcat.apache.org>; Sun, 27 May 2012 09:27:15 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 8D7D025DA02; Sun, 27 May 2012 09:27:15 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
	*  0.1 AWL AWL: From: address is in the auto white-list
X-Spam-DCC: : mx-01.formatdynamics.com 1282; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 3547A25DA01
	for <users@tomcat.apache.org>; Sun, 27 May 2012 09:27:14 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Sun, 27 May 2012 09:27:12 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com>
In-Reply-To: <4FC095CF.9040305@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac07GomrP/yT+PXPT6q43UvLhbqvXQBApUxA
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Sun May 27 09:27:15 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.8 required=7.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

WWVhaCwgSSBjYW4gZG8gdGhhdCwgdGhhbmtzIG11Y2guDQoNCi1Ub255DQoNCi0tLS0tT3JpZ2lu
YWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBNbGFkZW4gVHVyayBbbWFpbHRvOm10dXJrQGFwYWNoZS5v
cmddIA0KU2VudDogU2F0dXJkYXksIE1heSAyNiwgMjAxMiAyOjM1IEFNDQpUbzogdXNlcnNAdG9t
Y2F0LmFwYWNoZS5vcmcNClN1YmplY3Q6IFJlOiBqayAxLjIuMzYgdGhyb3dpbmcgNTAzL3NlbmRm
dWxsL2NwaW5nIGVycm9ycw0KDQpPbiAwNS8yNS8yMDEyIDA4OjExIFBNLCBBbnRob255IEouIEJp
YWNjbyB3cm90ZToNCj4gR09PRCBsb2FkYmFsYW5jZXIgKGxvYWRiYWxhbmNlcixhcHAtMDMpDQo+
IEJBRCBsb2FkYmFsYW5jZXIgKGFwcC0wMyxsb2FkYmFsYW5jZXIpDQoNCg0KQ291bGQgeW91IG9w
ZW4gQlogZW50cnkgZm9yIHRoYXQ/DQpBbHRob3VnaCBpdCB3b3JrcyBpbiBtb3N0IGNhc2VzLCBp
dCdzIGFuIGVycm9yIGFuZCBzaG91bGQgYmUgZml4ZWQuDQpUaGUgcG9pbnQgaXMgdGhhdCB3ZSBj
YW4gaGF2ZSBib3RoIGxiIGFuZCBzdGFuZGFyZCB3b3JrZXJzIHdpdGggdGhlDQpzYW1lIG5hbWUg
YmVjYXVzZSB3ZSBhbGxvY2F0ZSBzaGFyZWQgbWVtb3J5IGJvdGggYnkgbmFtZSBhbmQgdHlwZS4N
Cg0KU28sIG5lZWQgYSBCWiBlbnRyeSBzbyB3ZSBjYW4gcmVmZXJlbmNlIGl0IGFzIGEgcmVncmVz
c2lvbiBmcm9tIDEuMi4zNQ0KDQoNClJlZ2FyZHMNCi0tIA0KXlRNDQoNCi0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0K
VG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogdXNlcnMtdW5zdWJzY3JpYmVAdG9tY2F0LmFwYWNoZS5v
cmcNCkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFw
YWNoZS5vcmcNCg0K
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 18:44:19 2012
Return-Path: <users-return-234475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EE6ACAA0
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 18:44:19 +0000 (UTC)
Received: (qmail 79242 invoked by uid 500); 27 May 2012 18:44:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79184 invoked by uid 500); 27 May 2012 18:44:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79175 invoked by uid 99); 27 May 2012 18:44:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 18:44:16 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of volkswak@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 18:44:08 +0000
Received: by pbbro12 with SMTP id ro12so4665309pbb.18
        for <users@tomcat.apache.org>; Sun, 27 May 2012 11:43:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Do5OyLL5UPeVNuwO65Mrc54bIlw54CYa4zGn2iWmGHU=;
        b=ka6wdZo5su3vMM/VgzBlJu2V/qG5ZN34KO19RipYpZ/WHvTALgYfXVQ4SVPjZ9qq1v
         NOk+szl7AsmORkw5nn3z7wxKWzRg2uh/mUUUzsNcOT5eyKbtSc35HzDLwmwLvQjr4/JS
         d+Icp1fJQPJyx/wR3nu+2FlqK+3XTQ2gmfpfOAmvL45GwLqjFnvNLFgy+iWndUMIKsNR
         ByksnmAcvTzl0hPM+4YxyssIL6bvsiymVo8R69PBu1AGKQOBqao55jwQYeyrYtN/vt0l
         r4PL2WK82iQ+YSsUFr5/e3kG2tVYh6z6io4o+HlYk2h+HwqB/ogQnQ92n7srcgs8RnuG
         pNDw==
MIME-Version: 1.0
Received: by 10.68.218.103 with SMTP id pf7mr14359085pbc.67.1338144227338;
 Sun, 27 May 2012 11:43:47 -0700 (PDT)
Received: by 10.68.44.36 with HTTP; Sun, 27 May 2012 11:43:47 -0700 (PDT)
Date: Sun, 27 May 2012 11:43:47 -0700
Message-ID: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
Subject: fronting tomcat with reverse proxy+SSL
From: al so <volkswak@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8ff25680542abf04c108fb2a

--e89a8ff25680542abf04c108fb2a
Content-Type: text/plain; charset=ISO-8859-1

I've used standalone Tomcat to serve as web server+SSL+web container in the
past.

Now, I am trying to front Tomcat with apache reverse proxy+SSL.
1. Is it not redundant to configure the SSL in the Tomcat as well when the
fronting reverse proxy is already configured to handle SSL.
    I see lot of posts on the internet which configure SSL at both Tomcat
and Reverse proxy. Am I missing something?

--e89a8ff25680542abf04c108fb2a--

From users-return-234476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 18:48:06 2012
Return-Path: <users-return-234476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB486CAAB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 18:48:05 +0000 (UTC)
Received: (qmail 88979 invoked by uid 500); 27 May 2012 18:48:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88743 invoked by uid 500); 27 May 2012 18:48:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88733 invoked by uid 99); 27 May 2012 18:48:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 18:48:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.179.121.35] (HELO fep15.mx.upcmail.net) (62.179.121.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 18:47:55 +0000
Received: from edge01.upcmail.net ([192.168.13.236])
          by viefep15-int.chello.at
          (InterMail vM.8.01.05.05 201-2260-151-110-20120111) with ESMTP
          id <20120527184730.HMOS18555.viefep15-int.chello.at@edge01.upcmail.net>
          for <users@tomcat.apache.org>; Sun, 27 May 2012 20:47:30 +0200
Received: from [10.0.0.101] ([31.151.105.17])
	by edge01.upcmail.net with edge
	id F6nU1j0150NYTxK016nVir; Sun, 27 May 2012 20:47:30 +0200
X-SourceIP: 31.151.105.17
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: fronting tomcat with reverse proxy+SSL
From: John Renne <john@gniffelnieuws.net>
In-Reply-To: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
Date: Sun, 27 May 2012 20:47:28 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-Virus-Checked: Checked by ClamAV on apache.org

>=20
> Now, I am trying to front Tomcat with apache reverse proxy+SSL.
> 1. Is it not redundant to configure the SSL in the Tomcat as well when =
the
> fronting reverse proxy is already configured to handle SSL.
>    I see lot of posts on the internet which configure SSL at both =
Tomcat
> and Reverse proxy. Am I missing something?

Personaly I wouldn't use SSL between de frontend proxy and Tomcat. In =
case of an apache server, I would rather let apache handle SSL =
offloading and use mod_proxy, mod_proxy_ajp and mod_cluster to address =
tomcat using the AJP protocol.=20

John=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 21:27:59 2012
Return-Path: <users-return-234477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 275F69C5B
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 21:27:59 +0000 (UTC)
Received: (qmail 69071 invoked by uid 500); 27 May 2012 21:27:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69006 invoked by uid 500); 27 May 2012 21:27:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68997 invoked by uid 99); 27 May 2012 21:27:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 21:27:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.54.34.165] (HELO smtpq2.gn.mail.iss.as9143.net) (212.54.34.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 21:27:45 +0000
Received: from [212.54.34.132] (helo=smtp1.gn.mail.iss.as9143.net)
	by smtpq2.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SYkzl-0001Te-LW
	for users@tomcat.apache.org; Sun, 27 May 2012 23:27:25 +0200
Received: from d57d9b32.static.ziggozakelijk.nl ([213.125.155.50] helo=[127.0.0.1])
	by smtp1.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SYkzl-0007DB-7W
	for users@tomcat.apache.org; Sun, 27 May 2012 23:27:25 +0200
Message-ID: <4FC29C5F.1020901@modelit.nl>
Date: Sun, 27 May 2012 23:27:59 +0200
From: "Nanne van der Zijpp (Modelit)" <zijpp@modelit.nl>
Reply-To: zijpp@modelit.nl
Organization: Modelit
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: command line equivalent of tomcat service manager buttons  "start"
 and "stop"
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120527-1, 27-05-2012), Outbound message
X-Antivirus-Status: Not-Tested
X-Ziggo-spambar: ---
X-Ziggo-spamscore: -3.1
X-Ziggo-spamreport: ALL_TRUSTED=-1,BAYES_00=-1.9,CM_META_TB_NOARR=0.5,CM_REPLY_NOARROW=0.3,PROLO_TRUST_TO_DIRECT=-3.48,TO_NO_BRKTS_DIRECT=2.455
X-Ziggo-Spam-Status: No
X-Old-Spam-Flag: No
X-Old-Spam-Status: No

Hello all,

With the help of Tomcat6 we are running a webservice on a 24/7 basis.

My problem:
After a power failure the webservice does not come back online 
automatically.

This is what I typically need to do after a reboot:
-1- make sure tomcat6 service status = "stopped" (for this I push the 
"stop" button in the service manager)
-2- start some executables that need to be started prior to tomcat
-3- start tomcat (for this I push the "start" button in the service manager)

It would be great if this can be automated using a script.

I am using tomcat 6.0.35, and we use  the Windows Service Installer. 
This means my Tomcat 6.0\bin\ directory contains Tomcat6.exe and 
Tomcat6w.exe and 2 jar files. I am running on XP64 and Win7
  I have studied the page 
"http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html" and 
similar help pages. From this I would expect that my script should be 
similar to:

Tomcat6 //DS//Tomcat6.exe
<install exe files>
Tomcat6 //IS//Tomcat6.exe

However whatever combination of tomcat6.exe and tomcat6w.exe commands 
and options I try, I can't get it to work. There simply does not seem to 
be a command  line equivalent of the service manager buttons "start" and 
"stop". I am sure  I must be wrong about this  and  I hope someone can 
explain what commands to use.

Thanks in advance


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 21:55:00 2012
Return-Path: <users-return-234478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54D449246
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 21:54:59 +0000 (UTC)
Received: (qmail 17767 invoked by uid 500); 27 May 2012 21:54:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17691 invoked by uid 500); 27 May 2012 21:54:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17678 invoked by uid 99); 27 May 2012 21:54:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 21:54:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of volkswak@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 21:54:49 +0000
Received: by pbbro12 with SMTP id ro12so4776663pbb.18
        for <users@tomcat.apache.org>; Sun, 27 May 2012 14:54:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+hRQpa3jZpYvvlElYuvoqD0NoSkIcCjRl2KF5kA1hUY=;
        b=SQVcEQvsKZMlszRtyfr+cEOGTlPb2hHofFd1885HnE/vRioU6Rvfu5paA4wYVnDhNq
         uxtC2xUBeqIcVn2PR7aEu9bOg9J62qRqcem1yXaB67ryoMbHmgbzIulpxQokcrgOPDfL
         xmQpE5xjQT+Kz9/GHfgjlZ4Fr2vMkeEuc3CY5jyiDZgfz96mcCbM+lBpbiJ9zltXfb5i
         MR878OBAwwEhtntKC0K4/5vNVO5bcAlF7J6Vjg7JJnp+ltHbMGarW3yqEZu2z0Zr7ZmK
         1AiJnn9vRsCI2mHGjJ/Vr/9pRcVWPiazIhbrhJ6c9kAWCbauKHD3JQh1JfdA6yI2lPuV
         Vv8w==
MIME-Version: 1.0
Received: by 10.68.223.138 with SMTP id qu10mr20778278pbc.124.1338155667990;
 Sun, 27 May 2012 14:54:27 -0700 (PDT)
Received: by 10.68.44.36 with HTTP; Sun, 27 May 2012 14:54:27 -0700 (PDT)
In-Reply-To: <99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
	<99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net>
Date: Sun, 27 May 2012 14:54:27 -0700
Message-ID: <CAJrqK=2DKUs8+d4qWsSKXnA0cfW2Jw-zsWzzTTn8jAr4z+ijGw@mail.gmail.com>
Subject: Re: fronting tomcat with reverse proxy+SSL
From: al so <volkswak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b2ee6453ea6e004c10ba574

--047d7b2ee6453ea6e004c10ba574
Content-Type: text/plain; charset=ISO-8859-1

How about the security concerns in having HTTP between reverse proxy and
Tomcat?

On Sun, May 27, 2012 at 11:47 AM, John Renne <john@gniffelnieuws.net> wrote:

> >
> > Now, I am trying to front Tomcat with apache reverse proxy+SSL.
> > 1. Is it not redundant to configure the SSL in the Tomcat as well when
> the
> > fronting reverse proxy is already configured to handle SSL.
> >    I see lot of posts on the internet which configure SSL at both Tomcat
> > and Reverse proxy. Am I missing something?
>
> Personaly I wouldn't use SSL between de frontend proxy and Tomcat. In case
> of an apache server, I would rather let apache handle SSL offloading and
> use mod_proxy, mod_proxy_ajp and mod_cluster to address tomcat using the
> AJP protocol.
>
> John
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b2ee6453ea6e004c10ba574--

From users-return-234479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 22:03:09 2012
Return-Path: <users-return-234479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 414C79274
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 22:03:09 +0000 (UTC)
Received: (qmail 34975 invoked by uid 500); 27 May 2012 22:03:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34847 invoked by uid 500); 27 May 2012 22:03:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34838 invoked by uid 99); 27 May 2012 22:03:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:03:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.179.121.33] (HELO fep13.mx.upcmail.net) (62.179.121.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:02:58 +0000
Received: from edge02.upcmail.net ([192.168.13.237])
          by viefep13-int.chello.at
          (InterMail vM.8.01.05.04 201-2260-151-105-20111014) with ESMTP
          id <20120527220234.JFEE3333.viefep13-int.chello.at@edge02.upcmail.net>
          for <users@tomcat.apache.org>; Mon, 28 May 2012 00:02:34 +0200
Received: from [10.0.0.101] ([31.151.105.17])
	by edge02.upcmail.net with edge
	id FA2Y1j00t0NYTxK02A2ZnF; Mon, 28 May 2012 00:02:34 +0200
X-SourceIP: 31.151.105.17
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: fronting tomcat with reverse proxy+SSL
From: John Renne <john@gniffelnieuws.net>
In-Reply-To: <CAJrqK=2DKUs8+d4qWsSKXnA0cfW2Jw-zsWzzTTn8jAr4z+ijGw@mail.gmail.com>
Date: Mon, 28 May 2012 00:02:32 +0200
Content-Transfer-Encoding: 7bit
Message-Id: <85B3DCFD-602A-4FDE-9D1E-942964C888FB@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net> <CAJrqK=2DKUs8+d4qWsSKXnA0cfW2Jw-zsWzzTTn8jAr4z+ijGw@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-Virus-Checked: Checked by ClamAV on apache.org


> How about the security concerns in having HTTP between reverse proxy and
> Tomcat?
> 
You don't you can use AJP between HTTP and Tomcat. 

John


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 22:12:28 2012
Return-Path: <users-return-234480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF47F92C5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 22:12:27 +0000 (UTC)
Received: (qmail 53224 invoked by uid 500); 27 May 2012 22:12:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53134 invoked by uid 500); 27 May 2012 22:12:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53125 invoked by uid 99); 27 May 2012 22:12:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:12:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of volkswak@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:12:17 +0000
Received: by dadv2 with SMTP id v2so4125692dad.18
        for <users@tomcat.apache.org>; Sun, 27 May 2012 15:11:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fXtJjqz/AW/8c8VOFUc1Mc6ibEYVBvnfMVs9Cz0gBVE=;
        b=zdUyiSrX+9P1/mpinMhxLFYdP5CCEAyVJVwoSRArUSLxNOwrJQfCgMjCjiTkGDhnxP
         QgM5/35qbZsRT5f+hfTRNcwPqrH7fM4oBMp+gLWnTK2Zg7AsV2yfSe5QkTUuGrkFAhC/
         CNQACUhE3S6F3HP1mzRWW0sf75nVycoUORaPOyTrh65HLKi95AfvwazI5oulNqTk/urS
         /WhZXZ9vMkW4qESxrzETajtVRbBqKvSrSti17Urn4E6NY75iVKr4jYD98bEuBfvGMcF5
         W3r9+fs9cXzocbam07ZEKU71Ll27YmDI6g1iz7oLiZhsKNAGP97KpDd5pXZCT8zFmG8e
         FqsA==
MIME-Version: 1.0
Received: by 10.68.212.197 with SMTP id nm5mr20100168pbc.110.1338156716580;
 Sun, 27 May 2012 15:11:56 -0700 (PDT)
Received: by 10.68.44.36 with HTTP; Sun, 27 May 2012 15:11:56 -0700 (PDT)
In-Reply-To: <85B3DCFD-602A-4FDE-9D1E-942964C888FB@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
	<99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net>
	<CAJrqK=2DKUs8+d4qWsSKXnA0cfW2Jw-zsWzzTTn8jAr4z+ijGw@mail.gmail.com>
	<85B3DCFD-602A-4FDE-9D1E-942964C888FB@gniffelnieuws.net>
Date: Sun, 27 May 2012 15:11:56 -0700
Message-ID: <CAJrqK=3wMCx3F31A9tqDFfJrAVk_DRoniqEDk2DT6s3iVEOFwg@mail.gmail.com>
Subject: Re: fronting tomcat with reverse proxy+SSL
From: al so <volkswak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1c0f0bee02604c10be3cc

--e89a8ff1c0f0bee02604c10be3cc
Content-Type: text/plain; charset=ISO-8859-1

Well, AJP is not SSL. So, the link is insecure between rev proxy and tomcat
if you don't use SSL.


On Sun, May 27, 2012 at 3:02 PM, John Renne <john@gniffelnieuws.net> wrote:

>
> > How about the security concerns in having HTTP between reverse proxy and
> > Tomcat?
> >
> You don't you can use AJP between HTTP and Tomcat.
>
> John
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff1c0f0bee02604c10be3cc--

From users-return-234481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun May 27 22:35:36 2012
Return-Path: <users-return-234481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E27FCEAE
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 27 May 2012 22:35:36 +0000 (UTC)
Received: (qmail 99728 invoked by uid 500); 27 May 2012 22:35:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99677 invoked by uid 500); 27 May 2012 22:35:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99667 invoked by uid 99); 27 May 2012 22:35:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:35:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.179.121.31] (HELO fep11.mx.upcmail.net) (62.179.121.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 May 2012 22:35:24 +0000
Received: from edge01.upcmail.net ([192.168.13.236])
          by viefep11-int.chello.at
          (InterMail vM.8.01.05.04 201-2260-151-105-20111014) with ESMTP
          id <20120527223459.KJHO993.viefep11-int.chello.at@edge01.upcmail.net>
          for <users@tomcat.apache.org>; Mon, 28 May 2012 00:34:59 +0200
Received: from [10.0.0.101] ([31.151.105.17])
	by edge01.upcmail.net with edge
	id FAay1j00T0NYTxK01AayBL; Mon, 28 May 2012 00:34:59 +0200
X-SourceIP: 31.151.105.17
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: fronting tomcat with reverse proxy+SSL
From: John Renne <john@gniffelnieuws.net>
In-Reply-To: <CAJrqK=3wMCx3F31A9tqDFfJrAVk_DRoniqEDk2DT6s3iVEOFwg@mail.gmail.com>
Date: Mon, 28 May 2012 00:34:57 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <92A6079B-00EA-419F-B068-5EEB95CA70DE@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <99A518EA-D440-4F51-8C82-C6C71E18FD88@gniffelnieuws.net> <CAJrqK=2DKUs8+d4qWsSKXnA0cfW2Jw-zsWzzTTn8jAr4z+ijGw@mail.gmail.com> <85B3DCFD-602A-4FDE-9D1E-942964C888FB@gniffelnieuws.net> <CAJrqK=3wMCx3F31A9tqDFfJrAVk_DRoniqEDk2DT6s3iVEOFwg@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-Virus-Checked: Checked by ClamAV on apache.org


On May 28, 2012, at 12:11 AM, al so wrote:

> Well, AJP is not SSL. So, the link is insecure between rev proxy and =
tomcat
> if you don't use SSL.

It all depends on what your requirements are. If a binary protocol will =
you, you can use AJP. If you don't consider it secure, you can choose to =
go for SSL.=20

John=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 01:34:56 2012
Return-Path: <users-return-234482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6057F97FC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 01:34:56 +0000 (UTC)
Received: (qmail 2781 invoked by uid 500); 28 May 2012 01:34:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2683 invoked by uid 500); 28 May 2012 01:34:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2667 invoked by uid 99); 28 May 2012 01:34:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 01:34:51 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.83 as permitted sender)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 01:34:42 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-37.messagelabs.com!1338168858!24577327!8
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 15849 invoked from network); 28 May 2012 01:34:20 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-10.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 28 May 2012 01:34:20 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 27 May 2012 20:33:04 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sun, 27 May
 2012 20:33:04 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 27 May 2012 20:33:02 -0500
Subject: RE: command line equivalent of tomcat service manager buttons
  "start" and "stop"
Thread-Topic: command line equivalent of tomcat service manager buttons
  "start" and "stop"
Thread-Index: Ac08T5rr6sR9dPDRQmmmHPdey7d6JwAIblBw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
References: <4FC29C5F.1020901@modelit.nl>
In-Reply-To: <4FC29C5F.1020901@modelit.nl>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Nanne van der Zijpp (Modelit) [mailto:zijpp@modelit.nl]=20
> Subject: command line equivalent of tomcat service manager buttons "start=
" and "stop"

> There simply does not seem to be a command line equivalent=20
> of the service manager buttons "start" and "stop".

Use the standard Windows commands: "net start <service>" and "net stop <ser=
vice>".

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 04:27:27 2012
Return-Path: <users-return-234483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 325DB9C6E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 04:27:27 +0000 (UTC)
Received: (qmail 71301 invoked by uid 500); 28 May 2012 04:27:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71165 invoked by uid 500); 28 May 2012 04:27:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71100 invoked by uid 99); 28 May 2012 04:27:17 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 04:27:17 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 04:27:17 +0000
Message-ID: <4FC2FEA3.6080001@apache.org>
Date: Mon, 28 May 2012 06:27:15 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 05/27/2012 05:27 PM, Anthony J. Biacco wrote:
> Yeah, I can do that, thanks much.
>

Cool.
In between can you check the code from the trunk?


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 05:32:43 2012
Return-Path: <users-return-234484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1DE1CFE3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 05:32:43 +0000 (UTC)
Received: (qmail 83302 invoked by uid 500); 28 May 2012 05:32:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83098 invoked by uid 500); 28 May 2012 05:32:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83071 invoked by uid 99); 28 May 2012 05:32:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 05:32:39 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aman.arora051@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 05:32:31 +0000
Received: by werf3 with SMTP id f3so2436747wer.18
        for <users@tomcat.apache.org>; Sun, 27 May 2012 22:32:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GUTVoYlCgf2XnbsYNbkdLDnXDKeHoAbi6oj9uCsYrYc=;
        b=fvj9zTZcZ8GIhKLpG9F4p5YvWH038wGKLMRQDjtjHYL9ciT5R1UR4pJ41KoZK+vpQ3
         /t0fKjnz/Bx+qORuprjsHfJoKZ8EgyeMvzEksuFtEqW3dbpnceMq4K6ggCMKSYdZasDy
         F1p4u3D/5bdGnXWRQiLkIQG6r46wgUb0gEyKa/ihWk7okPe8yVX9ZFMvrDC3kHpI1pyl
         Hekyrrl8I3MO8m0qD8EWCfTpfErRI/mcZjf+XV1LlXWzPoX1w+TLm3lvmgeJ/ZP6cYei
         jqbP5aCff8p1KjrNASUboJp2a9YAbyW7Q4T8NhvrG83NXzrpRehGD2F3CU3JP2Shnugy
         FE9Q==
MIME-Version: 1.0
Received: by 10.180.80.228 with SMTP id u4mr12713437wix.5.1338183131561; Sun,
 27 May 2012 22:32:11 -0700 (PDT)
Received: by 10.216.237.194 with HTTP; Sun, 27 May 2012 22:32:11 -0700 (PDT)
In-Reply-To: <-7953955806622399028@unknownmsgid>
References: <CAKiR-tTAOXzSMkW=g3eV8nf28xtX4vD6yMyFig2eiyhMySFBPg@mail.gmail.com>
	<1337963208.74750.YahooMailNeo@web125505.mail.ne1.yahoo.com>
	<99C8B2929B39C24493377AC7A121E21FB0288649DF@USEA-EXCH8.na.uis.unisys.com>
	<4FBFB9F4.8020904@christopherschultz.net>
	<1337970067.61576.YahooMailNeo@web125502.mail.ne1.yahoo.com>
	<-7953955806622399028@unknownmsgid>
Date: Mon, 28 May 2012 11:02:11 +0530
Message-ID: <CAKiR-tRn+rbyc6iUqm0YAUbg6exkGLb+UgEnUGy93209yXnXog@mail.gmail.com>
Subject: Re: mod_jk not working !!
From: Aman Arora <aman.arora051@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044288d4337fe304c1120a83

--f46d044288d4337fe304c1120a83
Content-Type: text/plain; charset=ISO-8859-1

Dear All,


 Thanks for your suggestions and your valuable time...
next time i post questions,i ll take care of the proper things .
i ll try to work on your suggestions and then come back to you people .

Thanks
Aman Arora

>
>

--f46d044288d4337fe304c1120a83--

From users-return-234485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 05:36:20 2012
Return-Path: <users-return-234485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 24F11CFF0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 05:36:20 +0000 (UTC)
Received: (qmail 93025 invoked by uid 500); 28 May 2012 05:36:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92789 invoked by uid 500); 28 May 2012 05:36:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92769 invoked by uid 99); 28 May 2012 05:36:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 05:36:16 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of volkswak@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 05:36:08 +0000
Received: by pbbro12 with SMTP id ro12so5148594pbb.18
        for <users@tomcat.apache.org>; Sun, 27 May 2012 22:35:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WaPFdmDzY42A5PkE7jDlcm1lFHFk/8gOyBkkzrBnebo=;
        b=spWy6WS7cYc1oBg9h6x72s+5d/ak+jQ/ogdkAkfzxWT1nxjl9WPcEX6nMQyupCVXHy
         HSe5L1kgzoK7U5ylimM4OPBBWzLZ7Y60th7M1dOqJ5V/hsXRu2bCnEfOR+bd17kZGFVw
         WZlsRpcD0AorMkfHeX0lGnR6R3vEbk5QOtEacbw6OI6VYYs34VnsR4srBOjowQJ3Nfg2
         toZsjNJYK5W9JREiIVJHuOY630BJUGuyGaV3R04s2G0OCAum6M3dlJdYHp1xppbdVN8O
         HCtRN9c93dlOl4SvqyUJO2sqg95PJVWoT+oZR5QVu80N39YtKaYdOWb39eTQRFqyq6Sk
         +aNg==
MIME-Version: 1.0
Received: by 10.68.212.197 with SMTP id nm5mr22839980pbc.110.1338183347231;
 Sun, 27 May 2012 22:35:47 -0700 (PDT)
Received: by 10.68.44.36 with HTTP; Sun, 27 May 2012 22:35:47 -0700 (PDT)
In-Reply-To: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
Date: Sun, 27 May 2012 22:35:47 -0700
Message-ID: <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
Subject: Re: fronting tomcat with reverse proxy+SSL
From: al so <volkswak@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8ff1c0f00e5a2104c1121793

--e89a8ff1c0f00e5a2104c1121793
Content-Type: text/plain; charset=ISO-8859-1

It would be nice if I can hear from someone who has done such familiar
setup. Have you seen any performance issues in setting up SSL both at
Tomcat and Apache? Do you use same keys/certs at both Tomcat and Apache?

On Sun, May 27, 2012 at 11:43 AM, al so <volkswak@gmail.com> wrote:

> I've used standalone Tomcat to serve as web server+SSL+web container in
> the past.
>
> Now, I am trying to front Tomcat with apache reverse proxy+SSL.
> 1. Is it not redundant to configure the SSL in the Tomcat as well when the
> fronting reverse proxy is already configured to handle SSL.
>     I see lot of posts on the internet which configure SSL at both Tomcat
> and Reverse proxy. Am I missing something?
>
>
>

--e89a8ff1c0f00e5a2104c1121793--

From users-return-234486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 07:31:30 2012
Return-Path: <users-return-234486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97081C75F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 07:31:30 +0000 (UTC)
Received: (qmail 34954 invoked by uid 500); 28 May 2012 07:31:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34560 invoked by uid 500); 28 May 2012 07:31:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34528 invoked by uid 99); 28 May 2012 07:31:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 07:31:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [59.167.240.32] (HELO fish.ish.com.au) (59.167.240.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 07:31:13 +0000
Received: from ip-136.ish.com.au ([203.29.62.136]:58890)
	by fish.ish.com.au with esmtpsa (TLSv1:CAMELLIA256-SHA:256)
	(Exim 4.76)
	(envelope-from <amaniatis@apache.org>)
	id 1SYuPa-000080-2o
	for users@tomcat.apache.org; Mon, 28 May 2012 17:30:43 +1000
X-CTCH-RefID: str=0001.0A150205.4FC329A3.007B,ss=1,re=0.000,fgs=0
Message-ID: <4FC329A2.8060507@apache.org>
Date: Mon, 28 May 2012 17:30:42 +1000
From: Aristedes Maniatis <amaniatis@apache.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120425 Thunderbird/13.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: fronting tomcat with reverse proxy+SSL
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
In-Reply-To: <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

What problem are you trying to solve by doing this? It seems to serve little purpose. Decrypt the traffic from the browser using Apache httpd, then re-encrypt the data and pass it onto tomcat. Why? I am sure it will work fine, but your performance will depend on the traffic you have. No one can answer that question for you.

Ari


On 28/05/12 3:35pm, al so wrote:
> It would be nice if I can hear from someone who has done such familiar
> setup. Have you seen any performance issues in setting up SSL both at
> Tomcat and Apache? Do you use same keys/certs at both Tomcat and Apache?
>
> On Sun, May 27, 2012 at 11:43 AM, al so <volkswak@gmail.com> wrote:
>
>> I've used standalone Tomcat to serve as web server+SSL+web container in
>> the past.
>>
>> Now, I am trying to front Tomcat with apache reverse proxy+SSL.
>> 1. Is it not redundant to configure the SSL in the Tomcat as well when the
>> fronting reverse proxy is already configured to handle SSL.
>>      I see lot of posts on the internet which configure SSL at both Tomcat
>> and Reverse proxy. Am I missing something?
>>
>>
>>
>

-- 
-------------------------->
Aristedes Maniatis
GPG fingerprint CBFB 84B4 738D 4E87 5E5C  5EFA EF6A 7D2E 3E49 102A


-- 
-------------------------->
Aristedes Maniatis
GPG fingerprint CBFB 84B4 738D 4E87 5E5C  5EFA EF6A 7D2E 3E49 102A


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 08:31:17 2012
Return-Path: <users-return-234487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD0BB96B7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 08:31:17 +0000 (UTC)
Received: (qmail 48672 invoked by uid 500); 28 May 2012 08:31:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48371 invoked by uid 500); 28 May 2012 08:31:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48349 invoked by uid 99); 28 May 2012 08:31:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 08:31:14 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aman.arora051@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 08:31:07 +0000
Received: by wibhm14 with SMTP id hm14so1142839wib.0
        for <users@tomcat.apache.org>; Mon, 28 May 2012 01:30:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=AcrZ3V8a/6c1wCXwKZcwX6CjEK4Ke1IPatm5vJjrE00=;
        b=N5ezXzq5PrYQ7tuA4ALvIzWCx1yXRxVb76IXDdFeTnnHmLGFOHHCpX7/Is4QVYAFV3
         y/8le3AftYoe6amJk8tdfUg54Wcx0rzoyP3bQLPeOfIqy/YLvLit2xrnJtRhSB8q3iis
         gtxN2ijFq5abMgy1YwrfJyVcHn9lbMLN/8Qv84z/kUP7QGHuj/LAbEoKu0XH3NXEt7Fk
         Bp+a5BqkwJw19aXR78BP32zsofMNrAraogIt1IaXSc70MW9hvel3wnp4EbuKkURUrZE0
         6r0cTngyvD5duQUP78fIrvGro0nacVyzbwH7oo2UBtvP4URWoh+AVJ0VJX9QveZk11Bs
         3f2A==
MIME-Version: 1.0
Received: by 10.216.225.196 with SMTP id z46mr3920453wep.17.1338193846670;
 Mon, 28 May 2012 01:30:46 -0700 (PDT)
Received: by 10.216.237.194 with HTTP; Mon, 28 May 2012 01:30:46 -0700 (PDT)
Date: Mon, 28 May 2012 14:00:46 +0530
Message-ID: <CAKiR-tR-Q68cw+mApq+sv9XbwnJn+CLGyPRLHxJxL_3ejFh8Zg@mail.gmail.com>
Subject: is there anyway to check whether mod_jk is properly built or not?
From: Aman Arora <aman.arora051@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=001636b430e4df14af04c1148827
X-Virus-Checked: Checked by ClamAV on apache.org

--001636b430e4df14af04c1148827
Content-Type: text/plain; charset=ISO-8859-1

Respected All,
 i hope this question is relevant .

Thanks,
Aman Arora

--001636b430e4df14af04c1148827--

From users-return-234488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 11:28:29 2012
Return-Path: <users-return-234488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C232ECBF5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 11:28:29 +0000 (UTC)
Received: (qmail 84937 invoked by uid 500); 28 May 2012 11:28:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84826 invoked by uid 500); 28 May 2012 11:28:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84800 invoked by uid 99); 28 May 2012 11:28:21 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 11:28:21 +0000
Received: from localhost (HELO fc16x86v0.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 11:28:21 +0000
Message-ID: <4FC36153.2000408@apache.org>
Date: Mon, 28 May 2012 13:28:19 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: is there anyway to check whether mod_jk is properly built or
 not?
References: <CAKiR-tR-Q68cw+mApq+sv9XbwnJn+CLGyPRLHxJxL_3ejFh8Zg@mail.gmail.com>
In-Reply-To: <CAKiR-tR-Q68cw+mApq+sv9XbwnJn+CLGyPRLHxJxL_3ejFh8Zg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 05/28/2012 10:30 AM, Aman Arora wrote:
> Respected All,
>   i hope this question is relevant .
>

Not really :)
Have you tried to build it and is mod_jk.so produced?
Hope you are not trying that on windows, cause it can be
tricky for someone that tries to build it for the first time.



Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 11:58:05 2012
Return-Path: <users-return-234489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C035CCE33
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 11:58:05 +0000 (UTC)
Received: (qmail 48414 invoked by uid 500); 28 May 2012 11:58:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48117 invoked by uid 500); 28 May 2012 11:57:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48076 invoked by uid 99); 28 May 2012 11:57:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 11:57:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.54.42.165] (HELO smtpq2.tb.mail.iss.as9143.net) (212.54.42.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 11:57:49 +0000
Received: from [212.54.42.136] (helo=smtp5.tb.mail.iss.as9143.net)
	by smtpq2.tb.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SYyZi-0003lI-0y; Mon, 28 May 2012 13:57:26 +0200
Received: from d57d9b32.static.ziggozakelijk.nl ([213.125.155.50] helo=[127.0.0.1])
	by smtp5.tb.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SYyZh-0002aq-RX; Mon, 28 May 2012 13:57:26 +0200
Message-ID: <4FC3684F.1000604@modelit.nl>
Date: Mon, 28 May 2012 13:58:07 +0200
From: "Nanne van der Zijpp (Modelit)" <zijpp@modelit.nl>
Reply-To: zijpp@modelit.nl
Organization: Modelit
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
Subject: Re: command line equivalent of tomcat service manager buttons "start"
 and "stop"
References: <4FC29C5F.1020901@modelit.nl> <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120528-0, 28-05-2012), Outbound message
X-Antivirus-Status: Not-Tested
X-Ziggo-spambar: --
X-Ziggo-spamscore: -2.6
X-Ziggo-spamreport: ALL_TRUSTED=-1,BAYES_00=-1.9,CM_REPLY_NOARROW=0.3
X-Ziggo-Spam-Status: No
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: No
X-Old-Spam-Status: No

Chuck,
Thanks a lot. "net start Tomcat6" and "net stop Tomcat6" does the trick 
of starting and stopping Tomcat, so I will gratefully use this.

The only thing that is less elegant about this solution is that after 
using "net start Tomcat6" the service manager still indicates that 
Tomcat status  = stopped, with the start button enabled and stop button 
disabled, while in fact the server is running. This might cause 
confusion if one is not aware of this
By the way: After pressing the "start" button in the service manager it 
seems that the service manager is synchronized again with the actual 
Tomcat state.

- Nanne


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 16:21:25 2012
Return-Path: <users-return-234490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B1D8C235
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 16:21:25 +0000 (UTC)
Received: (qmail 94164 invoked by uid 500); 28 May 2012 16:21:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94109 invoked by uid 500); 28 May 2012 16:21:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94099 invoked by uid 99); 28 May 2012 16:21:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:21:21 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FROM_12LTRDOM,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [12.199.218.160] (HELO usmx01.thermofisher.com) (12.199.218.160)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:21:12 +0000
X-ASG-Debug-ID: 1338221820-04220e57c25507c0001-PXi1IZ
Received: from mxvolt02.thermofisher.com ([12.199.217.100]) by usmx01.thermofisher.com with ESMTP id fCypZC7r9wv4kw0s (version=TLSv1 cipher=AES256-SHA bits=256 verify=NO) for <users@tomcat.apache.org>; Mon, 28 May 2012 09:17:00 -0700 (MST)
X-Barracuda-Envelope-From: priscilla.muriithi@thermofisher.com
X-Barracuda-Apparent-Source-IP: 12.199.217.100
X-ASG-Whitelist: Client
Received: from uspho-mxet02.amer.thermo.com (uspho-mxet02.amer.thermo.com [10.161.198.45])
	by mxvolt02.thermofisher.com (8.13.8/8.13.8) with ESMTP id q4SGH0a5032263
	for <users@tomcat.apache.org>; Mon, 28 May 2012 09:17:00 -0700
Received: from uspho-mxht01.amer.thermo.com (10.161.196.45) by
 uspho-mxet02.amer.thermo.com (10.161.198.45) with Microsoft SMTP Server (TLS)
 id 8.3.245.1; Mon, 28 May 2012 09:17:01 -0700
Received: from uspho-mxvs01.amer.thermo.com ([fe80::753e:2871:df1d:6cf6]) by
 uspho-mxht01.amer.thermo.com ([fe80::84e1:eae7:bb14:d667%14]) with mapi; Mon,
 28 May 2012 09:16:59 -0700
From: "Muriithi, Priscilla K." <priscilla.muriithi@thermofisher.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Mon, 28 May 2012 09:16:58 -0700
Subject: jsvc catalina.out log wont rotate
Thread-Topic: jsvc catalina.out log wont rotate
X-ASG-Orig-Subj: jsvc catalina.out log wont rotate
Thread-Index: AQHNPO1Obqrq1QuixUa+5yJ+SN68/w==
Message-ID: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_9B2EE2453F2D9F42BDA22207878445AE169177A63CUSPHOMXVS01am_"
MIME-Version: 1.0
X-Barracuda-Connect: UNKNOWN[12.199.217.100]
X-Barracuda-Start-Time: 1338221820
X-Barracuda-Encrypted: AES256-SHA
X-Barracuda-URL: http://usmx01.thermofisher.com:8000/cgi-mod/mark.cgi
X-Virus-Scanned: by bsmtpd at thermofisher.com

--_000_9B2EE2453F2D9F42BDA22207878445AE169177A63CUSPHOMXVS01am_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Everyone,

How can I configure tomcat startup/shutdown script using jsvc to rotate cat=
alina.out log. The catalina.out log is filling up so fast causing DoS.

Thanks,
Priscilla

--_000_9B2EE2453F2D9F42BDA22207878445AE169177A63CUSPHOMXVS01am_--

From users-return-234491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 16:29:42 2012
Return-Path: <users-return-234491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EB889DE3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 16:29:42 +0000 (UTC)
Received: (qmail 19454 invoked by uid 500); 28 May 2012 16:29:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19236 invoked by uid 500); 28 May 2012 16:29:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19224 invoked by uid 99); 28 May 2012 16:29:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:29:38 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:29:29 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-15.tower-200.messagelabs.com!1338222546!14830335!3
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 29293 invoked from network); 28 May 2012 16:29:07 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-15.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 28 May 2012 16:29:07 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Mon, 28 May 2012 11:29:02 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Mon, 28 May
 2012 11:29:02 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 28 May 2012 11:28:58 -0500
Subject: RE: jsvc catalina.out log wont rotate
Thread-Topic: jsvc catalina.out log wont rotate
Thread-Index: AQHNPO1Obqrq1QuixUa+5yJ+SN68/5bfYxwg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com>
References: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>
In-Reply-To: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Muriithi, Priscilla K. [mailto:priscilla.muriithi@thermofisher.com]=
=20
> Subject: jsvc catalina.out log wont rotate

> How can I configure tomcat startup/shutdown script using jsvc to rotate=20
> catalina.out log.

Read the FAQ:

http://wiki.apache.org/tomcat/FAQ/Logging#Q6

> The catalina.out log is filling up so fast causing DoS.

You really should fix your webapp(s) to not use stdout for logging.  Not us=
ing a proper logging framework is indicative of sloppy and lazy programming=
.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 16:46:46 2012
Return-Path: <users-return-234492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 257B99E55
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 16:46:46 +0000 (UTC)
Received: (qmail 52817 invoked by uid 500); 28 May 2012 16:46:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52584 invoked by uid 500); 28 May 2012 16:46:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52575 invoked by uid 99); 28 May 2012 16:46:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:46:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [12.199.218.160] (HELO usmx01.thermofisher.com) (12.199.218.160)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 16:46:35 +0000
X-ASG-Debug-ID: 1338223574-04220e57c05582a0001-PXi1IZ
Received: from mxvolt02.thermofisher.com ([12.199.217.100]) by usmx01.thermofisher.com with ESMTP id oPqVRKhjjj1lwDLM (version=TLSv1 cipher=AES256-SHA bits=256 verify=NO) for <users@tomcat.apache.org>; Mon, 28 May 2012 09:46:14 -0700 (MST)
X-Barracuda-Envelope-From: priscilla.muriithi@thermofisher.com
X-Barracuda-Apparent-Source-IP: 12.199.217.100
X-ASG-Whitelist: Client
Received: from uspho-mxet01.amer.thermo.com (uspho-mxet01.amer.thermo.com [10.161.198.44])
	by mxvolt02.thermofisher.com (8.13.8/8.13.8) with ESMTP id q4SGkEIf002120
	for <users@tomcat.apache.org>; Mon, 28 May 2012 09:46:14 -0700
Received: from uspho-mxht01.amer.thermo.com (10.161.196.45) by
 uspho-mxet01.amer.thermo.com (10.161.198.44) with Microsoft SMTP Server (TLS)
 id 8.3.245.1; Mon, 28 May 2012 09:46:14 -0700
Received: from uspho-mxvs01.amer.thermo.com ([fe80::753e:2871:df1d:6cf6]) by
 uspho-mxht01.amer.thermo.com ([fe80::84e1:eae7:bb14:d667%14]) with mapi; Mon,
 28 May 2012 09:46:13 -0700
From: "Muriithi, Priscilla K." <priscilla.muriithi@thermofisher.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 28 May 2012 09:43:23 -0700
Subject: RE: jsvc catalina.out log wont rotate
Thread-Topic: jsvc catalina.out log wont rotate
X-ASG-Orig-Subj: RE: jsvc catalina.out log wont rotate
Thread-Index: AQHNPO1Obqrq1QuixUa+5yJ+SN68/5bfYxwggAAFCOU=
Message-ID: <9B2EE2453F2D9F42BDA22207878445AE169177A63E@USPHO-MXVS01.amer.thermo.com>
References: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>,<99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Barracuda-Connect: UNKNOWN[12.199.217.100]
X-Barracuda-Start-Time: 1338223574
X-Barracuda-Encrypted: AES256-SHA
X-Barracuda-URL: http://usmx01.thermofisher.com:8000/cgi-mod/mark.cgi
X-Virus-Scanned: by bsmtpd at thermofisher.com

The logs were rotating before i installed JDK and used the jsvc to start to=
mcat service. This is configured under Red Hat Linux 5.4 and Tomcat 5.5.

________________________________________
From: Caldarale, Charles R [Chuck.Caldarale@unisys.com]
Sent: Monday, May 28, 2012 12:28 PM
To: Tomcat Users List
Subject: RE: jsvc catalina.out log wont rotate

> From: Muriithi, Priscilla K. [mailto:priscilla.muriithi@thermofisher.com]
> Subject: jsvc catalina.out log wont rotate

> How can I configure tomcat startup/shutdown script using jsvc to rotate
> catalina.out log.

Read the FAQ:

http://wiki.apache.org/tomcat/FAQ/Logging#Q6

> The catalina.out log is filling up so fast causing DoS.

You really should fix your webapp(s) to not use stdout for logging.  Not us=
ing a proper logging framework is indicative of sloppy and lazy programming=
.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 19:38:19 2012
Return-Path: <users-return-234493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8831C9046
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 19:38:19 +0000 (UTC)
Received: (qmail 33273 invoked by uid 500); 28 May 2012 19:38:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33198 invoked by uid 500); 28 May 2012 19:38:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33185 invoked by uid 99); 28 May 2012 19:38:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 19:38:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.54.34.165] (HELO smtpq2.gn.mail.iss.as9143.net) (212.54.34.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 19:38:07 +0000
Received: from [212.54.34.132] (helo=smtp1.gn.mail.iss.as9143.net)
	by smtpq2.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SZ5l9-0007ir-Rg; Mon, 28 May 2012 21:37:43 +0200
Received: from d57d9b32.static.ziggozakelijk.nl ([213.125.155.50] helo=[127.0.0.1])
	by smtp1.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SZ5l9-0005N2-Iz; Mon, 28 May 2012 21:37:43 +0200
Message-ID: <4FC3D42F.8020600@modelit.nl>
Date: Mon, 28 May 2012 21:38:23 +0200
From: "Nanne van der Zijpp (Modelit)" <zijpp@modelit.nl>
Reply-To: zijpp@modelit.nl
Organization: Modelit
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Chuck.Caldarale@unisys.com
Subject: Re: command line equivalent of tomcat service manager buttons "start"
 and "stop"
References: <4FC29C5F.1020901@modelit.nl> <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120528-1, 28-05-2012), Outbound message
X-Antivirus-Status: Not-Tested
X-Ziggo-spambar: --
X-Ziggo-spamscore: -2.5
X-Ziggo-spamreport: ALL_TRUSTED=-1,BAYES_00=-1.9,CM_REPLY_NOARROW=0.3,TW_JP=0.077
X-Ziggo-Spam-Status: No
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: No
X-Old-Spam-Status: No

Charles,
Thanks for the reply earlier today.
It has been implemented and works, except for the fact that the service 
manager now indicates that the service is not running while in fact it 
is, which leaves me worried about what happens if I use any button in 
the service manager.

In an older reply of yours I noticed that you mentioned the //MR// 
option. This is not on the manual page I have been using 
(http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html). So 
I am wondering: which documentation did you use to find out about the 
//MR// option?

Kind regards,
Nanne

Op 28-5-2012 3:33, Caldarale, Charles R schreef:
>> From: Nanne van der Zijpp (Modelit) [mailto:zijpp@modelit.nl]
>> Subject: command line equivalent of tomcat service manager buttons "start" and "stop"
>> There simply does not seem to be a command line equivalent
>> of the service manager buttons "start" and "stop".
> Use the standard Windows commands: "net start<service>" and "net stop<service>".
>
>   - Chuck
>
>
> THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MATERIAL and is thus for use only by the intended recipient. If you received this in error, please contact the sender and delete the e-mail and its attachments from all computers.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 22:39:20 2012
Return-Path: <users-return-234494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09479C7E9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 22:39:20 +0000 (UTC)
Received: (qmail 35719 invoked by uid 500); 28 May 2012 22:39:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35639 invoked by uid 500); 28 May 2012 22:39:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35624 invoked by uid 99); 28 May 2012 22:39:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 22:39:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 22:39:08 +0000
Received: by qcsc20 with SMTP id c20so2316781qcs.18
        for <users@tomcat.apache.org>; Mon, 28 May 2012 15:38:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding:x-gm-message-state;
        bh=tv3vVhF1k4jz4MjFufKWGW+aTMtC+m++pODMuBxCl2I=;
        b=lYgfT/2w++CkgTG9RNmIYZq/tluZlHwYoxXSpSlF8A5Q9iDLaG/zANepvl+HfSS3sn
         aysritZBKn/gAbZy0qJYqUnFQyfMWxZCVFRQxsQbCRndtFhlpRRMfTZpNY3QS8ADx110
         gF/lzZbu+YN8RMY5fhLHUOQedI5SObQpq9O7UqoDTlv393+hk7HHu2NC928xk0tC2pDq
         3DWobwOEiU545tSe3OwdBweeEvWiTGuJMydjNpPJMKXfCaZ1s9WVa/WuJ4Q7ykKYXaNl
         0jwIX8GkwwmJSck4wW73LoMCQJQ9zciGLUdtsW4Cm60KNT8hbK/kg4pAdjAzxqyR2eVe
         50Lw==
Received: by 10.224.108.2 with SMTP id d2mr9718699qap.46.1338244727310;
        Mon, 28 May 2012 15:38:47 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id dq7sm28740970qab.0.2012.05.28.15.38.45
        (version=SSLv3 cipher=OTHER);
        Mon, 28 May 2012 15:38:45 -0700 (PDT)
Message-ID: <4FC3FE72.5040906@poonam.org>
Date: Tue, 29 May 2012 04:08:42 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Where do I store Images in tomcat structure so that I can retrive
 it properly in all browsers
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQkCLBr5Xq5kD41XZC8XG7v+d2A1+ftUcFPvbVh4p75o5mw1BTB4mVDhRWwl2y2e6WwuO3rO
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am using Tomcat 7.0.11 and environment is win 7 home premium with 
servlet/jsp/jstl with netbeans 7.01

I have form where in I upload the image to the folder C://xx  using 
apache commons file upload and then store the file name to the 
DB.Everything is good till here.

Then when I want to display the same image, I query the database using 
servlet and store the image name to attribute like

  request.setAttribute("collegesimg", img);

now via front end jsp, I want to display the same image stored in attribute,

I do

<img src="C://UploadedImages/${collegesimg}" width="80%" height="500">

Now this works perfectly fine,but FF/Chrome fails saying cannot load 
local resources with 404 status.

Now I can understand that this is FF/Chrome by default do allow to 
access local file system on the client.Good till here.

But I am not able to figure out where do I store the images now so that 
I can display it correctly and they remain in place when I redeploy the 
app?Is their any place in Tomcat's dir structure where the folder is 
still called root folder and when we undeploy or redeploy , images still 
remains intact ?

My tomcat 7.0.11 structure looks something like below,


C:\Program Files\Apache Software Foundation\Apache Tomcat 7.0.11>dir
  Volume in drive C is OS
  Volume Serial Number is 8255-4D52

  Directory of C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11

06/12/2011  05:17 AM <DIR>          .
06/12/2011  05:17 AM <DIR>          ..
06/12/2011  05:16 AM <DIR>          bin
08/16/2011  09:05 AM <DIR>          conf
12/07/2011  07:25 AM <DIR>          lib
03/10/2011  03:44 PM            57,851 LICENSE
05/29/2012  12:05 AM <DIR>          logs
03/10/2011  03:44 PM             1,230 NOTICE
03/10/2011  03:44 PM             9,011 RELEASE-NOTES
03/10/2011  03:44 PM             6,860 RUNNING.txt
05/29/2012  03:44 AM <DIR>          temp
06/12/2011  05:17 AM         2,221,126 uninstall.exe
03/30/2012  07:40 AM <DIR>          webapps
08/14/2011  08:15 AM <DIR>          work
                5 File(s)      2,296,078 bytes
                9 Dir(s)  245,526,077,440 bytes free

C:\Program Files\Apache Software Foundation\Apache Tomcat 7.0.11>cd webapps

C:\Program Files\Apache Software Foundation\Apache Tomcat 7.0.11\webapps>dir
  Volume in drive C is OS


  Directory of C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11\w
ebapps

03/30/2012  07:40 AM <DIR>          .
03/30/2012  07:40 AM <DIR>          ..
06/12/2011  05:16 AM <DIR>          docs
06/12/2011  05:16 AM <DIR>          examples
03/30/2012  07:40 AM <DIR>          files
06/12/2011  05:16 AM <DIR>          host-manager
06/12/2011  05:16 AM <DIR>          manager
06/12/2011  05:16 AM <DIR>          ROOT
                0 File(s)              0 bytes
                8 Dir(s)  245,526,077,440 bytes free

C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11\webapps>cd root


C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11\webapps\ROOT>di
r
  Volume in drive C is OS
  Volume Serial Number is 8255-4D52

  Directory of C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11\w
ebapps\ROOT

06/12/2011  05:16 AM <DIR>          .
06/12/2011  05:16 AM <DIR>          ..
03/10/2011  03:44 PM             5,866 asf-logo-wide.gif
03/10/2011  03:44 PM            17,811 asf-logo.png
03/10/2011  03:44 PM               713 bg-button.png
03/10/2011  03:44 PM             1,918 bg-middle.png
03/10/2011  03:44 PM             1,392 bg-nav-item.png
03/10/2011  03:44 PM             1,401 bg-nav.png
03/10/2011  03:44 PM             3,103 bg-upper.png
03/10/2011  03:44 PM             3,469 build.xml
03/10/2011  03:44 PM            21,630 favicon.ico
03/10/2011  03:44 PM            13,066 index.jsp
03/10/2011  03:44 PM             9,011 RELEASE-NOTES.txt
03/10/2011  03:44 PM             2,376 tomcat-power.gif
03/10/2011  03:44 PM             6,074 tomcat.css
03/10/2011  03:44 PM             2,066 tomcat.gif
03/10/2011  03:44 PM             5,103 tomcat.png
03/10/2011  03:44 PM            67,792 tomcat.svg
06/12/2011  05:16 AM <DIR>          WEB-INF
               16 File(s)        162,791 bytes
                3 Dir(s)  245,526,085,632 bytes free

C:\Program Files\Apache Software Foundation\Apache Tomcat 
7.0.11\webapps\ROOT>





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 22:45:03 2012
Return-Path: <users-return-234495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F23DC819
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 22:45:03 +0000 (UTC)
Received: (qmail 53970 invoked by uid 500); 28 May 2012 22:45:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53864 invoked by uid 500); 28 May 2012 22:44:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53847 invoked by uid 99); 28 May 2012 22:44:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 22:44:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.60] (HELO nm22-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 May 2012 22:44:51 +0000
Received: from [98.138.90.49] by nm22.bullet.mail.ne1.yahoo.com with NNFMP; 28 May 2012 22:44:30 -0000
Received: from [98.138.89.164] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 28 May 2012 22:44:30 -0000
Received: from [127.0.0.1] by omp1020.mail.ne1.yahoo.com with NNFMP; 28 May 2012 22:44:30 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 250706.40025.bm@omp1020.mail.ne1.yahoo.com
Received: (qmail 70023 invoked by uid 60001); 28 May 2012 22:44:30 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338245070; bh=My0gvVPLb5sdt9LysML/bGtCJyoVndKFhhNXHn/OebU=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=UcohrfWjlOkD63tF0SMfwQfFMDrt8oNdGE0UrFx6gVMpfpLGCJP/HDndET1jzMz1suAjS6dywRNXAUFKpIyjwtwgWWO9/weEvvQ76g5X5IyTxiSP2mj8Yn7wa7yE1/wdX2K7CK1Invek4Q0nBu1b8Tr60GgtkmUQQ5Nz5n4+378=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PRGnMVIhDKtxdfuyPlk0gz4nX6H6Y6DnQ8Bl6T41qnXIey7mU5de5Llx5tLqxd67/tKk37HKtDE309nl+RaQwDagpT4+MU3RDDbfzXrdJ1Pon9aPLd7r8Fk9i0R7o13ZychiadSEbHf6oEo1pt2TIbvXHI+vq/keLlTtqIodVWc=;
X-YMail-OSG: a93_l5cVM1kZxpJZKp8p2UCBoxJ1POhMw2HTLVW4LsLx1sH
 y1YSOJUUAG8Y_Zv2qTWE0BbUhZLGbpYmlaVN7rD6z.Ro.3Fijc8wWntKMxDn
 HlkrgcDiWQ64vf5iLuwJz3oKj_yrCqP.stWYR9BRD2iKA5wSrXeymeGMn36M
 hmBZlqFeqTU09aWExqlggQVsPJXJEnOFlgGFdEjJnsz_aLLg_MbLItdVSmok
 obbc845woqjOoR1hAj9_0tsCNslk8TU_324Yh3ZOalsEBN9ZE9BGldcb.FV6
 kQ4Ibkx7kcgrJlr6iz4QmPFp_HQqkqzzWoRhkDErrRcWUkHEOkAn4vWVq4lr
 On9kZvawmryiH80wQMR4qGLvPLLR6ZUfU7Ob_SuqR9yZwY24SqA1g1wUaqRQ
 aN8TB5SIWXX_7Juo4T8yjZvd_aVfRIPIimfV12ObBllSxZ0gepQH_tvPMSQL
 mH2C65hbPs8XRVw--
Received: from [71.134.32.51] by web125502.mail.ne1.yahoo.com via HTTP; Mon, 28 May 2012 15:44:30 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>,<99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com> <9B2EE2453F2D9F42BDA22207878445AE169177A63E@USPHO-MXVS01.amer.thermo.com> 
Message-ID: <1338245070.69007.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Mon, 28 May 2012 15:44:30 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: jsvc catalina.out log wont rotate
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: "Muriithi, Priscilla K." <priscil=
la.muriithi@thermofisher.com>=0A> To: Tomcat Users List <users@tomcat.apach=
e.org>=0A> Cc: =0A> Sent: Monday, May 28, 2012 9:43 AM=0A> Subject: RE: jsv=
c catalina.out log wont rotate=0A> =0A>T he logs were rotating before i ins=
talled JDK and used the jsvc to start tomcat =0A> service. This is configur=
ed under Red Hat Linux 5.4 and Tomcat 5.5.=0A> =0A> _______________________=
_________________=0A> From: Caldarale, Charles R [Chuck.Caldarale@unisys.co=
m]=0A> Sent: Monday, May 28, 2012 12:28 PM=0A> To: Tomcat Users List=0A> Su=
bject: RE: jsvc catalina.out log wont rotate=0A> =0A>>=A0 From: Muriithi, P=
riscilla K. [mailto:priscilla.muriithi@thermofisher.com]=0A>>=A0 Subject: j=
svc catalina.out log wont rotate=0A> =0A>>=A0 How can I configure tomcat st=
artup/shutdown script using jsvc to rotate=0A>>=A0 catalina.out log.=0A> =
=0A> Read the FAQ:=0A> =0A> http://wiki.apache.org/tomcat/FAQ/Logging#Q6=0A=
> =0A>>=A0 The catalina.out log is filling up so fast causing DoS.=0A> =0A>=
 You really should fix your webapp(s) to not use stdout for logging.=A0 Not=
 using a =0A> proper logging framework is indicative of sloppy and lazy pro=
gramming.=0A> =0A> - Chuck=0A=0A=0Ahttps://issues.apache.org/jira/browse/DA=
EMON-80=0A=0Ahttps://issues.apache.org/jira/browse/DAEMON-95=0A=0AGoogle se=
arch: jsvc log rotation=A0=0A=0A=0AWhich appears to be fixed in 1.0.4. I do=
n't know what version of jsvc is supplied with Redhat Linux 5.4.=0A=0AThe c=
urrent version from the Apache Commons web site is 1.0.10.=0A=0AThe DAEMON-=
95 link has example shell scripts as well.=0A=0AI've not tried any of this.=
=0A=0AAnd as Chuck as mentioned, your developers should really not use stdo=
ut / stderr for logging. There are lots of quite nice and easy to use loggi=
ng frameworks available.=0A=0A. . . . . just my two cents.=0A/mde/=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon May 28 22:53:57 2012
Return-Path: <users-return-234496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A33FC83D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 28 May 2012 22:53:57 +0000 (UTC)
Received: (qmail 73640 invoked by uid 500); 28 May 2012 22:53:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73461 invoked by uid 500); 28 May 2012 22:53:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73452 invoked by uid 99); 28 May 2012 22:53:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 22:53:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 May 2012 22:53:47 +0000
Received: by pbbro12 with SMTP id ro12so6340092pbb.18
        for <users@tomcat.apache.org>; Mon, 28 May 2012 15:53:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8ZLVMxVD6KfReLBMEVW68SJyAvWxBnRUHE7z04D1nXU=;
        b=YJ2p8O2tJ8mgq65QN1x07M9NDOJZRH5lgwLDRGe0QQUfU5BA0KRtBtVZReoU7JvGi5
         bbbVxw5iZUwvc0Egyg0HlEBr+3z9xvrWtHS00vhzpD6NPFVsA+hl+7e9izhHVhASujFV
         KBoU5wN7CW+/yMYB1RynALfhKA3cv83zGTAb0zruoou9yRK67gj5o1H4VMcWOYgYk8Mw
         gNRegLtikV0wt2KwClyycg2WmWx8NQxIHLOcoxQJW8S86232/9tbhr2U9IQp9s0a3MMm
         J5Ik8NRjZhX6oONKSLrLe1YyRyx0i2EDmBonE4FjwyISbEYjDd0mRCybEzePgFrkYN+I
         WRPQ==
MIME-Version: 1.0
Received: by 10.68.203.66 with SMTP id ko2mr32207704pbc.84.1338245607672; Mon,
 28 May 2012 15:53:27 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Mon, 28 May 2012 15:53:27 -0700 (PDT)
In-Reply-To: <1338245070.69007.YahooMailNeo@web125502.mail.ne1.yahoo.com>
References: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com>
	<99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com>
	<9B2EE2453F2D9F42BDA22207878445AE169177A63E@USPHO-MXVS01.amer.thermo.com>
	<1338245070.69007.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Tue, 29 May 2012 02:53:27 +0400
Message-ID: <CABzHfVmnRmj=muWWwic_CbFCuN6wk2mR=rVK+bb8WN2rHsnntw@mail.gmail.com>
Subject: Re: jsvc catalina.out log wont rotate
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/29 Mark Eggers <its_toasted@yahoo.com>:
>
> And as Chuck as mentioned, your developers should really not use stdout / stderr for logging. There are lots of quite nice and easy to use logging frameworks available.

+1

+ Configure your logging framework do not print anything to the
console, if it already writes those messages in other files.

It is possible to configure "logrotate" daemon to rotate catalina.out.
 E.g. using "copytruncate" option of it. Search archives of this
mailing list for more details.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 04:12:07 2012
Return-Path: <users-return-234497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD9F99813
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 04:12:06 +0000 (UTC)
Received: (qmail 91457 invoked by uid 500); 29 May 2012 04:12:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91399 invoked by uid 500); 29 May 2012 04:12:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91371 invoked by uid 99); 29 May 2012 04:12:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 04:12:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of volkswak@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 04:11:53 +0000
Received: by pbbro12 with SMTP id ro12so6633517pbb.18
        for <users@tomcat.apache.org>; Mon, 28 May 2012 21:11:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zaJxg8Zmvh1A2r8bYuY3yh7dxMlDbNTacrK937PHl0E=;
        b=Qmstlg6KA62QNjS8qXP+3pGvwL/UXB1rMFChorIPHEa3R13nYp6wqAHiygZ2Xg2l+Z
         a43c07MEWkASsLtu3a08JntpiMoKmPQjbd7NgF9dNeIVxLPmSD9I+okfNJoi9dFePiN4
         UQFWZ4oB37acWtIHA8/0fOy4xpeCfRzawDF0yFefQ5OeHHUq3PnYN+G8FxfU7z9dRf+r
         is5Gudd+LtwppLsDK9xC51pANbrGIabJj+WMNjq7/pP/yNyS33TZSy7mcqj3Y/eMmFkz
         l5+iUYZjkH5oh/l/wPPAxWeuP2QIQI9kbxaX2y9idb7Bn4BZo8I4A38aXp5qiTGTJwg5
         OeIA==
MIME-Version: 1.0
Received: by 10.68.212.197 with SMTP id nm5mr33123928pbc.110.1338264692612;
 Mon, 28 May 2012 21:11:32 -0700 (PDT)
Received: by 10.68.44.36 with HTTP; Mon, 28 May 2012 21:11:32 -0700 (PDT)
In-Reply-To: <4FC329A2.8060507@apache.org>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
	<CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
	<4FC329A2.8060507@apache.org>
Date: Mon, 28 May 2012 21:11:32 -0700
Message-ID: <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com>
Subject: Re: fronting tomcat with reverse proxy+SSL
From: al so <volkswak@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1c0f09e5ce904c1250714

--e89a8ff1c0f09e5ce904c1250714
Content-Type: text/plain; charset=ISO-8859-1

What is the typical setup in the enterprise apps? Do they just SSL
terminate at the reverse proxy OR do they setup SSL at both apache and
tomcat? In the former case, obviously the link is insecure between apache
and tomcat.

seeking pretty basic clarification..


On Mon, May 28, 2012 at 12:30 AM, Aristedes Maniatis
<amaniatis@apache.org>wrote:

> What problem are you trying to solve by doing this? It seems to serve
> little purpose. Decrypt the traffic from the browser using Apache httpd,
> then re-encrypt the data and pass it onto tomcat. Why? I am sure it will
> work fine, but your performance will depend on the traffic you have. No one
> can answer that question for you.
>
> Ari
>
>
>
> On 28/05/12 3:35pm, al so wrote:
>
>> It would be nice if I can hear from someone who has done such familiar
>> setup. Have you seen any performance issues in setting up SSL both at
>> Tomcat and Apache? Do you use same keys/certs at both Tomcat and Apache?
>>
>> On Sun, May 27, 2012 at 11:43 AM, al so <volkswak@gmail.com> wrote:
>>
>>  I've used standalone Tomcat to serve as web server+SSL+web container in
>>> the past.
>>>
>>> Now, I am trying to front Tomcat with apache reverse proxy+SSL.
>>> 1. Is it not redundant to configure the SSL in the Tomcat as well when
>>> the
>>> fronting reverse proxy is already configured to handle SSL.
>>>     I see lot of posts on the internet which configure SSL at both Tomcat
>>> and Reverse proxy. Am I missing something?
>>>
>>>
>>>
>>>
>>

--e89a8ff1c0f09e5ce904c1250714--

From users-return-234498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 05:19:52 2012
Return-Path: <users-return-234498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2B9EC2E9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 05:19:51 +0000 (UTC)
Received: (qmail 41145 invoked by uid 500); 29 May 2012 05:19:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40923 invoked by uid 500); 29 May 2012 05:19:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40863 invoked by uid 99); 29 May 2012 05:19:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 05:19:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.179.121.37] (HELO fep17.mx.upcmail.net) (62.179.121.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 05:19:37 +0000
Received: from edge01.upcmail.net ([192.168.13.236])
          by viefep17-int.chello.at
          (InterMail vM.8.01.05.05 201-2260-151-110-20120111) with ESMTP
          id <20120529051913.TBKX23101.viefep17-int.chello.at@edge01.upcmail.net>
          for <users@tomcat.apache.org>; Tue, 29 May 2012 07:19:13 +0200
Received: from [10.0.0.101] ([31.151.105.17])
	by edge01.upcmail.net with edge
	id FhKB1j00f0NYTxK01hKBMv; Tue, 29 May 2012 07:19:13 +0200
X-SourceIP: 31.151.105.17
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: fronting tomcat with reverse proxy+SSL
From: John Renne <john@gniffelnieuws.net>
In-Reply-To: <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com>
Date: Tue, 29 May 2012 07:19:10 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <0ACA26E9-B26D-4DD8-9670-594CAD639DD7@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com> <4FC329A2.8060507@apache.org> <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)
X-Virus-Checked: Checked by ClamAV on apache.org


> What is the typical setup in the enterprise apps? Do they just SSL
> terminate at the reverse proxy OR do they setup SSL at both apache and
> tomcat? In the former case, obviously the link is insecure between =
apache
> and tomcat.
>=20
The most common setup I've seen is to terminate the SSL connection at =
the apache level and let apache and tomcat communicate through AJP which =
you obviously consider insecure.=20

Can I ask you what you consider insecure about AJP by the way?

John


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 05:50:56 2012
Return-Path: <users-return-234499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C4D19F27
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 05:50:56 +0000 (UTC)
Received: (qmail 1471 invoked by uid 500); 29 May 2012 05:50:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1278 invoked by uid 500); 29 May 2012 05:50:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1246 invoked by uid 99); 29 May 2012 05:50:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 05:50:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.80] (HELO smtpout.wanadoo.co.uk) (80.12.242.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 05:50:45 +0000
Received: from mail.homeinbox.net ([2.24.222.150])
	by mwinf5d62 with ME
	id FhqN1j00A3FJDle03hqNDp; Tue, 29 May 2012 07:50:23 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 0E968B22001
	for <users@tomcat.apache.org>; Tue, 29 May 2012 06:50:22 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Perk3CK-h7fG for <users@tomcat.apache.org>;
	Tue, 29 May 2012 06:50:09 +0100 (BST)
Received: from [192.168.23.205] (unknown [2.24.222.150])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 4F97AB22002
	for <users@tomcat.apache.org>; Tue, 29 May 2012 06:49:59 +0100 (BST)
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com> <4FC329A2.8060507@apache.org> <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com> <0ACA26E9-B26D-4DD8-9670-594CAD639DD7@gniffelnieuws.net>
User-Agent: K-9 Mail for Android
In-Reply-To: <0ACA26E9-B26D-4DD8-9670-594CAD639DD7@gniffelnieuws.net>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: fronting tomcat with reverse proxy+SSL
From: markt@apache.org
Date: Tue, 29 May 2012 06:49:41 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <cbb45b36-95b5-4230-af18-278da89bdbe6@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

John Renne <john@gniffelnieuws.net> wrote:

>Can I ask you what you consider insecure about AJP by the way?

AJP is, apart from some simple encoding of a few headers which are easily decoded, a plain text protocol. There is zero encryption. Hence it is not secure.

I suggest you read the AJP protocol definition in the docs.

Anyone who considers AJP a secure protocol is clearly clueless when it comes to security.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 09:32:05 2012
Return-Path: <users-return-234500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 676AA921F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 09:32:05 +0000 (UTC)
Received: (qmail 27563 invoked by uid 500); 29 May 2012 09:32:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26792 invoked by uid 500); 29 May 2012 09:31:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26749 invoked by uid 99); 29 May 2012 09:31:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 09:31:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 09:31:51 +0000
Received: by pbbro12 with SMTP id ro12so7057052pbb.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 02:31:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rcnIGmGM/k8h9fZuVCh+zqNrVf9ke2MZDHCHZABl560=;
        b=bjRAs8wpUItch74vWj/hI5AfFK0XvvgkEw0iYdb8BCucTrcehhPcF4H1Z2nwtEteV8
         zmAB+/3k9VKZ1F05+Aezc79YowKFbkywjrL9Ou8ALvBi8VPPJy/gCmlljzfngbFCxNQ3
         1ndm8r1V/J3aT6lgVlh09rQzNSdBuy17kt7q4w7Htb1CauNQ1KRJTbKQVpwtcMcGW2iI
         RwOTRDl7JxgeCTRqtyFomjpBuOac6eKzh7UNx8crcfUYjfgZpQyqAPdNuDEHdaXQ6Sl3
         znaZOgwaY0eYPk3x6MJJ5MvV/C78uAr6zRt4MfLAigrHwa1W7zdOtBmTTVY83uD1O9QH
         4yTg==
MIME-Version: 1.0
Received: by 10.68.238.135 with SMTP id vk7mr11527074pbc.134.1338283890120;
 Tue, 29 May 2012 02:31:30 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Tue, 29 May 2012 02:31:30 -0700 (PDT)
In-Reply-To: <4FC3D42F.8020600@modelit.nl>
References: <4FC29C5F.1020901@modelit.nl>
	<99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com>
	<4FC3D42F.8020600@modelit.nl>
Date: Tue, 29 May 2012 13:31:30 +0400
Message-ID: <CABzHfV=HR01QF82An0uiM3T5Se5Rvb1tAxyEwDfTAusZz0KH_w@mail.gmail.com>
Subject: Re: command line equivalent of tomcat service manager buttons "start"
 and "stop"
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/28 Nanne van der Zijpp (Modelit) <zijpp@modelit.nl>:
>
> In an older reply of yours I noticed that you mentioned the //MR// option.
> This is not on the manual page I have been using
> (http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html). So I
> am wondering: which documentation did you use to find out about the //MR//
> option?
>

http://commons.apache.org/daemon/procrun.html

Tomcat[n].exe and Tomcat[n]w.exe come from Apache Commons Daemon project.

They are renamed copies of prunsrv.exe and prunmgr.exe

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 11:36:20 2012
Return-Path: <users-return-234501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1166E9057
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 11:36:20 +0000 (UTC)
Received: (qmail 74527 invoked by uid 500); 29 May 2012 11:36:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74386 invoked by uid 500); 29 May 2012 11:36:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74354 invoked by uid 99); 29 May 2012 11:36:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:36:10 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rthirunavukkarasu23@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:36:04 +0000
Received: by lbok6 with SMTP id k6so3349444lbo.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 04:35:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=DjhadLV0Katt5tvU+XfktSZdV3qJOEVdIW4RXDuxjqE=;
        b=yW7yETFIE3b8rTGYi1NBkziVd8hTEcOD6tNk8YvfnoDG50N7JzpjKI3pmBdXS0wmLB
         dT+Xh33k0h0alg+uUikmq5AgjaS21p4Lxfyya6P7wm4cLJ3gGUsh7ErFoqZ70YNfJX9/
         Ez6przZYaF+oLAb+MOgfPGVe73fAYZMP6SWJp1/FryDCuBZfRaJ6Qn+nXwLi1/ILTZPf
         WcaXZqUqW1IHc2jMZHJ2XU0i7W78D0OCw9XylHqybXj5wz4P9U3WEyyz9i/K3et/Qgly
         HVMP2RyAAQv3H6IEsHzoZ4QRqTtMMLo9D1WxE4J3JToeRiQHmC2kQbTzQY09ZlQkcXJj
         qfEg==
MIME-Version: 1.0
Received: by 10.152.105.51 with SMTP id gj19mr11949316lab.38.1338291342859;
 Tue, 29 May 2012 04:35:42 -0700 (PDT)
Received: by 10.112.30.42 with HTTP; Tue, 29 May 2012 04:35:42 -0700 (PDT)
Date: Tue, 29 May 2012 17:05:42 +0530
Message-ID: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
Subject: Accessing Virtual Host through load blancer
From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

I'm configuring a load balancer in front of two tomcat instances in
the same machine. I wanted to access my name based virtual host which
was created across those two tomcat instances through load balancer.
In this case, when i send a request like the following: say my load
balancer is running in port 8280 as https:

                           https://VirtualHostName:8280/

The request at the tomcat is to localhost not to the above
VirtualHost. Can i be able to access name based virtual host through a
load balancer in tomcat, since the mapping in load balancer is to the
actual tomcat instances not to the virtual host. Could you please let
me know how to overcome such an issue in tomcat?


Thanks,
Reka

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 11:44:37 2012
Return-Path: <users-return-234502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 325C690B0
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 11:44:37 +0000 (UTC)
Received: (qmail 2633 invoked by uid 500); 29 May 2012 11:44:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2312 invoked by uid 500); 29 May 2012 11:44:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2204 invoked by uid 99); 29 May 2012 11:44:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:44:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:44:19 +0000
Received: from [192.168.245.129] (p549E8B0F.dip0.t-ipconnect.de [84.158.139.15])
	by tor.combios.es (Postfix) with ESMTPA id BFC29DA0691
	for <users@tomcat.apache.org>; Tue, 29 May 2012 13:43:56 +0200 (CEST)
Message-ID: <4FC4B677.7050005@ice-sa.com>
Date: Tue, 29 May 2012 13:43:51 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Accessing Virtual Host through load blancer
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
In-Reply-To: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Reka Thirunavukkarasu wrote:

> Hi
> 
> I'm configuring a load balancer in front of two tomcat instances in
> the same machine. I wanted to access my name based virtual host which
> was created across those two tomcat instances through load balancer.
> In this case, when i send a request like the following: say my load
> balancer is running in port 8280 as https:
> 
>                            https://VirtualHostName:8280/
> 
> The request at the tomcat is to localhost not to the above
> VirtualHost. Can i be able to access name based virtual host through a
> load balancer in tomcat, since the mapping in load balancer is to the
> actual tomcat instances not to the virtual host. Could you please let
> me know how to overcome such an issue in tomcat?
> 

To allow people to answer in a relevant way, could you give some details about what 
version of Tomcat you are using, under which version of Java, under which platform ?

And, most importantly, what you are actually using to do the load-balancing.
Are you using Apache httpd as a front-end ? if yes, with which proxying mechanism to 
Tomcat (mod_proxy, mod_jk, .. ?) (and versions of ditto).
If not Apache httpd, then what ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 11:46:49 2012
Return-Path: <users-return-234503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4B0690B9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 11:46:49 +0000 (UTC)
Received: (qmail 8574 invoked by uid 500); 29 May 2012 11:46:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8443 invoked by uid 500); 29 May 2012 11:46:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8421 invoked by uid 99); 29 May 2012 11:46:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:46:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kalle.privat@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 11:46:37 +0000
Received: by lahc1 with SMTP id c1so3334132lah.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 04:46:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=MeR0XRojWbPtWi0bXVrOc7UshEAKyugN/0qph1WUGgA=;
        b=G1DokC7mBIPdg7FaHt2CsI9yMJEHtUUDu/Fc3TMSnOJRrxlptYsSIwl4L7F0yVvkqq
         E1wAoykeSwRd+nWIgXjBTJ2fklLGjlRlTySyCCIAhzQmZ/aePGodchYGyy+FbUafuSmU
         kqOqd594llZWC6VPEPbAokD9j9H8fQt88WC8PR5HyTCdcwmVJZTNdypg/Pn7WIfUlX6+
         XBDGpvgYrYgljYzIMvSGAOi9W5sWJrYhOa1bDggdavRYtasv8P1L2iJ32685p/3Kq2Fr
         E71Oqeqaev+RVFkDvj04C7a8dAjbA1Y4FNEqb5NdZXaVScsr+FMMiFjPShYF/tlUvcy7
         ECXA==
Received: by 10.152.122.12 with SMTP id lo12mr12122925lab.3.1338291976577;
        Tue, 29 May 2012 04:46:16 -0700 (PDT)
Received: from [127.0.0.1] (daimi-pat.daimi.au.dk. [130.225.0.251])
        by mx.google.com with ESMTPS id sm7sm22895501lab.5.2012.05.29.04.46.11
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 29 May 2012 04:46:12 -0700 (PDT)
Message-ID: <4FC4B6FE.2090709@gmail.com>
Date: Tue, 29 May 2012 13:46:06 +0200
From: Casper Wandahl Schmidt <kalle.privat@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Accessing Virtual Host through load blancer
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
In-Reply-To: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit


Den 29-05-2012 13:35, Reka Thirunavukkarasu skrev:
> Hi
>
> I'm configuring a load balancer in front of two tomcat instances in
> the same machine. I wanted to access my name based virtual host which
> was created across those two tomcat instances through load balancer.
> In this case, when i send a request like the following: say my load
> balancer is running in port 8280 as https:
>
>                             https://VirtualHostName:8280/
>
> The request at the tomcat is to localhost not to the above
> VirtualHost. Can i be able to access name based virtual host through a
> load balancer in tomcat, since the mapping in load balancer is to the
> actual tomcat instances not to the virtual host. Could you please let
> me know how to overcome such an issue in tomcat?
I think you need the <Host> element in your server.xml on each tomcat 
but it's hard to say since you have said nothing about your environment 
or configurations. I have apache httpd in front of tomcat (using mod_jk 
without loadbalancing) and uses it to access virtual hostnames (named 
based) without any problem.
>
>
> Thanks,
> Reka
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
Med venlig hilsen/Kind regards
Casper W. Schmidt


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 12:22:14 2012
Return-Path: <users-return-234504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 343BC919D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 12:22:14 +0000 (UTC)
Received: (qmail 96703 invoked by uid 500); 29 May 2012 12:22:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96661 invoked by uid 500); 29 May 2012 12:22:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96639 invoked by uid 99); 29 May 2012 12:22:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:22:10 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rthirunavukkarasu23@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:22:03 +0000
Received: by lahc1 with SMTP id c1so3363893lah.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 05:21:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=3UnKF5Lh1wZ9OqFQKFtiIdupJk7jzCPk0P6BDGloLxk=;
        b=MXNVFWXDvQeQX4A0Gp5Q5nYS6bVhpH622v/slMvFUKNrHqV0VEAhxCvvJ5Fd1kQjxN
         8mf4+459hRDav96hn3HaKd8pAFz+0k98+0vfRJvdxM7431C5QW/MNEe/7WBD7y1cJVHI
         +ADSddau7o3FF+HiCpZJcCFM4NIcXX2pEUgmjxItBM2zv9V4WDXB5TrmmnkPdVpuAIC7
         pBYSTAYGk8fAcJ7PIxG6fle3X1cHq/upVuZWPN8YCtbY8clyGVJN9w9zrt2bI/xqXAbZ
         enmVeQPWKqmt+uHbcBv9wRp+qo8619ryRgpaIFR4h4MNeTNiiQKfoKUYiLG7ofk0BVR+
         majw==
MIME-Version: 1.0
Received: by 10.152.122.116 with SMTP id lr20mr12011247lab.42.1338294102033;
 Tue, 29 May 2012 05:21:42 -0700 (PDT)
Received: by 10.112.30.42 with HTTP; Tue, 29 May 2012 05:21:41 -0700 (PDT)
In-Reply-To: <4FC4B6FE.2090709@gmail.com>
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
	<4FC4B6FE.2090709@gmail.com>
Date: Tue, 29 May 2012 17:51:41 +0530
Message-ID: <CAMSN5ZbnDUy3Hxk6bpgt0btqR8_TX+F-VG3xHpWN45cTGX6wrg@mail.gmail.com>
Subject: Re: Accessing Virtual Host through load blancer
From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I'm using tomcat 7.0.27 and java 1.6 in ubuntu 11.10.

Here I'm not using Apache httpd instead the load balancer that we have
developed which will balance load within tomcat instances.

Obviously, the issue is with our load balancer since it is rewriting
the url to one of the actual running tomcat instance though the
request is to virtual host. Since we plan to use our load balancer, we
plan to send additional http header with virtual host information to
tomcat. In this case, how could i handle it in tomcat level?

I have defined the virtual hosts in Server.xml. And i have deployed
web applications inside the virtual host as well. When i was trying to
invoke those web application through virtual host from load balancer
only, i got the above problem.


Thanks,
Reka

On Tue, May 29, 2012 at 5:16 PM, Casper Wandahl Schmidt
<kalle.privat@gmail.com> wrote:
>
> Den 29-05-2012 13:35, Reka Thirunavukkarasu skrev:
>
>> Hi
>>
>> I'm configuring a load balancer in front of two tomcat instances in
>> the same machine. I wanted to access my name based virtual host which
>> was created across those two tomcat instances through load balancer.
>> In this case, when i send a request like the following: say my load
>> balancer is running in port 8280 as https:
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0https://VirtualHostName:8280/
>>
>> The request at the tomcat is to localhost not to the above
>> VirtualHost. Can i be able to access name based virtual host through a
>> load balancer in tomcat, since the mapping in load balancer is to the
>> actual tomcat instances not to the virtual host. Could you please let
>> me know how to overcome such an issue in tomcat?
>
> I think you need the <Host> element in your server.xml on each tomcat but
> it's hard to say since you have said nothing about your environment or
> configurations. I have apache httpd in front of tomcat (using mod_jk with=
out
> loadbalancing) and uses it to access virtual hostnames (named based) with=
out
> any problem.
>>
>>
>>
>> Thanks,
>> Reka
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
> Med venlig hilsen/Kind regards
> Casper W. Schmidt
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Regards,
Reka
:)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 12:23:37 2012
Return-Path: <users-return-234505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 19B5391A5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 12:23:37 +0000 (UTC)
Received: (qmail 3513 invoked by uid 500); 29 May 2012 12:23:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3427 invoked by uid 500); 29 May 2012 12:23:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3411 invoked by uid 99); 29 May 2012 12:23:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:23:33 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rthirunavukkarasu23@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:23:27 +0000
Received: by obbwd20 with SMTP id wd20so9707324obb.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 05:23:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=3UnKF5Lh1wZ9OqFQKFtiIdupJk7jzCPk0P6BDGloLxk=;
        b=mvUIOfonQck4zTprk/N4ENOVz3yf1SVls45BVyY2AsRqdvFROOsMbJcl7Rg2cU5Bq+
         eyMhYrvpDFzlsuukqxRf8S4SQQUhNCw9q6anHqfaemwKSR7q+mkIkOL43cTgTlEeFwqZ
         m+R/rZC0I9JwbposaXTyNRRBHdfrs0G6zsGnxGlqD+vXfwFAcbAJyT/YqY/+AxWalgPL
         sFae51koTdz0mqChiEh4Z7BYHuxo0aN26PttnUwbvsJGYvtetuUqv+vSWIcRbPAm3eMd
         9A1P/DIIjHm9Sg6C86JKg/l8AdU4dEQFTdsRrhuEooDfelQV/O0/QJPMIjxdM/JvscxP
         23Kg==
MIME-Version: 1.0
Received: by 10.182.45.72 with SMTP id k8mr11145606obm.51.1338294186462; Tue,
 29 May 2012 05:23:06 -0700 (PDT)
Received: by 10.182.192.65 with HTTP; Tue, 29 May 2012 05:23:05 -0700 (PDT)
In-Reply-To: <4FC4B6FE.2090709@gmail.com>
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
	<4FC4B6FE.2090709@gmail.com>
Date: Tue, 29 May 2012 17:53:05 +0530
Message-ID: <CAMSN5ZaaY0JivP=PwvdS_YKfyUMCim+QNg1LuOEJ0=Gz55cogA@mail.gmail.com>
Subject: Re: Accessing Virtual Host through load blancer
From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I'm using tomcat 7.0.27 and java 1.6 in ubuntu 11.10.

Here I'm not using Apache httpd instead the load balancer that we have
developed which will balance load within tomcat instances.

Obviously, the issue is with our load balancer since it is rewriting
the url to one of the actual running tomcat instance though the
request is to virtual host. Since we plan to use our load balancer, we
plan to send additional http header with virtual host information to
tomcat. In this case, how could i handle it in tomcat level?

I have defined the virtual hosts in Server.xml. And i have deployed
web applications inside the virtual host as well. When i was trying to
invoke those web application through virtual host from load balancer
only, i got the above problem.


Thanks,
Reka

On Tue, May 29, 2012 at 5:16 PM, Casper Wandahl Schmidt
<kalle.privat@gmail.com> wrote:
>
> Den 29-05-2012 13:35, Reka Thirunavukkarasu skrev:
>
>> Hi
>>
>> I'm configuring a load balancer in front of two tomcat instances in
>> the same machine. I wanted to access my name based virtual host which
>> was created across those two tomcat instances through load balancer.
>> In this case, when i send a request like the following: say my load
>> balancer is running in port 8280 as https:
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0https://VirtualHostName:8280/
>>
>> The request at the tomcat is to localhost not to the above
>> VirtualHost. Can i be able to access name based virtual host through a
>> load balancer in tomcat, since the mapping in load balancer is to the
>> actual tomcat instances not to the virtual host. Could you please let
>> me know how to overcome such an issue in tomcat?
>
> I think you need the <Host> element in your server.xml on each tomcat but
> it's hard to say since you have said nothing about your environment or
> configurations. I have apache httpd in front of tomcat (using mod_jk with=
out
> loadbalancing) and uses it to access virtual hostnames (named based) with=
out
> any problem.
>>
>>
>>
>> Thanks,
>> Reka
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
> Med venlig hilsen/Kind regards
> Casper W. Schmidt
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Regards,
Reka
:)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 12:52:03 2012
Return-Path: <users-return-234506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 56989CE18
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 12:52:03 +0000 (UTC)
Received: (qmail 98986 invoked by uid 500); 29 May 2012 12:52:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98933 invoked by uid 500); 29 May 2012 12:51:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98922 invoked by uid 99); 29 May 2012 12:51:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:51:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 12:51:50 +0000
Received: from [192.168.245.129] (p549E8B0F.dip0.t-ipconnect.de [84.158.139.15])
	by tor.combios.es (Postfix) with ESMTPA id 82614DA077D
	for <users@tomcat.apache.org>; Tue, 29 May 2012 14:51:28 +0200 (CEST)
Message-ID: <4FC4C64C.8060509@ice-sa.com>
Date: Tue, 29 May 2012 14:51:24 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Accessing Virtual Host through load blancer
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>	<4FC4B6FE.2090709@gmail.com> <CAMSN5ZaaY0JivP=PwvdS_YKfyUMCim+QNg1LuOEJ0=Gz55cogA@mail.gmail.com>
In-Reply-To: <CAMSN5ZaaY0JivP=PwvdS_YKfyUMCim+QNg1LuOEJ0=Gz55cogA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Please do not top-post.
Answer below the respective question or comment, not on top of the message.
We don't like to have to scroll up and down to see which answer related to what.

Reka Thirunavukkarasu wrote:
> Hi,
> 
> I'm using tomcat 7.0.27 and java 1.6 in ubuntu 11.10.
> 
> Here I'm not using Apache httpd instead the load balancer that we have
> developed which will balance load within tomcat instances.
> 
> Obviously, the issue is with our load balancer since it is rewriting
> the url to one of the actual running tomcat instance though the
> request is to virtual host. Since we plan to use our load balancer, we
> plan to send additional http header with virtual host information to
> tomcat.

Don't /plan/ to do it, /do it/.  You /must/ send a "Host:" header to Tomcat, to allow it 
to pick the correct VirtualHost.  Otherwise how would it do it ?
That's the HTTP/1.1 protocol, nothing special with Tomcat.

  In this case, how could i handle it in tomcat level?

Tomcat will handle it fine, if you send a correct request.
A HTTP 1.1 request without a Host: header is incorrect.

> 
> I have defined the virtual hosts in Server.xml. And i have deployed
> web applications inside the virtual host as well. When i was trying to
> invoke those web application through virtual host from load balancer
> only, i got the above problem.
> 

Tomcat is doing what it should do : no "Host:" header in the request, with a value 
matching a (Virtual) Host name ? --> handle with the default Host.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 13:06:53 2012
Return-Path: <users-return-234507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3ACD8CE90
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 13:06:53 +0000 (UTC)
Received: (qmail 42725 invoked by uid 500); 29 May 2012 13:06:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42673 invoked by uid 500); 29 May 2012 13:06:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42663 invoked by uid 99); 29 May 2012 13:06:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 13:06:49 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rthirunavukkarasu23@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 13:06:43 +0000
Received: by ggnp1 with SMTP id p1so3250676ggn.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 06:06:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=UmMTy9c48V9YCz0hgHAQL2+NA3SHGHYULTRbBPdFr+s=;
        b=p2TX3I4hLeehcH2UeXxXLVxkRErmqIgTF1DJeZg84LGlg61y9Aid1A60C1O5Xf00YX
         ji0XFh7cs0/wb1j8Vr3/vACm2a1/iZdmoJMZ0RBLIRUG1Dyl4jekFF39DKEuhpdp9qt/
         Q2cQjFV3814g4TpHBpAOUb713ImvLjMTByieEmcaXKmV1EYjWBAOQwLiM3BvSw9+AAmp
         Z/kvcAZM07y8fC1rAFSG/XkRtMzQZj1/nKeOFIYE0gBWr9HITI/XZ7BHKuZz0uiqgHj4
         SqyX0FoIB1RWaFdC1HI1WOVpNqJyDnhLc93rQ3SGl+g3KNCzeZYcJ5Yx1ayMXKLrRd6H
         l+Ew==
MIME-Version: 1.0
Received: by 10.182.12.6 with SMTP id u6mr4134569obb.12.1338296782799; Tue, 29
 May 2012 06:06:22 -0700 (PDT)
Received: by 10.182.192.65 with HTTP; Tue, 29 May 2012 06:06:12 -0700 (PDT)
In-Reply-To: <4FC4C64C.8060509@ice-sa.com>
References: <CAMSN5ZYWeiBOyLPj3Mv+4Zo+CfjQXSweWhw1AhoD6461Y+C0bg@mail.gmail.com>
	<4FC4B6FE.2090709@gmail.com>
	<CAMSN5ZaaY0JivP=PwvdS_YKfyUMCim+QNg1LuOEJ0=Gz55cogA@mail.gmail.com>
	<4FC4C64C.8060509@ice-sa.com>
Date: Tue, 29 May 2012 18:36:12 +0530
Message-ID: <CAMSN5ZbG74Wuku9icJzFzjDvtBgO9CdnU2eFBEkLunzLigBuDw@mail.gmail.com>
Subject: Re: Accessing Virtual Host through load blancer
From: Reka Thirunavukkarasu <rthirunavukkarasu23@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the insight information.

> Don't /plan/ to do it, /do it/. =C2=A0You /must/ send a "Host:" header to=
 Tomcat,
> to allow it to pick the correct VirtualHost. =C2=A0Otherwise how would it=
 do it ?
> That's the HTTP/1.1 protocol, nothing special with Tomcat.
 Then we will implement it.

Reka.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 13:30:00 2012
Return-Path: <users-return-234508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5AC639E97
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 13:30:00 +0000 (UTC)
Received: (qmail 24985 invoked by uid 500); 29 May 2012 13:29:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24931 invoked by uid 500); 29 May 2012 13:29:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24920 invoked by uid 99); 29 May 2012 13:29:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 13:29:56 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sahmed1020@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 13:29:50 +0000
Received: by qcsc20 with SMTP id c20so2727261qcs.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 06:29:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=QlL7J/qAwcRyDZj7GBtPhvTq7CkK9EtdIYs3+OdVgXE=;
        b=zhDeJb1//bsGuyv/Mbcfbm4W6MTN8bPy/saVsG188K85mT7sD8CCIPYwbQUPYz9lNl
         XpZXwQsJXqEqMZTw033FSu38x/ODjbla8OPQh05FTT7IVXGTu9OtzGM6yGyi02vMgX8F
         I55OSG1PnZj7ERXepleRaG5T1c3RbUApF7JMpJ9yTxp+ypWAEZEc1tAFvb+COA4fI4dD
         q2KPdyDoWofACRTgY4X7IX3t0Fge39gddaC4UgW4IZvv5nbi5TcTexh50pvkEm7rHY3q
         KpZJfvwLwQEWcfGL97gYhS+48ai7WQ0iPl6jlSflCBz3PYdsJq73LAFAaj5kC9Y3DMde
         ZDrQ==
Received: by 10.224.193.7 with SMTP id ds7mr11869558qab.21.1338298169971; Tue,
 29 May 2012 06:29:29 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.179.91 with HTTP; Tue, 29 May 2012 06:29:09 -0700 (PDT)
From: S Ahmed <sahmed1020@gmail.com>
Date: Tue, 29 May 2012 09:29:09 -0400
Message-ID: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
Subject: tomcat jdbc pool, creating a pool of pools, single connection memory footprint
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3005134206540204c12cd311
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3005134206540204c12cd311
Content-Type: text/plain; charset=ISO-8859-1

If my requirement for a hosted application is to give each customer
a separate instance of mysql, I am curious how feasible that would be.

What is the memory footprint for a single connection to a database?

If I had 10K separate mysql instances, would it be feasible to create a
pool of pools? i.e. a hashmap of connection pools?

--20cf3005134206540204c12cd311--

From users-return-234509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:00:57 2012
Return-Path: <users-return-234509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 526869FFD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:00:57 +0000 (UTC)
Received: (qmail 26955 invoked by uid 500); 29 May 2012 14:00:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26815 invoked by uid 500); 29 May 2012 14:00:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26806 invoked by uid 99); 29 May 2012 14:00:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:00:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.75.92.155] (HELO mx.visma.com) (193.75.92.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:00:47 +0000
From: =?iso-8859-1?Q?Alexander_Landsnes_Ke=FCl?= <Alexander.Landsnes.Keul@visma.no>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Tomcat filter behaviour
Thread-Topic: Tomcat filter behaviour
Thread-Index: Ac09n278Q4JcmrjsSKq7FA/jetKA4Q==
Date: Tue, 29 May 2012 14:00:24 +0000
Message-ID: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
Accept-Language: en-GB, nb-NO, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAQAAAWE=
X-Virus-Checked: Checked by ClamAV on apache.org

I'm seeing some behaviour from Tomcat 7 that I'd classify as "funky" when i=
t comes to servlet filters. First off the technical setup

JDK 1.7.0_03 (64-bit)
Tomcat 7.0.26 (64-bit) binaries
4 instances of Tomcat share those binaries, each installed as a pretty stan=
dard windows service using service.bat. Their bin folder contains the requi=
red files, tomcat-juli.jar and a setenv.bat as well as a renamed tomcat7w.e=
xe for convenience.

The setup itself works like a charm, I can run webapps on all the above ser=
vers and they all have their own ports for the connector, shutdown and ajp.=
 I also double checked that no application references catalina.home for con=
fig, they all check catalina.base.=20
The problem appears when I try to use the Waffle servlet filter to authenti=
cate a remote user on one of the above instances. I ran it in a few differe=
nt scenarios, and the behavior leaves me puzzled. All the scenarios run wit=
h the filter logging turned on, so it appears to behave correctly.

1)
I defined the <filter> and <filter-mapping> elements in the (shared) web.xm=
l for a tomcat instance, with <url-pattern>/*</url-pattern>. I tried having=
 it both at the very start, and the very end of the file with the exact sam=
e behaviour. The filter would only work correctly on the very root of the t=
omcat server, so http://localhost:8180/. Attempting to navigate to any othe=
r context would appear to trigger the Kerberos auth (HTTP headers contained=
 Authorization: Negotiate & what I believe is a Base64 encoded Kerberos tic=
ket), but the the remote user retrieved from the servlet would be null.

2)
I moved the config from the shared web.xml and over to a specific webapp th=
at needs the remote user. This works like a charm, more or less as expected=
. without SSO.

3)
Moving the filter definition, but not the filter-mapping, to the shared web=
.xml, and then mapping it in a context specific web.xml also works as expec=
ted. The remote user can be retrieved from the servlet.=20

The second setup, having Waffle defined in the context specific web.xml, wo=
n't be an option for us in a production environment. Ideally the same war f=
ile should be deployable to an environment with SSO and also without SSO. I=
t could be solved by two versions of the web.xml, but it's more of a last r=
esort.
We've got a similar setup, on an old Tomcat 6.0.26 test instance, where waf=
fle runs like a charm from the shared web.xml. A major difference here bein=
g that catalina.base & catalina.home refer to the exact same folder.=20

Is this behaviour intended? That a filter-mapping in the shared web.xml is =
disregarded in the contexts? Or am I seeing a bug of sorts here? I'll admit=
 to my knowledge of the servlet spec is cursory at best, but this strikes m=
e as wrong. I've got a virtual server I can fiddle with if anyone has sugge=
stions as to how I can "fix" this behaviour.

Alex

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:11:12 2012
Return-Path: <users-return-234510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14E0990D1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:11:12 +0000 (UTC)
Received: (qmail 64235 invoked by uid 500); 29 May 2012 14:11:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64153 invoked by uid 500); 29 May 2012 14:11:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64144 invoked by uid 99); 29 May 2012 14:11:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:11:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:11:01 +0000
Received: by pbbro12 with SMTP id ro12so7480532pbb.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 07:10:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=4a9f4v6lYHBwvUA4GD4rgevq1pFs4iaO8HC/JTSoc8M=;
        b=xP7hiwK+6gQUhPIKrMvhq+G/N97RL4RXEoV5xQ+0J4C0K73lSeSaLJxu0LybE6dmMt
         CeM7aIDV6NEEGAdslnHA+ABfFBRDvpn8y9O4fQ+B1d0z+HdzZZI1uVb18wE57+CRtcri
         ZpCka4kOL5as6sm1HDsVPejV9kEFJB7XqaJRYHZsdIF9uX5xouSwDFsrvLCqPkQG9sRV
         nM4QhH5nq4Om4FuA7Yp2xXNIoEqdMn6QCoolntyhzT4aT8r3+v/5h6IyEww/qHgS/92h
         ndYbfjyuhVKZ39AmAbweMIjBFyAsD/9c/PWSaVloJUvnYc3PYKZlMRWPNqEvKw2WnR2h
         8arw==
MIME-Version: 1.0
Received: by 10.68.190.39 with SMTP id gn7mr38709098pbc.5.1338300621466; Tue,
 29 May 2012 07:10:21 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Tue, 29 May 2012 07:10:21 -0700 (PDT)
In-Reply-To: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
References: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
Date: Tue, 29 May 2012 18:10:21 +0400
Message-ID: <CABzHfVkjwORGTASNg1uwQtpKhV8FqiHxk_0x13ZOHHf6JCQX+A@mail.gmail.com>
Subject: Re: Tomcat filter behaviour
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/29 Alexander Landsnes Ke=FCl <Alexander.Landsnes.Keul@visma.no>:
> I'm seeing some behaviour from Tomcat 7 that I'd classify as "funky" when=
 it comes to servlet filters. First off the technical setup
>
> JDK 1.7.0_03 (64-bit)
> Tomcat 7.0.26 (64-bit) binaries
> 4 instances of Tomcat share those binaries, each installed as a pretty st=
andard windows service using service.bat. Their bin folder contains the req=
uired files, tomcat-juli.jar and a setenv.bat as well as a renamed tomcat7w=
.exe for convenience.
>
> The setup itself works like a charm, I can run webapps on all the above s=
ervers and they all have their own ports for the connector, shutdown and aj=
p. I also double checked that no application references catalina.home for c=
onfig, they all check catalina.base.
> The problem appears when I try to use the Waffle servlet filter to authen=
ticate a remote user on one of the above instances. I ran it in a few diffe=
rent scenarios, and the behavior leaves me puzzled. All the scenarios run w=
ith the filter logging turned on, so it appears to behave correctly.
>
> 1)
> I defined the <filter> and <filter-mapping> elements in the (shared) web.=
xml for a tomcat instance, with <url-pattern>/*</url-pattern>. I tried havi=
ng it both at the very start, and the very end of the file with the exact s=
ame behaviour. The filter would only work correctly on the very root of the=
 tomcat server, so http://localhost:8180/. Attempting to navigate to any ot=
her context would appear to trigger the Kerberos auth (HTTP headers contain=
ed Authorization: Negotiate & what I believe is a Base64 encoded Kerberos t=
icket), but the the remote user retrieved from the servlet would be null.
>
> 2)
> I moved the config from the shared web.xml and over to a specific webapp =
that needs the remote user. This works like a charm, more or less as expect=
ed. without SSO.
>
> 3)
> Moving the filter definition, but not the filter-mapping, to the shared w=
eb.xml, and then mapping it in a context specific web.xml also works as exp=
ected. The remote user can be retrieved from the servlet.
>
> The second setup, having Waffle defined in the context specific web.xml, =
won't be an option for us in a production environment. Ideally the same war=
 file should be deployable to an environment with SSO and also without SSO.=
 It could be solved by two versions of the web.xml, but it's more of a last=
 resort.
> We've got a similar setup, on an old Tomcat 6.0.26 test instance, where w=
affle runs like a charm from the shared web.xml. A major difference here be=
ing that catalina.base & catalina.home refer to the exact same folder.
>
> Is this behaviour intended? That a filter-mapping in the shared web.xml i=
s disregarded in the contexts? Or am I seeing a bug of sorts here? I'll adm=
it to my knowledge of the servlet spec is cursory at best, but this strikes=
 me as wrong. I've got a virtual server I can fiddle with if anyone has sug=
gestions as to how I can "fix" this behaviour.
>

Yes, it is intended behaviour and Tomcat 7 here differs from earlier versio=
ns.

See explanation here:
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D51754#c1

You may also want to look at
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D52138#c4

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:12:05 2012
Return-Path: <users-return-234511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7EF190DC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:12:04 +0000 (UTC)
Received: (qmail 73905 invoked by uid 500); 29 May 2012 14:12:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73695 invoked by uid 500); 29 May 2012 14:12:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73684 invoked by uid 99); 29 May 2012 14:12:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:12:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.75.92.155] (HELO mx.visma.com) (193.75.92.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:11:53 +0000
From: =?iso-8859-1?Q?Alexander_Landsnes_Ke=FCl?= <Alexander.Landsnes.Keul@visma.no>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Tomcat filter behaviour
Thread-Topic: Tomcat filter behaviour
Thread-Index: Ac09pL/HIq9c3TAWRD66mKF88mQALA==
Date: Tue, 29 May 2012 14:11:32 +0000
Message-ID: <C0D237666EEA6C44B463A492857DD4892AE5A615@VITEMBX001.datakraftverk.no>
Accept-Language: en-GB, nb-NO, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAQAAAWE=

There was a copy-paste artifact on my first mail that made no sense at the =
end of 2). Otherwise this is identical to my previous mail.


I'm seeing some behaviour from Tomcat 7 that I'd classify as "funky" when i=
t comes to servlet filters. First off the technical setup

JDK 1.7.0_03 (64-bit)
Tomcat 7.0.26 (64-bit) binaries
4 instances of Tomcat share those binaries, each installed as a pretty stan=
dard windows service using service.bat. Their bin folder contains the requi=
red files, tomcat-juli.jar and a setenv.bat as well as a renamed tomcat7w.e=
xe for convenience.

The setup itself works like a charm, I can run webapps on all the above ser=
vers and they all have their own ports for the connector, shutdown and ajp.=
 I also double checked that no application references catalina.home for con=
fig, they all check catalina.base.=20
The problem appears when I try to use the Waffle servlet filter to authenti=
cate a remote user on one of the above instances. I ran it in a few differe=
nt scenarios, and the behavior leaves me puzzled. All the scenarios run wit=
h the filter logging turned on, so it appears to behave correctly.

1)
I defined the <filter> and <filter-mapping> elements in the (shared) web.xm=
l for a tomcat instance, with <url-pattern>/*</url-pattern>. I tried having=
 it both at the very start, and the very end of the file with the exact sam=
e behaviour. The filter would only work correctly on the very root of the t=
omcat server, so http://localhost:8180/. Attempting to navigate to any othe=
r context would appear to trigger the Kerberos auth (HTTP headers contained=
 Authorization: Negotiate & what I believe is a Base64 encoded Kerberos tic=
ket), but the the remote user retrieved from the servlet would be null.

2)
I moved the config from the shared web.xml and over to a specific webapp th=
at needs the remote user. This works like a charm, more or less as expected=
 the remote user can be retrieved from the servlet.

3)
Moving the filter definition, but not the filter-mapping, to the shared web=
.xml, and then mapping it in a context specific web.xml also works as expec=
ted. The remote user can be retrieved from the servlet.=20

The second setup, having Waffle defined in the context specific web.xml, wo=
n't be an option for us in a production environment. Ideally the same war f=
ile should be deployable to an environment with SSO and also without SSO. I=
t could be solved by two versions of the web.xml, but it's more of a last r=
esort.
We've got a similar setup, on an old Tomcat 6.0.26 test instance, where waf=
fle runs like a charm from the shared web.xml. A major difference here bein=
g that catalina.base & catalina.home refer to the exact same folder.=20

Is this behaviour intended? That a filter-mapping in the shared web.xml is =
disregarded in the contexts? Or am I seeing a bug of sorts here? I'll admit=
 to my knowledge of the servlet spec is cursory at best, but this strikes m=
e as wrong. I've got a virtual server I can fiddle with if anyone has sugge=
stions as to how I can "fix" this behaviour.

Alex

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:40:22 2012
Return-Path: <users-return-234512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0849CC106
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:40:22 +0000 (UTC)
Received: (qmail 73285 invoked by uid 500); 29 May 2012 14:40:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73147 invoked by uid 500); 29 May 2012 14:40:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73136 invoked by uid 99); 29 May 2012 14:40:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:40:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:40:12 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Fn7H1j00G27AodY51qfq8X; Tue, 29 May 2012 14:39:50 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id Fqfp1j00q38FjT13fqfqc9; Tue, 29 May 2012 14:39:50 +0000
Message-ID: <4FC4DFB5.2000206@christopherschultz.net>
Date: Tue, 29 May 2012 10:39:49 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jsvc catalina.out log wont rotate
References: <9B2EE2453F2D9F42BDA22207878445AE169177A63C@USPHO-MXVS01.amer.thermo.com> <99C8B2929B39C24493377AC7A121E21FB028A7C7B4@USEA-EXCH8.na.uis.unisys.com> <9B2EE2453F2D9F42BDA22207878445AE169177A63E@USPHO-MXVS01.amer.thermo.com> <1338245070.69007.YahooMailNeo@web125502.mail.ne1.yahoo.com> <CABzHfVmnRmj=muWWwic_CbFCuN6wk2mR=rVK+bb8WN2rHsnntw@mail.gmail.com>
In-Reply-To: <CABzHfVmnRmj=muWWwic_CbFCuN6wk2mR=rVK+bb8WN2rHsnntw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

On 5/28/12 6:53 PM, Konstantin Kolinko wrote:
> 2012/5/29 Mark Eggers <its_toasted@yahoo.com>:
>> 
>> And as Chuck as mentioned, your developers should really not use
>> stdout / stderr for logging. There are lots of quite nice and
>> easy to use logging frameworks available.
> 
> +1
> 
> + Configure your logging framework do not print anything to the 
> console, if it already writes those messages in other files.
> 
> It is possible to configure "logrotate" daemon to rotate
> catalina.out. E.g. using "copytruncate" option of it. Search
> archives of this mailing list for more details.

I've updated the FAQ to include a bit more detail on this subject
since it keeps coming up.

http://wiki.apache.org/tomcat/FAQ/Logging#Q10

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E37UACgkQ9CaO5/Lv0PClLwCeLTOVUMzx6iBIgX+RL3pLiXfU
h2cAn3P5P7k8vLwqC+i8jqzxh8kbkTZK
=du+v
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:46:22 2012
Return-Path: <users-return-234513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7ED8BC125
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:46:22 +0000 (UTC)
Received: (qmail 91003 invoked by uid 500); 29 May 2012 14:46:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90823 invoked by uid 500); 29 May 2012 14:46:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90814 invoked by uid 99); 29 May 2012 14:46:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:46:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:46:12 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Fo3g1j0061vXlb851qlrok; Tue, 29 May 2012 14:45:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id Fqlr1j02B38FjT13dqlrfE; Tue, 29 May 2012 14:45:51 +0000
Message-ID: <4FC4E11F.1000305@christopherschultz.net>
Date: Tue, 29 May 2012 10:45:51 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Where do I store Images in tomcat structure so that I can retrive
 it properly in all browsers
References: <4FC3FE72.5040906@poonam.org>
In-Reply-To: <4FC3FE72.5040906@poonam.org>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kiran,

On 5/28/12 6:38 PM, Kiran Badi wrote:
> I am using Tomcat 7.0.11

Upgrade. http://tomcat.apache.org/security-7.html

> and environment is win 7 home premium with servlet/jsp/jstl with
> netbeans 7.01
> 
> I have form where in I upload the image to the folder C://xx
> using apache commons file upload and then store the file name to
> the DB.Everything is good till here.

Good.

> Then when I want to display the same image, I query the database
> using servlet and store the image name to attribute like
> 
> request.setAttribute("collegesimg", img);
> 
> now via front end jsp, I want to display the same image stored in 
> attribute,
> 
> I do
> 
> <img src="C://UploadedImages/${collegesimg}" width="80%"
> height="500">

Assuming that C://xx and C://UploadedImages are the same thing, then
this will work only if your remote user is actually on your own
machine (the server). File paths wont work as URLs unless they are local.

> Now this works perfectly fine,but FF/Chrome fails saying cannot
> load local resources with 404 status.
> 
> Now I can understand that this is FF/Chrome by default do allow to 
> access local file system on the client.Good till here.
> 
> But I am not able to figure out where do I store the images now so
> that I can display it correctly and they remain in place when I
> redeploy the app?

First, you need to reference them from your web pages using http://
URLs like this:

<img src="http://server/UploadedImages/${collegesimg}" width="80%"
height="500">

(Are you sure its appropriate to have images always at 500px and 80%
parent-width?)

> Is their any place in Tomcat's dir structure where the folder is 
> still called root folder and when we undeploy or redeploy , images
> still remains intact ?

If you put your uploaded pictures into your webapp's deployment
directory, you are very likely to have them deleted when your webapp
is undeployed. So, put them somewhere else. Since you are using Tomcat
7, your best bet is to use the "alias" feature:

http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Standard_Implementation

(Read about the 'aliases' configuration attribute)

> My tomcat 7.0.11 structure looks something like below,

It doesn't matter, because you need to put your files elsewhere.

> Directory of C:\Program Files\Apache Software Foundation\Apache
> Tomcat 7.0.11\webapps
> 
> 03/30/2012  07:40 AM <DIR>          . 03/30/2012  07:40 AM <DIR>
> .. 06/12/2011  05:16 AM <DIR>          docs 06/12/2011  05:16 AM
> <DIR>          examples 03/30/2012  07:40 AM <DIR>          files 
> 06/12/2011  05:16 AM <DIR>          host-manager 06/12/2011  05:16
> AM <DIR>          manager 06/12/2011  05:16 AM <DIR>          ROOT

If you want to make this server public, you are going to want to
undeploy everything you don't need: do you need the host-manager, etc.?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E4R8ACgkQ9CaO5/Lv0PBbCACgrk43sQypzrEsmEco17DxEY05
kD8AnRowLUYfLYgmJdc+5w3h4lfm2Qku
=g4v7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:53:36 2012
Return-Path: <users-return-234514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5207C17F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:53:36 +0000 (UTC)
Received: (qmail 21297 invoked by uid 500); 29 May 2012 14:53:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21076 invoked by uid 500); 29 May 2012 14:53:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21067 invoked by uid 99); 29 May 2012 14:53:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:53:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:53:25 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Fqrp1j0040vyq2s53qt3vd; Tue, 29 May 2012 14:53:03 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id Fqt31j00Q38FjT13Rqt3oK; Tue, 29 May 2012 14:53:03 +0000
Message-ID: <4FC4E2CF.9040904@christopherschultz.net>
Date: Tue, 29 May 2012 10:53:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat filter behaviour
References: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
In-Reply-To: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alexander,

On 5/29/12 10:00 AM, Alexander Landsnes Kel wrote:
> 2) I moved the config from the shared web.xml and over to a
> specific webapp that needs the remote user. This works like a
> charm, more or less as expected. without SSO.

So, both <filter> and <filter-mapping> in WEB-INF/web.xml do not work
with SSO, right?

This is probably going to come down to the ordering of operations that
are required to make both SSO and Waffle work properly. Perhaps the
Waffle integration needs to be implemented as a Valve and not as a Filter?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E4s8ACgkQ9CaO5/Lv0PD6igCaAmQxWFskqj8RxOMqfu5UqLeX
azgAoLZbjW3pz0M2VqkqCZX4YfGPwYOP
=Dezz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:57:15 2012
Return-Path: <users-return-234515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95B39C190
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:57:15 +0000 (UTC)
Received: (qmail 32521 invoked by uid 500); 29 May 2012 14:57:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32356 invoked by uid 500); 29 May 2012 14:57:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32343 invoked by uid 99); 29 May 2012 14:57:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:57:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:57:05 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id FnrS1j0051wpRvQ5FqwlrF; Tue, 29 May 2012 14:56:45 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id Fqwk1j00m38FjT13eqwkM8; Tue, 29 May 2012 14:56:45 +0000
Message-ID: <4FC4E3AC.3040906@christopherschultz.net>
Date: Tue, 29 May 2012 10:56:44 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: fronting tomcat with reverse proxy+SSL
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
In-Reply-To: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Al,

On 5/27/12 2:43 PM, al so wrote:
> I've used standalone Tomcat to serve as web server+SSL+web
> container in the past.
> 
> Now, I am trying to front Tomcat with apache reverse proxy+SSL.
> 
> 1. Is it not redundant to configure the SSL in the Tomcat as well
> when the fronting reverse proxy is already configured to handle
> SSL. I see lot of posts on the internet which configure SSL at both
> Tomcat and Reverse proxy. Am I missing something?

The real question is whether or not you need to protect the
communication between httpd and Tomcat. If you are on a trusted
network, then you probably don't need any kind of SSL between the two,
and it would be redundant to configure Tomcat to handle SSL and have
the proxy re-negotiate an SSL connection with it.

On the other hand, if you are communicating across an untrusted
network, then you probably do want to encrypt the communication. One
way of doing that is by using something like mod_proxy_http and just
making sure that you use an https:// URL for the backend. If you want
to use AJP, you'll have to tunnel it yourself using stunnel, ssh, a
VPN which provides similar behavior, or some similar external tool
because AJP itself does not support any kind of encryption.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E46wACgkQ9CaO5/Lv0PD3VQCdES7sfLOQxNzouCuqOIFfq6NU
fdMAmwd8RebyOoB+ESkPzvlsUJFWBpUT
=KJ3O
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 14:59:29 2012
Return-Path: <users-return-234516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B101C1A5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 14:59:29 +0000 (UTC)
Received: (qmail 42853 invoked by uid 500); 29 May 2012 14:59:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42758 invoked by uid 500); 29 May 2012 14:59:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42746 invoked by uid 99); 29 May 2012 14:59:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:59:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.75.92.156] (HELO mx.visma.com) (193.75.92.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 14:59:19 +0000
From: =?iso-8859-1?Q?Alexander_Landsnes_Ke=FCl?= <Alexander.Landsnes.Keul@visma.no>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat filter behaviour
Thread-Topic: Tomcat filter behaviour
Thread-Index: Ac09n278Q4JcmrjsSKq7FA/jetKA4f//6SuA///RgsA=
Date: Tue, 29 May 2012 14:58:58 +0000
Message-ID: <C0D237666EEA6C44B463A492857DD4892AE5A750@VITEMBX001.datakraftverk.no>
References: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
 <CABzHfVkjwORGTASNg1uwQtpKhV8FqiHxk_0x13ZOHHf6JCQX+A@mail.gmail.com>
In-Reply-To: <CABzHfVkjwORGTASNg1uwQtpKhV8FqiHxk_0x13ZOHHf6JCQX+A@mail.gmail.com>
Accept-Language: en-GB, nb-NO, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAQAAAWE=

So my expectations contain the only bugs in this instance :)

Thanks. I suspected it might be something like that, but I hadn't seen anyt=
hing about it. Now to work around the issue, we've been rather dependent on=
 how it worked in the past but I believe I understand why it had to change.

Alex

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: 29. mai 2012 16:10
To: Tomcat Users List
Subject: Re: Tomcat filter behaviour

2012/5/29 Alexander Landsnes Ke=FCl <Alexander.Landsnes.Keul@visma.no>:
> I'm seeing some behaviour from Tomcat 7 that I'd classify as "funky" when=
 it comes to servlet filters. First off the technical setup
>
> JDK 1.7.0_03 (64-bit)
> Tomcat 7.0.26 (64-bit) binaries
> 4 instances of Tomcat share those binaries, each installed as a pretty st=
andard windows service using service.bat. Their bin folder contains the req=
uired files, tomcat-juli.jar and a setenv.bat as well as a renamed tomcat7w=
.exe for convenience.
>
> The setup itself works like a charm, I can run webapps on all the above s=
ervers and they all have their own ports for the connector, shutdown and aj=
p. I also double checked that no application references catalina.home for c=
onfig, they all check catalina.base.
> The problem appears when I try to use the Waffle servlet filter to authen=
ticate a remote user on one of the above instances. I ran it in a few diffe=
rent scenarios, and the behavior leaves me puzzled. All the scenarios run w=
ith the filter logging turned on, so it appears to behave correctly.
>
> 1)
> I defined the <filter> and <filter-mapping> elements in the (shared) web.=
xml for a tomcat instance, with <url-pattern>/*</url-pattern>. I tried havi=
ng it both at the very start, and the very end of the file with the exact s=
ame behaviour. The filter would only work correctly on the very root of the=
 tomcat server, so http://localhost:8180/. Attempting to navigate to any ot=
her context would appear to trigger the Kerberos auth (HTTP headers contain=
ed Authorization: Negotiate & what I believe is a Base64 encoded Kerberos t=
icket), but the the remote user retrieved from the servlet would be null.
>
> 2)
> I moved the config from the shared web.xml and over to a specific webapp =
that needs the remote user. This works like a charm, more or less as expect=
ed. without SSO.
>
> 3)
> Moving the filter definition, but not the filter-mapping, to the shared w=
eb.xml, and then mapping it in a context specific web.xml also works as exp=
ected. The remote user can be retrieved from the servlet.
>
> The second setup, having Waffle defined in the context specific web.xml, =
won't be an option for us in a production environment. Ideally the same war=
 file should be deployable to an environment with SSO and also without SSO.=
 It could be solved by two versions of the web.xml, but it's more of a last=
 resort.
> We've got a similar setup, on an old Tomcat 6.0.26 test instance, where w=
affle runs like a charm from the shared web.xml. A major difference here be=
ing that catalina.base & catalina.home refer to the exact same folder.
>
> Is this behaviour intended? That a filter-mapping in the shared web.xml i=
s disregarded in the contexts? Or am I seeing a bug of sorts here? I'll adm=
it to my knowledge of the servlet spec is cursory at best, but this strikes=
 me as wrong. I've got a virtual server I can fiddle with if anyone has sug=
gestions as to how I can "fix" this behaviour.
>

Yes, it is intended behaviour and Tomcat 7 here differs from earlier versio=
ns.

See explanation here:
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D51754#c1

You may also want to look at
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D52138#c4

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 15:03:59 2012
Return-Path: <users-return-234517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E7D5C1E9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 15:03:59 +0000 (UTC)
Received: (qmail 62570 invoked by uid 500); 29 May 2012 15:03:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62418 invoked by uid 500); 29 May 2012 15:03:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62409 invoked by uid 99); 29 May 2012 15:03:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 15:03:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.46.182.53] (HELO relay.ihostexchange.net) (66.46.182.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 15:03:47 +0000
Received: from VMBX106.ihostexchange.net ([192.168.3.6]) by
 HUB103.ihostexchange.net ([66.46.182.53]) with mapi; Tue, 29 May 2012
 11:03:26 -0400
From: Kevin <kevin@webkrew.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Tue, 29 May 2012 11:03:23 -0400
Subject: tomcat full GC every 2 minutes for first 6 hours after war reload
Thread-Topic: tomcat full GC every 2 minutes for first 6 hours after war
 reload
Thread-Index: Ac09rDKiZyiCc2CNTsqCyaDMlaTnkQ==
Message-ID: <CBEA4F6B.20CDB%kevin@webkrew.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.0.0.100825
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi

We have a cluster of tomcat servers being used on a very high volume
website. We've noticed that for the first 5-6 hours after an application
re-load that Full GC will run every 2 minutes pausing the application for
anywhere between 5 and 20 seconds. After 5-6 hours the full GC will no
longer run until tomcat is reloaded.  This behavior is repeatable.

We discounted our EhCache settings as potential issue because tomcat can
be killed without this issue showing up.  It's not until we actually
reload the WAR with changes (clearing the work directory) and restart
tomcat that this issue shows up.  Traffic level isn't a factor we'll go
through our peak hours with no problem.


The servers are all dual quad core with 32GB of RAM running Centos 5 and
tomcat 6.0.18.  We've attempted every suggested GC setting change
suggested on the net and by developers and system administrators.  Our
java opts are being played with on a daily basis however here are the
settings that correspond to the sample GC log below:


-server -Xmx27g -Xms27g  -XX:+DisableExplicitGC -XX:+UseConcMarkSweepGC
-XX:+PrintTenuringDistribution  -Dsun.rmi.dgc.client.gcInterval=3D900000
-Dsun.rmi.dgc.server.gcInterval=3D900000 -XX:NewSize=3D8g -XX:SurvivorRatio=
=3D16
-verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails

215.501: [GC 215.504: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:   50457968 bytes,   50457968 total
: 7456799K->111048K(7922624K), 0.0617110 secs]
8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=3D0.68 sys=3D0.=
00,
real=3D0.07 secs]

215.577: [GC 215.579: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:      66288 bytes,      66288 total
- age   2:   50219144 bytes,   50285432 total
: 114868K->66525K(7922624K), 0.0381810 secs]
1272975K->1224632K(27845568K), 0.0413630 secs] [Times: user=3D0.46 sys=3D0.=
00,
real=3D0.04 secs]

236.177: [GC 236.180: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:   45071064 bytes,   45071064 total
- age   2:      26112 bytes,   45097176 total
- age   3:   34785960 bytes,   79883136 total
: 7523165K->110355K(7922624K), 0.0921350 secs]
8681272K->1268462K(27845568K), 0.0969290 secs] [Times: user=3D0.95 sys=3D0.=
01,
real=3D0.10 secs]

...

316.456: [GC 316.459: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:   41430416 bytes,   41430416 total
- age   3:   22728376 bytes,   64158792 total
- age   5:   19599960 bytes,   83758752 total
- age   6:   21847616 bytes,  105606368 total
- age   7:   27667592 bytes,  133273960 total
- age   8:      10904 bytes,  133284864 total
- age   9:   31824256 bytes,  165109120 total
: 7650333K->215213K(7922624K), 0.1332630 secs]
8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=3D1.45 sys=3D0.=
01,
real=3D0.14 secs]

338.851: [GC 338.854: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:   40678840 bytes,   40678840 total
- age   2:   27075936 bytes,   67754776 total
- age   4:   20399720 bytes,   88154496 total
- age   6:   19271008 bytes,  107425504 total
- age   7:   21655032 bytes,  129080536 total
- age   8:   27118800 bytes,  156199336 total
- age   9:      10904 bytes,  156210240 total
- age  10:   31747808 bytes,  187958048 total
: 7671853K->285541K(7922624K), 0.1456470 secs]
8829960K->1443648K(27845568K), 0.1503540 secs] [Times: user=3D1.62 sys=3D0.=
01,
real=3D0.15 secs]
343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K), 3.4129290
secs] 2884580K->1312570K(27845568K), [CMS Perm : 83964K->47203K(83968K)],
3.4168600 secs] [Times: user=3D3.87 sys=3D0.02, real=3D3.41 secs]

**Last Full GC**

20517.892: [GC 20517.898: [ParNew
Desired survivor size 238583808 bytes, new threshold 15 (max 15)
- age   1:   33948208 bytes,   33948208 total
- age   2:      88280 bytes,   34036488 total
- age   3:   19872472 bytes,   53908960 total
- age   4:   16072608 bytes,   69981568 total
- age   5:   15718712 bytes,   85700280 total
- age   6:   15771016 bytes,  101471296 total
- age   7:   16895976 bytes,  118367272 total
- age   8:   24233728 bytes,  142601000 total
: 7618727K->200950K(7922624K), 0.1728420 secs]
16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=3D2.21
sys=3D0.01, real=3D0.18 secs]

20526.469: [Full GC 20526.475: [CMS: 9175755K->9210800K(19922944K),
33.1161300 secs] 13632232K->9210800K(27845568K), [CMS Perm :
83967K->53332K(83968K)], 33.1254170 secs] [Times: user=3D33.12 sys=3D0.02,
real=3D33.12 secs]



**Log samples after Full GC no longer runs**

74412.335: [GC 74412.340: [ParNew
Desired survivor size 238583808 bytes, new threshold 11 (max 15)
- age   1:   43614032 bytes,   43614032 total
- age   2:   41194144 bytes,   84808176 total
- age   3:   27392888 bytes,  112201064 total
- age   5:   22753896 bytes,  134954960 total
- age   7:   24439608 bytes,  159394568 total
- age   8:   24015704 bytes,  183410272 total
- age   9:   24080848 bytes,  207491120 total
- age  10:   24715800 bytes,  232206920 total
- age  11:   21844024 bytes,  254050944 total
: 7813778K->312911K(7922624K), 0.3329150 secs]
24426351K->16967791K(27845568K), 0.3416730 secs] [Times: user=3D3.69
sys=3D0.02, real=3D0.35 secs]

74445.007: [GC 74445.012: [ParNew
Desired survivor size 238583808 bytes, new threshold 11 (max 15)
- age   1:   42690688 bytes,   42690688 total
- age   2:   37055848 bytes,   79746536 total
- age   3:   37107464 bytes,  116854000 total
- age   4:   26223088 bytes,  143077088 total
- age   6:   22478672 bytes,  165555760 total
- age   8:   24259744 bytes,  189815504 total
- age   9:   23862672 bytes,  213678176 total
- age  10:   23911864 bytes,  237590040 total
- age  11:   24496888 bytes,  262086928 total
: 7769547K->344030K(7922624K), 0.3088470 secs]
24424428K->17021685K(27845568K), 0.3175830 secs] [Times: user=3D3.57
sys=3D0.01, real=3D0.32 secs]

74475.169: [GC 74475.175: [ParNew
Desired survivor size 238583808 bytes, new threshold 10 (max 15)
- age   1:   42011656 bytes,   42011656 total
- age   2:   33147608 bytes,   75159264 total
- age   3:   32391640 bytes,  107550904 total
- age   4:   36516584 bytes,  144067488 total
- age   5:   25940856 bytes,  170008344 total
- age   7:   22037464 bytes,  192045808 total
- age   9:   24130040 bytes,  216175848 total
- age  10:   23724672 bytes,  239900520 total
- age  11:   23329640 bytes,  263230160 total
: 7803184K->331046K(7922624K), 0.3091600 secs]
24480839K->17033619K(27845568K), 0.3179630 secs] [Times: user=3D3.56
sys=3D0.01, real=3D0.32 secs]**Log samples after Full GC no longer runs**

74412.335: [GC 74412.340: [ParNew
Desired survivor size 238583808 bytes, new threshold 11 (max 15)
- age   1:   43614032 bytes,   43614032 total
- age   2:   41194144 bytes,   84808176 total
- age   3:   27392888 bytes,  112201064 total
- age   5:   22753896 bytes,  134954960 total
- age   7:   24439608 bytes,  159394568 total
- age   8:   24015704 bytes,  183410272 total
- age   9:   24080848 bytes,  207491120 total
- age  10:   24715800 bytes,  232206920 total
- age  11:   21844024 bytes,  254050944 total
: 7813778K->312911K(7922624K), 0.3329150 secs]
24426351K->16967791K(27845568K), 0.3416730 secs] [Times: user=3D3.69
sys=3D0.02, real=3D0.35 secs]

74445.007: [GC 74445.012: [ParNew
Desired survivor size 238583808 bytes, new threshold 11 (max 15)
- age   1:   42690688 bytes,   42690688 total
- age   2:   37055848 bytes,   79746536 total
- age   3:   37107464 bytes,  116854000 total
- age   4:   26223088 bytes,  143077088 total
- age   6:   22478672 bytes,  165555760 total
- age   8:   24259744 bytes,  189815504 total
- age   9:   23862672 bytes,  213678176 total
- age  10:   23911864 bytes,  237590040 total
- age  11:   24496888 bytes,  262086928 total
: 7769547K->344030K(7922624K), 0.3088470 secs]
24424428K->17021685K(27845568K), 0.3175830 secs] [Times: user=3D3.57
sys=3D0.01, real=3D0.32 secs]

74475.169: [GC 74475.175: [ParNew
Desired survivor size 238583808 bytes, new threshold 10 (max 15)
- age   1:   42011656 bytes,   42011656 total
- age   2:   33147608 bytes,   75159264 total
- age   3:   32391640 bytes,  107550904 total
- age   4:   36516584 bytes,  144067488 total
- age   5:   25940856 bytes,  170008344 total
- age   7:   22037464 bytes,  192045808 total
- age   9:   24130040 bytes,  216175848 total
- age  10:   23724672 bytes,  239900520 total
- age  11:   23329640 bytes,  263230160 total
: 7803184K->331046K(7922624K), 0.3091600 secs]
24480839K->17033619K(27845568K), 0.3179630 secs] [Times: user=3D3.56
sys=3D0.01, real=3D0.32 secs]




Any help would be greatly appreciated.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 15:04:49 2012
Return-Path: <users-return-234518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7326EC1ED
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 15:04:49 +0000 (UTC)
Received: (qmail 69541 invoked by uid 500); 29 May 2012 15:04:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69483 invoked by uid 500); 29 May 2012 15:04:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69473 invoked by uid 99); 29 May 2012 15:04:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 15:04:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 15:04:37 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id Fqwv1j0091ei1Bg5Er4GEW; Tue, 29 May 2012 15:04:16 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id Fr4G1j00L38FjT13kr4GNR; Tue, 29 May 2012 15:04:16 +0000
Message-ID: <4FC4E570.9040602@christopherschultz.net>
Date: Tue, 29 May 2012 11:04:16 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: fronting tomcat with reverse proxy+SSL
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
In-Reply-To: <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Al,

On 5/28/12 1:35 AM, al so wrote:
> It would be nice if I can hear from someone who has done such
> familiar setup. Have you seen any performance issues in setting up
> SSL both at Tomcat and Apache?

As Aristedes states: only you know your environment and we can't
really answer performance questions for you. But, in general, if you
have lots of small HTTPS requests (and responses) without keepalive,
then your performance will be terrible, relative to /not/ using SSL.
If you have lots of keepalive requests and/or your requests (or
responses, or both) then it won't feel so bad.

The worst-performing part of SSL communication is the setup of the
channel. Once the negotiation has happened (at the start of the
connection), the stream-encryption is not too bad.

I honestly don't know how mod_proxy_http handles keepalives when
communicating with a Tomcat backend... if mod_proxy_http can pipeline
disparate incoming requests from random clients into a single
keepalive connection to Tomcat, then things might work out well. If
not, well then maybe performance will be terrible.

If you use something like ssh tunnel (or stunnel, or anything similar)
then your performance shouldn't suffer too much because SSL
re-negotiations are going to be very rare events.

Again, you'll have to test in your own environment with realistic
conditions in order to draw any meaningful conclusions.

Honestly, I think it comes down to your requirements: if you *need* to
protect the data between httpd and Tomcat then you don't really have a
choice: you must encrypt it... you just have to decide exactly how you
will be doing it.

> Do you use same keys/certs at both Tomcat and Apache?

I see no advantage to doing that, and one might consider it to be a
security problem to have a backend server's key out on a web server
(which is presumably in more danger of being compromised).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E5XAACgkQ9CaO5/Lv0PDmtACgoOF+nGPRqzxZhGn0QKENJ08U
JuoAn1CgtfEY5/9RJ5hVWD6USQIuhjQf
=Eppm
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 15:18:18 2012
Return-Path: <users-return-234519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A956C281
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 15:18:18 +0000 (UTC)
Received: (qmail 20592 invoked by uid 500); 29 May 2012 15:18:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20403 invoked by uid 500); 29 May 2012 15:18:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20394 invoked by uid 99); 29 May 2012 15:18:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 15:18:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.91.91] (HELO nm21.bullet.mail.sp2.yahoo.com) (98.139.91.91)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 May 2012 15:18:04 +0000
Received: from [72.30.22.92] by nm21.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 15:17:42 -0000
Received: from [98.139.91.5] by tm14.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 15:17:42 -0000
Received: from [127.0.0.1] by omp1005.mail.sp2.yahoo.com with NNFMP; 29 May 2012 15:17:42 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 500930.70705.bm@omp1005.mail.sp2.yahoo.com
Received: (qmail 22083 invoked by uid 60001); 29 May 2012 15:17:42 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338304662; bh=a74G1i+lQUUqOoVpM+Vcc+QD7vCACm1oGQbtpFYpLBg=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=qsPvqxBc27VANXIMYmLAuNUBJ0EXv8mxXKOqVtUVJUFXS+qJcAMhSIcFwufkd1wJ2reKgdaDk70uuD+TBmHY7KmMA1iclZGpbhu4FOQeTf+vC8Z7jp2+MlS1Vh6m99Qm5V7ZynVrSsCc+Lq7SVUYAA+wJh5jF72m+HvbtdmRBEk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=WPTyjXT0mfB0ToaohCDwt16Er6nZ5LGNpH2M2ligU5z3Dg/n6Te+uHpAskwkxt2jFG+YOdG7JoM6QutHb6w03XS6C4XvptgVI8yfGysdWMg8bk4BJh3T1wREtavzRz4KDtSkJ8ELZQeKfzskL1EciuynwfCENamlk3LY94+3m50=;
X-YMail-OSG: .J0Xmh4VM1kOdvfRNoqxRzezvl3kCOhnB4r1aut6k8O1qAj
 uLFRc8HobeIqsDC1r7AGcoW_0G_uEpw_q0.z1oWAVtXJ7rAFIluBXfZmCRBi
 mIFVWXh989JHEKU7jxjdfUEZSH7Lf6zbH8I0neccJisc4CffZTvzmHHWKDHm
 a8qMRN6vDGbgW_Gt7NGv1_H9uzBr2eBaWeU1B5CFiRjw12pNlKEvZs2akZAW
 aH0FNXlOREeCO84cVSXYYjMuxpda_fszJ4Owb4boPqA_XtfuNoRADdM4DVHN
 kGwWloPO.FaUmPIhhauADtx5NExJ7upMfWNftHQAuCpZDiOU5hTMjdwIpj4q
 j1X2XpIa4DAFqINu8SGcWhz49.j7gnKzbzcS8wYj52QThnWggPh71i5J4Z2V
 q237TyO_Z1z1oZ9vCmf5WNi7lWdz0UpvtB5fEVLsktc61cYA_DB8MOX.ce0V
 tTKoY
Received: from [167.234.14.240] by web113601.mail.gq1.yahoo.com via HTTP; Tue, 29 May 2012 08:17:42 PDT
X-Mailer: YahooMailClassic/15.0.6 YahooMailWebService/0.8.118.349524
Message-ID: <1338304662.43063.YahooMailClassic@web113601.mail.gq1.yahoo.com>
Date: Tue, 29 May 2012 08:17:42 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: For TC 7 servlets stay in memory how long?
To: Tomcat Users Group <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1302226735-1253213199-1338304662=:43063"

--1302226735-1253213199-1338304662=:43063
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi All,

For TC 7 how long do servlets stay in memory if not invoked by a client or =
another servlet?
How does one control the length of time? Is the there a config setting in a=
 file somewhere?
=A0
Thanks!
--1302226735-1253213199-1338304662=:43063--

From users-return-234520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 16:09:41 2012
Return-Path: <users-return-234520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6FCCD9FB5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 16:09:41 +0000 (UTC)
Received: (qmail 67939 invoked by uid 500); 29 May 2012 16:09:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67853 invoked by uid 500); 29 May 2012 16:09:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67844 invoked by uid 99); 29 May 2012 16:09:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:09:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:09:31 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Fpr41j0081c6gX851s9AT6; Tue, 29 May 2012 16:09:10 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id Fs991j00t38FjT13js99DN; Tue, 29 May 2012 16:09:10 +0000
Message-ID: <4FC4F4A5.9040608@christopherschultz.net>
Date: Tue, 29 May 2012 12:09:09 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war reload
References: <CBEA4F6B.20CDB%kevin@webkrew.com>
In-Reply-To: <CBEA4F6B.20CDB%kevin@webkrew.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kevin,

(FYI these are always a PITA to diagnose...)

On 5/29/12 11:03 AM, Kevin wrote:
> We have a cluster of tomcat servers being used on a very high
> volume website. We've noticed that for the first 5-6 hours after an
> application re-load that Full GC will run every 2 minutes pausing
> the application for anywhere between 5 and 20 seconds. After 5-6
> hours the full GC will no longer run until tomcat is reloaded.
> This behavior is repeatable.
> 
> We discounted our EhCache settings as potential issue because
> tomcat can be killed without this issue showing up.  It's not until
> we actually reload the WAR with changes (clearing the work
> directory) and restart tomcat that this issue shows up.  Traffic
> level isn't a factor we'll go through our peak hours with no
> problem.

All good things to know.

> The servers are all dual quad core with 32GB of RAM running Centos
> 5 and tomcat 6.0.18.  We've attempted every suggested GC setting
> change suggested on the net and by developers and system
> administrators.

Did you try looking at what the cause might be, or just blindly apply
suggestions to see if something would stick?

> Our java opts are being played with on a daily basis however here
> are the settings that correspond to the sample GC log below:
> 
> 
> -server -Xmx27g -Xms27g  -XX:+DisableExplicitGC
> -XX:+UseConcMarkSweepGC -XX:+PrintTenuringDistribution
> -Dsun.rmi.dgc.client.gcInterval=900000 
> -Dsun.rmi.dgc.server.gcInterval=900000 -XX:NewSize=8g
> -XX:SurvivorRatio=16 -verbose:gc -XX:+PrintGCTimeStamps
> -XX:+PrintGCDetails

A new size of 8GiB seems high to me, but I've never run with a total
heap size of anything nearly as large as 27GiB, so maybe that's a
reasonable size. My opinion here is probably irrelevant.

> 215.501: [GC 215.504: [ParNew Desired survivor size 238583808
> bytes, new threshold 15 (max 15) - age   1:   50457968 bytes,
> 50457968 total : 7456799K->111048K(7922624K), 0.0617110 secs] 
> 8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=0.68
> sys=0.00, real=0.07 secs]

Odd that user+sys < real. Hmm.

[...]

> 316.456: [GC 316.459: [ParNew Desired survivor size 238583808
> bytes, new threshold 15 (max 15) - age   1:   41430416 bytes,
> 41430416 total - age   3:   22728376 bytes,   64158792 total - age
> 5:   19599960 bytes,   83758752 total - age   6:   21847616 bytes,
> 105606368 total - age   7:   27667592 bytes,  133273960 total - age
> 8:      10904 bytes,  133284864 total - age   9:   31824256 bytes,
> 165109120 total : 7650333K->215213K(7922624K), 0.1332630 secs] 
> 8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=1.45
> sys=0.01, real=0.14 secs]

1.45 seconds for a full-GC isn't anywhere near the 5s-20s claimed
above. Have you been able to actually instrument a 5s-20s GC-pause?
Or, are you saying that your webapp appears to stall for that long and
those observances coincide with full-GC runs?

> 343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K),
> 3.4129290 secs] 2884580K->1312570K(27845568K), [CMS Perm :
> 83964K->47203K(83968K)], 3.4168600 secs] [Times: user=3.87
> sys=0.02, real=3.41 secs]

Also relatively short.

> **Last Full GC**
> 
> 20517.892: [GC 20517.898: [ParNew Desired survivor size 238583808
> bytes, new threshold 15 (max 15) - age   1:   33948208 bytes,
> 33948208 total - age   2:      88280 bytes,   34036488 total - age
> 3:   19872472 bytes,   53908960 total - age   4:   16072608 bytes,
> 69981568 total - age   5:   15718712 bytes,   85700280 total - age
> 6:   15771016 bytes,  101471296 total - age   7:   16895976 bytes,
> 118367272 total - age   8:   24233728 bytes,  142601000 total :
> 7618727K->200950K(7922624K), 0.1728420 secs] 
> 16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=2.21 
> sys=0.01, real=0.18 secs]

Note that the above is not a "Full GC". This one /is/:

> 20526.469: [Full GC 20526.475: [CMS:
> 9175755K->9210800K(19922944K), 33.1161300 secs]
> 13632232K->9210800K(27845568K), [CMS Perm : 
> 83967K->53332K(83968K)], 33.1254170 secs] [Times: user=33.12
> sys=0.02, real=33.12 secs]

Okay, that one's a doosey.

It's weird that it looks like after the full GC, the heap has *lost*
some space ("CMS: 9175755K->9210800K"). Can you watch the logs and
take a heap dump (which may take a LONG time with such a big heap, so
be prepared for another long pause) after one of these full GCs?

It would be better to get a heap dump both before AND after the full
GC, but that can ruin your performance if you enable those automated
GC options.

> Any help would be greatly appreciated.

Are you populating huge caches on startup or anything like that?
Generational GC performance is related to the number of surviving
objects that have to be moved from one generation to the next, so if
you have a huge population of objects surviving each collection one
after the other (which is what I might expect if you had an enormous
cache being fulled all at once) then your performance will suck for a
while until those objects are tenured enough to avoid periodic
collections.

Are you able to inspect the various generations before and after these
pauses? I'd be interested to see if you have a huge population of
objects being tenured at once and what types of objects they are (they
might be something obvious like instances of our.big.fat.CacheEntry or
something like that).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E9KUACgkQ9CaO5/Lv0PBBHwCgmJHB83ekwxiDuDoPeW6FtH29
Z/sAn3p3bZgOEBFfy7yvyAxPLKnyVMO/
=L292
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 16:11:14 2012
Return-Path: <users-return-234521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A6809FBF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 16:11:14 +0000 (UTC)
Received: (qmail 74019 invoked by uid 500); 29 May 2012 16:11:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73830 invoked by uid 500); 29 May 2012 16:11:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73815 invoked by uid 99); 29 May 2012 16:11:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:11:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:10:59 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id FrYJ1j0031ap0As59sAfB8; Tue, 29 May 2012 16:10:39 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id FsAe1j01438FjT13isAfo6; Tue, 29 May 2012 16:10:39 +0000
Message-ID: <4FC4F4FE.8050606@christopherschultz.net>
Date: Tue, 29 May 2012 12:10:38 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: For TC 7 servlets stay in memory how long?
References: <1338304662.43063.YahooMailClassic@web113601.mail.gq1.yahoo.com>
In-Reply-To: <1338304662.43063.YahooMailClassic@web113601.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 5/29/12 11:17 AM, Tony Anecito wrote:
> For TC 7 how long do servlets stay in memory if not invoked by a
> client or another servlet? How does one control the length of time?
> Is the there a config setting in a file somewhere?

I don't believe Tomcat does any auto-unloading of servlets once they
are loaded. Are you in need of such a feature? Servlets themselves
should be very lightweight in terms of memory usage, since they
basically have to be stateless in order to avoid all kinds of
threading issues.

Are you using SingleThreadedModel or anything like that?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E9P4ACgkQ9CaO5/Lv0PCffwCcDEf1q6mQ5koGwJD1UOn5EBJh
ZHQAnRa9lTbJNAzIEbgxUuXtwXEZUXDe
=MsSC
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 16:30:44 2012
Return-Path: <users-return-234522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75FC59FFD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 16:30:44 +0000 (UTC)
Received: (qmail 48719 invoked by uid 500); 29 May 2012 16:30:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48666 invoked by uid 500); 29 May 2012 16:30:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48655 invoked by uid 99); 29 May 2012 16:30:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:30:40 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [62.179.121.33] (HELO fep13.mx.upcmail.net) (62.179.121.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:30:31 +0000
Received: from edge01.upcmail.net ([192.168.13.236])
          by viefep13-int.chello.at
          (InterMail vM.8.01.05.04 201-2260-151-105-20111014) with ESMTP
          id <20120529163008.HTAE3333.viefep13-int.chello.at@edge01.upcmail.net>
          for <users@tomcat.apache.org>; Tue, 29 May 2012 18:30:08 +0200
Received: from [10.0.0.101] ([31.151.105.17])
	by edge01.upcmail.net with edge
	id FsW71j00B0NYTxK01sW7NX; Tue, 29 May 2012 18:30:08 +0200
X-SourceIP: 31.151.105.17
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1084)
Subject: Re: fronting tomcat with reverse proxy+SSL
From: John Renne <john@gniffelnieuws.net>
In-Reply-To: <cbb45b36-95b5-4230-af18-278da89bdbe6@email.android.com>
Date: Tue, 29 May 2012 18:30:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <492034C2-F1B4-4D45-AC50-3E2FB7B755E4@gniffelnieuws.net>
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com> <4FC329A2.8060507@apache.org> <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com> <0ACA26E9-B26D-4DD8-9670-594CAD639DD7@gniffelnieuws.net> <cbb45b36-95b5-4230-af18-278da89bdbe6@email.android.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1084)


> Anyone who considers AJP a secure protocol is clearly clueless when it =
comes to security.
>=20
Anyone that thinks he can judge security without knowing any of the =
requirements is plain wrong. As I wrote in a previous answer. It all =
depends on requirements and what you want to accomplish.=20

John


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 16:47:23 2012
Return-Path: <users-return-234523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5691F90BD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 16:47:23 +0000 (UTC)
Received: (qmail 15561 invoked by uid 500); 29 May 2012 16:47:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15453 invoked by uid 500); 29 May 2012 16:47:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15438 invoked by uid 99); 29 May 2012 16:47:19 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:47:19 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 16:47:19 +0000
Message-ID: <4FC4FD8D.1010807@apache.org>
Date: Tue, 29 May 2012 17:47:09 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: fronting tomcat with reverse proxy+SSL
References: <CAJrqK=2ydq+oZVmjeYnxqtFY70Y0ptURi_eaJGqSuyOAGDtDoQ@mail.gmail.com> <CAJrqK=0VJ-8=oLpHasVUZo-9YCFE=zM=M84=NiwUgQZQ7Ts4Dg@mail.gmail.com> <4FC329A2.8060507@apache.org> <CAJrqK=3E8mUYkSYZrY56br5YVFQgD1DH1VK82D0-ePSm0FGjgA@mail.gmail.com> <0ACA26E9-B26D-4DD8-9670-594CAD639DD7@gniffelnieuws.net> <cbb45b36-95b5-4230-af18-278da89bdbe6@email.android.com> <492034C2-F1B4-4D45-AC50-3E2FB7B755E4@gniffelnieuws.net>
In-Reply-To: <492034C2-F1B4-4D45-AC50-3E2FB7B755E4@gniffelnieuws.net>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 29/05/2012 17:30, John Renne wrote:
> 
>> Anyone who considers AJP a secure protocol is clearly clueless when
>> it comes to security.
>> 
> Anyone that thinks he can judge security without knowing any of the
> requirements is plain wrong. As I wrote in a previous answer. It all
> depends on requirements and what you want to accomplish.

Nope. AJP is not secure under any circumstances. Period.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 17:05:43 2012
Return-Path: <users-return-234524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D2589153
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 17:05:43 +0000 (UTC)
Received: (qmail 85737 invoked by uid 500); 29 May 2012 17:05:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85657 invoked by uid 500); 29 May 2012 17:05:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85646 invoked by uid 99); 29 May 2012 17:05:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:05:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.91.222] (HELO nm22-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 May 2012 17:05:31 +0000
Received: from [72.30.22.92] by nm22.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 17:05:10 -0000
Received: from [98.139.91.32] by tm14.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 17:05:10 -0000
Received: from [127.0.0.1] by omp1032.mail.sp2.yahoo.com with NNFMP; 29 May 2012 17:05:10 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 8072.53256.bm@omp1032.mail.sp2.yahoo.com
Received: (qmail 97208 invoked by uid 60001); 29 May 2012 17:05:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338311109; bh=Te8P6pkuOIKq5hnAGbBp+ZXZ9hhCqjXAla7xR9kIE0M=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=GKI+3lUlTFvBfb+og9VZwImngtGw3OhVj6OoT/6f24Y+sfChP1XxSxjCGcmOM3d71p6O1bTg9bb+JC7po+Dc80Sq/ttpYme/H9Q9487X6E1PRvYqT371xzjgKOemvkVLaKNAYRTRwLmFp7gwFyaM7f3vvPJ7TiOA+0V1x96mkBI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=6UfIrLCc6bzmFvM7AQ2sbSByMx50t6kU/nAQGsrRmm4nOILt45eB5wpD4gC4fCRTJzIN/P0H+nl5jvuY6VW/W9spmkI9EgclWoGWH54tjEFZzX1r736pWYs5fqyOEBHUb4UizNycWqfwaxRPXGl6Wf/lb/acPqAgbfreWeVgC5Y=;
X-YMail-OSG: 84fJbe0VM1mPdJT.TDiexiwNMwLuqlrbjf9EgXmIy1IBOtF
 NtKuJLcTe81jVeeZL_fxqGzNa3re5GuvhoCYSwo1CZu3nQ_4l2C7N4KN.bWn
 uZUO9_YOEBBXCp3b3mYT..bspBjJ151Feat5UA2Bt6ZdP_UNXMQQc9qNJwNv
 vrIa4m6RIxIvnRWSAxpILuibX6X7pYnshLLKDpemM45v4DyNsQAlsgbm_d0q
 5Mb6GRP7ghkGfLCzIXijoABLrJH2eM5eBMT1gEwOsWs3RYMCI46RruHgLwUx
 DMPUZ_y3GgCdmXOhUaj50gO..4tHt2sCQVHnqSto_CFsAU80aFLFoQ4tMcWs
 qTkgyWq5JPA.ToTJleqnUT1Bm8GFoyHVwy5e3c.EO24V4S8cXc.BO2wSCl9J
 zTmfo7DPKkrLSP4oAh.5nExg.QVv6RiEou3_k7xSNWiCQMSb6xqHBIzmYqLS
 8syovc3369xdtBqDBMlS9F49wask21jPcsutw70gdzm0jv5uaFZIhWpyjKXU
 MnNklS221ZEI.AVyjwEGaNP9yjBAWl6nBXtVQDSppIBM.msB2oXHfzjQ6Ad5
 oO5sHZNU_2jplyrFXII0gvGm5aQ3fhsbeu8hwthAm8y7U8F6y_7I8Ip0TZze
 cHIwErS5lednhW3a6U0raje1Wkl3.ggZTJP8Tt3r26pDQjQWtbm29LcGYB3y
 RMbc1MIZe
Received: from [167.234.14.240] by web113611.mail.gq1.yahoo.com via HTTP; Tue, 29 May 2012 10:05:08 PDT
X-Mailer: YahooMailClassic/15.0.6 YahooMailWebService/0.8.118.349524
Message-ID: <1338311108.89327.YahooMailClassic@web113611.mail.gq1.yahoo.com>
Date: Tue, 29 May 2012 10:05:08 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: For TC 7 servlets stay in memory how long?
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FC4F4FE.8050606@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1312186821-2123585317-1338311108=:89327"

---1312186821-2123585317-1338311108=:89327
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Christopher for your prompt reply!
=A0
I am doing some performance tuning of Tomcat and wanted to understand if th=
e servlet was unloaded after a period of inactivity like an EJB is. I am us=
ing a cache in the servlet and the amount of caching is small but helpful a=
nd having the servlets say unload every 30min would offset the use of a sma=
ll cache.
=A0
Also, FYI I just upgraded to lastest Tomcat 7 release and java running unde=
r 64-bit 1.7.0_04 JDK and it is working fine right now. I am using APR and =
had to use a 64-bit dll for that of course.
=A0
Regards,
Tony

--- On Tue, 5/29/12, Christopher Schultz <chris@christopherschultz.net> wro=
te:


From: Christopher Schultz <chris@christopherschultz.net>
Subject: Re: For TC 7 servlets stay in memory how long?
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 29 May 2012, 10:10 AM


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 5/29/12 11:17 AM, Tony Anecito wrote:
> For TC 7 how long do servlets stay in memory if not invoked by a
> client or another servlet? How does one control the length of time?
> Is the there a config setting in a file somewhere?

I don't believe Tomcat does any auto-unloading of servlets once they
are loaded. Are you in need of such a feature? Servlets themselves
should be very lightweight in terms of memory usage, since they
basically have to be stateless in order to avoid all kinds of
threading issues.

Are you using SingleThreadedModel or anything like that?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/E9P4ACgkQ9CaO5/Lv0PCffwCcDEf1q6mQ5koGwJD1UOn5EBJh
ZHQAnRa9lTbJNAzIEbgxUuXtwXEZUXDe
=3DMsSC
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---1312186821-2123585317-1338311108=:89327--

From users-return-234525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 17:10:45 2012
Return-Path: <users-return-234525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D40D89178
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 17:10:45 +0000 (UTC)
Received: (qmail 98371 invoked by uid 500); 29 May 2012 17:10:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98291 invoked by uid 500); 29 May 2012 17:10:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98273 invoked by uid 99); 29 May 2012 17:10:42 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:10:42 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:10:42 +0000
Message-ID: <4FC50308.2010904@apache.org>
Date: Tue, 29 May 2012 18:10:32 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: For TC 7 servlets stay in memory how long?
References: <1338311108.89327.YahooMailClassic@web113611.mail.gq1.yahoo.com>
In-Reply-To: <1338311108.89327.YahooMailClassic@web113611.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 29/05/2012 18:05, Tony Anecito wrote:
> Thanks Christopher for your prompt reply!
> 
> I am doing some performance tuning of Tomcat and wanted to
> understand if the servlet was unloaded after a period of inactivity
> like an EJB is. I am using a cache in the servlet and the amount of
> caching is small but helpful and having the servlets say unload
> every 30min would offset the use of a small cache.
> 
> Also, FYI I just upgraded to lastest Tomcat 7 release and java 
> running under 64-bit 1.7.0_04 JDK and it is working fine right now.
> I am using APR and had to use a 64-bit dll for that of course.

Chris is correct. Tomcat currently never unloads a pure servlet once
it has been loaded. Tomcat can be configured to unload JSPs (which are
compiled into Servlets) once a certain number of JSPs have been loaded
but this feature is disabled by default.

It is also worth noting that the Servlet spec makes it very clear that
the container *may* unload servlets whenever it likes. An alternative
- - that will never be reloaded - is to put it in the ServletContext as
an attribute.

Mark


> 
> Regards, Tony
> 
> --- On Tue, 5/29/12, Christopher Schultz 
> <chris@christopherschultz.net> wrote:
> 
> 
> From: Christopher Schultz <chris@christopherschultz.net> Subject:
> Re: For TC 7 servlets stay in memory how long? To: "Tomcat Users
> List" <users@tomcat.apache.org> Date: Tuesday, May 29, 2012, 10:10
> AM
> 
> 
> Tony,
> 
> On 5/29/12 11:17 AM, Tony Anecito wrote:
>> For TC 7 how long do servlets stay in memory if not invoked by a
>>  client or another servlet? How does one control the length of 
>> time? Is the there a config setting in a file somewhere?
> 
> I don't believe Tomcat does any auto-unloading of servlets once
> they are loaded. Are you in need of such a feature? Servlets
> themselves should be very lightweight in terms of memory usage,
> since they basically have to be stateless in order to avoid all
> kinds of threading issues.
> 
> Are you using SingleThreadedModel or anything like that?
> 
> -chris
> 
> ---------------------------------------------------------------------
>
>
> 
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJPxQMIAAoJEBDAHFovYFnnHEwP/RN0CZMFclJeKqWkXH9rbcLp
qbJSLlO1fbNvRIxd8wyPuyfFpINXa3KzCLL6gOKrR6lNVy+nq9YGMd4QDrVZLuzP
jnw8Fk7bTrAID8KXbBdIBcsL7iZ5w68L3fk6IF36IJWbKJdDDsC95izQPDQf4fzI
/kA94L202e+0jCI+mp8IG3G/Ro7aw/rVLOSFt2z/h7tLJiXUUz98yT07YdYJqi18
X+XgmEHzkuIcopuk2Xsf8z6AQzRp9y01TvHSmBiMdBCx2hp9VZFyqLk2G5wg5eKd
oylsAx7R4i44o+YD/9laB8IiLz7h0+SM1jpdt1FUHvrTfXxwCh3qhngwTE8thXYp
R7KpuzB+g1gcon52RPN93fqD3vP6fD8Qkdf4fV8WoBBQ0Im+v+8pu2lkwb6SrCJE
sEqv2oicaXolAr4RNJ4oHaSEn2/Zjo0O+zR9z4s8Z5LBBLpmGUrEUDzu1eRaBZuH
b4fNGpDIgaJVvUmmi6wQnQvjvTG3nxTGLcK+eI2B5PXAqg/bsAmVX9mDRqiShLH3
2e0nZ9L7Y2Y6tiQv9y1VSWy46QGZWsAPRHl4+bO831Vt4t9lwmSK00pUwvMQylB2
GDS27RV1abGoXTC/59U21x7Ird6TYrGBSKxSkjd78gmYzJ3gN29SiUmFsfWNH+36
AfR+xiU01TfQl/FYXa8t
=uEvQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 17:21:33 2012
Return-Path: <users-return-234526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2379692B8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 17:21:33 +0000 (UTC)
Received: (qmail 60558 invoked by uid 500); 29 May 2012 17:21:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60505 invoked by uid 500); 29 May 2012 17:21:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60496 invoked by uid 99); 29 May 2012 17:21:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:21:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:21:24 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 247A225DA03
	for <users@tomcat.apache.org>; Tue, 29 May 2012 11:21:04 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 14A3825DA04; Tue, 29 May 2012 11:21:04 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
	*  0.1 AWL AWL: From: address is in the auto white-list
X-Spam-DCC: : mx-01.formatdynamics.com 1282; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 288BA25DA03
	for <users@tomcat.apache.org>; Tue, 29 May 2012 11:20:58 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Tue, 29 May 2012 11:20:55 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293C9@missoula.formatdynamics.com>
In-Reply-To: <4FC2FEA3.6080001@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac08ijSqT9o6HdBXT32VqDKOycBFJQBM/jsg
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com> <4FC2FEA3.6080001@apache.org>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Tue May 29 11:21:04 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.8 required=7.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

QnVnIDUzMzIxDQpDaGVja2luZyBvdXQgdGhlIHRydW5rIG5vdy4NCg0KLVRvbnkNCi0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KTWFuYWdlciwgSVQgT3BlcmF0aW9ucw0KRm9ybWF0IER5bmFt
aWNzLCBJbmMuDQpQOiAzMDMtMjI4LTczMjcNCkY6IDMwMy0yMjgtNzMwNQ0KYWJpYWNjb0Bmb3Jt
YXRkeW5hbWljcy5jb20NCmh0dHA6Ly93d3cuZm9ybWF0ZHluYW1pY3MuY29tDQoNCg0KPiAtLS0t
LU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBNbGFkZW4gVHVyayBbbWFpbHRvOm10dXJr
QGFwYWNoZS5vcmddDQo+IFNlbnQ6IFN1bmRheSwgTWF5IDI3LCAyMDEyIDEwOjI3IFBNDQo+IFRv
OiB1c2Vyc0B0b21jYXQuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogamsgMS4yLjM2IHRocm93
aW5nIDUwMy9zZW5kZnVsbC9jcGluZyBlcnJvcnMNCj4gDQo+IE9uIDA1LzI3LzIwMTIgMDU6Mjcg
UE0sIEFudGhvbnkgSi4gQmlhY2NvIHdyb3RlOg0KPiA+IFllYWgsIEkgY2FuIGRvIHRoYXQsIHRo
YW5rcyBtdWNoLg0KPiA+DQo+IA0KPiBDb29sLg0KPiBJbiBiZXR3ZWVuIGNhbiB5b3UgY2hlY2sg
dGhlIGNvZGUgZnJvbSB0aGUgdHJ1bms/DQo+IA0KPiANCj4gUmVnYXJkcw0KPiAtLQ0KPiBeVE0N
Cj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1
YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 17:29:23 2012
Return-Path: <users-return-234527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8AE13CEC7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 17:29:23 +0000 (UTC)
Received: (qmail 365 invoked by uid 500); 29 May 2012 17:29:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 302 invoked by uid 500); 29 May 2012 17:29:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 293 invoked by uid 99); 29 May 2012 17:29:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:29:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:29:14 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id 95CFD25DA03
	for <users@tomcat.apache.org>; Tue, 29 May 2012 11:28:53 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id 8103F25DA04; Tue, 29 May 2012 11:28:53 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
	*  0.1 AWL AWL: From: address is in the auto white-list
X-Spam-DCC: : mx-01.formatdynamics.com 1282; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id C6AF125DA03
	for <users@tomcat.apache.org>; Tue, 29 May 2012 11:28:51 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Tue, 29 May 2012 11:28:49 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C293CC@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293C9@missoula.formatdynamics.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac08ijSqT9o6HdBXT32VqDKOycBFJQBM/jsgAACR6cA=
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com> <4FC2FEA3.6080001@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293C9@missoula.formatdynamics.com>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Tue May 29 11:28:53 2012 -0600 (MDT)
X-Old-Spam-Status: No, hits=-52.8 required=7.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

VHJ1bmsgd29ya3MuDQoNCi1Ub255DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCk1hbmFn
ZXIsIElUIE9wZXJhdGlvbnMNCkZvcm1hdCBEeW5hbWljcywgSW5jLg0KUDogMzAzLTIyOC03MzI3
DQpGOiAzMDMtMjI4LTczMDUNCmFiaWFjY29AZm9ybWF0ZHluYW1pY3MuY29tDQpodHRwOi8vd3d3
LmZvcm1hdGR5bmFtaWNzLmNvbQ0KDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4g
RnJvbTogQW50aG9ueSBKLiBCaWFjY28gW21haWx0bzphYmlhY2NvQGZvcm1hdGR5bmFtaWNzLmNv
bV0NCj4gU2VudDogVHVlc2RheSwgTWF5IDI5LCAyMDEyIDExOjIxIEFNDQo+IFRvOiBUb21jYXQg
VXNlcnMgTGlzdA0KPiBTdWJqZWN0OiBSRTogamsgMS4yLjM2IHRocm93aW5nIDUwMy9zZW5kZnVs
bC9jcGluZyBlcnJvcnMNCj4gDQo+IEJ1ZyA1MzMyMQ0KPiBDaGVja2luZyBvdXQgdGhlIHRydW5r
IG5vdy4NCj4gDQo+IC1Ub255DQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBNYW5h
Z2VyLCBJVCBPcGVyYXRpb25zDQo+IEZvcm1hdCBEeW5hbWljcywgSW5jLg0KPiBQOiAzMDMtMjI4
LTczMjcNCj4gRjogMzAzLTIyOC03MzA1DQo+IGFiaWFjY29AZm9ybWF0ZHluYW1pY3MuY29tDQo+
IGh0dHA6Ly93d3cuZm9ybWF0ZHluYW1pY3MuY29tDQo+IA0KPiANCj4gPiAtLS0tLU9yaWdpbmFs
IE1lc3NhZ2UtLS0tLQ0KPiA+IEZyb206IE1sYWRlbiBUdXJrIFttYWlsdG86bXR1cmtAYXBhY2hl
Lm9yZ10NCj4gPiBTZW50OiBTdW5kYXksIE1heSAyNywgMjAxMiAxMDoyNyBQTQ0KPiA+IFRvOiB1
c2Vyc0B0b21jYXQuYXBhY2hlLm9yZw0KPiA+IFN1YmplY3Q6IFJlOiBqayAxLjIuMzYgdGhyb3dp
bmcgNTAzL3NlbmRmdWxsL2NwaW5nIGVycm9ycw0KPiA+DQo+ID4gT24gMDUvMjcvMjAxMiAwNToy
NyBQTSwgQW50aG9ueSBKLiBCaWFjY28gd3JvdGU6DQo+ID4gPiBZZWFoLCBJIGNhbiBkbyB0aGF0
LCB0aGFua3MgbXVjaC4NCj4gPiA+DQo+ID4NCj4gPiBDb29sLg0KPiA+IEluIGJldHdlZW4gY2Fu
IHlvdSBjaGVjayB0aGUgY29kZSBmcm9tIHRoZSB0cnVuaz8NCj4gPg0KPiA+DQo+ID4gUmVnYXJk
cw0KPiA+IC0tDQo+ID4gXlRNDQo+ID4NCj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiBUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPiA+IEZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5v
cmcNCj4gDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiAgc3NpLC1pIGUtc3NpQG10
cGhvDQo+IG9haW9sb2FzZWE6c3NlQG10cGhvDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 17:38:56 2012
Return-Path: <users-return-234528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B54E7CF46
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 17:38:56 +0000 (UTC)
Received: (qmail 28303 invoked by uid 500); 29 May 2012 17:38:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28265 invoked by uid 500); 29 May 2012 17:38:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28255 invoked by uid 99); 29 May 2012 17:38:53 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:38:53 +0000
Received: from localhost (HELO fc17b0x64.jboss.hr) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 17:38:53 +0000
Message-ID: <4FC509AA.3000504@apache.org>
Date: Tue, 29 May 2012 19:38:50 +0200
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20120430 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: jk 1.2.36 throwing 503/sendfull/cping errors
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com> <4FC2FEA3.6080001@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293C9@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293CC@missoula.formatdynamics.com>
In-Reply-To: <40D5E3C3CBE03D45A776E7C358BDE90804C293CC@missoula.formatdynamics.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 05/29/2012 07:28 PM, Anthony J. Biacco wrote:
> Trunk works.
>

Cool.
That confirms my findings.
We have release candidate at
http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.37/

Hope its gonna be voted by the end of this week.

Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 18:58:32 2012
Return-Path: <users-return-234529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 56D0B9F18
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 18:58:32 +0000 (UTC)
Received: (qmail 79191 invoked by uid 500); 29 May 2012 18:58:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79137 invoked by uid 500); 29 May 2012 18:58:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79124 invoked by uid 99); 29 May 2012 18:58:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 18:58:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.91.80] (HELO nm10.bullet.mail.sp2.yahoo.com) (98.139.91.80)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 29 May 2012 18:58:20 +0000
Received: from [72.30.22.92] by nm10.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 18:57:58 -0000
Received: from [72.30.22.186] by tm14.bullet.mail.sp2.yahoo.com with NNFMP; 29 May 2012 18:57:58 -0000
Received: from [127.0.0.1] by omp1062.mail.sp2.yahoo.com with NNFMP; 29 May 2012 18:57:58 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 666092.37845.bm@omp1062.mail.sp2.yahoo.com
Received: (qmail 37196 invoked by uid 60001); 29 May 2012 18:57:58 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338317878; bh=A9HkeUzwvCQkFcWG5zr4He/oPFBKYJ78jB5ZEVmyr0I=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=oWY50tw5dPgE3ZugSfE0fVtsy+LiEr8FfN4BVNYCWIEJWJInOJjBDPHijKZeIErdBiuPm/p80FHlI1Qw8YWpAS4Jbq9kCMBnudZrNjjbDZGQ2VWHumuPTVbRF6PWWPgvibHT9l8ks+X7wfGTiXAeOI4ALcToSeGkcJV6CQ6T3CU=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=uvxcbRCBWyKHezjiy4hBVkcMzGGRaOraL3ZNuR+lFeA+8758Z6Tp/YiL+/FUhetZKoneu2BGN6oc1e+0qI2D7XvbdNpVXrLgtnl5+bngmfnmh6KQnd8eCYbEqaoIttXL6KmxjcJOjyByXvn6Zqmk2z+V4U2NaNDkPebFtngU96Q=;
X-YMail-OSG: toAO7b4VM1lbv1UFupEdI4OrG9mBDCllp2QEdBWH6xf1a2w
 xZjBoMZ7n9elR_E1JCNJnHpwozYl9285zCRtYdJ8j9Z7tf.J4xThXvYXKyaf
 1QtpPdc_.3Z_LUpJhbmLwG9d.Fza6s4yvr2Cbi4hN4pb9MFkbAsBqwaHOvSC
 PsbPQfl.2yZBKkz87517NXUG_xjxpoNx39rS93FeYQtoJD5m3m6OMZ4cCaO.
 4uZwdDAftInBPc90pCFn8kmHKWwJ7HqvQffL8wjRtADtYQpOfgBkZxgjZI2G
 eZVhVH_DzKC.JSa3UZl7hsN6UOmWwV9tO5ZYUtZglQP6U3mS1tBbklrstDqd
 fqme0QcRDkMJGlA5BeytM9VpRCcOL.nuDhOHBTfm1W.xAtit8umj8l7GFzAR
 q2NLakov9vbr3ZMDBqCvkkIOEtD_3LZ8_4Nzj9hq6b2psi5WQKO33I2ZBu2H
 uK_X52DXKrSsZkat_MJk9bN1X.VKR35IQHxBnxG6949tZ3wRYknD15G8vBPc
 TYUMg3qsH66PU_wG8UocpNKEG0B_vlNBwUUpJgDoQ0AiRAAlh9_x3AR05.wR
 JfLdAuhumiit9bUUo6ITpdwBdMCwvak2twapbgfI5cbhMiK.3En4J_EC0JMl
 pzbyHXrycbDpA7hi.1p4Dp5Ghw570Jgtv9ajGAKNOF7g6r_pLKLbl2VCT4Of
 VlkVM.InXBPIuIgmm0_ia798hZjsTK68aYBHeBB4l3M1lor02oe_W9aHKeBr
 HoDDDauJV_YFUki2XLE.snw1muQalkqdUWiNU2Rv3HhBOqw--
Received: from [167.234.14.240] by web113602.mail.gq1.yahoo.com via HTTP; Tue, 29 May 2012 11:57:57 PDT
X-Mailer: YahooMailClassic/15.0.6 YahooMailWebService/0.8.118.349524
Message-ID: <1338317877.36842.YahooMailClassic@web113602.mail.gq1.yahoo.com>
Date: Tue, 29 May 2012 11:57:57 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: For TC 7 servlets stay in memory how long?
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FC50308.2010904@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-424317223-2034331295-1338317877=:36842"

---424317223-2034331295-1338317877=:36842
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Mark! I did find this tuning guide and since I am using 64-bit java =
and mostly read-only operations I will try the suggestions listed.
=A0
http://www.mastertheboss.com/jboss-application-server/341-jboss-as-7-perfor=
mance-tuning.html
=A0
Thanks Again,
-Tony

--- On Tue, 5/29/12, Mark Thomas <markt@apache.org> wrote:


From: Mark Thomas <markt@apache.org>
Subject: Re: For TC 7 servlets stay in memory how long?
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 29 May 2012, 11:10 AM


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 29/05/2012 18:05, Tony Anecito wrote:
> Thanks Christopher for your prompt reply!
>=20
> I am doing some performance tuning of Tomcat and wanted to
> understand if the servlet was unloaded after a period of inactivity
> like an EJB is. I am using a cache in the servlet and the amount of
> caching is small but helpful and having the servlets say unload
> every 30min would offset the use of a small cache.
>=20
> Also, FYI I just upgraded to lastest Tomcat 7 release and java=20
> running under 64-bit 1.7.0_04 JDK and it is working fine right now.
> I am using APR and had to use a 64-bit dll for that of course.

Chris is correct. Tomcat currently never unloads a pure servlet once
it has been loaded. Tomcat can be configured to unload JSPs (which are
compiled into Servlets) once a certain number of JSPs have been loaded
but this feature is disabled by default.

It is also worth noting that the Servlet spec makes it very clear that
the container *may* unload servlets whenever it likes. An alternative
- - that will never be reloaded - is to put it in the ServletContext as
an attribute.

Mark


>=20
> Regards, Tony
>=20
> --- On Tue, 5/29/12, Christopher Schultz=20
> <chris@christopherschultz.net> wrote:
>=20
>=20
> From: Christopher Schultz <chris@christopherschultz.net> Subject:
> Re: For TC 7 servlets stay in memory how long? To: "Tomcat Users
> List" <users@tomcat.apache.org> Date: Tuesday, May 29, 2012, 10:10
> AM
>=20
>=20
> Tony,
>=20
> On 5/29/12 11:17 AM, Tony Anecito wrote:
>> For TC 7 how long do servlets stay in memory if not invoked by a
>>=A0 client or another servlet? How does one control the length of=20
>> time? Is the there a config setting in a file somewhere?
>=20
> I don't believe Tomcat does any auto-unloading of servlets once
> they are loaded. Are you in need of such a feature? Servlets
> themselves should be very lightweight in terms of memory usage,
> since they basically have to be stateless in order to avoid all
> kinds of threading issues.
>=20
> Are you using SingleThreadedModel or anything like that?
>=20
> -chris
>=20
> ---------------------------------------------------------------------
>
>
>=20
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJPxQMIAAoJEBDAHFovYFnnHEwP/RN0CZMFclJeKqWkXH9rbcLp
qbJSLlO1fbNvRIxd8wyPuyfFpINXa3KzCLL6gOKrR6lNVy+nq9YGMd4QDrVZLuzP
jnw8Fk7bTrAID8KXbBdIBcsL7iZ5w68L3fk6IF36IJWbKJdDDsC95izQPDQf4fzI
/kA94L202e+0jCI+mp8IG3G/Ro7aw/rVLOSFt2z/h7tLJiXUUz98yT07YdYJqi18
X+XgmEHzkuIcopuk2Xsf8z6AQzRp9y01TvHSmBiMdBCx2hp9VZFyqLk2G5wg5eKd
oylsAx7R4i44o+YD/9laB8IiLz7h0+SM1jpdt1FUHvrTfXxwCh3qhngwTE8thXYp
R7KpuzB+g1gcon52RPN93fqD3vP6fD8Qkdf4fV8WoBBQ0Im+v+8pu2lkwb6SrCJE
sEqv2oicaXolAr4RNJ4oHaSEn2/Zjo0O+zR9z4s8Z5LBBLpmGUrEUDzu1eRaBZuH
b4fNGpDIgaJVvUmmi6wQnQvjvTG3nxTGLcK+eI2B5PXAqg/bsAmVX9mDRqiShLH3
2e0nZ9L7Y2Y6tiQv9y1VSWy46QGZWsAPRHl4+bO831Vt4t9lwmSK00pUwvMQylB2
GDS27RV1abGoXTC/59U21x7Ird6TYrGBSKxSkjd78gmYzJ3gN29SiUmFsfWNH+36
AfR+xiU01TfQl/FYXa8t
=3DuEvQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---424317223-2034331295-1338317877=:36842--

From users-return-234530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 19:05:01 2012
Return-Path: <users-return-234530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EC57F9FCF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 19:05:00 +0000 (UTC)
Received: (qmail 10206 invoked by uid 500); 29 May 2012 19:04:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10108 invoked by uid 500); 29 May 2012 19:04:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10099 invoked by uid 99); 29 May 2012 19:04:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 19:04:57 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.54.34.165] (HELO smtpq2.gn.mail.iss.as9143.net) (212.54.34.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 19:04:50 +0000
Received: from [212.54.34.134] (helo=smtp3.gn.mail.iss.as9143.net)
	by smtpq2.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SZRiV-0003nz-PM; Tue, 29 May 2012 21:04:27 +0200
Received: from d57d9b32.static.ziggozakelijk.nl ([213.125.155.50] helo=[127.0.0.1])
	by smtp3.gn.mail.iss.as9143.net with esmtp (Exim 4.71)
	(envelope-from <zijpp@modelit.nl>)
	id 1SZRiV-0007KK-Ge; Tue, 29 May 2012 21:04:27 +0200
Message-ID: <4FC51DDC.5050105@modelit.nl>
Date: Tue, 29 May 2012 21:05:00 +0200
From: "Nanne van der Zijpp (Modelit)" <zijpp@modelit.nl>
Reply-To: zijpp@modelit.nl
Organization: Modelit
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Konstantin Kolinko <knst.kolinko@gmail.com>
Subject: Re: command line equivalent of tomcat service manager buttons "start"
 and "stop"
References: <4FC29C5F.1020901@modelit.nl> <99C8B2929B39C24493377AC7A121E21FB02886511E@USEA-EXCH8.na.uis.unisys.com> <4FC3D42F.8020600@modelit.nl> <CABzHfV=HR01QF82An0uiM3T5Se5Rvb1tAxyEwDfTAusZz0KH_w@mail.gmail.com>
In-Reply-To: <CABzHfV=HR01QF82An0uiM3T5Se5Rvb1tAxyEwDfTAusZz0KH_w@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120529-0, 29-05-2012), Outbound message
X-Antivirus-Status: Not-Tested
X-Ziggo-spambar: --
X-Ziggo-spamscore: -2.5
X-Ziggo-spamreport: ALL_TRUSTED=-1,BAYES_00=-1.9,CM_REPLY_NOARROW=0.3,TW_JP=0.077
X-Ziggo-Spam-Status: No
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: No
X-Old-Spam-Status: No

Hello Konstantin
Thanks for this info which was very helpful.

I have now created a batch program that runs at startup that comes down to:

Tomcat6w//MQ
<start required executables>
Tomcat6w//MR

Now if the power fails long enough to drain the UPS, the machine will go 
down, reboot when the power comes back and restore all services. When 
all is done the Tomcat service manager displays info that is consistent 
with the actual program state. This is what I was looking for.

Thanks al lot!



Op 29-5-2012 11:31, Konstantin Kolinko schreef:
> 2012/5/28 Nanne van der Zijpp (Modelit)<zijpp@modelit.nl>:
>> In an older reply of yours I noticed that you mentioned the //MR// option.
>> This is not on the manual page I have been using
>> (http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html). So I
>> am wondering: which documentation did you use to find out about the //MR//
>> option?
>>
> http://commons.apache.org/daemon/procrun.html
>
> Tomcat[n].exe and Tomcat[n]w.exe come from Apache Commons Daemon project.
>
> They are renamed copies of prunsrv.exe and prunmgr.exe
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 19:50:53 2012
Return-Path: <users-return-234531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA53ECA5B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 19:50:53 +0000 (UTC)
Received: (qmail 68663 invoked by uid 500); 29 May 2012 19:50:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68619 invoked by uid 500); 29 May 2012 19:50:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68607 invoked by uid 99); 29 May 2012 19:50:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 19:50:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.46.182.58] (HELO relay.ihostexchange.net) (66.46.182.58)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 19:50:46 +0000
Received: from VMBX106.ihostexchange.net ([192.168.3.6]) by
 hub108.ihostexchange.net ([66.46.182.58]) with mapi; Tue, 29 May 2012
 15:50:23 -0400
From: Kevin <kevin@webkrew.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 29 May 2012 15:50:22 -0400
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war
 reload
Thread-Topic: tomcat full GC every 2 minutes for first 6 hours after war
 reload
Thread-Index: Ac091El/fbsYL0szTHyWyew+Nx2TRQ==
Message-ID: <CBEA90DC.20D11%kevin@webkrew.com>
In-Reply-To: <4FC4F4A5.9040608@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.0.0.100825
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org



On 5/29/12 11:09 AM, "Christopher Schultz" <chris@christopherschultz.net>
wrote:

>-----BEGIN PGP SIGNED MESSAGE-----
>Hash: SHA1
>
>Kevin,
>
>(FYI these are always a PITA to diagnose...)
>
>On 5/29/12 11:03 AM, Kevin wrote:
>> We have a cluster of tomcat servers being used on a very high
>> volume website. We've noticed that for the first 5-6 hours after an
>> application re-load that Full GC will run every 2 minutes pausing
>> the application for anywhere between 5 and 20 seconds. After 5-6
>> hours the full GC will no longer run until tomcat is reloaded.
>> This behavior is repeatable.
>>=20
>> We discounted our EhCache settings as potential issue because
>> tomcat can be killed without this issue showing up.  It's not until
>> we actually reload the WAR with changes (clearing the work
>> directory) and restart tomcat that this issue shows up.  Traffic
>> level isn't a factor we'll go through our peak hours with no
>> problem.
>
>All good things to know.
>
>> The servers are all dual quad core with 32GB of RAM running Centos
>> 5 and tomcat 6.0.18.  We've attempted every suggested GC setting
>> change suggested on the net and by developers and system
>> administrators.
>
>Did you try looking at what the cause might be, or just blindly apply
>suggestions to see if something would stick?

Initially we looked closely at it trying to solve the problem as time wore
on we tried anything.  This has been going on for months now.


>
>> Our java opts are being played with on a daily basis however here
>> are the settings that correspond to the sample GC log below:
>>=20
>>=20
>> -server -Xmx27g -Xms27g  -XX:+DisableExplicitGC
>> -XX:+UseConcMarkSweepGC -XX:+PrintTenuringDistribution
>> -Dsun.rmi.dgc.client.gcInterval=3D900000
>> -Dsun.rmi.dgc.server.gcInterval=3D900000 -XX:NewSize=3D8g
>> -XX:SurvivorRatio=3D16 -verbose:gc -XX:+PrintGCTimeStamps
>> -XX:+PrintGCDetails
>
>A new size of 8GiB seems high to me, but I've never run with a total
>heap size of anything nearly as large as 27GiB, so maybe that's a
>reasonable size. My opinion here is probably irrelevant.
>
>> 215.501: [GC 215.504: [ParNew Desired survivor size 238583808
>> bytes, new threshold 15 (max 15) - age   1:   50457968 bytes,
>> 50457968 total : 7456799K->111048K(7922624K), 0.0617110 secs]
>> 8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=3D0.68
>> sys=3D0.00, real=3D0.07 secs]
>
>Odd that user+sys < real. Hmm.
>
>[...]
>
>> 316.456: [GC 316.459: [ParNew Desired survivor size 238583808
>> bytes, new threshold 15 (max 15) - age   1:   41430416 bytes,
>> 41430416 total - age   3:   22728376 bytes,   64158792 total - age
>> 5:   19599960 bytes,   83758752 total - age   6:   21847616 bytes,
>> 105606368 total - age   7:   27667592 bytes,  133273960 total - age
>> 8:      10904 bytes,  133284864 total - age   9:   31824256 bytes,
>> 165109120 total : 7650333K->215213K(7922624K), 0.1332630 secs]
>> 8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=3D1.45
>> sys=3D0.01, real=3D0.14 secs]
>
>1.45 seconds for a full-GC isn't anywhere near the 5s-20s claimed
>above. Have you been able to actually instrument a 5s-20s GC-pause?
>Or, are you saying that your webapp appears to stall for that long and
>those observances coincide with full-GC runs?
>
>> 343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K),
>> 3.4129290 secs] 2884580K->1312570K(27845568K), [CMS Perm :
>> 83964K->47203K(83968K)], 3.4168600 secs] [Times: user=3D3.87
>> sys=3D0.02, real=3D3.41 secs]
>
>Also relatively short.

They fluctuate.=20

>
>> **Last Full GC**
>>=20
>> 20517.892: [GC 20517.898: [ParNew Desired survivor size 238583808
>> bytes, new threshold 15 (max 15) - age   1:   33948208 bytes,
>> 33948208 total - age   2:      88280 bytes,   34036488 total - age
>> 3:   19872472 bytes,   53908960 total - age   4:   16072608 bytes,
>> 69981568 total - age   5:   15718712 bytes,   85700280 total - age
>> 6:   15771016 bytes,  101471296 total - age   7:   16895976 bytes,
>> 118367272 total - age   8:   24233728 bytes,  142601000 total :
>> 7618727K->200950K(7922624K), 0.1728420 secs]
>> 16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=3D2.21
>> sys=3D0.01, real=3D0.18 secs]
>
>Note that the above is not a "Full GC". This one /is/:
>
>> 20526.469: [Full GC 20526.475: [CMS:
>> 9175755K->9210800K(19922944K), 33.1161300 secs]
>> 13632232K->9210800K(27845568K), [CMS Perm :
>> 83967K->53332K(83968K)], 33.1254170 secs] [Times: user=3D33.12
>> sys=3D0.02, real=3D33.12 secs]
>
>Okay, that one's a doosey.
>
>It's weird that it looks like after the full GC, the heap has *lost*
>some space ("CMS: 9175755K->9210800K"). Can you watch the logs and
>take a heap dump (which may take a LONG time with such a big heap, so
>be prepared for another long pause) after one of these full GCs?
>
>It would be better to get a heap dump both before AND after the full
>GC, but that can ruin your performance if you enable those automated
>GC options.

We can run this after our next code release in two days.

>
>> Any help would be greatly appreciated.
>
>Are you populating huge caches on startup or anything like that?
>Generational GC performance is related to the number of surviving
>objects that have to be moved from one generation to the next, so if
>you have a huge population of objects surviving each collection one
>after the other (which is what I might expect if you had an enormous
>cache being fulled all at once) then your performance will suck for a
>while until those objects are tenured enough to avoid periodic
>collections.

This was our initial assumption however since we're using an in memory
EhCache we would expect this issue to re-accure when tomcat is restarted.
It doesn't.  It'll only show up if we stop tomcat, reload the WAR and
clean the work directory.

>
>Are you able to inspect the various generations before and after these
>pauses? I'd be interested to see if you have a huge population of
>objects being tenured at once and what types of objects they are (they
>might be something obvious like instances of our.big.fat.CacheEntry or
>something like that).

We'll give it a try

Thanks


>
>- -chris
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
>Comment: GPGTools - http://gpgtools.org
>Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
>iEYEARECAAYFAk/E9KUACgkQ9CaO5/Lv0PBBHwCgmJHB83ekwxiDuDoPeW6FtH29
>Z/sAn3p3bZgOEBFfy7yvyAxPLKnyVMO/
>=3DL292
>-----END PGP SIGNATURE-----
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue May 29 20:37:37 2012
Return-Path: <users-return-234532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F5959A3E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 29 May 2012 20:37:37 +0000 (UTC)
Received: (qmail 14323 invoked by uid 500); 29 May 2012 20:37:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14247 invoked by uid 500); 29 May 2012 20:37:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14238 invoked by uid 99); 29 May 2012 20:37:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 20:37:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 May 2012 20:37:26 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id FwSv1j0051ZXKqc5Fwd5rH; Tue, 29 May 2012 20:37:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id Fwd41j00r38FjT13hwd4ix; Tue, 29 May 2012 20:37:05 +0000
Message-ID: <4FC53370.9070403@christopherschultz.net>
Date: Tue, 29 May 2012 16:37:04 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war reload
References: <CBEA90DC.20D11%kevin@webkrew.com>
In-Reply-To: <CBEA90DC.20D11%kevin@webkrew.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kevin,

On 5/29/12 3:50 PM, Kevin wrote:
> On 5/29/12 11:09 AM, "Christopher Schultz"
> <chris@christopherschultz.net> wrote:
>> It would be better to get a heap dump both before AND after the
>> full GC, but that can ruin your performance if you enable those
>> automated GC options.
> 
> We can run this after our next code release in two days.

Okay.

>> Are you populating huge caches on startup or anything like that? 
>> Generational GC performance is related to the number of
>> surviving objects that have to be moved from one generation to
>> the next, so if you have a huge population of objects surviving
>> each collection one after the other (which is what I might expect
>> if you had an enormous cache being fulled all at once) then your
>> performance will suck for a while until those objects are tenured
>> enough to avoid periodic collections.
> 
> This was our initial assumption however since we're using an in
> memory EhCache we would expect this issue to re-accure when tomcat
> is restarted. It doesn't.  It'll only show up if we stop tomcat,
> reload the WAR and clean the work directory.

Have you tried re-starting your webapp without restarting Tomcat? Does
EhCache do any kind of magic optimization on the disk, where the
removal of the 'work' directory would have some direct consequence?

>> Are you able to inspect the various generations before and after
>> these pauses? I'd be interested to see if you have a huge
>> population of objects being tenured at once and what types of
>> objects they are (they might be something obvious like instances
>> of our.big.fat.CacheEntry or something like that).
> 
> We'll give it a try

With any (relative) luck, you'll have another event where everything
sucks for 2 hours, you'll get a huge full GC with heap dumps on either
side of it, and then you can inspect them. Again, remember that full
heap dumps around full GC's is going to murder the performance of your
full GCs (yes, it can get worse). Unfortunately, that also means that
disabling those options means another JVM restart which means another
2 hours of agony. The good news (I guess) is that you can do all these
restarts during off-hours (do you have any off-hours) and not impact
your users too much.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/FM3AACgkQ9CaO5/Lv0PCeQwCgl5XmoWGO5COKBa/XC/L596yA
lX8An1va+s88s6jtkdUYVzAJBV6fqNJk
=mwwO
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 00:05:43 2012
Return-Path: <users-return-234533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AA71C182
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 00:05:43 +0000 (UTC)
Received: (qmail 31002 invoked by uid 500); 30 May 2012 00:05:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30858 invoked by uid 500); 30 May 2012 00:05:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30849 invoked by uid 99); 30 May 2012 00:05:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 00:05:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 00:05:34 +0000
Received: by pbbro12 with SMTP id ro12so8247235pbb.18
        for <users@tomcat.apache.org>; Tue, 29 May 2012 17:05:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=duTU6yeQkz4osj213x20/N3zQ4NW6VLIEunX8a7/w10=;
        b=mqQa9gWTCoMLinykdjjngvGLBj6gYJLv3yH2zhYzPl70bt9SCq1v8tJ1dLFFkzI3IY
         uXztvPsfIu2ts3CYufwKBr6LdtwO1c3poI20SBfP6fd7A2ua/CzWotCJ5hh53dFGYPbv
         ySJx6o6bwn08YpHUYB+BJSuJJpiatwy/jDzC68yYxS5p1wLCdH/JCXClh1tKpvNWCZ5A
         EmIoVQmsn+rG4lp7WaZM/dZSAVhbbF3jQI3cMwrnzmHOeEwgkzuQsOco0qlv1w1Ac1lS
         LOwqwuvvb0CzLDHtU6zMcIqEJDlnMSbH06ixdNvL/IRkZoRl6Kt/VCDCzeZouPvlKMtP
         KIRw==
MIME-Version: 1.0
Received: by 10.68.225.101 with SMTP id rj5mr17294911pbc.2.1338336314641; Tue,
 29 May 2012 17:05:14 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Tue, 29 May 2012 17:05:14 -0700 (PDT)
In-Reply-To: <C0D237666EEA6C44B463A492857DD4892AE5A750@VITEMBX001.datakraftverk.no>
References: <C0D237666EEA6C44B463A492857DD4892AE5A5C6@VITEMBX001.datakraftverk.no>
	<CABzHfVkjwORGTASNg1uwQtpKhV8FqiHxk_0x13ZOHHf6JCQX+A@mail.gmail.com>
	<C0D237666EEA6C44B463A492857DD4892AE5A750@VITEMBX001.datakraftverk.no>
Date: Wed, 30 May 2012 04:05:14 +0400
Message-ID: <CABzHfVn5WwMem4FsA99tRtxU+VqdrzqCsksbNf-1RPjka4v_uQ@mail.gmail.com>
Subject: Re: Tomcat filter behaviour
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/29 Alexander Landsnes Ke=FCl <Alexander.Landsnes.Keul@visma.no>:
> So my expectations contain the only bugs in this instance :)
>
> Thanks. I suspected it might be something like that, but I hadn't seen an=
ything about it. Now to work around the issue, we've been rather dependent =
on how it worked in the past but I believe I understand why it had to chang=
e.
>

I added mention of conf/web.xml processing changes to the Migration Guide,

http://tomcat.apache.org/migration-7.html

Best regards,
Konstantin Kolinko

> 2012/5/29 Alexander Landsnes Ke=FCl <Alexander.Landsnes.Keul@visma.no>:
>> I'm seeing some behaviour from Tomcat 7 that I'd classify as "funky" whe=
n it comes to servlet filters. First off the technical setup
>>(...)
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 00:37:08 2012
Return-Path: <users-return-234534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA0B99D94
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 00:37:08 +0000 (UTC)
Received: (qmail 892 invoked by uid 500); 30 May 2012 00:37:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 834 invoked by uid 500); 30 May 2012 00:37:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 824 invoked by uid 99); 30 May 2012 00:37:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 00:37:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of roney.stein@sondait.com.br designates 213.199.154.143 as permitted sender)
Received: from [213.199.154.143] (HELO db3outboundpool.messaging.microsoft.com) (213.199.154.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 00:36:55 +0000
Received: from mail76-db3-R.bigfish.com (10.3.81.253) by
 DB3EHSOBE003.bigfish.com (10.3.84.23) with Microsoft SMTP Server id
 14.1.225.23; Wed, 30 May 2012 00:36:11 +0000
Received: from mail76-db3 (localhost [127.0.0.1])	by mail76-db3-R.bigfish.com
 (Postfix) with ESMTP id 0F40C40263	for <users@tomcat.apache.org>; Wed, 30 May
 2012 00:36:11 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:70.37.151.141;KIP:(null);UIP:(null);IPV:NLI;H:GRUPRD8002HT002.lamprd80.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -4
X-BigFish: PS-4(zzbb2dI103dKzz1202hzzz2fh2a8h668h839h944hd25hf0ah)
Received-SPF: pass (mail76-db3: domain of sondait.com.br designates 70.37.151.141 as permitted sender) client-ip=70.37.151.141; envelope-from=roney.stein@sondait.com.br; helo=GRUPRD8002HT002.lamprd80.prod.outlook.com ;.outlook.com ;
Received: from mail76-db3 (localhost.localdomain [127.0.0.1]) by mail76-db3
 (MessageSwitch) id 133833816935155_21906; Wed, 30 May 2012 00:36:09 +0000
 (UTC)
Received: from DB3EHSMHS004.bigfish.com (unknown [10.3.81.253])	by
 mail76-db3.bigfish.com (Postfix) with ESMTP id E609946022F	for
 <users@tomcat.apache.org>; Wed, 30 May 2012 00:36:08 +0000 (UTC)
Received: from GRUPRD8002HT002.lamprd80.prod.outlook.com (70.37.151.141) by
 DB3EHSMHS004.bigfish.com (10.3.87.104) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Wed, 30 May 2012 00:36:08 +0000
Received: from GRUPRD8002MB102.lamprd80.prod.outlook.com ([169.254.6.23]) by
 GRUPRD8002HT002.lamprd80.prod.outlook.com ([10.16.246.106]) with mapi id
 14.15.0074.002; Wed, 30 May 2012 00:36:25 +0000
From: Roney Duilio Stein <roney.stein@sondait.com.br>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: AJP communication failures
Thread-Topic: AJP communication failures
Thread-Index: Ac09/C2MKUqShB+OSIiKA6dTx6s9Rg==
Date: Wed, 30 May 2012 00:36:25 +0000
Message-ID: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.16.246.8]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: sondait.com.br

Hello.

Hope anyone there can help me with this issue. I'm dealing with this for th=
e past 2 weeks and cannot solve it completely nor locate the root cause.=20

I have an environment with 2 boxes load balanced with mod_proxy_ajp. Each b=
ox have 1 Apache HTTP and 1 Tomcat. To illustrate this:

Box A:
 . Tomcat A (6.0.29, x64)
 . Apache A (2.2.22)

Box B:
 . Tomcat B (6.0.29, x64)
 . Apache B (2.2.22)

Apache A and B have identical setup, each one balances to both Tomcat A and=
 B.

Also, there's a third application in Box C with another application being p=
roxied by Apache A and Apache B.
Box C:
 . Tomcat C (6.0.20, x86)

All boxes runs Windows 2008 R2 x64, have the Windows Firewall started but n=
ot enabled.
Box A and Box B are part of a Windows NLB Domain, but all references in the=
 proxy configuration are made using the hosts private IP addresses. Users u=
se the NLB IP address to connecto to Apache.

Apache proxy is configured like:
=3D=3D begin httpd.conf =3D=3D
Timeout 600
LimitRequestFieldSize 20480
ProxyIOBufferSize 21504
ProxyRequests Off
ProxyPreserveHost On
<Proxy *>
  Order deny,allow
  Allow from all
</Proxy>
<Proxy balancer://wlb>
  BalancerMember ajp://10.11.102.224:9109 route=3Dwt1 loadfactor=3D50 max=
=3D85 ttl=3D120 retry=3D5 connectiontimeout=3D5000ms ping=3D5000ms
  BalancerMember ajp://127.0.0.1:9109 route=3Dwt2 loadfactor=3D50 max=3D85 =
ttl=3D120 retry=3D5 connectiontimeout=3D5000ms ping=3D5000ms
</Proxy>
ProxyPass /app1 balancer://wlb/app1 stickysession=3DJSESSIONID nofailover=
=3DOn
ProxyPass /app2 ajp://10.11.102.219:8009/app2
=3D=3D end httpd.conf =3D=3D

Tomcat A and Tomcat B AJP connector is configured like:
<Connector port=3D"9109" protocol=3D"AJP/1.3" redirectPort=3D"8443" packetS=
ize=3D"22528" maxThreads=3D"200" connectionTimeout=3D"120000"/>

Tomcat C is configured like:
<Connector port=3D"8009" protocol=3D"AJP/1.3" redirectPort=3D"8443" />

The load is not high and there are a few users using the applications. This=
 is the production environment, I could not trace an operation to reproduce=
 this behavior in a controlled environment.
The "Box C" application "app2" shown above runs fine, not a single error me=
ssage.

The timeout parameters for app1 (Tomcat A and B) were configured in an atte=
mpt to solve the problem shown here. When using the default (no connectiont=
imeout, no ping, no ttl, no retry) other communications failures were happe=
ning.

Now, the problem: the AJP communication between Apache A/B and Tomcat A/B i=
s bad. The following can be seen in the Apache logs:

=3D=3D begin apache log =3D=3D
[Tue May 29 14:43:59 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header
[Tue May 29 14:43:59 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Tue May 29 14:43:59 2012] [error] (70007)The timeout specified has expired=
: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed
[Tue May 29 14:44:42 2012] [error] [client 10.45.7.78] File does not exist:=
 E:/Apache/htdocs/favicon.ico
[Tue May 29 14:45:08 2012] [error] [client 10.45.6.233] File does not exist=
: E:/Apache/htdocs/favicon.ico
[Tue May 29 14:45:17 2012] [error] [client 10.45.6.100] File does not exist=
: E:/Apache/htdocs/favicon.ico
[Tue May 29 14:45:39 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header
[Tue May 29 14:45:39 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Tue May 29 14:45:39 2012] [error] (70007)The timeout specified has expired=
: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed
[Tue May 29 14:45:39 2012] [error] proxy: BALANCER: (balancer://wlb). All w=
orkers are in error state for route (wt1)
[Tue May 29 14:54:40 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header
[Tue May 29 14:54:40 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Tue May 29 14:54:40 2012] [error] (70007)The timeout specified has expired=
: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed
[Tue May 29 15:05:15 2012] [error] [client 200.251.3.133] File does not exi=
st: E:/Apache/htdocs/favicon.ico
[Tue May 29 15:07:15 2012] [error] [client 10.45.6.54] File does not exist:=
 E:/Apache/htdocs/favicon.ico
[Tue May 29 15:17:17 2012] [error] [client 10.45.8.22] File does not exist:=
 E:/Apache/htdocs/favicon.ico
[Tue May 29 15:29:43 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header
[Tue May 29 15:29:43 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Tue May 29 15:29:43 2012] [error] (70007)The timeout specified has expired=
: proxy: dialog to 10.11.102.223:9109 (10.11.102.223) failed
[Tue May 29 15:29:44 2012] [error] proxy: BALANCER: (balancer://wlb). All w=
orkers are in error state for route (wt2)
[Tue May 29 15:29:58 2012] [error] [client 10.45.7.225] File does not exist=
: E:/Apache/htdocs/favicon.ico
[Tue May 29 15:48:03 2012] [error] [client 10.45.7.230] File does not exist=
: E:/Apache/htdocs/favicon.ico
[Tue May 29 15:48:08 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header
[Tue May 29 15:48:08 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Tue May 29 15:48:08 2012] [error] (70007)The timeout specified has expired=
: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed
[Tue May 29 15:48:09 2012] [error] proxy: BALANCER: (balancer://wlb). All w=
orkers are in error state for route (wt1)
[Tue May 29 15:48:09 2012] [error] proxy: BALANCER: (balancer://wlb). All w=
orkers are in error state for route (wt1)
=3D=3D end apache log =3D=3D

In the Tomcat log we have:
=3D=3D begin tomcat log =3D=3D
29/05/2012 11:11:39 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 11:21:01 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:34:09 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:39:15 org.apache.jk.core.MsgContext action
AVISO: Unable to send headers
java.net.SocketException: Software caused connection abort: socket write er=
ror
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:537)
	at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:326)
	at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
	at org.apache.coyote.Response.action(Response.java:183)
	at org.apache.coyote.Response.sendHeaders(Response.java:379)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:30=
5)
	at org.apache.catalina.connector.OutputBuffer.close(OutputBuffer.java:273)
	at org.apache.catalina.connector.Response.finishResponse(Response.java:493=
)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:=
322)
	at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)
	at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)
	at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:774)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java=
:703)
	at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket=
.java:896)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo=
l.java:690)
	at java.lang.Thread.run(Thread.java:662)
29/05/2012 15:39:15 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:56:58 org.apache.jk.common.ChannelSocket processConnection
GRAVE: Error, processing connection
java.net.SocketException: Software caused connection abort: socket write er=
ror
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:537)
	at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:339)
	at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:774)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java=
:703)
	at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket=
.java:896)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo=
l.java:690)
	at java.lang.Thread.run(Thread.java:662)
29/05/2012 15:56:58 org.apache.jk.common.ChannelSocket processConnection
[...]
=3D=3D end tomcat log =3D=3D

Not sure if they are really related as the error messages from Apache and T=
omcat are not shown at the same time. These log files are from the same hos=
t.

Before configuring the Apache "ping" option and the Tomcat "connectionTimeo=
ut", different errors where being shown. Also, I have upgraded from Apache =
2.2.21 in the hope that application timeouts didn't make the node in the "e=
rror state" anymore.

This problem may have a bigger impact when we have more users using the app=
lication.

Hope someone can bring some light to this issue.
Today I'm going to alter the configuration and add the "disablereuse=3DOn" =
to try again to isolate the cause.

Thanks!
Roney


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 01:19:29 2012
Return-Path: <users-return-234535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 350AA9E6F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 01:19:29 +0000 (UTC)
Received: (qmail 86655 invoked by uid 500); 30 May 2012 01:19:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86543 invoked by uid 500); 30 May 2012 01:19:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86534 invoked by uid 99); 30 May 2012 01:19:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 01:19:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of roney.stein@sondait.com.br designates 216.32.180.13 as permitted sender)
Received: from [216.32.180.13] (HELO va3outboundpool.messaging.microsoft.com) (216.32.180.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 01:19:17 +0000
Received: from mail130-va3-R.bigfish.com (10.7.14.235) by
 VA3EHSOBE005.bigfish.com (10.7.40.25) with Microsoft SMTP Server id
 14.1.225.23; Wed, 30 May 2012 01:18:32 +0000
Received: from mail130-va3 (localhost [127.0.0.1])	by
 mail130-va3-R.bigfish.com (Postfix) with ESMTP id 72B16340313	for
 <users@tomcat.apache.org>; Wed, 30 May 2012 01:18:32 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:70.37.151.141;KIP:(null);UIP:(null);IPV:NLI;H:GRUPRD8002HT001.lamprd80.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -11
X-BigFish: PS-11(zzbb2dIc89bh103dK542M4015I62a3Izz1202hzz8275dhz2fh2a8h668h839hd25hf0ah)
Received-SPF: pass (mail130-va3: domain of sondait.com.br designates 70.37.151.141 as permitted sender) client-ip=70.37.151.141; envelope-from=roney.stein@sondait.com.br; helo=GRUPRD8002HT001.lamprd80.prod.outlook.com ;.outlook.com ;
Received: from mail130-va3 (localhost.localdomain [127.0.0.1]) by mail130-va3
 (MessageSwitch) id 1338340710647076_28894; Wed, 30 May 2012 01:18:30 +0000
 (UTC)
Received: from VA3EHSMHS013.bigfish.com (unknown [10.7.14.247])	by
 mail130-va3.bigfish.com (Postfix) with ESMTP id 9103920046	for
 <users@tomcat.apache.org>; Wed, 30 May 2012 01:18:30 +0000 (UTC)
Received: from GRUPRD8002HT001.lamprd80.prod.outlook.com (70.37.151.141) by
 VA3EHSMHS013.bigfish.com (10.7.99.23) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Wed, 30 May 2012 01:18:30 +0000
Received: from GRUPRD8002MB102.lamprd80.prod.outlook.com ([169.254.6.23]) by
 GRUPRD8002HT001.lamprd80.prod.outlook.com ([10.16.246.206]) with mapi id
 14.15.0074.002; Wed, 30 May 2012 01:18:52 +0000
From: Roney Duilio Stein <roney.stein@sondait.com.br>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: AJP communication failures
Thread-Topic: AJP communication failures
Thread-Index: Ac09/C2MKUqShB+OSIiKA6dTx6s9RgABbg1g
Date: Wed, 30 May 2012 01:18:51 +0000
Message-ID: <DBD548D0413B374687D298527CDF789A02D0B8@GRUPRD8002MB102.lamprd80.prod.outlook.com>
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
In-Reply-To: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.16.246.8]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: sondait.com.br
X-Virus-Checked: Checked by ClamAV on apache.org

I forgot to mention that these errors are infrequent, 6 per day on average.=
 Usually everything works fine, sometimes these errors happens and put the =
worker in error state.
However, system load is still very low.

Thanks,
Roney


-----Original Message-----
From: Roney Duilio Stein [mailto:roney.stein@sondait.com.br]=20
Sent: ter=E7a-feira, 29 de maio de 2012 21:36
To: users@tomcat.apache.org
Subject: AJP communication failures

Hello.

Hope anyone there can help me with this issue. I'm dealing with this for th=
e past 2 weeks and cannot solve it completely nor locate the root cause.=20

I have an environment with 2 boxes load balanced with mod_proxy_ajp. Each b=
ox have 1 Apache HTTP and 1 Tomcat. To illustrate this:

Box A:
 . Tomcat A (6.0.29, x64)
 . Apache A (2.2.22)

Box B:
 . Tomcat B (6.0.29, x64)
 . Apache B (2.2.22)

Apache A and B have identical setup, each one balances to both Tomcat A and=
 B.

Also, there's a third application in Box C with another application being p=
roxied by Apache A and Apache B.
Box C:
 . Tomcat C (6.0.20, x86)

All boxes runs Windows 2008 R2 x64, have the Windows Firewall started but n=
ot enabled.
Box A and Box B are part of a Windows NLB Domain, but all references in the=
 proxy configuration are made using the hosts private IP addresses. Users u=
se the NLB IP address to connecto to Apache.

Apache proxy is configured like:
=3D=3D begin httpd.conf =3D=3D
Timeout 600
LimitRequestFieldSize 20480
ProxyIOBufferSize 21504
ProxyRequests Off
ProxyPreserveHost On
<Proxy *>
  Order deny,allow
  Allow from all
</Proxy>
<Proxy balancer://wlb>
  BalancerMember ajp://10.11.102.224:9109 route=3Dwt1 loadfactor=3D50 max=
=3D85 ttl=3D120 retry=3D5 connectiontimeout=3D5000ms ping=3D5000ms
  BalancerMember ajp://127.0.0.1:9109 route=3Dwt2 loadfactor=3D50 max=3D85 =
ttl=3D120 retry=3D5 connectiontimeout=3D5000ms ping=3D5000ms </Proxy> Proxy=
Pass /app1 balancer://wlb/app1 stickysession=3DJSESSIONID nofailover=3DOn P=
roxyPass /app2 ajp://10.11.102.219:8009/app2 =3D=3D end httpd.conf =3D=3D

Tomcat A and Tomcat B AJP connector is configured like:
<Connector port=3D"9109" protocol=3D"AJP/1.3" redirectPort=3D"8443" packetS=
ize=3D"22528" maxThreads=3D"200" connectionTimeout=3D"120000"/>

Tomcat C is configured like:
<Connector port=3D"8009" protocol=3D"AJP/1.3" redirectPort=3D"8443" />

The load is not high and there are a few users using the applications. This=
 is the production environment, I could not trace an operation to reproduce=
 this behavior in a controlled environment.
The "Box C" application "app2" shown above runs fine, not a single error me=
ssage.

The timeout parameters for app1 (Tomcat A and B) were configured in an atte=
mpt to solve the problem shown here. When using the default (no connectiont=
imeout, no ping, no ttl, no retry) other communications failures were happe=
ning.

Now, the problem: the AJP communication between Apache A/B and Tomcat A/B i=
s bad. The following can be seen in the Apache logs:

=3D=3D begin apache log =3D=3D
[Tue May 29 14:43:59 2012] [error] (OS 10060)A connection attempt failed be=
cause the connected party did not properly respond after a period of time, =
or established connection failed because connected host has failed to respo=
nd.  : ajp_ilink_receive() can't receive header [Tue May 29 14:43:59 2012] =
[error] ajp_read_header: ajp_ilink_receive failed [Tue May 29 14:43:59 2012=
] [error] (70007)The timeout specified has expired: proxy: dialog to 127.0.=
0.1:9109 (127.0.0.1) failed [Tue May 29 14:44:42 2012] [error] [client 10.4=
5.7.78] File does not exist: E:/Apache/htdocs/favicon.ico [Tue May 29 14:45=
:08 2012] [error] [client 10.45.6.233] File does not exist: E:/Apache/htdoc=
s/favicon.ico [Tue May 29 14:45:17 2012] [error] [client 10.45.6.100] File =
does not exist: E:/Apache/htdocs/favicon.ico [Tue May 29 14:45:39 2012] [er=
ror] (OS 10060)A connection attempt failed because the connected party did =
not properly respond after a period of time, or established connection fail=
ed because connected host has failed to respond.  : ajp_ilink_receive() can=
't receive header [Tue May 29 14:45:39 2012] [error] ajp_read_header: ajp_i=
link_receive failed [Tue May 29 14:45:39 2012] [error] (70007)The timeout s=
pecified has expired: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed [T=
ue May 29 14:45:39 2012] [error] proxy: BALANCER: (balancer://wlb). All wor=
kers are in error state for route (wt1) [Tue May 29 14:54:40 2012] [error] =
(OS 10060)A connection attempt failed because the connected party did not p=
roperly respond after a period of time, or established connection failed be=
cause connected host has failed to respond.  : ajp_ilink_receive() can't re=
ceive header [Tue May 29 14:54:40 2012] [error] ajp_read_header: ajp_ilink_=
receive failed [Tue May 29 14:54:40 2012] [error] (70007)The timeout specif=
ied has expired: proxy: dialog to 127.0.0.1:9109 (127.0.0.1) failed [Tue Ma=
y 29 15:05:15 2012] [error] [client 200.251.3.133] File does not exist: E:/=
Apache/htdocs/favicon.ico [Tue May 29 15:07:15 2012] [error] [client 10.45.=
6.54] File does not exist: E:/Apache/htdocs/favicon.ico [Tue May 29 15:17:1=
7 2012] [error] [client 10.45.8.22] File does not exist: E:/Apache/htdocs/f=
avicon.ico [Tue May 29 15:29:43 2012] [error] (OS 10060)A connection attemp=
t failed because the connected party did not properly respond after a perio=
d of time, or established connection failed because connected host has fail=
ed to respond.  : ajp_ilink_receive() can't receive header [Tue May 29 15:2=
9:43 2012] [error] ajp_read_header: ajp_ilink_receive failed [Tue May 29 15=
:29:43 2012] [error] (70007)The timeout specified has expired: proxy: dialo=
g to 10.11.102.223:9109 (10.11.102.223) failed [Tue May 29 15:29:44 2012] [=
error] proxy: BALANCER: (balancer://wlb). All workers are in error state fo=
r route (wt2) [Tue May 29 15:29:58 2012] [error] [client 10.45.7.225] File =
does not exist: E:/Apache/htdocs/favicon.ico [Tue May 29 15:48:03 2012] [er=
ror] [client 10.45.7.230] File does not exist: E:/Apache/htdocs/favicon.ico=
 [Tue May 29 15:48:08 2012] [error] (OS 10060)A connection attempt failed b=
ecause the connected party did not properly respond after a period of time,=
 or established connection failed because connected host has failed to resp=
ond.  : ajp_ilink_receive() can't receive header [Tue May 29 15:48:08 2012]=
 [error] ajp_read_header: ajp_ilink_receive failed [Tue May 29 15:48:08 201=
2] [error] (70007)The timeout specified has expired: proxy: dialog to 127.0=
.0.1:9109 (127.0.0.1) failed [Tue May 29 15:48:09 2012] [error] proxy: BALA=
NCER: (balancer://wlb). All workers are in error state for route (wt1) [Tue=
 May 29 15:48:09 2012] [error] proxy: BALANCER: (balancer://wlb). All worke=
rs are in error state for route (wt1) =3D=3D end apache log =3D=3D

In the Tomcat log we have:
=3D=3D begin tomcat log =3D=3D
29/05/2012 11:11:39 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 11:21:01 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:34:09 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:39:15 org.apache.jk.core.MsgContext action
AVISO: Unable to send headers
java.net.SocketException: Software caused connection abort: socket write er=
ror
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:537)
	at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:326)
	at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
	at org.apache.coyote.Response.action(Response.java:183)
	at org.apache.coyote.Response.sendHeaders(Response.java:379)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:30=
5)
	at org.apache.catalina.connector.OutputBuffer.close(OutputBuffer.java:273)
	at org.apache.catalina.connector.Response.finishResponse(Response.java:493=
)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:=
322)
	at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)
	at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)
	at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:774)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java=
:703)
	at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket=
.java:896)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo=
l.java:690)
	at java.lang.Thread.run(Thread.java:662)
29/05/2012 15:39:15 org.apache.jk.common.ChannelSocket processConnection
AVISO: processCallbacks status 2
29/05/2012 15:56:58 org.apache.jk.common.ChannelSocket processConnection
GRAVE: Error, processing connection
java.net.SocketException: Software caused connection abort: socket write er=
ror
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:537)
	at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:339)
	at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:774)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java=
:703)
	at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket=
.java:896)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo=
l.java:690)
	at java.lang.Thread.run(Thread.java:662)
29/05/2012 15:56:58 org.apache.jk.common.ChannelSocket processConnection [.=
..] =3D=3D end tomcat log =3D=3D

Not sure if they are really related as the error messages from Apache and T=
omcat are not shown at the same time. These log files are from the same hos=
t.

Before configuring the Apache "ping" option and the Tomcat "connectionTimeo=
ut", different errors where being shown. Also, I have upgraded from Apache =
2.2.21 in the hope that application timeouts didn't make the node in the "e=
rror state" anymore.

This problem may have a bigger impact when we have more users using the app=
lication.

Hope someone can bring some light to this issue.
Today I'm going to alter the configuration and add the "disablereuse=3DOn" =
to try again to isolate the cause.

Thanks!
Roney


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 07:39:10 2012
Return-Path: <users-return-234536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 462E49281
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 07:39:10 +0000 (UTC)
Received: (qmail 11829 invoked by uid 500); 30 May 2012 07:39:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11438 invoked by uid 500); 30 May 2012 07:38:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11349 invoked by uid 99); 30 May 2012 07:38:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:38:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:38:48 +0000
Received: by eaak12 with SMTP id k12so2268151eaa.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 00:38:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=C8aVufBZJhHTr0v82ATQ0AXbh8IllQz6p9SBvp1XmPs=;
        b=INCNZJ/wfrGnQuTqvUH86gjm4gGIHUM1XHu2cK/3RSnPiKXf5yULw3096Ej/aAirIG
         B4ZzHrZ/9uzBsBktU2TBc2CNt1wP1Y23gS/2IonbUmMTEp7a3JZ8qtaByjZgoD6JuT3X
         4tpwSy1MLj7uIE2AiLn9vYcvvmYhS70aMcSEE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=C8aVufBZJhHTr0v82ATQ0AXbh8IllQz6p9SBvp1XmPs=;
        b=iq5RQ+lARRptRi19aW/6ERKW+sPNR1J70W/bIvi0iidQu7QbWkvohI50/SdP9gQu4H
         1b2HG8WFHsBYx6FvZGNpbnoQKz5LMkEYx2luPo8lgFT1qFaNdWfveO6KQnWiUM4WT0wu
         ssUzXMLoU6pWWx2OVjJ8hk8afpPvhmkbcvLdklcN1fchj7tUAM+flk2PHMZr+I6OOgZu
         0hz/zdvoYLppw8s9bHMqDy/X1iuYmHy2UeFMys9Pom1gqH1zg8I5VMFYRYJCzlRq3YUR
         jgGlSl2FdlNaQ1nXDzknkAWLLwW/6E2d/esyGMaZIuIHN7VVnGrAylKT9R9KQzZbcRvT
         T5Gw==
Received: by 10.14.96.142 with SMTP id r14mr5979791eef.46.1338363505616;
        Wed, 30 May 2012 00:38:25 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id u7sm57320163eeb.7.2012.05.30.00.38.23
        (version=SSLv3 cipher=OTHER);
        Wed, 30 May 2012 00:38:24 -0700 (PDT)
Message-ID: <4FC5CE72.9050207@pidster.com>
Date: Wed, 30 May 2012 08:38:26 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war reload
References: <CBEA90DC.20D11%kevin@webkrew.com>
In-Reply-To: <CBEA90DC.20D11%kevin@webkrew.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig8C0655746E7C6900EAB783A3"
X-Gm-Message-State: ALoCoQnnwO7xlCSaP379kB3Td0PZk0BC49e5P9lp5t8hyVm3HkJgSZLyZikndqsJDEUmxEK+OLt3
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig8C0655746E7C6900EAB783A3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 29/05/2012 20:50, Kevin wrote:
>=20
>=20
> On 5/29/12 11:09 AM, "Christopher Schultz" <chris@christopherschultz.ne=
t>
> wrote:
>=20
> Kevin,
>=20
> (FYI these are always a PITA to diagnose...)
>=20
> On 5/29/12 11:03 AM, Kevin wrote:
>>>> We have a cluster of tomcat servers being used on a very high
>>>> volume website. We've noticed that for the first 5-6 hours after an
>>>> application re-load that Full GC will run every 2 minutes pausing
>>>> the application for anywhere between 5 and 20 seconds. After 5-6
>>>> hours the full GC will no longer run until tomcat is reloaded.
>>>> This behavior is repeatable.
>>>>
>>>> We discounted our EhCache settings as potential issue because
>>>> tomcat can be killed without this issue showing up.  It's not until
>>>> we actually reload the WAR with changes (clearing the work
>>>> directory) and restart tomcat that this issue shows up.  Traffic
>>>> level isn't a factor we'll go through our peak hours with no
>>>> problem.
>=20
> All good things to know.
>=20
>>>> The servers are all dual quad core with 32GB of RAM running Centos
>>>> 5 and tomcat 6.0.18.  We've attempted every suggested GC setting
>>>> change suggested on the net and by developers and system
>>>> administrators.
>=20
> Did you try looking at what the cause might be, or just blindly apply
> suggestions to see if something would stick?
>=20
>> Initially we looked closely at it trying to solve the problem as time =
wore
>> on we tried anything.  This has been going on for months now.
>=20
>=20
>=20
>>>> Our java opts are being played with on a daily basis however here
>>>> are the settings that correspond to the sample GC log below:
>>>>
>>>>
>>>> -server -Xmx27g -Xms27g  -XX:+DisableExplicitGC
>>>> -XX:+UseConcMarkSweepGC -XX:+PrintTenuringDistribution
>>>> -Dsun.rmi.dgc.client.gcInterval=3D900000
>>>> -Dsun.rmi.dgc.server.gcInterval=3D900000 -XX:NewSize=3D8g
>>>> -XX:SurvivorRatio=3D16 -verbose:gc -XX:+PrintGCTimeStamps
>>>> -XX:+PrintGCDetails
>=20
> A new size of 8GiB seems high to me, but I've never run with a total
> heap size of anything nearly as large as 27GiB, so maybe that's a
> reasonable size. My opinion here is probably irrelevant.
>=20
>>>> 215.501: [GC 215.504: [ParNew Desired survivor size 238583808
>>>> bytes, new threshold 15 (max 15) - age   1:   50457968 bytes,
>>>> 50457968 total : 7456799K->111048K(7922624K), 0.0617110 secs]
>>>> 8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=3D0.68
>>>> sys=3D0.00, real=3D0.07 secs]
>=20
> Odd that user+sys < real. Hmm.
>=20
> [...]
>=20
>>>> 316.456: [GC 316.459: [ParNew Desired survivor size 238583808
>>>> bytes, new threshold 15 (max 15) - age   1:   41430416 bytes,
>>>> 41430416 total - age   3:   22728376 bytes,   64158792 total - age
>>>> 5:   19599960 bytes,   83758752 total - age   6:   21847616 bytes,
>>>> 105606368 total - age   7:   27667592 bytes,  133273960 total - age
>>>> 8:      10904 bytes,  133284864 total - age   9:   31824256 bytes,
>>>> 165109120 total : 7650333K->215213K(7922624K), 0.1332630 secs]
>>>> 8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=3D1.45
>>>> sys=3D0.01, real=3D0.14 secs]
>=20
> 1.45 seconds for a full-GC isn't anywhere near the 5s-20s claimed
> above. Have you been able to actually instrument a 5s-20s GC-pause?
> Or, are you saying that your webapp appears to stall for that long and
> those observances coincide with full-GC runs?
>=20
>>>> 343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K),
>>>> 3.4129290 secs] 2884580K->1312570K(27845568K), [CMS Perm :
>>>> 83964K->47203K(83968K)], 3.4168600 secs] [Times: user=3D3.87
>>>> sys=3D0.02, real=3D3.41 secs]
>=20
> Also relatively short.
>=20
>> They fluctuate.=20
>=20
>=20
>>>> **Last Full GC**
>>>>
>>>> 20517.892: [GC 20517.898: [ParNew Desired survivor size 238583808
>>>> bytes, new threshold 15 (max 15) - age   1:   33948208 bytes,
>>>> 33948208 total - age   2:      88280 bytes,   34036488 total - age
>>>> 3:   19872472 bytes,   53908960 total - age   4:   16072608 bytes,
>>>> 69981568 total - age   5:   15718712 bytes,   85700280 total - age
>>>> 6:   15771016 bytes,  101471296 total - age   7:   16895976 bytes,
>>>> 118367272 total - age   8:   24233728 bytes,  142601000 total :
>>>> 7618727K->200950K(7922624K), 0.1728420 secs]
>>>> 16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=3D2.21
>>>> sys=3D0.01, real=3D0.18 secs]
>=20
> Note that the above is not a "Full GC". This one /is/:
>=20
>>>> 20526.469: [Full GC 20526.475: [CMS:
>>>> 9175755K->9210800K(19922944K), 33.1161300 secs]
>>>> 13632232K->9210800K(27845568K), [CMS Perm :
>>>> 83967K->53332K(83968K)], 33.1254170 secs] [Times: user=3D33.12
>>>> sys=3D0.02, real=3D33.12 secs]
>=20
> Okay, that one's a doosey.
>=20
> It's weird that it looks like after the full GC, the heap has *lost*
> some space ("CMS: 9175755K->9210800K"). Can you watch the logs and
> take a heap dump (which may take a LONG time with such a big heap, so
> be prepared for another long pause) after one of these full GCs?
>=20
> It would be better to get a heap dump both before AND after the full
> GC, but that can ruin your performance if you enable those automated
> GC options.
>=20
>> We can run this after our next code release in two days.
>=20
>=20
>>>> Any help would be greatly appreciated.
>=20
> Are you populating huge caches on startup or anything like that?
> Generational GC performance is related to the number of surviving
> objects that have to be moved from one generation to the next, so if
> you have a huge population of objects surviving each collection one
> after the other (which is what I might expect if you had an enormous
> cache being fulled all at once) then your performance will suck for a
> while until those objects are tenured enough to avoid periodic
> collections.
>=20
>> This was our initial assumption however since we're using an in memory=

>> EhCache we would expect this issue to re-accure when tomcat is restart=
ed.
>> It doesn't.  It'll only show up if we stop tomcat, reload the WAR and
>> clean the work directory.

Which version of EhCache?  How large is the cache, are you using RMI
replication or disk overflow?


p


> Are you able to inspect the various generations before and after these
> pauses? I'd be interested to see if you have a huge population of
> objects being tenured at once and what types of objects they are (they
> might be something obvious like instances of our.big.fat.CacheEntry or
> something like that).
>=20
>> We'll give it a try
>=20
>> Thanks
>=20
>=20
>=20
> -chris
>>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enig8C0655746E7C6900EAB783A3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPxc53AAoJEGoM2OGpOvr9QMwQAKiPfjRap9XooEulLdTJAWj8
xVF9u2cTy2fhNhT6m3+/HC8vOd5E6o+CIh2CVAkCR1JchASuevHwBRgWo7DJheXD
M4Ma2azh9tv4LNmmg9Y6LTQ6r52nhPtZeRMO/k+IeoWE3W4vYVfFIjLr0txxtapo
kcPjy+yTUNDdukAoZSTaP3XuNXc3dC6fkRd5ZG/oS0IBOeIQSEz7x1sS8ZXV8UkF
Q+Z5io+kBi0M32efvsqlBEcSPEiL/13WQCGZsI/HyOHRyHDQUn5Cl4vivVVAEXxi
3uNbm7JN6UiZQCMAoLOfpA8qAXj7cbnYVrKOd6XS47/LS1eqXU3oZBYq1CWWEdt8
+CEBmSziola6cQu1x2BuCeOYPEl54hpNih6Ovxv6Jv4dgph/Pbqj85iAV/L9Y9ZC
Is59En6U8GPzrXSPTnhLEGLEA/mfuUsuxsI/jzz38r6k0mjLUOah6vPyZ75TGPze
l/SKPjWp18ynassBppH66mM5laaeRDukXwKQbonyQMOJHTKi0qLUujjcpzhfI+c6
XwmdrmjFBFXemoXsx7NlBtjHat7ivp2jGJOz9kjLztcHFFpPj4vlEZDWPFnVPCrV
3yfx47fFxz+5k2EK36K4/hSfkOPQj/3YKcybvENa3z53jTHMR7morN3lmT9Db2DL
GDnZfJ77m8YuqEsTH1AB
=gAxS
-----END PGP SIGNATURE-----

--------------enig8C0655746E7C6900EAB783A3--

From users-return-234537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 07:43:36 2012
Return-Path: <users-return-234537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A731892D2
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 07:43:36 +0000 (UTC)
Received: (qmail 27060 invoked by uid 500); 30 May 2012 07:43:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26944 invoked by uid 500); 30 May 2012 07:43:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26931 invoked by uid 99); 30 May 2012 07:43:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:43:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:43:25 +0000
Received: by eaak12 with SMTP id k12so2270441eaa.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 00:43:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=gcpssE+zlO7QtcSp60IOmIwNmzz+Vg8a+ecgbGhde/A=;
        b=gJCXBDmCpX+la8bHzwRDYkEjQwgbOhmbtImBaaFCnAuDVzUIjXBGqh8MOqiFR9Kvmf
         6wBlhuE7DK7T3dqAh+gq6+pb4DfALQHEebgIQelmfJWQcD+YT/93Em0Fyfay3Cl7BO23
         7JaYLmC9y3U1Xtvu2d3TNmi3wZKS36V/nlbFI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=gcpssE+zlO7QtcSp60IOmIwNmzz+Vg8a+ecgbGhde/A=;
        b=RJun0UKuex7ZTFih1PC/kYiSw9BZQu6QMz+JQQT2Wi4d7np4sPsEZDyCavGgB7wlf1
         Uoya/W4bbGlYmEDnuJWxFwY2Mk9alhtB42YVNMe5d7TrWA09CL+VqzKvI2qK67FHpjIy
         MGJ5MIRXxZJA9cnYw1uKuCb32luAk5pEaqYeWrMoU8AMgv1N711MP9vdrQc1korgRWgB
         hXsP7jhcoC41HjfH7tihaR0NH8ZljkZiB1uWxm4Y1kS5bpvb2L97NbuwQ4/eCpcMXZEP
         hQ9S9bxG2u6AVKYo33IORKr9X+6Qk7mbV7ssTPMFe/2FDwp8fIIzYaqDhHfc9Ng+JcQd
         iMSA==
Received: by 10.14.98.136 with SMTP id v8mr4554183eef.145.1338363784415;
        Wed, 30 May 2012 00:43:04 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id z5sm57381332eem.3.2012.05.30.00.43.02
        (version=SSLv3 cipher=OTHER);
        Wed, 30 May 2012 00:43:03 -0700 (PDT)
Message-ID: <4FC5CF8E.50802@pidster.com>
Date: Wed, 30 May 2012 08:43:10 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war reload
References: <CBEA4F6B.20CDB%kevin@webkrew.com>
In-Reply-To: <CBEA4F6B.20CDB%kevin@webkrew.com>
X-Enigmail-Version: 1.4.1
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig80E4393914419EDB3C775E0B"
X-Gm-Message-State: ALoCoQkhxxPJ1ej5Isvk7ewcHP9WhgjOXQDsKuBd01usWy15MaNipOmhjGvr9DsPZdUDbg6u2AZ8
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig80E4393914419EDB3C775E0B
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 29/05/2012 16:03, Kevin wrote:
> Hi
>=20
> We have a cluster of tomcat servers being used on a very high volume
> website. We've noticed that for the first 5-6 hours after an applicatio=
n
> re-load that Full GC will run every 2 minutes pausing the application f=
or
> anywhere between 5 and 20 seconds. After 5-6 hours the full GC will no
> longer run until tomcat is reloaded.  This behavior is repeatable.
>
> We discounted our EhCache settings as potential issue because tomcat ca=
n
> be killed without this issue showing up.  It's not until we actually
> reload the WAR with changes (clearing the work directory) and restart
> tomcat that this issue shows up.  Traffic level isn't a factor we'll go=

> through our peak hours with no problem.
>=20
>=20
> The servers are all dual quad core with 32GB of RAM running Centos 5 an=
d
> tomcat 6.0.18.  We've attempted every suggested GC setting change
> suggested on the net and by developers and system administrators.  Our
> java opts are being played with on a daily basis however here are the
> settings that correspond to the sample GC log below:

Exactly which version of Java are you using?


> -server -Xmx27g -Xms27g  -XX:+DisableExplicitGC -XX:+UseConcMarkSweepGC=

> -XX:+PrintTenuringDistribution  -Dsun.rmi.dgc.client.gcInterval=3D90000=
0
> -Dsun.rmi.dgc.server.gcInterval=3D900000 -XX:NewSize=3D8g -XX:SurvivorR=
atio=3D16
> -verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails

You are doing a hot deployment with a 27G heap?

How big is permgen?

Are you completely sure the application doesn't have any memory leaks?

Have you tried running your application on a more recent version of Tomca=
t?


p


> 215.501: [GC 215.504: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:   50457968 bytes,   50457968 total
> : 7456799K->111048K(7922624K), 0.0617110 secs]
> 8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=3D0.68 sys=3D=
0.00,
> real=3D0.07 secs]
>=20
> 215.577: [GC 215.579: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:      66288 bytes,      66288 total
> - age   2:   50219144 bytes,   50285432 total
> : 114868K->66525K(7922624K), 0.0381810 secs]
> 1272975K->1224632K(27845568K), 0.0413630 secs] [Times: user=3D0.46 sys=3D=
0.00,
> real=3D0.04 secs]
>=20
> 236.177: [GC 236.180: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:   45071064 bytes,   45071064 total
> - age   2:      26112 bytes,   45097176 total
> - age   3:   34785960 bytes,   79883136 total
> : 7523165K->110355K(7922624K), 0.0921350 secs]
> 8681272K->1268462K(27845568K), 0.0969290 secs] [Times: user=3D0.95 sys=3D=
0.01,
> real=3D0.10 secs]
>=20
> ...
>=20
> 316.456: [GC 316.459: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:   41430416 bytes,   41430416 total
> - age   3:   22728376 bytes,   64158792 total
> - age   5:   19599960 bytes,   83758752 total
> - age   6:   21847616 bytes,  105606368 total
> - age   7:   27667592 bytes,  133273960 total
> - age   8:      10904 bytes,  133284864 total
> - age   9:   31824256 bytes,  165109120 total
> : 7650333K->215213K(7922624K), 0.1332630 secs]
> 8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=3D1.45 sys=3D=
0.01,
> real=3D0.14 secs]
>=20
> 338.851: [GC 338.854: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:   40678840 bytes,   40678840 total
> - age   2:   27075936 bytes,   67754776 total
> - age   4:   20399720 bytes,   88154496 total
> - age   6:   19271008 bytes,  107425504 total
> - age   7:   21655032 bytes,  129080536 total
> - age   8:   27118800 bytes,  156199336 total
> - age   9:      10904 bytes,  156210240 total
> - age  10:   31747808 bytes,  187958048 total
> : 7671853K->285541K(7922624K), 0.1456470 secs]
> 8829960K->1443648K(27845568K), 0.1503540 secs] [Times: user=3D1.62 sys=3D=
0.01,
> real=3D0.15 secs]
> 343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K), 3.41292=
90
> secs] 2884580K->1312570K(27845568K), [CMS Perm : 83964K->47203K(83968K)=
],
> 3.4168600 secs] [Times: user=3D3.87 sys=3D0.02, real=3D3.41 secs]
>=20
> **Last Full GC**
>=20
> 20517.892: [GC 20517.898: [ParNew
> Desired survivor size 238583808 bytes, new threshold 15 (max 15)
> - age   1:   33948208 bytes,   33948208 total
> - age   2:      88280 bytes,   34036488 total
> - age   3:   19872472 bytes,   53908960 total
> - age   4:   16072608 bytes,   69981568 total
> - age   5:   15718712 bytes,   85700280 total
> - age   6:   15771016 bytes,  101471296 total
> - age   7:   16895976 bytes,  118367272 total
> - age   8:   24233728 bytes,  142601000 total
> : 7618727K->200950K(7922624K), 0.1728420 secs]
> 16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=3D2.21
> sys=3D0.01, real=3D0.18 secs]
>=20
> 20526.469: [Full GC 20526.475: [CMS: 9175755K->9210800K(19922944K),
> 33.1161300 secs] 13632232K->9210800K(27845568K), [CMS Perm :
> 83967K->53332K(83968K)], 33.1254170 secs] [Times: user=3D33.12 sys=3D0.=
02,
> real=3D33.12 secs]
>=20
>=20
>=20
> **Log samples after Full GC no longer runs**
>=20
> 74412.335: [GC 74412.340: [ParNew
> Desired survivor size 238583808 bytes, new threshold 11 (max 15)
> - age   1:   43614032 bytes,   43614032 total
> - age   2:   41194144 bytes,   84808176 total
> - age   3:   27392888 bytes,  112201064 total
> - age   5:   22753896 bytes,  134954960 total
> - age   7:   24439608 bytes,  159394568 total
> - age   8:   24015704 bytes,  183410272 total
> - age   9:   24080848 bytes,  207491120 total
> - age  10:   24715800 bytes,  232206920 total
> - age  11:   21844024 bytes,  254050944 total
> : 7813778K->312911K(7922624K), 0.3329150 secs]
> 24426351K->16967791K(27845568K), 0.3416730 secs] [Times: user=3D3.69
> sys=3D0.02, real=3D0.35 secs]
>=20
> 74445.007: [GC 74445.012: [ParNew
> Desired survivor size 238583808 bytes, new threshold 11 (max 15)
> - age   1:   42690688 bytes,   42690688 total
> - age   2:   37055848 bytes,   79746536 total
> - age   3:   37107464 bytes,  116854000 total
> - age   4:   26223088 bytes,  143077088 total
> - age   6:   22478672 bytes,  165555760 total
> - age   8:   24259744 bytes,  189815504 total
> - age   9:   23862672 bytes,  213678176 total
> - age  10:   23911864 bytes,  237590040 total
> - age  11:   24496888 bytes,  262086928 total
> : 7769547K->344030K(7922624K), 0.3088470 secs]
> 24424428K->17021685K(27845568K), 0.3175830 secs] [Times: user=3D3.57
> sys=3D0.01, real=3D0.32 secs]
>=20
> 74475.169: [GC 74475.175: [ParNew
> Desired survivor size 238583808 bytes, new threshold 10 (max 15)
> - age   1:   42011656 bytes,   42011656 total
> - age   2:   33147608 bytes,   75159264 total
> - age   3:   32391640 bytes,  107550904 total
> - age   4:   36516584 bytes,  144067488 total
> - age   5:   25940856 bytes,  170008344 total
> - age   7:   22037464 bytes,  192045808 total
> - age   9:   24130040 bytes,  216175848 total
> - age  10:   23724672 bytes,  239900520 total
> - age  11:   23329640 bytes,  263230160 total
> : 7803184K->331046K(7922624K), 0.3091600 secs]
> 24480839K->17033619K(27845568K), 0.3179630 secs] [Times: user=3D3.56
> sys=3D0.01, real=3D0.32 secs]**Log samples after Full GC no longer runs=
**
>=20
> 74412.335: [GC 74412.340: [ParNew
> Desired survivor size 238583808 bytes, new threshold 11 (max 15)
> - age   1:   43614032 bytes,   43614032 total
> - age   2:   41194144 bytes,   84808176 total
> - age   3:   27392888 bytes,  112201064 total
> - age   5:   22753896 bytes,  134954960 total
> - age   7:   24439608 bytes,  159394568 total
> - age   8:   24015704 bytes,  183410272 total
> - age   9:   24080848 bytes,  207491120 total
> - age  10:   24715800 bytes,  232206920 total
> - age  11:   21844024 bytes,  254050944 total
> : 7813778K->312911K(7922624K), 0.3329150 secs]
> 24426351K->16967791K(27845568K), 0.3416730 secs] [Times: user=3D3.69
> sys=3D0.02, real=3D0.35 secs]
>=20
> 74445.007: [GC 74445.012: [ParNew
> Desired survivor size 238583808 bytes, new threshold 11 (max 15)
> - age   1:   42690688 bytes,   42690688 total
> - age   2:   37055848 bytes,   79746536 total
> - age   3:   37107464 bytes,  116854000 total
> - age   4:   26223088 bytes,  143077088 total
> - age   6:   22478672 bytes,  165555760 total
> - age   8:   24259744 bytes,  189815504 total
> - age   9:   23862672 bytes,  213678176 total
> - age  10:   23911864 bytes,  237590040 total
> - age  11:   24496888 bytes,  262086928 total
> : 7769547K->344030K(7922624K), 0.3088470 secs]
> 24424428K->17021685K(27845568K), 0.3175830 secs] [Times: user=3D3.57
> sys=3D0.01, real=3D0.32 secs]
>=20
> 74475.169: [GC 74475.175: [ParNew
> Desired survivor size 238583808 bytes, new threshold 10 (max 15)
> - age   1:   42011656 bytes,   42011656 total
> - age   2:   33147608 bytes,   75159264 total
> - age   3:   32391640 bytes,  107550904 total
> - age   4:   36516584 bytes,  144067488 total
> - age   5:   25940856 bytes,  170008344 total
> - age   7:   22037464 bytes,  192045808 total
> - age   9:   24130040 bytes,  216175848 total
> - age  10:   23724672 bytes,  239900520 total
> - age  11:   23329640 bytes,  263230160 total
> : 7803184K->331046K(7922624K), 0.3091600 secs]
> 24480839K->17033619K(27845568K), 0.3179630 secs] [Times: user=3D3.56
> sys=3D0.01, real=3D0.32 secs]
>=20
>=20
>=20
>=20
> Any help would be greatly appreciated.
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig80E4393914419EDB3C775E0B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJPxc+OAAoJEGoM2OGpOvr9lLEP/A88NCVlZApScClZr1JfCRmP
EnFMIdHrKQxcLB6/pNFw8/1MeRUfZa96jesgok6ZHg29mp86cPbmOeSGOemVLCwT
FJYNmbNeHtXUOaa4gz9As30CwZUG6cVCcdh7OyHc7LGuDSzYoumSewvnI9I63s5D
tiGLZthDyYJ6N9vQBKOG1XGiaWUwQb++wW9uWUIoDRgFyb0tjd/Pqafl++iMW8ff
WC1V+8/bmp1FgeiFCO3ocQtpk3xNTR4R1P6iIGVWqz3fB4/brHxNh0sjVbJaQx04
x+UUe44ZvFojOpbggMDSROdT0VqqS7EFSPRYIxOZlQ7ZNmtN9Nv/A3dxQh/qXHC6
a35+SCYYERbQfXTY5b7RJY5lqotZvw564RPhN0kJ4s1AUceR3JvMBonovAwMN6r+
7knXrflqtRNDLFKmyZF57EvrCWOK6/OHs60XEmo0PrrLzZ1AI2/GddnQcHOr5W84
IluKISK5JRhlfjFmZIeZxd5pHPEhGT4m8GMrNklxDxkNzprHQD75IGfwnlc6Khlj
wy66QH3uiDwT4oda3Krq3THBsTIILt9ulSfw0J6VRX5hXSs/1xm5OQxsR6pVdHFz
RuVp63BJLgkzrn3ZnAJ0dcrZ5hj2KSUtMcbNLt+U65jXDupO+/lVBWDqxPDKQRjO
r9QdtTW7DfAkrbdfNJn9
=PAnu
-----END PGP SIGNATURE-----

--------------enig80E4393914419EDB3C775E0B--

From users-return-234538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 07:49:08 2012
Return-Path: <users-return-234538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7B2492EE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 07:49:07 +0000 (UTC)
Received: (qmail 42553 invoked by uid 500); 30 May 2012 07:49:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42451 invoked by uid 500); 30 May 2012 07:49:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42423 invoked by uid 99); 30 May 2012 07:49:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:49:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 07:48:54 +0000
Received: from [192.168.245.129] (p549E8D2F.dip0.t-ipconnect.de [84.158.141.47])
	by tor.combios.es (Postfix) with ESMTPA id 24576DA0836
	for <users@tomcat.apache.org>; Wed, 30 May 2012 09:48:33 +0200 (CEST)
Message-ID: <4FC5D0CD.7070904@ice-sa.com>
Date: Wed, 30 May 2012 09:48:29 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] AJP communication failures
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
In-Reply-To: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Roney Duilio Stein wrote:

[lots of things related to the real issue]

> [Tue May 29 15:29:58 2012] [error] [client 10.45.7.225] File does not exist: E:/Apache/htdocs/favicon.ico

Maybe do yourself a small favor : copy E:/Apache/manual/images/favicon.ico to 
E:/Apache/htdocs/favicon.ico, and avoid these irrelevant and annoying log messages, while 
at the same time saving CPU cycles and bandwidth.

There are cleverer ways with Alias or 302's, but this is quick and dirty.
Browsers (or maybe just IE) request this thingy as a matter of fact for each directory, 
just to display the cute little icon in the URL bar. Nothing you can do about that.
But you can save your Apache a few disk lookups trying to find it and writing a log 
message; similarly, once a browser got it once, it will cache it, and not ask for it 
again. Everybody wins.
The triumph of looks over substance.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 09:23:28 2012
Return-Path: <users-return-234539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1093091AB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 09:23:28 +0000 (UTC)
Received: (qmail 75772 invoked by uid 500); 30 May 2012 09:23:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75191 invoked by uid 500); 30 May 2012 09:23:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75168 invoked by uid 99); 30 May 2012 09:23:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 09:23:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 09:23:10 +0000
Received: from [192.168.245.129] (p549E8D2F.dip0.t-ipconnect.de [84.158.141.47])
	by tor.combios.es (Postfix) with ESMTPA id 23A99DA0727
	for <users@tomcat.apache.org>; Wed, 30 May 2012 11:22:49 +0200 (CEST)
Message-ID: <4FC5E6E8.2030801@ice-sa.com>
Date: Wed, 30 May 2012 11:22:48 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: AJP communication failures
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
In-Reply-To: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi.

Thank you for all the very detailed information provided.

 From what I can see in the logs, at this point I would have to say that my impression is 
that this is a problem buried fairly deep in the TCP/IP stack, and both 
Apache+mod_proxy_ajp, and Tomcat, may just be suffering the consequences of an underlying 
  TCP/IP issue (or of a Windows NLB "feature").

In the logs, you have messages like :

java.net.SocketException: Software caused connection abort: socket write error

which is something that comes from the JVM running Tomcat (and even probably from native 
code in the JVM).

Similarly, messages in Apache httpd's logs like

[Tue May 29 15:29:43 2012] [error] (OS 10060)A connection attempt failed because the 
connected party did not properly respond after a period of time, or established connection 
failed because connected host has failed to respond.  : ajp_ilink_receive() can't receive 
header
[Tue May 29 15:29:43 2012] [error] ajp_read_header: ajp_ilink_receive failed
[Tue May 29 15:29:43 2012] [error] (70007)The timeout specified has expired: proxy: dialog 
to 10.11.102.223:9109 (10.11.102.223) failed

look to me like OS-level error conditions, just forwarded by Apache to the logs (at least 
the (OS 10060) prefix looks like a Windows error code).

I've read a bit about Windows NLB (just right now, to find out what it is), and it seems 
to me that there at least /a possibility/ that combining this with another kind of 
load-balancing (as you do with mod_proxy_ajp) may not be the most stable configuration.
 From the logs, it really looks as if both the Apache and Tomcat softwares occasionally 
find themselves with a suddenly non-existent connection, where ping packets are not being 
returned, and/or a read or write socket suddenly becomes unresponsive.

I know that you mentioned that these httpd/tomcat connections are being done on the 
respective hosts "private addresses", and I can see in the logs that the problems happen 
even on the host's local loop address 127.0.0.1. But on the other hand, setting up NLB 
seems to involve a common IP stack driver buried fairly deep in the protocol stack of each 
host (and "affinity" parameters), and who knows what that thing is doing, or not doing.

Just to give an idea - and I realise that this article may have no direct relevance 
whatsoever to the present issue - see : http://support.microsoft.com/kb/905179
In this case, they are talking about the installation of some software package resulting 
indirectly in shortening the packet MTU, and this indirectly causing problems with some 
webserver functions.  Just to say that you may be faced with some deep issue like this, 
because of the NLB implementation.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 12:59:17 2012
Return-Path: <users-return-234540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6774920D
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 12:59:16 +0000 (UTC)
Received: (qmail 9833 invoked by uid 500); 30 May 2012 12:59:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9618 invoked by uid 500); 30 May 2012 12:59:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9608 invoked by uid 99); 30 May 2012 12:59:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 12:59:13 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of roney.stein@sondait.com.br designates 65.55.88.14 as permitted sender)
Received: from [65.55.88.14] (HELO tx2outboundpool.messaging.microsoft.com) (65.55.88.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 12:59:05 +0000
Received: from mail256-tx2-R.bigfish.com (10.9.14.243) by
 TX2EHSOBE007.bigfish.com (10.9.40.27) with Microsoft SMTP Server id
 14.1.225.23; Wed, 30 May 2012 12:58:18 +0000
Received: from mail256-tx2 (localhost [127.0.0.1])	by
 mail256-tx2-R.bigfish.com (Postfix) with ESMTP id B47C2280287	for
 <users@tomcat.apache.org>; Wed, 30 May 2012 12:58:20 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:70.37.151.141;KIP:(null);UIP:(null);IPV:NLI;H:GRUPRD8002HT008.lamprd80.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -1
X-BigFish: PS-1(zz4015Izz1202hzzz2fh2a8h668h839h944hd25hf0ah)
Received-SPF: pass (mail256-tx2: domain of sondait.com.br designates 70.37.151.141 as permitted sender) client-ip=70.37.151.141; envelope-from=roney.stein@sondait.com.br; helo=GRUPRD8002HT008.lamprd80.prod.outlook.com ;.outlook.com ;
Received: from mail256-tx2 (localhost.localdomain [127.0.0.1]) by mail256-tx2
 (MessageSwitch) id 13383826999762_31491; Wed, 30 May 2012 12:58:19 +0000
 (UTC)
Received: from TX2EHSMHS018.bigfish.com (unknown [10.9.14.247])	by
 mail256-tx2.bigfish.com (Postfix) with ESMTP id EB1FB1E4004B	for
 <users@tomcat.apache.org>; Wed, 30 May 2012 12:58:18 +0000 (UTC)
Received: from GRUPRD8002HT008.lamprd80.prod.outlook.com (70.37.151.141) by
 TX2EHSMHS018.bigfish.com (10.9.99.118) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Wed, 30 May 2012 12:58:33 +0000
Received: from GRUPRD8002MB102.lamprd80.prod.outlook.com ([169.254.6.23]) by
 GRUPRD8002HT008.lamprd80.prod.outlook.com ([10.16.246.122]) with mapi id
 14.15.0074.002; Wed, 30 May 2012 12:58:35 +0000
From: Roney Duilio Stein <roney.stein@sondait.com.br>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: AJP communication failures
Thread-Topic: AJP communication failures
Thread-Index: Ac09/C2MKUqShB+OSIiKA6dTx6s9RgASZmwAAAdoqlA=
Date: Wed, 30 May 2012 12:58:34 +0000
Message-ID: <DBD548D0413B374687D298527CDF789A02D178@GRUPRD8002MB102.lamprd80.prod.outlook.com>
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
 <4FC5E6E8.2030801@ice-sa.com>
In-Reply-To: <4FC5E6E8.2030801@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.16.246.8]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: sondait.com.br
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Warnier,

The "disablereuse=3DOn" just made things worse, maybe due to the high frequ=
ency/quantity of opened connections.
I'll look on the possibility to disable the MS NLB.

Thanks,
Roney



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 14:08:29 2012
Return-Path: <users-return-234541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45522CFCA
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 14:08:29 +0000 (UTC)
Received: (qmail 13894 invoked by uid 500); 30 May 2012 14:08:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13834 invoked by uid 500); 30 May 2012 14:08:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13825 invoked by uid 99); 30 May 2012 14:08:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 14:08:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 14:08:17 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id GCkM1j0071swQuc53E7weM; Wed, 30 May 2012 14:07:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id GE7u1j01t38FjT13bE7wcs; Wed, 30 May 2012 14:07:56 +0000
Message-ID: <4FC629BF.9010703@christopherschultz.net>
Date: Wed, 30 May 2012 10:07:59 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
In-Reply-To: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ahmed,

On 5/29/12 9:29 AM, S Ahmed wrote:
> If my requirement for a hosted application is to give each
> customer a separate instance of mysql, I am curious how feasible
> that would be.

You can certainly do this.

> What is the memory footprint for a single connection to a
> database?

That depends a lot of which database you are using (MySQL connections
are fairly modest: the "retained size" of one of my MySQL
JDBC4Connection objects is 66k in an x86-64 environment with a 64-bit
Sun/Oracle JVM), what things you are having cached/pooled on the
client side, etc. You'd have to give us a lot more information about
your environment. Better yet, configure it the way you want it and use
a profiler to see how "big" the connections become.

> If I had 10K separate mysql instances, would it be feasible to
> create a pool of pools? i.e. a hashmap of connection pools?

That sounds like a lot of MySQL instances to be contacted by a single
application server. Do you need 10k separate customers all running in
the same webapp?

If my environment and requirements match yours, you'd need 10000 *
max_pool_size * 66KiB at peak usage. That's about 640MiB for each
connection you want in 10k pools. For a (uniform) max pool size of 4,
you'll need more than 2GiB of heap space just for connection pools.

Is that acceptable?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/GKb8ACgkQ9CaO5/Lv0PBmCACghH4L1ycmK1UwHHPq1aVu0Sxn
X2IAnjePQzdy5iMAL5pEIe0KgxRY1q8V
=Uieg
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 14:56:34 2012
Return-Path: <users-return-234542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF3199135
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 14:56:34 +0000 (UTC)
Received: (qmail 77035 invoked by uid 500); 30 May 2012 14:56:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76961 invoked by uid 500); 30 May 2012 14:56:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76951 invoked by uid 99); 30 May 2012 14:56:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 14:56:31 +0000
X-ASF-Spam-Status: No, hits=1.1 required=5.0
	tests=SPF_NEUTRAL,SUBJ_OBFU_PUNCT_FEW,SUBJ_OBFU_PUNCT_MANY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of nskarthik.k@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 14:56:25 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <nskarthik.k@gmail.com>)
	id 1SZkJg-00062x-DL
	for users@tomcat.apache.org; Wed, 30 May 2012 07:56:04 -0700
Date: Wed, 30 May 2012 07:56:04 -0700 (PDT)
From: "N.s.Karthik" <nskarthik.k@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1338389764389-4981517.post@n6.nabble.com>
Subject: org.apache.catalina.valves.RemoteHostValve  does this work ???
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi

Spec
JDK1.6
TC : tomcat 6.26
O/s win 7 /Linux (redhat)

I have configured the valve as follows  in  TC /conf/Context.xml

*<Valve className="org.apache.catalina.valves.RemoteHostValve" 
             allow="ai-itl-107" 
              deny="192.168.8.210" />*

On restart of the TC ... I am denied access at URL

*http://ai-itl-107:8080/*

as   HTTP 403 Error ???

Disabling this valve  the URL works and application is available normally.

I am confused


with regards
karthik


--
View this message in context: http://tomcat.10.n6.nabble.com/org-apache-catalina-valves-RemoteHostValve-does-this-work-tp4981517.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 15:02:30 2012
Return-Path: <users-return-234543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC0C59172
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 15:02:30 +0000 (UTC)
Received: (qmail 2186 invoked by uid 500); 30 May 2012 15:02:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2129 invoked by uid 500); 30 May 2012 15:02:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2120 invoked by uid 99); 30 May 2012 15:02:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:02:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:02:18 +0000
Received: from [192.168.245.129] (p549E8D2F.dip0.t-ipconnect.de [84.158.141.47])
	by tor.combios.es (Postfix) with ESMTPA id 244B0DA0829
	for <users@tomcat.apache.org>; Wed, 30 May 2012 17:01:56 +0200 (CEST)
Message-ID: <4FC63663.402@ice-sa.com>
Date: Wed, 30 May 2012 17:01:55 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: AJP communication failures
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com> <4FC5E6E8.2030801@ice-sa.com> <DBD548D0413B374687D298527CDF789A02D178@GRUPRD8002MB102.lamprd80.prod.outlook.com>
In-Reply-To: <DBD548D0413B374687D298527CDF789A02D178@GRUPRD8002MB102.lamprd80.prod.outlook.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Roney Duilio Stein wrote:
> Hello Warnier,
> 
> The "disablereuse=On" just made things worse, maybe due to the high frequency/quantity of opened connections.
> I'll look on the possibility to disable the MS NLB.
> 
According to my superficial reading of a couple of MS KB pages about the NLB, it should be 
relatively easy to at least temporarily take a host out of the NLB (for software updates 
e.g.). You may want to try that first, with your two hosts A/B.
I would also - in a separate step if possible - completely disable the Firewall Service, 
just in case.

Anyway, whatever solves your problem, please report it here, so that someone else may 
profit from it by searching the list archives.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 15:33:48 2012
Return-Path: <users-return-234544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60EE5C1BA
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 15:33:48 +0000 (UTC)
Received: (qmail 9366 invoked by uid 500); 30 May 2012 15:33:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9176 invoked by uid 500); 30 May 2012 15:33:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9166 invoked by uid 99); 30 May 2012 15:33:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:33:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of brett.dellegrazie@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:33:38 +0000
Received: by dadv2 with SMTP id v2so8803881dad.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 08:33:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        bh=lROaI4RebIccfCC04q/3D5mUXVq+p1A5FQZZiJTO9GE=;
        b=DeWqt/pTTu9T3fZ3y3Y9FF5qwKWoKM6zerKAe5eU49JVUDqauH7cwf34z3or+fPh2Y
         rE4/oZek8oB08QdcDugCqVIeBzSoPkCMt048xWXRKB6seT2qItvh/hR+4fFFgfkxElk3
         lD3tlKvk/uVNc/unyZrFDnzyKm168pq84nfJz9hREsZrqBXa7iLMFVzeLQ83zvWe9vjV
         Swc6bhYlYZAoB2E6AtcBMxtN5vDGmSDeMR8mUNPZxE5d5ixEvVAByt05W8tC+J3eAnsT
         0co03SfIEKHuq/4cqxGecQZUqrA8UHx4T5yz6dvO6L+o49LEt4xJ1KL/eikEltb3+lX8
         +cIw==
MIME-Version: 1.0
Received: by 10.68.216.33 with SMTP id on1mr49587458pbc.105.1338391996939;
 Wed, 30 May 2012 08:33:16 -0700 (PDT)
Received: by 10.143.32.17 with HTTP; Wed, 30 May 2012 08:33:16 -0700 (PDT)
Reply-To: bdellegrazie@iee.org
In-Reply-To: <4FC63663.402@ice-sa.com>
References: <DBD548D0413B374687D298527CDF789A02D098@GRUPRD8002MB102.lamprd80.prod.outlook.com>
	<4FC5E6E8.2030801@ice-sa.com>
	<DBD548D0413B374687D298527CDF789A02D178@GRUPRD8002MB102.lamprd80.prod.outlook.com>
	<4FC63663.402@ice-sa.com>
Date: Wed, 30 May 2012 16:33:16 +0100
Message-ID: <CACLD0=4GXd5Yy7Nf9VsqrO7L8zjhuMZaW1Agt8=4v5WgLmg78g@mail.gmail.com>
Subject: Re: AJP communication failures
From: Brett Delle Grazie <brett.dellegrazie@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 30 May 2012 16:01, Andr=E9 Warnier <aw@ice-sa.com> wrote:
> Roney Duilio Stein wrote:
>>
>> Hello Warnier,
>>
>> The "disablereuse=3DOn" just made things worse, maybe due to the high
>> frequency/quantity of opened connections.
>> I'll look on the possibility to disable the MS NLB.
>>
> According to my superficial reading of a couple of MS KB pages about the
> NLB, it should be relatively easy to at least temporarily take a host out=
 of
> the NLB (for software updates e.g.). You may want to try that first, with
> your two hosts A/B.
> I would also - in a separate step if possible - completely disable the
> Firewall Service, just in case.
>
> Anyway, whatever solves your problem, please report it here, so that some=
one
> else may profit from it by searching the list archives.

Hi,
If there are any network hardware (switches or firewalls) involved
they need to have multicast
MAC enabled - often this is not enabled by default. Failing to do this
can result in similar issues
to those you have described.
Just something else to check :)

>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Best Regards,

Brett Delle Grazie

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 15:39:49 2012
Return-Path: <users-return-234545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1B4FC1E9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 15:39:49 +0000 (UTC)
Received: (qmail 30150 invoked by uid 500); 30 May 2012 15:39:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30006 invoked by uid 500); 30 May 2012 15:39:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29997 invoked by uid 99); 30 May 2012 15:39:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:39:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of manjesh.h@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:39:38 +0000
Received: by vbbfn1 with SMTP id fn1so4333462vbb.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 08:39:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=2iQwRnGPIABz32g0SpjxFMdt/QJ+1YN+1QiaIAYaj50=;
        b=fbaEJfMwBRKsPOmGne+7R3pFUMjp2NLZtPASAmLpCqzPsYxdosky32/WddetUFQ3ye
         JtQhhJ95Zc1kVKnSB0VAk5QaPdkca58UP5Aq/xlvJCOrM6BRS1tkKfSa29+hkcVIn/OV
         tcMtt8JNy5Aezpo2ozSwXfUe5sWU0ytjnKPMJXjhzsFfVULi/n26c8RyCu/gb6fvEeuc
         Awd3wOUZ63FSa2bJB8aB1XEweA3O89jWFPvbpY9PkaDcYysObI8JzKuFztHNDzPCZBp3
         fDqDAfJyIlpe3oiQw3FeydKDr3mYj5b6KLeiyxglAXdFv7DW1s0VmuO3SG0ILTei35YP
         jfrQ==
MIME-Version: 1.0
Received: by 10.52.31.137 with SMTP id a9mr14578381vdi.51.1338392358014; Wed,
 30 May 2012 08:39:18 -0700 (PDT)
Received: by 10.220.61.9 with HTTP; Wed, 30 May 2012 08:39:17 -0700 (PDT)
Date: Wed, 30 May 2012 21:09:17 +0530
Message-ID: <CALEhJthpTcdJRO7cwbSkvvDkr27wJcXPDcd6W7qOs9ah9rNM2A@mail.gmail.com>
Subject: how to test hash collision security fix in tomcat 7.1
From: manjesh <manjesh.h@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8

Hi ,
I have downloaded tomcat 7.1 for Windows OS

added the following parameter (maxParameterCoun)  into server.xml

 <Connector port="8080" protocol="HTTP/1.1"
              connectionTimeout="20000"
              redirectPort="8443" maxParameterCount="5"/>



restarted the server.

to test this fix , I created a JSP with 6 text fields having same name
( example   <input type="text" name="username"/>  6 input boxes )
when I give input for all of these input fields and click on submit,
still the request is being processed...
I am expecting  the request processing should be aborted and
illegateStateException must be thrown according to the fix done in
Parameters class  of (tomcat-coyote.jar)

am I doing test correctly..? please help me

Note: I have also tried adding parameter to JAVA_OPTS in run.bat

-- 
Regards
Manjesh

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 15:45:20 2012
Return-Path: <users-return-234546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5717DC214
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 15:45:20 +0000 (UTC)
Received: (qmail 52698 invoked by uid 500); 30 May 2012 15:45:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52501 invoked by uid 500); 30 May 2012 15:45:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52492 invoked by uid 99); 30 May 2012 15:45:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 15:45:16 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.151.133] (HELO nm27-vm6.bullet.mail.sg3.yahoo.com) (106.10.151.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 May 2012 15:45:08 +0000
Received: from [106.10.166.121] by nm27.bullet.mail.sg3.yahoo.com with NNFMP; 30 May 2012 15:44:46 -0000
Received: from [106.10.167.177] by tm10.bullet.mail.sg3.yahoo.com with NNFMP; 30 May 2012 15:44:46 -0000
Received: from [127.0.0.1] by smtp150.mail.sg3.yahoo.com with NNFMP; 30 May 2012 15:44:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338392686; bh=fVsCAsFGjY9bTrmg5Eh0FLUCylGUZRQhiQiabaz4maM=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:Content-Type:Content-Transfer-Encoding; b=dKn9xWEYxMsEroMJCvTAczBb8K53Nw8PcZjy4rW213FUSP1spEndD+rQ72ZOUAxcO3NtFwmvTa6DD0Z0Axi0hKm2l0a8ausZeq4rgPFj/wh6iz2gx0V8cW/tLr5VQRwzFe920LvWlY5/vDNy/gtl+l9OD7qxPQjaAcBWv+1nzdY=
X-Yahoo-Newman-Id: 483010.9264.bm@smtp150.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: nviley8VM1lFIX_w95c_D_WXgdpNDDmNEODVJkM5x_qsLlj
 wa.ud4QBO_cqmzyoCNCletGq5wxjBxupyZXWR7qQNrPX_FzoYP1xjAtyjU6Y
 DhVMLyN53Asip6o1XGBdj4pix6oFomtPB69CLlzOzjrSBkS7M_tOXZFoKXyj
 hMg7K4wlL2DQI_wWSkl4pqAeA3pv.vXxsM3fB5fQC8jI929JCD7xHo.gR8bH
 kgqscs46vFe4he78Zb31RwhxSFgRHhobo_Z3j4gEzUpSMo0e5fElHKKN1ORv
 Q_FoFxwWWJSZ9rUz5v4KXIjfMajX.8eyXfnIu0zEj6w.N6IaKFqKeqHG2dDN
 iwmMQgzNe6Mryg4UzkM6Y3BOI_vA6FUXqsh.A
X-Yahoo-SMTP: cjD6z76swBAfd2KbX52cOIGjRzwcs7Vhk_sy06cH
Received: from [192.168.1.2] (takeshi.yoshida77@118.22.219.253 with plain)
        by smtp150.mail.sg3.yahoo.com with SMTP; 30 May 2012 08:44:46 -0700 PDT
Message-ID: <4FC6406E.8070207@yahoo.com>
Date: Thu, 31 May 2012 00:44:46 +0900
From: "Takeshi.Yoshida" <takeshi.yoshida77@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: thread dump of Tomcat7.0.27.exe on is not working
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I installed Tomcat7.0.27.exe on Windows7 and Windows2008R2.
The Tomcat almost works fine.
However, when I right click on the Tomcat service icon on system tray
and select menu "Thread Dump",
I get a windows message and it's saying:
"The system can not find the file specified. Unable to open the Event
Mutex".

Then I tried to install other versions.
The Results are follows:

[NG]
Tomcat7.0.27
Tomcat7.0.26

[OK]
Tomcat7.0.20
Tomcat6.0.35

[Work around]
Use jstack in JDK.

[Note]
In these cases, I don't use RDP.

Any comment would be greatly appreciated.

Regards,
Takeshi

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 16:42:33 2012
Return-Path: <users-return-234547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6DD989FB3
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 16:42:33 +0000 (UTC)
Received: (qmail 30766 invoked by uid 500); 30 May 2012 16:42:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30726 invoked by uid 500); 30 May 2012 16:42:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30714 invoked by uid 99); 30 May 2012 16:42:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 16:42:30 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chad.Davis@emc.com designates 128.222.32.20 as permitted sender)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 16:42:23 +0000
Received: from hop04-l1d11-si02.isus.emc.com (HOP04-L1D11-SI02.isus.emc.com [10.254.111.55])
	by mexforward.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4UGg13a031341
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Wed, 30 May 2012 12:42:01 -0400
Received: from mailhub.lss.emc.com (mailhub.lss.emc.com [10.254.222.226]) by hop04-l1d11-si02.isus.emc.com (RSA Interceptor) for <users@tomcat.apache.org>; Wed, 30 May 2012 12:41:53 -0400
Received: from mxhub02.corp.emc.com (mxhub02.corp.emc.com [10.254.141.104])
	by mailhub.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4UGfpv3025824
	for <users@tomcat.apache.org>; Wed, 30 May 2012 12:41:53 -0400
Received: from mx14a.corp.emc.com ([169.254.1.157]) by mxhub02.corp.emc.com
 ([10.254.141.104]) with mapi; Wed, 30 May 2012 12:41:52 -0400
From: <Chad.Davis@emc.com>
To: <users@tomcat.apache.org>
Date: Wed, 30 May 2012 12:40:27 -0400
Subject: using CATALINA_BASE
Thread-Topic: using CATALINA_BASE
Thread-Index: Ac0+gj8UYN1QSXYVTxWCk4L/RjtJKw==
Message-ID: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_26A7FC1339D50348898F6DFFC9A96D9C0975F641MX14Acorpemccom_"
MIME-Version: 1.0
X-EMM-MHVC: 1

--_000_26A7FC1339D50348898F6DFFC9A96D9C0975F641MX14Acorpemccom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm following the directions found in the RUNNING.txt file of the distribut=
ion, version 5.5.35.

It says:

"you can pass a '-Dcatalina.base=3D$CATALINA_BASE' argument when
executing the startup command"

This doesn't work for me.  I think I kind of know why but a couple of point=
s of clarification would be useful.

1)   This parameters is a pass through to the JVM correct?  In other words,=
 it means nothing in the startup.sh and catalina.sh scripts.

2)   If the answer to number 1 is true, it seems that catalina.sh's executi=
on of my $CATALINA_BASE/bin/setenv.sh will never get executed . . .


Any ideas?

Thanks!
Chad

--_000_26A7FC1339D50348898F6DFFC9A96D9C0975F641MX14Acorpemccom_--

From users-return-234548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 17:01:23 2012
Return-Path: <users-return-234548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6FE8190CC
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 17:01:23 +0000 (UTC)
Received: (qmail 89082 invoked by uid 500); 30 May 2012 17:01:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88907 invoked by uid 500); 30 May 2012 17:01:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88898 invoked by uid 99); 30 May 2012 17:01:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 17:01:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.46.182.52] (HELO relay.ihostexchange.net) (66.46.182.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 17:01:15 +0000
Received: from VMBX106.ihostexchange.net ([192.168.3.6]) by
 HUB102.ihostexchange.net ([66.46.182.52]) with mapi; Wed, 30 May 2012
 13:00:54 -0400
From: Kevin <kevin@webkrew.com>
To: Pid <pid@pidster.com>, Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 30 May 2012 13:00:51 -0400
Subject: Re: tomcat full GC every 2 minutes for first 6 hours after war
 reload
Thread-Topic: tomcat full GC every 2 minutes for first 6 hours after war
 reload
Thread-Index: Ac0+hcYWA0cPAP2zQGGGCvIm2MkwqA==
Message-ID: <CBEBBC5D.20E60%kevin@webkrew.com>
In-Reply-To: <4FC5CE72.9050207@pidster.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.0.0.100825
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org



On 5/30/12 2:38 AM, "Pid" <pid@pidster.com> wrote:

>On 29/05/2012 20:50, Kevin wrote:
>>=20
>>=20
>> On 5/29/12 11:09 AM, "Christopher Schultz"
>><chris@christopherschultz.net>
>> wrote:
>>=20
>> Kevin,
>>=20
>> (FYI these are always a PITA to diagnose...)
>>=20
>> On 5/29/12 11:03 AM, Kevin wrote:
>>>>> We have a cluster of tomcat servers being used on a very high
>>>>> volume website. We've noticed that for the first 5-6 hours after an
>>>>> application re-load that Full GC will run every 2 minutes pausing
>>>>> the application for anywhere between 5 and 20 seconds. After 5-6
>>>>> hours the full GC will no longer run until tomcat is reloaded.
>>>>> This behavior is repeatable.
>>>>>
>>>>> We discounted our EhCache settings as potential issue because
>>>>> tomcat can be killed without this issue showing up.  It's not until
>>>>> we actually reload the WAR with changes (clearing the work
>>>>> directory) and restart tomcat that this issue shows up.  Traffic
>>>>> level isn't a factor we'll go through our peak hours with no
>>>>> problem.
>>=20
>> All good things to know.
>>=20
>>>>> The servers are all dual quad core with 32GB of RAM running Centos
>>>>> 5 and tomcat 6.0.18.  We've attempted every suggested GC setting
>>>>> change suggested on the net and by developers and system
>>>>> administrators.
>>=20
>> Did you try looking at what the cause might be, or just blindly apply
>> suggestions to see if something would stick?
>>=20
>>> Initially we looked closely at it trying to solve the problem as time
>>>wore
>>> on we tried anything.  This has been going on for months now.
>>=20
>>=20
>>=20
>>>>> Our java opts are being played with on a daily basis however here
>>>>> are the settings that correspond to the sample GC log below:
>>>>>
>>>>>
>>>>> -server -Xmx27g -Xms27g  -XX:+DisableExplicitGC
>>>>> -XX:+UseConcMarkSweepGC -XX:+PrintTenuringDistribution
>>>>> -Dsun.rmi.dgc.client.gcInterval=3D900000
>>>>> -Dsun.rmi.dgc.server.gcInterval=3D900000 -XX:NewSize=3D8g
>>>>> -XX:SurvivorRatio=3D16 -verbose:gc -XX:+PrintGCTimeStamps
>>>>> -XX:+PrintGCDetails
>>=20
>> A new size of 8GiB seems high to me, but I've never run with a total
>> heap size of anything nearly as large as 27GiB, so maybe that's a
>> reasonable size. My opinion here is probably irrelevant.
>>=20
>>>>> 215.501: [GC 215.504: [ParNew Desired survivor size 238583808
>>>>> bytes, new threshold 15 (max 15) - age   1:   50457968 bytes,
>>>>> 50457968 total : 7456799K->111048K(7922624K), 0.0617110 secs]
>>>>> 8614906K->1269155K(27845568K), 0.0661400 secs] [Times: user=3D0.68
>>>>> sys=3D0.00, real=3D0.07 secs]
>>=20
>> Odd that user+sys < real. Hmm.
>>=20
>> [...]
>>=20
>>>>> 316.456: [GC 316.459: [ParNew Desired survivor size 238583808
>>>>> bytes, new threshold 15 (max 15) - age   1:   41430416 bytes,
>>>>> 41430416 total - age   3:   22728376 bytes,   64158792 total - age
>>>>> 5:   19599960 bytes,   83758752 total - age   6:   21847616 bytes,
>>>>> 105606368 total - age   7:   27667592 bytes,  133273960 total - age
>>>>> 8:      10904 bytes,  133284864 total - age   9:   31824256 bytes,
>>>>> 165109120 total : 7650333K->215213K(7922624K), 0.1332630 secs]
>>>>> 8808440K->1373320K(27845568K), 0.1380590 secs] [Times: user=3D1.45
>>>>> sys=3D0.01, real=3D0.14 secs]
>>=20
>> 1.45 seconds for a full-GC isn't anywhere near the 5s-20s claimed
>> above. Have you been able to actually instrument a 5s-20s GC-pause?
>> Or, are you saying that your webapp appears to stall for that long and
>> those observances coincide with full-GC runs?
>>=20
>>>>> 343.376: [Full GC 343.378: [CMS: 1158107K->1312570K(19922944K),
>>>>> 3.4129290 secs] 2884580K->1312570K(27845568K), [CMS Perm :
>>>>> 83964K->47203K(83968K)], 3.4168600 secs] [Times: user=3D3.87
>>>>> sys=3D0.02, real=3D3.41 secs]
>>=20
>> Also relatively short.
>>=20
>>> They fluctuate.
>>=20
>>=20
>>>>> **Last Full GC**
>>>>>
>>>>> 20517.892: [GC 20517.898: [ParNew Desired survivor size 238583808
>>>>> bytes, new threshold 15 (max 15) - age   1:   33948208 bytes,
>>>>> 33948208 total - age   2:      88280 bytes,   34036488 total - age
>>>>> 3:   19872472 bytes,   53908960 total - age   4:   16072608 bytes,
>>>>> 69981568 total - age   5:   15718712 bytes,   85700280 total - age
>>>>> 6:   15771016 bytes,  101471296 total - age   7:   16895976 bytes,
>>>>> 118367272 total - age   8:   24233728 bytes,  142601000 total :
>>>>> 7618727K->200950K(7922624K), 0.1728420 secs]
>>>>> 16794482K->9376705K(27845568K), 0.1822350 secs] [Times: user=3D2.21
>>>>> sys=3D0.01, real=3D0.18 secs]
>>=20
>> Note that the above is not a "Full GC". This one /is/:
>>=20
>>>>> 20526.469: [Full GC 20526.475: [CMS:
>>>>> 9175755K->9210800K(19922944K), 33.1161300 secs]
>>>>> 13632232K->9210800K(27845568K), [CMS Perm :
>>>>> 83967K->53332K(83968K)], 33.1254170 secs] [Times: user=3D33.12
>>>>> sys=3D0.02, real=3D33.12 secs]
>>=20
>> Okay, that one's a doosey.
>>=20
>> It's weird that it looks like after the full GC, the heap has *lost*
>> some space ("CMS: 9175755K->9210800K"). Can you watch the logs and
>> take a heap dump (which may take a LONG time with such a big heap, so
>> be prepared for another long pause) after one of these full GCs?
>>=20
>> It would be better to get a heap dump both before AND after the full
>> GC, but that can ruin your performance if you enable those automated
>> GC options.
>>=20
>>> We can run this after our next code release in two days.
>>=20
>>=20
>>>>> Any help would be greatly appreciated.
>>=20
>> Are you populating huge caches on startup or anything like that?
>> Generational GC performance is related to the number of surviving
>> objects that have to be moved from one generation to the next, so if
>> you have a huge population of objects surviving each collection one
>> after the other (which is what I might expect if you had an enormous
>> cache being fulled all at once) then your performance will suck for a
>> while until those objects are tenured enough to avoid periodic
>> collections.
>>=20
>>> This was our initial assumption however since we're using an in memory
>>> EhCache we would expect this issue to re-accure when tomcat is
>>>restarted.
>>> It doesn't.  It'll only show up if we stop tomcat, reload the WAR and
>>> clean the work directory.
>
>Which version of EhCache?  How large is the cache, are you using RMI
>replication or disk overflow?


We're not using replication or disk overflow.

>
>
>p
>
>
>> Are you able to inspect the various generations before and after these
>> pauses? I'd be interested to see if you have a huge population of
>> objects being tenured at once and what types of objects they are (they
>> might be something obvious like instances of our.big.fat.CacheEntry or
>> something like that).
>>=20
>>> We'll give it a try
>>=20
>>> Thanks
>>=20
>>=20
>>=20
>> -chris
>>>
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>=20
>
>--=20
>
>[key:62590808]
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 17:45:43 2012
Return-Path: <users-return-234549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3028DCDAE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 17:45:43 +0000 (UTC)
Received: (qmail 12783 invoked by uid 500); 30 May 2012 17:45:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12539 invoked by uid 500); 30 May 2012 17:45:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12528 invoked by uid 99); 30 May 2012 17:45:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 17:45:39 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.158] (HELO nm10-vm2.bullet.mail.ne1.yahoo.com) (98.138.90.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 May 2012 17:45:33 +0000
Received: from [98.138.90.48] by nm10.bullet.mail.ne1.yahoo.com with NNFMP; 30 May 2012 17:45:12 -0000
Received: from [98.138.88.236] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 30 May 2012 17:45:12 -0000
Received: from [127.0.0.1] by omp1036.mail.ne1.yahoo.com with NNFMP; 30 May 2012 17:45:12 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 334725.27549.bm@omp1036.mail.ne1.yahoo.com
Received: (qmail 82990 invoked by uid 60001); 30 May 2012 17:45:11 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338399911; bh=/1T/BJwmpPlN4YEMGIO9G/YIBX+b1riESiKhu0xEPEg=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=US93IrZezaYrHeRQ8GllvDUMm4wc+xW98J2pQzHbMx/IspgZJT3FDKKRZ7c/RINLGJ1tvXEzy6HxlNgitzV66JZhqNQDo0dQtSamEZnMLuvYKbD0AnnIwvH+mCqewnNRWvIW7VFPnXF39E/bhFjiQ3q63zSPfAkX+mdQblVb22I=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fB85X66PeeBm93CeoAn/LU/uWt2bwK8GDZrhgCauAyo+DYyf3lL2CIWYyG+ECYKjmJkOCEKiORhc6F3fCABwJa/WlCoCfGMwSsb9HBdRBvKgZF4eN2rldG0gtwBijxOKZHjZgqHyXy+XWYBqR6sAhNwrfeGQUgJer8IAbkdEKa8=;
X-YMail-OSG: emdZSZIVM1nukg4ORe_qosBuF.fZTBfdGmHeRd4C1mfiQeN
 f4AGCpUYLfov8Wrwv16_OSE6rzYhKsRIpOxcCE4ZYYhmlSVhklpwi.NLpRI1
 W8Os.cBCLEHafM1dj76yxPUWpIZ1sdnpJxCpv5J5kHQBY4ZddKpyyhqcKCft
 RHAJcBxiD7Ll8IaX5PP8nlpFcs36aSw_85P6tgKhbTwM_G.rNwqq7kO2_omo
 C9eY_elTSmni2qXAlLUqWcubY3dxWYA0XZEtExLoyhWOlR4WjDPLrScoCd_K
 HM9PO1AMvILCY1p9ZzTlCO49jRIcqGDFzXtaCUb8_jgnX_t6VhvL.W4nbiNx
 C6iTF.b2zSwRa1V1XvTueWztdR_Ptv5B3DvBouf6KCSvQZ8mgwvy3Yqbytfb
 MvIuaiDA2yefDZ4ue8eFtKcGlRtK3F8D_jaPXSPs8lqLsYaZTQMStgS4yECJ
 PCVsxil6CZN05A0tBVcPHPRRb8HsCz5vLkme887CRQp4aa1HnDdkZRO01Zss
 pQzNUJpm11uttfps4heVSZ9gAAauk35BHdxZo8fIPPxRmlstaG0RmbJ5kW3H
 HhLZACpzNpqsbWSclWMW279p.Dm83hb6cbvH3
Received: from [71.134.8.222] by web125506.mail.ne1.yahoo.com via HTTP; Wed, 30 May 2012 10:45:11 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
Message-ID: <1338399911.73573.YahooMailNeo@web125506.mail.ne1.yahoo.com>
Date: Wed, 30 May 2012 10:45:11 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: using CATALINA_BASE
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>________________________________=0A> From: "Chad.Davis@emc.com" <Chad.Davi=
s@emc.com>=0A>To: users@tomcat.apache.org =0A>Sent: Wednesday, May 30, 2012=
 9:40 AM=0A>Subject: using CATALINA_BASE=0A> =0A>I'm following the directio=
ns found in the RUNNING.txt file of the distribution, version 5.5.35.=0A>=
=0A>It says:=0A>=0A>"you can pass a '-Dcatalina.base=3D$CATALINA_BASE' argu=
ment when=0A>executing the startup command"=0A>=0A>This doesn't work for me=
.=A0 I think I kind of know why but a couple of points of clarification wou=
ld be useful.=0A>=0A>1)=A0=A0=A0This parameters is a pass through to the JV=
M correct?=A0 In other words, it means nothing in the startup.sh and catali=
na.sh scripts.=0A>=0A>2)=A0=A0=A0If the answer to number 1 is true, it seem=
s that catalina.sh's execution of my $CATALINA_BASE/bin/setenv.sh will neve=
r get executed . . .=0A>=0A>=0A>Any ideas?=0A>=0A>Thanks!=0A>Chad=0A=0A=0AF=
irst of all, I'm going to assume that you're running a 5.5 version of Tomca=
t, since the line you quote is only present in RUNNING.txt from those versi=
ons. At least it's not present in the latest 6.0 or 7.0 version.=0A=0ANow l=
ooking at this line closely:=0A=0A'-Dcatalina.base=3D$CATALINA_BASE'=0A=0A=
=0AThis means that you already have a CATALINA_BASE environment variable se=
t somewhere. Otherwise $CATALINA_BASE is going to be empty (and will be set=
 to $CATALINA_HOME).=0A=0AThe second issue is the single quotes. I think th=
at this is probably not right, in that single quotes (in a bash shell world=
 - again an assumption) prevent variables from being interpolated.=0A=0AWhe=
n I launch multiple Tomcats, I use a shell script similar to the following:=
=0A=0A#!/bin/bash=0ACATALINA_HOME=3D/some/path/to/my/home/tomcat=0A=0A# the=
 below is all on one line - sorry for the line wrap=0A( export CATALINA_BAS=
E=3D/some/path/to/first/catalina_base;=0A=A0 $CATALINA_HOME/bin/startup.sh =
)=0A=0A=0A# my Tomcat instances are usually pretty bare=0Asleep 5=A0=0A=0A#=
 the below is all on one line - sorry for the line wrap=0A( export CATALINA=
_BASE=3D/some/path/to/second/catalina_base;=0A=A0 $CATALINA_HOME/bin/startu=
p.sh )=0A=0A=0A# etc., etc., etc.=0A=0AThis is how I launch multiple Tomcat=
s to run a small cluster on my development machine. As far as I can tell, i=
t works as it should.=0A=0A. . . . just my two cents.=0A/mde/=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 18:03:50 2012
Return-Path: <users-return-234550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 977E1CE24
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 18:03:50 +0000 (UTC)
Received: (qmail 57864 invoked by uid 500); 30 May 2012 18:03:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57719 invoked by uid 500); 30 May 2012 18:03:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57710 invoked by uid 99); 30 May 2012 18:03:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 18:03:46 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [156.42.184.99] (HELO extmail2.maricopa.gov) (156.42.184.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 18:03:40 +0000
X-IronPort-AV: E=Sophos;i="4.75,685,1330930800"; 
   d="scan'208";a="32204292"
Received: from dacrspxcnghub1.enterprise.maricopa.gov ([10.4.95.15])
  by intmail2.maricopa.gov with ESMTP; 30 May 2012 11:03:19 -0700
Received: from cms1.enterprise.maricopa.gov ([10.4.94.11]) by
 DACRSPXCNGHUB1.enterprise.maricopa.gov ([fe80::7507:7bce:2156:8ecc%18]) with
 mapi; Wed, 30 May 2012 11:03:19 -0700
From: Leo Donahue - PLANDEVX <LeoDonahue@mail.maricopa.gov>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 30 May 2012 11:03:17 -0700
Subject: RE: org.apache.catalina.valves.RemoteHostValve  does this work ???
Thread-Topic: org.apache.catalina.valves.RemoteHostValve  does this work ???
Thread-Index: Ac0+dGbmkfTpRYoyRaSCkWzAZ3SlAwAGMZcQ
Message-ID: <D72C174D3CAC0A4E812FAD012D646E9F24FC5F01D8@CMS1.enterprise.maricopa.gov>
References: <1338389764389-4981517.post@n6.nabble.com>
In-Reply-To: <1338389764389-4981517.post@n6.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: N.s.Karthik [mailto:nskarthik.k@gmail.com]
> Subject: org.apache.catalina.valves.RemoteHostValve does this work ???
>=20
> Hi
>=20
> Spec
> JDK1.6
> TC : tomcat 6.26
> O/s win 7 /Linux (redhat)
>=20
> I have configured the valve as follows  in  TC /conf/Context.xml
>=20
> *<Valve className=3D"org.apache.catalina.valves.RemoteHostValve"
>              allow=3D"ai-itl-107"
>               deny=3D"192.168.8.210" />*
>=20
> On restart of the TC ... I am denied access at URL
>=20
> *http://ai-itl-107:8080/*
>=20
> as   HTTP 403 Error ???
>=20
> Disabling this valve  the URL works and application is available
> normally.
>=20
> I am confused
>=20
>=20
> with regards
> karthik

The docs indicate that you need to use a regular expression pattern for the=
 allow and deny attributes.

http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Remote_Host_Filte=
r

allow=3D"ai\-itl\-107"
deny=3D"192\.168\.8\.210"

Does that work?

Leo

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 18:50:12 2012
Return-Path: <users-return-234551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3079C9F42
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 18:50:12 +0000 (UTC)
Received: (qmail 87346 invoked by uid 500); 30 May 2012 18:50:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87288 invoked by uid 500); 30 May 2012 18:50:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87278 invoked by uid 99); 30 May 2012 18:50:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 18:50:08 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chad.Davis@emc.com designates 128.222.32.20 as permitted sender)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 18:50:01 +0000
Received: from hop04-l1d11-si02.isus.emc.com (HOP04-L1D11-SI02.isus.emc.com [10.254.111.55])
	by mexforward.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4UInaAf007023
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 30 May 2012 14:49:39 -0400
Received: from mailhub.lss.emc.com (mailhubhoprd04.lss.emc.com [10.254.222.226]) by hop04-l1d11-si02.isus.emc.com (RSA Interceptor); Wed, 30 May 2012 14:49:26 -0400
Received: from mxhub24.corp.emc.com (mxhub24.corp.emc.com [128.222.70.136])
	by mailhub.lss.emc.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id q4UIlOcP032010;
	Wed, 30 May 2012 14:49:16 -0400
Received: from mx14a.corp.emc.com ([169.254.1.157]) by mxhub24.corp.emc.com
 ([128.222.70.136]) with mapi; Wed, 30 May 2012 14:47:24 -0400
From: <Chad.Davis@emc.com>
To: <users@tomcat.apache.org>, <its_toasted@yahoo.com>
Date: Wed, 30 May 2012 14:46:00 -0400
Subject: RE: using CATALINA_BASE
Thread-Topic: using CATALINA_BASE
Thread-Index: Ac0+jBkOEmmhXpTIQWSVOpCQAobnIwABmQMQ
Message-ID: <26A7FC1339D50348898F6DFFC9A96D9C0975F6BF@MX14A.corp.emc.com>
References: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
 <1338399911.73573.YahooMailNeo@web125506.mail.ne1.yahoo.com>
In-Reply-To: <1338399911.73573.YahooMailNeo@web125506.mail.ne1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-EMM-MHVC: 1
X-Virus-Checked: Checked by ClamAV on apache.org


> >I'm following the directions found in the RUNNING.txt file of the
> distribution, version 5.5.35.
>=20
> First of all, I'm going to assume that you're running a 5.5 version of To=
mcat,
> since the line you quote is only present in RUNNING.txt from those versio=
ns.
> At least it's not present in the latest 6.0 or 7.0 version.
>=20

I did specify my tomcat version actually ;)

AND here's the full paragraph:
<p>In many circumstances, it is desirable to have a single copy of a Tomcat
binary distribution shared among multiple users on the same server.  To mak=
e
this possible, you can pass a "-Dcatalina.base=3D$CATALINA_BASE" argument w=
hen
executing the startup command (see (2)). In this
"-Dcatalina.base=3D$CATALINA_BASE" argument, replace $CATALINA_BASE with th=
e
directory that contains the files for your 'personal' Tomcat inAny stance.<=
/p>

So, yes, I did adulter the argument because it has double quotes in the ori=
ginal.  However, the misleading bit is where it makes it sound as if the ca=
talina base reference is just a placeholder, i.e. "replace $CATALINA_BASE w=
ith . . . " =20

> When I launch multiple Tomcats, I use a shell script similar to the follo=
wing:
>=20
> #!/bin/bash
> CATALINA_HOME=3D/some/path/to/my/home/tomcat
>=20
> # the below is all on one line - sorry for the line wrap ( export
> CATALINA_BASE=3D/some/path/to/first/catalina_base;
> =A0 $CATALINA_HOME/bin/startup.sh )

That's about what I came up with.  It just seemed to be fighting against th=
e tide a little bit.  But, this all makes it seem like you would never actu=
ally use the -D method because the startup scripts simply read the env vari=
able and pass the value in as a java sys property anway.  Makes me wonder w=
hat the paragraph means by "startup command".  The reference "see(2)" doesn=
't resolve in the RUNNING.txt text . . .

Thanks for your help.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 19:32:10 2012
Return-Path: <users-return-234552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49BE8CD2C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 19:32:10 +0000 (UTC)
Received: (qmail 15335 invoked by uid 500); 30 May 2012 19:32:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15101 invoked by uid 500); 30 May 2012 19:32:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15084 invoked by uid 99); 30 May 2012 19:32:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 19:32:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of brooke.hedrick@rainhail.com designates 12.104.195.141 as permitted sender)
Received: from [12.104.195.141] (HELO ironport01.rainhail.com) (12.104.195.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 19:31:59 +0000
X-SBRS: None
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApwEABF1xk+sGAv9/2dsb2JhbABEtRiCHjpRARUpQiYBBBvBG4JEjSdgA4hAkkmNAA
Received: from unknown (HELO Exchange02.rainhail.com) ([172.24.11.253])
  by ironport01.rainhail.com with ESMTP/TLS/AES128-SHA; 30 May 2012 14:31:38 -0500
Received: from Exchange02.rainhail.com ([172.24.11.253]) by
 Exchange02.rainhail.com ([172.24.11.253]) with mapi; Wed, 30 May 2012
 14:31:38 -0500
From: "Hedrick, Brooke - 43" <brooke.hedrick@rainhail.com>
To: "'users@tomcat.apache.org'" <users@tomcat.apache.org>
Date: Wed, 30 May 2012 14:31:37 -0500
Subject: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Topic: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Index: Ac0+mtRSTPXDQoGAQN6besloJcfM8A==
Message-ID: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

How are others dynamically resetting/resizing their database connection poo=
ls when necessary?

Background:
I am running into some issues with how we manage datasources due to changes=
 in Tomcat/commons-dbcp.

We are just now beginning to move some of our applications to Tomcat 7.0.21=
 from Tomcat 6.0.20.  We have written some tools that allow us to reset dat=
asources that have worked great with 6.0.20 ( closes all unused connections=
 and creates a new pool ).  We also have tools that allow us to dynamically=
 resize connection pools, on the fly.  Both of these depend on JMX.

When we used the JMX .close() method on the BasicDataSource under Tomcat 7,=
 the next time the application makes the request for a connection it receiv=
es  a... throw new SQLException("Data source is closed");

It looks like some changes were made to commons-dbcp which set a private me=
mber variable called "closed" when you close a BasicDataSource.   Any time =
the createDataSource() code is called it check this new member variable and=
 if closed=3Dtrue, it throws this error.

Next, I looked at the new datasource org.apache.tomcat.jdbc.pool.DataSource=
.  I have not found any methods to close/reset the pools and the JMX attrib=
utes are readonly.  This prevents us both from resetting and resizing our c=
onnection pools.

So far, my options point to making changes to the BasicDataSource to provid=
e a way to set closed=3Dfalse or make the private method below public with =
a change to set closed=3Dfalse.

    /**
     * Not used currently
     */
    private void restart() {  // change to public  -bth
        try {
            close();
            closed =3D false;  // new line added here -bth
        } catch (SQLException e) {
            log("Could not restart DataSource, cause: " + e.getMessage());
        }
    }

Thanks,
=20
Brooke Hedrick



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 19:51:51 2012
Return-Path: <users-return-234553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B3CFCD9E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 19:51:51 +0000 (UTC)
Received: (qmail 62011 invoked by uid 500); 30 May 2012 19:51:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61962 invoked by uid 500); 30 May 2012 19:51:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61953 invoked by uid 99); 30 May 2012 19:51:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 19:51:47 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.165] (HELO nm39-vm5.bullet.mail.ne1.yahoo.com) (98.138.229.165)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 May 2012 19:51:39 +0000
Received: from [98.138.90.55] by nm39.bullet.mail.ne1.yahoo.com with NNFMP; 30 May 2012 19:51:17 -0000
Received: from [98.138.89.252] by tm8.bullet.mail.ne1.yahoo.com with NNFMP; 30 May 2012 19:51:17 -0000
Received: from [127.0.0.1] by omp1044.mail.ne1.yahoo.com with NNFMP; 30 May 2012 19:51:17 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 415842.18368.bm@omp1044.mail.ne1.yahoo.com
Received: (qmail 73641 invoked by uid 60001); 30 May 2012 19:51:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338407477; bh=G4UWrif+yuZIS1PGKJecmVOpcw4ehfmc92Cy3SJlgDs=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=fHgjx0uP3OB6Vi7uq3vuZSdv1jS1H6BAFBa6jh+ChVqKl/q6rjKqc2+2BhmhWzHsRAXpAbz/O14tlK/y51eRKaIVwcDrcHWZ0J69liXIfi4n8KFQ+CYdzbT2B1xq43r7YEmwBIoj+RCWFAjbidEr2bK3A8fL27VMMlcoofyuxGw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fu1jDi+w8r/dmnmSyQJnqYlPamO8BtF8dVF8M5ePwE2/qdj/drIUZWePJyBhVWPSIMMRViJPxnMrGSdi6H2mztG1Rtcj1gqDkujwsGV2OKXAYybnexbwyrRBdnO+CwYWrJl4pctkd+Ihn6v0FRgq3O7mzHZIQzfdoibx40rpt8k=;
X-YMail-OSG: 8uBwWC0VM1nbMXPy2J9flUQQWC.2D8L7Qfeq5VqsEWjMX..
 fz8bIopuyzmMO1A7RwUzNIfrIWhrO1clUeygV15NMb8LdfEsRX3fjW1s24GK
 tMVFuvu7ZlvGcf1Pqqu7IlVGb7Nlz6NCOzU0PbosUngGsx2NN545BSNw8mY5
 OKpBv2OJEpdVO.aY62nKbBh6kkFtCGT9BnNp8TRAkpBOWLzOvHqaEy09a5mT
 g4kgA2X8zagcS.uiHhk0_0CPATzmnhacLNNzpaUxCEiJlOuZuX5JcF2j1ZZQ
 kTmlrMERym8lWncxQjvo46LpInPfAfCqvNvGsepxUcwZontoMKKkuAIJgVp3
 i4WGJl7zcBqJZe7dVpcLi34QxNItB_ztxdvVUebjbzdfrcgTORpGE3azBK6m
 GOWlIIFEglMzusEeIyOOU7M1ZGG9IrWU.TcAPjOZTo.mNLNdt.FdT7geAZiv
 70sjpF_mGbC2cidcedokguCaOl36rlNBdxhVP8hU49MrwfKDGq3d9ehnPJFj
 bnPMvLlsMK.38dNECiV4-
Received: from [71.134.8.222] by web125501.mail.ne1.yahoo.com via HTTP; Wed, 30 May 2012 12:51:17 PDT
X-Mailer: YahooMailWebService/0.8.118.349524
References: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com> <1338399911.73573.YahooMailNeo@web125506.mail.ne1.yahoo.com> <26A7FC1339D50348898F6DFFC9A96D9C0975F6BF@MX14A.corp.emc.com>
Message-ID: <1338407477.67830.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Date: Wed, 30 May 2012 12:51:17 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: using CATALINA_BASE
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <26A7FC1339D50348898F6DFFC9A96D9C0975F6BF@MX14A.corp.emc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

>________________________________=0A> From: "Chad.Davis@emc.com" <Chad.Davi=
s@emc.com>=0A>To: users@tomcat.apache.org; its_toasted@yahoo.com =0A>Sent: =
Wednesday, May 30, 2012 11:46 AM=0A>Subject: RE: using CATALINA_BASE=0A> =
=0A>=0A>> >I'm following the directions found in the RUNNING.txt file of th=
e=0A>> distribution, version 5.5.35.=0A>> =0A>> First of all, I'm going to =
assume that you're running a 5.5 version of Tomcat,=0A>> since the line you=
 quote is only present in RUNNING.txt from those versions.=0A>> At least it=
's not present in the latest 6.0 or 7.0 version.=0A>> =0A>=0A>I did specify=
 my tomcat version actually ;)=0A>=0A>AND here's the full paragraph:=0A><p>=
In many circumstances, it is desirable to have a single copy of a Tomcat=0A=
>binary distribution shared among multiple users on the same server.=A0 To =
make=0A>this possible, you can pass a "-Dcatalina.base=3D$CATALINA_BASE" ar=
gument when=0A>executing the startup command (see (2)). In this=0A>"-Dcatal=
ina.base=3D$CATALINA_BASE" argument, replace $CATALINA_BASE with the=0A>dir=
ectory that contains the files for your 'personal' Tomcat inAny stance.</p>=
=0A>=0A>So, yes, I did adulter the argument because it has double quotes in=
 the original.=A0 However, the misleading bit is where it makes it sound as=
 if the catalina base reference is just a placeholder, i.e. "replace $CATAL=
INA_BASE with . . . "=A0 =0A>=0A>> When I launch multiple Tomcats, I use a =
shell script similar to the following:=0A>> =0A>> #!/bin/bash=0A>> CATALINA=
_HOME=3D/some/path/to/my/home/tomcat=0A>> =0A>> # the below is all on one l=
ine - sorry for the line wrap ( export=0A>> CATALINA_BASE=3D/some/path/to/f=
irst/catalina_base;=0A>> =A0 $CATALINA_HOME/bin/startup.sh )=0A>=0A>That's =
about what I came up with.=A0 It just seemed to be fighting against the tid=
e a little bit.=A0 But, this all makes it seem like you would never actuall=
y use the -D method because the startup scripts simply read the env variabl=
e and pass the value in as a java sys property anway.=A0 Makes me wonder wh=
at the paragraph means by "startup command".=A0 The reference "see(2)" does=
n't resolve in the RUNNING.txt text . . .=0A>=0A>Thanks for your help. =0A=
=0A=0ASorry that I missed the version . . . Spring cold - my first in over =
4 years :-|.=0A=0AYep, the string isn't found in the 6.0 or 7.0 versions of=
 RUNNING.txt. I suspect it has something to do with using JVSC and running =
multiple Tomcat services on Windows, but this is just idle speculation sinc=
e I don't do that.=0A=0AI'd say a little clean up of RUNNING.txt couldn't h=
urt, but the 5.5 version of Tomcat is rapidly approaching EOL.=0A=0Ajust my=
 feverish two cents . . .=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 21:10:15 2012
Return-Path: <users-return-234554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EC2990E9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 21:10:15 +0000 (UTC)
Received: (qmail 13052 invoked by uid 500); 30 May 2012 21:10:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12987 invoked by uid 500); 30 May 2012 21:10:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12974 invoked by uid 99); 30 May 2012 21:10:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:10:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:10:05 +0000
Received: by pbbro12 with SMTP id ro12so560376pbb.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 14:09:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=5uXQN3tKA2jiqsdGY0O4dZE4IZmO9rwm7eXB5ajwkHY=;
        b=EHZEZTmAz/whC1kG7NyqSOsoE70CgFI7XMppaE2Qrxssn82Da1pmSJ6MjmUZldjh5t
         lKCMmaNzTsSA2JzmOn8nsZn1ANYU8KHNkJ8eTyICUxip8equIkNxKbZa0de323Eu3do3
         Mz5DBs/nrfpRxkqwzz5umhel7/k5CxmktWsE53jxZ/8IUshQXED118RBQsfkjX1XnzXw
         RIP5wYlJN1JlrlLLytDVtfA++5G7QL/+HEE2ZJ5qgXnhFcfBtFOA1qLRrxotOQrA3wd8
         CFJs7HBG/2+EejxO9YCofkpBzQOO2f6tRgbBQjDjuBH/TleJUcozllFVSVnkrB8/rlJW
         5nCw==
MIME-Version: 1.0
Received: by 10.68.190.39 with SMTP id gn7mr53663251pbc.5.1338412185141; Wed,
 30 May 2012 14:09:45 -0700 (PDT)
Received: by 10.68.129.35 with HTTP; Wed, 30 May 2012 14:09:45 -0700 (PDT)
In-Reply-To: <CALEhJthpTcdJRO7cwbSkvvDkr27wJcXPDcd6W7qOs9ah9rNM2A@mail.gmail.com>
References: <CALEhJthpTcdJRO7cwbSkvvDkr27wJcXPDcd6W7qOs9ah9rNM2A@mail.gmail.com>
Date: Thu, 31 May 2012 01:09:45 +0400
Message-ID: <CABzHfV=PH+S=CHQ2OdH2jRU0uwi_o1hbyue109S23tKzpCZkiQ@mail.gmail.com>
Subject: Re: how to test hash collision security fix in tomcat 7.1
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/30 manjesh <manjesh.h@gmail.com>:
> Hi ,
> I have downloaded tomcat 7.1 for Windows OS
>

1. There is no such version. I do not know what you are testing.

> added the following parameter (maxParameterCoun) =A0into server.xml
>
> =A0<Connector port=3D"8080" protocol=3D"HTTP/1.1"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0connectionTimeout=3D"20000"
> =A0 =A0 =A0 =A0 =A0 =A0 =A0redirectPort=3D"8443" maxParameterCount=3D"5"/=
>
>
>
>
> restarted the server.
>
> to test this fix , I created a JSP with 6 text fields having same name
> ( example =A0 <input type=3D"text" name=3D"username"/> =A06 input boxes )
> when I give input for all of these input fields and click on submit,
> still the request is being processed...
> I am expecting =A0the request processing should be aborted and
> illegateStateException must be thrown according to the fix done in
> Parameters class =A0of (tomcat-coyote.jar)
>

2. Your expectations are wrong. Documentation for that option in
configuration reference says exactly what happens what you have more
parameters than specified by that option.

An IllegalStateException cannot be thrown, because Servlet API does
not allow that.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 21:12:08 2012
Return-Path: <users-return-234555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D03C49109
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 21:12:08 +0000 (UTC)
Received: (qmail 25974 invoked by uid 500); 30 May 2012 21:12:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25758 invoked by uid 500); 30 May 2012 21:12:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25749 invoked by uid 99); 30 May 2012 21:12:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:12:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:11:56 +0000
Received: from [192.168.245.129] (p549E0AC6.dip0.t-ipconnect.de [84.158.10.198])
	by tor.combios.es (Postfix) with ESMTPA id A3F82DA0866
	for <users@tomcat.apache.org>; Wed, 30 May 2012 23:11:33 +0200 (CEST)
Message-ID: <4FC68D05.1060700@ice-sa.com>
Date: Wed, 30 May 2012 23:11:33 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: org.apache.catalina.valves.RemoteHostValve  does this work ???
References: <1338389764389-4981517.post@n6.nabble.com> <D72C174D3CAC0A4E812FAD012D646E9F24FC5F01D8@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FC5F01D8@CMS1.enterprise.maricopa.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Leo Donahue - PLANDEVX wrote:
>> -----Original Message-----
>> From: N.s.Karthik [mailto:nskarthik.k@gmail.com]
>> Subject: org.apache.catalina.valves.RemoteHostValve does this work ???
>>
>> Hi
>>
>> Spec
>> JDK1.6
>> TC : tomcat 6.26
>> O/s win 7 /Linux (redhat)
>>
>> I have configured the valve as follows  in  TC /conf/Context.xml
>>
>> *<Valve className="org.apache.catalina.valves.RemoteHostValve"
>>              allow="ai-itl-107"
>>               deny="192.168.8.210" />*
>>
>> On restart of the TC ... I am denied access at URL
>>
>> *http://ai-itl-107:8080/*
>>
>> as   HTTP 403 Error ???
>>
>> Disabling this valve  the URL works and application is available
>> normally.
>>
>> I am confused
>>
>>
>> with regards
>> karthik
> 
> The docs indicate that you need to use a regular expression pattern for the allow and deny attributes.
> 
> http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Remote_Host_Filter
> 
> allow="ai\-itl\-107"
> deny="192\.168\.8\.210"
> 
> Does that work?
> 
> Leo
> 

In addition, either I am missing something, or there are a couple of strange things in the 
original post.

The allow/deny of the RemoteHostValve are supposed to mean /from which client/ one can or 
cannot access this Tomcat Host, on the base of the client's *hostname*.
(read http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Remote_Host_Filter, as 
compared to http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html#Remote_Address_Filter)

So
1) what does this *request* URL "http://ai-itl-107:8080" have to do with it all ? is 
"ai-itl-107" the hostname of the client, or of the server ?
2) what about the IP address in the "deny" part ? should one not be using a hostname here 
  (or use a Remote Address Filter instead) ?


In addition, if one really wants to use the *hostname* of the client to allow or deny 
access, then one should also make sure that the server, when it resolves the client's IP 
address to a name, is really getting what is shown up there.
Otherwise it will not allow it, which seems to be happening here (but again, maybe I'm 
confused).


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 21:24:17 2012
Return-Path: <users-return-234556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E2C092D4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 21:24:17 +0000 (UTC)
Received: (qmail 68781 invoked by uid 500); 30 May 2012 21:24:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68695 invoked by uid 500); 30 May 2012 21:24:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68681 invoked by uid 99); 30 May 2012 21:24:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:24:14 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sahmed1020@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 21:24:08 +0000
Received: by qcsc20 with SMTP id c20so202754qcs.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 14:23:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=iswKuMRbc8pjrcX7kRcgzGfJdKKvuvNZTxpAwMZbMpo=;
        b=nvGo1f6Wwk35sepDv4Zm82q+yTGixOBJi8FsNLx9j9hXg0iUW/OwpYroDjPzpZw1Vd
         BtvMIeEw75uv41cKVKXOE85G4LhkZdjLARgnG/u9O14TZzzij5AaFfAJvMGQR2T3L2pX
         dNBSF5k8p6RrrTpW+g8Sao507hhd4RIgrykI0o7ceIZnCUEroZMl3fHI6imqpJrA9+tz
         H0+UVWRzUGFOuGOLJW14i7cZl8YmgbdzxN0Ayl1ZeLy9+qahnx/XhbHEpmGStZCkuhJv
         pzgTwPxeE5An+v90K8NoxAFreJuube+88aSrQzxZUIs5PV3Hq8eJrVdnqeh9AEks5+r1
         EZwg==
Received: by 10.229.135.74 with SMTP id m10mr238848qct.120.1338413026817; Wed,
 30 May 2012 14:23:46 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.179.91 with HTTP; Wed, 30 May 2012 14:23:26 -0700 (PDT)
In-Reply-To: <4FC629BF.9010703@christopherschultz.net>
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
 <4FC629BF.9010703@christopherschultz.net>
From: S Ahmed <sahmed1020@gmail.com>
Date: Wed, 30 May 2012 17:23:26 -0400
Message-ID: <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00248c6a69a606b70e04c147910c

--00248c6a69a606b70e04c147910c
Content-Type: text/plain; charset=ISO-8859-1

Chris,

Great thanks that is exactly what I was looking for, just to get an idea at
this point.

And yes it was for mysql.

I was thinking one could create a smarter pool, one that created more
connections for sites used more often, and less for others.

Much appreciated.

On Wed, May 30, 2012 at 10:07 AM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Ahmed,
>
> On 5/29/12 9:29 AM, S Ahmed wrote:
> > If my requirement for a hosted application is to give each
> > customer a separate instance of mysql, I am curious how feasible
> > that would be.
>
> You can certainly do this.
>
> > What is the memory footprint for a single connection to a
> > database?
>
> That depends a lot of which database you are using (MySQL connections
> are fairly modest: the "retained size" of one of my MySQL
> JDBC4Connection objects is 66k in an x86-64 environment with a 64-bit
> Sun/Oracle JVM), what things you are having cached/pooled on the
> client side, etc. You'd have to give us a lot more information about
> your environment. Better yet, configure it the way you want it and use
> a profiler to see how "big" the connections become.
>
> > If I had 10K separate mysql instances, would it be feasible to
> > create a pool of pools? i.e. a hashmap of connection pools?
>
> That sounds like a lot of MySQL instances to be contacted by a single
> application server. Do you need 10k separate customers all running in
> the same webapp?
>
> If my environment and requirements match yours, you'd need 10000 *
> max_pool_size * 66KiB at peak usage. That's about 640MiB for each
> connection you want in 10k pools. For a (uniform) max pool size of 4,
> you'll need more than 2GiB of heap space just for connection pools.
>
> Is that acceptable?
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/GKb8ACgkQ9CaO5/Lv0PBmCACghH4L1ycmK1UwHHPq1aVu0Sxn
> X2IAnjePQzdy5iMAL5pEIe0KgxRY1q8V
> =Uieg
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00248c6a69a606b70e04c147910c--

From users-return-234557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 22:19:21 2012
Return-Path: <users-return-234557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E0A5ECE51
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 22:19:20 +0000 (UTC)
Received: (qmail 30673 invoked by uid 500); 30 May 2012 22:19:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30610 invoked by uid 500); 30 May 2012 22:19:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30599 invoked by uid 99); 30 May 2012 22:19:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 22:19:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 22:19:10 +0000
Received: from [192.168.245.129] (p549E0AC6.dip0.t-ipconnect.de [84.158.10.198])
	by tor.combios.es (Postfix) with ESMTPA id 1CD5ADA0857
	for <users@tomcat.apache.org>; Thu, 31 May 2012 00:18:47 +0200 (CEST)
Message-ID: <4FC69CC6.3070104@ice-sa.com>
Date: Thu, 31 May 2012 00:18:46 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com> <4FC629BF.9010703@christopherschultz.net> <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
In-Reply-To: <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

> 
> On Wed, May 30, 2012 at 10:07 AM, Christopher Schultz <
> chris@christopherschultz.net> wrote:
..
>>
>> If my environment and requirements match yours, you'd need 10000 *
>> max_pool_size * 66KiB at peak usage. That's about 640MiB for each
>> connection you want in 10k pools. For a (uniform) max pool size of 4,
>> you'll need more than 2GiB of heap space just for connection pools.
>>
>> Is that acceptable?
>>

Taking the same hypothetical case and figures :

Assuming that you need a total of (10000 * 4 connections) = 40000 connections.
Assuming that it takes 10ms to set up one such connection, and that once it is there, you 
don't do anything with it and just let it be for now.
Assuming we ignore such things like bandwidth, other things happening on that host etc..
It then takes a total of (10 ms * 40000) = 400000 ms = 400s = ~ 6.5 minutes
just to set up these connections.

Is that acceptable ?

What I mean is that once you start playing with such numbers, you may want to look at 
other aspects than just required memory..

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed May 30 23:49:29 2012
Return-Path: <users-return-234558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCF9BC8E1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 30 May 2012 23:49:29 +0000 (UTC)
Received: (qmail 75222 invoked by uid 500); 30 May 2012 23:49:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75155 invoked by uid 500); 30 May 2012 23:49:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75145 invoked by uid 99); 30 May 2012 23:49:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 23:49:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 May 2012 23:49:18 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id GPdR1j0021c6gX85BPowr9; Wed, 30 May 2012 23:48:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id GPot1j01L38FjT13jPovkW; Wed, 30 May 2012 23:48:56 +0000
Message-ID: <4FC6B1E7.1060305@christopherschultz.net>
Date: Wed, 30 May 2012 19:48:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com> <4FC629BF.9010703@christopherschultz.net> <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com> <4FC69CC6.3070104@ice-sa.com>
In-Reply-To: <4FC69CC6.3070104@ice-sa.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andr,

On 5/30/12 6:18 PM, Andr Warnier wrote:
> Taking the same hypothetical case and figures :
> 
> Assuming that you need a total of (10000 * 4 connections) = 40000 
> connections. Assuming that it takes 10ms to set up one such 
> connection, and that once it is there, you don't do anything with 
> it and just let it be for now. Assuming we ignore such things like 
> bandwidth, other things happening on that host etc.. It then takes 
> a total of (10 ms * 40000) = 400000 ms = 400s = ~ 6.5 minutes just 
> to set up these connections.
> 
> Is that acceptable ?
> 
> What I mean is that once you start playing with such numbers, you 
> may want to look at other aspects than just required memory..

There's also the issue of open filehandles, etc. My development
environment is limited to 10240 filehandles per process (though of
course that can be changed). Opening 10,000 connections would use most
of those, leaving very few left to accept incoming requests from
clients, etc.

It would be easier if all databases were hosted by a single instance
of MySQL -- then you could use Tomcat-pool's feature of being able to
provide credentials when obtaining connections from the pool -- and
get the right database. That way, a much smaller number of connections
could be maintained with roughly the same semantics.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/GsecACgkQ9CaO5/Lv0PC7HACeNXMp5KZpAHGfhK73/MPFcGOn
eIwAoJ7g4P/Nz2DBgNHBhwkq0jO3HMCu
=aeCE
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 00:05:48 2012
Return-Path: <users-return-234559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83DEAC976
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 00:05:48 +0000 (UTC)
Received: (qmail 15919 invoked by uid 500); 31 May 2012 00:05:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15843 invoked by uid 500); 31 May 2012 00:05:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15834 invoked by uid 99); 31 May 2012 00:05:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:05:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:05:38 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id GBjx1j0011ei1Bg5EQ5HwX; Thu, 31 May 2012 00:05:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id GQ5E1j01r38FjT13kQ5G1D; Thu, 31 May 2012 00:05:17 +0000
Message-ID: <4FC6B5BC.8070305@christopherschultz.net>
Date: Wed, 30 May 2012 20:05:16 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: using CATALINA_BASE
References: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
In-Reply-To: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chad,

On 5/30/12 12:40 PM, Chad.Davis@emc.com wrote:
> I'm following the directions found in the RUNNING.txt file of the
> distribution, version 5.5.35.
> 
> It says:
> 
> "you can pass a '-Dcatalina.base=$CATALINA_BASE' argument when 
> executing the startup command"
> 
> This doesn't work for me.  I think I kind of know why but a couple
> of points of clarification would be useful.
> 
> 1)   This parameters is a pass through to the JVM correct?  In
> other words, it means nothing in the startup.sh and catalina.sh
> scripts.
> 
> 2)   If the answer to number 1 is true, it seems that catalina.sh's
> execution of my $CATALINA_BASE/bin/setenv.sh will never get
> executed . . .

If you have modified any of the startup scripts (except for
bin/setenv.sh), then undo those modifications. It appears that the
documentation is a bit confusing: there is no need to specify a
- -Dcatalina.base parameter anywhere.

Instead, all you have to do is set the CATALINA_BASE environment
variable at some point before launching the startup script. Note that
you can't effectively set CATALINA_BASE in your
CATALINA_BASE/bin/setenv.sh because, well, CATALINA_BASE must already
be known in order to call it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/GtbwACgkQ9CaO5/Lv0PAIhwCdEqzUzTAInpmHg9cbwHqWLZaU
lRQAn0hsb4eF7rTJGe2Df1Aoo8cym+0j
=3be0
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 00:09:47 2012
Return-Path: <users-return-234560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B433C983
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 00:09:47 +0000 (UTC)
Received: (qmail 24886 invoked by uid 500); 31 May 2012 00:09:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24641 invoked by uid 500); 31 May 2012 00:09:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24631 invoked by uid 99); 31 May 2012 00:09:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:09:44 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:09:37 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id GQ801j0031ap0As51Q8rUa; Thu, 31 May 2012 00:08:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id GQ8o1j00b38FjT13iQ8qrN; Thu, 31 May 2012 00:08:51 +0000
Message-ID: <4FC6B691.1040209@christopherschultz.net>
Date: Wed, 30 May 2012 20:08:49 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question about resetting datasources and changes to the BasicDataSource.close()
 method
References: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
In-Reply-To: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brooke,

On 5/30/12 3:31 PM, Hedrick, Brooke - 43 wrote:
> How are others dynamically resetting/resizing their database
> connection pools when necessary?

Quick question about all this: why do you need to do any more
dynamic-resizing than dbcp already provides out of the box? I know
that dbcp doesn't have a built-in method for trashing all connections
and re-filling the pool, but re-sizing is definitely something it can
already do (see the configuration property "minEvictableIdleTimeMillis").

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/GtpEACgkQ9CaO5/Lv0PALnwCgtIQEoDQ8PHSX//pv9NDRg8f+
jQMAn2sxxVMgY4Q5ea7aLvHGkp13tdBO
=4tle
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 00:10:46 2012
Return-Path: <users-return-234561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A8E0C98E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 00:10:46 +0000 (UTC)
Received: (qmail 29966 invoked by uid 500); 31 May 2012 00:10:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29740 invoked by uid 500); 31 May 2012 00:10:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29712 invoked by uid 99); 31 May 2012 00:10:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:10:42 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 00:10:34 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id GPuH1j0011uE5Es57QACfj; Thu, 31 May 2012 00:10:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id GQAA1j02S38FjT13cQACtV; Thu, 31 May 2012 00:10:12 +0000
Message-ID: <4FC6B6E4.8040101@christopherschultz.net>
Date: Wed, 30 May 2012 20:10:12 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: thread dump of Tomcat7.0.27.exe on is not working
References: <4FC6406E.8070207@yahoo.com>
In-Reply-To: <4FC6406E.8070207@yahoo.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Takeshi,

On 5/30/12 11:44 AM, Takeshi.Yoshida wrote:
> I installed Tomcat7.0.27.exe on Windows7 and Windows2008R2. The
> Tomcat almost works fine. However, when I right click on the Tomcat
> service icon on system tray and select menu "Thread Dump", I get a
> windows message and it's saying: "The system can not find the file
> specified. Unable to open the Event Mutex".

How did you launch Tomcat? Do you have multiple service definitions
for Tomcat?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/GtuQACgkQ9CaO5/Lv0PAILACfdgpmazHPgUAxMm9RSGFxvdFx
JskAoLwEI1oPq6/EwbNstJdiFATakxso
=kyiK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 02:53:09 2012
Return-Path: <users-return-234562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27EB39057
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 02:53:09 +0000 (UTC)
Received: (qmail 66307 invoked by uid 500); 31 May 2012 02:53:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65971 invoked by uid 500); 31 May 2012 02:53:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65908 invoked by uid 99); 31 May 2012 02:53:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 02:53:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 02:52:58 +0000
Received: by pbbro12 with SMTP id ro12so899242pbb.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 19:52:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=NdyDmeK+IUHIy7mVqBvEPk4lnqSUhEm81Z+bzbGudUA=;
        b=gqCLoxCIgE2txl8xXpbzkhCJBvySMk0lvhtJBiTr9fzWJ9OK2Vsd7Qq0tT19K+SdZ7
         x/7+UIGRFq2ie18sFcQ674kKbTgEDGFlBgguUh8DLac42VLArdQzM1Vcbr5ax62sktNx
         n/GXHhb8mt1KbycVqTrn4zLes3oOcg7SBbfhfJEWJWnL5irbsqeGr48v2cWXoXhO1mdS
         Alt/8ripRkWomKUqAlsiW5pD8zTqWlaxe6z7L2F2nMIhMjNeCidhZKXol3AY/FPf1WE4
         dL9LL3lpe0n6mONDNUO1tZG+QqC13aGrP2OvgCVbZLBpia+DfI5vtlDpRqkMJXbNp2+l
         s9oA==
MIME-Version: 1.0
Received: by 10.68.134.1 with SMTP id pg1mr1989711pbb.1.1338432757481; Wed, 30
 May 2012 19:52:37 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Wed, 30 May 2012 19:52:37 -0700 (PDT)
In-Reply-To: <4FC6B5BC.8070305@christopherschultz.net>
References: <26A7FC1339D50348898F6DFFC9A96D9C0975F641@MX14A.corp.emc.com>
	<4FC6B5BC.8070305@christopherschultz.net>
Date: Thu, 31 May 2012 06:52:37 +0400
Message-ID: <CABzHfVkStFgkL04wjC6qU6Y8mtwq7XM5PGMMLhnWD244KpQ-tg@mail.gmail.com>
Subject: Re: using CATALINA_BASE
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/31 Christopher Schultz <chris@christopherschultz.net>:
>
> On 5/30/12 12:40 PM, Chad.Davis@emc.com wrote:
>> I'm following the directions found in the RUNNING.txt file of the
>> distribution, version 5.5.35.
>>
>> It says:
>>
>> "you can pass a '-Dcatalina.base=3D$CATALINA_BASE' argument when
>> executing the startup command"
>>
>> This doesn't work for me. =A0I think I kind of know why but a couple
>> of points of clarification would be useful.
>>
>> 1) =A0 This parameters is a pass through to the JVM correct? =A0In
>> other words, it means nothing in the startup.sh and catalina.sh
>> scripts.
>>
>> 2) =A0 If the answer to number 1 is true, it seems that catalina.sh's
>> execution of my $CATALINA_BASE/bin/setenv.sh will never get
>> executed . . .
>
> If you have modified any of the startup scripts (except for
> bin/setenv.sh), then undo those modifications. It appears that the
> documentation is a bit confusing: there is no need to specify a
> - -Dcatalina.base parameter anywhere.
>
> Instead, all you have to do is set the CATALINA_BASE environment
> variable at some point before launching the startup script. Note that
> you can't effectively set CATALINA_BASE in your
> CATALINA_BASE/bin/setenv.sh because, well, CATALINA_BASE must already
> be known in order to call it.
>

Confirming the above.

I updated 5.5 docs in r1344535. If we ever do a new 5.5 release it
will be included there.

http://svn.apache.org/viewvc?view=3Drevision&revision=3D1344535

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 03:47:44 2012
Return-Path: <users-return-234563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48DBFCD47
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 03:47:44 +0000 (UTC)
Received: (qmail 61104 invoked by uid 500); 31 May 2012 03:47:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60933 invoked by uid 500); 31 May 2012 03:47:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60911 invoked by uid 99); 31 May 2012 03:47:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 03:47:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of manjesh.h@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 03:47:33 +0000
Received: by vcbfo13 with SMTP id fo13so400388vcb.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 20:47:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=0EZnXBdTbiZqbfV3PfyHit9B+328fo0tVrEYqi9Pjmg=;
        b=WliKjx6jFYA4X6fYC9cKBSfXtqLYc6zU9D+AHsUGyvskZ1cG55VAuuijyYMmM1ohe6
         brQ4XUT28nTgmn/NC7Kx6+4cxZwhL47SAj0VM3DRXWyX4XTUBzCZC2e7CynngHZOOFx2
         yrWSR+xcseudZ3Wgf/OyV2X9xiwAEpvMQK20OxY9hTyNdg+iw2WU4ZSDi3SKkmj1DnH6
         IZa9RieIG/5gNksoWIE8UnJJpXNO21d7+4gNVfnzqyr5D4fozWgbDnQlUXpNrUOPIjqW
         4rYO/Rv6E9iERBaEfIJDlFwAGRXvzrmb+T4FJ0Eg0kc7BTYi/3nAFMk8Q5EBAOBUGa4a
         TQFg==
MIME-Version: 1.0
Received: by 10.220.240.7 with SMTP id ky7mr505394vcb.46.1338436032168; Wed,
 30 May 2012 20:47:12 -0700 (PDT)
Received: by 10.220.61.9 with HTTP; Wed, 30 May 2012 20:47:12 -0700 (PDT)
In-Reply-To: <CABzHfV=PH+S=CHQ2OdH2jRU0uwi_o1hbyue109S23tKzpCZkiQ@mail.gmail.com>
References: <CALEhJthpTcdJRO7cwbSkvvDkr27wJcXPDcd6W7qOs9ah9rNM2A@mail.gmail.com>
	<CABzHfV=PH+S=CHQ2OdH2jRU0uwi_o1hbyue109S23tKzpCZkiQ@mail.gmail.com>
Date: Thu, 31 May 2012 09:17:12 +0530
Message-ID: <CALEhJtg2s0gKQP31ArLGz7GdcB6jeBFHzTnf6TuttQA1xZj2ZA@mail.gmail.com>
Subject: Re: how to test hash collision security fix in tomcat 7.1
From: manjesh <manjesh.h@gmail.com>
To: users@tomcat.apache.org, knst.kolinko@gmail.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,
The exact version of tomcat I am working with is 7.0.27

I am verifying the fix discussed here

http://news.softpedia.com/news/Apache-Tomcat-Workaround-for-Hashtable-Colli=
sion-DoS-Vulnerability-243544.shtml


Here is the snippet of implementation  [
org.apache.tomcat.util.http.Parameters.java]


 private int limit =3D -1;                       ----------------> this
is being set to the value of maxParameterCount  mentioned in Connector
tag of server.xml
 private int parameterCount =3D 0;

public void addParameter( String key, String value )
            throws IllegalStateException {

        if( key=3D=3Dnull ) {
            return;
        }

        parameterCount ++;
        if (limit > -1 && parameterCount > limit) {
            // Processing this parameter will push us over the limit. ISE i=
s
            // what Request.parseParts() uses for requests that are too big
            parseFailed =3D true;
            throw new IllegalStateException(sm.getString(
                    "parameters.maxCountFail", Integer.valueOf(limit)));
        }

        ArrayList<String> values =3D paramHashValues.get(key);
        if (values =3D=3D null) {
            values =3D new ArrayList<String>(1);
            paramHashValues.put(key, values);
        }
        values.add(value);
    }


now what happens when number of request parameters  exceeds maxParameterCou=
nt ?


-Manjesh

On Thu, May 31, 2012 at 2:39 AM, Konstantin Kolinko
<knst.kolinko@gmail.com> wrote:
> 2012/5/30 manjesh <manjesh.h@gmail.com>:
>> Hi ,
>> I have downloaded tomcat 7.1 for Windows OS
>>
>
> 1. There is no such version. I do not know what you are testing.
>
>> added the following parameter (maxParameterCoun) =C2=A0into server.xml
>>
>> =C2=A0<Connector port=3D"8080" protocol=3D"HTTP/1.1"
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0connectionTimeout=3D"200=
00"
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0redirectPort=3D"8443" ma=
xParameterCount=3D"5"/>
>>
>>
>>
>> restarted the server.
>>
>> to test this fix , I created a JSP with 6 text fields having same name
>> ( example =C2=A0 <input type=3D"text" name=3D"username"/> =C2=A06 input =
boxes )
>> when I give input for all of these input fields and click on submit,
>> still the request is being processed...
>> I am expecting =C2=A0the request processing should be aborted and
>> illegateStateException must be thrown according to the fix done in
>> Parameters class =C2=A0of (tomcat-coyote.jar)
>>
>
> 2. Your expectations are wrong. Documentation for that option in
> configuration reference says exactly what happens what you have more
> parameters than specified by that option.
>
> An IllegalStateException cannot be thrown, because Servlet API does
> not allow that.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Regards
Manjesh

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 04:04:25 2012
Return-Path: <users-return-234564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03974CDA3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 04:04:25 +0000 (UTC)
Received: (qmail 92718 invoked by uid 500); 31 May 2012 04:04:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92651 invoked by uid 500); 31 May 2012 04:04:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92622 invoked by uid 99); 31 May 2012 04:04:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:04:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:04:14 +0000
Received: by qcsc20 with SMTP id c20so358497qcs.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 21:03:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=rHOX5K2NH3/QvAuMsZZx1jwo1Mc+50I7McIfiW/8+ew=;
        b=NrQzgIWQjrg7JW+nHp4MDlg2dfaM1FoS77kk/dy7j+fJbRfX9MxmFfCowJhwICzlzd
         s1klLv9bnprb60ypEHP0F71+Hw/BZYAjJU8pn/UJiuBUo0RmFo4l+RjofFmd6doxmaV/
         XlH0Z4u9v6eEY6SxA+sbTJAWSp6+D96SGBax/DDzNJ7TUIANAPlfWUIshCScQFAVSobB
         F6RRH6DiWFu2apU1Liholawnwo5GhIX067hBbdF3uWynp6WIMTW3qmf7uG9wlHh5VU3k
         lDV1hwW5mVsj8CXGWw9HGsoIH2IG+l2ucGqfyKHMyP1WDIXR22rtGHFQv13RpzHwFMGZ
         hH8A==
Received: by 10.224.211.4 with SMTP id gm4mr18301011qab.98.1338437033070;
        Wed, 30 May 2012 21:03:53 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id i7sm4082117qae.20.2012.05.30.21.03.50
        (version=SSLv3 cipher=OTHER);
        Wed, 30 May 2012 21:03:51 -0700 (PDT)
Message-ID: <4FC6EDA3.5010301@poonam.org>
Date: Thu, 31 May 2012 09:33:47 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Where do I store Images in tomcat structure so that I can retrive
 it properly in all browsers
References: <4FC3FE72.5040906@poonam.org> <4FC4E11F.1000305@christopherschultz.net>
In-Reply-To: <4FC4E11F.1000305@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQmP1A/1LCHxiCI13Ny6R5m+ST/TVoC7Gk6bZj46xhehjMAjrbbzpOoJ2/zNfDiWfrORI7gj
X-Virus-Checked: Checked by ClamAV on apache.org

On 5/29/2012 8:15 PM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Kiran,
>
> On 5/28/12 6:38 PM, Kiran Badi wrote:
>> I am using Tomcat 7.0.11
> Upgrade. http://tomcat.apache.org/security-7.html
Yup, I already have 7.0.27 and this one is tied with netbeans and I 
really do not want to disturb this environment.
>
>> and environment is win 7 home premium with servlet/jsp/jstl with
>> netbeans 7.01
>>
>> I have form where in I upload the image to the folder C://xx
>> using apache commons file upload and then store the file name to
>> the DB.Everything is good till here.
> Good.
>
>> Then when I want to display the same image, I query the database
>> using servlet and store the image name to attribute like
>>
>> request.setAttribute("collegesimg", img);
>>
>> now via front end jsp, I want to display the same image stored in
>> attribute,
>>
>> I do
>>
>> <img src="C://UploadedImages/${collegesimg}" width="80%"
>> height="500">
> Assuming that C://xx and C://UploadedImages are the same thing, then
> this will work only if your remote user is actually on your own
> machine (the server). File paths wont work as URLs unless they are local.
Yes they are same and aware of this information.
>
>> Now this works perfectly fine,but FF/Chrome fails saying cannot
>> load local resources with 404 status.
>>
>> Now I can understand that this is FF/Chrome by default do allow to
>> access local file system on the client.Good till here.
>>
>> But I am not able to figure out where do I store the images now so
>> that I can display it correctly and they remain in place when I
>> redeploy the app?
> First, you need to reference them from your web pages using http://
> URLs like this:
>
> <img src="http://server/UploadedImages/${collegesimg}" width="80%"
> height="500">

Yes I am trying this now,but still getting 404 with 
http://localhost:8080/servername/UploadedImages/image.jpeg(Yes image do 
exist in folder)
Here is what I tried after reading  googling and binging
I added this to server.xml,

<Context path="/ourstory"
              docBase="c:\UploadedImages"
              reloadable="true"
              crossContext="true" />
I know something is incorrect here or totally wrong.
>
> (Are you sure its appropriate to have images always at 500px and 80%
> parent-width?)
I am currently experimenting with designs.Again this is not full 
screenwidth, they are sized based on container sizes.I have form 
enclosed withing div.
>> Is their any place in Tomcat's dir structure where the folder is
>> still called root folder and when we undeploy or redeploy , images
>> still remains intact ?
> If you put your uploaded pictures into your webapp's deployment
> directory, you are very likely to have them deleted when your webapp
> is undeployed. So, put them somewhere else. Since you are using Tomcat
> 7, your best bet is to use the "alias" feature:
>
> http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Standard_Implementation
>
> (Read about the 'aliases' configuration attribute)
This aliases feature is really helpful feature.But my bad, I can see the 
importance of this feature,but unfortunately not able to get much info 
on net wrt to Tomcat 7.
I did try to add context element in Meta-inf/Context.xml and server.xml, 
in all the cases build creation failed probably due to malformed context 
xml.
I will try again tommarrow.Seems like I need to understand as how 
Netbeans sets up the context for the project and then accordingly I need 
to proceed.

By any chance

Is their any example for this anywhere on Tomcat site ? .

Also I believe that if I implement this aliases , I might not need to 
write streaming servlet to read images or have httpd infront of tomcat.I 
want to avoid both since I already have many jsp/servlets and httpd ,i 
dont see a reason as my application is dynamic and plain DB 
calls.Nothing really complicated.

>
>> My tomcat 7.0.11 structure looks something like below,
> It doesn't matter, because you need to put your files elsewhere.
>
>> Directory of C:\Program Files\Apache Software Foundation\Apache
>> Tomcat 7.0.11\webapps
>>
>> 03/30/2012  07:40 AM<DIR>           . 03/30/2012  07:40 AM<DIR>
>> .. 06/12/2011  05:16 AM<DIR>           docs 06/12/2011  05:16 AM
>> <DIR>           examples 03/30/2012  07:40 AM<DIR>           files
>> 06/12/2011  05:16 AM<DIR>           host-manager 06/12/2011  05:16
>> AM<DIR>           manager 06/12/2011  05:16 AM<DIR>           ROOT
> If you want to make this server public, you are going to want to
> undeploy everything you don't need: do you need the host-manager, etc.?

No I dont need these ,I will check and remove once I decide to put this 
on live.

Thanks chris for your reply.

>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/E4R8ACgkQ9CaO5/Lv0PBbCACgrk43sQypzrEsmEco17DxEY05
> kD8AnRowLUYfLYgmJdc+5w3h4lfm2Qku
> =g4v7
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 04:17:31 2012
Return-Path: <users-return-234565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 24E8ECDD5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 04:17:31 +0000 (UTC)
Received: (qmail 18126 invoked by uid 500); 31 May 2012 04:17:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17725 invoked by uid 500); 31 May 2012 04:17:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17639 invoked by uid 99); 31 May 2012 04:17:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:17:22 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aman.arora051@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:17:17 +0000
Received: by wibhm14 with SMTP id hm14so389032wib.0
        for <users@tomcat.apache.org>; Wed, 30 May 2012 21:16:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=80T6OYPqLk5vo3LaH2E9Os7VPNI8LzzG7pWnpCd4Y9E=;
        b=l/yX3SWrw1SloDdIsJNMcuQEddH1D9A3Sd10hc/v6+SSZW86FPfSWJrgYC/ErtM09U
         wgoyZ/lPdopXNdGchQyO7otblTav4Fz2/+uF63Xf4jnTZcBEH4yi2VYS4npJBDRN45/c
         eMpMM8ZzNGux28/oAax5VeA/cWfPZzkA6Vepj9oCMr/W6IfN8W+3pIcXPA2FhWAeDTMQ
         zR8LViCk1AfX/EsBgv/5dRJ0rpULNErtrJwfBC5I/8IbWoFlQ7eLGsKHkr1hxpsVxBcq
         2LeB7TVDpf5PVQAfzaNb1Cefr0nEI/WzZHx1WjUrpMXYfL69hk4EE+xh2jCn6OJZc/QM
         VdFA==
MIME-Version: 1.0
Received: by 10.216.150.213 with SMTP id z63mr12965889wej.102.1338437815976;
 Wed, 30 May 2012 21:16:55 -0700 (PDT)
Received: by 10.216.237.194 with HTTP; Wed, 30 May 2012 21:16:55 -0700 (PDT)
In-Reply-To: <4FC36153.2000408@apache.org>
References: <CAKiR-tR-Q68cw+mApq+sv9XbwnJn+CLGyPRLHxJxL_3ejFh8Zg@mail.gmail.com>
	<4FC36153.2000408@apache.org>
Date: Thu, 31 May 2012 09:46:55 +0530
Message-ID: <CAKiR-tQfoFOpYuX4R8LmidK_h0UjbUh0NcmMCDbHjTsiHf3NQQ@mail.gmail.com>
Subject: Re: is there anyway to check whether mod_jk is properly built or not?
From: Aman Arora <aman.arora051@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6ddfed19343d004c14d5653
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6ddfed19343d004c14d5653
Content-Type: text/plain; charset=ISO-8859-1

mod_jk.so is created and i copied it to /usr/local/apache2/modules.
i followed the steps from
http://tomcat.apache.org/tomcat-3.3-doc/mod_jk-howto.html#s61
there they have written change directory to
TOMCAT_HOME/native/mod_jk/apache1.3
but i m afraid that theres no such directory.
and build-unix.sh is also not there.
for linux there is some command
apxs -o mod_jk.so -I../jk -I/usr/local/jdk/include
-I/usr/local/jdk/include/linux -c *.c ../jk/*.c
in which directory i have to run this command.


thanx !


>

--0016e6ddfed19343d004c14d5653--

From users-return-234566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 04:24:09 2012
Return-Path: <users-return-234566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C24CFCEB1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 04:24:09 +0000 (UTC)
Received: (qmail 37438 invoked by uid 500); 31 May 2012 04:24:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37393 invoked by uid 500); 31 May 2012 04:24:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37372 invoked by uid 99); 31 May 2012 04:24:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:24:05 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.211 as permitted sender)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 04:23:56 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-11.tower-201.messagelabs.com!1338438213!9591460!8
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 11281 invoked from network); 31 May 2012 04:23:34 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-11.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 31 May 2012 04:23:34 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 30 May 2012 23:23:09 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 30 May
 2012 23:23:09 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 30 May 2012 23:23:08 -0500
Subject: RE: is there anyway to check whether mod_jk is properly built or
 not?
Thread-Topic: is there anyway to check whether mod_jk is properly built or
 not?
Thread-Index: Ac0+5Ev32caUDSi7SuC5Yjqt0CdMdgAAHK+w
Message-ID: <99C8B2929B39C24493377AC7A121E21FB028C17803@USEA-EXCH8.na.uis.unisys.com>
References: <CAKiR-tR-Q68cw+mApq+sv9XbwnJn+CLGyPRLHxJxL_3ejFh8Zg@mail.gmail.com>
	<4FC36153.2000408@apache.org>
 <CAKiR-tQfoFOpYuX4R8LmidK_h0UjbUh0NcmMCDbHjTsiHf3NQQ@mail.gmail.com>
In-Reply-To: <CAKiR-tQfoFOpYuX4R8LmidK_h0UjbUh0NcmMCDbHjTsiHf3NQQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Aman Arora [mailto:aman.arora051@gmail.com]=20
> Subject: Re: is there anyway to check whether mod_jk is properly built or=
 not?

> i followed the steps from
> http://tomcat.apache.org/tomcat-3.3-doc/mod_jk-howto.html#s61

Why in the world would anyone be looking at doc for a version of Tomcat tha=
t disappeared nearly a decade ago?  You can't seriously be trying to use To=
mcat 3.3.=20

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 06:56:41 2012
Return-Path: <users-return-234567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 394AF96F6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 06:56:41 +0000 (UTC)
Received: (qmail 30061 invoked by uid 500); 31 May 2012 06:56:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29890 invoked by uid 500); 31 May 2012 06:56:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29861 invoked by uid 99); 31 May 2012 06:56:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 06:56:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 06:56:30 +0000
Received: by yenm4 with SMTP id m4so681204yen.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 23:56:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=TJivS0JG7Mt1uWvB9tMX6VYtLQfMHCt3pLvQ5ZfSnG4=;
        b=ERZFuTPXT8gdq7EBIyxfHTBeoucTp1x2WQoPLZIU3g7BoNrEMYOQBiPsygRc9zpSeN
         3WV5SRfQtngi8QZ3egBc7itP74GZAw3Bn9Lw+qSoNwrGXKNegUd75vvNXBaJWrpGRzPp
         Kgo0mS/SJwMdyIwYtqIZDYJ6pxm+YjZ7fnzCU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=TJivS0JG7Mt1uWvB9tMX6VYtLQfMHCt3pLvQ5ZfSnG4=;
        b=VJVS8MlIgVnoBqI62bDefb2J/YzBnsnyKy+2hmHz46zClGtx23+tX39xhWcfjhsYu3
         vuFQ952coXqO5cCBHC/6MoiWU7BH2KD96HGNFQ5361qyUxgKmKVwuAfy5cTq6oxzSzij
         0Nd/8nbWpTBQrRFcH+t1zNWQD3fDN6WDY2na2upEBRCkxh7qo/cjTb60aAyuNlHEoGgq
         BGaEbJdSpxzlZ5xEFY/NK2fZ7mW5diPhkN81Gv8zORqaq6Tej079uOxjzCpC3NBZ9NxG
         K5UR74Zy6n9POMrhQtlC/tVbQcnB9Qicg3PQyP9sXTwDKpfS+OyeYBZVN2fwiVERY/jm
         6aHw==
Received: by 10.236.155.6 with SMTP id i6mr1034316yhk.11.1338447369117; Wed,
 30 May 2012 23:56:09 -0700 (PDT)
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
 <4FC629BF.9010703@christopherschultz.net> <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
 <4FC69CC6.3070104@ice-sa.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FC69CC6.3070104@ice-sa.com>
Mime-Version: 1.0 (1.0)
Date: Thu, 31 May 2012 07:55:49 +0100
Message-ID: <9204231759464878597@unknownmsgid>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQkhodQfaHaRuwcpfn7PHAzE6io64aibZzws5Yvj0NTCRcUDk7mCJgojcSu60ZmnUYkLb5qm

On 30 May 2012, at 23:19, "Andr=C3=A9 Warnier" <aw@ice-sa.com> wrote:

>> On Wed, May 30, 2012 at 10:07 AM, Christopher Schultz <
>> chris@christopherschultz.net> wrote:
> ..
>>>
>>> If my environment and requirements match yours, you'd need 10000 *
>>> max_pool_size * 66KiB at peak usage. That's about 640MiB for each
>>> connection you want in 10k pools. For a (uniform) max pool size of 4,
>>> you'll need more than 2GiB of heap space just for connection pools.
>>>
>>> Is that acceptable?
>>>
>
> Taking the same hypothetical case and figures :
>
> Assuming that you need a total of (10000 * 4 connections) =3D 40000 conne=
ctions.

File handles anyone?
Web connections n x 10k + db connections m x 10k =3D ?


> Assuming that it takes 10ms to set up one such connection, and that once =
it is there, you don't do anything with it and just let it be for now.
> Assuming we ignore such things like bandwidth, other things happening on =
that host etc..
> It then takes a total of (10 ms * 40000) =3D 400000 ms =3D 400s =3D ~ 6.5=
 minutes
> just to set up these connections.
>
> Is that acceptable ?
>
> What I mean is that once you start playing with such numbers, you may wan=
t to look at other aspects than just required memory..
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 06:57:41 2012
Return-Path: <users-return-234568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81FEF96F8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 06:57:41 +0000 (UTC)
Received: (qmail 34171 invoked by uid 500); 31 May 2012 06:57:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34010 invoked by uid 500); 31 May 2012 06:57:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33994 invoked by uid 99); 31 May 2012 06:57:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 06:57:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 06:57:31 +0000
Received: by ggnp1 with SMTP id p1so674591ggn.18
        for <users@tomcat.apache.org>; Wed, 30 May 2012 23:57:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=/Uw9M8vftc23WY0k3plrcXUyfMa+OWaBva1SaN8tR0g=;
        b=qipe820SqGr4e51VNW3iiEZiDjr5eB7fyVsBWz36lwA+mAHXKdbWJ7wjT+2aRxZQNG
         Isf0ntmMLAri3gWUwTbv/PeLH21vb4tA4Pbuia8VCjIES/CRVEe8Fu+FBh9gNQBsuPrm
         Ft07EE30J/BKSPhR8MYcUu1E1gXEgSD82Wt5I=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=/Uw9M8vftc23WY0k3plrcXUyfMa+OWaBva1SaN8tR0g=;
        b=R3VJKQwUwVX9tzJDxalr9RPjuaAFCG/vua7ChkiInU7juI9xzKMnUiRIxL5mjsvdQc
         E7K6l5AbQsiSNG1QwaphdQVQeTes32lDVAv7pN9W7d0Juivu/6ZwyfEyTgb1gcK7Kb/I
         97U6imUrOkKG67yW94hJsjB7FEZRZyCHKn/9Z55D/Bd94cEiDQ3t+U7wVkkO6X8yFpXT
         GCSHQivFr/QU/qW6mDWe4rv6VD3FQ+r1XhR8cmIjd+a/GX0ktYEQs3YdBRe0bsJqGJrH
         lez03rKfiJkm+WhhAfh/3DQZbuOT7IkjfOLEytKqs0cR3BL6EkxP26umCsmSLLdct1rX
         uzFg==
Received: by 10.236.126.15 with SMTP id a15mr1025641yhi.14.1338447431192; Wed,
 30 May 2012 23:57:11 -0700 (PDT)
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
 <4FC629BF.9010703@christopherschultz.net> <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
 <4FC69CC6.3070104@ice-sa.com> <32527565.5963.1338421793271.JavaMail.mobile-sync@vcok17>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <32527565.5963.1338421793271.JavaMail.mobile-sync@vcok17>
Mime-Version: 1.0 (1.0)
Date: Thu, 31 May 2012 07:56:40 +0100
Message-ID: <8159094285948234855@unknownmsgid>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQmoMfMeKB8uVNvYEYITRllbXO+bMVdWk0tvPzwQ2FhI3ugERH43mGOwOOxh5oaZeJ+JIJxc

On 31 May 2012, at 00:49, Christopher Schultz
<chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Andr=C3=A9,
>
> On 5/30/12 6:18 PM, Andr=C3=A9 Warnier wrote:
>> Taking the same hypothetical case and figures :
>>
>> Assuming that you need a total of (10000 * 4 connections) =3D 40000
>> connections. Assuming that it takes 10ms to set up one such
>> connection, and that once it is there, you don't do anything with
>> it and just let it be for now. Assuming we ignore such things like
>> bandwidth, other things happening on that host etc.. It then takes
>> a total of (10 ms * 40000) =3D 400000 ms =3D 400s =3D ~ 6.5 minutes just
>> to set up these connections.
>>
>> Is that acceptable ?
>>
>> What I mean is that once you start playing with such numbers, you
>> may want to look at other aspects than just required memory..
>
> There's also the issue of open filehandles, etc. My development
> environment is limited to 10240 filehandles per process (though of
> course that can be changed). Opening 10,000 connections would use most
> of those, leaving very few left to accept incoming requests from
> clients, etc.

Ah, beat me to it.


p

> It would be easier if all databases were hosted by a single instance
> of MySQL -- then you could use Tomcat-pool's feature of being able to
> provide credentials when obtaining connections from the pool -- and
> get the right database. That way, a much smaller number of connections
> could be maintained with roughly the same semantics.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/GsecACgkQ9CaO5/Lv0PC7HACeNXMp5KZpAHGfhK73/MPFcGOn
> eIwAoJ7g4P/Nz2DBgNHBhwkq0jO3HMCu
> =EF=BF=BDCE
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 09:03:39 2012
Return-Path: <users-return-234569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF12A9F7C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 09:03:39 +0000 (UTC)
Received: (qmail 52003 invoked by uid 500); 31 May 2012 09:03:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51953 invoked by uid 500); 31 May 2012 09:03:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51933 invoked by uid 99); 31 May 2012 09:03:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 09:03:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of christian.finckler@gmx.de designates 213.165.64.23 as permitted sender)
Received: from [213.165.64.23] (HELO mailout-de.gmx.net) (213.165.64.23)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 31 May 2012 09:03:26 +0000
Received: (qmail invoked by alias); 31 May 2012 09:03:05 -0000
Received: from e177171003.adsl.alicedsl.de (EHLO [127.0.0.1]) [85.177.171.3]
  by mail.gmx.net (mp069) with SMTP; 31 May 2012 11:03:05 +0200
X-Authenticated: #824103
X-Provags-ID: V01U2FsdGVkX18IpuMA/GAIIsqp4M9jFxBxqgBaotvVPJ6k4x2OOW
	yHHMH8Ks65CRBo
Message-ID: <4FC733C3.3070205@gmx.de>
Date: Thu, 31 May 2012 11:02:59 +0200
From: Christian Finckler <christian.finckler@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: non blocking Websockets?
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120530-2, 30.05.2012), Outbound message
X-Antivirus-Status: Clean
X-Y-GMX-Trusted: 0

Hello,
as far I understood, the websocket implementation of tomcat is using one 
thread per client.
Is there also a possibility to configure it to use non blocking IO?
Then it should be easier to serve lots of connections without creating 
unlimited threads.

Thank you,
Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 09:09:21 2012
Return-Path: <users-return-234570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 531459F9C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 09:09:21 +0000 (UTC)
Received: (qmail 66061 invoked by uid 500); 31 May 2012 09:09:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65983 invoked by uid 500); 31 May 2012 09:09:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65974 invoked by uid 99); 31 May 2012 09:09:17 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 09:09:17 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 09:09:17 +0000
Message-ID: <4FC73539.3000805@apache.org>
Date: Thu, 31 May 2012 10:09:13 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: non blocking Websockets?
References: <4FC733C3.3070205@gmx.de>
In-Reply-To: <4FC733C3.3070205@gmx.de>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 7bit

On 31/05/2012 10:02, Christian Finckler wrote:
> Hello,
> as far I understood, the websocket implementation of tomcat is using one
> thread per client.
> Is there also a possibility to configure it to use non blocking IO?

No. That has not yet been implemented. It shouldn't be too hard provided
that non-blocking is used between messages and blocking is used during
messages. Obviously, the BIO connector will always use blocking.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 10:14:03 2012
Return-Path: <users-return-234571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CBBECA62
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 10:14:03 +0000 (UTC)
Received: (qmail 61783 invoked by uid 500); 31 May 2012 10:13:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61650 invoked by uid 500); 31 May 2012 10:13:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61621 invoked by uid 99); 31 May 2012 10:13:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 10:13:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 10:13:52 +0000
Received: by dadv2 with SMTP id v2so1224864dad.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 03:13:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=12xTpGuZMSCz050mfm/O/fdl2V4AreQMOGF9uMZtXOk=;
        b=IV8hAk2Cpyk54hEAYoiVGuKAREdt1QklyCqnt4SSr6v+9ndRyJ0qcwBa/uh5wIlIyq
         W21dVLuL+PnPZUbPvQlr132JQY7qvkEImkrlFxv6JercORqsxyI8/F4mtL3Pi8lVjSrK
         EZkIBkY/W5szdCy6I8IOZvGGjl4s3mT6p2BU/Wr3cxq8Gx31MIFK1NYCfk7PTSgsMCvF
         006lJWXoCqHO28pueDLyXNMJYJkUx9MBP9OxwOXULTwO6tJhGkAtz8HvtUQETR3BUzEP
         8+Tj5VePqVfVsjSutvoo6IrLVbXUEab9tZ2FJNj4E4H5J7fPpEnm0goUkIMkz+beSTp0
         deUA==
MIME-Version: 1.0
Received: by 10.68.202.130 with SMTP id ki2mr5446315pbc.52.1338459210925; Thu,
 31 May 2012 03:13:30 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 03:13:30 -0700 (PDT)
In-Reply-To: <CALEhJtg2s0gKQP31ArLGz7GdcB6jeBFHzTnf6TuttQA1xZj2ZA@mail.gmail.com>
References: <CALEhJthpTcdJRO7cwbSkvvDkr27wJcXPDcd6W7qOs9ah9rNM2A@mail.gmail.com>
	<CABzHfV=PH+S=CHQ2OdH2jRU0uwi_o1hbyue109S23tKzpCZkiQ@mail.gmail.com>
	<CALEhJtg2s0gKQP31ArLGz7GdcB6jeBFHzTnf6TuttQA1xZj2ZA@mail.gmail.com>
Date: Thu, 31 May 2012 14:13:30 +0400
Message-ID: <CABzHfVkSzNSZTLkwXAqA=LBBqOw5jWhvUZM1rF4Vm97-Fao8Ew@mail.gmail.com>
Subject: Re: how to test hash collision security fix in tomcat 7.1
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/31 manjesh <manjesh.h@gmail.com>:
> Hi,
> The exact version of tomcat I am working with is 7.0.27
>
> I am verifying the fix discussed here
>
> http://news.softpedia.com/news/Apache-Tomcat-Workaround-for-Hashtable-Col=
lision-DoS-Vulnerability-243544.shtml
>
>
> Here is the snippet of implementation =A0[ ... ]

1. The docs are here:
http://tomcat.apache.org/tomcat-7.0-doc/config/http.html

2. IllegalStateException is caught and never returned to the caller of
Servlet API

You can run Tomcat under debugger if you want to trace the
implementation details.
http://wiki.apache.org/tomcat/FAQ/Developing#Debugging

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 11:57:23 2012
Return-Path: <users-return-234572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 680E996DA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 11:57:23 +0000 (UTC)
Received: (qmail 9738 invoked by uid 500); 31 May 2012 11:57:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9494 invoked by uid 500); 31 May 2012 11:57:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9471 invoked by uid 99); 31 May 2012 11:57:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 11:57:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 11:57:11 +0000
Received: by pbbro12 with SMTP id ro12so1572779pbb.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 04:56:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pzQTW4hONVXyno+oCDR5iND4R7zTVDEKB3xOLhbxkYk=;
        b=Ql0Phj4UcjTeRJicqFTrf9HtxvcKowIl5dIsAd6pf6yqrwL9xkaBh3BNUbHjt//llW
         Y5F3GF9woAUzBxPVOVal2snWUwshnofcJFL5vs5szSwkztH3qixk/9OJ2P3eRhypshch
         SYGybZwBTWJk2oaApXkvgHnGdwneEU0l+4Mk1WoCwsxeyclubCvXlhFA+uSmW//WptXS
         M7VOLRVdT+AApjXoGjtemvIEL26arkz1ztl/ALYiWmyDOZW+UIcQ9tLy2IQLmMA0FWV+
         QLypFHL5n0zEE/afaxvxH7Wd4itD314v26i5fMeRuuDrLdpFP7D7jNXUXn+tmMDb280H
         oMiw==
MIME-Version: 1.0
Received: by 10.68.219.135 with SMTP id po7mr6087201pbc.149.1338465410361;
 Thu, 31 May 2012 04:56:50 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 04:56:50 -0700 (PDT)
In-Reply-To: <4FC6406E.8070207@yahoo.com>
References: <4FC6406E.8070207@yahoo.com>
Date: Thu, 31 May 2012 15:56:50 +0400
Message-ID: <CABzHfV=FeDSQRq37KOF9Dk=XFXoenpWobqjX2FXuXNBjUMQKbg@mail.gmail.com>
Subject: Re: thread dump of Tomcat7.0.27.exe on is not working
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/5/30 Takeshi.Yoshida <takeshi.yoshida77@yahoo.com>:
> Hi,
>
> I installed Tomcat7.0.27.exe on Windows7 and Windows2008R2.
> The Tomcat almost works fine.
> However, when I right click on the Tomcat service icon on system tray
> and select menu "Thread Dump",
> I get a windows message and it's saying:
> "The system can not find the file specified. Unable to open the Event
> Mutex".
>
> Then I tried to install other versions.
> The Results are follows:
>
> [NG]
> Tomcat7.0.27
> Tomcat7.0.26
>
> [OK]
> Tomcat7.0.20
> Tomcat6.0.35
>
> [Work around]
> Use jstack in JDK.
>
> [Note]
> In these cases, I don't use RDP.
>
> Any comment would be greatly appreciated.
>

Confirming that the issue is reproducible.

I reported it to the Apache Commons Daemon project,
https://issues.apache.org/jira/browse/DAEMON-252

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 13:19:59 2012
Return-Path: <users-return-234573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7EFEC31C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 13:19:59 +0000 (UTC)
Received: (qmail 25035 invoked by uid 500); 31 May 2012 13:19:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24977 invoked by uid 500); 31 May 2012 13:19:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24966 invoked by uid 99); 31 May 2012 13:19:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:19:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:19:50 +0000
Received: by dadv2 with SMTP id v2so1476264dad.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 06:19:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=LV9dOvY69csE9rymyIPIJim1FacbC0hmv4kpRMkshr4=;
        b=cnvD96n0evPQ6IpkDnDSAnyBnx6xgGakZYzVG5Zy32iklfblob0esgWTkpitYc1APN
         DUfQiHIQLBF6zmknwbkN592JC5+Axu+F19hawsWjq6+JPC+M1QQL9mWFZIwUQ3zwg+EL
         p4eu95OZ2/KrLj1CxWuGX0jqR/lFX1HU7QOrgwC2gbQNrw/QKCkRqLzuzhoEW6cfl2jI
         5V/0nHTko+zoqd3aq54JzetJnz1cFA8/xuKCmtkfWB+83gW5f+XMnO8A/z1AwQfnJ2lb
         G3vOF30KWD2MgtvOuW7MWv7bLahFT1IAZVTjIhX4ypAoB0QKzyLvWSqpXme5w9oqcjMT
         YMlg==
MIME-Version: 1.0
Received: by 10.68.202.234 with SMTP id kl10mr6983607pbc.108.1338470370148;
 Thu, 31 May 2012 06:19:30 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 06:19:29 -0700 (PDT)
In-Reply-To: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
References: <Ac0+mtRSTPXDQoGAQN6besloJcfM8A==>
	<30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
Date: Thu, 31 May 2012 17:19:29 +0400
Message-ID: <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com>
Subject: Re: Question about resetting datasources and changes to the
 BasicDataSource.close() method
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/5/30 Hedrick, Brooke - 43 <brooke.hedrick@rainhail.com>:
>(...)
>
> So far, my options point to making changes to the BasicDataSource to prov=
ide a way to set closed=3Dfalse or make the private method below public wit=
h a change to set closed=3Dfalse.
>
> =A0 =A0/**
> =A0 =A0 * Not used currently
> =A0 =A0 */
> =A0 =A0private void restart() { =A0// change to public =A0-bth
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0close();
> =A0 =A0 =A0 =A0 =A0 =A0closed =3D false; =A0// new line added here -bth
> =A0 =A0 =A0 =A0} catch (SQLException e) {
> =A0 =A0 =A0 =A0 =A0 =A0log("Could not restart DataSource, cause: " + e.ge=
tMessage());
> =A0 =A0 =A0 =A0}
> =A0 =A0}
>

Just a note:

If you want this change to be in the code, you have to ask on the
Apache Commons DBCP project.

Tomcat repacks released versions of Commons Pool and Commons DBCP as
they are, only using an automated string replacement to change the
package name.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 13:26:37 2012
Return-Path: <users-return-234574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 280EF909E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 13:26:37 +0000 (UTC)
Received: (qmail 48461 invoked by uid 500); 31 May 2012 13:26:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48395 invoked by uid 500); 31 May 2012 13:26:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48386 invoked by uid 99); 31 May 2012 13:26:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:26:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anjan.dev@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-lpp01m010-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:26:25 +0000
Received: by lahc1 with SMTP id c1so910389lah.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 06:26:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=YztwzE/fhja4KaDgFeAPuORNwx/0shbdXNq6wILUOuk=;
        b=tFKeztmaytR48Rr6965mNoEixmajcwuhjBNgC7NaJFVpFvYxdIlSc8h0eQG+G6q1kx
         xNAoVAk835602ciILynaUikGA+njSazceOVW0rt8WqMRuxvd9jWrRbe3ERxDWlQ+S4MO
         roThTn+y023q8hrKjWHORvJ+tOzL5mvX+ZfsTcFKHlQLbr7LKcy2e74GFXSG2XhaYbBr
         Un7bl8jXFpgnHGUdgJxotI3grZK8BbUisCYzoDe8ImHaqZ1G6Qfk56tKpk7+LRuDdjw+
         d4biJ4kV7w8g1aYwGDDbQyz6zVRE2CRgNYMYk1yk4/cfOUwhUpE/cDfddC6+ChG7JHgW
         m1JQ==
MIME-Version: 1.0
Received: by 10.112.23.196 with SMTP id o4mr16956lbf.49.1338470765246; Thu, 31
 May 2012 06:26:05 -0700 (PDT)
Received: by 10.112.47.198 with HTTP; Thu, 31 May 2012 06:26:05 -0700 (PDT)
Date: Thu, 31 May 2012 18:56:05 +0530
Message-ID: <CAFGXWWTypAa+P0w2yr=nEFyz7i=e70NPyGaTVDbv9v-gsgBk7g@mail.gmail.com>
Subject: Fix for java.lang.VerifyError in tomcat 7.0.19 all the way thru
 tomcat 7.0.27!!
From: Anjan Bacchu <anjan.dev@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=90e6ba308f1081391504c1550297

--90e6ba308f1081391504c1550297
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

  I've been a tomcat user for about 10 years -- starting with 3.x. So
thanks the user and dev community for all the help.

I recently tried moving our appserver from 5.5 to 7. as soon as I deployed
our webapp to tomcat 7.0.27 and tried the app, I got a
java.lang.VerifyError.
down below is the stack Trace. this happens after I have entered the
credentials to the login page and POSTing it to another jsp (ChLogin.jsp).

I noticed that this error doesn't happen in tomcat 7.0.16 but happens in
tomcat 7.0.19 and all the way to 7.0.27.

Should I stay back with tomcat 7.0.16 OR can tomcat dev fix the bug so we
get the latest /nicest version ?

P.S : I downloaded the tar.gz version of tomcat and deployed it on RHEL 5.3
on tomcat 1.6.0_26 all thru 1.6.0_31.

Thank you very much,

BR,
~A


javax.servlet.ServletException: java.lang.VerifyError: (class:
org/apache/jsp/ChLogin_jsp, method: _jspService signature:
(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V)
Inconsistent stack height 0 != 1

	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:342)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	web.AuthFilter.doFiltering(AuthFilter.java:74)
	web.AuthFilter.doFilter(AuthFilter.java:58)

*root cause*

java.lang.VerifyError: (class: org/apache/jsp/ChLogin_jsp, method:
_jspService signature:
(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V)
Inconsistent stack height 0 != 1
	java.lang.Class.getDeclaredConstructors0(Native Method)
	java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)
	java.lang.Class.getConstructor0(Class.java:2699)
	java.lang.Class.newInstance0(Class.java:326)
	java.lang.Class.newInstance(Class.java:308)
	org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:172)
	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:370)
	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:389)
	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:333)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	web.AuthFilter.doFiltering(AuthFilter.java:74)
	web.AuthFilter.doFilter(AuthFilter.java:58


BR,
~A

--90e6ba308f1081391504c1550297--

From users-return-234575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 13:34:03 2012
Return-Path: <users-return-234575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D353B9FBA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 13:34:03 +0000 (UTC)
Received: (qmail 72211 invoked by uid 500); 31 May 2012 13:34:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72033 invoked by uid 500); 31 May 2012 13:34:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72023 invoked by uid 99); 31 May 2012 13:34:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:34:00 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sahmed1020@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:33:56 +0000
Received: by qcsc20 with SMTP id c20so678289qcs.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 06:33:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=aPiI4ylTyXFAXUice5QlPsFhXZvwvdqNH4qxOmODUN0=;
        b=o5cB0U5IbJBDCEB1aR2bpAt9qVH9uI2t+rtelyfMbqGCc8Aa937L6VXCeWFii/lOFW
         f43AIHaLSFIAbyXOUH3RzW12b3IoAjdCAYaDKJdWzcDMKQqU3wvCDqCqibd2prx/+AUJ
         ZZ84gFlMg1ruHZAZdWX4z1oRH8uGIP4gvcArLcM8D6cIqJKvkmqL0za5S+EVpQ3b3StI
         e+kdH3wY250NZEefO+Xi6/Cn1rjutnT/Yget/sAQj+LyzcvSpaIEaUuC1dnkRvbOl7+C
         aUZJYzuN2HRCZL8k0LSDTAkP6Tcyg0nCgMb1dPOSxsXT9b2cCKO/6R9o1VtLkkAhZ8sR
         KEmg==
Received: by 10.224.108.129 with SMTP id f1mr38408qap.53.1338471215488; Thu,
 31 May 2012 06:33:35 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.179.91 with HTTP; Thu, 31 May 2012 06:33:14 -0700 (PDT)
In-Reply-To: <8159094285948234855@unknownmsgid>
References: <CAG2rwuN+SoSJz==-ZWxZmT-Q0t=AEeqvYhHR7bewcuGFLMjZNg@mail.gmail.com>
 <4FC629BF.9010703@christopherschultz.net> <CAG2rwuNBifZfHsN6Sv0V=AVx01_6Y4v8pumTv0bENpQhOAQO1A@mail.gmail.com>
 <4FC69CC6.3070104@ice-sa.com> <32527565.5963.1338421793271.JavaMail.mobile-sync@vcok17>
 <8159094285948234855@unknownmsgid>
From: S Ahmed <sahmed1020@gmail.com>
Date: Thu, 31 May 2012 09:33:14 -0400
Message-ID: <CAG2rwuP1nX1BRSQcAtqnFOoKJAS0kC0fa3UcUMGQWOY7cVs+Mg@mail.gmail.com>
Subject: Re: tomcat jdbc pool, creating a pool of pools, single connection
 memory footprint
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3074b37e575f8004c1551d0d
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3074b37e575f8004c1551d0d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

>It would be easier if all databases were hosted by a single instance
>of MySQL -- then you could use Tomcat-pool's feature of being able to
>provide credentials when obtaining connections from the pool -- and
>get the right database. That way, a much smaller number of connections
>could be maintained with roughly the same semantics.
Can you expand on how I could do this?

Thanks for the insights.  I think in reality there would be multiple
databases per server.  For example, when I purchase shared hosting, you can
query for all the databases and you can see there are hundreds of db's for
each customer.  If a customer's traffic is high enough, I could move them
to another server.

Also, seeing as 2GB would be required, and the file handler issue, I was
thinking one could segment sites into clusters, so each cluster would be
responsible for n number of websites (thus reducing the # of pools required
per application server).

On Thu, May 31, 2012 at 2:56 AM, Pid * <pid@pidster.com> wrote:

> On 31 May 2012, at 00:49, Christopher Schultz
> <chris@christopherschultz.net> wrote:
>
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Andr=C3=A9,
> >
> > On 5/30/12 6:18 PM, Andr=C3=A9 Warnier wrote:
> >> Taking the same hypothetical case and figures :
> >>
> >> Assuming that you need a total of (10000 * 4 connections) =3D 40000
> >> connections. Assuming that it takes 10ms to set up one such
> >> connection, and that once it is there, you don't do anything with
> >> it and just let it be for now. Assuming we ignore such things like
> >> bandwidth, other things happening on that host etc.. It then takes
> >> a total of (10 ms * 40000) =3D 400000 ms =3D 400s =3D ~ 6.5 minutes ju=
st
> >> to set up these connections.
> >>
> >> Is that acceptable ?
> >>
> >> What I mean is that once you start playing with such numbers, you
> >> may want to look at other aspects than just required memory..
> >
> > There's also the issue of open filehandles, etc. My development
> > environment is limited to 10240 filehandles per process (though of
> > course that can be changed). Opening 10,000 connections would use most
> > of those, leaving very few left to accept incoming requests from
> > clients, etc.
>
> Ah, beat me to it.
>
>
> p
>
> > It would be easier if all databases were hosted by a single instance
> > of MySQL -- then you could use Tomcat-pool's feature of being able to
> > provide credentials when obtaining connections from the pool -- and
> > get the right database. That way, a much smaller number of connections
> > could be maintained with roughly the same semantics.
> >
> > - -chris
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> >
> > iEYEARECAAYFAk/GsecACgkQ9CaO5/Lv0PC7HACeNXMp5KZpAHGfhK73/MPFcGOn
> > eIwAoJ7g4P/Nz2DBgNHBhwkq0jO3HMCu
> > =EF=BF=BDCE
> > -----END PGP SIGNATURE-----
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf3074b37e575f8004c1551d0d--

From users-return-234576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 13:39:09 2012
Return-Path: <users-return-234576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6B9F9FE6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 13:39:09 +0000 (UTC)
Received: (qmail 85449 invoked by uid 500); 31 May 2012 13:39:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85399 invoked by uid 500); 31 May 2012 13:39:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85350 invoked by uid 99); 31 May 2012 13:39:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:39:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 13:38:58 +0000
Received: by dadv2 with SMTP id v2so1503041dad.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 06:38:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=x1pXGVMDRIYu1Gsdvh7F+QK9tkhKP2zkGOYlh1MxLbc=;
        b=BFWeDSbPpEWYBxZyeNNsuFfrh5GaOCgM/eK92gs+Tc52JBbjrJ6ydjwiBIbl8utlEY
         Cp3x3KZ3yNSWijVeak4oR3RMRsK9Aj7gS92zIJi7bDq7i5HBoy2Jk5h/xiFLypisT+PD
         cgtHkgQxCG3k+wiYPohuojJCR6mX1f/3CTTfmy01vg0QP7pszwv5sDCOmkFffMwaZMIq
         rzd+UhYFmo5OPRgyQ9B+4rtN20WklConaunbuhqzplNtljwx+gs5mOp4557ApOnJPFs3
         fbVWZodZDYou586JOvTcxj/7aW4uulT+2SrDGXVB672AdAi+A4Z7+kc/FUqnwlunTWWZ
         AuyA==
MIME-Version: 1.0
Received: by 10.68.226.226 with SMTP id rv2mr48035pbc.101.1338471517262; Thu,
 31 May 2012 06:38:37 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 06:38:36 -0700 (PDT)
In-Reply-To: <CAFGXWWTypAa+P0w2yr=nEFyz7i=e70NPyGaTVDbv9v-gsgBk7g@mail.gmail.com>
References: <CAFGXWWTypAa+P0w2yr=nEFyz7i=e70NPyGaTVDbv9v-gsgBk7g@mail.gmail.com>
Date: Thu, 31 May 2012 17:38:36 +0400
Message-ID: <CABzHfVn0vR5LgjnARy4WYbRfGMxvKXLdZjC41BJq0_sfkTCUDg@mail.gmail.com>
Subject: Re: Fix for java.lang.VerifyError in tomcat 7.0.19 all the way thru
 tomcat 7.0.27!!
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/31 Anjan Bacchu <anjan.dev@gmail.com>:
> Hi all,
>
> =A0I've been a tomcat user for about 10 years -- starting with 3.x. So
> thanks the user and dev community for all the help.
>
> I recently tried moving our appserver from 5.5 to 7. as soon as I deploye=
d
> our webapp to tomcat 7.0.27 and tried the app, I got a
> java.lang.VerifyError.
> down below is the stack Trace. this happens after I have entered the
> credentials to the login page and POSTing it to another jsp (ChLogin.jsp)=
.
>
> I noticed that this error doesn't happen in tomcat 7.0.16 but happens in
> tomcat 7.0.19 and all the way to 7.0.27.
>
> Should I stay back with tomcat 7.0.16 OR can tomcat dev fix the bug so we
> get the latest /nicest version ?
>
> P.S : I downloaded the tar.gz version of tomcat and deployed it on RHEL 5=
.3
> on tomcat 1.6.0_26 all thru 1.6.0_31.
>

Where the code for ChLogin_jsp comes from?
Is it compiled by Tomcat when you first access it, or it is
precompiled in your web application?

Overall the error is odd.
If you tried different versions of Java or Tomcat, try to clear the
work directory so that the page is recompiled.

Does the examples webapp that comes with Tomcat work for you?

I wonder what the source code for ChLogin.jsp is, but it looks like a
compiler error.

Tomcat 7.0.27 uses Eclipse JDT Compiler 3.7.2.

You may try different versions of ecj-x.y.z.jar from older releases of
Tomcat, or directly from eclipse.org.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 15:19:13 2012
Return-Path: <users-return-234577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F764CF6F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 15:19:13 +0000 (UTC)
Received: (qmail 96215 invoked by uid 500); 31 May 2012 15:19:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96065 invoked by uid 500); 31 May 2012 15:19:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96056 invoked by uid 99); 31 May 2012 15:19:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 15:19:09 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.70] (HELO nm16-vm7.bullet.mail.sg3.yahoo.com) (106.10.149.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 31 May 2012 15:19:01 +0000
Received: from [106.10.166.112] by nm16.bullet.mail.sg3.yahoo.com with NNFMP; 31 May 2012 15:18:38 -0000
Received: from [106.10.167.140] by tm1.bullet.mail.sg3.yahoo.com with NNFMP; 31 May 2012 15:18:38 -0000
Received: from [127.0.0.1] by smtp113.mail.sg3.yahoo.com with NNFMP; 31 May 2012 15:18:38 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1338477518; bh=v6T3Q8ohhVhPzR3yoPd/9r2MP+oqo+U19vyiiA3lK+0=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=hxb6l4tGn53yi5flDTtdVioHswXhMUrKQdfg3rMWqz0lWIknzXMRYJ4c8VzIeyNPabHD2IK+7K9Kpi6GY9TylK0p4xlniKcCMrPI2d53tPuL4aCUDELGLoyszeMEcHnpiJfIVq4utARpWkYKuiWc88os24Y6spe++kxWvEt97Kc=
X-Yahoo-Newman-Id: 823697.85747.bm@smtp113.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: t0I_NzEVM1nzfWK0zgfO6_Ores4e1QsvgWc2KmhJVL2tZ0G
 A8cMqlWmbtM57Qg1RcQEgVtatLANYWD8KUZyRIgM_ZXm45RT2WFakCyi1Xys
 Rp2AdC_ufkRSukmYAKSw4fQg8.bOe2kcq02jSeqTKWvXK2glzQB5pzUN4DSF
 xsKuo7kHPWjewF8g8b7nAwabjzzGb_0fl0fcU9JK5xB7a87xKRDxzdvBymNq
 DxNjUQwteLU4P7hpVP1a8Tdl48_VLXrYcJvcDIOxlzL4j6uAqTUzThugAR25
 d.EsNSPDALuwDkxyMR3.CNog_ntX3sG6efK3R7Tk4wSIAPKknP8V2wo2k.Vd
 .A7J3tdewgRjmX6FhZQUn2doBXWmWohfK_ZIZICfi7E_2oAU6M3OBB_M6i9H
 lO2rHMMkLFuvBB2OfNTL1svTm_b.lxUFVHJ5R7bLED77ooonyLrMrvxhoqRB
 JDCYDIfVG_A--
X-Yahoo-SMTP: cjD6z76swBAfd2KbX52cOIGjRzwcs7Vhk_sy06cH
Received: from [192.168.1.2] (takeshi.yoshida77@118.22.219.253 with plain)
        by smtp113.mail.sg3.yahoo.com with SMTP; 31 May 2012 08:18:38 -0700 PDT
Message-ID: <4FC78BCA.1010505@yahoo.com>
Date: Fri, 01 Jun 2012 00:18:34 +0900
From: "Takeshi.Yoshida" <takeshi.yoshida77@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: thread dump of Tomcat7.0.27.exe on is not working
References: <4FC6406E.8070207@yahoo.com> <CABzHfV=FeDSQRq37KOF9Dk=XFXoenpWobqjX2FXuXNBjUMQKbg@mail.gmail.com>
In-Reply-To: <CABzHfV=FeDSQRq37KOF9Dk=XFXoenpWobqjX2FXuXNBjUMQKbg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Thanks for your replies and help, Chris and Konstantin.
I watch below link from now on.

Best Regards,
Takeshi Yoshida

(2012/05/31 20:56), Konstantin Kolinko wrote:
> 2012/5/30 Takeshi.Yoshida<takeshi.yoshida77@yahoo.com>:
>> Hi,
>>
>> I installed Tomcat7.0.27.exe on Windows7 and Windows2008R2.
>> The Tomcat almost works fine.
>> However, when I right click on the Tomcat service icon on system tray
>> and select menu "Thread Dump",
>> I get a windows message and it's saying:
>> "The system can not find the file specified. Unable to open the Event
>> Mutex".
>>
>> Then I tried to install other versions.
>> The Results are follows:
>>
>> [NG]
>> Tomcat7.0.27
>> Tomcat7.0.26
>>
>> [OK]
>> Tomcat7.0.20
>> Tomcat6.0.35
>>
>> [Work around]
>> Use jstack in JDK.
>>
>> [Note]
>> In these cases, I don't use RDP.
>>
>> Any comment would be greatly appreciated.
>>
> Confirming that the issue is reproducible.
>
> I reported it to the Apache Commons Daemon project,
> https://issues.apache.org/jira/browse/DAEMON-252

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 15:52:01 2012
Return-Path: <users-return-234578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8243F9123
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 15:52:01 +0000 (UTC)
Received: (qmail 11223 invoked by uid 500); 31 May 2012 15:51:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11151 invoked by uid 500); 31 May 2012 15:51:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11141 invoked by uid 99); 31 May 2012 15:51:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 15:51:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of brooke.hedrick@rainhail.com designates 12.104.195.141 as permitted sender)
Received: from [12.104.195.141] (HELO ironport01.rainhail.com) (12.104.195.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 15:51:51 +0000
X-SBRS: None
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AqEEAJOSx0+sGAv9/2dsb2JhbABEhU6tK4IaghgBAQUjERo3BAIBCA0EBAEBAQICIwMCAgIvARQBCAgBAQQIBwQBBxUErjuSQ4EjgSGITRqEGjJgA4hAjWeEYo0AgTgJGg
Received: from unknown (HELO Exchange02.rainhail.com) ([172.24.11.253])
  by ironport01.rainhail.com with ESMTP/TLS/AES128-SHA; 31 May 2012 10:51:30 -0500
Received: from Exchange02.rainhail.com ([172.24.11.253]) by
 Exchange02.rainhail.com ([172.24.11.253]) with mapi; Thu, 31 May 2012
 10:51:30 -0500
From: "Hedrick, Brooke - 43" <brooke.hedrick@rainhail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 31 May 2012 10:51:30 -0500
Subject: RE: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Topic: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Index: Ac0+wa9BfLnhDmFATx2aMnUblRt+ZwAgZ1Vg
Message-ID: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC826F@Exchange02.rainhail.com>
References: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
 <4FC6B691.1040209@christopherschultz.net>
In-Reply-To: <4FC6B691.1040209@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

Q2hyaXMsDQoNCldlIGRvbid0IGhhdmUgImhpZ2ggbG9hZCIgYXBwbGljYXRpb25zIGZvciB0aGUg
bW9zdCBwYXJ0IHNvIGl0IGlzIHByZXR0eSBjb21tb24gdG8gaGF2ZSBhIE1heEFjdGl2ZSBzZXQg
dG8gYXJvdW5kIDUgb3IgMTAuICAgV2UgbW9uaXRvciBhcHBsaWNhdGlvbnMgdG8gd2F0Y2ggZm9y
IGhpZ2gtd2F0ZXIgbWFya3MgdG8gbWFrZSBzdXJlIHdlIGtlZXAgMTAtMjAlIGhlYWRyb29tIG9u
IGZvciBmcmVlIGRhdGFzb3VyY2UgY29ubmVjdGlvbnMuICANCg0KT3VyIHJlbGVhc2UgY3ljbGUg
aGFzIHVzIHJlbGVhc2luZyBtYW55IGFwcGxpY2F0aW9ucyBvbiBtYW55IEpWTXMgZXZlcnkgd2Vl
ay4gIEZyb20gdGltZSB0byB0aW1lLCB0aGVzZSBhcHBsaWNhdGlvbnMgaGF2ZSBpc3N1ZXMgaW4g
dGhlbSB3aGVyZSBzb21lb25lIGhhcyBtYWRlIGEgY29kZSBjaGFuZ2UgdGhhdCByZXF1aXJlcyAy
IGNvbm5lY3Rpb25zIHBlciByZXF1ZXN0IGluc3RlYWQgb2YgMS4gIEluIHRob3NlIGNhc2VzLCB3
ZSB0ZW1wb3JhcmlseSBpbmNyZWFzZSB0aGUgTWF4QWN0aXZlIHRvIGFjY29tbW9kYXRlIHRoZSBp
c3N1ZSBpbnRyb2R1Y2VkLiAgV2UgZG8gdGhpcyBieSB1c2luZyBKTVggYXMgd2VsbCBhcyB1cGRh
dGluZyB0aGUgc2VydmVyLnhtbCAoIGluIGNhc2UgdGhlIEpWTSBpcyByZXN0YXJ0ZWQgZm9yIHNv
bWUgcmVhc29uICkuICBJbiBzb21lIGNhc2VzIGFuIGFwcGxpY2F0aW9uIGlzIHJlbGVhc2VkIHRo
YXQgc2hhcmVzIGEgZGF0YXNvdXJjZSB3aXRoIGFub3RoZXIgYXBwbGljYXRpb24gYW5kIHRoZSBN
YXhBY3RpdmUgaXNuJ3QgbGFyZ2UgZW5vdWdoIHRvIGFjY29tbW9kYXRlIGJvdGggYXBwcy4gIEJ5
IHVzaW5nIEpNWCwgd2UgYXJlIGFibGUgdG8gaW5jcmVhc2UgTWF4QWN0aXZlIHdpdGhvdXQgaGF2
aW5nIHRvIHRha2UgdGhlIEpWTSBkb3duIHRvIHJlc29sdmUgdGhpcy4NCg0KV2UgYWxzbyBoYXZl
IGNhc2VzIHdoZXJlIGFwcGxpY2F0aW9ucyBhcmUgcmVsZWFzZWQgd2l0aCBjb25uZWN0aW9uIHBv
b2wgbGVha3MuICBXaGVuIHRoaXMgaGFwcGVucywgd2UgY2F0Y2ggcHJvYmxlbXMgYmVjYXVzZSB3
ZSBrZWVwIHRoZSBwb29scyBvbmx5IGJpZyBlbm91Z2ggdG8gc2VydmljZSBkZW1hbmQuICBXZSB3
aWxsIHNlZSBjb25uZWN0aW9uIHBvb2xzIGhpdCAxMDAlIHVzYWdlIGFuZCB0aHJlYWQgcG9vbHMg
aW5jcmVhc2UgcmFwaWRseSBkdWUgdG8gd2FpdGluZyBvbiBjb25uZWN0aW9ucy4gIFdlIGRvIHRo
aXMgdG8gcHJldmVudCB0aGUgZGF0YWJhc2UgZnJvbSBiZWluZyBoaXQgb3Zlcmx5IGhhcmQgYnkg
YSBzaW5nbGUgYXBwbGljYXRpb24uICBXZSBhbHNvIGRvIG5vdCB1c2UgdGhlIHJlbW92ZUFiYW5k
b25lZCBzZXR0aW5ncyB0b2RheSBpbiBmYXZvciBvZiBmYWlsaW5nIGZhc3QuICBUaGlzIHdheSB0
aGUgQXBwIFNlcnZlciBzdWZmZXJzIG5vdCB0aGUgREIuICBPdXIgVG9tY2F0IGhvc3RzIGFuZCBK
Vk1zIGdyZWF0bHkgb3V0bnVtYmVyIG91ciBEQiBob3N0cy4NCg0KV2hhdCBkbyB5b3UgZG8gdG9k
YXkgdG8gcmVzZXQgb3IgcmVzaXplIGNvbm5lY3Rpb24gcG9vbHM/DQoNClRoYW5rcywNCsKgDQpC
cm9va2UgSGVkcmljaw0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogQ2hyaXN0
b3BoZXIgU2NodWx0eiBbbWFpbHRvOmNocmlzQGNocmlzdG9waGVyc2NodWx0ei5uZXRdIA0KU2Vu
dDogV2VkbmVzZGF5LCBNYXkgMzAsIDIwMTIgNzowOSBQTQ0KVG86IFRvbWNhdCBVc2VycyBMaXN0
DQpTdWJqZWN0OiBSZTogUXVlc3Rpb24gYWJvdXQgcmVzZXR0aW5nIGRhdGFzb3VyY2VzIGFuZCBj
aGFuZ2VzIHRvIHRoZSBCYXNpY0RhdGFTb3VyY2UuY2xvc2UoKSBtZXRob2QNCg0KLS0tLS1CRUdJ
TiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KSGFzaDogU0hBMQ0KDQpCcm9va2UsDQoNCk9uIDUv
MzAvMTIgMzozMSBQTSwgSGVkcmljaywgQnJvb2tlIC0gNDMgd3JvdGU6DQo+IEhvdyBhcmUgb3Ro
ZXJzIGR5bmFtaWNhbGx5IHJlc2V0dGluZy9yZXNpemluZyB0aGVpciBkYXRhYmFzZSANCj4gY29u
bmVjdGlvbiBwb29scyB3aGVuIG5lY2Vzc2FyeT8NCg0KUXVpY2sgcXVlc3Rpb24gYWJvdXQgYWxs
IHRoaXM6IHdoeSBkbyB5b3UgbmVlZCB0byBkbyBhbnkgbW9yZSBkeW5hbWljLXJlc2l6aW5nIHRo
YW4gZGJjcCBhbHJlYWR5IHByb3ZpZGVzIG91dCBvZiB0aGUgYm94PyBJIGtub3cgdGhhdCBkYmNw
IGRvZXNuJ3QgaGF2ZSBhIGJ1aWx0LWluIG1ldGhvZCBmb3IgdHJhc2hpbmcgYWxsIGNvbm5lY3Rp
b25zIGFuZCByZS1maWxsaW5nIHRoZSBwb29sLCBidXQgcmUtc2l6aW5nIGlzIGRlZmluaXRlbHkg
c29tZXRoaW5nIGl0IGNhbiBhbHJlYWR5IGRvIChzZWUgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVy
dHkgIm1pbkV2aWN0YWJsZUlkbGVUaW1lTWlsbGlzIikuDQoNCi0gLWNocmlzDQotLS0tLUJFR0lO
IFBHUCBTSUdOQVRVUkUtLS0tLQ0KVmVyc2lvbjogR251UEcvTWFjR1BHMiB2Mi4wLjE3IChEYXJ3
aW4pDQpDb21tZW50OiBHUEdUb29scyAtIGh0dHA6Ly9ncGd0b29scy5vcmcNCkNvbW1lbnQ6IFVz
aW5nIEdudVBHIHdpdGggTW96aWxsYSAtIGh0dHA6Ly9lbmlnbWFpbC5tb3pkZXYub3JnLw0KDQpp
RVlFQVJFQ0FBWUZBay9HdHBFQUNna1E5Q2FPNS9MdjBQQUxud0NndElRRW9EUThQSFNYLy9wdjlO
RFJnOGYrDQpqUU1BbjJzeHhWTWdZNFE1ZWE3YUx2SEdrcDEzdGRCTw0KPTR0bGUNCi0tLS0tRU5E
IFBHUCBTSUdOQVRVUkUtLS0tLQ0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 15:57:11 2012
Return-Path: <users-return-234579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BA2F9153
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 15:57:11 +0000 (UTC)
Received: (qmail 33367 invoked by uid 500); 31 May 2012 15:57:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33206 invoked by uid 500); 31 May 2012 15:57:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33197 invoked by uid 99); 31 May 2012 15:57:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 15:57:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of brooke.hedrick@rainhail.com designates 12.104.195.141 as permitted sender)
Received: from [12.104.195.141] (HELO ironport01.rainhail.com) (12.104.195.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 15:57:00 +0000
X-SBRS: None
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Ap4EAMCTx0+sGAv9/2dsb2JhbABBA7UTghgBAQVONwQCAQgNBAQBASgHIRABFAkIAQEECAcEAQcVBIdcA69DDYlOgkSHbGEaghGCO2ADiA0ziwqHP4UHh3mBQQ
Received: from unknown (HELO Exchange02.rainhail.com) ([172.24.11.253])
  by ironport01.rainhail.com with ESMTP/TLS/AES128-SHA; 31 May 2012 10:56:39 -0500
Received: from Exchange02.rainhail.com ([172.24.11.253]) by
 Exchange02.rainhail.com ([172.24.11.253]) with mapi; Thu, 31 May 2012
 10:56:39 -0500
From: "Hedrick, Brooke - 43" <brooke.hedrick@rainhail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 31 May 2012 10:56:38 -0500
Subject: RE: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Topic: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Index: Ac0/MBPIY0ptj8orR42+kvQqXomAgQAFT3xg
Message-ID: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8270@Exchange02.rainhail.com>
References: <Ac0+mtRSTPXDQoGAQN6besloJcfM8A==>
	<30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
 <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com>
In-Reply-To: <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Thanks Konstantin.  I made the change locally, slightly different than what=
 I suggested.  I performed some load tests and called the now public restar=
t() method.  I didn't encounter any exceptions and the pools reset as expec=
ted.

This is my work-around though. =20

How do you reset or resize connection pools?

    public synchronized void close() throws SQLException {
        if (!restarting) {    // bth new check
            closed =3D true;
        }
        GenericObjectPool oldpool =3D connectionPool;
        connectionPool =3D null;
        dataSource =3D null;
        try {
            if (oldpool !=3D null) {
                oldpool.close();
            }
        } catch(SQLException e) {
            throw e;
        } catch(RuntimeException e) {
            throw e;
        } catch(Exception e) {
            throw new SQLNestedException("Cannot close connection pool", e)=
;
        }
    }


    /**
     * Not used currently
     */
    protected boolean restarting =3D false;  // bth new

    public void restart() {
        try {
                restarting =3D true;  // bth new
                try {
                        close();
                } finally {
                        restarting =3D false;  // bth new
                }
        } catch (SQLException e) {
            log("Could not restart DataSource, cause: " + e.getMessage());
        }
    }


Thanks,
=A0
Brooke Hedrick
Lead Web Administrator
brooke.hedrick@rainhail.com
Tel: 515.559.1322
Cel: 515.314.8953


-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Thursday, May 31, 2012 8:19 AM
To: Tomcat Users List
Subject: Re: Question about resetting datasources and changes to the BasicD=
ataSource.close() method

2012/5/30 Hedrick, Brooke - 43 <brooke.hedrick@rainhail.com>:
>(...)
>
> So far, my options point to making changes to the BasicDataSource to prov=
ide a way to set closed=3Dfalse or make the private method below public wit=
h a change to set closed=3Dfalse.
>
> =A0 =A0/**
> =A0 =A0 * Not used currently
> =A0 =A0 */
> =A0 =A0private void restart() { =A0// change to public =A0-bth
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0close();
> =A0 =A0 =A0 =A0 =A0 =A0closed =3D false; =A0// new line added here -bth
> =A0 =A0 =A0 =A0} catch (SQLException e) {
> =A0 =A0 =A0 =A0 =A0 =A0log("Could not restart DataSource, cause: " +=20
> e.getMessage());
> =A0 =A0 =A0 =A0}
> =A0 =A0}
>

Just a note:

If you want this change to be in the code, you have to ask on the Apache Co=
mmons DBCP project.

Tomcat repacks released versions of Commons Pool and Commons DBCP as they a=
re, only using an automated string replacement to change the package name.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 16:29:09 2012
Return-Path: <users-return-234580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2A81CE35
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 16:29:09 +0000 (UTC)
Received: (qmail 37956 invoked by uid 500); 31 May 2012 16:29:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37785 invoked by uid 500); 31 May 2012 16:29:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37776 invoked by uid 99); 31 May 2012 16:29:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 16:29:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anjan.dev@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 16:29:01 +0000
Received: by lbok6 with SMTP id k6so1299807lbo.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 09:28:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VrMgqFofCOlzOhKFoNe3ndSneMqHSMYsUsxqtxVDwwg=;
        b=VCXr3Q58I5QMqrETxC6ii1v5Xw2OqYGfukEPp9gZrg5xRUZif3OLzb7G18chiLKFI1
         52B6f6ahr8ry7uHO5z0uPJomxB0i3GGJebGR9V91tTZByB5V7gS5flVdLqCF2Su/Lbt7
         Qw1SLPI78Tk5dGKmw3W6/oIjYRZhPDi0syg1tPW9Pj5ulFThEmozMM5yfcWDAA102Xr/
         eNs+RKyqCDwxR68wkA6Z2X63CBPAN4eKdmV8/Fkr0G+0BWn7PSi46HUa7p+46CeA/dM9
         EXYOKztrqZq4O1AlQYYS7vlTmMGuP53bbUx2FwEPrFjGdo8eFXyBzO/aSASjVyBdt4KN
         nZrw==
MIME-Version: 1.0
Received: by 10.112.27.226 with SMTP id w2mr328540lbg.57.1338481719622; Thu,
 31 May 2012 09:28:39 -0700 (PDT)
Received: by 10.112.47.198 with HTTP; Thu, 31 May 2012 09:28:39 -0700 (PDT)
In-Reply-To: <CABzHfVn0vR5LgjnARy4WYbRfGMxvKXLdZjC41BJq0_sfkTCUDg@mail.gmail.com>
References: <CAFGXWWTypAa+P0w2yr=nEFyz7i=e70NPyGaTVDbv9v-gsgBk7g@mail.gmail.com>
	<CABzHfVn0vR5LgjnARy4WYbRfGMxvKXLdZjC41BJq0_sfkTCUDg@mail.gmail.com>
Date: Thu, 31 May 2012 21:58:39 +0530
Message-ID: <CAFGXWWRTwQT06T5bfvosLK0fVF=MhZYpz93qYte43+pM-L0_Pg@mail.gmail.com>
Subject: Re: Fix for java.lang.VerifyError in tomcat 7.0.19 all the way thru
 tomcat 7.0.27!!
From: Anjan Bacchu <anjan.dev@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec554de626fbd2504c1578f4c
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec554de626fbd2504c1578f4c
Content-Type: text/plain; charset=ISO-8859-1

Hi Konstatin,

  Thanks very much for the quick response.

  ChLogin.jsp : It is our own code -- mostly does some simple java
scriptlet which do jsp:forwarding to other JSPs. -- about 150 lines of code.
No, we don't precompile the JSPs.
We deployed other apps to this same tomcat and they work just fine.
example webapps : didn't try them yet.
I replaced the eclipse compiler in tomcat 7.0.27 with the eclipse compiler
from tomcat 7.0.16 and the application has started working just fine!!

do you suggest that the tomcat developers be told about this bug so they
revert to the older version of the eclipse compiler ?

Do you suggest that the Eclipse compiler developers be told about this bug
so they can fix it in the next release ?

Thank you very much,

BR,
~A
BR,
~A


On Thu, May 31, 2012 at 7:08 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/5/31 Anjan Bacchu <anjan.dev@gmail.com>:
> > Hi all,
> >
> >  I've been a tomcat user for about 10 years -- starting with 3.x. So
> > thanks the user and dev community for all the help.
> >
> > I recently tried moving our appserver from 5.5 to 7. as soon as I
> deployed
> > our webapp to tomcat 7.0.27 and tried the app, I got a
> > java.lang.VerifyError.
> > down below is the stack Trace. this happens after I have entered the
> > credentials to the login page and POSTing it to another jsp
> (ChLogin.jsp).
> >
> > I noticed that this error doesn't happen in tomcat 7.0.16 but happens in
> > tomcat 7.0.19 and all the way to 7.0.27.
> >
> > Should I stay back with tomcat 7.0.16 OR can tomcat dev fix the bug so we
> > get the latest /nicest version ?
> >
> > P.S : I downloaded the tar.gz version of tomcat and deployed it on RHEL
> 5.3
> > on tomcat 1.6.0_26 all thru 1.6.0_31.
> >
>
> Where the code for ChLogin_jsp comes from?
> Is it compiled by Tomcat when you first access it, or it is
> precompiled in your web application?
>
> Overall the error is odd.
> If you tried different versions of Java or Tomcat, try to clear the
> work directory so that the page is recompiled.
>
> Does the examples webapp that comes with Tomcat work for you?
>
> I wonder what the source code for ChLogin.jsp is, but it looks like a
> compiler error.
>
> Tomcat 7.0.27 uses Eclipse JDT Compiler 3.7.2.
>
> You may try different versions of ecj-x.y.z.jar from older releases of
> Tomcat, or directly from eclipse.org.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec554de626fbd2504c1578f4c--

From users-return-234581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 17:17:12 2012
Return-Path: <users-return-234581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 19E1FCFA8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 17:17:12 +0000 (UTC)
Received: (qmail 92737 invoked by uid 500); 31 May 2012 17:17:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92682 invoked by uid 500); 31 May 2012 17:17:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92667 invoked by uid 99); 31 May 2012 17:17:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 17:17:08 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Tim.Schumacher@colorado.edu designates 128.138.128.231 as permitted sender)
Received: from [128.138.128.231] (HELO ipmx1.colorado.edu) (128.138.128.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 17:16:59 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApwEAPmmx0/AqBGa/2dsb2JhbABEtReCVx4iPRYYAwIBAgFYCAEBiAeYDpd1iQSNQYMWA4hAnEuCfw
X-IronPort-AV: E=Sophos;i="4.75,693,1330930800"; 
   d="scan'208";a="567641039"
Received: from omr-raz-1-priv.int.colorado.edu ([192.168.17.154])
  by ipmx1-priv.int.colorado.edu with ESMTP; 31 May 2012 11:16:37 -0600
Received: from 69.15.86.83 (EHLO _192.168.100.110_) ([69.15.86.83])
	by omr-raz-1-priv.int.colorado.edu (MOS 4.1.10-GA FastPath queued)
	with ESMTP id HII79738 (AUTH schumact);
	Thu, 31 May 2012 11:16:37 -0600 (MDT)
Message-ID: <4FC7A774.8060309@colorado.edu>
Date: Thu, 31 May 2012 11:16:36 -0600
From: Timothy J Schumacher <Tim.Schumacher@Colorado.EDU>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: transport CONFIDENTIAL based on remote ip/host filter?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

We are using Apache Tomcat 6.0.35

with

# java -version
java version "1.6.0_30"
Java(TM) SE Runtime Environment (build 1.6.0_30-b12)
Java HotSpot(TM) Client VM (build 20.5-b03, mixed mode, sharing)

in redhat linux.

I am wondering if there is a way to use transport CONFIDENTIAL for all 
hosts that are not localhost?  I am guessing the servlet spec does not 
allow this, it seems to be all or none in the web.xml config.  Perhaps 
there is a way configure transport NONE in web.xml and then manually 
configure a valve/filter in context.xml that would enforce CONFIDENTIAL 
to all remote hosts but let localhost pass without redirects to port 443?

Any ideas are appreciated!

Thanks,
Tim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 17:45:44 2012
Return-Path: <users-return-234582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6ADE9FBC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 17:45:43 +0000 (UTC)
Received: (qmail 78770 invoked by uid 500); 31 May 2012 17:45:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78686 invoked by uid 500); 31 May 2012 17:45:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78677 invoked by uid 99); 31 May 2012 17:45:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 17:45:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of christian.finckler@gmx.de designates 213.165.64.23 as permitted sender)
Received: from [213.165.64.23] (HELO mailout-de.gmx.net) (213.165.64.23)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 31 May 2012 17:45:32 +0000
Received: (qmail invoked by alias); 31 May 2012 17:45:09 -0000
Received: from e177171003.adsl.alicedsl.de (EHLO [127.0.0.1]) [85.177.171.3]
  by mail.gmx.net (mp019) with SMTP; 31 May 2012 19:45:09 +0200
X-Authenticated: #824103
X-Provags-ID: V01U2FsdGVkX18muyNLCHQmOy/270KlRwASQtK6vZXgLA1xeURlDH
	lzrBLmUjaAIeMF
Message-ID: <4FC7AE24.5040601@gmx.de>
Date: Thu, 31 May 2012 19:45:08 +0200
From: Christian Finckler <christian.finckler@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: non blocking Websockets?
References: <4FC733C3.3070205@gmx.de> <4FC73539.3000805@apache.org>
In-Reply-To: <4FC73539.3000805@apache.org>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 120531-0, 31.05.2012), Outbound message
X-Antivirus-Status: Clean
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org



Am 31.05.2012 11:09, schrieb Mark Thomas:
> On 31/05/2012 10:02, Christian Finckler wrote:
>> Hello,
>> as far I understood, the websocket implementation of tomcat is using one
>> thread per client.
>> Is there also a possibility to configure it to use non blocking IO?
> No. That has not yet been implemented. It shouldn't be too hard provided
> that non-blocking is used between messages and blocking is used during
> messages. Obviously, the BIO connector will always use blocking.
>
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

Ok, if that is so easy, it should be done. I am developing an online 
game, in which the player dont send messages very often (max: ten 
messages per minute), but is is very important to get the messages of 
other players very fast. Thats why I want to use websockets. But now it 
would be sad, if I need multiple tomcat instances only for connection 
handling although the process handling itself is not very complicated 
(cpu and memory intensive).

Thank you,
Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 18:12:58 2012
Return-Path: <users-return-234583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 295B19109
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 18:12:58 +0000 (UTC)
Received: (qmail 78875 invoked by uid 500); 31 May 2012 18:12:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78813 invoked by uid 500); 31 May 2012 18:12:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78799 invoked by uid 99); 31 May 2012 18:12:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 18:12:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 18:12:44 +0000
Received: from workstation (65-128-10-130.hlrn.qwest.net [65.128.10.130])
	by arizona.hanik.com (Postfix) with ESMTPSA id 8EE19A9C1EFF
	for <users@tomcat.apache.org>; Thu, 31 May 2012 12:08:45 -0600 (MDT)
From: "Filip Hanik \(mailing lists\)" <devlists@hanik.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <4FC733C3.3070205@gmx.de> <4FC73539.3000805@apache.org> <4FC7AE24.5040601@gmx.de>
In-Reply-To: <4FC7AE24.5040601@gmx.de>
Subject: RE: non blocking Websockets?
Date: Thu, 31 May 2012 12:12:24 -0600
Message-ID: <047101cd3f58$ee84e090$cb8ea1b0$@hanik.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHQ0dSYAjLCD6FQTHhw0cbJyZ9fuAGZi8cZAmT2RqWWvRfGYA==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

You can achieve that right now. Use the NIO connector, And then set up the
write buffer:

<Connector protocol="org.apache.coyote.http11.Http11NioProtocol"
           socket.txBufSize="set socket buffer size in bytes here"
           
The only "blocking" aspect the connector actually has is to put the data in
the OS TCP write buffer. After that, the OS delivers it asynchronously.
So if you size this buffer correctly, you will achieve complete non blocking
data

Filip


> -----Original Message-----
> From: Christian Finckler [mailto:christian.finckler@gmx.de]
> Sent: Thursday, May 31, 2012 11:45 AM
> To: Tomcat Users List
> Subject: Re: non blocking Websockets?
> 
> 
> 
> Am 31.05.2012 11:09, schrieb Mark Thomas:
> > On 31/05/2012 10:02, Christian Finckler wrote:
> >> Hello,
> >> as far I understood, the websocket implementation of tomcat is using
> one
> >> thread per client.
> >> Is there also a possibility to configure it to use non blocking IO?
> > No. That has not yet been implemented. It shouldn't be too hard
> provided
> > that non-blocking is used between messages and blocking is used during
> > messages. Obviously, the BIO connector will always use blocking.
> >
> > Mark
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> 
> Ok, if that is so easy, it should be done. I am developing an online
> game, in which the player dont send messages very often (max: ten
> messages per minute), but is is very important to get the messages of
> other players very fast. Thats why I want to use websockets. But now it
> would be sad, if I need multiple tomcat instances only for connection
> handling although the process handling itself is not very complicated
> (cpu and memory intensive).
> 
> Thank you,
> Chris
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 18:13:07 2012
Return-Path: <users-return-234584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3FC5910C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 18:13:07 +0000 (UTC)
Received: (qmail 83133 invoked by uid 500); 31 May 2012 18:13:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83066 invoked by uid 500); 31 May 2012 18:13:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83050 invoked by uid 99); 31 May 2012 18:13:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 18:13:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 18:12:54 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Ghqq1j00D0Fqzac51iCYUQ; Thu, 31 May 2012 18:12:32 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id GiCW1j00r38FjT13UiCYtx; Thu, 31 May 2012 18:12:32 +0000
Message-ID: <4FC7B48E.2090709@christopherschultz.net>
Date: Thu, 31 May 2012 14:12:30 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Fix for java.lang.VerifyError in tomcat 7.0.19 all the way thru
 tomcat 7.0.27!!
References: <CAFGXWWTypAa+P0w2yr=nEFyz7i=e70NPyGaTVDbv9v-gsgBk7g@mail.gmail.com> <CABzHfVn0vR5LgjnARy4WYbRfGMxvKXLdZjC41BJq0_sfkTCUDg@mail.gmail.com> <CAFGXWWRTwQT06T5bfvosLK0fVF=MhZYpz93qYte43+pM-L0_Pg@mail.gmail.com>
In-Reply-To: <CAFGXWWRTwQT06T5bfvosLK0fVF=MhZYpz93qYte43+pM-L0_Pg@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Anjan,

On 5/31/12 12:28 PM, Anjan Bacchu wrote:
> Do you suggest that the Eclipse compiler developers be told about
> this bug so they can fix it in the next release ?

You're talking to them already ;)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/HtI4ACgkQ9CaO5/Lv0PCj1ACgk5FscxrpchRPkzE5d7tjkwWp
wkkAmgOnsj9Hanq1P8cx9FtWZx99BlWu
=MT68
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:13:14 2012
Return-Path: <users-return-234585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87FCCCEB1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:13:14 +0000 (UTC)
Received: (qmail 72806 invoked by uid 500); 31 May 2012 19:13:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72725 invoked by uid 500); 31 May 2012 19:13:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72715 invoked by uid 99); 31 May 2012 19:13:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:13:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abiacco@formatdynamics.com designates 38.97.201.17 as permitted sender)
Received: from [38.97.201.17] (HELO mx-01.formatdynamics.com) (38.97.201.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:13:04 +0000
Received: from mx-01.formatdynamics.com (localhost.localdomain [127.0.0.1])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id D096325DA01
	for <users@tomcat.apache.org>; Thu, 31 May 2012 13:12:43 -0600 (MDT)
Received: by mx-01.formatdynamics.com (Postfix, from userid 502)
	id BF09325DA02; Thu, 31 May 2012 13:12:43 -0600 (MDT)
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	mx-01.formatdynamics.com
X-Spam-Report: 
	* -1.0 ALL_TRUSTED Passed through trusted hosts only via SMTP
	*  -50 LOCAL_RCVD LOCAL_RCVD
	* -1.9 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
	*  0.0 AWL AWL: From: address is in the auto white-list
X-Spam-DCC: sonic.net: mx-01.formatdynamics.com 1117; Body=1 Fuz1=1 Fuz2=1
Received: from missoula.formatdynamics.com (unknown [10.10.10.2])
	by mx-01.formatdynamics.com (Postfix) with ESMTP id C6FF225DA01
	for <users@tomcat.apache.org>; Thu, 31 May 2012 13:12:37 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: jk 1.2.36 throwing 503/sendfull/cping errors
Date: Thu, 31 May 2012 13:12:36 -0600
Message-ID: <40D5E3C3CBE03D45A776E7C358BDE90804C29452@missoula.formatdynamics.com>
In-Reply-To: <4FC509AA.3000504@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: jk 1.2.36 throwing 503/sendfull/cping errors
Thread-Index: Ac09we3JaxH1QbdHT1Om2Yif8vJecQBn1wag
References: <40D5E3C3CBE03D45A776E7C358BDE90804C29341@missoula.formatdynamics.com> <4FBDB9AD.2070709@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C2937C@missoula.formatdynamics.com> <4FBE842B.4040109@ice-sa.com> <40D5E3C3CBE03D45A776E7C358BDE90804C2938D@missoula.formatdynamics.com> <4FBF0E85.9030809@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293A0@missoula.formatdynamics.com> <4FBFB5F4.1010602@christopherschultz.net> <40D5E3C3CBE03D45A776E7C358BDE90804C293A6@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293A7@missoula.formatdynamics.com> <4FC095CF.9040305@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293BE@missoula.formatdynamics.com> <4FC2FEA3.6080001@apache.org> <40D5E3C3CBE03D45A776E7C358BDE90804C293C9@missoula.formatdynamics.com> <40D5E3C3CBE03D45A776E7C358BDE90804C293CC@missoula.formatdynamics.com> <4FC509AA.3000504@apache.org>
From: "Anthony J. Biacco" <abiacco@formatdynamics.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Scanned: ClamAV using ClamSMTP C:127.0.0.1 L:127.0.0.1 D:Thu May 31 13:12:43 2012 -0600 (MDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-52.9 required=7.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	LOCAL_RCVD autolearn=ham version=3.3.1

VGhhbmtzIGZvciB0aGUgZml4IGJ0dw0KDQotVG9ueQ0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2Ut
LS0tLQ0KRnJvbTogTWxhZGVuIFR1cmsgW21haWx0bzptdHVya0BhcGFjaGUub3JnXSANClNlbnQ6
IFR1ZXNkYXksIE1heSAyOSwgMjAxMiAxMTozOSBBTQ0KVG86IHVzZXJzQHRvbWNhdC5hcGFjaGUu
b3JnDQpTdWJqZWN0OiBSZTogamsgMS4yLjM2IHRocm93aW5nIDUwMy9zZW5kZnVsbC9jcGluZyBl
cnJvcnMNCg0KT24gMDUvMjkvMjAxMiAwNzoyOCBQTSwgQW50aG9ueSBKLiBCaWFjY28gd3JvdGU6
DQo+IFRydW5rIHdvcmtzLg0KPg0KDQpDb29sLg0KVGhhdCBjb25maXJtcyBteSBmaW5kaW5ncy4N
CldlIGhhdmUgcmVsZWFzZSBjYW5kaWRhdGUgYXQNCmh0dHA6Ly9wZW9wbGUuYXBhY2hlLm9yZy9+
bXR1cmsvdG9tY2F0LWNvbm5lY3RvcnMvamstMS4yLjM3Lw0KDQpIb3BlIGl0cyBnb25uYSBiZSB2
b3RlZCBieSB0aGUgZW5kIG9mIHRoaXMgd2Vlay4NCg0KUmVnYXJkcw0KLS0gDQpeVE0NCg0KLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21j
YXQuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogdXNlcnMtaGVs
cEB0b21jYXQuYXBhY2hlLm9yZw0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:25:18 2012
Return-Path: <users-return-234586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6E0998FA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:25:18 +0000 (UTC)
Received: (qmail 8573 invoked by uid 500); 31 May 2012 19:25:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8527 invoked by uid 500); 31 May 2012 19:25:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8517 invoked by uid 99); 31 May 2012 19:25:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:25:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:25:09 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id GiSA1j00R1ap0As5FjQnrD; Thu, 31 May 2012 19:24:47 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id GjQl1j00f38FjT13ijQn6x; Thu, 31 May 2012 19:24:47 +0000
Message-ID: <4FC7C57D.9020704@christopherschultz.net>
Date: Thu, 31 May 2012 15:24:45 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question about resetting datasources and changes to the BasicDataSource.close()
 method
References: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com> <4FC6B691.1040209@christopherschultz.net> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC826F@Exchange02.rainhail.com>
In-Reply-To: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC826F@Exchange02.rainhail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brooke,

On 5/31/12 11:51 AM, Hedrick, Brooke - 43 wrote:
> Our release cycle has us releasing many applications on many JVMs 
> every week.  From time to time, these applications have issues in 
> them where someone has made a code change that requires 2
> connections per request instead of 1.  In those cases, we
> temporarily increase the MaxActive to accommodate the issue
> introduced.  We do this by using JMX as well as updating the
> server.xml ( in case the JVM is restarted for some reason ).  In
> some cases an application is released that shares a datasource with
> another application and the MaxActive isn't large enough to
> accommodate both apps.  By using JMX, we are able to increase
> MaxActive without having to take the JVM down to resolve this.
> 
> We also have cases where applications are released with connection 
> pool leaks.  When this happens, we catch problems because we keep
> the pools only big enough to service demand.  We will see
> connection pools hit 100% usage and thread pools increase rapidly
> due to waiting on connections.  We do this to prevent the database
> from being hit overly hard by a single application.  We also do not
> use the removeAbandoned settings today in favor of failing fast.
> This way the App Server suffers not the DB.  Our Tomcat hosts and
> JVMs greatly outnumber our DB hosts.

Gotcha.

> What do you do today to reset or resize connection pools?

We simply use maxActive with log/removeAbandoned. Fortunately, we have
a very well-behaved application that neither leaks connections nor
requires two connections at once, so we don't have any deadlocks. We
run with maxActive=20 and that services our current load requirements
with no problems (and no 'abandoned' notifications occur unless some
query takes a very long time to execute -- which does happen every few
months).

We never have to recycle our entire pool for any reason.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/HxX0ACgkQ9CaO5/Lv0PCY+wCdF0++ISNqpl6e2gx4Jp8xXAoI
l5QAn1RvRkYlpbXstny7EaChtZI0yqT0
=CCxl
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:27:18 2012
Return-Path: <users-return-234587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 391D0962D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:27:18 +0000 (UTC)
Received: (qmail 16279 invoked by uid 500); 31 May 2012 19:27:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16102 invoked by uid 500); 31 May 2012 19:27:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16091 invoked by uid 99); 31 May 2012 19:27:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:27:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.56] (HELO qmta06.westchester.pa.mail.comcast.net) (76.96.62.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:27:07 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta06.westchester.pa.mail.comcast.net with comcast
	id GjN41j0060SCNGk56jSlbZ; Thu, 31 May 2012 19:26:45 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id GjSi1j01H38FjT13VjSkv4; Thu, 31 May 2012 19:26:45 +0000
Message-ID: <4FC7C5F2.2000007@christopherschultz.net>
Date: Thu, 31 May 2012 15:26:42 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question about resetting datasources and changes to the BasicDataSource.close()
 method
References: <Ac0+mtRSTPXDQoGAQN6besloJcfM8A==> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com> <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8270@Exchange02.rainhail.com>
In-Reply-To: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8270@Exchange02.rainhail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brooke,

On 5/31/12 11:56 AM, Hedrick, Brooke - 43 wrote:
> /** * Not used currently */ protected boolean restarting = false;
> // bth new
> 
> public void restart() { try { restarting = true;  // bth new try { 
> close(); } finally { restarting = false;  // bth new } } catch
> (SQLException e) { log("Could not restart DataSource, cause: " +
> e.getMessage()); } }

NB: That code isn't threadsafe.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/HxfIACgkQ9CaO5/Lv0PB/JwCePtgdjrYr2+Bz1GhjSnZ3SOuY
J4wAmgP/T6YBQUM3BB+nbimJ3FkyEHDu
=dGRE
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:29:06 2012
Return-Path: <users-return-234588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85A4B9E56
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:29:06 +0000 (UTC)
Received: (qmail 22145 invoked by uid 500); 31 May 2012 19:29:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21928 invoked by uid 500); 31 May 2012 19:29:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21917 invoked by uid 99); 31 May 2012 19:29:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:29:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:28:55 +0000
Received: from omta10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id GjUU1j0090cZkys5FjUaWy; Thu, 31 May 2012 19:28:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta10.westchester.pa.mail.comcast.net with comcast
	id GjUZ1j00p38FjT13WjUaxr; Thu, 31 May 2012 19:28:34 +0000
Message-ID: <4FC7C661.3000805@christopherschultz.net>
Date: Thu, 31 May 2012 15:28:33 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: transport CONFIDENTIAL based on remote ip/host filter?
References: <4FC7A774.8060309@colorado.edu>
In-Reply-To: <4FC7A774.8060309@colorado.edu>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tim,

On 5/31/12 1:16 PM, Timothy J Schumacher wrote:
> I am wondering if there is a way to use transport CONFIDENTIAL for 
> all hosts that are not localhost? I am guessing the servlet spec
> does not allow this, it seems to be all or none in the web.xml
> config.

Correct: the servlet spec has no provision for doing this via
configuration.

> Perhaps there is a way configure transport NONE in web.xml and then
> manually configure a valve/filter in context.xml that would enforce
> CONFIDENTIAL to all remote hosts but let localhost pass without
> redirects to port 443?

You could certainly do that. Take a look at tuckey's url-rewrite
project: it may be able to do that with a drop-in JAR file and very
simple rule configuration. Otherwise, writing such a filter is pretty
trivial.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/HxmEACgkQ9CaO5/Lv0PDWTQCeN7kl5KIOp8B0NsDUjd8TyXy4
4wMAnjjKQ3tJpCYeEDwBQKk72nNJJPzI
=OnWt
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:31:05 2012
Return-Path: <users-return-234589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1DD69E69
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:31:04 +0000 (UTC)
Received: (qmail 28852 invoked by uid 500); 31 May 2012 19:31:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28692 invoked by uid 500); 31 May 2012 19:31:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28682 invoked by uid 99); 31 May 2012 19:31:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:31:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:30:55 +0000
Received: by dadv2 with SMTP id v2so1967337dad.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 12:30:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=ydugzXBX31SPPC6ru6qVuDDMY0vUsFFDEaejPdMf7jE=;
        b=EzQnV44TihXToH+M97S3/3ZgDXheyyT21yPUnp8p04RzEQN+wt3IT2WMLdAbDM+dWv
         mr6isVChlXngnldsM5TMf8z1odMKOkoY/FipNw935o1iI8g5KM/8ogifOqCzKutNFjfG
         PJ1u7KZnV/a6xiywsc92G2GY1xy0sAqoTX1UtSr8do4lLQ0rWR2ysNz1UylUTTU2Tq3g
         s0IxIFvVzIKjI8rfqibWFkindGoi1uA9XEwUc7aLFT0HlhlG72CWubBZK8EKfuDXAxlL
         tQBDtERM1VV4h9pDRDkCJAzTJg5G8QyXEQp2MJ/AKfUXGiHqho2SbFe2k2kZ6nmr3/N1
         3jEg==
MIME-Version: 1.0
Received: by 10.68.202.130 with SMTP id ki2mr3583364pbc.52.1338492634234; Thu,
 31 May 2012 12:30:34 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 12:30:34 -0700 (PDT)
In-Reply-To: <4FC7A774.8060309@colorado.edu>
References: <4FC7A774.8060309@colorado.edu>
Date: Thu, 31 May 2012 23:30:34 +0400
Message-ID: <CABzHfV=iin+BmFNKtQJs7sTx1snes5jSn1UTkSMn-RWBbvoVAw@mail.gmail.com>
Subject: Re: transport CONFIDENTIAL based on remote ip/host filter?
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/5/31 Timothy J Schumacher <Tim.Schumacher@colorado.edu>:
> Hi,
>
> We are using Apache Tomcat 6.0.35
>
> with
>
> # java -version
> java version "1.6.0_30"
> Java(TM) SE Runtime Environment (build 1.6.0_30-b12)
> Java HotSpot(TM) Client VM (build 20.5-b03, mixed mode, sharing)
>
> in redhat linux.
>
> I am wondering if there is a way to use transport CONFIDENTIAL for all ho=
sts
> that are not localhost? =A0I am guessing the servlet spec does not allow =
this,
> it seems to be all or none in the web.xml config. =A0Perhaps there is a w=
ay
> configure transport NONE in web.xml and then manually configure a
> valve/filter in context.xml that would enforce CONFIDENTIAL to all remote
> hosts but let localhost pass without redirects to port 443?
>
> Any ideas are appreciated!
>

<Connector ... address=3D"127.0.0.1" secure=3D"true" />

It will
1. Listen on localhost only.
2. Be treated by Tomcat as if it were an HTTPS connection.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 19:53:43 2012
Return-Path: <users-return-234590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E64C9EE5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 19:53:43 +0000 (UTC)
Received: (qmail 8139 invoked by uid 500); 31 May 2012 19:53:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8045 invoked by uid 500); 31 May 2012 19:53:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8036 invoked by uid 99); 31 May 2012 19:53:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:53:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of brooke.hedrick@rainhail.com designates 12.104.195.141 as permitted sender)
Received: from [12.104.195.141] (HELO ironport01.rainhail.com) (12.104.195.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 19:53:33 +0000
X-SBRS: None
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AqAEAM3Kx0+sGAv9/2dsb2JhbAA8CIVNrTSCG4IYAQEFIxE3GgQCAQgNBAQBAQECAiMDAgICMBQBCAgBAQQTCK42kjmBI4EhiE0WhB4yYAOIQJJJjQA
Received: from unknown (HELO Exchange02.rainhail.com) ([172.24.11.253])
  by ironport01.rainhail.com with ESMTP/TLS/AES128-SHA; 31 May 2012 14:53:12 -0500
Received: from Exchange02.rainhail.com ([172.24.11.253]) by
 Exchange02.rainhail.com ([172.24.11.253]) with mapi; Thu, 31 May 2012
 14:53:12 -0500
From: "Hedrick, Brooke - 43" <brooke.hedrick@rainhail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 31 May 2012 14:53:11 -0500
Subject: RE: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Topic: Question about resetting datasources and changes to the
 BasicDataSource.close() method
Thread-Index: Ac0/Y2MbVtcugwd5T8uHbPZtKUnkHAAAQBUA
Message-ID: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC828A@Exchange02.rainhail.com>
References: <Ac0+mtRSTPXDQoGAQN6besloJcfM8A==>
 <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com>
 <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com>
 <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8270@Exchange02.rainhail.com>
 <4FC7C5F2.2000007@christopherschultz.net>
In-Reply-To: <4FC7C5F2.2000007@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IENocmlzdG9waGVyIFNjaHVs
dHogW21haWx0bzpjaHJpc0BjaHJpc3RvcGhlcnNjaHVsdHoubmV0XQ0KPiBTZW50OiBUaHVyc2Rh
eSwgTWF5IDMxLCAyMDEyIDI6MjcgUE0NCj4gVG86IFRvbWNhdCBVc2VycyBMaXN0DQo+IFN1Ympl
Y3Q6IFJlOiBRdWVzdGlvbiBhYm91dCByZXNldHRpbmcgZGF0YXNvdXJjZXMgYW5kIGNoYW5nZXMg
dG8gdGhlDQo+IEJhc2ljRGF0YVNvdXJjZS5jbG9zZSgpIG1ldGhvZA0KPiANCj4gLS0tLS1CRUdJ
TiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KPiBIYXNoOiBTSEExDQo+IA0KPiBCcm9va2UsDQo+
IA0KPiBPbiA1LzMxLzEyIDExOjU2IEFNLCBIZWRyaWNrLCBCcm9va2UgLSA0MyB3cm90ZToNCj4g
PiAvKiogKiBOb3QgdXNlZCBjdXJyZW50bHkgKi8gcHJvdGVjdGVkIGJvb2xlYW4gcmVzdGFydGlu
ZyA9IGZhbHNlOyAvLw0KPiA+IGJ0aCBuZXcNCj4gPg0KPiA+IHB1YmxpYyB2b2lkIHJlc3RhcnQo
KSB7IHRyeSB7IHJlc3RhcnRpbmcgPSB0cnVlOyAgLy8gYnRoIG5ldyB0cnkgew0KPiA+IGNsb3Nl
KCk7IH0gZmluYWxseSB7IHJlc3RhcnRpbmcgPSBmYWxzZTsgIC8vIGJ0aCBuZXcgfSB9IGNhdGNo
DQo+ID4gKFNRTEV4Y2VwdGlvbiBlKSB7IGxvZygiQ291bGQgbm90IHJlc3RhcnQgRGF0YVNvdXJj
ZSwgY2F1c2U6ICIgKw0KPiA+IGUuZ2V0TWVzc2FnZSgpKTsgfSB9DQo+IA0KPiBOQjogVGhhdCBj
b2RlIGlzbid0IHRocmVhZHNhZmUuDQo+IA0KDQpDaHJpcywNCg0KQXJlIHlvdSBqdXN0IGNvbmNl
cm5lZCBhYm91dCB0aGUgcmVzdGFydCgpIGJlaW5nIGNhbGxlZCBieSBtb3JlIHRoYW4gMSB0aHJl
YWQgc2luY2UgdGhlIHJlc3RhcnRpbmcgbWVtYmVyIHZhcmlhYmxlIGlzbid0IHByb3RlY3RlZD8g
IElmIHNvLCBJIHdhcyBsb29raW5nIGZvciBhIHNob3J0IHRlcm0sIHNpbXBsZSwgZml4LiAgIE91
ciB0b29scyB0aGF0IHdlIHVzZSB0byByZXNldC9yZXNpemUgcG9vbHMgbWFuYWdlIG5vdCBhbGxv
d2luZyBtb3JlIHRoYW4gMSBKTVggY2FsbCBiZWluZyBzZW50IGZvciBhIHNpbmdsZSB0eXBlIG9m
IG9wZXJhdGlvbiBhdCBhIHRpbWUuICBUbyByZWFsbHkgZml4IHRoaXMsIEkgd291bGQgcmF0aGVy
IG5vdCBwdXQgc3luY2hyb25pemVkIG9uIHRoZSByZXN0YXJ0KCkgbWV0aG9kIGJlY2F1c2UgSSBk
b24ndCB3YW50IHRvIGhhdmUgdG8gd3JhcCBteSBicmFpbiBhcm91bmQgc3luY2hyb25pemVkIG1l
dGhvZHMgY2FsbGluZyBzeW5jaHJvbml6ZWQgbWV0aG9kcyAtIGhlbGxvIHBvdGVudGlhbCBkZWFk
bG9jay4NCg0KUGx1cywgdGhlIHNlbWFudGljcyBvZiBjbG9zZSBhbHJlYWR5IHNlZW0gb2RkIGFu
eXdheS4gIFdoYXQgaGFwcGVucyBpZiBvbmUgdGhyZWFkIGlzIHJ1bm5pbmcgY2xvc2UoKSBhbmQg
YW5vdGhlciBpcyBhc2tpbmcgZm9yIGEgY29ubmVjdGlvbiB2aWEgY3JlYXRlRGF0YVNvdXJjZSgp
LiAgVGhlIGNsb3NlZCB2YXJpYWJsZSBjb3VsZCBiZSBmYWxzZSwgY3JlYXRlRGF0YVNvdXJjZSgp
IHdvdWxkIHN0YXJ0IHRvIHJ1biwgZ2V0IGFzIGZhciBhcyBjaGVja2luZyB0byBzZWUgaWYgdGhl
IGRhdGFzb3VyY2UgaXMgbnVsbC4gIE5leHQsIHRoZSBjbG9zZSgpIG1ldGhvZCBudWxscyBvdXQg
dGhlIGRhdGFzb3VyY2UgYW5kIGNyZWF0ZURhdGFTb3VyY2UoKSByZXR1cm5zIHRoZSBudWxsIGRh
dGFzb3VyY2UuICBUaGUgZGF0YXNvdXJjZSB2YXJpYWJsZSBpdHNlbGYgd291bGQgbmVlZCB0byBi
ZSAicHJvdGVjdGVkIi9sb2NrZWQuDQoNCkkgYW0gbm90IGEgSmF2YSBleHBlcnQsIGJ1dCB0aGlz
IGNsYXNzIGhhcyBzb21lIG9kZG5lc3MgYWJvdXQgd2hhdCBpcyBzeW5jaHJvbml6ZWQuICBUaGVy
ZSBhcmUgZ2V0dGVycyB0aGF0IGFyZSBzeW5jaHJvbml6ZWQuIA0KDQpTb21lIGV4YW1wbGVzLi4u
DQoNCiAgICBwdWJsaWMgc3luY2hyb25pemVkIGJvb2xlYW4gZ2V0VGVzdFdoaWxlSWRsZSgpIHsN
CiAgICAgICAgcmV0dXJuIHRoaXMudGVzdFdoaWxlSWRsZTsNCiAgICB9DQoNCiAgICBwdWJsaWMg
c3luY2hyb25pemVkIGxvbmcgZ2V0TWluRXZpY3RhYmxlSWRsZVRpbWVNaWxsaXMoKSB7DQogICAg
ICAgIHJldHVybiB0aGlzLm1pbkV2aWN0YWJsZUlkbGVUaW1lTWlsbGlzOw0KICAgIH0NCg0KICAg
IHB1YmxpYyBzeW5jaHJvbml6ZWQgaW50IGdldE51bVRlc3RzUGVyRXZpY3Rpb25SdW4oKSB7DQog
ICAgICAgIHJldHVybiB0aGlzLm51bVRlc3RzUGVyRXZpY3Rpb25SdW47DQogICAgfQ0KDQoNCi0t
QnJvb2tlDQoNCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-234591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 22:23:24 2012
Return-Path: <users-return-234591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F8129A70
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 22:23:24 +0000 (UTC)
Received: (qmail 52899 invoked by uid 500); 31 May 2012 22:23:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52850 invoked by uid 500); 31 May 2012 22:23:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52841 invoked by uid 99); 31 May 2012 22:23:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 22:23:20 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 22:23:14 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Glzv1j0051GhbT851mNrnr; Thu, 31 May 2012 22:22:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id GmNo1j00L38FjT13TmNq8n; Thu, 31 May 2012 22:22:51 +0000
Message-ID: <4FC7EF38.2090006@christopherschultz.net>
Date: Thu, 31 May 2012 18:22:48 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question about resetting datasources and changes to the BasicDataSource.close()
 method
References: <Ac0+mtRSTPXDQoGAQN6besloJcfM8A==> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8261@Exchange02.rainhail.com> <CABzHfV=KPMdN59wGXGAH2rSM4OhB3fVpZ9AjVeeYhpKu47CNVQ@mail.gmail.com> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC8270@Exchange02.rainhail.com> <4FC7C5F2.2000007@christopherschultz.net> <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC828A@Exchange02.rainhail.com>
In-Reply-To: <30A8B1E10B6694429B87D8D9FBF45C8E024EB9EC828A@Exchange02.rainhail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brooke,

On 5/31/12 3:53 PM, Hedrick, Brooke - 43 wrote:
> Are you just concerned about the restart() being called by more
> than 1 thread since the restarting member variable isn't
> protected?

Yes.

> If so, I was looking for a short term, simple, fix.   Our tools
> that we use to reset/resize pools manage not allowing more than 1
> JMX call being sent for a single type of operation at a time.

Fair enough. Obviously, any patch to commons-dbcp would have to be
threadsafe, though.

> To really fix this, I would rather not put synchronized on the 
> restart() method because I don't want to have to wrap my brain
> around synchronized methods calling synchronized methods - hello
> potential deadlock.

Your worries are misplaced: in Java, a synchronized (non-static)
method uses the 'this' as the synchronization monitor and gets
exclusive access to that monitor before continuing (which you knew
already). When calling another synchronized method, the thread already
holds the monitor and so it gets right in -- it's essentially an
un-contended lock at that point so not only is deadlock not a concern,
the operation is very fast.

> Plus, the semantics of close already seem odd anyway.  What
> happens if one thread is running close() and another is asking for
> a connection via createDataSource().  The closed variable could be 
> false, createDataSource() would start to run, get as far as
> checking to see if the datasource is null.  Next, the close()
> method nulls out the datasource and createDataSource() returns the
> null datasource. The datasource variable itself would need to be
> "protected"/locked.

Yup: the solution is to just synchronize all the methods. If restart()
is synchronized, it will only operate while other methods are not
actively checking-out or checking-in connections. The big problem with
the concept of a "restart" is that there could be connections that are
currently checked-out during the call to recycle()... those need to be
handled in some special way -- probably added to a queue that will be
processed later to destroy the connections.

> I am not a Java expert, but this class has some oddness about what
> is synchronized.  There are getters that are synchronized.
> 
> Some examples...
> 
> public synchronized boolean getTestWhileIdle() { return 
> this.testWhileIdle; }
> 
> public synchronized long getMinEvictableIdleTimeMillis() { return 
> this.minEvictableIdleTimeMillis; }
> 
> public synchronized int getNumTestsPerEvictionRun() { return 
> this.numTestsPerEvictionRun; }

On the one hand, synchronizing these methods should not be necessary
because Java boolean values are defined to be 32-bit integers which
feature atomic assignment (that is, no thread ever sees only 8-bits of
the 32-bit value being assigned and 24-bits of the old value). On the
other hand, threads are allowed to keep cached copies of certain data
under certain conditions. Using the keyword 'volatile' /should/, in
recent JVMs, make the use of 'synchronized' completely unnecessary,
while older JVMs may even ignore 'volatile' making 'synchronized'
mandatory. Use of 'synchronized' is the safest bet because it
definitely causes a 'memory barrier' to be crossed in any version of
JVM: that means that the thread is required to synchronize (perhaps a
bad choice of words) its cache with main memory which means that all
variables get the latest copies of the "real" data.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/H7zgACgkQ9CaO5/Lv0PB/PACfTYSWPc2xxzbQB0FND9HnVMSX
v2kAoKYiQs2Tvc+uQU9RqBEX4HhFtH7d
=Mtj+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 22:24:44 2012
Return-Path: <users-return-234592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B816D9FB1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 22:24:44 +0000 (UTC)
Received: (qmail 59045 invoked by uid 500); 31 May 2012 22:24:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58811 invoked by uid 500); 31 May 2012 22:24:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58802 invoked by uid 99); 31 May 2012 22:24:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 22:24:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 22:24:34 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id Gb9J1j0051wpRvQ51mQCfn; Thu, 31 May 2012 22:24:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id GmQA1j01R38FjT13emQCxb; Thu, 31 May 2012 22:24:12 +0000
Message-ID: <4FC7EF8A.1030001@christopherschultz.net>
Date: Thu, 31 May 2012 18:24:10 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: transport CONFIDENTIAL based on remote ip/host filter?
References: <4FC7A774.8060309@colorado.edu> <CABzHfV=iin+BmFNKtQJs7sTx1snes5jSn1UTkSMn-RWBbvoVAw@mail.gmail.com>
In-Reply-To: <CABzHfV=iin+BmFNKtQJs7sTx1snes5jSn1UTkSMn-RWBbvoVAw@mail.gmail.com>
X-Enigmail-Version: 1.4.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 5/31/12 3:30 PM, Konstantin Kolinko wrote:
> 2012/5/31 Timothy J Schumacher <Tim.Schumacher@colorado.edu>:
>> Hi,
>> 
>> We are using Apache Tomcat 6.0.35
>> 
>> with
>> 
>> # java -version java version "1.6.0_30" Java(TM) SE Runtime
>> Environment (build 1.6.0_30-b12) Java HotSpot(TM) Client VM
>> (build 20.5-b03, mixed mode, sharing)
>> 
>> in redhat linux.
>> 
>> I am wondering if there is a way to use transport CONFIDENTIAL
>> for all hosts that are not localhost?  I am guessing the servlet
>> spec does not allow this, it seems to be all or none in the
>> web.xml config.  Perhaps there is a way configure transport NONE
>> in web.xml and then manually configure a valve/filter in
>> context.xml that would enforce CONFIDENTIAL to all remote hosts
>> but let localhost pass without redirects to port 443?
>> 
>> Any ideas are appreciated!
>> 
> 
> <Connector ... address="127.0.0.1" secure="true" />
> 
> It will 1. Listen on localhost only. 2. Be treated by Tomcat as if
> it were an HTTPS connection.

One thing you left out: at this point, you can use a CONFIDENTIAL
<transport-guarantee> in web.xml and you won't /require/ HTTPS from
localhost.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/H74oACgkQ9CaO5/Lv0PBiZACgv6HdgvpKvg3jDagtPM9Y+YzV
89QAn3HxtJogIYlZHn3tNqPOuL8fIxXE
=l4AD
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-234593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 23:20:38 2012
Return-Path: <users-return-234593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 430EAC522
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 23:20:38 +0000 (UTC)
Received: (qmail 78179 invoked by uid 500); 31 May 2012 23:20:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78127 invoked by uid 500); 31 May 2012 23:20:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78114 invoked by uid 99); 31 May 2012 23:20:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 23:20:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of leejaemannet@naver.com designates 114.111.32.62 as permitted sender)
Received: from [114.111.32.62] (HELO tmailpost28-2.nm.naver.com) (114.111.32.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 31 May 2012 23:20:27 +0000
Received: (qmail 1647 invoked from network); 31 May 2012 23:20:02 -0000
Received: from 114.111.40.147 (HELO tweb107-2.nm.nhnsystem.com) (114.111.40.147)
  by tmailpost28-2.nm.naver.com with SMTP; 31 May 2012 23:20:02 -0000
Date: Fri, 1 Jun 2012 08:20:02 +0900 (KST)
From: =?UTF-8?B?7J207J6s66eM?= <leejaemannet@naver.com>
Reply-To: =?UTF-8?B?7J207J6s66eM?= <leejaemannet@naver.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <f023d80397732bfacb386af26d0b91b@tweb107-2.nm.nhnsystem.com>
In-Reply-To: <4FC7EF8A.1030001@christopherschultz.net>
References: <4FC7A774.8060309@colorado.edu>
	<CABzHfV=iin+BmFNKtQJs7sTx1snes5jSn1UTkSMn-RWBbvoVAw@mail.gmail.com>
	<4FC7EF8A.1030001@christopherschultz.net>
Subject: mod_jk2 question
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46304_1254296621.1338506402972"
Importance: normal
X-Priority: 3 (Normal)

------=_Part_46304_1254296621.1338506402972
Content-Type: text/plain;
	charset=UTF-8
Content-Transfer-Encoding: base64

VGhhbmtzIGluIGFkdmFuY2UuQ3VycmVudGx5IG15IHNpdGUgaXMgYmVpbmcgdXNlZCBpbiB0aGUg
dG9tY2F0ICsgYXBhY2hlLlZlcnNpb24gMi4wIHVzZXMgQXBhY2hlLCBUb21jYXQgd2lsbCB1c2Ug
dGhlIHBvaW50LXRvLTUuQWlybGluZSByZXNlcnZhdGlvbiBzeXN0ZW0sIHdoaWNoIGR1cmluZyB1
c2UsIHRoZSBjdXN0b21lciBib29raW5nIHRoZSByZXNlcnZhdGlvbiB0aGVyZSBpcyBhIGR1cGxp
Y2F0ZSBvZiB0aGUgdHJvdWJsZSBpdCBodXJ0cy5EdXJpbmcgd2hpY2ggd2UgdXNlIG1vZF9qazIs
IGRlZmF1bHQgb3B0aW9ucyBhcmUgYmVpbmcgdXNlZC4gVG9tY2F0IGZyb20gbW9kX2prMiBjYW4g
Y2FsbCB5b3UgaW4gZHVwbGljYXRlIHRvIHdvbmRlciB3aGV0aGVyIHBvc3Nlc3Npb24uCgpUaGFu
a3MuCg==
------=_Part_46304_1254296621.1338506402972--

From users-return-234594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu May 31 23:28:29 2012
Return-Path: <users-return-234594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFDDD9134
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 31 May 2012 23:28:29 +0000 (UTC)
Received: (qmail 621 invoked by uid 500); 31 May 2012 23:28:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 565 invoked by uid 500); 31 May 2012 23:28:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 556 invoked by uid 99); 31 May 2012 23:28:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 23:28:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-pz0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 31 May 2012 23:28:21 +0000
Received: by dadv2 with SMTP id v2so2207604dad.18
        for <users@tomcat.apache.org>; Thu, 31 May 2012 16:28:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=cAwFSNmTIo5Q/wOrnojd4kESQPhL0oZUoRXc36e8df4=;
        b=iLXetIqMMSwhNn8MtWFYcJ4Gc4DOvhs5ecD1cuxf3R3BI7Ro+ayPFbUV3OhbO6rmhb
         SVoSdh0+RoIMcG+dxJQEchi+K0/6fEo1zL79XUJmEjlxWcEFlKMS1KKH7inzytZkEoKX
         BtLBOZh/IiPD167W/0ouM6D/cgGHUCQjpFaSP5K8j+Ag5mbDfumB2NWPGdGuj37BIAFx
         uCqw1J3Ewzy1wT5xeypUfCG5wkvV/2VZvShR4b222XfMgFBK/Ejz0Xc/1b05f9tpXqVO
         P5oRcG+jbsgZmvTQiWYN80V7crAhTr34bXmtUMCAPHftjW+V8V5w+O3uWJwg1rDDwYAQ
         Y35w==
MIME-Version: 1.0
Received: by 10.68.226.226 with SMTP id rv2mr5209471pbc.101.1338506881052;
 Thu, 31 May 2012 16:28:01 -0700 (PDT)
Received: by 10.68.72.130 with HTTP; Thu, 31 May 2012 16:28:01 -0700 (PDT)
In-Reply-To: <f023d80397732bfacb386af26d0b91b@tweb107-2.nm.nhnsystem.com>
References: <4FC7A774.8060309@colorado.edu>
	<CABzHfV=iin+BmFNKtQJs7sTx1snes5jSn1UTkSMn-RWBbvoVAw@mail.gmail.com>
	<4FC7EF8A.1030001@christopherschultz.net>
	<f023d80397732bfacb386af26d0b91b@tweb107-2.nm.nhnsystem.com>
Date: Fri, 1 Jun 2012 03:28:01 +0400
Message-ID: <CABzHfVn-=ezhSWBoqrZROKkX14ie--tZtrBJMw03zO-idqTcxA@mail.gmail.com>
Subject: Re: mod_jk2 question
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/6/1 =EC=9D=B4=EC=9E=AC=EB=A7=8C <leejaemannet@naver.com>:
> Thanks in advance.Currently my site is being used in the tomcat + apache.=
Version 2.0 uses Apache, Tomcat will use the point-to-5.Airline reservation=
 system, which during use, the customer booking the reservation there is a =
duplicate of the trouble it hurts.During which we use mod_jk2, default opti=
ons are being used. Tomcat from mod_jk2 can call you in duplicate to wonder=
 whether possession.
>

1. What is your problem?  Your English is hard to understand.

What duplicate? What trouble? What hurts?

2. "mod_jk2" is dead and broken.

The connector that people should use is "mod_jk".

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


