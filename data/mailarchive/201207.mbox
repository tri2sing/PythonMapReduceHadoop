From users-return-235286-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  1 10:29:14 2012
Return-Path: <users-return-235286-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3ECCE994C
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  1 Jul 2012 10:29:14 +0000 (UTC)
Received: (qmail 37680 invoked by uid 500); 1 Jul 2012 10:29:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37624 invoked by uid 500); 1 Jul 2012 10:29:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37613 invoked by uid 99); 1 Jul 2012 10:29:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jul 2012 10:29:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alarroque@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jul 2012 10:29:04 +0000
Received: by obbta14 with SMTP id ta14so9052330obb.18
        for <users@tomcat.apache.org>; Sun, 01 Jul 2012 03:28:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xISnXLld3KPktnL2aMY2f1sPisv4ApzoEM3MPXRaevY=;
        b=wToW5FxBfRpSgyOiOvOstxExEbFn3KiIQYh3MJg4jqr+M42GHO7bYyVUADtgqlV7OI
         x0a8EEzUtegP+BmExz5AfpuuGrrboNyAW/YMDXHs2qQ48Tw3pK4Y1q0kaNJac8wKpPUw
         PyEYx5qMmTM1aDDoF3OD+kmdrgry6Io1Srn8cVh8l2ACGIcWx/Y9lY/ZODkxifSzvIbo
         qrBi7B+SxPeWuXcXPRgnIgQmMdZt/UjCOGw43Tqng+5k2spIrNhbsvYSarnFB5dGyDdr
         DYz/3NBKDOkxu4+8Ys1ZT5hf7yWDyrMZ4Gvlo2lRdxArrSzBthMihJiFkFGMsWfQ8CJK
         AVRQ==
MIME-Version: 1.0
Received: by 10.182.111.72 with SMTP id ig8mr3464840obb.35.1341138524018; Sun,
 01 Jul 2012 03:28:44 -0700 (PDT)
Received: by 10.182.24.167 with HTTP; Sun, 1 Jul 2012 03:28:43 -0700 (PDT)
In-Reply-To: <1341093853433-4983478.post@n6.nabble.com>
References: <1340932633416-4983418.post@n6.nabble.com>
	<CA+9p3KJrN9c3jXafBJte_AG11irjGZtZfs_=W83uxN3LmP3Gaw@mail.gmail.com>
	<1341093853433-4983478.post@n6.nabble.com>
Date: Sun, 1 Jul 2012 12:28:43 +0200
Message-ID: <CA+9p3KJCtgPwu3BQdpzjjsHLg_+eV_HhM9ULbT_G+43otanAKw@mail.gmail.com>
Subject: Re: Tomcat 7 Manager App Authentication failure
From: Arnaud LARROQUE <alarroque@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Jul 1, 2012 at 12:04 AM, kl2eativ <kl2eativ@gmail.com> wrote:
>
> Arnaud LARROQUE wrote
>>
>> Hello,
>>
>> Are you using tomcat 7 or tomcat 5 ? You mentioned both and this is
>> confusing.
>>
>> URL changed in the tomcat 7 manager app : are you accessing through
>> http://your-host:your-port/manager/html ?
>>
>
> Thank you for your response. I have installed Tomcat 7.0.27 but for some

Did you install tomcat 7 through package manager ? which distribution ?

> reason the folders that I have say Tomcat5? I access it via myhostname:8080
On my fedora16, /etc/tomcat5 is the configuration directory for the
tomcat5 package
/etc/tomcat is the configuration directory for the current tomcat
version (ie tomcat 7.0.27)

Check if you also have a /etc/tomcat directory  ? if so, apply your
configuration in this directory

Arnaud
>
>
> --
> View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-7-Manager-App-Authentication-failure-tp4983418p4983478.html
> Sent from the Tomcat - User mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235287-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 09:00:51 2012
Return-Path: <users-return-235287-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C913B925E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 09:00:51 +0000 (UTC)
Received: (qmail 92814 invoked by uid 500); 2 Jul 2012 09:00:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91979 invoked by uid 500); 2 Jul 2012 09:00:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91950 invoked by uid 99); 2 Jul 2012 09:00:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 09:00:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [83.145.109.32] (HELO mx2-v2.alinto.net) (83.145.109.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 09:00:38 +0000
X-Virus-Scanned: amavisd-new at alinto.net
Received: from [192.168.2.45] (LDijon-156-66-21-52.w80-11.abo.wanadoo.fr [80.11.48.52])
	(Authenticated sender: lpetit@yseop.com)
	by mx2-v2.alinto.net (Postfix) with ESMTPA id 279382441AC;
	Mon,  2 Jul 2012 10:59:55 +0200 (CEST)
Message-ID: <1341219593.2529.5.camel@localhost>
Subject: Re: Re : Re: Issue with keep-alive connections, when using APR
 Connector on Windows and starting Processes from Servlets
From: Laurent Petit <lpetit@yseop.com>
To: Tomcat Users List <users@tomcat.apache.org>
Cc: "verlag.preisser@t-online.de" <verlag.preisser@t-online.de>
Date: Mon, 02 Jul 2012 10:59:53 +0200
In-Reply-To: <CANyrOm4dQ4gPo97LuHiT9CoWKV0Hhm7s_g8nBeEk70dAKj+XjQ@mail.gmail.com>
References: 
	<CANyrOm6-LTMKpkxdAo5cC8JuWW2zd_qk0mZy=vD+JpxXNvUVZw@mail.gmail.com>
	 <1SjEOU-1oXOyW0@fwd00.aul.t-online.de>
	 <1340961729.13251.26.camel@localhost>
	 <CANyrOm5OJpS-ziyN=i+=xf6porQt12HdzoyRa4mmh0bjVgYuiw@mail.gmail.com>
	 <1340973630.13251.42.camel@localhost>
	 <CANyrOm4myu3kyaA_2S24LQQDuBTohvQ6_LB2eKw+ounGVODkaA@mail.gmail.com>
	 <1340980685.13251.50.camel@localhost>
	 <CANyrOm4dQ4gPo97LuHiT9CoWKV0Hhm7s_g8nBeEk70dAKj+XjQ@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.2.1- 
Content-Transfer-Encoding: 8bit
Mime-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, 2012-06-29 at 17:18 +0200, Jeff MAURY wrote:
> Hello,
> 
> I found the correct code to look at:
> http://svn.apache.org/repos/asf/tomcat/native/branches/1.1.x/native/src/network.c
> It does not set the inherit flag but it is using the apr library that maybe
> set the flag under Windows.
> If this is the case and according to your references, it is likely the
> client will not receive the ack and this is a problem with APR and
> Runtime.exec

Hello,

Seems like it's function apr_socket_create, defined in this APR file:

http://svn.apache.org/repos/asf/apr/apr/trunk/network_io/win32/sockets.c


which apparently already tries to create a non-inherited handle.

The code, for reasons beyond my current understanding, relies at compile
time on the flags APR_HAS_UNICODE_FS and _WIN32_WCE.

It also relies at runtime on IF_WIN_OS_IS_UNICODE, which may (?) be an
indirect indication that the underlying OS needs SetHandleInformation to
be explicitly called.


Jeff, do you have ideas/indications on how I could help push the issue
resolution forward ? We're reaching the limits of my current abilities
to help, not having a windows box with C compiler to do tests, etc.  :-(




You'll find below the relevant code:

#ifdef WIN32
    /* Socket handles are never truly inheritable, there are too many
     * bugs associated.  WSADuplicateSocket will copy them, but for our
     * purposes, always transform the socket() created as a
non-inherited
     * handle
     */
#if APR_HAS_UNICODE_FS && !defined(_WIN32_WCE)
    IF_WIN_OS_IS_UNICODE {
        /* A different approach.  Many users report errors such as 
         * (32538)An operation was attempted on something that is not 
         * a socket.  : Parent: WSADuplicateSocket failed...
         *
         * This appears that the duplicated handle is no longer
recognized
         * as a socket handle.  SetHandleInformation should overcome
that
         * problem by not altering the handle identifier.  But this
won't
         * work on 9x - it's unsupported.
         */
        SetHandleInformation((HANDLE) (*new)->socketdes, 
                             HANDLE_FLAG_INHERIT, 0);
    }
#if APR_HAS_ANSI_FS
    /* only if APR_HAS_ANSI_FS && APR_HAS_UNICODE_FS */
    ELSE_WIN_OS_IS_ANSI
#endif
#endif
#if APR_HAS_ANSI_FS || defined(_WIN32_WCE)
    {
        HANDLE hProcess = GetCurrentProcess();
        HANDLE dup;
        if (DuplicateHandle(hProcess, (HANDLE) (*new)->socketdes,
hProcess, 
                            &dup, 0, FALSE, DUPLICATE_SAME_ACCESS)) {
            closesocket((*new)->socketdes);
            (*new)->socketdes = (SOCKET) dup;
        }
    }
#endif

#endif /* def WIN32 */




> 
> Jeff
> 
> 
> On Fri, Jun 29, 2012 at 4:38 PM, Laurent Petit <lpetit@yseop.com> wrote:
> 
> > On Fri, 2012-06-29 at 15:27 +0200, Jeff MAURY wrote:
> > > No,
> > >
> > > it does not (yet) make sense because one piece of the puzzle is missing.
> > > The Local socket is not a TCP socket, it is created from a path rather
> > than
> > > from an IP address.
> > > So this socket is in no way linked to the browser, at least directly, and
> > > the missing piece is what is the relation from this socket to the
> > browser.
> >
> > You're right, so the question is still open.
> >
> > In the mean time, I'm come across interesting google search results,
> > among which the first one seems really interesting:
> >
> >
> > Oracle Bug 6428742
> > ==================
> >
> > "Currently, on Windows, Runtime.exec is implemented by calling
> > CreateProcess with the bInheritHandles argument set to TRUE,
> > which causes open handles to not be closed if they are not
> > explicitly set to be non-inherited.  This is the underlying cause
> > of many subtle bugs, such as
> >
> > 6347873: (so) Ports opened with ServerSocketChannel blocks when using
> > Runtime.exec
> > http://monaco.sfbay/detail.jsf?cr=6347873"
> >
> >
> >
> > ==> Note the "if they are not explicitly set to be non-inherited" =>
> > this seems like a game changer, since our implicit assumption was that
> > we would just look for code which would have accidentally set the handle
> > to be inherited, not the other way around.
> >
> > http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6428742
> >
> >
> >
> > QT Project
> > ==========
> >
> > "When using spawned processes, sockets opened by the client remain in
> > CLOSE_WAIT state after closing the connection. Sockets on the remote
> > side would be in FIN_WAIT_2 state and waiting for ACK.
> > When the spawned (child) process is closed, then ACK is sent and sockets
> > are finally moved to CLOSE state on both sides.
> > This seems to be caused by the default handle inheritance on Windows by
> > child processes."
> >
> > https://bugreports.qt-project.org/browse/QTBUG-4465
> >
> >
> >
> > Zeromq2 project
> > ===============
> >
> > "On Windows platform, in order to prevent child processes to inherit
> > parent sockets, SetHandleInformation
> > (
> > http://msdn.microsoft.com/en-us/library/windows/desktop/ms724935(v=vs.85).aspx)
> > should be called on the socket handle.
> >
> > This patch comes out from discussion at:
> > https://github.com/zeromq/clrzmq/issues/60"
> >
> > https://github.com/zeromq/zeromq2-x/pull/51
> > and
> > https://zeromq.jira.com/browse/LIBZMQ-366
> >
> >
> > I found way more interesting results, but I'll spare space and won't
> > paste them all in this thread
> > ( google search criteria : "windows inheriting socket handles" )
> >
> >
> > >
> > > Jeff
> > >
> > >
> > > On Fri, Jun 29, 2012 at 2:40 PM, Laurent Petit <lpetit@yseop.com> wrote:
> > >
> > > > Hello,
> > > >
> > > > On Fri, 2012-06-29 at 11:45 +0200, Jeff MAURY wrote:
> > > >
> > > > > That what I guessed but I don't understand everything.
> > > > > The code you are referencing is related to NTPipes and not sockets.
> > > >
> > > >
> > > > I'm not a C expert, but my bet is that the file name is misleading.
> > > >
> > > > Indeed, the
> > > >
> > > > con->sa.bInheritHandle = TRUE;
> > > >
> > > > statement appears in the definition driven by the following macro
> > > > expansion:
> > > >
> > > > TCN_IMPLEMENT_CALL(jlong, Local, create)(TCN_STDARGS, jstring name,
> > > >
> > > >                                         jlong pool)
> > > >
> > > > And when the macro call TCN_IMPLEMENT_CALL(jlong, Local, create) is
> > > > preprocessed, it gives:
> > > >
> > > >
> > > > JNIEXPORT RT JNICALL Java_org_apache_tomcat_jni_##Local##_##create
> > > >
> > > > , thus the bInheritHandle = TRUE statement is defined in the following
> > > > function signature:
> > > >
> > > > JNIEXPORT RT JNICALL
> > > > Java_org_apache_tomcat_jni_##Local##_##create(TCN_STDARGS, jstring
> > name,
> > > >                                         jlong pool)
> > > >
> > > > which is a function called by JNDI, and as I guess, by class
> > > > org.apache.tomcat.ini.Local, method create() :
> > > >
> > > >
> > > >
> > http://svn.apache.org/repos/asf/tomcat/native/branches/1.1.x/java/org/apache/tomcat/jni/Local.java
> > > >
> > > > And the javadoc for class Local is: "Local socket"
> > > > And for methode create :
> > > > /**
> > > >
> > > >  * Create a socket.
> > > >  * @param path The address of the new socket.
> > > >  * @param cont The parent pool to use
> > > >  * @return The new socket that has been set up.
> > > >  */
> > > >
> > > >
> > > > It seems like the native code uses a pool, and my bet is that the pool
> > > > is responsible for trying to reuse the socket.
> > > >
> > > > And something like this may happen: the socket handle, inherited by the
> > > > child process, puts the socket in such a state that the pool either
> > > > can't, either doesn't want to reuse it.
> > > >
> > > > And then what happens is that on the other side of the socket, the
> > > > client continues to write HTTP requests, and nobody is listening.
> > > >
> > > > And then when the Tomcat's child process is killed, the socket is
> > > > finally closed somehow, the client browser notices it and creates a new
> > > > connection to the server and retries the HTTP request.
> > > >
> > > >
> > > > Does that make sense ?
> > > >
> > > >
> > > >
> > > > > So I'm
> > > > > not familiar with Tomcat Native implementation, but do you know the
> > > > global
> > > > > architecture ?
> > > > > What I guessed is that the Tomcat native stuff created with the
> > inherit
> > > > > flag, but even if it does, I don't see why it should not work if the
> > > > socket
> > > > > is closed after a timeout.
> > > > >
> > > > > Regards
> > > > > Jeff
> > > > >
> > > > >
> > > > >
> > > > > On Fri, Jun 29, 2012 at 11:22 AM, Laurent Petit <lpetit@yseop.com>
> > > > wrote:
> > > > >
> > > > > > Hello Jeff, Konstantin & all,
> > > > > >
> > > > > > On Mon, 2012-06-25 at 20:52 +0200, verlag.preisser@t-online.dewrote:
> > > > > > > Hello Jeff & all,
> > > > > > >
> > > > > > > > Von: Jeff MAURY <jeffmaury@jeffmaury.com>
> > > > > > > > Datum: Mon, 25 Jun 2012 18:46:02 +0200
> > > > > > >
> > > > > > > > Konstantin,
> > > > > > > >
> > > > > > > > your explanations are very interesting but unclear to me: what
> > do
> > > > you
> > > > > > > > call the inactivity timer ? When it is started ? After the
> > request
> > > > has
> > > > > > > > been processed by the servlet ? In that case, I see no
> > difference
> > > > > > > > between a servlet that launch a process and another one.
> > > > > > > > It seems to me that a process that is launched does not
> > inhererits
> > > > > > > > handles from its parent process but it's possible that under
> > > > Windows,
> > > > > > > > it's an option so it would be interesting to watch.
> > > > > > > >
> > > > > > > > Jeff
> > > > > > > >
> > > > > > >
> > > > > > > Sorry, I'm just a normal Tomcat user, and I don't know how
> > exactly
> > > > the
> > > > > > APR connector and its Timeout works, so I am unable to answer that.
> > > > > > >
> > > > > > >
> > > > > > > Howewer, I did some further observations:
> > > > > > >
> > > > > > > -When I perform a request to the servlet that opens wordpad.exe,
> > the
> > > > TCP
> > > > > > connection from Tomcat does not close after the timeout - even
> > when I
> > > > kill
> > > > > > the Tomcat process (java.exe), the TCP connection is still open.
> > If I
> > > > kill
> > > > > > wordpad.exe, then finally the connection is closed/aborted.
> > > > > > > -When I have 1 TCP connection open to Tomcat and the servlet
> > starts
> > > > the
> > > > > > little C program, Task manager shows that it has 11 handles.
> > > > > > > However, when I have 5 TCP connections open to Tomcat, and do the
> > > > > > request on one of them, Task maanger shows that the C program has
> > 15
> > > > > > handles - so four more handles when there are four more
> > connections to
> > > > > > Tomcat. All of that 5 TCP connections don't close until I kill that
> > > > process.
> > > > > > >
> > > > > > > That seems to me to be an indication that socket handles could be
> > > > > > inherited by the child processes that are startet by ProcessBuilder
> > > > from
> > > > > > tomcat.
> > > > > > >
> > > > > > > A msdn article mentions how to create a new process using
> > > > > > CreateProcess(); it also mentions that socket handles can be
> > inherited:
> > > > > >
> > http://msdn.microsoft.com/en-us/library/windows/desktop/ms724466.aspx
> > > > > > >
> > > > > > > However, as I don't have much knowledge about programming with
> > > > WinAPIs,
> > > > > > I don't know why those handles are inherited (the MSDN article
> > mentions
> > > > > > that a handle must be specified as inheritable when created, to
> > allow a
> > > > > > child process to inherit it). Maybe someone with more WinAPI/Tomcat
> > > > Native
> > > > > > knowledge can help here.
> > > > > >
> > > > > >
> > > > > > I also had the vague intuition that this related to handles
> > > > inheritence.
> > > > > > Your recent tests & research tend to make this hypothesis even more
> > > > > > appealing.
> > > > > >
> > > > > > I know nothing about tomcat-native implementation, but I was able
> > to
> > > > see
> > > > > > that the bInheritHandle member is set to true here in tomcat
> > native's C
> > > > > > code:
> > > > > >
> > > > > > lpetit:~/tmp/tomcat-native $ grep "bInheritHandle" -R *
> > > > > > native/os/win32/ntpipe.c:    con->sa.bInheritHandle = TRUE;
> > > > > >
> > > > > > (
> > > > > >
> > > > > >
> > > >
> > http://svn.apache.org/repos/asf/tomcat/native/branches/1.1.x/native/os/win32/ntpipe.c
> > > > )
> > > > > >
> > > > > >
> > > > > > Jeff,
> > > > > >
> > > > > > What else could we do to help investigate / fix this issue ?
> > > > > >
> > > > > >
> > > > > > Cheers,
> > > > > >
> > > > > > --
> > > > > > Laurent
> > > > > >
> > > > > >
> > > > > > >
> > > > > > > Regards,
> > > > > > > Konstantin Preißer
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > >
> > ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > > > >
> > > > > >
> > > > > > --
> > > > > > Laurent Petit
> > > > > >
> > > > > > Agence +33 (0)4 78 47 07 49
> > > > > >
> > > > > > Email     lpetit@yseop.com
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > > Yseop apporte une réponse intelligente et individualisée à chacun
> > de
> > > > vos
> > > > > > clients
> > > > > >
> > > > > >
> > > > > >
> > > > > > www.yseop.com
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > >
> > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > > >
> > > > > >
> > > > >
> > > > >
> > > >
> > > >
> > > > --
> > > > Laurent Petit
> > > >
> > > > Agence +33 (0)4 78 47 07 49
> > > >
> > > > Email     lpetit@yseop.com
> > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> > > > Yseop apporte une réponse intelligente et individualisée à chacun de
> > vos
> > > > clients
> > > >
> > > >
> > > >
> > > > www.yseop.com
> > > >
> > > >
> > > >
> > >
> > >
> >
> > --
> > Laurent Petit
> >
> > Agence +33 (0)4 78 47 07 49
> >
> > Email     lpetit@yseop.com
> >
> >
> >
> >
> >
> >
> >
> > Yseop apporte une réponse intelligente et individualisée à chacun de vos
> > clients
> >
> >
> >
> > www.yseop.com
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
> 
> 

-- 
Laurent Petit

Agence +33 (0)4 78 47 07 49

Email     lpetit@yseop.com

 



 

Yseop apporte une réponse intelligente et individualisée à chacun de vos
clients

 

www.yseop.com




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235288-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 09:39:10 2012
Return-Path: <users-return-235288-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D1B1C2F4
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 09:39:10 +0000 (UTC)
Received: (qmail 80186 invoked by uid 500); 2 Jul 2012 09:39:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80022 invoked by uid 500); 2 Jul 2012 09:39:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80008 invoked by uid 99); 2 Jul 2012 09:39:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 09:39:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [188.129.0.4] (HELO out1.mail.amis.hr) (188.129.0.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 09:38:58 +0000
Received: from out.fsec.sm.srv.amis.hr (out.fsec.sm.srv.amis.hr [192.168.106.22])
	by out1.mail.amis.hr (Postfix) with ESMTP id 834A91FC65
	for <users@tomcat.apache.org>; Mon,  2 Jul 2012 11:38:36 +0200 (CEST)
Received: from pps.filterd (out [127.0.0.1])
	by out.fsec.sm.srv.amis.hr (8.14.4/8.14.4) with SMTP id q629a8RB005688
	for <users@tomcat.apache.org>; Mon, 2 Jul 2012 11:38:36 +0200
Received: from smtp.amis.hr (smtp.sm.srv.amis.hr [192.168.106.39])
	by out.fsec.sm.srv.amis.hr with ESMTP id 15twj70v71-1
	for <users@tomcat.apache.org>; Mon, 02 Jul 2012 11:38:36 +0200
A-Original-Client-UID: 188.129.65.134 splivalo
Received: from [192.168.10.1] (cpe-188-129-65-134.dynamic.amis.hr [188.129.65.134])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: splivalo)
	by smtp.amis.hr (Postfix) with ESMTPSA id 30E6E4BE
	for <users@tomcat.apache.org>; Mon,  2 Jul 2012 11:38:35 +0200 (CEST)
Message-ID: <4FF16C1C.7050807@megafon.hr>
Date: Mon, 02 Jul 2012 11:38:36 +0200
From: Mario Splivalo <mario.splivalo@megafon.hr>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:13.0) Gecko/20120615 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: How to unsubscribe?
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.7.7855,1.0.260,0.0.0000
 definitions=2012-07-02_01:2012-06-29,2012-07-02,1970-01-01 signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 ipscore=0 suspectscore=2
 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx
 scancount=1 engine=6.0.2-1203120001 definitions=main-1207020033
X-Virus-Checked: Checked by ClamAV on apache.org

I apologise for asking this question directly to this list, but all of
my other inquiries to the users-owner@tomcat.apache.org were not answered.
I tried to unsubscribe from this list many times, but I don't get
confirmation email, ever.

If someone could contact me directly to have this sorted out, I'd be
more than happy.

Thank you again,

    Mario

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235289-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 10:16:46 2012
Return-Path: <users-return-235289-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F1B7C3DF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 10:16:46 +0000 (UTC)
Received: (qmail 64706 invoked by uid 500); 2 Jul 2012 10:16:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64637 invoked by uid 500); 2 Jul 2012 10:16:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64608 invoked by uid 99); 2 Jul 2012 10:16:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 10:16:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of giles@coochey.net designates 77.245.69.194 as permitted sender)
Received: from [77.245.69.194] (HELO smtp.netsecspec.co.uk) (77.245.69.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 10:16:35 +0000
Received: from [10.10.20.81] (grail1.oxfam.org.uk [86.12.173.9])
	(authenticated bits=0)
	by smtp.netsecspec.co.uk (8.14.5/8.14.5) with ESMTP id q62AGDFt009614
	(version=TLSv1/SSLv3 cipher=DHE-RSA-CAMELLIA256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Mon, 2 Jul 2012 11:16:14 +0100
Message-ID: <4FF174EC.8090906@coochey.net>
Date: Mon, 02 Jul 2012 11:16:12 +0100
From: Giles Coochey <giles@coochey.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: How to unsubscribe?
References: <4FF16C1C.7050807@megafon.hr>
In-Reply-To: <4FF16C1C.7050807@megafon.hr>
Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha1; boundary="------------ms070700020300050807090500"
X-Virus-Scanned: clamav-milter 0.97.5 at smtp.netsecspec.co.uk
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

--------------ms070700020300050807090500
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: quoted-printable

On 02/07/2012 10:38, Mario Splivalo wrote:
> I apologise for asking this question directly to this list, but all of
> my other inquiries to the users-owner@tomcat.apache.org were not answer=
ed.
> I tried to unsubscribe from this list many times, but I don't get
> confirmation email, ever.
>
> If someone could contact me directly to have this sorted out, I'd be
> more than happy.
>
> Thank you again,
>
>      Mario
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
Check the inserted footer of your own message.

--=20
Regards,

Giles Coochey, CCNA, CCNAS
NetSecSpec Ltd
+44 (0) 7983 877438
http://www.netsecspec.co.uk
giles.coochey@netsecspec.co.uk

--=20
Regards,

Giles Coochey, CCNA, CCNAS
NetSecSpec Ltd
+44 (0) 7983 877438
http://www.coochey.net
http://www.netsecspec.co.uk
giles@coochey.net



--------------ms070700020300050807090500
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIOMjCC
BjQwggQcoAMCAQICAR4wDQYJKoZIhvcNAQEFBQAwfTELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxKTAnBgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA3
MTAyNDIxMDE1NVoXDTE3MTAyNDIxMDE1NVowgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1T
dGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWdu
aW5nMTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENs
aWVudCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMcJg8zOLdgasSmkLhOr
lr6KMoOMpohBllVHrdRvEg/q6r8jR+EK75xCGhR8ToREoqe7zM9/UnC6TS2y9UKTpT1v7RSM
zR0t6ndl0TWBuUr/UXBhPk+Kmy7bI4yW4urC+y7P3/1/X7U8ocb8VpH/Clt+4iq7nirMcNh6
qJR+xjOhV+VHzQMALuGYn5KZmc1NbJQYclsGkDxDz2UbFqE2+6vIZoL+jb9x4Pa5gNf1TwSD
kOkikZB1xtB4ZqtXThaABSONdfmv/Z1pua3FYxnCFmdr/+N2JLKutIxMYqQOJebr/f/h5t95
m4JgrM3Y/w7YX9d7YAL9jvN4SydHsU6n65cCAwEAAaOCAa0wggGpMA8GA1UdEwEB/wQFMAMB
Af8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRTcu2SnODaywFcfH6WNU7y1LhRgjAfBgNV
HSMEGDAWgBROC+8apEBbpRdphzDKNGhD0EGu8jBmBggrBgEFBQcBAQRaMFgwJwYIKwYBBQUH
MAGGG2h0dHA6Ly9vY3NwLnN0YXJ0c3NsLmNvbS9jYTAtBggrBgEFBQcwAoYhaHR0cDovL3d3
dy5zdGFydHNzbC5jb20vc2ZzY2EuY3J0MFsGA1UdHwRUMFIwJ6AloCOGIWh0dHA6Ly93d3cu
c3RhcnRzc2wuY29tL3Nmc2NhLmNybDAnoCWgI4YhaHR0cDovL2NybC5zdGFydHNzbC5jb20v
c2ZzY2EuY3JsMIGABgNVHSAEeTB3MHUGCysGAQQBgbU3AQIBMGYwLgYIKwYBBQUHAgEWImh0
dHA6Ly93d3cuc3RhcnRzc2wuY29tL3BvbGljeS5wZGYwNAYIKwYBBQUHAgEWKGh0dHA6Ly93
d3cuc3RhcnRzc2wuY29tL2ludGVybWVkaWF0ZS5wZGYwDQYJKoZIhvcNAQEFBQADggIBAAqD
CH14qywGXLhjjF6uHLkjd02hcdh9hrw+VUsv+q1eeQWB21jWj3kJ96AUlPCoEGZ/ynJNScWy
6QMVQjbbMXltUfO4n4bGGdKo3awPWp61tjAFgraLJgDk+DsSvUD6EowjMTNx25GQgyYJ5RPI
zKKR9tQW8gGK+2+RHxkUCTbYFnL6kl8Ch507rUdPPipJ9CgJFws3kDS3gOS5WFMxcjO5DwKf
KSETEPrHh7p5shuuNktvsv6hxHTLhiMKX893gxdT3XLS9OKmCv87vkINQcNEcIIoFWbP9HOR
z9v3vQwR4e3ksLc2JZOAFK+ssS5XMEoznzpihEP0PLc4dCBYjbvSD7kxgDwZ+Aj8Q9PkbvE9
sIPP7ON0fz095HdThKjiVJe6vofq+n6b1NBc8XdrQvBmunwxD5nvtTW4vtN6VY7mUCmxsCie
uoBJ9OlqmsVWQvifIYf40dJPZkk9YgGTzWLpXDSfLSplbY2LL9C9U0ptvjcDjefLTvqSFc7t
w1sEhF0n/qpA2r0GpvkLRDmcSwVyPvmjFBGqUp/pNy8ZuPGQmHwFi2/14+xeSUDG2bwnsYJQ
G2EdJCB6luQ57GEnTA/yKZSTKI8dDQa8Sd3zfXb19mOgSF0bBdXbuKhEpuP9wirslFe6fQ1t
5j5R0xi72MZ8ikMu1RQZKCyDbMwazlHiMIIH9jCCBt6gAwIBAgIDA+MyMA0GCSqGSIb3DQEB
CwUAMIGMMQswCQYDVQQGEwJJTDEWMBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMi
U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZzE4MDYGA1UEAxMvU3RhcnRDb20g
Q2xhc3MgMSBQcmltYXJ5IEludGVybWVkaWF0ZSBDbGllbnQgQ0EwHhcNMTIwMzEzMDQ0NjQ4
WhcNMTMwMzE0MDc1OTUzWjA+MRowGAYDVQQDDBFnaWxlc0Bjb29jaGV5Lm5ldDEgMB4GCSqG
SIb3DQEJARYRZ2lsZXNAY29vY2hleS5uZXQwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIK
AoICAQCoA4zqMcj1394GCTq0/D42F7jr1601tA9huVU1878zQ5EgmC9oUtVBZAN8pqY54Kkf
E+EQZ+Yv4nfYFJKCHTQdy55cYTdSW+qXBogmuUfauP2dPqdGQn4dVHvXZUdj3vCSaDlY56Ub
BZ4xrUArnX0lQ9Mw4dQc2CYEjBF+LFBarDHy1f5iH6BRz+KB6kfAydlS8Y/R3zHA2J1mqgLD
6/2ex/dUT5zGdhfYGxVJ1OVjh15GbdwyqKiE8xLsIrFjViPSWcEUuA/U7sZaFjvZ06fM+yoU
WoIfe0Gmq/HHykZAHppjz9rpETXGkNmC7x/VMw0hBipGUXEU0CJr6BFB3f06vOh91jJ15vku
EAcb2RCm1vZ6L0ECrEza8q28OEEIeGWXHOipEPL8ZRYA362YEcvefvxsBc1qZ5OlujjojEql
7Li/tijgaDKZEnB9rQ23dq71hkZC2L1SQClz/WcmPW9KzSodQBh3o/glCHm9eYv+lYOcBcS6
7ehOCSUYph1tFpen2v0RFfDqTdukUiR49Br2GoZi/57Jyj7k43gE+eD5ARXKdY8iPv02JEG6
hxRtG2n4dauAlr+c5y9zMPZ29gOo0kPveVJItViSYxko5X0w5ScYeEWW6vHMON5T1qjBy1xt
Fnasm+5/gpNW7055NJvxzSm4/z+Sa90KheApN/PvGwIDAQABo4IDrDCCA6gwCQYDVR0TBAIw
ADALBgNVHQ8EBAMCBLAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMB0GA1UdDgQW
BBQeUEIIGlVNa/xu8S8nRmnaWEkTizAfBgNVHSMEGDAWgBRTcu2SnODaywFcfH6WNU7y1LhR
gjAcBgNVHREEFTATgRFnaWxlc0Bjb29jaGV5Lm5ldDCCAiEGA1UdIASCAhgwggIUMIICEAYL
KwYBBAGBtTcBAgIwggH/MC4GCCsGAQUFBwIBFiJodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9w
b2xpY3kucGRmMDQGCCsGAQUFBwIBFihodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9pbnRlcm1l
ZGlhdGUucGRmMIH3BggrBgEFBQcCAjCB6jAnFiBTdGFydENvbSBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTADAgEBGoG+VGhpcyBjZXJ0aWZpY2F0ZSB3YXMgaXNzdWVkIGFjY29yZGluZyB0
byB0aGUgQ2xhc3MgMSBWYWxpZGF0aW9uIHJlcXVpcmVtZW50cyBvZiB0aGUgU3RhcnRDb20g
Q0EgcG9saWN5LCByZWxpYW5jZSBvbmx5IGZvciB0aGUgaW50ZW5kZWQgcHVycG9zZSBpbiBj
b21wbGlhbmNlIG9mIHRoZSByZWx5aW5nIHBhcnR5IG9ibGlnYXRpb25zLjCBnAYIKwYBBQUH
AgIwgY8wJxYgU3RhcnRDb20gQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwAwIBAhpkTGlhYmls
aXR5IGFuZCB3YXJyYW50aWVzIGFyZSBsaW1pdGVkISBTZWUgc2VjdGlvbiAiTGVnYWwgYW5k
IExpbWl0YXRpb25zIiBvZiB0aGUgU3RhcnRDb20gQ0EgcG9saWN5LjA2BgNVHR8ELzAtMCug
KaAnhiVodHRwOi8vY3JsLnN0YXJ0c3NsLmNvbS9jcnR1MS1jcmwuY3JsMIGOBggrBgEFBQcB
AQSBgTB/MDkGCCsGAQUFBzABhi1odHRwOi8vb2NzcC5zdGFydHNzbC5jb20vc3ViL2NsYXNz
MS9jbGllbnQvY2EwQgYIKwYBBQUHMAKGNmh0dHA6Ly9haWEuc3RhcnRzc2wuY29tL2NlcnRz
L3N1Yi5jbGFzczEuY2xpZW50LmNhLmNydDAjBgNVHRIEHDAahhhodHRwOi8vd3d3LnN0YXJ0
c3NsLmNvbS8wDQYJKoZIhvcNAQELBQADggEBALB3Ohmsu7Kvdwji3PTc90LzXRtehL5sQpu1
cmKj22ZzG7GBG5/ZmlUCm2uDLo2gM71mFjMftB/+xLwTkPRqG+YrgZ7xLGTG7AN/Vg4g9WeE
+k12rK4dDDWGOBNBSkamYP8y8cBksKNpiYkGED3MlBCzQA4dleqSz+nILESgK3KnJkz71VZC
J+uRSOYbBqy/jeJT3X5QCLCywA7E7EP80+Dj2HzJ0qFENJJXiiSuXe3AvA1xQe8MlFV0ZgDG
h4tGqN8T5j5s4km3xgeoJFFkZsSZI1teWt+9SR/Vex597EkjxuFn3F7j5jGHu6eVMbgcjLl8
eNHURxy8FidRfg95lO8xggTdMIIE2QIBATCBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNVBAoT
DVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNp
Z25pbmcxODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlhdGUg
Q2xpZW50IENBAgMD4zIwCQYFKw4DAhoFAKCCAh0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEH
ATAcBgkqhkiG9w0BCQUxDxcNMTIwNzAyMTAxNjEyWjAjBgkqhkiG9w0BCQQxFgQUBLck9ro5
jzOM8r+YKTr2SIlsDocwbAYJKoZIhvcNAQkPMV8wXTALBglghkgBZQMEASowCwYJYIZIAWUD
BAECMAoGCCqGSIb3DQMHMA4GCCqGSIb3DQMCAgIAgDANBggqhkiG9w0DAgIBQDAHBgUrDgMC
BzANBggqhkiG9w0DAgIBKDCBpQYJKwYBBAGCNxAEMYGXMIGUMIGMMQswCQYDVQQGEwJJTDEW
MBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMiU2VjdXJlIERpZ2l0YWwgQ2VydGlm
aWNhdGUgU2lnbmluZzE4MDYGA1UEAxMvU3RhcnRDb20gQ2xhc3MgMSBQcmltYXJ5IEludGVy
bWVkaWF0ZSBDbGllbnQgQ0ECAwPjMjCBpwYLKoZIhvcNAQkQAgsxgZeggZQwgYwxCzAJBgNV
BAYTAklMMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRh
bCBDZXJ0aWZpY2F0ZSBTaWduaW5nMTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1h
cnkgSW50ZXJtZWRpYXRlIENsaWVudCBDQQIDA+MyMA0GCSqGSIb3DQEBAQUABIICAB3pt7q/
R4sGBgaSm9EwhNKIsnKpCHswSlEGnPgmC6rKCkIR1MXBYlO9NXkyYci6x4FzjZ4PG1z8GUMh
42v5UQh397D439b2WZL6n8UeYq/k9azXsmQCJ9Pzi7Q4BR5loCMrKjbbyeOBgF+NCyaEcrvf
jcMqdD/mI7B8PMvYZGDCWyDGey3wjvvRkOfvlvGkttPjvBKT7yYLr1niSHMnpe3uaP7sZWVW
SrvNmzaSRb+Ix4//IF2d/NON5CBFUfqN6YfOHzYNPV40rJObAWc48V6VjZSIuRJAoGXL9kX1
IR8Qk6egXZMUEQhYngQ7oUuZUotW7L2TSR92GzVPyPTpuReizxSkRdDFfT2Ps67ZxVTtSSGT
FJrl8lApkFaQ1wlvlCXo8IWI82rt53tLfYzsDu4Yf+oiaj4FCIwOspJyQR5lzaL9MOjGhSns
gVeM7vqjh29EEgMBN4qxRzrNWREEJMZpk9TI9wSdQj5PlKoF/pQHXbCuT5Qvr8z8/v3tjBRL
332OrZklprmRbs1yT7OdwgUzZO8uiTiNlIYDQmDjyj2BZxFprfLuMt2yDLUNPvfcw7r0V+GJ
KvEvXgGR3TpKtZymzrKdqQQqlMh15x+ZCQa1D17Z4r9MFA539ejWLGss2z/rFiYyO0hTKjUo
/4JZ3Y7IjjuwrsXTJBFEPOUBSzpGAAAAAAAA
--------------ms070700020300050807090500--

From users-return-235290-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 12:54:42 2012
Return-Path: <users-return-235290-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F08E390E4
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 12:54:41 +0000 (UTC)
Received: (qmail 5849 invoked by uid 500); 2 Jul 2012 12:54:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5698 invoked by uid 500); 2 Jul 2012 12:54:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5472 invoked by uid 99); 2 Jul 2012 12:54:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 12:54:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.17.9] (HELO moutng.kundenserver.de) (212.227.17.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 12:54:30 +0000
Received: from WIN47BUDF4AKEB ([80.176.253.26])
	by mrelayeu.kundenserver.de (node=mrbap0) with ESMTP (Nemesis)
	id 0MKKU2-1SnKpq2htO-001eSo; Mon, 02 Jul 2012 14:54:08 +0200
From: "Steve Millidge" <smillidge@c2b2.co.uk>
To: "'Brian Braun'" <brianbraun@gmail.com>,
	"'Tomcat Users List'" <users@tomcat.apache.org>
References: <3E54E53D-7A81-4038-8BED-4081A919941B@gmail.com> <CA+WmwVQ0L4At11cra_SqJ+ChQfMocimCji=cuXyFVW65SUUdZw@mail.gmail.com>
In-Reply-To: <CA+WmwVQ0L4At11cra_SqJ+ChQfMocimCji=cuXyFVW65SUUdZw@mail.gmail.com>
Subject: RE: Any way to deal with too many request per second?
Date: Mon, 2 Jul 2012 13:53:31 +0100
Message-ID: <00a301cd5851$afd2b770$0f782650$@c2b2.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQK7H3IfvHLfqPxcroKh54/Leq6ZhJU6ZDJA
Content-Language: en-gb
X-Provags-ID: V02:K0:FTqxtflS65a2AYnNkTuZ1EPKGTds/3PVgDD76R2WOiT
 6DcJRi68VdBbD690uXK6FiHK4SV1/9foNo2OrZ8TkxaSjwWUl5
 2bo9sNNDxXRT9Ih4fSoichb5PktsorhV1jm53Abfh2FDHNzjBd
 KNcNkVMbcbOO9wj6XKIrT7IlzqceeUer41YgenEfxIuCFOl1Yr
 Caqz7zxt6icvl6TR6Gfq2TMLh8TKOnVpPahX9qqeqUIYRW2sNS
 3XW0ULiYDMax3+R70QbU2k7cTDbWP8EcguGQe/wUSJbBR7vyzT
 3ZLBIXdmPzypOSN6gfnMvZoAuZmyI9VqaSAgPr87zg1gDF3lxt
 +mAPzX2sQ9KydiCb67HfyAwVxROgFEt3uQbQQXu68
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Brian,

You can tune the threads in the Tomcat HTTP connector. Set maximum =
threads to the maximum concurrency you are prepared to support. That way =
requests will wait until a thread becomes available.

Steve Millidge
C2B2
The Leading Independent Middleware Experts.=20
T: 08450 539457 |M: 07920 100626 |W: www.c2b2.co.uk | E: =
smillidge@c2b2.co.uk
-------------------------------------------------------------------------=
--------------------------------------
C2B2 Consulting Limited, Unit 33, Malvern Hills Science Park, Geraldine =
Road, Malvern, Worcestershire, WR14 3SZ
Registered in England and Wales: 4563419, Registered Office: Ardendale, =
Old Hollow, Malvern, Worcestershire

-----Original Message-----
From: Brian Braun [mailto:brianbraun@gmail.com]=20
Sent: 30 June 2012 17:19
To: Tomcat Users List
Subject: Re: Any way to deal with too many request per second?

Hi Joseph,

Could you elaborate that further please? It sounds like a solution, but =
I didn't understand it.
Thanks in advance!

On Fri, Jun 29, 2012 at 8:28 PM, Joseph <wutongjoe@gmail.com> wrote:

> Try jdk build in block queue in concurrent pkg
>
> =E5=9C=A8 2012-6-30=EF=BC=8C7:57=EF=BC=8CBrian Braun =
<brianbraun@gmail.com> =E5=86=99=E9=81=93=EF=BC=9A
>
> > Hi,
> >
> > First of all, I'm using Ubuntu 11.1 + Tomcat 7.0.22.
> >
> > I created a RESTfull service. My clients are sending me HTTP=20
> > requests,
> and
> > I return them responses. Usually, a client makes at the most 1-2=20
> > requests per second which is totally fine, but some clients=20
> > sometimes make about
> 30
> > requests per second and that makes my server suffer, even though I'm
> using
> > a load balancer with two servers behind it. I would like to find a=20
> > way to deal with this. The best thing would be to delay them when=20
> > they do that, not to totally stop or ban them, but to slow them=20
> > somehow. Maybe
> creating a
> > queue for them, or maybe putting them in a lower priority, until=20
> > they
> slow
> > their requests.
> > I could program this myself, but I guess there is already a solution =

> > somewhere. Maybe a Tomcat valve could do it? Does anybody know one?=20
> > Or maybe some kind of filter? Any suggestions?
> >
> > Thanks in advance.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235291-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 14:11:40 2012
Return-Path: <users-return-235291-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39B6AD218
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 14:11:40 +0000 (UTC)
Received: (qmail 41426 invoked by uid 500); 2 Jul 2012 14:11:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41243 invoked by uid 500); 2 Jul 2012 14:11:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41212 invoked by uid 99); 2 Jul 2012 14:11:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 14:11:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 14:11:29 +0000
Received: by obbta14 with SMTP id ta14so11671827obb.18
        for <users@tomcat.apache.org>; Mon, 02 Jul 2012 07:11:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=Q0Q0FGcefvNr4O0DpQZJGHTU567sLk3x85zcClNV1z4=;
        b=FomJ6OueL6nF6MjYt1MDE+04PJy9c+CcTcH14eD2nY861S0SkbZjp6+9CzLMBrvqG+
         /aJkLUnZqWiEhMMmpt2wXjFlWiqDBB/45PhB4s3OlMNxVX3n6TuFfrOQHO3gaGCFkB/b
         3qDkHAX+bbabT2QJtS0mucZ2uPzKRFTX2WAeIQuJlopAlewkAv2PHvtMguhOEw847GA5
         lL703cYW1qhENwK4YH6e5XKPIxGmY8t2Dk3OvyPMu5ugO8XLS4Vg8+FrkBuobQOc+fr1
         cRlQCoCeKiSRdB8JDhyI0jV8kAN0wVPR+Lz0kWtCmWfuP1baLFuYW6hJb40dU2tzumz5
         nkeA==
Received: by 10.182.77.170 with SMTP id t10mr8372583obw.70.1341238268044; Mon,
 02 Jul 2012 07:11:08 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.98.38 with HTTP; Mon, 2 Jul 2012 07:10:47 -0700 (PDT)
In-Reply-To: <00a301cd5851$afd2b770$0f782650$@c2b2.co.uk>
References: <3E54E53D-7A81-4038-8BED-4081A919941B@gmail.com>
 <CA+WmwVQ0L4At11cra_SqJ+ChQfMocimCji=cuXyFVW65SUUdZw@mail.gmail.com> <00a301cd5851$afd2b770$0f782650$@c2b2.co.uk>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Mon, 2 Jul 2012 16:10:47 +0200
Message-ID: <CABOBwRiTWZfd_30X=Q1j_Pjk=z4P1KSAtUU03ZyRgPQTW_wCwQ@mail.gmail.com>
Subject: Re: Any way to deal with too many request per second?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/2 Steve Millidge <smillidge@c2b2.co.uk>:
> Hi Brian,
>
> You can tune the threads in the Tomcat HTTP connector. Set maximum threads to the maximum concurrency you are prepared to support. That way requests will wait until a thread becomes available.


But, if I'm not wrong, he want to punish some users , whose requesting
on intensive way ,right ?

Maybe Valve can solve your issue
You could implement a delay by source IP address, counting number of
request per second

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235292-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 17:34:38 2012
Return-Path: <users-return-235292-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FE2DCF5C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 17:34:38 +0000 (UTC)
Received: (qmail 6522 invoked by uid 500); 2 Jul 2012 17:34:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6457 invoked by uid 500); 2 Jul 2012 17:34:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6447 invoked by uid 99); 2 Jul 2012 17:34:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 17:34:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of varrunr@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 17:34:28 +0000
Received: by ghrr14 with SMTP id r14so5555273ghr.18
        for <users@tomcat.apache.org>; Mon, 02 Jul 2012 10:34:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=PFMPWweYY2O3NUYPMt2uyX+vDrmEVC+FhIws5YqrXfc=;
        b=gVBiXCIR1+wc4Uhb1gBiY38k1V1xsheR5FHiQ4fcShk96WRfm01XVFoGhGFcxwc15Y
         m62UQdDtEQkr2CA5aEaYLqI0ENPbja8FdWnJWJhCr/ybzwry+C5zH3z9971ghBqKnlLS
         vd7GixRUeIwezCNugvSePT1A7J8yl9zm78PHsG+wcLjEQGKmCsn/1ZoEG4QdH3+Vl5Vp
         2NgcPa7CbygVB/02+3Z0obTfyXv5tiSnPkJlg/G7q5Vr5ob4EYYBSFFdY9SWqqzkJtmL
         pOTmg0RqET8YhwzgLaRCiM4f0Xia5+ohs9niXJ5pifOz5v8pPpolA+3JkKPW7SzsT7lH
         sO3A==
MIME-Version: 1.0
Received: by 10.50.156.133 with SMTP id we5mr5939077igb.62.1341250447527; Mon,
 02 Jul 2012 10:34:07 -0700 (PDT)
Received: by 10.64.13.75 with HTTP; Mon, 2 Jul 2012 10:34:07 -0700 (PDT)
Date: Mon, 2 Jul 2012 10:34:07 -0700
Message-ID: <CAMohEiyRCqDCX0BBnRP1tpsfPuNO9Q70ytjGT8Xm02SQFbLkGw@mail.gmail.com>
Subject: tomcat filters
From: Varrun Ramani <varrunr@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

I am in the process developing a web application firewall(WAF) for
tomcat similar to what mod security does, and am planning to use the
filter API already present in tomcat to intercept requests and do the
filtering. Are there any existing efforts at doing this for tomcat?

Thanks,
Varrun

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235293-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 20:33:16 2012
Return-Path: <users-return-235293-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 190D59EB7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 20:33:16 +0000 (UTC)
Received: (qmail 8509 invoked by uid 500); 2 Jul 2012 20:33:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8390 invoked by uid 500); 2 Jul 2012 20:33:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8380 invoked by uid 99); 2 Jul 2012 20:33:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 20:33:12 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.18.2.155] (HELO exprod7og101.obsmtp.com) (64.18.2.155)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 02 Jul 2012 20:33:03 +0000
Received: from mail-qc0-f180.google.com ([209.85.216.180]) (using TLSv1) by exprod7ob101.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/IFadTech/OacO57a+80L0ocg4d4qFo@postini.com; Mon, 02 Jul 2012 13:32:43 PDT
Received: by qcmv28 with SMTP id v28so3550355qcm.11
        for <users@tomcat.apache.org>; Mon, 02 Jul 2012 13:32:41 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type
         :x-gm-message-state;
        bh=3xphB1hAU4S1XwwYe6tpGaSmFi1j0mRbAeWO8ia3oxc=;
        b=itvikMCM5PsipJJdSx0pPW6g6k23zveiTcVbAMpsaWDyAotSHHB+6xnkebcILypp8M
         bB0ktK4pg2shbQMcXKb1D39Xs2aC5eMXnCe2gmYb94ELTUjfweMdXRqqCUA9VW/hkuoz
         d/aOFToB1OL9pZ1hF6sXNbCjxXI0pUw4pKDogRtW3VZIWmUBZNnbPFgSmFfp4bS+KRhR
         WXkon695Sf8z598T7zkoLgVNLERp04vbQFADVLuQSGkMEiNgYThxsxDt2u87HbPFGfOq
         RCHhz/iFdys8ptMqj6f9jCfz8XTOnzZwk3MYUMl2WP33GIQVaBJ0M26zEYJuX5iGu46W
         sVqg==
Received: by 10.229.114.199 with SMTP id f7mr7322976qcq.122.1341261160961;
 Mon, 02 Jul 2012 13:32:40 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Mon, 2 Jul 2012 13:32:20 -0700 (PDT)
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Mon, 2 Jul 2012 16:32:20 -0400
Message-ID: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
Subject: General Architecture Question for multiple websites on a single
 RedHat server
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=0023544705a00cd5e004c3deb3fc
X-Gm-Message-State: ALoCoQlnx+/HP1lrIku3bl4n+YqQXnm4BlItSoBOY372S2o2LHfNgsjlzzMj3J83uAkKrsYvJfxa

--0023544705a00cd5e004c3deb3fc
Content-Type: text/plain; charset=ISO-8859-1

Our goals are as follows:

 The operating system will be RHEL 6.X.

We want to run Apache and Tomcat on a single server running five websites
using different ports for each.

Our goal is to manage each web server independently, i.e., separate
shutdown and startup scripts and hopefully  different log files for each
web server.

We noticed the bundled Apache/Tomcat with RedHat might only give us a
standard install. Is there a way to do an alternate path install?

Thanks and look forward to some ideas on how to accomplish this.

--0023544705a00cd5e004c3deb3fc--

From users-return-235294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 21:35:13 2012
Return-Path: <users-return-235294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36CF4CFCA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 21:35:13 +0000 (UTC)
Received: (qmail 65549 invoked by uid 500); 2 Jul 2012 21:35:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65496 invoked by uid 500); 2 Jul 2012 21:35:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65487 invoked by uid 99); 2 Jul 2012 21:35:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 21:35:09 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.41] (HELO nm31-vm1.bullet.mail.ne1.yahoo.com) (98.138.229.41)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 02 Jul 2012 21:35:00 +0000
Received: from [98.138.90.56] by nm31.bullet.mail.ne1.yahoo.com with NNFMP; 02 Jul 2012 21:34:39 -0000
Received: from [98.138.89.198] by tm9.bullet.mail.ne1.yahoo.com with NNFMP; 02 Jul 2012 21:34:39 -0000
Received: from [127.0.0.1] by omp1056.mail.ne1.yahoo.com with NNFMP; 02 Jul 2012 21:34:39 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 124752.3435.bm@omp1056.mail.ne1.yahoo.com
Received: (qmail 25135 invoked by uid 60001); 2 Jul 2012 21:34:39 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341264879; bh=0ctme6khAYEwkQVywPFhFB8gdNEan8y6dZnIbt8B46g=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=x+ACeOOvTzkufFoYjgwEOsIpm4ReXhqFp05FLWPfEG96FgodyhJ7EG0AbzLgoUyEzKYqkz0DeUA8not0aQyITZK4QH9bRQLe1UB43HMOSZHgLCkrEEzIfW/cg/eHj5xCUQWGoC8Wk/hA9nGQ4kK2NOEzwn33yyJtNglx0DiUO5Y=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JMaxlESzGCC2ZaOkWyC4J7mTN4laeWNcwbuVOiiSPR1RQU+1G6T2wUGvQKpzp63g3gm5v6Ew+88TjpRWX/P0jey4O318DaBG1/OkctS/ThN5vUXdJJvOswlGmfr2ESYmFOTXWGHjS3IDtEYTxC2IMXoFr6N/rjmtQ2aw5OyF+kw=;
X-YMail-OSG: G8ag6R0VM1lBIn6WhvJfciWxYjksZU1Y9XsfKwrcaINQNfW
 fwtO7xc6nybFrsJ3HAsI783z2KZGmf2NXn7s7DabrQK0biM2yRSpZhBZT74t
 ivfck_wI9sTmh1eVPQY9q9dz9LtUzcD6zf7vS5ezS5a9S5Sz9ZAHQOMsyFYs
 PefDQmm8T_3QBAL4X0.S2xxMBw8oq8l0RnYOHzzV8G4CZGWpu7s38RY3NVDu
 WN2PJyG767ZRdOicdOdl_LRZ4fkK5HvtTLQAZCp0YsCxH8F1UYAC0sRIt0Oa
 OIkVAv.t7g1toexrW0j94h0b1zQGzOO_GFEoCIqpoHNOyZZ0tE5uHQy6mJrP
 Oh2x_in9biTUYiHhGWOtXlRX9gpBsvDkT0dbO2k1bgdv4EL3vC4bpXTdNKQF
 vTiuc1e_yFpHJkFAITZlSjeI0fg8cm92IT.4pWv1LQZ3SmadgzWczGE4lrdV
 H4W8IZRDuC6_r03m15fItegd.98wunQ.vdpu3tpa_4w25rLrhF3Ki4jUPHPw
 LnOu5Fz3mkfSzjoecMGDsch0G7BA-
Received: from [71.129.37.224] by web125503.mail.ne1.yahoo.com via HTTP; Mon, 02 Jul 2012 14:34:39 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
Message-ID: <1341264879.18459.YahooMailNeo@web125503.mail.ne1.yahoo.com>
Date: Mon, 2 Jul 2012 14:34:39 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: General Architecture Question for multiple websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: "Simon, Leonard" <leonard.simon@h=
sn.net>=0A> To: users@tomcat.apache.org=0A> Cc: =0A> Sent: Monday, July 2, =
2012 1:32 PM=0A> Subject: General Architecture Question for multiple websit=
es on a single RedHat server=0A> =0A> Our goals are as follows:=0A> =0A> Th=
e operating system will be RHEL 6.X.=0A> =0A> We want to run Apache and Tom=
cat on a single server running five websites=0A> using different ports for =
each.=0A> =0A> Our goal is to manage each web server independently, i.e., s=
eparate=0A> shutdown and startup scripts and hopefully=A0 different log fil=
es for each=0A> web server.=0A> =0A> We noticed the bundled Apache/Tomcat w=
ith RedHat might only give us a=0A> standard install. Is there a way to do =
an alternate path install?=0A> =0A> Thanks and look forward to some ideas o=
n how to accomplish this.=0A> =0A=0A1. Don't use the distribution package -=
 download from tomcat.apache.org=0A2. Use CATALINA_HOME / CATALINA_BASE - s=
ee RUNNING.txt for pointers=0A3. Create an unprivileged user for running th=
e Tomcats=0A4. Create a template server init script for starting and stoppi=
ng (version, status, etc) Tomcat=0A5. Copy the template init script to each=
 named service (tomcat1, tomcat2, tomcat3, etc.)=0A6. Optionally place serv=
ice-specific parameters in an /etc/sysconfig subdirectory=0A7. Add the serv=
ices with chkconfig=0A8. Start and stop each service separately=0A=0ADon't =
forget to change the relevant ports in each server.xml file. An ant script =
with the xmltask add-on is quite handy for doing this. You can then write a=
 properties file with configuration specifics for each CATALINA_BASE, run t=
he ant tasks to create the CATALINA_BASE, service support files, etc., and =
then install. The properties files then become a nice base document for all=
 of the Tomcat servers that you've installed.=0A=0AAlternatively, if all of=
 your web sites have similar uptime / control / access requirements, you ca=
n run all 5 sites using a combination of named virtual hosts on Apache HTTP=
D and virtual hosts on Tomcat.=0A=0AOr a combination of the above . . . It =
all depends on your requirements.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 21:58:46 2012
Return-Path: <users-return-235295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EEE0C0EC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 21:58:46 +0000 (UTC)
Received: (qmail 30270 invoked by uid 500); 2 Jul 2012 21:58:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30214 invoked by uid 500); 2 Jul 2012 21:58:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30202 invoked by uid 99); 2 Jul 2012 21:58:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 21:58:43 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of kl2eativ@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 21:58:36 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <kl2eativ@gmail.com>)
	id 1SlodM-00025E-2u
	for users@tomcat.apache.org; Mon, 02 Jul 2012 14:58:16 -0700
Date: Mon, 2 Jul 2012 14:58:16 -0700 (PDT)
From: kl2eativ <kl2eativ@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1341266296080-4983547.post@n6.nabble.com>
In-Reply-To: <CA+9p3KJCtgPwu3BQdpzjjsHLg_+eV_HhM9ULbT_G+43otanAKw@mail.gmail.com>
References: <1340932633416-4983418.post@n6.nabble.com> <CA+9p3KJrN9c3jXafBJte_AG11irjGZtZfs_=W83uxN3LmP3Gaw@mail.gmail.com> <1341093853433-4983478.post@n6.nabble.com> <CA+9p3KJCtgPwu3BQdpzjjsHLg_+eV_HhM9ULbT_G+43otanAKw@mail.gmail.com>
Subject: Re: Tomcat 7 Manager App Authentication failure
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Arnaud LARROQUE wrote
> 
> On Sun, Jul 1, 2012 at 12:04 AM, kl2eativ &lt;kl2eativ@&gt; wrote:
>>
>> Arnaud LARROQUE wrote
>>>
>>> Hello,
>>>
>>> Are you using tomcat 7 or tomcat 5 ? You mentioned both and this is
>>> confusing.
>>>
>>> URL changed in the tomcat 7 manager app : are you accessing through
>>> http://your-host:your-port/manager/html ?
>>>
> 
> Did you install tomcat 7 through package manager ? which distribution ?
> 
> 
> Arnaud
>>
>>
>> --
>> View this message in context:
>> http://tomcat.10.n6.nabble.com/Tomcat-7-Manager-App-Authentication-failure-tp4983418p4983478.html
>> Sent from the Tomcat - User mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@.apache
>> For additional commands, e-mail: users-help@.apache
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@.apache
> For additional commands, e-mail: users-help@.apache
> 

I downloaded it via the tomcat website. I only see the folder Tomcat5, and
if I go to installed software I see only Tomcat 5 packages. But when I
access it via my localhost:8080  I see that I am using tomcat 7. Weird. Is
there any way I can uninstall and reinstall?


--
View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-7-Manager-App-Authentication-failure-tp4983418p4983547.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 22:15:54 2012
Return-Path: <users-return-235296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27A50C17F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 22:15:37 +0000 (UTC)
Received: (qmail 77072 invoked by uid 500); 2 Jul 2012 22:15:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76878 invoked by uid 500); 2 Jul 2012 22:15:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76867 invoked by uid 99); 2 Jul 2012 22:15:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:15:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.212.171 as permitted sender)
Received: from [209.85.212.171] (HELO mail-wi0-f171.google.com) (209.85.212.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:15:25 +0000
Received: by wibhq4 with SMTP id hq4so2812586wib.0
        for <users@tomcat.apache.org>; Mon, 02 Jul 2012 15:15:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=EmnSuvWgEJqb4o/U4eqKwn2bs0XNHJ63dC0dFUae3zA=;
        b=jIVei4Ldc/30SUkH9E1xJTp/kFVe4Qd+g7fRbiF1xr60SYHuStS/FOOmIKFvED25t1
         EspYpfqw0yEfKdjWrkfTv1QKtetnfuJVhkdijPlMYnEr/mfN6mHSlPRcWQpNqMH4OvcJ
         lcHyxTIadRyLOVE9bDJEXtXoqR9eEEEWSmNcU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=EmnSuvWgEJqb4o/U4eqKwn2bs0XNHJ63dC0dFUae3zA=;
        b=nlwyTfC3AnUxHVZbqfRj3Wlyi9IIfcOt5DQEWMsGnJZfEdm/PXtMAEH9ZLmPwkZHML
         KN0Bq5J84q4UQipPLPUUVuQuKgwruGbP+HdwRRWyCa4Mjxwejz2pUMJ+OzHcfJ24vQPG
         Z9ClZfxOiF0ZT5WhJ7XepCdp23lpyw2U0fgl2adZkjNUFGRWVYF+fzixYoDMy5L7Kjkl
         YJJAxgZYAEiUULhZlJlkZckyGQWwt7lHleP9AhilSh369P6ruD/Eiat2ZDwZz1vxnPNb
         z55fOVNrvsfFVeybg0jVJqa+YfAJ0cQlcTNW/CirqfBAkPkOA/Kdrj3lsCEudxFv43Cq
         FUpg==
Received: by 10.216.208.31 with SMTP id p31mr2488341weo.134.1341267305207;
        Mon, 02 Jul 2012 15:15:05 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id y2sm27295802wix.7.2012.07.02.15.15.03
        (version=SSLv3 cipher=OTHER);
        Mon, 02 Jul 2012 15:15:03 -0700 (PDT)
Message-ID: <4FF21D6A.6070306@pidster.com>
Date: Mon, 02 Jul 2012 23:15:06 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat filters
References: <CAMohEiyRCqDCX0BBnRP1tpsfPuNO9Q70ytjGT8Xm02SQFbLkGw@mail.gmail.com>
In-Reply-To: <CAMohEiyRCqDCX0BBnRP1tpsfPuNO9Q70ytjGT8Xm02SQFbLkGw@mail.gmail.com>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigED9F5E757D4895926D2ABD7F"
X-Gm-Message-State: ALoCoQmGaP3Sg+1upNP5l4UBjxkuBkm7W8yUoPxt0hb+mBTH9xJ5VlG4kuCOFjCnYsB52KfHm8El

--------------enigED9F5E757D4895926D2ABD7F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 02/07/2012 18:34, Varrun Ramani wrote:
> Hi
>=20
> I am in the process developing a web application firewall(WAF) for
> tomcat similar to what mod security does, and am planning to use the
> filter API already present in tomcat to intercept requests and do the
> filtering. Are there any existing efforts at doing this for tomcat?

Quite a few yes.  Acegi Security (now called Spring Security) for example=
=2E


p

> Thanks,
> Varrun
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]




--------------enigED9F5E757D4895926D2ABD7F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP8h1uAAoJEGoM2OGpOvr9AKEP/RLO7Fp0fdkEXjYvIzXBdajL
2zr/cnD59fPsGS4yFs/5ToX8gy6tP4WPU2Ox+3h0JPfxdMrhS37DdCg+HhrqHNL6
eToMb7VxHqKPRp41RVqG+NDdyW6sWo/PN6ZfHFOTHnZ7fL+IpazehZAbTtgXHBI9
N/jC1GDNQLpAXq4DWR0Luwnna+aC+8W/7s9ExP2BUSBBlljEtOol6RFjFr4gFtUh
Nj3xnmD3INhDjPz+XNe1Y2s0m3ocN7Kn/dqMp87wvAYDlTLpEGfOFwLEVXwGGSKj
NAnfGe6ksPeZzstfm7akoReOxTCqCDG2kwo+KVAenwJ0q2a5JNMJ5kNjVlcim+Rw
LJeaMREAc+ynvDekdLNJ4OcFDsFOF+n3zvOuGkkey8yD4t7+ZsNwuhe/ZsCOpZX+
SCk9t0VtVRrvSlJIxX95DzKC3sweAVEaWKQG6SGtLKHUkI2Zr5uWvPqCg4y4OqRx
EvV6GYbaqp6erR9ir9jH5Q56i4K7twEB2y4Yu/tI1rjmzHe6UzNauRjVbTJwwcjK
96Ms9lmOTi0n18pMs7CdEh4ALocvBUQlvWucjE/+npyoDhmRs473EMuMe+HmVjKs
bQQUFGBqByNvs+Ygb7/SZDqYezR90za3LDPwysB82ArVtaOEnLACxwmPYdDYIO/E
KMGCAtyUI0Y49j6haj9y
=VKxX
-----END PGP SIGNATURE-----

--------------enigED9F5E757D4895926D2ABD7F--

From users-return-235297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 22:16:11 2012
Return-Path: <users-return-235297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A881C18B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 22:16:11 +0000 (UTC)
Received: (qmail 83712 invoked by uid 500); 2 Jul 2012 22:16:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83651 invoked by uid 500); 2 Jul 2012 22:16:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83642 invoked by uid 99); 2 Jul 2012 22:16:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:16:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.169 as permitted sender)
Received: from [209.85.212.169] (HELO mail-wi0-f169.google.com) (209.85.212.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:16:02 +0000
Received: by wibhm2 with SMTP id hm2so2979311wib.0
        for <users@tomcat.apache.org>; Mon, 02 Jul 2012 15:15:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=dfrsOO5qRZZSfG0v5c7cD5pZq5YBTkEejvuzZlv1ixo=;
        b=deKRvqjmZowIZIK548LYAfoTafG6toU52ULyUAgbAWX2PqhXvB7TbALpUZHR1NynbC
         ysJKJ08WXwZE8PJj3/Q8/54OWPTuFoAcDnjy1QDTa9z3X8w6YcdxozmctXqEr8eAfY6d
         Kcu+2z6Z3pOaYQcYqcRfwuSeOM5S234JV3A88=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=dfrsOO5qRZZSfG0v5c7cD5pZq5YBTkEejvuzZlv1ixo=;
        b=cRp8n0iKpV7PrzBba8+eAilIRRfI7nRhMJ9aMVIegl82eR7gIHTOQtcLLffWp9YHaY
         jAhTdg39ciJnrG5S6Z1dZE1OPhlVs9nw5UPv+/E3iq2wPVnhZ50DXNJ5J96i8MQurye+
         B6MeIXT3yjgu0KS1gaiB1a2S0w5hUvah4LBKhOi1VtH7eEN0UOSHp4UDeXMoPh0N3b61
         Epr55SRkgI0feeLt4ce+iIpcU9nOrTdHbSlwwModpssCnJSW/gz3NF0S36UVzYcP/xhV
         ROOzVKZ82nFcCxR/AyXgRPmji01YdSxGOrRpIWjFidKrpBCys3YsUhYV3oRI9EFH+3gD
         xDIw==
Received: by 10.180.19.233 with SMTP id i9mr894996wie.7.1341267339637;
        Mon, 02 Jul 2012 15:15:39 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id fb20sm28954776wid.1.2012.07.02.15.15.37
        (version=SSLv3 cipher=OTHER);
        Mon, 02 Jul 2012 15:15:38 -0700 (PDT)
Message-ID: <4FF21D90.5020001@pidster.com>
Date: Mon, 02 Jul 2012 23:15:44 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: General Architecture Question for multiple websites on a single
 RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <1341264879.18459.YahooMailNeo@web125503.mail.ne1.yahoo.com>
In-Reply-To: <1341264879.18459.YahooMailNeo@web125503.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig8CEDE88580D139DCC5AB227F"
X-Gm-Message-State: ALoCoQnP2osm8gKB5Dbc1WVOmx5/ZxvLChYug8ws2k39TsWS1abnyuGT3bNwWshmQeyXaVKF/4PO
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig8CEDE88580D139DCC5AB227F
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 02/07/2012 22:34, Mark Eggers wrote:
> ----- Original Message -----
>=20
>> From: "Simon, Leonard" <leonard.simon@hsn.net>
>> To: users@tomcat.apache.org
>> Cc:=20
>> Sent: Monday, July 2, 2012 1:32 PM
>> Subject: General Architecture Question for multiple websites on a sing=
le RedHat server
>>
>> Our goals are as follows:
>>
>> The operating system will be RHEL 6.X.
>>
>> We want to run Apache and Tomcat on a single server running five websi=
tes
>> using different ports for each.
>>
>> Our goal is to manage each web server independently, i.e., separate
>> shutdown and startup scripts and hopefully  different log files for ea=
ch
>> web server.
>>
>> We noticed the bundled Apache/Tomcat with RedHat might only give us a
>> standard install. Is there a way to do an alternate path install?
>>
>> Thanks and look forward to some ideas on how to accomplish this.
>>
>=20
> 1. Don't use the distribution package - download from tomcat.apache.org=

> 2. Use CATALINA_HOME / CATALINA_BASE - see RUNNING.txt for pointers
> 3. Create an unprivileged user for running the Tomcats
> 4. Create a template server init script for starting and stopping (vers=
ion, status, etc) Tomcat
> 5. Copy the template init script to each named service (tomcat1, tomcat=
2, tomcat3, etc.)
> 6. Optionally place service-specific parameters in an /etc/sysconfig su=
bdirectory
> 7. Add the services with chkconfig
> 8. Start and stop each service separately
>=20
> Don't forget to change the relevant ports in each server.xml file. An a=
nt script with the xmltask add-on is quite handy for doing this. You can =
then write a properties file with configuration specifics for each CATALI=
NA_BASE, run the ant tasks to create the CATALINA_BASE, service support f=
iles, etc., and then install. The properties files then become a nice bas=
e document for all of the Tomcat servers that you've installed.
>=20
> Alternatively, if all of your web sites have similar uptime / control /=
 access requirements, you can run all 5 sites using a combination of name=
d virtual hosts on Apache HTTPD and virtual hosts on Tomcat.
>=20
> Or a combination of the above . . . It all depends on your requirements=
=2E

+1


p

> . . . . just my two cents.
> /mde/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]




--------------enig8CEDE88580D139DCC5AB227F
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP8h2RAAoJEGoM2OGpOvr94RkP/32s9k/pid4XI4VbYGLdvQ5N
A1uGExgXiGvM42wEfhQ7DkwjxshYaCpx1om++eYut714QuNvrj8Dlvz4DXaR2oPg
o2+4RQ+KVPVsuM2A/M7s97PjSwDmkSbKgZOjiujHCN7xWfFgQv5ved9gyIOnMr86
iJwQGGTy40buI6UYRTqMoqq8k7T4E3vxDl55OiuqMqzgtLtElZ8cMH/AS4pTmnGa
edUQp8Y+8OSkqGo5lIfISgnnfVrInn+WMmCDX/qpJm4SYI5kKkRHxiIy9FkyLzIE
ppPOL6GuM5vr1BD+RROf47UMdv2MrP3oJV8/TaXbLpzd+utQz6Vxrst0EgZra23O
9gUtiZoWDGIaZuIVDB4fbCiAe1B6xNZkbl6XWwMCUTVjb5u+OoF9Kjr7QxBSaFLv
egZeeL22tgagSHiiSnAWTyz1L5zIbbCjw+N7irt2mtm8iX+Pnu9Di5LGmfAxJh0H
vfiO7bkLlEvbrXLyHR+JRFdAiPGQ3W9E+b3QkRPlFlc+OMrHD3SCA4UWQbwYcq5C
g5WAAD/Sh+3SGCXtgSsdnen/ZYLsQUCtCFLJ988tOjRLhsPl5gVps/DO9ukJLO/r
+hAnVT/wzTgYOUIsD7MwYXOnj/rMig0/HuA7O/vtfTbsVEY2PrNHxioDhr0L32NS
zD8otYsuiXD9L3AE0PIf
=/cx7
-----END PGP SIGNATURE-----

--------------enig8CEDE88580D139DCC5AB227F--

From users-return-235298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  2 22:40:55 2012
Return-Path: <users-return-235298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A8EC91F7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  2 Jul 2012 22:40:55 +0000 (UTC)
Received: (qmail 54924 invoked by uid 500); 2 Jul 2012 22:40:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54846 invoked by uid 500); 2 Jul 2012 22:40:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54836 invoked by uid 99); 2 Jul 2012 22:40:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:40:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of kl2eativ@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jul 2012 22:40:45 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <kl2eativ@gmail.com>)
	id 1SlpI8-0003nw-NP
	for users@tomcat.apache.org; Mon, 02 Jul 2012 15:40:24 -0700
Date: Mon, 2 Jul 2012 15:40:24 -0700 (PDT)
From: kl2eativ <kl2eativ@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1341268824716-4983551.post@n6.nabble.com>
In-Reply-To: <CA+9p3KJCtgPwu3BQdpzjjsHLg_+eV_HhM9ULbT_G+43otanAKw@mail.gmail.com>
References: <1340932633416-4983418.post@n6.nabble.com> <CA+9p3KJrN9c3jXafBJte_AG11irjGZtZfs_=W83uxN3LmP3Gaw@mail.gmail.com> <1341093853433-4983478.post@n6.nabble.com> <CA+9p3KJCtgPwu3BQdpzjjsHLg_+eV_HhM9ULbT_G+43otanAKw@mail.gmail.com>
Subject: Re: Tomcat 7 Manager App Authentication failure
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Arnaud LARROQUE wrote
> 
> On Sun, Jul 1, 2012 at 12:04 AM, kl2eativ &lt;kl2eativ@&gt; wrote:
>>
>> Arnaud LARROQUE wrote
>>>
>>> Hello,
>>>
>>> Are you using tomcat 7 or tomcat 5 ? You mentioned both and this is
>>> confusing.
>>>
>>> URL changed in the tomcat 7 manager app : are you accessing through
>>> http://your-host:your-port/manager/html ?
>>>
>>
>> Thank you for your response. I have installed Tomcat 7.0.27 but for some
> 
> Did you install tomcat 7 through package manager ? which distribution ?
> 
>> reason the folders that I have say Tomcat5? I access it via
>> myhostname:8080
> On my fedora16, /etc/tomcat5 is the configuration directory for the
> tomcat5 package
> /etc/tomcat is the configuration directory for the current tomcat
> version (ie tomcat 7.0.27)
> 
> Check if you also have a /etc/tomcat directory  ? if so, apply your
> configuration in this directory
> 
> Arnaud
>>
>>
>> --
>> View this message in context:
>> http://tomcat.10.n6.nabble.com/Tomcat-7-Manager-App-Authentication-failure-tp4983418p4983478.html
>> Sent from the Tomcat - User mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@.apache
>> For additional commands, e-mail: users-help@.apache
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@.apache
> For additional commands, e-mail: users-help@.apache
> 




UPDATE: As Arnaud said, his configuration for Tomcat7 was under /etc/tomcat
but in my /etc folder there is not a older called Tomcat, I only have a
folder named Tomcat5. So I decided to search the whole file system for all
tomcat folders. After a while it found a folder named just "tomcat" that was
located in /opt. Inside that folder was /conf with a newly tomcat-users.xml.
I configured my roles here and boom it works. So I guess I was configuring
the files for tomcat 5 and not 7. Thank you Arnaud and all of the others who
posted.

--
View this message in context: http://tomcat.10.n6.nabble.com/Tomcat-7-Manager-App-Authentication-failure-tp4983418p4983551.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul  3 13:34:44 2012
Return-Path: <users-return-235299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B5CFC41C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  3 Jul 2012 13:34:44 +0000 (UTC)
Received: (qmail 24153 invoked by uid 500); 3 Jul 2012 13:34:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23722 invoked by uid 500); 3 Jul 2012 13:34:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23683 invoked by uid 99); 3 Jul 2012 13:34:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jul 2012 13:34:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ternovich@gmail.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jul 2012 13:34:33 +0000
Received: by eaak12 with SMTP id k12so3879407eaa.18
        for <users@tomcat.apache.org>; Tue, 03 Jul 2012 06:34:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=aK3QmTKTAtfcND8cLPd36unvE9Sh5bWMlhnVu1ys9BU=;
        b=hvUEBwlvf695Hy/DE2RxEASXS3VSRCpzgwTYtqI3an0RqkbfzBPrbAZ5T9n3AIUCEy
         AtSCQAbLLdtDbRAgQ2VbmgcM3ZyNnq9bkWn42MD39ovgZjraUbdDbxgpgNaqVpAmL9vt
         I0rWzbadZo9hdS1AJiSuIW8Rqhyiz+0XrY84UFKpPyUzB/QFmzr9SGCvYhGSTXBDYIXJ
         DpGZvFtLoXe0Js9fN958sP/OX4yLlxGgB08fxEW7CRfdjuysCPiI/EW4qVs7LoxeD/uX
         w3Y5IxR8BLJ9k2a5TqNy8x7WcTcgMVwdzO0z6r5WACjTB8hojasOMBehLfYG/H/9GH+i
         u2gg==
Received: by 10.152.132.40 with SMTP id or8mr17529308lab.24.1341322451983;
 Tue, 03 Jul 2012 06:34:11 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.112.82.37 with HTTP; Tue, 3 Jul 2012 06:33:51 -0700 (PDT)
From: Ilia Ternovich <ternovich@gmail.com>
Date: Tue, 3 Jul 2012 17:33:51 +0400
Message-ID: <CAPP+qtC=N2WYQsm7VKLsT5ZyQa+P2EgjJhkqsL_KdpJ0DUMmQQ@mail.gmail.com>
Subject: Tomcat 7 and Metro
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi!

I'm seeking for up-to-date method of developing web services using
JAX-WS and Tomcat 7. Main points are:

1. Minimal configuration (including web.xml), maximal usage of annotations
2. JAXB serialization
3. Reliability and performance for enterprise sector

Currently I'm looking at metro (http://metro.java.net). Are there any
tutorials or documentation of how to integrate metro and Tomcat 7? How
web.xml should look like?

Are there any cons/pros for Metro/Axis2/CXF if applied to Tomcat 7?

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul  4 05:35:39 2012
Return-Path: <users-return-235300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4172D664
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  4 Jul 2012 05:35:39 +0000 (UTC)
Received: (qmail 21432 invoked by uid 500); 4 Jul 2012 05:35:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21053 invoked by uid 500); 4 Jul 2012 05:35:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21019 invoked by uid 99); 4 Jul 2012 05:35:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:35:34 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=DEAR_SOMETHING,FSL_RCVD_USER,SPF_HELO_PASS,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jak-tomcat-user@m.gmane.org designates 80.91.229.3 as permitted sender)
Received: from [80.91.229.3] (HELO plane.gmane.org) (80.91.229.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:35:26 +0000
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <jak-tomcat-user@m.gmane.org>)
	id 1SmIEy-0007hq-L0
	for users@tomcat.apache.org; Wed, 04 Jul 2012 07:35:05 +0200
Received: from SLT-BB-CUST.slt.lk ([SLT-BB-CUST.slt.lk])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Wed, 04 Jul 2012 07:35:04 +0200
Received: from she.gsck by SLT-BB-CUST.slt.lk with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <users@tomcat.apache.org>; Wed, 04 Jul 2012 07:35:04 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: users@tomcat.apache.org
From: she <she.gsck@gmail.com>
Subject: Error
Date: Wed, 4 Jul 2012 05:31:04 +0000 (UTC)
Lines: 90
Message-ID: <loom.20120704T072756-130@post.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: sea.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 112.135.194.196 (Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.47 Safari/536.11)

Dear sir,

I am working with Netbeans 6.7.1 + tomcat 6.0.18 having 
Access to Tomcat server has not been authorized. Set the correct username and 
password with the "manager" role in the Tomcat customizer in the Server Manager. 
See the server log for details. 


init:
deps-module-jar:
deps-ear-jar:
deps-jar:
library-inclusion-in-archive:
library-inclusion-in-manifest:
compile:
compile-jsps:
Deployment error:
Access to Tomcat server has not been authorized. Set the correct username and 
password with the "manager" role in the Tomcat customizer in the Server Manager.
See the server log for details.
        at 
org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
.java:224)
        at 
org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
.java:132)
        at org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:103)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
        at sun.reflect.GeneratedMethodAccessor156.invoke(Unknown Source)
        at 
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.jav
a:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at 
org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
        at org.apache.tools.ant.Task.perform(Task.java:348)
        at org.apache.tools.ant.Target.execute(Target.java:357)
        at org.apache.tools.ant.Target.performTasks(Target.java:385)
        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
        at 
org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:
41)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
        at 
org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:278)
        at 
org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:497)
        at 
org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:151)
Caused by: java.lang.IllegalStateException: Access to Tomcat server has not been 
authorized. Set the correct username and password with the "manager" role in the 
Tomcat customizer in the Server Manager.
        at 
org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:394)
        at 
org.netbeans.modules.tomcat5.TomcatManager.modules(TomcatManager.java:622)
        at 
org.netbeans.modules.tomcat5.TomcatManager.getAvailableModules(TomcatManager.jav
a:433)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.getAvailableTMIDsMap(Targ
etServer.java:393)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
erences(TargetServer.java:349)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
erences(TargetServer.java:298)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
erences(TargetServer.java:295)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.processLastTargetModules(
TargetServer.java:417)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.init(TargetServer.java:16
3)
        at 
org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:
556)
        at 
org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
.java:189)
        ... 17 more
Caused by: org.netbeans.modules.tomcat5.AuthorizationException
        at 
org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:395)
        ... 27 more



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul  4 05:38:34 2012
Return-Path: <users-return-235301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E38DFD66B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  4 Jul 2012 05:38:34 +0000 (UTC)
Received: (qmail 30028 invoked by uid 500); 4 Jul 2012 05:38:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29665 invoked by uid 500); 4 Jul 2012 05:38:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29644 invoked by uid 99); 4 Jul 2012 05:38:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:38:30 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=DEAR_SOMETHING,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of supunm@wso2.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:38:22 +0000
Received: by obbta14 with SMTP id ta14so15314159obb.18
        for <users@tomcat.apache.org>; Tue, 03 Jul 2012 22:38:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=dsNngXhpXqurdqxKQ9xt7e3fgIak5xwDLVBQO7uDbGQ=;
        b=Epu1Yqd/G7b8J4r4h299uIExgz4ZgpZqMlZMhG6MVttUXkJsclzcTCKzWhbjFsMZVg
         B11Dz1bqHsKtch3SHcRsZEcJlI5pbl8m5iMzwmxzeONgJzqqzC5EsLnihDjcGx34IJwr
         QEG64JxtSWS2+yuZPL3CIKGaQyZvzfHhUm9IvJHhKYRzlwR3VnR6l63XQjw5vSmcIBVK
         vnuaAsL6LfE+P482Nxu/10h/zldPMTUT47Z38wO6B9CFifHu2Gr/qMUMRacLhFOVigg2
         BX8sTlicF801OYicXZZ+j4d6lMPFkqRxDXToQbknmK+gy9zd9urg1yw9S3gbv0MmbrgV
         PamA==
Received: by 10.182.43.71 with SMTP id u7mr3797194obl.13.1341380280739; Tue,
 03 Jul 2012 22:38:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.182.73.232 with HTTP; Tue, 3 Jul 2012 22:37:40 -0700 (PDT)
In-Reply-To: <loom.20120704T072756-130@post.gmane.org>
References: <loom.20120704T072756-130@post.gmane.org>
From: Supun Malinga <supunm@wso2.com>
Date: Wed, 4 Jul 2012 11:07:40 +0530
Message-ID: <CACd4kVLiUv0XGza7MjzgxCKQFio=reg6cyb59w5kY9KyGTQ5eQ@mail.gmail.com>
Subject: Re: Error
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044797bb2467f404c3fa6fdd
X-Gm-Message-State: ALoCoQny8ESNW6pFo9+VGNl9MuY+PfvAkwMAIzcXChxAJWJYLAgKS50J1/Sg4j9l8oe+U3xfXoVH

--f46d044797bb2467f404c3fa6fdd
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Following would be helpful.
http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configuring_Manager_Application_Access

thanks,

On Wed, Jul 4, 2012 at 11:01 AM, she <she.gsck@gmail.com> wrote:

> Dear sir,
>
> I am working with Netbeans 6.7.1 + tomcat 6.0.18 having
> Access to Tomcat server has not been authorized. Set the correct username
> and
> password with the "manager" role in the Tomcat customizer in the Server
> Manager.
> See the server log for details.
>
>
> init:
> deps-module-jar:
> deps-ear-jar:
> deps-jar:
> library-inclusion-in-archive:
> library-inclusion-in-manifest:
> compile:
> compile-jsps:
> Deployment error:
> Access to Tomcat server has not been authorized. Set the correct username
> and
> password with the "manager" role in the Tomcat customizer in the Server
> Manager.
> See the server log for details.
>         at
>
> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
> .java:224)
>         at
>
> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
> .java:132)
>         at org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:103)
>         at
> org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
>         at sun.reflect.GeneratedMethodAccessor156.invoke(Unknown Source)
>         at
>
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.jav
> a:25)
>         at java.lang.reflect.Method.invoke(Method.java:597)
>         at
> org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
>         at org.apache.tools.ant.Task.perform(Task.java:348)
>         at org.apache.tools.ant.Target.execute(Target.java:357)
>         at org.apache.tools.ant.Target.performTasks(Target.java:385)
>         at
> org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
>         at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
>         at
>
> org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:
> 41)
>         at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
>         at
> org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:278)
>         at
> org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:497)
>         at
> org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:151)
> Caused by: java.lang.IllegalStateException: Access to Tomcat server has
> not been
> authorized. Set the correct username and password with the "manager" role
> in the
> Tomcat customizer in the Server Manager.
>         at
>
> org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:394)
>         at
> org.netbeans.modules.tomcat5.TomcatManager.modules(TomcatManager.java:622)
>         at
>
> org.netbeans.modules.tomcat5.TomcatManager.getAvailableModules(TomcatManager.jav
> a:433)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.getAvailableTMIDsMap(Targ
> etServer.java:393)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
> erences(TargetServer.java:349)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
> erences(TargetServer.java:298)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
> erences(TargetServer.java:295)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.processLastTargetModules(
> TargetServer.java:417)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.init(TargetServer.java:16
> 3)
>         at
>
> org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:
> 556)
>         at
>
> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
> .java:189)
>         ... 17 more
> Caused by: org.netbeans.modules.tomcat5.AuthorizationException
>         at
>
> org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:395)
>         ... 27 more
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
Supun Malinga,

--f46d044797bb2467f404c3fa6fdd--

From users-return-235302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul  4 05:51:24 2012
Return-Path: <users-return-235302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D250D683
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  4 Jul 2012 05:51:24 +0000 (UTC)
Received: (qmail 56691 invoked by uid 500); 4 Jul 2012 05:51:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56521 invoked by uid 500); 4 Jul 2012 05:51:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56490 invoked by uid 99); 4 Jul 2012 05:51:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:51:20 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=DEAR_SOMETHING,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jul 2012 05:51:15 +0000
Received: by yenl1 with SMTP id l1so7686596yen.18
        for <users@tomcat.apache.org>; Tue, 03 Jul 2012 22:50:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Zj+oZXQNpgmr6FTgDdBLQf/tMyuMDWN+4Mq9m4uQovA=;
        b=baRNLdoqyP1jN1MUb+qjLohgqcJMwbM9nxoA7QdVGhXlC4VVeRvRtD21l6ODwVI6f3
         uJ/RN8a8J5ynoaHHdVLiyds9FLY5mRZQnav+ZFrZw2zudse2GuiF4WIsOCnppllPyQKI
         D+0Ao8bP9sIPB6LCiynDmvLRPYffX8XnZVjiAdGw3anOkgYA7W9tp5Ib4n1d6EQ2smu3
         u/xkaC/KY8cAuqQe4X4JNPyKW2CtOt22K2KepzC9t1xffpvYnQJTdSegAyHU/0cjt8wt
         PjYeFdZlysekn3Zu29t4GHkLwUWP9VgQXE/hXmKWEkmm5HVYGUVbz3OHuBbx+U9ojvX9
         Addw==
MIME-Version: 1.0
Received: by 10.50.161.199 with SMTP id xu7mr12609336igb.68.1341381054398;
 Tue, 03 Jul 2012 22:50:54 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Tue, 3 Jul 2012 22:50:54 -0700 (PDT)
In-Reply-To: <CACd4kVLiUv0XGza7MjzgxCKQFio=reg6cyb59w5kY9KyGTQ5eQ@mail.gmail.com>
References: <loom.20120704T072756-130@post.gmane.org>
	<CACd4kVLiUv0XGza7MjzgxCKQFio=reg6cyb59w5kY9KyGTQ5eQ@mail.gmail.com>
Date: Wed, 4 Jul 2012 12:50:54 +0700
Message-ID: <CAMT20g9U1tXQACp02yx4e78CLTst=XZoGQpnCXarwrJeQfmW7w@mail.gmail.com>
Subject: Re: Error
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

First your should find the location of your tomcat-users.xml first,
which is normally located here :
${TOMCAT_HOME}\conf\tomcat-users.xml

If you are using tomcat bundled with Netbeans, the ${TOMCAT_HOME}
should be somewhere in
<personal user folder>\.netbeans\<nb-version>\apache-tomcat-<version>_base\conf

You should see something like this in the tomcat-users.xml :
<?xml version='1.0' encoding='utf-8'?>
<tomcat-users>
  <role rolename="tomcat"/>
  <role rolename="role1"/>
  <user username="tomcat" password="tomcat" roles="tomcat"/>
  <user username="both" password="tomcat" roles="tomcat,role1"/>
  <user username="role1" password="tomcat" roles="role1"/>
</tomcat-users>

Now, you should modify the file : add the manager role, and assign it
to a new user named 'she', for example ..
<?xml version='1.0' encoding='utf-8'?>
<tomcat-users>
  <role rolename="tomcat"/>
  <role rolename="role1"/>
  <role rolename="manager"/>
  <user username="she" password="she" roles="manager"/>
  <user username="tomcat" password="tomcat" roles="tomcat,manager"/>
  <user username="both" password="tomcat" roles="tomcat,role1"/>
  <user username="role1" password="tomcat" roles="role1"/>
</tomcat-users>

When running it, and the authentication popup appears, you type "she"
for both the user and password

That should do it ..



On Wed, Jul 4, 2012 at 12:37 PM, Supun Malinga <supunm@wso2.com> wrote:
> Hi,
>
> Following would be helpful.
> http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configuring_Manager_Application_Access
>
> thanks,
>
> On Wed, Jul 4, 2012 at 11:01 AM, she <she.gsck@gmail.com> wrote:
>
>> Dear sir,
>>
>> I am working with Netbeans 6.7.1 + tomcat 6.0.18 having
>> Access to Tomcat server has not been authorized. Set the correct username
>> and
>> password with the "manager" role in the Tomcat customizer in the Server
>> Manager.
>> See the server log for details.
>>
>>
>> init:
>> deps-module-jar:
>> deps-ear-jar:
>> deps-jar:
>> library-inclusion-in-archive:
>> library-inclusion-in-manifest:
>> compile:
>> compile-jsps:
>> Deployment error:
>> Access to Tomcat server has not been authorized. Set the correct username
>> and
>> password with the "manager" role in the Tomcat customizer in the Server
>> Manager.
>> See the server log for details.
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
>> .java:224)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
>> .java:132)
>>         at org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:103)
>>         at
>> org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
>>         at sun.reflect.GeneratedMethodAccessor156.invoke(Unknown Source)
>>         at
>>
>> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.jav
>> a:25)
>>         at java.lang.reflect.Method.invoke(Method.java:597)
>>         at
>> org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
>>         at org.apache.tools.ant.Task.perform(Task.java:348)
>>         at org.apache.tools.ant.Target.execute(Target.java:357)
>>         at org.apache.tools.ant.Target.performTasks(Target.java:385)
>>         at
>> org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
>>         at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
>>         at
>>
>> org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:
>> 41)
>>         at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
>>         at
>> org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:278)
>>         at
>> org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:497)
>>         at
>> org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:151)
>> Caused by: java.lang.IllegalStateException: Access to Tomcat server has
>> not been
>> authorized. Set the correct username and password with the "manager" role
>> in the
>> Tomcat customizer in the Server Manager.
>>         at
>>
>> org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:394)
>>         at
>> org.netbeans.modules.tomcat5.TomcatManager.modules(TomcatManager.java:622)
>>         at
>>
>> org.netbeans.modules.tomcat5.TomcatManager.getAvailableModules(TomcatManager.jav
>> a:433)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.getAvailableTMIDsMap(Targ
>> etServer.java:393)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
>> erences(TargetServer.java:349)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
>> erences(TargetServer.java:298)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.checkUndeployForSharedRef
>> erences(TargetServer.java:295)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.processLastTargetModules(
>> TargetServer.java:417)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.init(TargetServer.java:16
>> 3)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:
>> 556)
>>         at
>>
>> org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment
>> .java:189)
>>         ... 17 more
>> Caused by: org.netbeans.modules.tomcat5.AuthorizationException
>>         at
>>
>> org.netbeans.modules.tomcat5.TomcatManagerImpl.list(TomcatManagerImpl.java:395)
>>         ... 27 more
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>
>
> --
> Supun Malinga,



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 00:36:10 2012
Return-Path: <users-return-235303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F30E7CB86
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 00:36:09 +0000 (UTC)
Received: (qmail 46215 invoked by uid 500); 5 Jul 2012 00:36:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46136 invoked by uid 500); 5 Jul 2012 00:36:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46125 invoked by uid 99); 5 Jul 2012 00:36:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:36:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:35:59 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id WQJ21j0060Fqzac5DQbgRl; Thu, 05 Jul 2012 00:35:40 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id WQbe1j0061FXhpX3UQbe1r; Thu, 05 Jul 2012 00:35:38 +0000
Message-ID: <4FF4E163.7050509@christopherschultz.net>
Date: Wed, 04 Jul 2012 20:35:47 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Any way to deal with too many request per second?
References: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com>
In-Reply-To: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brian,

On 6/29/12 7:57 PM, Brian Braun wrote:
> I created a RESTfull service. My clients are sending me HTTP
> requests, and I return them responses. Usually, a client makes at
> the most 1-2 requests per second which is totally fine, but some
> clients sometimes make about 30 requests per second and that makes
> my server suffer, even though I'm using a load balancer with two
> servers behind it. I would like to find a way to deal with this.
> The best thing would be to delay them when they do that, not to
> totally stop or ban them, but to slow them somehow. Maybe creating
> a queue for them, or maybe putting them in a lower priority, until
> they slow their requests. I could program this myself, but I guess
> there is already a solution somewhere. Maybe a Tomcat valve could
> do it? Does anybody know one? Or maybe some kind of filter? Any
> suggestions?

You are looking for a feature called "traffic shaping" or "quality of
service" (QOS), which is something Tomcat does not do (at least not
directly). You should look at your load balancer's options to support
either of these features.

If not, you could look at something like mod_qos for Apache httpd. It
will require another component, but it will get the job done. The
alternative to something off-the-shelf like that, of course, is to
implement it yourself.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/04WMACgkQ9CaO5/Lv0PB/ZQCgkhHv+tpYxptkT0ZPAkLcvF7S
0ZYAnjTYPxAdFM3nUbVRC8+vio+jyDg3
=YjE6
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 00:51:25 2012
Return-Path: <users-return-235304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF275CBB4
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 00:51:24 +0000 (UTC)
Received: (qmail 80476 invoked by uid 500); 5 Jul 2012 00:51:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80435 invoked by uid 500); 5 Jul 2012 00:51:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80426 invoked by uid 99); 5 Jul 2012 00:51:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:51:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:51:14 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id WQUC1j00B17dt5G55QquJU; Thu, 05 Jul 2012 00:50:54 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id WQqz1j00F1FXhpX3ZQqz02; Thu, 05 Jul 2012 00:51:00 +0000
Message-ID: <4FF4E4F5.4010007@christopherschultz.net>
Date: Wed, 04 Jul 2012 20:51:01 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat filters
References: <CAMohEiyRCqDCX0BBnRP1tpsfPuNO9Q70ytjGT8Xm02SQFbLkGw@mail.gmail.com> <4FF21D6A.6070306@pidster.com>
In-Reply-To: <4FF21D6A.6070306@pidster.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Pid,

On 7/2/12 6:15 PM, Pid wrote:
> On 02/07/2012 18:34, Varrun Ramani wrote:
>> Hi
>> 
>> I am in the process developing a web application firewall(WAF)
>> for tomcat similar to what mod security does, and am planning to
>> use the filter API already present in tomcat to intercept
>> requests and do the filtering. Are there any existing efforts at
>> doing this for tomcat?
> 
> Quite a few yes.  Acegi Security (now called Spring Security) for
> example.

Forgive my ignorance, for I've never used Spring [anything]... does
ACEGI/SpringSecurity provide features like mod_security, or is it a
replacement for container-managed J2EE security (or both)?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/05PUACgkQ9CaO5/Lv0PCYYgCgt0kEVBouJW+C82IdECGowzw/
ghsAoJJuzr2+9PqGrmWuHqO+anyPUPCP
=szuF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 00:54:35 2012
Return-Path: <users-return-235305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADA19CBBB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 00:54:35 +0000 (UTC)
Received: (qmail 87880 invoked by uid 500); 5 Jul 2012 00:54:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87823 invoked by uid 500); 5 Jul 2012 00:54:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87814 invoked by uid 99); 5 Jul 2012 00:54:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:54:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 00:54:24 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id WQQb1j0021ap0As55Qu5lA; Thu, 05 Jul 2012 00:54:05 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id WQuB1j00M1FXhpX3iQuBhJ; Thu, 05 Jul 2012 00:54:12 +0000
Message-ID: <4FF4E5B4.20907@christopherschultz.net>
Date: Wed, 04 Jul 2012 20:54:12 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Error
References: <loom.20120704T072756-130@post.gmane.org>
In-Reply-To: <loom.20120704T072756-130@post.gmane.org>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

She,

On 7/4/12 1:31 AM, she wrote:
> I am working with Netbeans 6.7.1 + tomcat 6.0.18

Upgrade Tomcat: that version is hideously outdated. While you're at
it, upgrade from SSL 2.0 at the same time.

> having Access to Tomcat server has not been authorized. Set the
> correct username and password with the "manager" role in the Tomcat
> customizer in the Server Manager. See the server log for details.

What <Realm> are you using? It is fairly typical to use Tomcat's
MemoryRealm for this sort of thing. If so, what does your MemoryRealm
configuration in conf/server.xml look like? How about your
conf/tomcat-users.xml file? Finally, what about your manager's
context.xml file?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/05bQACgkQ9CaO5/Lv0PDfOgCgrbjms8FQ1H1uDeo/x/2lwubn
2JIAn2/EEyXhbkAdwJJTrtjIPvlCRj4j
=8igF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 01:02:42 2012
Return-Path: <users-return-235306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4686CCC13
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 01:02:42 +0000 (UTC)
Received: (qmail 5349 invoked by uid 500); 5 Jul 2012 01:02:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5298 invoked by uid 500); 5 Jul 2012 01:02:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5289 invoked by uid 99); 5 Jul 2012 01:02:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 01:02:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 01:02:31 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id WQwB1j0021YDfWL51R2Csr; Thu, 05 Jul 2012 01:02:12 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id WR251j00W1FXhpX3gR26ME; Thu, 05 Jul 2012 01:02:06 +0000
Message-ID: <4FF4E79B.20203@christopherschultz.net>
Date: Wed, 04 Jul 2012 21:02:19 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: General Architecture Question for multiple websites on a single
 RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
In-Reply-To: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leonard,

On 7/2/12 4:32 PM, Simon, Leonard wrote:
> Our goals are as follows:
> 
> The operating system will be RHEL 6.X.
> 
> We want to run Apache and Tomcat on a single server running five
> websites using different ports for each.
> 
> Our goal is to manage each web server independently, i.e.,
> separate shutdown and startup scripts and hopefully  different log
> files for each web server.
> 
> We noticed the bundled Apache/Tomcat with RedHat might only give us
> a standard install. Is there a way to do an alternate path
> install?
> 
> Thanks and look forward to some ideas on how to accomplish this.

I periodically threaten to post my multi-instance Apache Ant scripts
to the list. I have recently split my build process into multiple
build scripts including a build-tomcat.xml which will manage that kind
of thing for you. It's still not a perfect separation, but it allows
you to do things like define 'projectname.property=value' in
~/.ant.properties, set <project name="name"> in build.xml, then
duplicate the whole thing over and over again.

So, I have, for instance, "myproject1.tomcat-port" and
"myproject1.tomcat-shutdown-port", etc. and then (near) duplicates for
each project. Each developer on a shared dev server gets a batch of
port numbers assigned for their own uses and then sets those up
accordingly. Each webapp can also have a separate projectX.tomcat-home
and projectX.java-home property, so that simply typing 'ant
tomcat-start' in any project's directory will build an appropriate
CATALINA_BASE (ports and all) for that webapp and then launch the
webapp in that instance.

All of this requires a fair amount of infrastructure to set up (build
scripts, environment-specific server.xml, etc. files, etc.) but once
it's done it makes your life sooooo much easier.

I can share what I've got, but it will likely require you to heavily
modify it to work in your environment since it's so deeply integrated
into our complete build process.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/055sACgkQ9CaO5/Lv0PCr/QCbBAC4LQmZxoMzdtarFxBXHbb8
qjEAn3ldY08iFkVxlWrEkTLDgfxA7qql
=ev/P
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 06:13:01 2012
Return-Path: <users-return-235307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2EBC5DB3E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 06:13:01 +0000 (UTC)
Received: (qmail 64661 invoked by uid 500); 5 Jul 2012 06:12:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64562 invoked by uid 500); 5 Jul 2012 06:12:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64542 invoked by uid 99); 5 Jul 2012 06:12:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 06:12:54 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.56] (HELO nm19-vm1.bullet.mail.ne1.yahoo.com) (98.138.91.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jul 2012 06:12:43 +0000
Received: from [98.138.90.52] by nm19.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 06:12:22 -0000
Received: from [98.138.89.166] by tm5.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 06:12:22 -0000
Received: from [127.0.0.1] by omp1022.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 06:12:22 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 113379.47566.bm@omp1022.mail.ne1.yahoo.com
Received: (qmail 35306 invoked by uid 60001); 5 Jul 2012 06:12:22 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341468742; bh=KlC9J8ZQp8YHUym/NUmAx6M0Ki+7tFsAXEVX7fKkWFo=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=KhE2TO69dwVukoVAvAL6HO43dfFM94SCYhym7mlduPjDtdMg3hnKqzur3He90KT3tmvlDjn4S9d3mLgifDegxHYcdmQRYg30R5ZxMvJ3ZIiImjS57GttRjOJm395SQS6Jlva7JEtlQSmEbuKLELV4Fx5PtulYmv33SDyvfX8wn0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=JBTqdwL0lEdyY/GydaDj1MruugekM4+KyHqwbMKd53XOwn+U4oOkVTk4y4QK6gfyUlwjB+Qm3srvA2Vn8ixVHC84VLaawXPm03yqQ8jY8X8ZtNLW7+Uby6eMu4qjv6u44fqserIUOUxFz5jbAqeLK/eeyqIb7CsCG10VmSWnwwg=;
X-YMail-OSG: 6fQlzkoVM1lkY91SB8ELr6JKjVPmtdzaV3mrJHOGRFjLafr
 k5i_boamIAMaiO6_k0flER7fyU_uIv02CjzfXk0Dmb3IE.inEPWqk7NoIOI.
 KdY7nUdUPavIgpgd_4qJo72aWkUCqaXF5iw3olD_suDpTeASPh3YEI_QwGuB
 EpddKUuzuRBAKvTtBvOePdBV1IsM8C6kceoH_F.v7.pQ3ZEotYzPZ_g_tH.p
 6DRc_idySTV18LJQTv8dyDQxOmNaMusjLHmIehMG.Q_rUnvMNVZnHX8AhUGo
 iMi0xzQ.HuWqUpwuEzx4CqJ70DEo2OnWi2pPjHv9c4TS33Cy5tFylkVRDM4G
 M7ZnBmMRmZgBmm8KAKFYEsJTKawB8tz70BHSGVusRTsTwvh1YHOXs1703Gz4
 dWg--
Received: from [62.134.46.5] by web122306.mail.ne1.yahoo.com via HTTP; Wed, 04 Jul 2012 23:12:22 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
Message-ID: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com>
Date: Wed, 4 Jul 2012 23:12:22 -0700 (PDT)
From: Hermes Flying <flyinghermes@yahoo.com>
Reply-To: Hermes Flying <flyinghermes@yahoo.com>
Subject: Tomcat 7 and JIoEndpoint as used in ssl
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-140725594-1182325890-1341468742=:24183"

---140725594-1182325890-1341468742=:24183
Content-Type: text/plain; charset=us-ascii

Hi,

I have build a custom SSL implementation and I use that for the SSL connectivity in Tomcat.
This was build back in Tomcat 5 and it works in Tomcat 6
But now that we are trying to migrate in Tomcat 7 a change has been done that breaks my implementation.
Specifically the org.apache.tomcat.util.netSSLImplementation#getServerSocketFactory() has been changed to 

org.apache.tomcat.util.netSSLImplementation#getServerSocketFactory(AbstractEndpoint endpoint)
at least this is a first difference I found so far.

My question is: What is the need/use of this change? In the previous version (with no params) my implementation handled everything. Am I supposed to do something with the AbstractEndpoint endpoint? I see that this normally is JIoEndpoint. Am I supposed to pass some information back to it? Or has this been done just in case someone would need to do that.
What is the functionality of JIoEndpoint?

Thank you

---140725594-1182325890-1341468742=:24183--

From users-return-235308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 07:19:46 2012
Return-Path: <users-return-235308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B15C1D6DD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 07:19:46 +0000 (UTC)
Received: (qmail 33821 invoked by uid 500); 5 Jul 2012 07:19:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33334 invoked by uid 500); 5 Jul 2012 07:19:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32771 invoked by uid 99); 5 Jul 2012 07:19:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 07:19:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 07:19:33 +0000
X-Envelope-From: bubi@charmides.in-berlin.de
X-Envelope-To: <users@tomcat.apache.org>
Received: from [192.168.178.12] (p548B923A.dip0.t-ipconnect.de [84.139.146.58])
	(authenticated bits=0)
	by einhorn.in-berlin.de (8.13.6/8.13.6/Debian-1) with ESMTP id q657J915002314
	for <users@tomcat.apache.org>; Thu, 5 Jul 2012 09:19:10 +0200
Subject: Re: Any way to deal with too many request per second?
References: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com> <4FF4E163.7050509@christopherschultz.net>
From: "burghard.britzke" <bubi@charmides.in-berlin.de>
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPhone Mail (9B206)
In-Reply-To: <4FF4E163.7050509@christopherschultz.net>
Message-Id: <049F90AE-A789-4329-A3E5-0062C14E563C@charmides.in-berlin.de>
Date: Thu, 5 Jul 2012 09:19:08 +0200
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
X-Scanned-By: MIMEDefang_at_IN-Berlin_e.V. on 192.109.42.8
X-Virus-Checked: Checked by ClamAV on apache.org

a Filter may help. But the clients must handle the situations if they are re=
jected because of the load.=20

burghard@iSir

Am 05.07.2012 um 02:35 schrieb Christopher Schultz <chris@christopherschultz=
.net>:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Brian,
>=20
> On 6/29/12 7:57 PM, Brian Braun wrote:
>> I created a RESTfull service. My clients are sending me HTTP
>> requests, and I return them responses. Usually, a client makes at
>> the most 1-2 requests per second which is totally fine, but some
>> clients sometimes make about 30 requests per second and that makes
>> my server suffer, even though I'm using a load balancer with two
>> servers behind it. I would like to find a way to deal with this.
>> The best thing would be to delay them when they do that, not to
>> totally stop or ban them, but to slow them somehow. Maybe creating
>> a queue for them, or maybe putting them in a lower priority, until
>> they slow their requests. I could program this myself, but I guess
>> there is already a solution somewhere. Maybe a Tomcat valve could
>> do it? Does anybody know one? Or maybe some kind of filter? Any
>> suggestions?
>=20
> You are looking for a feature called "traffic shaping" or "quality of
> service" (QOS), which is something Tomcat does not do (at least not
> directly). You should look at your load balancer's options to support
> either of these features.
>=20
> If not, you could look at something like mod_qos for Apache httpd. It
> will require another component, but it will get the job done. The
> alternative to something off-the-shelf like that, of course, is to
> implement it yourself.
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEYEARECAAYFAk/04WMACgkQ9CaO5/Lv0PB/ZQCgkhHv+tpYxptkT0ZPAkLcvF7S
> 0ZYAnjTYPxAdFM3nUbVRC8+vio+jyDg3
> =3DYjE6
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 12:25:46 2012
Return-Path: <users-return-235309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2D159A7F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 12:25:46 +0000 (UTC)
Received: (qmail 47811 invoked by uid 500); 5 Jul 2012 12:25:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47631 invoked by uid 500); 5 Jul 2012 12:25:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47565 invoked by uid 99); 5 Jul 2012 12:25:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:25:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:25:31 +0000
Received: by vcbfo13 with SMTP id fo13so7226704vcb.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 05:25:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=VzSv+t2c85uK2AbBlVKCSWvRYdA8SAT1PHyNKIlbsoI=;
        b=zd3TBNHAYs8CTN/TXajfrhQM+bzIlmDlP7QPfPgwnCDF3aTvnnytfWeozP9S0b5RF5
         v9pNfljaVj5cu0qDQFhIT4FbgQTGx1TeeWq7EDPFj4GZgvRteVIFKAXJU+v46AAf6YRA
         8l+5d0ue9PK4gjjzUmK8Ax6p/exE98jHuLWinYU8DJf9anxwa4xfWj8NFxD8vSUm7eZs
         Qt3Gk+z5FTFF+8x4WeWfB9EF3MSEABgaOHwFJPeyW4KePpmqdB6ASRAGXtkyC1OscpBC
         o9AsTfdjSF0f9+u0su5+8hCzoh76pd6RD6PwXhY5hZQtI6GrEVpxYNrfkUdb/fYAxvCf
         lqDA==
MIME-Version: 1.0
Received: by 10.220.223.201 with SMTP id il9mr7148259vcb.61.1341491110660;
 Thu, 05 Jul 2012 05:25:10 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Thu, 5 Jul 2012 05:25:10 -0700 (PDT)
In-Reply-To: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com>
References: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com>
Date: Thu, 5 Jul 2012 16:25:10 +0400
Message-ID: <CABzHfVkKzqnHb1MvNy_FYW7i9szfGgD07nvS7pK902wU7cyx3g@mail.gmail.com>
Subject: Re: Tomcat 7 and JIoEndpoint as used in ssl
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/7/5 Hermes Flying <flyinghermes@yahoo.com>:
> Hi,
>
> I have build a custom SSL implementation and I use that for the SSL conne=
ctivity in Tomcat.
> This was build back in Tomcat 5 and it works in Tomcat 6
> But now that we are trying to migrate in Tomcat 7 a change has been done =
that breaks my implementation.
> Specifically the org.apache.tomcat.util.netSSLImplementation#getServerSoc=
ketFactory() has been changed to
>
> org.apache.tomcat.util.netSSLImplementation#getServerSocketFactory(Abstra=
ctEndpoint endpoint)
> at least this is a first difference I found so far.
>
> My question is: What is the need/use of this change?

http://svn.apache.org/viewvc?view=3Drevision&revision=3D1044058

> In the previous version (with no params) my implementation handled everyt=
hing. Am I supposed to do something with the AbstractEndpoint endpoint? I s=
ee that this normally is JIoEndpoint. Am I supposed to pass some informatio=
n back to it? Or has this been done just in case someone would need to do t=
hat.

org.apache.tomcat.util.net.jsse.JSSEImplementation extends SSLImplementatio=
n {
(...)
    @Override
    public ServerSocketFactory getServerSocketFactory(AbstractEndpoint
endpoint)  {
        return new JSSESocketFactory(endpoint);
    }
}

and JSSESocketFactory uses endpoint a lot.

> What is the functionality of JIoEndpoint?

The same as of AbstractEndpoint plus a bit more.

Endpoint
1. represents the "server socket", on which Tomcat connector listens.
2. is responsible for socket management regardless of protocol (HTTP,
AJP), especially the "server socket" management.
3. naturally serves as the storage for certain set of configurations
options (the ones that are protocol-agnostic and ones that relate to
socket management).



Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 12:48:47 2012
Return-Path: <users-return-235310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 34CC7D065
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 12:48:47 +0000 (UTC)
Received: (qmail 19458 invoked by uid 500); 5 Jul 2012 12:48:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19100 invoked by uid 500); 5 Jul 2012 12:48:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19059 invoked by uid 99); 5 Jul 2012 12:48:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:48:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.55.146.122] (HELO rto.interno.aibili.pt) (212.55.146.122)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:48:35 +0000
Received: from keypoint (keypoint.interno.aibili.pt [192.168.1.205])
	by rto.interno.aibili.pt (Postfix) with ESMTP id C188B1390029
	for <users@tomcat.apache.org>; Thu,  5 Jul 2012 13:48:13 +0100 (WEST)
From: =?iso-8859-1?Q?Ricardo_Sim=F5es?= <rsimoes@aibili.pt>
To: <users@tomcat.apache.org>
Subject: : setting tomcat in iis
Date: Thu, 5 Jul 2012 13:48:13 +0100
Message-ID: <00d201cd5aac$70d93410$528b9c30$@aibili.pt>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_00D3_01CD5AB4.D29E3850"
X-Mailer: Microsoft Outlook 14.0
Thread-Index: Ac1arG7BmFwP0TUaTwGal2+21DHjMg==
Content-Language: pt
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_00D3_01CD5AB4.D29E3850
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_00D4_01CD5AB4.D29E3850"


------=_NextPart_001_00D4_01CD5AB4.D29E3850
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

=20

Hi everyone, I think there was a guide that explain how to set tomcat 6 =
with
IIS but iv seem to lost the link, does anyone have it?

Thanks

Ricardo Sim=F5es


Description: =
C:\Users\Ricardo\AppData\Roaming\Microsoft\Stationery\logo.gif

Coimbra Coordinating Centre for Clinical Research=20
AIBILI - Association for Innovation and Biomedical Research on Light and
Image=20
Azinhaga de Santa Comba, Celas . 3000-548 Coimbra . Portugal=20
Tel: +351 239 480 141=20
Fax: +351 239 480 117=20
E-mail: rsimoes@aibili.pt=20
Url: www.aibili.pt=20

Este e-mail e todos os arquivos anexos s=E3o confidenciais e dever=E3o =
ser lidos
unicamente pelo indiv=EDduo ou entidade a quem s=E3o dirigidos. Se n=E3o =
for o
receptor original, todo o uso, dissemina=E7=E3o, reenvio, impress=E3o, =
ou c=F3pia
deste e-mail =E9 estritamente proibido. Se receber este e-mail por =
engano,
notifique por favor o remetente.=20

This e-mail and any files transmitted with it are confidential and are
intended solely for the use of the individual or entity to which they =
are
addressed. If you are not the original recipient, any use, =
dissemination,
forwarding, printing, or copying of this e-mail is strictly prohibited. =
If
you received this e-mail in error, please notify the originator.=20


------=_NextPart_001_00D4_01CD5AB4.D29E3850
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" =
xmlns=3D"http://www.w3.org/TR/REC-html40"><head><meta name=3DGenerator =
content=3D"Microsoft Word 14 (filtered medium)"><!--[if =
!mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal;
	color:black;}
span.EmailStyle18
	{mso-style-type:personal;
	color:black;}
span.EmailStyle19
	{mso-style-type:personal-reply;
	color:black;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 3.0cm 70.85pt 3.0cm;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1027" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DPT link=3Dblue =
vlink=3Dpurple><div class=3DWordSection1><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p><p class=3DMsoNormal =
style=3D'margin-bottom:12.0pt'><span lang=3DEN-US>Hi everyone, I think =
there was a guide that explain how to set tomcat <span =
style=3D'color:black'>6 </span>with IIS but iv seem to lost the link, =
does anyone have it?<o:p></o:p></span></p><p class=3DMsoNormal =
style=3D'margin-bottom:12.0pt'><span =
lang=3DEN-US>Thanks<o:p></o:p></span></p><p class=3DMsoNormal =
style=3D'margin-bottom:12.0pt'><span lang=3DEN-US>Ricardo =
Sim=F5es</span><span lang=3DEN-US =
style=3D'font-size:7.5pt;font-family:"Verdana","sans-serif"'><o:p></o:p><=
/span></p><table class=3DMsoNormalTable border=3D0 =
cellpadding=3D0><tr><td style=3D'padding:.75pt .75pt .75pt .75pt'><p =
class=3DMsoNormal><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t75" =
coordsize=3D"21600,21600" o:spt=3D"75" o:preferrelative=3D"t" =
path=3D"m@4@5l@4@11@9@11@9@5xe" filled=3D"f" stroked=3D"f">
<v:stroke joinstyle=3D"miter" />
<v:formulas>
<v:f eqn=3D"if lineDrawn pixelLineWidth 0" />
<v:f eqn=3D"sum @0 1 0" />
<v:f eqn=3D"sum 0 0 @1" />
<v:f eqn=3D"prod @2 1 2" />
<v:f eqn=3D"prod @3 21600 pixelWidth" />
<v:f eqn=3D"prod @3 21600 pixelHeight" />
<v:f eqn=3D"sum @0 0 1" />
<v:f eqn=3D"prod @6 1 2" />
<v:f eqn=3D"prod @7 21600 pixelWidth" />
<v:f eqn=3D"sum @8 21600 0" />
<v:f eqn=3D"prod @7 21600 pixelHeight" />
<v:f eqn=3D"sum @10 21600 0" />
</v:formulas>
<v:path o:extrusionok=3D"f" gradientshapeok=3D"t" o:connecttype=3D"rect" =
/>
<o:lock v:ext=3D"edit" aspectratio=3D"t" />
</v:shapetype><v:shape id=3D"Picture_x0020_2" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t75" alt=3D"Description: =
C:\Users\Ricardo\AppData\Roaming\Microsoft\Stationery\logo.gif" =
style=3D'position:absolute;margin-left:0;margin-top:0;width:234.75pt;heig=
ht:52.5pt;z-index:251659264;visibility:visible;mso-wrap-style:square;mso-=
width-percent:0;mso-height-percent:0;mso-wrap-distance-left:0;mso-wrap-di=
stance-top:0;mso-wrap-distance-right:0;mso-wrap-distance-bottom:0;mso-pos=
ition-horizontal:left;mso-position-horizontal-relative:text;mso-position-=
vertical:absolute;mso-position-vertical-relative:line;mso-width-percent:0=
;mso-height-percent:0;mso-width-relative:page;mso-height-relative:page' =
o:allowoverlap=3D"f">
<v:imagedata src=3D"cid:image002.gif@01CD5AB4.D28D2150" o:title=3D"logo" =
/>
<w:wrap type=3D"square"/>
</v:shape><![endif]--><![if !vml]><img width=3D313 height=3D70 =
src=3D"cid:image002.gif@01CD5AB4.D28D2150" align=3Dleft =
alt=3D"Description: =
C:\Users\Ricardo\AppData\Roaming\Microsoft\Stationery\logo.gif" =
v:shapes=3D"Picture_x0020_2"><![endif]><span =
lang=3DEN-US><o:p></o:p></span></p></td></tr></table><p =
class=3DMsoNormal><i><span lang=3DEN-US =
style=3D'font-size:7.5pt;font-family:"Verdana","sans-serif";color:black'>=
Coimbra Coordinating Centre for Clinical Research <br>AIBILI - =
Association for Innovation and Biomedical Research on Light and =
I</span></i><i><span =
style=3D'font-size:7.5pt;font-family:"Verdana","sans-serif";color:black'>=
mage <br>Azinhaga de Santa Comba, Celas . 3000-548 Coimbra . =
Portugal</span></i><span =
style=3D'font-size:7.5pt;font-family:"Verdana","sans-serif";color:black'>=
 <br>Tel:<i> +351 239 480 141</i> <br>Fax:<i> +351 239 480 117</i> =
<br>E-mail: <i><a href=3D"rsimoes@aibili.pt"><span =
style=3D'color:black'>rsimoes@aibili.pt</span></a></i> <br>Url: <i><a =
href=3D"www.aibili.pt/4c_about.php"><span =
style=3D'color:black'>www.aibili.pt</span></a></i> <br><br>Este e-mail e =
todos os arquivos anexos s=E3o confidenciais e dever=E3o ser lidos =
unicamente pelo indiv=EDduo ou entidade a quem s=E3o dirigidos. Se n=E3o =
for o receptor original, todo o uso, dissemina=E7=E3o, reenvio, =
impress=E3o, ou c=F3pia deste e-mail =E9 estritamente proibido. Se =
receber este e-mail por engano, notifique por favor o remetente. =
<br><br></span><span lang=3DEN-US =
style=3D'font-size:7.5pt;font-family:"Verdana","sans-serif";color:black'>=
This e-mail and any files transmitted with it are confidential and are =
intended solely for the use of the individual or entity to which they =
are addressed. If you are not the original recipient, any use, =
dissemination, forwarding, printing, or copying of this e-mail is =
strictly prohibited. If you received this e-mail in error, please notify =
the originator. </span><span lang=3DEN-US =
style=3D'color:black'><o:p></o:p></span></p></div></body></html>
------=_NextPart_001_00D4_01CD5AB4.D29E3850--

------=_NextPart_000_00D3_01CD5AB4.D29E3850--


From users-return-235311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 12:52:35 2012
Return-Path: <users-return-235311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C249DD06F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 12:52:35 +0000 (UTC)
Received: (qmail 28744 invoked by uid 500); 5 Jul 2012 12:52:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28505 invoked by uid 500); 5 Jul 2012 12:52:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28480 invoked by uid 99); 5 Jul 2012 12:52:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:52:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kalle.privat@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:52:24 +0000
Received: by lbok6 with SMTP id k6so16116859lbo.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 05:52:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        bh=NgQM9CjltkMhmimbZ5VmIPlWugC0+ULP0oNfnj2xFjw=;
        b=SoQCS19L7uTG8otR9Gy/+ecQ1Sxhxuxb9YJ+bsDbGabHejPQOT351Ww6O5VEp28t/I
         S4DBu7Lz033Sk//2nuRrRJlTYOovYvCiEPqa65plI8tpsda6ashbY4l5Wp5uj39pGMTk
         TB3iYqsLA9tbLVZKbxIlxBIjiy3llO/JGra5/E0KZCFIX/ovamuKtEFODImLSDAkHEHV
         5s5O9SSMVnaCeJsZN4fn0GDdCSPyOBO1tbiiF3qQHwd+I8U2dFYep3thhaTFFlwlZIwl
         CyUbZOBlBg+qYcOA0oZFd6CzSHM6oSdzBwsbo2Keez0MxCrjkZrESYWCCRf73b/+1oMv
         xTVQ==
Received: by 10.152.102.137 with SMTP id fo9mr26056108lab.35.1341492723791;
        Thu, 05 Jul 2012 05:52:03 -0700 (PDT)
Received: from [127.0.0.1] (daimi-pat.daimi.au.dk. [130.225.0.251])
        by mx.google.com with ESMTPS id i4sm14219649lbg.17.2012.07.05.05.52.01
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 05 Jul 2012 05:52:02 -0700 (PDT)
Message-ID: <4FF58DEB.9040201@gmail.com>
Date: Thu, 05 Jul 2012 14:51:55 +0200
From: Casper Wandahl Schmidt <kalle.privat@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: : setting tomcat in iis
References: <00d201cd5aac$70d93410$528b9c30$@aibili.pt>
In-Reply-To: <00d201cd5aac$70d93410$528b9c30$@aibili.pt>
Content-Type: multipart/alternative;
 boundary="------------050306060605000507040309"

--------------050306060605000507040309
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

http://lmgtfy.com/?q=tomcat+6+iis

Med venlig hilsen/Kind regards
Casper W. Schmidt

Den 05-07-2012 14:48, Ricardo Simes skrev:
>
> Hi everyone, I think there was a guide that explain how to set tomcat 
> 6 with IIS but iv seem to lost the link, does anyone have it?
>
> Thanks
>
> Ricardo Simes
>
> Description: 
> C:\Users\Ricardo\AppData\Roaming\Microsoft\Stationery\logo.gif
>
> /Coimbra Coordinating Centre for Clinical Research
> AIBILI - Association for Innovation and Biomedical Research on Light 
> and I//mage
> Azinhaga de Santa Comba, Celas . 3000-548 Coimbra . Portugal/
> Tel:/+351 239 480 141/
> Fax:/+351 239 480 117/
> E-mail: /rsimoes@aibili.pt/
> Url: /www.aibili.pt <www.aibili.pt/4c_about.php>/
>
> Este e-mail e todos os arquivos anexos so confidenciais e devero ser 
> lidos unicamente pelo indivduo ou entidade a quem so dirigidos. Se 
> no for o receptor original, todo o uso, disseminao, reenvio, 
> impresso, ou cpia deste e-mail  estritamente proibido. Se receber 
> este e-mail por engano, notifique por favor o remetente.
>
> This e-mail and any files transmitted with it are confidential and are 
> intended solely for the use of the individual or entity to which they 
> are addressed. If you are not the original recipient, any use, 
> dissemination, forwarding, printing, or copying of this e-mail is 
> strictly prohibited. If you received this e-mail in error, please 
> notify the originator.
>



--------------050306060605000507040309--

From users-return-235312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 12:53:52 2012
Return-Path: <users-return-235312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D729CD080
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 12:53:52 +0000 (UTC)
Received: (qmail 35332 invoked by uid 500); 5 Jul 2012 12:53:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35270 invoked by uid 500); 5 Jul 2012 12:53:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35249 invoked by uid 99); 5 Jul 2012 12:53:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 12:53:49 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.152] (HELO nm4-vm2.bullet.mail.ne1.yahoo.com) (98.138.90.152)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jul 2012 12:53:39 +0000
Received: from [98.138.90.48] by nm4.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 12:53:18 -0000
Received: from [98.138.88.232] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 12:53:18 -0000
Received: from [127.0.0.1] by omp1032.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 12:53:18 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 671095.57794.bm@omp1032.mail.ne1.yahoo.com
Received: (qmail 52304 invoked by uid 60001); 5 Jul 2012 12:53:18 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341492798; bh=PZ3qWUCaYpqD6LZtzFyDipMBB1oMFyPx17ISgatiDGw=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=EYc5+4uwwRMXStJuegZcFnEiCF4/lvtqULDDfRg4+xpXGccD5S2Y/VzJKTf6ISVt0S70Z7GBn24h5NrIADk/rUIyOfE70pwmRM07ba97eyUNoYBjv3X9PwTSZPiublx060ITTjS+VPkGNm8zwAspJ2M1UZI8lLQ9p2pCmFYnq6E=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=LK/+YV2CnOeT+CcfDjSEId+1bPfBtht1xaqHjvPXtJTSDBGRj3YfOHxRVTPy7OtXO/iP0CYCOho9/VxLUI5QxCxvVMOqVgApbIxiVgjB3+ebwf4lReTAJeUkl3GzTWSt6f3CoaOU3DOX6Wn2x0gtRX0ABO+B1Yt6tmV6athYoTM=;
X-YMail-OSG: jszc_coVM1ksYrrmDwz_jylw1DnGbZ4u2UJ5iSiOazGHbnt
 wS8pp7B8kZW.mCTbjNYFsI8yJ5Bq7EWF2UXQ3zRoTuLYc7aqSXC7RDjdHcRM
 vjpK0YJTN8_YPdYM2yD1s1KmXRRtK86Jc.qKmEuZ_HaWuTYDLVyVh9znLiX2
 3TD_jNMpbHnjOQ.QMrXqZp2l24EWVuNezmUvoDbdWBOnY1E3Gx1Kvb.uEl9Q
 Oz3EP6tl3DjXcg5XLGnpI_KEcx2AHk3kfZ.j_X1OZpdubyHFhDmZIzDmXCvA
 9bLXGf2C15M43HK__jaZ1NnEUqdMvXbwcMFXSXqRLfU7tmf.5WZ4OS6OsBWq
 HmEkFiySANfiAodDW.uMIQ5RsDge2nOe6ADbRL8hHoHLEyvrZoTaErMlxeXd
 GJztdpmOxGMJtnEGAMVtEqeJV
Received: from [62.134.46.5] by web122305.mail.ne1.yahoo.com via HTTP; Thu, 05 Jul 2012 05:53:18 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com> <CABzHfVkKzqnHb1MvNy_FYW7i9szfGgD07nvS7pK902wU7cyx3g@mail.gmail.com>
Message-ID: <1341492798.50931.YahooMailNeo@web122305.mail.ne1.yahoo.com>
Date: Thu, 5 Jul 2012 05:53:18 -0700 (PDT)
From: Hermes Flying <flyinghermes@yahoo.com>
Reply-To: Hermes Flying <flyinghermes@yahoo.com>
Subject: Re: Tomcat 7 and JIoEndpoint as used in ssl
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABzHfVkKzqnHb1MvNy_FYW7i9szfGgD07nvS7pK902wU7cyx3g@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-947112896-49741103-1341492798=:50931"
X-Virus-Checked: Checked by ClamAV on apache.org

---947112896-49741103-1341492798=:50931
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Ok I will read these thank you.=0ASo essentially you are saying that I can =
not get away by justo overriding the new method delegating to the old one? =
I.e.=0A=0Apublic ServerSocketFactory getServerSocketFactory(AbstractEndpoin=
t endpoint){=0A=A0=A0=A0=A0=A0=A0=A0=A0=A0 return getServerSocketFactory();=
//the existing and worked fine in older Tomcat version=0A=0A}=0A=0Aand call=
 my existing implementation and just ignore the endpoint parameter?=0A=0A=
=0A=0A=0A=0A________________________________=0A From: Konstantin Kolinko <k=
nst.kolinko@gmail.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =
=0ASent: Thursday, July 5, 2012 3:25 PM=0ASubject: Re: Tomcat 7 and JIoEndp=
oint as used in ssl=0A =0A2012/7/5 Hermes Flying <flyinghermes@yahoo.com>:=
=0A> Hi,=0A>=0A> I have build a custom SSL implementation and I use that fo=
r the SSL connectivity in Tomcat.=0A> This was build back in Tomcat 5 and i=
t works in Tomcat 6=0A> But now that we are trying to migrate in Tomcat 7 a=
 change has been done that breaks my implementation.=0A> Specifically the o=
rg.apache.tomcat.util.netSSLImplementation#getServerSocketFactory() has bee=
n changed to=0A>=0A> org.apache.tomcat.util.netSSLImplementation#getServerS=
ocketFactory(AbstractEndpoint endpoint)=0A> at least this is a first differ=
ence I found so far.=0A>=0A> My question is: What is the need/use of this c=
hange?=0A=0Ahttp://svn.apache.org/viewvc?view=3Drevision&revision=3D1044058=
=0A=0A> In the previous version (with no params) my implementation handled =
everything. Am I supposed to do something with the AbstractEndpoint endpoin=
t? I see that this normally is JIoEndpoint. Am I supposed to pass some info=
rmation back to it? Or has this been done just in case someone would need t=
o do that.=0A=0Aorg.apache.tomcat.util.net.jsse.JSSEImplementation extends =
SSLImplementation {=0A(...)=0A=A0 =A0 @Override=0A=A0 =A0 public ServerSock=
etFactory getServerSocketFactory(AbstractEndpoint=0Aendpoint)=A0 {=0A=A0 =
=A0 =A0 =A0 return new JSSESocketFactory(endpoint);=0A=A0 =A0 }=0A}=0A=0Aan=
d JSSESocketFactory uses endpoint a lot.=0A=0A> What is the functionality o=
f JIoEndpoint?=0A=0AThe same as of AbstractEndpoint plus a bit more.=0A=0AE=
ndpoint=0A1. represents the "server socket", on which Tomcat connector list=
ens.=0A2. is responsible for socket management regardless of protocol (HTTP=
,=0AAJP), especially the "server socket" management.=0A3. naturally serves =
as the storage for certain set of configurations=0Aoptions (the ones that a=
re protocol-agnostic and ones that relate to=0Asocket management).=0A=0A=0A=
=0ABest regards,=0AKonstantin Kolinko=0A=0A--------------------------------=
-------------------------------------=0ATo unsubscribe, e-mail: users-unsub=
scribe@tomcat.apache.org=0AFor additional commands, e-mail: users-help@tomc=
at.apache.org
---947112896-49741103-1341492798=:50931--

From users-return-235313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 13:25:05 2012
Return-Path: <users-return-235313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42263D6C7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 13:25:05 +0000 (UTC)
Received: (qmail 28299 invoked by uid 500); 5 Jul 2012 13:25:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27976 invoked by uid 500); 5 Jul 2012 13:25:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27947 invoked by uid 99); 5 Jul 2012 13:25:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 13:25:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 13:24:54 +0000
Received: by vbbfn1 with SMTP id fn1so7273481vbb.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 06:24:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iM4xDwxxC7p0hq7pSrdz3HUzdzyrA29ZqiSYSob1TSU=;
        b=w4lCEbSfp8OoOCbtUzvalE0T52gco4zMK0xWu6m0Hfk+vjKJqtynXJAZnBmUfH2G9j
         p3q1Nlld0hJx1pDNFjP9211RjN1LI8dcH6nqcZ/zh0GDTlYZhAXtZjiBZEZvdhVokqHi
         Ta7HTcuW0EEp/nTogGwCrsDkniPOhItSz8d3b0ggTYpeI+lr5cEhdMLYfwxMxQBSVxL6
         2tgHFzs8GbyilxW98gBSyWXl9XroTMhlYTvgJ4hJEGptRABMvt86JuwBzStNlNs+fLyn
         34i8af2dqee/OGhzGta4cuB2MQcMIDiIBSuKu4bimxCxSpOU8QGVSif2jeKbhkERL7V9
         NHng==
MIME-Version: 1.0
Received: by 10.220.153.136 with SMTP id k8mr12619570vcw.38.1341494673140;
 Thu, 05 Jul 2012 06:24:33 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Thu, 5 Jul 2012 06:24:33 -0700 (PDT)
In-Reply-To: <1341492798.50931.YahooMailNeo@web122305.mail.ne1.yahoo.com>
References: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com>
	<CABzHfVkKzqnHb1MvNy_FYW7i9szfGgD07nvS7pK902wU7cyx3g@mail.gmail.com>
	<1341492798.50931.YahooMailNeo@web122305.mail.ne1.yahoo.com>
Date: Thu, 5 Jul 2012 17:24:33 +0400
Message-ID: <CABzHfVnnLZPn9-FaczV5bOZCpdNohvpNzXsM3cGzpteUZuoj3A@mail.gmail.com>
Subject: Re: Tomcat 7 and JIoEndpoint as used in ssl
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/5 Hermes Flying <flyinghermes@yahoo.com>:
> Ok I will read these thank you.
> So essentially you are saying that I can not get away by justo overriding the new method delegating to the old one? I.e.
>
> public ServerSocketFactory getServerSocketFactory(AbstractEndpoint endpoint){
>           return getServerSocketFactory();//the existing and worked fine in older Tomcat version
>
> }
>
> and call my existing implementation and just ignore the endpoint parameter?

Yes.  ServerSocketFactory does not expose any references to endpoint,
so you can ignore this parameter if you do not need it.

There are 2 implementations of ServerSocketFactory in Tomcat:
DefaultServerSocketFactory,
JSSESocketFactory.
The first one ignores the endpoint. The second one uses it to get some options.


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 13:37:45 2012
Return-Path: <users-return-235314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB2CDDC62
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 13:37:45 +0000 (UTC)
Received: (qmail 76895 invoked by uid 500); 5 Jul 2012 13:37:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76690 invoked by uid 500); 5 Jul 2012 13:37:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76661 invoked by uid 99); 5 Jul 2012 13:37:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 13:37:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.55.146.122] (HELO rto.interno.aibili.pt) (212.55.146.122)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 13:37:35 +0000
Received: from keypoint (keypoint.interno.aibili.pt [192.168.1.205])
	by rto.interno.aibili.pt (Postfix) with ESMTP id 91B771390029
	for <users@tomcat.apache.org>; Thu,  5 Jul 2012 14:37:14 +0100 (WEST)
From: =?iso-8859-1?Q?Ricardo_Sim=F5es?= <rsimoes@aibili.pt>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <00d201cd5aac$70d93410$528b9c30$@aibili.pt> <4FF58DEB.9040201@gmail.com>
In-Reply-To: <4FF58DEB.9040201@gmail.com>
Subject: RE: : setting tomcat in iis
Date: Thu, 5 Jul 2012 14:37:14 +0100
Message-ID: <00ed01cd5ab3$49b38500$dd1a8f00$@aibili.pt>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQF7vbBp29eaNM6GOg4aZRAmleLGPwMlsYBol6S8t9A=
Content-Language: pt

Thanks, I've done a previous search but couldn't find what I was =
looking.

Also I explain my self badly I need to use openclinica that runs in =
Tomcat
and I'm installing it on a windows server 2008 r2 with iis7, iv =
installed
tomcat and it works great with iis closed, I've tried some of the
configurations on the web they don=92t seem to work.

Isn't there a way that I would create a website and point it to tomcat
statup?

thanks


-----Original Message-----
From: Casper Wandahl Schmidt [mailto:kalle.privat@gmail.com]=20
Sent: quinta-feira, 5 de Julho de 2012 13:52
To: users@tomcat.apache.org
Subject: Re: : setting tomcat in iis

http://lmgtfy.com/?q=3Dtomcat+6+iis

Med venlig hilsen/Kind regards
Casper W. Schmidt

Den 05-07-2012 14:48, Ricardo Sim=F5es skrev:
>
> Hi everyone, I think there was a guide that explain how to set tomcat
> 6 with IIS but iv seem to lost the link, does anyone have it?
>
> Thanks
>
> Ricardo Sim=F5es
>
> Description:=20
> C:\Users\Ricardo\AppData\Roaming\Microsoft\Stationery\logo.gif
>
> /Coimbra Coordinating Centre for Clinical Research AIBILI -=20
> Association for Innovation and Biomedical Research on Light and=20
> I//mage Azinhaga de Santa Comba, Celas . 3000-548 Coimbra . Portugal/
> Tel:/+351 239 480 141/
> Fax:/+351 239 480 117/
> E-mail: /rsimoes@aibili.pt/
> Url: /www.aibili.pt <www.aibili.pt/4c_about.php>/
>
> Este e-mail e todos os arquivos anexos s=E3o confidenciais e dever=E3o =
ser=20
> lidos unicamente pelo indiv=EDduo ou entidade a quem s=E3o dirigidos. =
Se=20
> n=E3o for o receptor original, todo o uso, dissemina=E7=E3o, reenvio,=20
> impress=E3o, ou c=F3pia deste e-mail =E9 estritamente proibido. Se =
receber=20
> este e-mail por engano, notifique por favor o remetente.
>
> This e-mail and any files transmitted with it are confidential and are =

> intended solely for the use of the individual or entity to which they=20
> are addressed. If you are not the original recipient, any use,=20
> dissemination, forwarding, printing, or copying of this e-mail is=20
> strictly prohibited. If you received this e-mail in error, please=20
> notify the originator.
>




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 14:00:45 2012
Return-Path: <users-return-235315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 12EC1DD26
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 14:00:45 +0000 (UTC)
Received: (qmail 47806 invoked by uid 500); 5 Jul 2012 14:00:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47604 invoked by uid 500); 5 Jul 2012 14:00:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47559 invoked by uid 99); 5 Jul 2012 14:00:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 14:00:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 14:00:33 +0000
Received: by vcbfo13 with SMTP id fo13so7311255vcb.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 07:00:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=38mBFpg9xhU8HBdUhe1Vurchx9qd32gG9Zv0/h7nGaE=;
        b=ZC3t+vw72qcEd19vhfiGcZdEHmuJZs/X1GjsKD2JNTXRe3FzmLm1jkys3w1qui8a31
         4S5BBWaPRtpFSb8JCzGbj1RhDS+oUJ2HdqWAmgjhOpeKz/wnGzKAG0Ph//nfOq8DQkFp
         2O1FoWrv4fXkSaz9XXoCTQyS9IH5GQLIV9Xhr6wKvMkvQhEtL3e3WGoyyC2ulmppibJk
         hn1ZQ///mK78s9TnPnZmYiNZ4h7o9owcwRxhJHa85EkMUuvqr4KL4Mmr8WE3y8p3VMm8
         PWEVWNqEz3rfqVD8quwasanwfopsrbUGTgN3ulW0udJU5dirivuNskOjLbIJYfKWuIQt
         RmNA==
MIME-Version: 1.0
Received: by 10.52.176.66 with SMTP id cg2mr10650683vdc.121.1341496812127;
 Thu, 05 Jul 2012 07:00:12 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Thu, 5 Jul 2012 07:00:12 -0700 (PDT)
In-Reply-To: <00ed01cd5ab3$49b38500$dd1a8f00$@aibili.pt>
References: <00d201cd5aac$70d93410$528b9c30$@aibili.pt>
	<4FF58DEB.9040201@gmail.com>
	<00ed01cd5ab3$49b38500$dd1a8f00$@aibili.pt>
Date: Thu, 5 Jul 2012 18:00:12 +0400
Message-ID: <CABzHfV=ZVJRnZb7GJE2jv-BLuyS7UYibE6FAM-CVPRbj6nyS1w@mail.gmail.com>
Subject: Re: : setting tomcat in iis
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/7/5 Ricardo Sim=F5es <rsimoes@aibili.pt>:
> Thanks, I've done a previous search but couldn't find what I was looking.
>

You can limit your search by adding "site:tomcat.apache.org"

See
tomcat.apache.org -> Documentation -> Tomcat Connectors -> IIS.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 15:55:30 2012
Return-Path: <users-return-235316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5874CC0E7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 15:55:30 +0000 (UTC)
Received: (qmail 31382 invoked by uid 500); 5 Jul 2012 15:55:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31315 invoked by uid 500); 5 Jul 2012 15:55:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31306 invoked by uid 99); 5 Jul 2012 15:55:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 15:55:26 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.87] (HELO nm24.bullet.mail.ne1.yahoo.com) (98.138.90.87)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jul 2012 15:55:15 +0000
Received: from [98.138.90.56] by nm24.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 15:54:54 -0000
Received: from [98.138.89.166] by tm9.bullet.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 15:54:54 -0000
Received: from [127.0.0.1] by omp1022.mail.ne1.yahoo.com with NNFMP; 05 Jul 2012 15:54:54 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 274199.24379.bm@omp1022.mail.ne1.yahoo.com
Received: (qmail 49467 invoked by uid 60001); 5 Jul 2012 15:54:54 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341503694; bh=uNMVfTp+0sTbXS/U1AdwF5vcRskCDVa9kylKD6hQ/jI=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=NAPLoF1liQgoTM6om3s4h6swfjbRJ4VMAjwnx9Iq8MDPBoWaazbfj/O8A5PZbjFJdQ06w8Puq4enKPlZNAPffWoCQekMh6JzKeb1Iyf4bfMmqNDV7uln4pq5MSf60OaJM369HKKvWotEn6CMVZHSa7+2nTlNy2OpZTXXIBl+njI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=mm48vmboB9jKIoTjoVK4oxZMZXRyv8m662vAjNopp6wGRlG9n487mcJg7UUQxq/auOn/X2VkId1zCBLUqqEx9X74YaQIoAjujKzARWrdUCG1km6Q+BNHnUSBg/mHagYYo3F5S57Iu0xZxmRjPPYopobwa1mDvbwXNt28lU2nVY8=;
X-YMail-OSG: Ia32uigVM1nQXpVb2USG1ELxNgLLkdAvK2_JzYxa0LO7NLU
 AjxTmtTd.Tucv2bUt1zs7A23h3Hq5E1pQZfCPXZTdkfEyx3hbg4SpuO9BN1a
 B444VJZ9SyAaqZhu0ENu_mwBeXWci36oKRzWqaSwmU4R0DEMp8Nx_8ArFHsg
 ffLH1V_cU9l4m4dIb7p7fjX.nzUxH3KAyKH4Wr.v4kia0zpGUmo3900_e6Vo
 crsnc9CHylBPg8F5Be8EiEooCVxMe_q_E_gj5y6Kiz0QzRoGUoJz7WDHE6Hz
 nomEIpghCcB.ovPV.8qMi2ZPgspib1dRXyyT_ZwoOYvT75jh0qrGKAgn4J8u
 FGG.Hif0YBUeejDmlhtkiE.PDPBeZKa_woIIaodOhXr6LGr.1ulfAp0vSvmI
 TnXZ32vQpl6i2zm5GeAiVUKPUBck-
Received: from [87.202.30.123] by web122302.mail.ne1.yahoo.com via HTTP; Thu, 05 Jul 2012 08:54:53 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1341468742.24183.YahooMailNeo@web122306.mail.ne1.yahoo.com> <CABzHfVkKzqnHb1MvNy_FYW7i9szfGgD07nvS7pK902wU7cyx3g@mail.gmail.com> <1341492798.50931.YahooMailNeo@web122305.mail.ne1.yahoo.com> <CABzHfVnnLZPn9-FaczV5bOZCpdNohvpNzXsM3cGzpteUZuoj3A@mail.gmail.com>
Message-ID: <1341503693.48520.YahooMailNeo@web122302.mail.ne1.yahoo.com>
Date: Thu, 5 Jul 2012 08:54:53 -0700 (PDT)
From: Hermes Flying <flyinghermes@yahoo.com>
Reply-To: Hermes Flying <flyinghermes@yahoo.com>
Subject: Re: Tomcat 7 and JIoEndpoint as used in ssl
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABzHfVnnLZPn9-FaczV5bOZCpdNohvpNzXsM3cGzpteUZuoj3A@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1800448838-412895720-1341503693=:48520"

--1800448838-412895720-1341503693=:48520
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Great! So the AbstractEndpoint is only passed in to be accessed if needed a=
nd if I don't need to use it I am ok!=0AI will try this. Hopefully nothing =
will break!=0A=0A=0A=0A________________________________=0A From: Konstantin=
 Kolinko <knst.kolinko@gmail.com>=0ATo: Tomcat Users List <users@tomcat.apa=
che.org> =0ASent: Thursday, July 5, 2012 4:24 PM=0ASubject: Re: Tomcat 7 an=
d JIoEndpoint as used in ssl=0A =0A2012/7/5 Hermes Flying <flyinghermes@yah=
oo.com>:=0A> Ok I will read these thank you.=0A> So essentially you are say=
ing that I can not get away by justo overriding the new method delegating t=
o the old one? I.e.=0A>=0A> public ServerSocketFactory getServerSocketFacto=
ry(AbstractEndpoint endpoint){=0A>=A0 =A0 =A0 =A0 =A0  return getServerSock=
etFactory();//the existing and worked fine in older Tomcat version=0A>=0A> =
}=0A>=0A> and call my existing implementation and just ignore the endpoint =
parameter?=0A=0AYes.=A0 ServerSocketFactory does not expose any references =
to endpoint,=0Aso you can ignore this parameter if you do not need it.=0A=
=0AThere are 2 implementations of ServerSocketFactory in Tomcat:=0ADefaultS=
erverSocketFactory,=0AJSSESocketFactory.=0AThe first one ignores the endpoi=
nt. The second one uses it to get some options.=0A=0A=0ABest regards,=0AKon=
stantin Kolinko=0A=0A------------------------------------------------------=
---------------=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache.o=
rg=0AFor additional commands, e-mail: users-help@tomcat.apache.org
--1800448838-412895720-1341503693=:48520--

From users-return-235317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 16:36:00 2012
Return-Path: <users-return-235317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E544DFC4
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 16:36:00 +0000 (UTC)
Received: (qmail 55752 invoked by uid 500); 5 Jul 2012 16:35:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55584 invoked by uid 500); 5 Jul 2012 16:35:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55574 invoked by uid 99); 5 Jul 2012 16:35:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 16:35:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 16:35:52 +0000
Received: by ghrr14 with SMTP id r14so9779800ghr.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 09:35:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=JTVsKoPiBBgSRiI90os5kKCUDTDscgOMW1NctmNZZ3s=;
        b=r05ZSnu0maULWFrj/PJHYtk36oM8FG3BFkFUBEo7QlxHLnNMUPcv1SRnWjUKBJlKDY
         2Npbt3dh5BHUmnc76ET6OHQ5tf2g33C+DDtXB40D0fN+T739yu9XPPN42TaTtRqZDYjT
         GDFdXdT6eqGIuyP+mqGGfWcgCr7StD8wW5K3c=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=JTVsKoPiBBgSRiI90os5kKCUDTDscgOMW1NctmNZZ3s=;
        b=j8axmn1dMB581Xnj5iWwEhf39ewthOF11895VNun1jqgvZY3bcnMxEkFxiovvlnY8Z
         wac3Vc66nJrw0E5Cr2qj3zQvU4Wf1ldD9S+D++rx+sBy4xVtUuJvYT6q/GpEe1kLByHh
         RF1qRIpDItOguxq/RnLv6/nuh8bqyNPZAWDVHTrZz+bXqJFpaZVB1vo+2x9xhZ/99Mpg
         Y338VVd7gFQYBcmQx6h/pjJf4dqGCdrNouGs4h8/etgJ6AHdt4HzlFukjf2Vp7Ti+hPT
         TmI0ge+O+0SQ4EuNHt2fJwSXfbtflwibAHDDWReQbH3EZkd1Evep6h3kuGjqeFEGVhiZ
         WZRw==
Received: by 10.60.31.237 with SMTP id d13mr8634386oei.27.1341506130593; Thu,
 05 Jul 2012 09:35:30 -0700 (PDT)
References: <CAMohEiyRCqDCX0BBnRP1tpsfPuNO9Q70ytjGT8Xm02SQFbLkGw@mail.gmail.com>
 <4FF21D6A.6070306@pidster.com> <4FF4E4F5.4010007@christopherschultz.net>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <4FF4E4F5.4010007@christopherschultz.net>
Mime-Version: 1.0 (1.0)
Date: Thu, 5 Jul 2012 17:36:05 +0100
Message-ID: <-3452348413310054473@unknownmsgid>
Subject: Re: tomcat filters
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQnksxhdQJvPgCsW4Awu2dmdu5ndHv2XoGKjionRcN8rxBo+88FTyN6oVghZQSkp8r9/ww86
X-Virus-Checked: Checked by ClamAV on apache.org

On 5 Jul 2012, at 01:51, Christopher Schultz
<chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Pid,
>
> On 7/2/12 6:15 PM, Pid wrote:
>> On 02/07/2012 18:34, Varrun Ramani wrote:
>>> Hi
>>>
>>> I am in the process developing a web application firewall(WAF)
>>> for tomcat similar to what mod security does, and am planning to
>>> use the filter API already present in tomcat to intercept
>>> requests and do the filtering. Are there any existing efforts at
>>> doing this for tomcat?
>>
>> Quite a few yes.  Acegi Security (now called Spring Security) for
>> example.
>
> Forgive my ignorance, for I've never used Spring [anything]... does
> ACEGI/SpringSecurity provide features like mod_security, or is it a
> replacement for container-managed J2EE security (or both)?

Bit of both and more.


p


>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/05PUACgkQ9CaO5/Lv0PCYYgCgt0kEVBouJW+C82IdECGowzw/
> ghsAoJJuzr2+9PqGrmWuHqO+anyPUPCP
> =szuF
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 17:06:08 2012
Return-Path: <users-return-235318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA607D0E3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 17:06:08 +0000 (UTC)
Received: (qmail 43218 invoked by uid 500); 5 Jul 2012 17:06:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43170 invoked by uid 500); 5 Jul 2012 17:06:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43159 invoked by uid 99); 5 Jul 2012 17:06:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 17:06:05 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.2.155] (HELO exprod7og101.obsmtp.com) (64.18.2.155)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jul 2012 17:06:00 +0000
Received: from mail-qc0-f173.google.com ([209.85.216.173]) (using TLSv1) by exprod7ob101.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/XJY+wUDj0gSwkvdPcfPGyICnLoYIe1@postini.com; Thu, 05 Jul 2012 10:05:40 PDT
Received: by qcab12 with SMTP id b12so4867410qca.18
        for <users@tomcat.apache.org>; Thu, 05 Jul 2012 10:05:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=QmM1l+BhfBAKQ8MqybTY+3BhnsRmjhfNv+He0GTTIzE=;
        b=VUcT+IYD5OiH3blZBe6n+1Y2uIb8do2lomqTkuMpN6dnWjJoWhWSnWpdH0T7Q5SoBA
         2HM+U3cnfzU0mpvrXbJtbJAXhTBADAYg3UfzFV4QYjC1uKrDOmG6gsnoY3xxONtLcxzt
         7zCtfbg+XFfCC1LkMmmfrDE1V8pZcpRTCjvWf9bKayVcqJjV6s1jqy1RdZ2q7K9OTixF
         7iHu4K8oy9RfFvM+1kjsxYGiuwBsRuiBm1z6n0+eRAJcNFhFX2q/+qjifDqTfxaooOF8
         5wt5PtFDvVy7fjuhNxreWC+F7tDzZDD5m258tsTGa/nLEY9Czy3AZr9sThjXjA9RifRp
         YrwA==
Received: by 10.224.217.74 with SMTP id hl10mr46606448qab.71.1341507938397;
 Thu, 05 Jul 2012 10:05:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Thu, 5 Jul 2012 10:05:18 -0700 (PDT)
In-Reply-To: <4FF4E79B.20203@christopherschultz.net>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net>
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Thu, 5 Jul 2012 13:05:18 -0400
Message-ID: <CALgf6+njs+erusNndm+n2sNKdKQEMTaffqVPFhZ=ziw0ExA60g@mail.gmail.com>
Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf300fb3c521adc504c41828f8
X-Gm-Message-State: ALoCoQkmYwd8brCPAMbxCDbrl8obgOaEDFTdob9Kaw9EWStNaUjG3aMUVvP/A+TEw6BmKPy/zEpH
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf300fb3c521adc504c41828f8
Content-Type: text/plain; charset=ISO-8859-1

Chris,

I don't envision us using that but thanks anyway.
We are looking more at a vendor supported solution because of the many
things the system administration group supports and do not have the
expertise nor time for customized solutions.

But again thanks for offering.

We need to figure out what is causing Tomcat to use 100% of the CPU for
what we currently have in place. We were able to capture a thread dump at
the time of slowdown using a kill -3 but when the logs rotated we lost the
data. Will have to wait for the next slowdown.

On Wed, Jul 4, 2012 at 9:02 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Leonard,
>
> On 7/2/12 4:32 PM, Simon, Leonard wrote:
> > Our goals are as follows:
> >
> > The operating system will be RHEL 6.X.
> >
> > We want to run Apache and Tomcat on a single server running five
> > websites using different ports for each.
> >
> > Our goal is to manage each web server independently, i.e.,
> > separate shutdown and startup scripts and hopefully  different log
> > files for each web server.
> >
> > We noticed the bundled Apache/Tomcat with RedHat might only give us
> > a standard install. Is there a way to do an alternate path
> > install?
> >
> > Thanks and look forward to some ideas on how to accomplish this.
>
> I periodically threaten to post my multi-instance Apache Ant scripts
> to the list. I have recently split my build process into multiple
> build scripts including a build-tomcat.xml which will manage that kind
> of thing for you. It's still not a perfect separation, but it allows
> you to do things like define 'projectname.property=value' in
> ~/.ant.properties, set <project name="name"> in build.xml, then
> duplicate the whole thing over and over again.
>
> So, I have, for instance, "myproject1.tomcat-port" and
> "myproject1.tomcat-shutdown-port", etc. and then (near) duplicates for
> each project. Each developer on a shared dev server gets a batch of
> port numbers assigned for their own uses and then sets those up
> accordingly. Each webapp can also have a separate projectX.tomcat-home
> and projectX.java-home property, so that simply typing 'ant
> tomcat-start' in any project's directory will build an appropriate
> CATALINA_BASE (ports and all) for that webapp and then launch the
> webapp in that instance.
>
> All of this requires a fair amount of infrastructure to set up (build
> scripts, environment-specific server.xml, etc. files, etc.) but once
> it's done it makes your life sooooo much easier.
>
> I can share what I've got, but it will likely require you to heavily
> modify it to work in your environment since it's so deeply integrated
> into our complete build process.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/055sACgkQ9CaO5/Lv0PCr/QCbBAC4LQmZxoMzdtarFxBXHbb8
> qjEAn3ldY08iFkVxlWrEkTLDgfxA7qql
> =ev/P
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf300fb3c521adc504c41828f8--

From users-return-235319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 17:16:13 2012
Return-Path: <users-return-235319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 514B4D11F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 17:16:13 +0000 (UTC)
Received: (qmail 72676 invoked by uid 500); 5 Jul 2012 17:16:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72600 invoked by uid 500); 5 Jul 2012 17:16:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72590 invoked by uid 99); 5 Jul 2012 17:16:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 17:16:09 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_RCVD_USER,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [207.136.225.2] (HELO smtp.gmnet.net) (207.136.225.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 17:16:01 +0000
Received: from www.greenmountainnetwork.com (localhost [127.0.0.1])
	by smtp.gmnet.net (8.14.3/8.14.3/Debian-9.1ubuntu1) with ESMTP id q65HFGcj026952
	for <users@tomcat.apache.org>; Thu, 5 Jul 2012 13:15:16 -0400
Received: from 50.137.107.110
        (SquirrelMail authenticated user rbragg)
        by www.greenmountainnetwork.com with HTTP;
        Thu, 5 Jul 2012 13:15:16 -0400
Message-ID: <dd07abc572d98030185d8837674b9e19.squirrel@www.greenmountainnetwork.com>
Date: Thu, 5 Jul 2012 13:15:16 -0400
Subject: Error Starting webapp.  FAIL - Application at context path /cyclos 
 could not be started.
From: "Rick Bragg" <lists@gmnet.net>
To: users@tomcat.apache.org
User-Agent: SquirrelMail/1.4.20
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
OpenPGP: id=C488DC311B281B17
X-MailScanner-ID: q65HFGcj026952
X-GreenMountainNetwork-MailScanner: Found to be clean
X-GreenMountainNetwork-MailScanner-From: lists@gmnet.net
MailScanner-NULL-Check: 1342113318.2188@8KnFXEIAAukeGB4GALZtaw
X-Old-Spam-Status: No

Hi,

After upgrading one of my web applications (cyclos) I can no longer start up the
web application.  I get the following error:

FAIL - Application at context path /cyclos could not be started.

I tried undoing my upgrade, but I still get errors.  Has anybody run into this? 
What would be the best way to find a solution?

The following is in my catalina log:

-----
Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext start
SEVERE: Error listenerStart
Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext start
SEVERE: Context [/cyclos] startup failed due to previous errors
Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
clearReferencesJdbc
SEVERE: A web application registered the JBDC driver [com.mysql.jdbc.Driver] but
failed to unregister it when the web application was stopped. To prevent a memory
leak, the JDBC Driver has been forcibly unregistered.
Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
clearReferencesThreads
SEVERE: A web application appears to have started a thread named [MySQL Statement
Cancellation Timer] but has failed to stop it. This is very likely to create a
memory leak.
Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
clearThreadLocalMap
SEVERE: A web application created a ThreadLocal with key of type
[java.lang.ThreadLocal] (value [java.lang.ThreadLocal@50ba0dfc]) and a value of
type [org.apache.cxf.bus.CXFBusImpl] (value
[org.apache.cxf.bus.CXFBusImpl@66ec44cb]) but failed to remove it when the web
application was stopped. To prevent a memory leak, the ThreadLocal has been
forcibly removed.

-----

Also, the following is in my localhost log:

-----

Jul 5, 2012 1:03:10 PM org.apache.catalina.core.ApplicationContext log
INFO: HTMLManager: start: Starting web application at '/cyclos'
Jul 5, 2012 1:03:11 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring root WebApplicationContext
Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Exception sending context initialized event to listener instance of class
org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException: Error creating bean with
name 'sessionFactory' defined in class path resource
[nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method failed;
nested exception is java.lang.NoClassDefFoundError:
org/hibernate/type/StandardBasicTypes
Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/StandardBasicTypes
	at nl.strohalm.cyclos.utils.hibernate.PeriodType.<clinit>(PeriodType.java:35)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at
sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at
sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at java.lang.Class.newInstance0(Class.java:355)
	at java.lang.Class.newInstance(Class.java:308)
	at org.hibernate.type.CompositeCustomType.<init>(CompositeCustomType.java:69)
	at org.hibernate.type.TypeFactory.heuristicType(TypeFactory.java:265)
	at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:283)
	at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:276)
	at org.hibernate.mapping.Property.isValid(Property.java:207)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:458)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:215)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1149)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1334)
	at
org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:805)
	at
nl.strohalm.cyclos.spring.CustomSessionFactoryBean.newSessionFactory(CustomSessionFactoryBean.java:61)
	at
org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:745)
	at
org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:134)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1203)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1172)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:427)
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:285)
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)
	at
org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)
	at
org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:189)
	at
org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3972)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4467)
	at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1251)
	at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:613)
	at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:136)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
	at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:558)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.hibernate.type.StandardBasicTypes
	at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1484)
	at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1329)
	... 52 more
Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Exception sending context initialized event to listener instance of class
nl.strohalm.cyclos.http.LifecycleListener
java.lang.RuntimeException:
org.springframework.beans.factory.BeanCreationException: Error creating bean with
name 'sessionFactory' defined in class path resource
[nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method failed;
nested exception is java.lang.NoClassDefFoundError:
org/hibernate/type/StandardBasicTypes
	at nl.strohalm.cyclos.http.LifecycleListener$2.call(LifecycleListener.java:127)
	at nl.strohalm.cyclos.http.LifecycleListener$2.call(LifecycleListener.java:102)
	at nl.strohalm.cyclos.utils.access.LoggedUser.runAsSystem(LoggedUser.java:303)
	at
nl.strohalm.cyclos.http.LifecycleListener.contextInitialized(LifecycleListener.java:102)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3972)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4467)
	at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1251)
	at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:613)
	at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:136)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
	at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:558)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating
bean with name 'sessionFactory' defined in class path resource
[nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method failed;
nested exception is java.lang.NoClassDefFoundError:
org/hibernate/type/StandardBasicTypes
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1175)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:427)
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:285)
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)
	at
org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)
	at
org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:189)
	at
org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)
	... 20 more
Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/StandardBasicTypes
	at nl.strohalm.cyclos.utils.hibernate.PeriodType.<clinit>(PeriodType.java:35)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at
sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at
sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at java.lang.Class.newInstance0(Class.java:355)
	at java.lang.Class.newInstance(Class.java:308)
	at org.hibernate.type.CompositeCustomType.<init>(CompositeCustomType.java:69)
	at org.hibernate.type.TypeFactory.heuristicType(TypeFactory.java:265)
	at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:283)
	at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:276)
	at org.hibernate.mapping.Property.isValid(Property.java:207)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:458)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:215)
	at org.hibernate.cfg.Configuration.validate(Configuration.java:1149)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1334)
	at
org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:805)
	at
nl.strohalm.cyclos.spring.CustomSessionFactoryBean.newSessionFactory(CustomSessionFactoryBean.java:61)
	at
org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:745)
	at
org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:134)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1203)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1172)
	... 30 more
Caused by: java.lang.ClassNotFoundException: org.hibernate.type.StandardBasicTypes
	at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1484)
	at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1329)
	... 52 more
Jul 5, 2012 1:03:22 PM org.apache.catalina.core.ApplicationContext log
INFO: Cyclos
Jul 5, 2012 1:03:23 PM org.apache.catalina.core.ApplicationContext log
INFO: Closing Spring root WebApplicationContext

-----

I am using tomcat6 on Ubuntu 10.04LTS, and my cyclos webapp home is in
/var/lib/tomcat6/webapps/cyclos/

Thanks
Rick






---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul  5 20:00:17 2012
Return-Path: <users-return-235320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C22F4DC52
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  5 Jul 2012 20:00:17 +0000 (UTC)
Received: (qmail 78811 invoked by uid 500); 5 Jul 2012 20:00:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78760 invoked by uid 500); 5 Jul 2012 20:00:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78748 invoked by uid 99); 5 Jul 2012 20:00:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 20:00:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.68] (HELO elasmtp-masked.atl.sa.earthlink.net) (209.86.89.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jul 2012 20:00:04 +0000
Received: from [66.32.161.109] (helo=[192.168.2.50])
	by elasmtp-masked.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SmsDG-0004cg-0R
	for users@tomcat.apache.org; Thu, 05 Jul 2012 15:59:42 -0400
Subject: Re: Error Starting webapp.  FAIL - Application at context path
 /cyclos could not be started.
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <dd07abc572d98030185d8837674b9e19.squirrel@www.greenmountainnetwork.com>
References:
	 <dd07abc572d98030185d8837674b9e19.squirrel@www.greenmountainnetwork.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-fN89CybYA0vCCbv3Qi9i"
Organization: Clifton Farm
Date: Thu, 05 Jul 2012 16:01:23 -0400
Message-ID: <1341518483.30268.2588.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d47813d7db08faec4d2833dc2787b2ba6d11d49a0eaaac869b4a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.161.109

--=-fN89CybYA0vCCbv3Qi9i
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Hi Rick,

On Thu, 2012-07-05 at 13:15 -0400, Rick Bragg wrote:
> Hi,
>=20
> After upgrading one of my web applications (cyclos) I can no longer start=
 up the
> web application.  I get the following error:
>=20
> FAIL - Application at context path /cyclos could not be started.
>=20
> I tried undoing my upgrade, but I still get errors.  Has anybody run into=
 this?=20
> What would be the best way to find a solution?
>=20
Based on the logs you included the root problem is that the Hibernate
class org.hibernate.type.StandardBasicTypes is missing.  If it were me
administering this system I'd start by contacting the vendor with this
log output and ask them to help me get it fixed.

Hibernate is a commonly used framework for accessing objects in a
database.


> The following is in my catalina log:
>=20
> -----
> Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext start
> SEVERE: Error listenerStart
> Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext start
> SEVERE: Context [/cyclos] startup failed due to previous errors
> Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
> clearReferencesJdbc
> SEVERE: A web application registered the JBDC driver [com.mysql.jdbc.Driv=
er] but
> failed to unregister it when the web application was stopped. To prevent =
a memory
> leak, the JDBC Driver has been forcibly unregistered.
> Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
> clearReferencesThreads
> SEVERE: A web application appears to have started a thread named [MySQL S=
tatement
> Cancellation Timer] but has failed to stop it. This is very likely to cre=
ate a
> memory leak.
> Jul 5, 2012 1:03:23 PM org.apache.catalina.loader.WebappClassLoader
> clearThreadLocalMap
> SEVERE: A web application created a ThreadLocal with key of type
> [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@50ba0dfc]) and a va=
lue of
> type [org.apache.cxf.bus.CXFBusImpl] (value
> [org.apache.cxf.bus.CXFBusImpl@66ec44cb]) but failed to remove it when th=
e web
> application was stopped. To prevent a memory leak, the ThreadLocal has be=
en
> forcibly removed.
>=20
> -----
>=20
> Also, the following is in my localhost log:
>=20
> -----
>=20
> Jul 5, 2012 1:03:10 PM org.apache.catalina.core.ApplicationContext log
> INFO: HTMLManager: start: Starting web application at '/cyclos'
> Jul 5, 2012 1:03:11 PM org.apache.catalina.core.ApplicationContext log
> INFO: Initializing Spring root WebApplicationContext
> Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext listenerS=
tart
> SEVERE: Exception sending context initialized event to listener instance =
of class
> org.springframework.web.context.ContextLoaderListener
> org.springframework.beans.factory.BeanCreationException: Error creating b=
ean with
> name 'sessionFactory' defined in class path resource
> [nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method fa=
iled;
> nested exception is java.lang.NoClassDefFoundError:
> org/hibernate/type/StandardBasicTypes
> Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/StandardBas=
icTypes
> 	at nl.strohalm.cyclos.utils.hibernate.PeriodType.<clinit>(PeriodType.jav=
a:35)
> 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
> 	at
> sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAc=
cessorImpl.java:39)
> 	at
> sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConst=
ructorAccessorImpl.java:27)
> 	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
> 	at java.lang.Class.newInstance0(Class.java:355)
> 	at java.lang.Class.newInstance(Class.java:308)
> 	at org.hibernate.type.CompositeCustomType.<init>(CompositeCustomType.jav=
a:69)
> 	at org.hibernate.type.TypeFactory.heuristicType(TypeFactory.java:265)
> 	at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:283)
> 	at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:276)
> 	at org.hibernate.mapping.Property.isValid(Property.java:207)
> 	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:4=
58)
> 	at org.hibernate.mapping.RootClass.validate(RootClass.java:215)
> 	at org.hibernate.cfg.Configuration.validate(Configuration.java:1149)
> 	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.jav=
a:1334)
> 	at
> org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFact=
ory(LocalSessionFactoryBean.java:805)
> 	at
> nl.strohalm.cyclos.spring.CustomSessionFactoryBean.newSessionFactory(Cust=
omSessionFactoryBean.java:61)
> 	at
> org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFa=
ctory(LocalSessionFactoryBean.java:745)
> 	at
> org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterProper=
tiesSet(AbstractSessionFactoryBean.java:134)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1203)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.initializeBean(AbstractAutowireCapableBeanFactory.java:1172)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.createBean(AbstractAutowireCapableBeanFactory.java:427)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject=
(AbstractBeanFactory.java:249)
> 	at
> org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.ge=
tSingleton(DefaultSingletonBeanRegistry.java:155)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory.getBean(Abs=
tractBeanFactory.java:246)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory.getBean(Abs=
tractBeanFactory.java:160)
> 	at
> org.springframework.beans.factory.support.DefaultListableBeanFactory.preI=
nstantiateSingletons(DefaultListableBeanFactory.java:285)
> 	at
> org.springframework.context.support.AbstractApplicationContext.refresh(Ab=
stractApplicationContext.java:352)
> 	at
> org.springframework.web.context.ContextLoader.createWebApplicationContext=
(ContextLoader.java:246)
> 	at
> org.springframework.web.context.ContextLoader.initWebApplicationContext(C=
ontextLoader.java:189)
> 	at
> org.springframework.web.context.ContextLoaderListener.contextInitialized(=
ContextLoaderListener.java:49)
> 	at org.apache.catalina.core.StandardContext.listenerStart(StandardContex=
t.java:3972)
> 	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4=
467)
> 	at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:=
1251)
> 	at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServl=
et.java:613)
> 	at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServl=
et.java:136)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ionFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rChain.java:206)
> 	at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve=
.java:233)
> 	at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve=
.java:191)
> 	at
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorB=
ase.java:558)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j=
ava:127)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j=
ava:102)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal=
ve.java:109)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav=
a:298)
> 	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java=
:859)
> 	at
> org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(H=
ttp11Protocol.java:588)
> 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:48=
9)
> 	at java.lang.Thread.run(Thread.java:662)
> Caused by: java.lang.ClassNotFoundException: org.hibernate.type.StandardB=
asicTypes
> 	at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1484)
> 	at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1329)
> 	... 52 more
> Jul 5, 2012 1:03:22 PM org.apache.catalina.core.StandardContext listenerS=
tart
> SEVERE: Exception sending context initialized event to listener instance =
of class
> nl.strohalm.cyclos.http.LifecycleListener
> java.lang.RuntimeException:
> org.springframework.beans.factory.BeanCreationException: Error creating b=
ean with
> name 'sessionFactory' defined in class path resource
> [nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method fa=
iled;
> nested exception is java.lang.NoClassDefFoundError:
> org/hibernate/type/StandardBasicTypes
> 	at nl.strohalm.cyclos.http.LifecycleListener$2.call(LifecycleListener.ja=
va:127)
> 	at nl.strohalm.cyclos.http.LifecycleListener$2.call(LifecycleListener.ja=
va:102)
> 	at nl.strohalm.cyclos.utils.access.LoggedUser.runAsSystem(LoggedUser.jav=
a:303)
> 	at
> nl.strohalm.cyclos.http.LifecycleListener.contextInitialized(LifecycleLis=
tener.java:102)
> 	at org.apache.catalina.core.StandardContext.listenerStart(StandardContex=
t.java:3972)
> 	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4=
467)
> 	at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:=
1251)
> 	at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServl=
et.java:613)
> 	at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServl=
et.java:136)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ionFilterChain.java:290)
> 	at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rChain.java:206)
> 	at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve=
.java:233)
> 	at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve=
.java:191)
> 	at
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorB=
ase.java:558)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j=
ava:127)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j=
ava:102)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal=
ve.java:109)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav=
a:298)
> 	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java=
:859)
> 	at
> org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(H=
ttp11Protocol.java:588)
> 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:48=
9)
> 	at java.lang.Thread.run(Thread.java:662)
> Caused by: org.springframework.beans.factory.BeanCreationException: Error=
 creating
> bean with name 'sessionFactory' defined in class path resource
> [nl/strohalm/cyclos/spring/persistence.xml]: Invocation of init method fa=
iled;
> nested exception is java.lang.NoClassDefFoundError:
> org/hibernate/type/StandardBasicTypes
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.initializeBean(AbstractAutowireCapableBeanFactory.java:1175)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.createBean(AbstractAutowireCapableBeanFactory.java:427)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject=
(AbstractBeanFactory.java:249)
> 	at
> org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.ge=
tSingleton(DefaultSingletonBeanRegistry.java:155)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory.getBean(Abs=
tractBeanFactory.java:246)
> 	at
> org.springframework.beans.factory.support.AbstractBeanFactory.getBean(Abs=
tractBeanFactory.java:160)
> 	at
> org.springframework.beans.factory.support.DefaultListableBeanFactory.preI=
nstantiateSingletons(DefaultListableBeanFactory.java:285)
> 	at
> org.springframework.context.support.AbstractApplicationContext.refresh(Ab=
stractApplicationContext.java:352)
> 	at
> org.springframework.web.context.ContextLoader.createWebApplicationContext=
(ContextLoader.java:246)
> 	at
> org.springframework.web.context.ContextLoader.initWebApplicationContext(C=
ontextLoader.java:189)
> 	at
> org.springframework.web.context.ContextLoaderListener.contextInitialized(=
ContextLoaderListener.java:49)
> 	... 20 more
> Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/StandardBas=
icTypes
> 	at nl.strohalm.cyclos.utils.hibernate.PeriodType.<clinit>(PeriodType.jav=
a:35)
> 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
> 	at
> sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAc=
cessorImpl.java:39)
> 	at
> sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConst=
ructorAccessorImpl.java:27)
> 	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
> 	at java.lang.Class.newInstance0(Class.java:355)
> 	at java.lang.Class.newInstance(Class.java:308)
> 	at org.hibernate.type.CompositeCustomType.<init>(CompositeCustomType.jav=
a:69)
> 	at org.hibernate.type.TypeFactory.heuristicType(TypeFactory.java:265)
> 	at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:283)
> 	at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:276)
> 	at org.hibernate.mapping.Property.isValid(Property.java:207)
> 	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:4=
58)
> 	at org.hibernate.mapping.RootClass.validate(RootClass.java:215)
> 	at org.hibernate.cfg.Configuration.validate(Configuration.java:1149)
> 	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.jav=
a:1334)
> 	at
> org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFact=
ory(LocalSessionFactoryBean.java:805)
> 	at
> nl.strohalm.cyclos.spring.CustomSessionFactoryBean.newSessionFactory(Cust=
omSessionFactoryBean.java:61)
> 	at
> org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFa=
ctory(LocalSessionFactoryBean.java:745)
> 	at
> org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterProper=
tiesSet(AbstractSessionFactoryBean.java:134)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1203)
> 	at
> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFact=
ory.initializeBean(AbstractAutowireCapableBeanFactory.java:1172)
> 	... 30 more
> Caused by: java.lang.ClassNotFoundException: org.hibernate.type.StandardB=
asicTypes
> 	at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1484)
> 	at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1329)
> 	... 52 more
> Jul 5, 2012 1:03:22 PM org.apache.catalina.core.ApplicationContext log
> INFO: Cyclos
> Jul 5, 2012 1:03:23 PM org.apache.catalina.core.ApplicationContext log
> INFO: Closing Spring root WebApplicationContext
>=20
> -----
>=20
> I am using tomcat6 on Ubuntu 10.04LTS, and my cyclos webapp home is in
> /var/lib/tomcat6/webapps/cyclos/
>=20
> Thanks
> Rick
>=20
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-fN89CybYA0vCCbv3Qi9i
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJP9fKTAAoJEAfDBXDHBQilEhwIAK0mU7Jbo0tIla5zUmMLPfCc
n9/cqvWSy4vjQoOvONSjUPSwdVM08aG7HOSRiCRQlFuLkEFKLuIJ2dTPBpinhYkD
AZXu28t4bmjI3t7MIPPv1tU/EqKAmUSMn7D0NBIickiVVb+bi79/9PEyje/aqHU9
xbBRCEcebftk/Oal6SuH8Mq1L2Gh/BdPs8XWMpKvm9VbHqeEK7FHx0zp+Q46P2h6
+PcuKovlD1h7e4dUN+Bq1VPXSFEkMdz9tH6qYUMgz8T2WCLS98J05NBLkT0vw8cD
m9eb0Sea0dwIX1dvGaeknjW9jRnkFjzZXvVg0JRddhpSi5FlQRwAulgS+5UQ9tQ=
=5+jx
-----END PGP SIGNATURE-----

--=-fN89CybYA0vCCbv3Qi9i--


From users-return-235321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 02:55:03 2012
Return-Path: <users-return-235321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 272FD9D85
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 02:55:02 +0000 (UTC)
Received: (qmail 99523 invoked by uid 500); 6 Jul 2012 02:54:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99372 invoked by uid 500); 6 Jul 2012 02:54:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99297 invoked by uid 99); 6 Jul 2012 02:54:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 02:54:53 +0000
X-ASF-Spam-Status: No, hits=3.9 required=5.0
	tests=FILL_THIS_FORM_FRAUD_PHISH,FROM_12LTRDOM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FILL_THIS_FORM_SHORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of russt@releasetools.org designates 69.89.24.6 as permitted sender)
Received: from [69.89.24.6] (HELO oproxy9.bluehost.com) (69.89.24.6)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jul 2012 02:54:44 +0000
Received: (qmail 2039 invoked by uid 0); 6 Jul 2012 02:54:21 -0000
Received: from unknown (HELO box771.bluehost.com) (66.147.244.71)
  by oproxy9.bluehost.com with SMTP; 6 Jul 2012 02:54:21 -0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=releasetools.org; s=default;
	h=Content-Type:Cc:Subject:From:To:Date:Message-Id:Mime-Version; bh=bXBlsJXB4E7VNktHMbgDkE4nItQS9g39h5U1lx1a3HM=;
	b=M0irOYLbW8ZTYKXVAfzC6YeH89XxQ/PVIA+OitfdIu0EyafJjTTOX0i/B4IHIMB/Aa2XO3CHXopH3JUeZbSwEP9VAFZ2bC/2CkBGMhhQDFudKnZ0KXryyvWKiimOP5mE;
Received: from [69.109.119.100] (port=49395 helo=[204.68.225.24])
	by box771.bluehost.com with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.76)
	(envelope-from <russt@releasetools.org>)
	id 1SmygX-0005Kg-Ic; Thu, 05 Jul 2012 20:54:21 -0600
Mime-Version: 1.0
Message-Id: <p06240800cc1bff9929a3@[10.1.125.126]>
Date: Thu, 5 Jul 2012 19:54:19 -0700
To: Olivier Lamy <olamy@apache.org>
From: Russ Tremain <russt@releasetools.org>
Subject: confused by tomcat6/7 docs
Cc: users@tomcat.apache.org
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Identified-User: {1266:box771.bluehost.com:release5:releasetools.org} {sentby:smtp auth 69.109.119.100 authed with russt+releasetools.org}

Hi Oliver,

I must say I'm a bit confused by the examples & docs for tomcat7-maven-plugin.

I see reference to a "war:explode" goal, which doesn't seem to exist. 
The reference is here:

	http://tomcat.apache.org/maven-plugin-2.0-beta-1/context-goals.html

But when I dump the plugin documentation [1], I see no such goal.

What I would like to find out about the possibility to deploy an 
exploded war image to a local tomcat instance.

I've been successfully using the deploy (tomcat7:deploy) goal, but my 
developers are complaining that it is too slow.  I need to work out a 
method to use an exploded war.

Any help appreciated...

thanks!
-Russ

[1] mvn -Dplugin=tomcat7 -DgroupId=org.apache.tomcat.maven -Dfull help:describe
...
[INFO] org.apache.tomcat.maven:tomcat7-maven-plugin:2.0-beta-1

Name: Apache Tomcat Maven Plugin :: Tomcat 7.x
Description: The Tomcat Maven Plugin provides goals to manipulate WAR
   projects within the Tomcat 7.x servlet container.
Group Id: org.apache.tomcat.maven
Artifact Id: tomcat7-maven-plugin
Version: 2.0-beta-1
Goal Prefix: tomcat7

This plugin has 8 goals:

tomcat7:deploy
   Description: Deploy a WAR to Tomcat.
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployMojo
   Language: java
   Before this mojo executes, it will call:
     Phase: 'package'

   Available parameters:

     charset (Default: ISO-8859-1)
       The URL encoding charset to use when communicating with Tomcat manager.

     contextFile
       The path of the Tomcat context XML file. This is not used for war
       deployment mode.

     ignorePackaging (Default: false)
       If set to true ignore if packaging of project is not 'war'.

     mode (Default: war)
       The deployment mode to use. This must be either war to deploy the war,
       context to deploy the context XML file, or both to deploy the war with
       the context XML file.

     password
       The password to use for deployment

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

     server
       The server id in settings.xml to use when authenticating with Tomcat
       manager, or null to use defaults of username admin and no password.

     tag
       The Tomcat webapp tag name to use.

     update (Default: false)
       Whether Tomcat should automatically undeploy webapps that already exist
       when deploying.

     url (Default: http://localhost:8080/manager/html)
       The full URL of the Tomcat manager instance to use.

     username
       The tomcat username to use for deployment

     warFile
       The path of the WAR file to deploy.

tomcat7:deploy-only
   Description: Deploy a WAR to Tomcat witjout forking the package lifecycle
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployOnlyMojo
   Language: java

   Available parameters:

     charset (Default: ISO-8859-1)
       The URL encoding charset to use when communicating with Tomcat manager.

     contextFile
       The path of the Tomcat context XML file. This is not used for war
       deployment mode.

     ignorePackaging (Default: false)
       If set to true ignore if packaging of project is not 'war'.

     mode (Default: war)
       The deployment mode to use. This must be either war to deploy the war,
       context to deploy the context XML file, or both to deploy the war with
       the context XML file.

     password
       The password to use for deployment

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

     server
       The server id in settings.xml to use when authenticating with Tomcat
       manager, or null to use defaults of username admin and no password.

     tag
       The Tomcat webapp tag name to use.

     update (Default: false)
       Whether Tomcat should automatically undeploy webapps that already exist
       when deploying.

     url (Default: http://localhost:8080/manager/html)
       The full URL of the Tomcat manager instance to use.

     username
       The tomcat username to use for deployment

     warFile
       The path of the WAR file to deploy.

tomcat7:exec-war
   Description: (no description available)
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarMojo
   Language: java
   Before this mojo executes, it will call:
     Phase: 'package'

   Available parameters:

     accessLogValveFormat (Default: %h %l %u %t )
       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html

     attachArtifact (Default: true)
       Attach or not the generated artifact to the build (use true if you want
       to install or deploy it)

     attachArtifactClassifier (Default: exec-war)
       the classifier to use for the attached/generated artifact

     attachArtifactClassifierType (Default: jar)
       the type to use for the attached/generated artifact

     buildDirectory (Default: ${project.build.directory})
       (no description available)

     connectorHttpProtocol (Default: HTTP/1.1)
       which connector protocol to use HTTP/1.1 or
       org.apache.coyote.http11.Http11NioProtocol

     enableNaming (Default: false)
       to enable naming when starting tomcat

     extraDependencies
       list of extra dependencies to add in the standalone tomcat jar: your jdbc
       driver, mail.jar etc.. Those dependencies will be in root classloader.

     extraResources
       list of extra resources to add in the standalone tomcat jar: your logger
       configuration etc

     finalName (Default: ${project.artifactId}-${project.version}-war-exec.jar)
       Name of the generated exec JAR.

     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
       Main class to use for starting the standalone jar.

     path (Default: ${project.artifactId})
       The webapp context path to use for the web application being run. The
       name to store webapp in exec jar. Do not use /

     pluginArtifacts (Default: ${plugin.artifacts})
       (no description available)

     serverXml (Default: src/main/tomcatconf/server.xml)
       (no description available)

     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
       (no description available)

     warRunDependencies
       (no description available)

tomcat7:exec-war-only
   Description: (no description available)
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarOnlyMojo
   Language: java

   Available parameters:

     accessLogValveFormat (Default: %h %l %u %t )
       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html

     attachArtifact (Default: true)
       Attach or not the generated artifact to the build (use true if you want
       to install or deploy it)

     attachArtifactClassifier (Default: exec-war)
       the classifier to use for the attached/generated artifact

     attachArtifactClassifierType (Default: jar)
       the type to use for the attached/generated artifact

     buildDirectory (Default: ${project.build.directory})
       (no description available)

     connectorHttpProtocol (Default: HTTP/1.1)
       which connector protocol to use HTTP/1.1 or
       org.apache.coyote.http11.Http11NioProtocol

     enableNaming (Default: false)
       to enable naming when starting tomcat

     extraDependencies
       list of extra dependencies to add in the standalone tomcat jar: your jdbc
       driver, mail.jar etc.. Those dependencies will be in root classloader.

     extraResources
       list of extra resources to add in the standalone tomcat jar: your logger
       configuration etc

     finalName (Default: ${project.artifactId}-${project.version}-war-exec.jar)
       Name of the generated exec JAR.

     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
       Main class to use for starting the standalone jar.

     path (Default: ${project.artifactId})
       The webapp context path to use for the web application being run. The
       name to store webapp in exec jar. Do not use /

     pluginArtifacts (Default: ${plugin.artifacts})
       (no description available)

     serverXml (Default: src/main/tomcatconf/server.xml)
       (no description available)

     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
       (no description available)

     warRunDependencies
       (no description available)

tomcat7:run
   Description: Runs the current project as a dynamic web application using an
     embedded Tomcat server.
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo
   Language: java
   Before this mojo executes, it will call:
     Phase: 'compile'

   Available parameters:

     addContextWarDependencies (Default: false)
       Will create a tomcat context for each dependencies of war type with
       'scope' set to 'tomcat'. In other words, dependencies with:
          <type>war</type>
          <scope>tomcat</scope>
       To preserve backward compatibility it's false by default.

     additionalClasspathDirs
       Additional optional directories to add to the embedded tomcat classpath.

     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
       The directory contains additional configuration Files that copied in the
       Tomcat conf Directory.

     addWarDependenciesInClassloader (Default: true)
       will add /WEB-INF/lib/*.jar and /WEB-INF/classes from war dependencies in
       the webappclassloader

     ajpPort (Default: 0)
       The AJP port to run the Tomcat server on. By default it's 0 this means
       won't be started. The ajp connector will be started only for value > 0.

     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
       The AJP protocol to run the Tomcat server on. By default it's ajp. NOTE
       The ajp connector will be started only if ajpPort > 0. possible values
       are:
       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
         supports an executor
       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.

     backgroundProcessorDelay (Default: -1)
       represents the delay in seconds between each classPathScanning change
       invocation

     configurationDir
       The directory to create the Tomcat server configuration under.

     contextFile
       The path of the Tomcat context XML file.

     contextReloadable (Default: false)
       Force context scanning if you don't use a context file with reloadable =
       'true'. The other way to use contextReloadable is to add attribute
       reloadable = 'true' in your context file.

     delegate (Default: true)
       Set the 'follow standard delegation model' flag used to configure our
       ClassLoader.

     fork (Default: false)
       Set this to true to allow Maven to continue to execute after invoking the
       run goal.

     httpsPort (Default: 0)
       The https port to run the Tomcat server on. By default it's 0 this means
       won't be started. The https connector will be started only for value > 0.

     ignorePackaging (Default: false)
       If set to true ignore if packaging of project is not 'war'.

     keystoreFile
       Override the default keystoreFile for the HTTPS connector (if enabled)

     keystorePass
       Override the default keystorePass for the HTTPS connector (if enabled)

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

     pluginArtifacts
       (no description available)

     port (Default: 8080)
       The port to run the Tomcat server on.

     protocol (Default: HTTP/1.1)
       The protocol to run the Tomcat server on. By default it's HTTP/1.1.

     serverXml
       server.xml to use Note if you use this you must configure in this file
       your webapp paths.

     systemProperties
       List of System properties to pass to the Tomcat Server.

     tomcatLoggingFile
       The path of the Tomcat logging configuration.

     tomcatUsers
       The path of the Tomcat users XML file.

     tomcatWebXml
       overriding the providing web.xml to run tomcat

     uriEncoding (Default: ISO-8859-1)
       The character encoding to use for decoding URIs.

     useNaming (Default: true)
       Enables or disables naming support for the embedded Tomcat server.

       Note: This setting is ignored if you provide a server.xml for your
       Tomcat. Instead please configure naming in the server.xml.

     useSeparateTomcatClassLoader (Default: false)
       if true a new classLoader separated from maven core will be created to
       start tomcat.

     useTestClasspath (Default: false)
       will use the test classpath rather than the compile one and will add test
       dependencies too

     warSourceDirectory (Default: ${basedir}/src/main/webapp)
       The web resources directory for the web application being run.

tomcat7:run-war
   Description: Runs the current project as a packaged web application using
     an embedded Tomcat server.
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarMojo
   Language: java
   Before this mojo executes, it will call:
     Phase: 'package'

   Available parameters:

     addContextWarDependencies (Default: false)
       Will create a tomcat context for each dependencies of war type with
       'scope' set to 'tomcat'. In other words, dependencies with:
          <type>war</type>
          <scope>tomcat</scope>
       To preserve backward compatibility it's false by default.

     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
       The directory contains additional configuration Files that copied in the
       Tomcat conf Directory.

     ajpPort (Default: 0)
       The AJP port to run the Tomcat server on. By default it's 0 this means
       won't be started. The ajp connector will be started only for value > 0.

     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
       The AJP protocol to run the Tomcat server on. By default it's ajp. NOTE
       The ajp connector will be started only if ajpPort > 0. possible values
       are:
       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
         supports an executor
       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.

     configurationDir
       The directory to create the Tomcat server configuration under.

     contextFile
       The path of the Tomcat context XML file.

     contextReloadable (Default: false)
       Force context scanning if you don't use a context file with reloadable =
       'true'. The other way to use contextReloadable is to add attribute
       reloadable = 'true' in your context file.

     fork (Default: false)
       Set this to true to allow Maven to continue to execute after invoking the
       run goal.

     httpsPort (Default: 0)
       The https port to run the Tomcat server on. By default it's 0 this means
       won't be started. The https connector will be started only for value > 0.

     ignorePackaging (Default: false)
       If set to true ignore if packaging of project is not 'war'.

     keystoreFile
       Override the default keystoreFile for the HTTPS connector (if enabled)

     keystorePass
       Override the default keystorePass for the HTTPS connector (if enabled)

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

     pluginArtifacts
       (no description available)

     port (Default: 8080)
       The port to run the Tomcat server on.

     protocol (Default: HTTP/1.1)
       The protocol to run the Tomcat server on. By default it's HTTP/1.1.

     serverXml
       server.xml to use Note if you use this you must configure in this file
       your webapp paths.

     systemProperties
       List of System properties to pass to the Tomcat Server.

     tomcatLoggingFile
       The path of the Tomcat logging configuration.

     tomcatUsers
       The path of the Tomcat users XML file.

     tomcatWebXml
       overriding the providing web.xml to run tomcat

     uriEncoding (Default: ISO-8859-1)
       The character encoding to use for decoding URIs.

     useNaming (Default: true)
       Enables or disables naming support for the embedded Tomcat server.

       Note: This setting is ignored if you provide a server.xml for your
       Tomcat. Instead please configure naming in the server.xml.

     useSeparateTomcatClassLoader (Default: false)
       if true a new classLoader separated from maven core will be created to
       start tomcat.

     warDirectory
       The path of the exploded WAR directory to run.

tomcat7:run-war-only
   Description: Runs the current project as a packaged web application using
     an embedded Tomcat server without forking the package cycle.
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarOnlyMojo
   Language: java

   Available parameters:

     addContextWarDependencies (Default: false)
       Will create a tomcat context for each dependencies of war type with
       'scope' set to 'tomcat'. In other words, dependencies with:
          <type>war</type>
          <scope>tomcat</scope>
       To preserve backward compatibility it's false by default.

     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
       The directory contains additional configuration Files that copied in the
       Tomcat conf Directory.

     ajpPort (Default: 0)
       The AJP port to run the Tomcat server on. By default it's 0 this means
       won't be started. The ajp connector will be started only for value > 0.

     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
       The AJP protocol to run the Tomcat server on. By default it's ajp. NOTE
       The ajp connector will be started only if ajpPort > 0. possible values
       are:
       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
         supports an executor
       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.

     configurationDir
       The directory to create the Tomcat server configuration under.

     contextFile
       The path of the Tomcat context XML file.

     contextReloadable (Default: false)
       Force context scanning if you don't use a context file with reloadable =
       'true'. The other way to use contextReloadable is to add attribute
       reloadable = 'true' in your context file.

     fork (Default: false)
       Set this to true to allow Maven to continue to execute after invoking the
       run goal.

     httpsPort (Default: 0)
       The https port to run the Tomcat server on. By default it's 0 this means
       won't be started. The https connector will be started only for value > 0.

     ignorePackaging (Default: false)
       If set to true ignore if packaging of project is not 'war'.

     keystoreFile
       Override the default keystoreFile for the HTTPS connector (if enabled)

     keystorePass
       Override the default keystorePass for the HTTPS connector (if enabled)

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

     pluginArtifacts
       (no description available)

     port (Default: 8080)
       The port to run the Tomcat server on.

     protocol (Default: HTTP/1.1)
       The protocol to run the Tomcat server on. By default it's HTTP/1.1.

     serverXml
       server.xml to use Note if you use this you must configure in this file
       your webapp paths.

     systemProperties
       List of System properties to pass to the Tomcat Server.

     tomcatLoggingFile
       The path of the Tomcat logging configuration.

     tomcatUsers
       The path of the Tomcat users XML file.

     tomcatWebXml
       overriding the providing web.xml to run tomcat

     uriEncoding (Default: ISO-8859-1)
       The character encoding to use for decoding URIs.

     useNaming (Default: true)
       Enables or disables naming support for the embedded Tomcat server.

       Note: This setting is ignored if you provide a server.xml for your
       Tomcat. Instead please configure naming in the server.xml.

     useSeparateTomcatClassLoader (Default: false)
       if true a new classLoader separated from maven core will be created to
       start tomcat.

     warDirectory
       The path of the exploded WAR directory to run.

tomcat7:shutdown
   Description: Shuts down all possibly started embedded tomcat servers. This
     will be automatically down through a shutdown hook or you may call this
     Mojo to shut them down explictly.

     By default the shutdown goal is not bound to any phase. For integration
     tests you might want to bind it to post-integration-test.
   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ShutdownMojo
   Language: java

   Available parameters:

     path (Default: /${project.artifactId})
       The webapp context path to use for the web application being run. This
       must always start with a forward-slash ('/').

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 09:05:27 2012
Return-Path: <users-return-235322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C952D9C8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 09:05:27 +0000 (UTC)
Received: (qmail 72408 invoked by uid 500); 6 Jul 2012 09:05:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72256 invoked by uid 500); 6 Jul 2012 09:05:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72218 invoked by uid 99); 6 Jul 2012 09:05:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 09:05:22 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of arujohn@cisco.com designates 173.37.86.78 as permitted sender)
Received: from [173.37.86.78] (HELO rcdn-iport-7.cisco.com) (173.37.86.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 09:05:13 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=arujohn@cisco.com; l=17905; q=dns/txt;
  s=iport; t=1341565512; x=1342775112;
  h=from:to:subject:date:message-id:mime-version;
  bh=Z/M/9Qu6fWmXy3pIcdITd7XsSOIq+Q/xQqDL/qu2lVQ=;
  b=j6UeqimY/V5zNpqTUUnatfOPSnq59WV2hb9EE63h0A7VIEgl4bzYq68+
   Fxj3RobNA7u6RoDFC9CHCgkrep18BRPnjCop6padeUatVXon5F6Qy4cKt
   NaxofwEvptm0ivNECa6fdL9Jh0aOkbpClaFCti2vvMj7Sv0cXJr17oyNK
   c=;
X-Files: catalina.2012-07-06.log : 7827
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av8EAESp9k+tJXG+/2dsb2JhbABFgki0cIEHghoBBBIBGl4BKg4YMCYBBBsGDQeHaQuYbYEooB0EjkWCOmADjkmVC4Fmgl8
X-IronPort-AV: E=Sophos;i="4.77,536,1336348800"; 
   d="log'?scan'208,217";a="99316120"
Received: from rcdn-core2-3.cisco.com ([173.37.113.190])
  by rcdn-iport-7.cisco.com with ESMTP; 06 Jul 2012 09:04:51 +0000
Received: from xhc-rcd-x06.cisco.com (xhc-rcd-x06.cisco.com [173.37.183.80])
	by rcdn-core2-3.cisco.com (8.14.5/8.14.5) with ESMTP id q6694pVU007179
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <users@tomcat.apache.org>; Fri, 6 Jul 2012 09:04:51 GMT
Received: from xmb-aln-x11.cisco.com ([169.254.6.238]) by
 xhc-rcd-x06.cisco.com ([173.37.183.80]) with mapi id 14.02.0298.004; Fri, 6
 Jul 2012 04:04:50 -0500
From: "Arun John (arujohn)" <arujohn@cisco.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Topic: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Index: Ac1bVmQzjohvxqAjRieGvfcg+IdxWQ==
Date: Fri, 6 Jul 2012 09:04:50 +0000
Message-ID: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
x-originating-ip: [10.142.44.213]
x-tm-as-product-ver: SMEX-10.2.0.1135-7.000.1014-19022.003
x-tm-as-result: No--34.620400-8.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: multipart/mixed;
	boundary="_004_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_"
MIME-Version: 1.0

--_004_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_
Content-Type: multipart/alternative;
	boundary="_000_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_"

--_000_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Team,

I am currently facing an issue with SSL configuration in Tomcat 7.0.27. I h=
ave one keystore with three private keys to be used by different components=
 . The password I am using for the keystore file is "changed". The requirem=
ent is such that I should be using three different password for the three p=
rivate keys I store in my keystore. I have configured my server.xml to allo=
w https connections, basically modified the connectors.

<Connector port=3D"7443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"
               maxThreads=3D"150" scheme=3D"https" secure=3D"true"
               clientAuth=3D"false" sslProtocol=3D"TLS"  keyAlias =3D"admin=
uicert" keystoreFile=3D"bin/.keystore" keystorePass=3D"changed"/>

I am running into an issue here. When I configure different key passwords f=
or my private keys different from my keystore password I am running into an=
 exception saying it cannot recover the key. I have attached the catalina l=
og.  I am not finding a way to provide the private key password in the serv=
er.xml

When I googled, I found that in Tomcat 5.5 it was not possible and found th=
e below bug. Not sure whether the bug is fixed in latest release
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D38217

It says that if any of the passphrase is different, it cannot recover the k=
ey. Also it says that tomcat treats the keypass and keystorePass as the sam=
e. I also tried setting the adminuicert keyAlias with the same password as =
the keystore. Even then it is not working.
Right now I am clueless on how to fix the issue. It would be of great help,=
 if someone can help me with a solution/workaround

Regards,
Arun

--_000_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 14 (filtered medium)">
<style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri","sans-serif";}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal">Hi Team,<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">I am currently facing an issue with SSL configuratio=
n in Tomcat 7.0.27. I have one keystore with three private keys to be used =
by different components . The password I am using for the keystore file is =
&#8220;changed&#8221;. The requirement is such
 that I should be using three different password for the three private keys=
 I store in my keystore. I have configured my server.xml to allow https con=
nections, basically modified the connectors.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><b>&lt;Connector port=3D&quot;7443&quot; protocol=3D=
&quot;HTTP/1.1&quot; SSLEnabled=3D&quot;true&quot;<o:p></o:p></b></p>
<p class=3D"MsoNormal"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxThreads=3D&quot;150&quot; scheme=3D&=
quot;https&quot; secure=3D&quot;true&quot;<o:p></o:p></b></p>
<p class=3D"MsoNormal"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clientAuth=3D&quot;false&quot; sslProto=
col=3D&quot;TLS&quot;&nbsp; keyAlias =3D&#8221;adminuicert&#8221; keystoreF=
ile=3D&quot;bin/.keystore&quot; keystorePass=3D&quot;changed&quot;/&gt;<o:p=
></o:p></b></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">I am running into an issue here. When I configure di=
fferent key passwords for my private keys different from my keystore passwo=
rd I am running into an exception saying it cannot recover the key. I have =
attached the catalina log. &nbsp;I am not
 finding a way to provide the private key password in the server.xml<o:p></=
o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">When I googled, I found that in Tomcat 5.5 it was no=
t possible and found the below bug. Not sure whether the bug is fixed in la=
test release<o:p></o:p></p>
<p class=3D"MsoNormal"><a href=3D"https://issues.apache.org/bugzilla/show_b=
ug.cgi?id=3D38217">https://issues.apache.org/bugzilla/show_bug.cgi?id=3D382=
17</a><o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">It says that if any of the passphrase is different, =
it cannot recover the key. Also it says that tomcat treats the keypass and =
keystorePass as the same. I also tried setting the adminuicert keyAlias wit=
h the same password as the keystore.
 Even then it is not working.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p></o:p></p>
<p class=3D"MsoNormal">Right now I am clueless on how to fix the issue. It =
would be of great help, if someone can help me with a solution/workaround<o=
:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Regards,<o:p></o:p></p>
<p class=3D"MsoNormal">Arun<o:p></o:p></p>
</div>
</body>
</html>

--_000_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_--


--_004_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--_004_D31CAEA689ABF34F800995A54075B11B028CCFxmbalnx11ciscocom_--

From users-return-235323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 09:07:39 2012
Return-Path: <users-return-235323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 582E9D9D7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 09:07:39 +0000 (UTC)
Received: (qmail 79286 invoked by uid 500); 6 Jul 2012 09:07:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79194 invoked by uid 500); 6 Jul 2012 09:07:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79184 invoked by uid 99); 6 Jul 2012 09:07:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 09:07:35 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of arujohn@cisco.com designates 173.37.86.78 as permitted sender)
Received: from [173.37.86.78] (HELO rcdn-iport-7.cisco.com) (173.37.86.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 09:07:26 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=arujohn@cisco.com; l=32680; q=dns/txt;
  s=iport; t=1341565645; x=1342775245;
  h=from:to:subject:date:message-id:references:in-reply-to:
   mime-version;
  bh=G3FKp0KPlkdWPrTbL7eV4Ft8YrJd9HgELGvo+2Q6xEc=;
  b=NtxlnUueiSt6kYYh0jmNPj1NOfvtTWi2oSRMEwcDwiRQVs/oL2bu2x4x
   uQfNGHr1vzFFu6fFQpo6UxXq0J2VHht2iZIQ05bC+e7xazOdHd4AAfrnZ
   gMR23m26mSingm4L+rWB5UJ2bNxucy39Cl6WPx//PVicktQwQTvviUwJp
   0=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAFAESp9k+tJV2b/2dsb2JhbABFgki0cIEHghgBAQEEEgEaXAIBCBEEAQELDggBBgcyFAkIAQEEEwgTB4dpC5oVoB0EizmDDII6YAOjVIFmgl8
X-IronPort-AV: E=Sophos;i="4.77,536,1336348800"; 
   d="scan'208,217";a="99316717"
Received: from rcdn-core-4.cisco.com ([173.37.93.155])
  by rcdn-iport-7.cisco.com with ESMTP; 06 Jul 2012 09:06:57 +0000
Received: from xhc-rcd-x13.cisco.com (xhc-rcd-x13.cisco.com [173.37.183.87])
	by rcdn-core-4.cisco.com (8.14.5/8.14.5) with ESMTP id q6696vw3025511
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <users@tomcat.apache.org>; Fri, 6 Jul 2012 09:06:57 GMT
Received: from xmb-aln-x11.cisco.com ([169.254.6.238]) by
 xhc-rcd-x13.cisco.com ([173.37.183.87]) with mapi id 14.02.0298.004; Fri, 6
 Jul 2012 04:06:57 -0500
From: "Arun John (arujohn)" <arujohn@cisco.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Topic: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Index: Ac1bVmQzjohvxqAjRieGvfcg+IdxWQAADeFQ
Date: Fri, 6 Jul 2012 09:06:56 +0000
Message-ID: <D31CAEA689ABF34F800995A54075B11B028CE9@xmb-aln-x11.cisco.com>
References: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
In-Reply-To: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.142.44.213]
x-tm-as-product-ver: SMEX-10.2.0.1135-7.000.1014-19022.003
x-tm-as-result: No--43.544800-8.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: multipart/alternative;
	boundary="_000_D31CAEA689ABF34F800995A54075B11B028CE9xmbalnx11ciscocom_"
MIME-Version: 1.0

--_000_D31CAEA689ABF34F800995A54075B11B028CE9xmbalnx11ciscocom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Found some issue in attaching a log file. So copying the stack trace I am g=
etting


SEVERE: Failed to initialize end point associated with ProtocolHandler ["ht=
tp-bio-7443"]
java.io.IOException: Cannot recover key
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(J=
SSESocketFactory.java:475)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.create=
Socket(JSSESocketFactory.java:158)
                at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.=
java:380)
                at org.apache.tomcat.util.net.AbstractEndpoint.init(Abstrac=
tEndpoint.java:566)
                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol=
.java:417)
                at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init=
(AbstractHttp11JsseProtocol.java:119)
                at org.apache.catalina.connector.Connector.initInternal(Con=
nector.java:956)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                at org.apache.catalina.core.StandardService.initInternal(St=
andardService.java:559)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                at org.apache.catalina.core.StandardServer.initInternal(Sta=
ndardServer.java:814)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                at org.apache.catalina.startup.Catalina.load(Catalina.java:=
624)
                at org.apache.catalina.startup.Catalina.load(Catalina.java:=
649)
                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Meth=
od)
                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethod=
AccessorImpl.java:39)
                at sun.reflect.DelegatingMethodAccessorImpl.invoke(Delegati=
ngMethodAccessorImpl.java:25)
                at java.lang.reflect.Method.invoke(Method.java:597)
                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.jav=
a:281)
                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.jav=
a:449)
Caused by: java.security.UnrecoverableKeyException: Cannot recover key
                at sun.security.provider.KeyProtector.recover(KeyProtector.=
java:311)
                at sun.security.provider.JavaKeyStore.engineGetKey(JavaKeyS=
tore.java:121)
                at sun.security.provider.JavaKeyStore$JKS.engineGetKey(Java=
KeyStore.java:38)
                at java.security.KeyStore.getKey(KeyStore.java:763)
                at com.sun.net.ssl.internal.ssl.SunX509KeyManagerImpl.<init=
>(SunX509KeyManagerImpl.java:113)
                at com.sun.net.ssl.internal.ssl.KeyManagerFactoryImpl$SunX5=
09.engineInit(KeyManagerFactoryImpl.java:48)
                at javax.net.ssl.KeyManagerFactory.init(KeyManagerFactory.j=
ava:239)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKey=
Managers(JSSESocketFactory.java:576)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKey=
Managers(JSSESocketFactory.java:505)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(J=
SSESocketFactory.java:449)
                ... 19 more
Jul 6, 2012 2:28:11 PM org.apache.catalina.core.StandardService initInterna=
l
SEVERE: Failed to initialize connector [Connector[HTTP/1.1-7443]]
org.apache.catalina.LifecycleException: Failed to initialize component [Con=
nector[HTTP/1.1-7443]]
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:106)
                at org.apache.catalina.core.StandardService.initInternal(St=
andardService.java:559)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                at org.apache.catalina.core.StandardServer.initInternal(Sta=
ndardServer.java:814)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                at org.apache.catalina.startup.Catalina.load(Catalina.java:=
624)
                at org.apache.catalina.startup.Catalina.load(Catalina.java:=
649)
                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Meth=
od)
                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethod=
AccessorImpl.java:39)
                at sun.reflect.DelegatingMethodAccessorImpl.invoke(Delegati=
ngMethodAccessorImpl.java:25)
                at java.lang.reflect.Method.invoke(Method.java:597)
                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.jav=
a:281)
                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.jav=
a:449)
Caused by: org.apache.catalina.LifecycleException: Protocol handler initial=
ization failed
                at org.apache.catalina.connector.Connector.initInternal(Con=
nector.java:958)
                at org.apache.catalina.util.LifecycleBase.init(LifecycleBas=
e.java:102)
                ... 12 more
Caused by: java.io.IOException: Cannot recover key
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(J=
SSESocketFactory.java:475)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.create=
Socket(JSSESocketFactory.java:158)
                at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.=
java:380)
                at org.apache.tomcat.util.net.AbstractEndpoint.init(Abstrac=
tEndpoint.java:566)
                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol=
.java:417)
                at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init=
(AbstractHttp11JsseProtocol.java:119)
                at org.apache.catalina.connector.Connector.initInternal(Con=
nector.java:956)
                ... 13 more
Caused by: java.security.UnrecoverableKeyException: Cannot recover key
                at sun.security.provider.KeyProtector.recover(KeyProtector.=
java:311)
                at sun.security.provider.JavaKeyStore.engineGetKey(JavaKeyS=
tore.java:121)
                at sun.security.provider.JavaKeyStore$JKS.engineGetKey(Java=
KeyStore.java:38)
                at java.security.KeyStore.getKey(KeyStore.java:763)
                at com.sun.net.ssl.internal.ssl.SunX509KeyManagerImpl.<init=
>(SunX509KeyManagerImpl.java:113)
                at com.sun.net.ssl.internal.ssl.KeyManagerFactoryImpl$SunX5=
09.engineInit(KeyManagerFactoryImpl.java:48)
                at javax.net.ssl.KeyManagerFactory.init(KeyManagerFactory.j=
ava:239)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKey=
Managers(JSSESocketFactory.java:576)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.getKey=
Managers(JSSESocketFactory.java:505)
                at org.apache.tomcat.util.net.jsse.JSSESocketFactory.init(J=
SSESocketFactory.java:449)

Regards,
Arun

From: Arun John (arujohn) [mailto:arujohn@cisco.com]
Sent: Friday, July 06, 2012 2:35 PM
To: users@tomcat.apache.org
Subject: Possible issue with Tomcat 7.0.27 SSL keystore configuration

Hi Team,

I am currently facing an issue with SSL configuration in Tomcat 7.0.27. I h=
ave one keystore with three private keys to be used by different components=
 . The password I am using for the keystore file is "changed". The requirem=
ent is such that I should be using three different password for the three p=
rivate keys I store in my keystore. I have configured my server.xml to allo=
w https connections, basically modified the connectors.

<Connector port=3D"7443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"
               maxThreads=3D"150" scheme=3D"https" secure=3D"true"
               clientAuth=3D"false" sslProtocol=3D"TLS"  keyAlias =3D"admin=
uicert" keystoreFile=3D"bin/.keystore" keystorePass=3D"changed"/>

I am running into an issue here. When I configure different key passwords f=
or my private keys different from my keystore password I am running into an=
 exception saying it cannot recover the key. I have attached the catalina l=
og.  I am not finding a way to provide the private key password in the serv=
er.xml

When I googled, I found that in Tomcat 5.5 it was not possible and found th=
e below bug. Not sure whether the bug is fixed in latest release
https://issues.apache.org/bugzilla/show_bug.cgi?id=3D38217

It says that if any of the passphrase is different, it cannot recover the k=
ey. Also it says that tomcat treats the keypass and keystorePass as the sam=
e. I also tried setting the adminuicert keyAlias with the same password as =
the keystore. Even then it is not working.

Right now I am clueless on how to fix the issue. It would be of great help,=
 if someone can help me with a solution/workaround

Regards,
Arun

--_000_D31CAEA689ABF34F800995A54075B11B028CE9xmbalnx11ciscocom_--

From users-return-235324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 10:26:27 2012
Return-Path: <users-return-235324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D96C9633
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 10:26:27 +0000 (UTC)
Received: (qmail 3739 invoked by uid 500); 6 Jul 2012 10:26:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3030 invoked by uid 500); 6 Jul 2012 10:26:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3010 invoked by uid 99); 6 Jul 2012 10:26:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 10:26:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 10:26:14 +0000
Received: from mail.homeinbox.net ([2.29.16.46])
	by mwinf5d57 with ME
	id WyRr1j0010zdosJ03yRr0B; Fri, 06 Jul 2012 12:25:52 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id BF6E3EAB6BB
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 11:25:50 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LyXBsUst1bkj for <users@tomcat.apache.org>;
	Fri,  6 Jul 2012 11:25:31 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 3EEA1EAB6B1
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 11:25:31 +0100 (BST)
Message-ID: <4FF6BD17.9050103@apache.org>
Date: Fri, 06 Jul 2012 11:25:27 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore configuration
References: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
In-Reply-To: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 06/07/2012 10:04, Arun John (arujohn) wrote:
> Hi Team,
> 
> I am currently facing an issue with SSL configuration in Tomcat
> 7.0.27. I have one keystore with three private keys to be used by
> different components . The password I am using for the keystore file
> is "changed". The requirement is such that I should be using three
> different password for the three private keys I store in my keystore.
> I have configured my server.xml to allow https connections, basically
> modified the connectors.
> 
> <Connector port="7443" protocol="HTTP/1.1" SSLEnabled="true" 
> maxThreads="150" scheme="https" secure="true" clientAuth="false"
> sslProtocol="TLS"  keyAlias ="adminuicert"
> keystoreFile="bin/.keystore" keystorePass="changed"/>

You have not specified the password for the key. Why would you expect
this to work?

> I am running into an issue here. When I configure different key
> passwords for my private keys different from my keystore password I
> am running into an exception saying it cannot recover the key. I have
> attached the catalina log.  I am not finding a way to provide the
> private key password in the server.xml

Then read the Tomcat 7 documentation.

> When I googled, I found that in Tomcat 5.5 it was not possible and
> found the below bug. Not sure whether the bug is fixed in latest
> release https://issues.apache.org/bugzilla/show_bug.cgi?id=38217

That is a 5+ year old bug against a version of the software 2 major
versions earlier than the one you are using. What do you think the
chances are of it being relevant here? Hint: If you had read the HTTP
SSL configuration documentation for Tomcat 7 you would know the answer
to that question.

<snip />

> Right now I am clueless 

Clue may be found by reading the documentation for the version of the
software you are trying to use.

> on how to fix the issue. It would be of great help, if
> someone can help me with a solution/workaround

Read the documentation.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 11:45:44 2012
Return-Path: <users-return-235325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6091C928
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 11:45:44 +0000 (UTC)
Received: (qmail 99337 invoked by uid 500); 6 Jul 2012 11:45:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99238 invoked by uid 500); 6 Jul 2012 11:45:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99158 invoked by uid 99); 6 Jul 2012 11:45:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 11:45:37 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of arujohn@cisco.com designates 173.37.86.75 as permitted sender)
Received: from [173.37.86.75] (HELO rcdn-iport-4.cisco.com) (173.37.86.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 11:45:30 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=arujohn@cisco.com; l=4112; q=dns/txt;
  s=iport; t=1341575130; x=1342784730;
  h=from:to:subject:date:message-id:references:in-reply-to:
   content-transfer-encoding:mime-version;
  bh=h1UzqxSZOx+r9R5thhk4k1OvwDK807kvFJDkMn6O+08=;
  b=iQPJRP/b+W4ukA/7dh1lJPdzl6fj4Jse2GOczuaD+LTgdRVkoVy/KDyk
   f507Qrjag+HkhXWpGFkZSvFf4bULVj1vykRzcm3fr+1OAhgQNvpt9JZeI
   wSt1H6aWEaDugptLK1hSE3m04Q6DBeDVRlH9brwO2Ug8e+m/IgEgVB1Au
   k=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAFALnO9k+tJXG9/2dsb2JhbABFtzmBB4IYAQEBAwESAScUMAcEAgEIEQQBAQEKDgYJBzEBFAkIAQEECAcEAQcTAgQBh2QFC5oUoB4EizkagnKCOmADo1SBZoJfgV8
X-IronPort-AV: E=Sophos;i="4.77,536,1336348800"; 
   d="scan'208";a="99380505"
Received: from rcdn-core2-2.cisco.com ([173.37.113.189])
  by rcdn-iport-4.cisco.com with ESMTP; 06 Jul 2012 11:45:09 +0000
Received: from xhc-rcd-x04.cisco.com (xhc-rcd-x04.cisco.com [173.37.183.78])
	by rcdn-core2-2.cisco.com (8.14.5/8.14.5) with ESMTP id q66Bj9JL022297
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <users@tomcat.apache.org>; Fri, 6 Jul 2012 11:45:09 GMT
Received: from xmb-aln-x11.cisco.com ([169.254.6.238]) by
 xhc-rcd-x04.cisco.com ([173.37.183.78]) with mapi id 14.02.0298.004; Fri, 6
 Jul 2012 06:45:09 -0500
From: "Arun John (arujohn)" <arujohn@cisco.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Topic: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Index: Ac1bVmQzjohvxqAjRieGvfcg+IdxWQANS2yAAAiy/rA=
Date: Fri, 6 Jul 2012 11:45:08 +0000
Message-ID: <D31CAEA689ABF34F800995A54075B11B028DA8@xmb-aln-x11.cisco.com>
References: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
 <4FF6BD17.9050103@apache.org>
In-Reply-To: <4FF6BD17.9050103@apache.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.142.44.213]
x-tm-as-product-ver: SMEX-10.2.0.1135-7.000.1014-19022.006
x-tm-as-result: No--45.677700-8.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mark,

Thanks for your quick response.

I should have been a little more clear. That snip was copied when I had onl=
y one key entry in my keystore and both the passwords were the same.

Now coming to the actual issue. As long as there is only one key in the key=
store, it works perfectly fine and I can provide different passwords for ke=
ystore and private key using keystorePass and keyPass options and it works =
flawlessly. But the issue seems to be happening when I have multiple key en=
tries and that I store those key entries using different passwords. Then it=
 throws the error

For eg :=20

I have a keystore named servercerts. The keystore password is "changed"=20
In the keystore, I have 3 private keys (tomcatcert, adminuicert, wscert)
The password for tomcatcert is "fortomcat"
The password for adminuicert is "foradminui"
The password for wscert is "forwebserver"

Now I configured my server.xml to be=20
         <Connector port=3D"8443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"=
=20
 maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
 sslProtocol=3D"TLS"  keyAlias =3D"adminuicert" keyPass=3D"foradminui"
 keystoreFile=3D"bin/servercerts" keystorePass=3D"changed"/>

Then when I start my tomcat, I run into this error. To be specific, with si=
ngle key entry in the keystore everything works fine. With multiple key ent=
ries and different passwords, it throws the error.

Am I missing something here. Can you confirm whether it works fine in the a=
bove scenario. I use jdk1.6.0_32 to generate the keystore.

Regards,
Arun
=20

-----Original Message-----
From: Mark Thomas [mailto:markt@apache.org]=20
Sent: Friday, July 06, 2012 3:55 PM
To: Tomcat Users List
Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore configuration

On 06/07/2012 10:04, Arun John (arujohn) wrote:
> Hi Team,
>=20
> I am currently facing an issue with SSL configuration in Tomcat=20
> 7.0.27. I have one keystore with three private keys to be used by=20
> different components . The password I am using for the keystore file=20
> is "changed". The requirement is such that I should be using three=20
> different password for the three private keys I store in my keystore.
> I have configured my server.xml to allow https connections, basically=20
> modified the connectors.
>=20
> <Connector port=3D"7443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"=20
> maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
> sslProtocol=3D"TLS"  keyAlias =3D"adminuicert"
> keystoreFile=3D"bin/.keystore" keystorePass=3D"changed"/>

You have not specified the password for the key. Why would you expect this =
to work?

> I am running into an issue here. When I configure different key=20
> passwords for my private keys different from my keystore password I am=20
> running into an exception saying it cannot recover the key. I have=20
> attached the catalina log.  I am not finding a way to provide the=20
> private key password in the server.xml

Then read the Tomcat 7 documentation.

> When I googled, I found that in Tomcat 5.5 it was not possible and=20
> found the below bug. Not sure whether the bug is fixed in latest=20
> release https://issues.apache.org/bugzilla/show_bug.cgi?id=3D38217

That is a 5+ year old bug against a version of the software 2 major version=
s earlier than the one you are using. What do you think the chances are of =
it being relevant here? Hint: If you had read the HTTP SSL configuration do=
cumentation for Tomcat 7 you would know the answer to that question.

<snip />

> Right now I am clueless

Clue may be found by reading the documentation for the version of the softw=
are you are trying to use.

> on how to fix the issue. It would be of great help, if someone can=20
> help me with a solution/workaround

Read the documentation.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 12:27:04 2012
Return-Path: <users-return-235326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60BCADAB1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 12:27:04 +0000 (UTC)
Received: (qmail 914 invoked by uid 500); 6 Jul 2012 12:27:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 611 invoked by uid 500); 6 Jul 2012 12:27:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 579 invoked by uid 99); 6 Jul 2012 12:26:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 12:26:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 12:26:53 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id WzWY1j0020Fqzac550SaRg; Fri, 06 Jul 2012 12:26:34 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id X0SX1j00U1FXhpX3U0SXea; Fri, 06 Jul 2012 12:26:32 +0000
Message-ID: <4FF6D985.6000504@christopherschultz.net>
Date: Fri, 06 Jul 2012 08:26:45 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Simon, Leonard" <leonard.simon@hsn.net>
Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple websites
 on a single RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+njs+erusNndm+n2sNKdKQEMTaffqVPFhZ=ziw0ExA60g@mail.gmail.com>
In-Reply-To: <CALgf6+njs+erusNndm+n2sNKdKQEMTaffqVPFhZ=ziw0ExA60g@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leonard,

On 7/5/12 1:05 PM, Simon, Leonard wrote:
> I don't envision us using that but thanks anyway. We are looking
> more at a vendor supported solution because of the many things the
> system administration group supports and do not have the expertise
> nor time for customized solutions.

So, you want a vendor-supported solution and you're asking a
volunteer-based community? I think you should be talking to RedHat.

Honestly, this kind of thing really needs to be heavily customized to
meet your needs. Just because my port-assignment conventions make
sense to me doesn't mean they will work for you.

For example, most of our webapps (which run in their own JVM/Tomcat
combinations) have a localhost-only HTTP connector which other webapps
can use as a loopback connection. That means that each webapp actually
requires *three* port numbers: one for AJP (for proxying from actual
clients), one for shutdown, and one for localhost-HTTP. (I suppose
technically, we could disable socket-based shutdown to free-up a port,
but the convenience of a clean shutdown is a nice thing to have).

If I were to submit my build scripts and get them included (even as an
unsupported contribution) in the distribution, they would need
tweaking to be useful to you, and then you have the same maintenance
issue that you would have with my (original) scripts: anytime an
update was released, you'd have to merge-in any changes. I suspect the
same will be true with any vendor-specific solution unless you pay
them directly to support something custom-built.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/22YUACgkQ9CaO5/Lv0PAVDACeIf1BbYgMFzsMoUJGEs7RWEgp
5ewAoL4Moo+LGkQlTlbs5J4SyndaJVp1
=nkWQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 12:40:05 2012
Return-Path: <users-return-235327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EA51D694
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 12:40:05 +0000 (UTC)
Received: (qmail 36792 invoked by uid 500); 6 Jul 2012 12:40:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36505 invoked by uid 500); 6 Jul 2012 12:40:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36449 invoked by uid 99); 6 Jul 2012 12:39:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 12:39:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 12:39:51 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id WzHe1j00127AodY550fX4y; Fri, 06 Jul 2012 12:39:31 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id X0fc1j00J1FXhpX3f0fc6C; Fri, 06 Jul 2012 12:39:36 +0000
Message-ID: <4FF6DC8F.8090207@christopherschultz.net>
Date: Fri, 06 Jul 2012 08:39:43 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Any way to deal with too many request per second?
References: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com> <4FF4E163.7050509@christopherschultz.net> <049F90AE-A789-4329-A3E5-0062C14E563C@charmides.in-berlin.de>
In-Reply-To: <049F90AE-A789-4329-A3E5-0062C14E563C@charmides.in-berlin.de>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Burghard,

On 7/5/12 3:19 AM, burghard.britzke wrote:
> a Filter may help. But the clients must handle the situations if
> they are rejected because of the load.

Of course they have to handle that: it's what the 503 response code
was created for.

It is unreasonable to queue requests as a mitigation for high load:
you will only make things worse for your clients.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/23I8ACgkQ9CaO5/Lv0PBPpgCgs9pbiDiYo0O7IqhrJSCpP5NF
SCkAn2XQ722B0LOsvzVQrzmGfEinuk34
=euRt
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 13:10:05 2012
Return-Path: <users-return-235328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0CBFD77B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 13:10:04 +0000 (UTC)
Received: (qmail 16848 invoked by uid 500); 6 Jul 2012 13:10:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16356 invoked by uid 500); 6 Jul 2012 13:10:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16297 invoked by uid 99); 6 Jul 2012 13:09:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 13:09:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 13:09:53 +0000
Received: by mail-yw0-f45.google.com with SMTP id o21so11659120yho.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 06:09:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=fhryFeKlDATR+cVBLovF0o4vBxSSYXCSYcf22oVIoKk=;
        b=nSNtaGFdrojzKJpAgLvL/X95uwGpJK1Jsyi4ec+eOoDkDCwbcKoVsJTYhdXt3TdYgh
         NIp539jCeXhsoQnOU5X6npeWYpu+5TB4bq2ZawoSzOErXBtKVmQQAwCl5UnnNRMEf6MY
         DgrAwJ6ztm61LgvIgwoSceSIfl7E/DsMEXWF4Hc5oOPNMSo18ppeaklsc9aCzkmgppzx
         NVcmb0ccPvGKseJvWJfts8XE9aKLqOHD/aAZzW5uK8WpxzNK0NK7q8JTWcUbGfmmjucP
         IbbDJ5kfIIgLL9feOy3CnCqnStH/KK88wjJHYYOvgnliSpV4BZIoimcwbleAI7supGpI
         k+lg==
Received: by 10.60.2.131 with SMTP id 3mr30966379oeu.59.1341580172892; Fri, 06
 Jul 2012 06:09:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.98.38 with HTTP; Fri, 6 Jul 2012 06:09:12 -0700 (PDT)
In-Reply-To: <4FF6DC8F.8090207@christopherschultz.net>
References: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com>
 <4FF4E163.7050509@christopherschultz.net> <049F90AE-A789-4329-A3E5-0062C14E563C@charmides.in-berlin.de>
 <4FF6DC8F.8090207@christopherschultz.net>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Fri, 6 Jul 2012 15:09:12 +0200
Message-ID: <CABOBwRjz=-hLEG94XNDXrgjfLTr+XxO5tUm+iGFDnHzsiJaf7g@mail.gmail.com>
Subject: Re: Any way to deal with too many request per second?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/6 Christopher Schultz <chris@christopherschultz.net>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
>
> It is unreasonable to queue requests as a mitigation for high load:
> you will only make things worse for your clients.
>

If I create a valve which delays requests by source IP address , how
does it affect to all request ?
I mean, if my valve performs a sleep() for 2 min. when  receives a
request from certain IP ,
what does it happen with others requests from other clients ?

Thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 13:51:07 2012
Return-Path: <users-return-235329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F321AD319
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 13:51:06 +0000 (UTC)
Received: (qmail 15922 invoked by uid 500); 6 Jul 2012 13:51:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15788 invoked by uid 500); 6 Jul 2012 13:51:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15754 invoked by uid 99); 6 Jul 2012 13:51:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 13:51:02 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of adisinha0423@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 13:50:54 +0000
Received: by obbta14 with SMTP id ta14so20941859obb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 06:50:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=GPOjGjoKZUYX1vmxtz+edShZv1IyDbaLD6ddfIXa8Zk=;
        b=K6IHFm3WWriNuEgS5hD+9nQ6MQHUbBDcYw2iLzR4FSAXfEstvh4eWXoazFtN/R5kCV
         r4R1DHFdRB3vFLx8beQwS99umqDSMLbQoS85VPy2AjRiSSrRlyZtolUKswVzqoA2fni0
         VD6lvZN1i7N+a3dWQQ2+MqfSjjRfIctT3SYzWi4093MmOAAxogktroRz7I9jDBrkCzee
         1yW5El6HZ73tqgrbYtKbmgsxQMK1/c1d8TAv+McUJrSB5H9anGNaMLLYrlV6f/Dr0sbQ
         KL93j7s40QQ6cF+zFvlVA2U/Su+S3pR0cUufDkoWOvyjINa75SoJWAV5c12JH2m+LghT
         tmnA==
MIME-Version: 1.0
Received: by 10.182.216.99 with SMTP id op3mr4493472obc.30.1341582633434; Fri,
 06 Jul 2012 06:50:33 -0700 (PDT)
Received: by 10.76.87.199 with HTTP; Fri, 6 Jul 2012 06:50:33 -0700 (PDT)
Date: Fri, 6 Jul 2012 19:20:33 +0530
Message-ID: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com>
Subject: How to support IPv6 on Apache Tomcat Version 7.0.22
From: Aditi Sinha <adisinha0423@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d044786e74d7e0304c4298ce3

--f46d044786e74d7e0304c4298ce3
Content-Type: text/plain; charset=ISO-8859-1

Hi,


We have a web server hosted on Apache Tomcat Version 7.0.22. We are trying
to get the web server support IPv6.

Machine details: Windows 2008 server machine, 32-bit OS
Java version:  jdk1.6.0_25


The web server is not accessible using the IPv6 address. The connectivity
to windows server machine works fine though IPv6 address.
The firewall is turned off.


**

In the Catalina.log can see IPv6 [false] as below.

* *

*INFO: APR capabilities: IPv6 [false], sendfile [true], accept filters
[false], random [true].*


Is there any configuration which needs to be done for Tomcat/Connector to
support IPv6?
 In server.xml we are using the AJP 1.3 Connector and HTTP/1.1 Connector.**



Early response would be appreciated.



Thanks & Regards,

Aditi

--f46d044786e74d7e0304c4298ce3--

From users-return-235330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 16:29:12 2012
Return-Path: <users-return-235330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F348ADA2A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 16:29:11 +0000 (UTC)
Received: (qmail 53795 invoked by uid 500); 6 Jul 2012 16:29:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53750 invoked by uid 500); 6 Jul 2012 16:29:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53740 invoked by uid 99); 6 Jul 2012 16:29:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:29:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:29:02 +0000
Received: by vbbfn1 with SMTP id fn1so8347247vbb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 09:28:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=KphlA72txh0wEpYlRhRICUIH+rMuRnDQpNGArV8kbkQ=;
        b=ZHWnk4REZ96Gv2TWm9qtfiOT11ZucqjZ7eV31L2zgTW77gnd+tztbLMyF12uSpegIs
         L7gM6CbnPEPDXkmdhQLnPGEzleT1YxKoQoSLfK+qK/NgTr6wg5jGvnKBs0KEBPBoUbc+
         WJK+zy7sEDi2OZm0pJHaBpO+II32/MV1dHKS2VPoHNDutV8VD/+y9eVk2I4k0HEKOxGh
         gUmGLi4ojjvC7QnwjsbwVpw/ljRYDGiE1cJ2Eoloy8qllJRKx3+r8K5hTe3qsyKwREx5
         8Ihjc8yoCnJjfhpzrryt3khr8ScI6QtFeoACNq3ogPC8Ts4bh+sexz7o2mGBm9+V3Q0P
         nrsA==
MIME-Version: 1.0
Received: by 10.220.8.15 with SMTP id f15mr14739570vcf.34.1341592121571; Fri,
 06 Jul 2012 09:28:41 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 6 Jul 2012 09:28:41 -0700 (PDT)
In-Reply-To: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com>
References: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com>
Date: Fri, 6 Jul 2012 20:28:41 +0400
Message-ID: <CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com>
Subject: Re: How to support IPv6 on Apache Tomcat Version 7.0.22
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/6 Aditi Sinha <adisinha0423@gmail.com>:
> Hi,
>
>
> We have a web server hosted on Apache Tomcat Version 7.0.22. We are trying
> to get the web server support IPv6.
>
> Machine details: Windows 2008 server machine, 32-bit OS
> Java version:  jdk1.6.0_25
>
>
> The web server is not accessible using the IPv6 address. The connectivity
> to windows server machine works fine though IPv6 address.
> The firewall is turned off.
>
>
> **
>
> In the Catalina.log can see IPv6 [false] as below.
>
> * *
>
> *INFO: APR capabilities: IPv6 [false], sendfile [true], accept filters
> [false], random [true].*
>
>
> Is there any configuration which needs to be done for Tomcat/Connector to
> support IPv6?
>  In server.xml we are using the AJP 1.3 Connector and HTTP/1.1 Connector.**

Look into the docs - there are 3 different connector implementations
for HTTP protocol, and 3 for AJP protocol. They are known as "BIO",
"NIO" and "APR" one.

As you have Tomcat-Native library installed, the configuration by
default will use the "APR" connector.    But your problem is that the
binary version of Tomcat-Native that you are using is not compiled
with support for IPv6 and thus this connector does not support IPv6.

So have the following possibilities:
a) compile your own version of Tomcat-Native for your platform and
make sure that it has IPv6 support enabled. For Windows it might be
tricky.

b) choose other connector implementation - see "protocol" attribute on
<Connector> element in Configuration Reference.

c) uninstall Tomcat-Native library or disable AprLifecycleListener in
your configuration. In this case Tomcat will autoselect the BIO
connector implementations for both protocols.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 16:45:13 2012
Return-Path: <users-return-235331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4EBDDB2F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 16:45:13 +0000 (UTC)
Received: (qmail 17458 invoked by uid 500); 6 Jul 2012 16:45:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17378 invoked by uid 500); 6 Jul 2012 16:45:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17369 invoked by uid 99); 6 Jul 2012 16:45:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:45:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of weim@mst.edu designates 209.106.229.55 as permitted sender)
Received: from [209.106.229.55] (HELO mxnip01-rolla-out.um.umsystem.edu) (209.106.229.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:45:01 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Ah4FAAsV90/PoJ7U/2dsb2JhbABFgkiregGJAoEHghoFLV4BKlYmAQQbiAMLmSWYTIkEkH9gA5ZJjnGCXw
Received: from um-ncas6.um.umsystem.edu ([207.160.158.212])
  by mxnip01-mizzou-out.um.umsystem.edu with ESMTP; 06 Jul 2012 11:44:38 -0500
Received: from UM-MBX-N03.um.umsystem.edu ([169.254.6.122]) by
 UM-NCAS6.um.umsystem.edu ([207.160.158.212]) with mapi id 14.01.0355.002;
 Fri, 6 Jul 2012 11:44:38 -0500
From: "Wei, Mingzhen" <weim@mst.edu>
To: "'users@tomcat.apache.org'" <users@tomcat.apache.org>
Subject: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
Thread-Topic: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Index: Ac1blRWceTIPoEBNT6SPeE54MJX8lg==
Date: Fri, 6 Jul 2012 16:44:38 +0000
Message-ID: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [131.151.111.63]
Content-Type: multipart/alternative;
	boundary="_000_821746D06B249A408FD67CEA48119F2402DAA7UMMBXN03umumsyste_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_821746D06B249A408FD67CEA48119F2402DAA7UMMBXN03umumsyste_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I was trying to build Apache Tomcat 5.5 Servelet for another application. I=
 followed the steps from the link: http://tomcat.apache.org/tomcat-5.5-doc/=
building.html.
I have done the following:

1.       Installed JDK1.6

2.       Download and installed Apache Ant 1.8.4

3.       Download Tomcat 5.5 source package in zip file

4.       Set and updated the environment parameters for JAVA_HOME, PATH, AN=
T_HOME

I cannot run the following step "ant download" correctly. It complains the =
"includeantruntime" setup, and alerting me with errors for classes as Basic=
DataSource, DelegatingStatement, DelegatingPreparedStatement, and many more=
. The errors say that those classes as not abstract and do not override the=
 abstract methods in other sources.

Please tell me how to fix the problem, thank you very much.

Mingzhen

--_000_821746D06B249A408FD67CEA48119F2402DAA7UMMBXN03umumsyste_--

From users-return-235332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 16:53:31 2012
Return-Path: <users-return-235332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82DA9DB63
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 16:53:31 +0000 (UTC)
Received: (qmail 42712 invoked by uid 500); 6 Jul 2012 16:53:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42534 invoked by uid 500); 6 Jul 2012 16:53:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42524 invoked by uid 99); 6 Jul 2012 16:53:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:53:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fpicabia@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:53:19 +0000
Received: by pbbro12 with SMTP id ro12so17918675pbb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 09:52:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Dx9v8/CfxzaJ8DxWSEe78TsjQv2S96AmU2JMRYKh0Q8=;
        b=DlzZIlhRXMNkb0XP//S1qhj/or+K3WITD0fIACUsf8+dOH0zbpLveyBvdpn110lq/A
         MTgSIB14CA445U2v1F2KHq1ZQvwcCk5OphA5XtRFGZmJxSd1T+DopLYELkqzphSH3Ivq
         G8FzkZvQ/0CC4E4nRGxj9tvZfXesLUdGgry/b8TlFyu+uTuxARBuyaEsHYBjhR+mIJCd
         yLWzHuq21ToNbA8T1yxB3o0nsxS5aJGxgbQkxAubG5gEDj6bK7c0JfhZgn+Wem9iQzpb
         Q0ppIDnQbLsHUqgov3mtxrLg3VFJfpE3h8VzqnTaCta4oqWxr1GuYES6VkpVQwpFx0ya
         J5Iw==
MIME-Version: 1.0
Received: by 10.68.222.40 with SMTP id qj8mr38341712pbc.139.1341593578442;
 Fri, 06 Jul 2012 09:52:58 -0700 (PDT)
Received: by 10.66.249.98 with HTTP; Fri, 6 Jul 2012 09:52:58 -0700 (PDT)
Date: Fri, 6 Jul 2012 13:52:58 -0300
Message-ID: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
Subject: High load from tomcat, no users, no errors
From: francis picabia <fpicabia@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I have two servers with Debian 6 and an older tomcat 5.0.30
Starting only recently, each has taken a sudden leap in load.
There is no traffic hitting it, as I can confirm using lsof.

One server had a load of nearly 0 and at midnight jumped
to 10 and stayed that way until the next day.  Nothing has
changed in the tomcat apps, but the Debian OS has
likely had some security updates, such as for mysql
library.

I found some small glitches in orphaned apps and deleted
them so I now have a clean start up - no errors.
The server which was at load of 10 now shows reasonable
load average, but tomcat is still running hot for a service
getting no hits:

top - 13:41:38 up 30 days,  6:21,  2 users,  load average: 0.00, 0.00, 0.00
Tasks: 263 total,   2 running, 261 sleeping,   0 stopped,   0 zombie
Cpu(s):  4.7%us,  4.4%sy,  0.0%ni, 90.3%id,  0.0%wa,  0.0%hi,  0.5%si,  0.0%st
Mem:  16461112k total, 16335376k used,   125736k free,   549972k buffers
Swap:  3906552k total,        0k used,  3906552k free, 14871648k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
23648 tomcat    20   0 4623m 203m  10m S  109  1.3 284:04.69 java

On the second server, it also has a clean start up, but the load average
is about 6.  In that case it uses the mysql connector.  I experimented
with the current mysql java driver from the Debian package copied into the
tomcat 5.0.30 common/lib, but it made no difference either way.

I should add that the tomcat apps all appear to work, but we are
simply seeing a very high load.

On stackexchange, someone suggested a kill -3 will be a poor man's profiler
to reveal what is tying up CPU time.

I've looked at the dump, and I don't see anything pinpointed by
this method.  I noticed a couple of lines mentioning lock, but I don't
know what it might mean.

If anyone can suggest what I can do next, it would be appreciated.
I end this email with the dump from kill -3...


2012-07-06 13:24:12
Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.1-b02 mixed mode):

"TP-Processor8" daemon prio=10 tid=0x0000000040432000 nid=0x5ca0 in
Object.wait() [0x00007f18330ef000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007ac546728> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007ac546728> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor7" daemon prio=10 tid=0x0000000040803000 nid=0x5c9f in
Object.wait() [0x00007f18331f0000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007ac546318> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007ac546318> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor6" daemon prio=10 tid=0x0000000040430800 nid=0x5c9e in
Object.wait() [0x00007f18332f1000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007ac545f08> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007ac545f08> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor5" daemon prio=10 tid=0x0000000040944000 nid=0x5c9d in
Object.wait() [0x00007f18333f2000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007ac545af8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007ac545af8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Monitor" daemon prio=10 tid=0x00007f183435e800 nid=0x5c92 in
Object.wait() [0x00007f18334f3000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02d0100> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
	at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run(ThreadPool.java:559)
	- locked <0x00000007b02d0100> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor4" daemon prio=10 tid=0x00007f1834256000 nid=0x5c91
runnable [0x00007f18335f4000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000007b02e00a0> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:295)
	at org.apache.jk.common.ChannelSocket.acceptConnections(ChannelSocket.java:638)
	at org.apache.jk.common.SocketAcceptor.runIt(ChannelSocket.java:847)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor3" daemon prio=10 tid=0x00007f18342cb000 nid=0x5c90 in
Object.wait() [0x00007f18336f5000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e8d68> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e8d68> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor2" daemon prio=10 tid=0x00007f18342b6800 nid=0x5c8f in
Object.wait() [0x00007f18337f6000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02eb210> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02eb210> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"TP-Processor1" daemon prio=10 tid=0x00007f18342f2000 nid=0x5c8e
runnable [0x00007f18338f7000]
   java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:129)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	- locked <0x00000007ac54b6c0> (a java.io.BufferedInputStream)
	at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:598)
	at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:535)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:663)
	at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:866)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Monitor" prio=10 tid=0x00007f1838025000 nid=0x5c8d in
Object.wait() [0x00007f18339f8000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f8070> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
	at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run(ThreadPool.java:559)
	- locked <0x00000007b02f8070> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor25" daemon prio=10 tid=0x00007f1838023000
nid=0x5c8c runnable [0x00007f1833af9000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000007b03000a0> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:60)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.acceptSocket(PoolTcpEndpoint.java:368)
	at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:549)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor24" daemon prio=10 tid=0x00007f1838019800
nid=0x5c8b in Object.wait() [0x00007f1833bfa000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02d01a8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02d01a8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor23" daemon prio=10 tid=0x00007f18385f4800
nid=0x5c8a in Object.wait() [0x00007f1833cfb000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f8118> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f8118> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor22" daemon prio=10 tid=0x00007f18385f2800
nid=0x5c89 in Object.wait() [0x00007f1833dfc000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02d0250> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02d0250> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor21" daemon prio=10 tid=0x00007f18385f0800
nid=0x5c88 in Object.wait() [0x00007f1833efd000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e02c8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e02c8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor20" daemon prio=10 tid=0x00007f18385ee800
nid=0x5c87 in Object.wait() [0x00007f1833ffe000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f0228> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f0228> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor19" daemon prio=10 tid=0x00007f18385ec800
nid=0x5c86 in Object.wait() [0x00007f1840151000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e0370> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e0370> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor18" daemon prio=10 tid=0x00007f18385ea800
nid=0x5c85 in Object.wait() [0x00007f1840252000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f02d0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f02d0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor17" daemon prio=10 tid=0x00007f18385e8800
nid=0x5c84 in Object.wait() [0x00007f1840353000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e0418> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e0418> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor16" daemon prio=10 tid=0x00007f18385e7800
nid=0x5c83 in Object.wait() [0x00007f1840454000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f0378> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f0378> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor15" daemon prio=10 tid=0x00007f1838055000
nid=0x5c82 in Object.wait() [0x00007f1840555000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e04c0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e04c0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor14" daemon prio=10 tid=0x00007f1838053000
nid=0x5c81 in Object.wait() [0x00007f1840656000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f0420> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f0420> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor13" daemon prio=10 tid=0x00007f1838086800
nid=0x5c80 in Object.wait() [0x00007f1840757000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e0788> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e0788> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor12" daemon prio=10 tid=0x00007f1838051000
nid=0x5c7f in Object.wait() [0x00007f1840858000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02e07a8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02e07a8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor11" daemon prio=10 tid=0x00007f183804f800
nid=0x5c7e in Object.wait() [0x00007f1840959000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f1798> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f1798> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor10" daemon prio=10 tid=0x00007f1838043000
nid=0x5c7d in Object.wait() [0x00007f1840a5a000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f1a18> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f1a18> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor9" daemon prio=10 tid=0x00007f1838041000
nid=0x5c7c in Object.wait() [0x00007f1840b5b000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f1c98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f1c98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor8" daemon prio=10 tid=0x00007f183803f000
nid=0x5c7b in Object.wait() [0x00007f1840c5c000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f1f10> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f1f10> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor7" daemon prio=10 tid=0x00007f183803d800
nid=0x5c7a in Object.wait() [0x00007f1840d5d000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f2188> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f2188> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor6" daemon prio=10 tid=0x00007f1838008800
nid=0x5c79 in Object.wait() [0x00007f1840e5e000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f2400> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f2400> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor5" daemon prio=10 tid=0x00007f1838034000
nid=0x5c78 in Object.wait() [0x00007f1840f5f000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f2678> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f2678> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor4" daemon prio=10 tid=0x00007f1838032000
nid=0x5c77 in Object.wait() [0x00007f1841060000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f28f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f28f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor3" daemon prio=10 tid=0x00007f183802d800
nid=0x5c76 in Object.wait() [0x00007f1841161000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f2b68> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f2b68> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor2" daemon prio=10 tid=0x00007f1838018800
nid=0x5c75 in Object.wait() [0x00007f1841262000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f2de0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f2de0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"http-8080-Processor1" daemon prio=10 tid=0x00007f183802c800
nid=0x5c74 in Object.wait() [0x00007f1841363000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f3058> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)
	- locked <0x00000007b02f3058> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
	at java.lang.Thread.run(Thread.java:662)

"ContainerBackgroundProcessor[StandardEngine[Catalina]]" daemon
prio=10 tid=0x00007f1838123800 nid=0x5c73 sleeping[0x00007f1841464000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
	at java.lang.Thread.sleep(Native Method)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1597)
	at java.lang.Thread.run(Thread.java:662)

"Low Memory Detector" daemon prio=10 tid=0x00007f183c003800 nid=0x5c70
runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread1" daemon prio=10 tid=0x00007f183c001000 nid=0x5c6f
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread0" daemon prio=10 tid=0x00000000403c6000 nid=0x5c6e
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon prio=10 tid=0x00000000403c3800 nid=0x5c6d
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Finalizer" daemon prio=10 tid=0x00000000403a7000 nid=0x5c6c in
Object.wait() [0x00007f1848430000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b0300498> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
	- locked <0x00000007b0300498> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

"Reference Handler" daemon prio=10 tid=0x000000004039f800 nid=0x5c6b
in Object.wait() [0x00007f1848531000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000007b02f0088> (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Object.java:485)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)
	- locked <0x00000007b02f0088> (a java.lang.ref.Reference$Lock)

"main" prio=10 tid=0x000000004032f000 nid=0x5c61 runnable [0x00007f184e532000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000007b0300628> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.catalina.core.StandardServer.await(StandardServer.java:513)
	at org.apache.catalina.startup.Catalina.await(Catalina.java:619)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:579)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:287)
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)

"VM Thread" prio=10 tid=0x0000000040399000 nid=0x5c6a runnable

"GC task thread#0 (ParallelGC)" prio=10 tid=0x0000000040342000
nid=0x5c62 runnable

"GC task thread#1 (ParallelGC)" prio=10 tid=0x0000000040344000
nid=0x5c63 runnable

"GC task thread#2 (ParallelGC)" prio=10 tid=0x0000000040346000
nid=0x5c64 runnable

"GC task thread#3 (ParallelGC)" prio=10 tid=0x0000000040347800
nid=0x5c65 runnable

"GC task thread#4 (ParallelGC)" prio=10 tid=0x0000000040349800
nid=0x5c66 runnable

"GC task thread#5 (ParallelGC)" prio=10 tid=0x000000004034b800
nid=0x5c67 runnable

"GC task thread#6 (ParallelGC)" prio=10 tid=0x000000004034d000
nid=0x5c68 runnable

"GC task thread#7 (ParallelGC)" prio=10 tid=0x000000004034f000
nid=0x5c69 runnable

"VM Periodic Task Thread" prio=10 tid=0x00007f183c016800 nid=0x5c71
waiting on condition

JNI global references: 1702

Heap
 PSYoungGen      total 75008K, used 17836K [0x00000007ac400000,
0x00000007b17b0000, 0x0000000800000000)
  eden space 64320K, 18% used
[0x00000007ac400000,0x00000007acf81218,0x00000007b02d0000)
  from space 10688K, 56% used
[0x00000007b02d0000,0x00000007b08b9e58,0x00000007b0d40000)
  to   space 10688K, 0% used
[0x00000007b0d40000,0x00000007b0d40000,0x00000007b17b0000)
 PSOldGen        total 171520K, used 0K [0x0000000704c00000,
0x000000070f380000, 0x00000007ac400000)
  object space 171520K, 0% used
[0x0000000704c00000,0x0000000704c00000,0x000000070f380000)
 PSPermGen       total 21248K, used 16280K [0x00000006ffa00000,
0x0000000700ec0000, 0x0000000704c00000)
  object space 21248K, 76% used
[0x00000006ffa00000,0x00000007009e6320,0x0000000700ec0000)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 16:55:08 2012
Return-Path: <users-return-235333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D467DB73
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 16:55:08 +0000 (UTC)
Received: (qmail 53772 invoked by uid 500); 6 Jul 2012 16:55:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53604 invoked by uid 500); 6 Jul 2012 16:55:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53595 invoked by uid 99); 6 Jul 2012 16:55:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:55:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 16:55:00 +0000
Received: by vcbfo13 with SMTP id fo13so8367824vcb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 09:54:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=OGsaGctxl8o+yeY/GQvMo60dAjLGZRvd5dJ2Sg1lrDY=;
        b=c5wPUhc5BcyD95MjA2CGV8tOMmqf2/7aP3NsmNCcFxmpkXRZbgd9/G6opBI89aY5/p
         mSYRVKi+lr2NhF4dg5Ob2f0jIWe7l5wPjwVALIZ7qX4lSOR32cSTvvV0KjDOyqj9jYpV
         ag3ZeF25biaROxYwtDc5Lxry6uV2FcdZcJOogRi8AL8mS2kZY7RSi/J9aD9NU5lKb3wq
         lCiC3c7pAgr0xwqEIZpwZKdtdiVipstYErLGzU7XV3vC8hqcnspisvy9yyjnxeEVxwxw
         F8dWuw8Z1r3LGpYmdD2VVy8UiqoZGLPl6Rf5vGeimeHJ6evt48GCbxLx67ZCatPzwbGU
         jm/Q==
MIME-Version: 1.0
Received: by 10.52.70.116 with SMTP id l20mr12579099vdu.19.1341593679207; Fri,
 06 Jul 2012 09:54:39 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 6 Jul 2012 09:54:39 -0700 (PDT)
In-Reply-To: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
Date: Fri, 6 Jul 2012 20:54:39 +0400
Message-ID: <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/6 Wei, Mingzhen <weim@mst.edu>:
> I was trying to build Apache Tomcat 5.5 Servelet for another application.=
 I followed the steps from the link: http://tomcat.apache.org/tomcat-5.5-do=
c/building.html.
> I have done the following:
>
> 1.       Installed JDK1.6
>
> 2.       Download and installed Apache Ant 1.8.4
>
> 3.       Download Tomcat 5.5 source package in zip file
>
> 4.       Set and updated the environment parameters for JAVA_HOME, PATH, =
ANT_HOME
>
> I cannot run the following step "ant download" correctly. It complains th=
e "includeantruntime" setup, and alerting me with errors for classes as Bas=
icDataSource, DelegatingStatement, DelegatingPreparedStatement, and many mo=
re. The errors say that those classes as not abstract and do not override t=
he abstract methods in other sources.

1. You need JDK 1.4 to build Tomcat 5.5.
2. The version of Ant targeted by the build script is 1.6.2.

One of the reasons why you cannot build it with Java 6, is that the
version of Apache Commons DBCP used in it has to run on Java 1.4 and
cannot be built with Java 6 because of java.sql API changes.


See also BUILDING.txt in the source distributive or in svn repository.
It is more authoritative than building.html.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:18:10 2012
Return-Path: <users-return-235334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83178DC31
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:18:10 +0000 (UTC)
Received: (qmail 13429 invoked by uid 500); 6 Jul 2012 17:18:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13371 invoked by uid 500); 6 Jul 2012 17:18:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13362 invoked by uid 99); 6 Jul 2012 17:18:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:18:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fpicabia@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:17:59 +0000
Received: by pbbro12 with SMTP id ro12so17951754pbb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 10:17:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nsScO/WbTG4HtKVuGxr22GpXLYO2P9UqJMr5ZN7Yoxo=;
        b=tY4G9pyw9VxhBkZxbrswyNWBM+P4CnSm2TBy0QBLNebTqQ0nbDnq/ide8MmKGiH7OS
         Tkge/G4vKdD3E+mmvtHGHKdsJeTnsNVMo2+aHZyZHlqyjM8Xru/BCQmRT1f7d3/5Z2PJ
         q1ngDfGOHk24lIFDvSS6yxOfNXdZD6MwUpnyBTlhnW1dFa/pkKG83uqNsNn1qPvjY9Hw
         okbgzixecbdZpIxylH7ItOWj0F3GTu6AkXZbwqRJjtuPllcUZ7dtM7Gcv/scI4NhqSeh
         Z2ow98rGbGOfeSSk3Pc8bko6M9FdPgHb6kRJzbzTeXx/BKcfLZsCI+d1uMFyIpwfE36U
         WaUg==
MIME-Version: 1.0
Received: by 10.68.197.198 with SMTP id iw6mr38206444pbc.36.1341595058659;
 Fri, 06 Jul 2012 10:17:38 -0700 (PDT)
Received: by 10.66.249.98 with HTTP; Fri, 6 Jul 2012 10:17:38 -0700 (PDT)
In-Reply-To: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
Date: Fri, 6 Jul 2012 14:17:38 -0300
Message-ID: <CA+AKB6Gnnbt4Pzr5FSujO1QJZQHR_HSQBmkC+FhTBmiPit40tg@mail.gmail.com>
Subject: Re: High load from tomcat, no users, no errors
From: francis picabia <fpicabia@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Here is another thing which is odd...

I stop tomcat 5.0.  I install the tomcat6 from Debian and allow it to start
with the default "It works" page.  The tomcat load is still unusual:

top - 14:07:12 up 52 days,  6:36,  2 users,  load average: 0.00, 0.00, 0.00
Tasks: 154 total,   3 running, 151 sleeping,   0 stopped,   0 zombie
Cpu(s): 13.4%us, 26.2%sy,  0.0%ni, 59.9%id,  0.0%wa,  0.0%hi,  0.4%si,  0.0%st
Mem:   6128864k total,  5368868k used,   759996k free,   771176k buffers
Swap:  2506100k total,     9156k used,  2496944k free,  3333764k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 6953 tomcat6   20   0  611m  71m 9.9m S  149  1.2  10:03.66 java

I do the same on my Debian desktop, and I need to search for user tomcat6
before I can notice it from top:

top - 14:08:05 up 45 days,  5:30, 76 users,  load average: 0.00, 0.06, 0.03
Tasks: 353 total,   1 running, 351 sleeping,   0 stopped,   1 zombie
Cpu(s):  9.1%us,  1.8%sy,  0.0%ni, 88.5%id,  0.7%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:   3372892k total,  3272292k used,   100600k free,    83004k buffers
Swap:  2650684k total,    53928k used,  2596756k free,  1639576k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
14634 tomcat6   20   0  292m  54m 8092 S    0  1.7   0:02.18 java

Both are running a default install of tomcat6 on Debian, as configured by
default.

I don't get it.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:24:49 2012
Return-Path: <users-return-235335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 324D9D090
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:24:49 +0000 (UTC)
Received: (qmail 42059 invoked by uid 500); 6 Jul 2012 17:24:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41995 invoked by uid 500); 6 Jul 2012 17:24:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41984 invoked by uid 99); 6 Jul 2012 17:24:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:24:45 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.196 as permitted sender)
Received: from [216.82.241.196] (HELO mail46.messagelabs.com) (216.82.241.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:24:35 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-13.tower-46.messagelabs.com!1341595449!30758475!23
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1782 invoked from network); 6 Jul 2012 17:24:13 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-13.tower-46.messagelabs.com with RC4-SHA encrypted SMTP; 6 Jul 2012 17:24:13 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 6 Jul 2012 12:23:38 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 6 Jul
 2012 12:23:34 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 6 Jul 2012 12:23:33 -0500
Subject: RE: High load from tomcat, no users, no errors
Thread-Topic: High load from tomcat, no users, no errors
Thread-Index: Ac1bm1fAlpu/j15gTImBKaOqt2OS6QAAGzuQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0328AFDF3@USEA-EXCH8.na.uis.unisys.com>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
 <CA+AKB6Gnnbt4Pzr5FSujO1QJZQHR_HSQBmkC+FhTBmiPit40tg@mail.gmail.com>
In-Reply-To: <CA+AKB6Gnnbt4Pzr5FSujO1QJZQHR_HSQBmkC+FhTBmiPit40tg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: francis picabia [mailto:fpicabia@gmail.com]=20
> Subject: Re: High load from tomcat, no users, no errors

> I stop tomcat 5.0.

Good, since it hasn't been supported in quite some time.

> I install the tomcat6 from Debian=20

What happens if you install a real Tomcat from tomcat.apache.org?  The Debi=
an repackaging of Tomcat is well known to be a mess.

If you still see threads looping with a real Tomcat 6 (or preferably, 7), t=
ake thread dumps of that and post them.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:42:31 2012
Return-Path: <users-return-235336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF782D763
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:42:30 +0000 (UTC)
Received: (qmail 2804 invoked by uid 500); 6 Jul 2012 17:42:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2738 invoked by uid 500); 6 Jul 2012 17:42:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2729 invoked by uid 99); 6 Jul 2012 17:42:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:42:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:42:21 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id X0kh1j00227AodY535i2EY; Fri, 06 Jul 2012 17:42:02 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id X5i61j00l1FXhpX3f5i7TU; Fri, 06 Jul 2012 17:42:07 +0000
Message-ID: <4FF72377.4090508@christopherschultz.net>
Date: Fri, 06 Jul 2012 13:42:15 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Any way to deal with too many request per second?
References: <CA+WmwVR17beSTf_fMhWD3VERE4eBJRaGsTEi01vv=+vrwXhu8w@mail.gmail.com> <4FF4E163.7050509@christopherschultz.net> <049F90AE-A789-4329-A3E5-0062C14E563C@charmides.in-berlin.de> <4FF6DC8F.8090207@christopherschultz.net> <CABOBwRjz=-hLEG94XNDXrgjfLTr+XxO5tUm+iGFDnHzsiJaf7g@mail.gmail.com>
In-Reply-To: <CABOBwRjz=-hLEG94XNDXrgjfLTr+XxO5tUm+iGFDnHzsiJaf7g@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jose,

On 7/6/12 9:09 AM, Jose María Zaragoza wrote:
> 2012/7/6 Christopher Schultz <chris@christopherschultz.net>:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> 
>> It is unreasonable to queue requests as a mitigation for high
>> load: you will only make things worse for your clients.
>> 
> 
> If I create a valve which delays requests by source IP address ,
> how does it affect to all request ?

If you merely delay (e.g. using Thread.sleep) then you starve other
requests from getting processed. If you are able to put the request
back into the request queue and then have the thread continue on to
the next request, then you run the risk of (ultimately) starving the
IP that needs to be delayed.

> I mean, if my valve performs a sleep() for 2 min. when  receives a 
> request from certain IP ,

That's insane.

> what does it happen with others requests from other clients ?

The other requests have to wait, of course.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/3I3cACgkQ9CaO5/Lv0PCqxwCgwFP2KIs++N7CYTW1p/4lUK69
6lUAoI6hmgGOQ+0F29ztYSD+S2qTNQET
=KAZW
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:43:34 2012
Return-Path: <users-return-235337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E2FED765
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:43:34 +0000 (UTC)
Received: (qmail 7105 invoked by uid 500); 6 Jul 2012 17:43:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6892 invoked by uid 500); 6 Jul 2012 17:43:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6883 invoked by uid 99); 6 Jul 2012 17:43:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:43:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:43:24 +0000
Received: by vcbfo13 with SMTP id fo13so8400529vcb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 10:43:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=HjB1uojnGmF3Bmu87pmV2oJa/wRnxSQ7vJfatFkGL1Q=;
        b=APr0MyLU12RgYXKdgsVVzbksSPcgv4y373eIRuZzZd5YO+TR4OCLuJyl17kglBguk/
         +WA/KsC1W3mnlbGwV2ITGv5J0dCrXJRdpBmgNnvOup6S1QoCl61VXKgjYkLacVliqZHv
         vC6j/UXd692SQpaF0J8c5xOxJKGXJurR1iwgW/5/BVmNIE/oZCMLAG40cT4hS2V6YCqw
         BqYm33pw4teZOUx13qs4G8IxseVe5jgpYK/NPBJbb3sYkgof8oPBfucDKAgiBpOaShnK
         qri56VMGceygaUkjSWwQ+RoOf/YSUrSsSRCVViVqAGi+zZBgzOWzs6Tuhuo+7D1H0a/G
         ZPpQ==
MIME-Version: 1.0
Received: by 10.52.174.226 with SMTP id bv2mr12614074vdc.32.1341596583265;
 Fri, 06 Jul 2012 10:43:03 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 6 Jul 2012 10:43:03 -0700 (PDT)
In-Reply-To: <D31CAEA689ABF34F800995A54075B11B028DA8@xmb-aln-x11.cisco.com>
References: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
	<4FF6BD17.9050103@apache.org>
	<D31CAEA689ABF34F800995A54075B11B028DA8@xmb-aln-x11.cisco.com>
Date: Fri, 6 Jul 2012 21:43:03 +0400
Message-ID: <CABzHfV=2z+AN4Y4nZzBO6AF6smkwXva-V_XJTphT8ks3pGkarw@mail.gmail.com>
Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore configuration
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/7/6 Arun John (arujohn) <arujohn@cisco.com>:
> Hi Mark,
>
> Thanks for your quick response.
>
> I should have been a little more clear. That snip was copied when I had o=
nly one key entry in my keystore and both the passwords were the same.
>
> Now coming to the actual issue. As long as there is only one key in the k=
eystore, it works perfectly fine and I can provide different passwords for =
keystore and private key using keystorePass and keyPass options and it work=
s flawlessly. But the issue seems to be happening when I have multiple key =
entries and that I store those key entries using different passwords. Then =
it throws the error
>
> For eg :
>
> I have a keystore named servercerts. The keystore password is "changed"
> In the keystore, I have 3 private keys (tomcatcert, adminuicert, wscert)
> The password for tomcatcert is "fortomcat"
> The password for adminuicert is "foradminui"
> The password for wscert is "forwebserver"
>
> Now I configured my server.xml to be
>          <Connector port=3D"8443" protocol=3D"HTTP/1.1" SSLEnabled=3D"tru=
e"
>  maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
>  sslProtocol=3D"TLS"  keyAlias =3D"adminuicert" keyPass=3D"foradminui"
>  keystoreFile=3D"bin/servercerts" keystorePass=3D"changed"/>
>
> Then when I start my tomcat, I run into this error. To be specific, with =
single key entry in the keystore everything works fine. With multiple key e=
ntries and different passwords, it throws the error.
>
> Am I missing something here. Can you confirm whether it works fine in the=
 above scenario. I use jdk1.6.0_32 to generate the keystore.
>
> Regards,
> Arun
>
>
> -----Original Message-----
> From: Mark Thomas [mailto:markt@apache.org]
> Sent: Friday, July 06, 2012 3:55 PM
> To: Tomcat Users List
> Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore configuration
>
> On 06/07/2012 10:04, Arun John (arujohn) wrote:
>> Hi Team,
>>
>> I am currently facing an issue with SSL configuration in Tomcat
>> 7.0.27. I have one keystore with three private keys to be used by
>> different components . The password I am using for the keystore file
>> is "changed". The requirement is such that I should be using three
>> different password for the three private keys I store in my keystore.
>> I have configured my server.xml to allow https connections, basically
>> modified the connectors.
>>
>> <Connector port=3D"7443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"
>> maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
>> sslProtocol=3D"TLS"  keyAlias =3D"adminuicert"
>> keystoreFile=3D"bin/.keystore" keystorePass=3D"changed"/>
>
> You have not specified the password for the key. Why would you expect thi=
s to work?
>
>> I am running into an issue here. When I configure different key
>> passwords for my private keys different from my keystore password I am
>> running into an exception saying it cannot recover the key. I have
>> attached the catalina log.  I am not finding a way to provide the
>> private key password in the server.xml

Looking at the code where exception comes from,
in JSSESocketFactory#getKeyManagers(...)
[[[
        KeyManagerFactory kmf =3D KeyManagerFactory.getInstance(algorithm);
        String keyPass =3D endpoint.getKeyPass();
        if (keyPass =3D=3D null) {
            keyPass =3D keystorePass;
        }
        kmf.init(ks, keyPass.toCharArray());

        kms =3D kmf.getKeyManagers();
]]]

The "kmf.init(..)" call to Java API fails. At this point the key alias
has not come into play yet.

Looking at implementation of the Java APIs mentioned in your
stacktrace, I should say that this is limitation of those.  This Sun
implementation of KeyManagerFactory iterates over all keys of
keystore, creating a Key for each and initializing some internal
hashtable.  As you encountered, it fails fatally if any of the keys is
not readable with the provided password.

The call to kmf.init(..) cannot be avoided, as the key manager factory
is unusable without it.

Maybe it is possible to find more clever implementation of
KeyManagerFactory somewhere that does not read the keys that it does
not need. Or a different implementation of KeyStore, that serves as a
proxy and hides unneeded keys in KeyStore#aliases() enumeration.


Anyway, the easiest workaround at this point is to use 3 different
keystores each containing a single key. The path to keystore is
configurable, as you may note.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:47:25 2012
Return-Path: <users-return-235338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68BB3D778
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:47:25 +0000 (UTC)
Received: (qmail 18252 invoked by uid 500); 6 Jul 2012 17:47:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18214 invoked by uid 500); 6 Jul 2012 17:47:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18203 invoked by uid 99); 6 Jul 2012 17:47:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:47:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:47:16 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id WzpD1j0041uE5Es545mx9T; Fri, 06 Jul 2012 17:46:57 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id X5n21j00f1FXhpX3c5n2XM; Fri, 06 Jul 2012 17:47:03 +0000
Message-ID: <4FF7249F.4050808@christopherschultz.net>
Date: Fri, 06 Jul 2012 13:47:11 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu> <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
In-Reply-To: <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/6/12 12:54 PM, Konstantin Kolinko wrote:
> 2012/7/6 Wei, Mingzhen <weim@mst.edu>:
>> I was trying to build Apache Tomcat 5.5 Servelet for another
>> application. I followed the steps from the link:
>> http://tomcat.apache.org/tomcat-5.5-doc/building.html. I have
>> done the following:
>> 
>> 1.       Installed JDK1.6
>> 
>> 2.       Download and installed Apache Ant 1.8.4
>> 
>> 3.       Download Tomcat 5.5 source package in zip file
>> 
>> 4.       Set and updated the environment parameters for
>> JAVA_HOME, PATH, ANT_HOME
>> 
>> I cannot run the following step "ant download" correctly. It
>> complains the "includeantruntime" setup, and alerting me with
>> errors for classes as BasicDataSource, DelegatingStatement,
>> DelegatingPreparedStatement, and many more. The errors say that
>> those classes as not abstract and do not override the abstract
>> methods in other sources.
> 
> 1. You need JDK 1.4 to build Tomcat 5.5. 2. The version of Ant
> targeted by the build script is 1.6.2.

With only a little bit of digging, I couldn't find an earliest-version
of Ant that supports the "includeAntRuntime" attribute for <javac>.
But, I suspect that 1.6.2 *does* support it, so there doesn't seem to
be a reason not to specify a value for it in the build file. That will
allow Tomcat 5.5 to be built with later ant versions (but, of course,
using the proper JDK version).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/3JJ8ACgkQ9CaO5/Lv0PDrGQCgt8WyLNF65G+bc+VReUE2hiEd
IXUAn2vf6qqGa/+r7TzlJ1c94A3qpdpj
=3kIJ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 17:57:17 2012
Return-Path: <users-return-235339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4BF89D7BE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 17:57:17 +0000 (UTC)
Received: (qmail 48711 invoked by uid 500); 6 Jul 2012 17:57:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48504 invoked by uid 500); 6 Jul 2012 17:57:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48493 invoked by uid 99); 6 Jul 2012 17:57:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:57:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 17:57:06 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id X2kY1j0080vyq2s515wmY8; Fri, 06 Jul 2012 17:56:46 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id X5wp1j00E1FXhpX3R5wp3x; Fri, 06 Jul 2012 17:56:50 +0000
Message-ID: <4FF726DC.3090906@christopherschultz.net>
Date: Fri, 06 Jul 2012 13:56:44 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: High load from tomcat, no users, no errors
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
In-Reply-To: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Francis,

On 7/6/12 12:52 PM, francis picabia wrote:
> I have two servers with Debian 6 and an older tomcat 5.0.30

Echoing Chuck's comments: upgrade. You are almost 4 major releases behind.

> top - 13:41:38 up 30 days,  6:21,  2 users,  load average: 0.00,
> 0.00, 0.00

Load average: 0.00 0.00 0.00

High load?

Note that your OS may or may not count individual threads as processes
for the purposes of computing the load average (which, on Linux, is
the average length of the run queue in number-of-processes). If your
kernel doesn't count threads separately, then you can have an
effective load of, say, 100, even though your load average only says
1.00 (because it's all counted as one process). Just be sure you know
what your numbers mean.

> Tasks: 263 total,   2 running, 261 sleeping,   0 stopped,   0
> zombie Cpu(s):  4.7%us,  4.4%sy,  0.0%ni, 90.3%id,  0.0%wa,
> 0.0%hi,  0.5%si,  0.0%st Mem:  16461112k total, 16335376k used,
> 125736k free,   549972k buffers Swap:  3906552k total,        0k
> used,  3906552k free, 14871648k cached

CPU(s) is(are) 90% idle. High load? Looks like even user/system use
which suggests that at least something is being accomplished.

> PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND 
> 23648 tomcat    20   0 4623m 203m  10m S  109  1.3 284:04.69 java

109% of your CPU suggests that more than one CPU is in use: how many
do you have?

> I should add that the tomcat apps all appear to work, but we are 
> simply seeing a very high load.

You mean lots of apparent CPU usage.

> "TP-Processor1" daemon prio=10 tid=0x00007f18342f2000 nid=0x5c8e 
> runnable [0x00007f18338f7000] java.lang.Thread.State: RUNNABLE at
> java.net.SocketInputStream.socketRead0(Native Method) at
> java.net.SocketInputStream.read(SocketInputStream.java:129) at
> java.io.BufferedInputStream.fill(BufferedInputStream.java:218) at
> java.io.BufferedInputStream.read1(BufferedInputStream.java:258) at
> java.io.BufferedInputStream.read(BufferedInputStream.java:317) -
> locked <0x00000007ac54b6c0> (a java.io.BufferedInputStream) at
> org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:598) at
> org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:535) 
> at
> org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:663)
>
> 
at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:866)
> at
> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
>
> 
at java.lang.Thread.run(Thread.java:662)

This thread is handling a request: are you sure there is no traffic?

All other threads are idle or blocked on some condition, which means
they shouldn't be using any CPU at all.

Are you sure you got a thread dump from the right process?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/3JtwACgkQ9CaO5/Lv0PA1BQCferJz1pzDXQBfaxKkhiG+bD1u
nmEAoLF6kzJ9kMh9jGR+HK3WMqophW1J
=XTV4
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 18:03:58 2012
Return-Path: <users-return-235340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13BDCD815
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 18:03:58 +0000 (UTC)
Received: (qmail 69440 invoked by uid 500); 6 Jul 2012 18:03:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69387 invoked by uid 500); 6 Jul 2012 18:03:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69340 invoked by uid 99); 6 Jul 2012 18:03:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:03:54 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of arujohn@cisco.com designates 173.37.86.77 as permitted sender)
Received: from [173.37.86.77] (HELO rcdn-iport-6.cisco.com) (173.37.86.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:03:45 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=arujohn@cisco.com; l=5292; q=dns/txt;
  s=iport; t=1341597825; x=1342807425;
  h=from:to:subject:date:message-id:references:in-reply-to:
   content-transfer-encoding:mime-version;
  bh=kTIRGI5EovWQrKSHV5UAmnfpqyuSLsGfqgUQEYf1o4c=;
  b=QA/o8Ktnf83CIMeM4Tqpe6pmXWXYhHkxR1WfJbMPBM5NOhinDE/LkyfN
   eO+4a3ZfRNYZ28Wxq8Bio1vA9x9tIbebYCpO5FIHrudRq9GnrETcMwax0
   88g/emO/a6Uzj9hpyvokq2LlXEO/qSRamPA6VjYtdc7b3qVa+EMIore0C
   4=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av8EAMYn90+tJV2a/2dsb2JhbABFt0+BB4IYAQEBBBIBJxQ3BAIBCBEEAQEBCg4GCQchEAEUCQgBAQQIBwQBBxUEAYdbAwuaW5ZJDYlOilNmGoJygjpgA6A6gxqBZoJfgV8
X-IronPort-AV: E=Sophos;i="4.77,539,1336348800"; 
   d="scan'208";a="99456990"
Received: from rcdn-core-3.cisco.com ([173.37.93.154])
  by rcdn-iport-6.cisco.com with ESMTP; 06 Jul 2012 18:03:24 +0000
Received: from xhc-rcd-x04.cisco.com (xhc-rcd-x04.cisco.com [173.37.183.78])
	by rcdn-core-3.cisco.com (8.14.5/8.14.5) with ESMTP id q66I3OhX021432
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <users@tomcat.apache.org>; Fri, 6 Jul 2012 18:03:24 GMT
Received: from xmb-aln-x11.cisco.com ([169.254.6.238]) by
 xhc-rcd-x04.cisco.com ([173.37.183.78]) with mapi id 14.02.0298.004; Fri, 6
 Jul 2012 13:03:24 -0500
From: "Arun John (arujohn)" <arujohn@cisco.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Topic: Possible issue with Tomcat 7.0.27 SSL keystore configuration
Thread-Index: Ac1bVmQzjohvxqAjRieGvfcg+IdxWQANS2yAAAiy/rAABpV1gAAJ0v1w
Date: Fri, 6 Jul 2012 18:03:23 +0000
Message-ID: <D31CAEA689ABF34F800995A54075B11B028F66@xmb-aln-x11.cisco.com>
References: <D31CAEA689ABF34F800995A54075B11B028CCF@xmb-aln-x11.cisco.com>
	<4FF6BD17.9050103@apache.org>
	<D31CAEA689ABF34F800995A54075B11B028DA8@xmb-aln-x11.cisco.com>
 <CABzHfV=2z+AN4Y4nZzBO6AF6smkwXva-V_XJTphT8ks3pGkarw@mail.gmail.com>
In-Reply-To: <CABzHfV=2z+AN4Y4nZzBO6AF6smkwXva-V_XJTphT8ks3pGkarw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.65.84.217]
x-tm-as-product-ver: SMEX-10.2.0.1135-7.000.1014-19022.006
x-tm-as-result: No--56.681300-8.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Thanks Kolinko!!

Does anyone knows of such a smarter keystore implementation or a better way=
 to accomplish this.

It would be of great help if someone could help me here

Regards,
Arun

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Friday, July 06, 2012 11:13 PM
To: Tomcat Users List
Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore configuration

2012/7/6 Arun John (arujohn) <arujohn@cisco.com>:
> Hi Mark,
>
> Thanks for your quick response.
>
> I should have been a little more clear. That snip was copied when I had o=
nly one key entry in my keystore and both the passwords were the same.
>
> Now coming to the actual issue. As long as there is only one key in=20
> the keystore, it works perfectly fine and I can provide different=20
> passwords for keystore and private key using keystorePass and keyPass=20
> options and it works flawlessly. But the issue seems to be happening=20
> when I have multiple key entries and that I store those key entries=20
> using different passwords. Then it throws the error
>
> For eg :
>
> I have a keystore named servercerts. The keystore password is "changed"
> In the keystore, I have 3 private keys (tomcatcert, adminuicert,=20
> wscert) The password for tomcatcert is "fortomcat"
> The password for adminuicert is "foradminui"
> The password for wscert is "forwebserver"
>
> Now I configured my server.xml to be
>          <Connector port=3D"8443" protocol=3D"HTTP/1.1" SSLEnabled=3D"tru=
e"
>  maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
>  sslProtocol=3D"TLS"  keyAlias =3D"adminuicert" keyPass=3D"foradminui"
>  keystoreFile=3D"bin/servercerts" keystorePass=3D"changed"/>
>
> Then when I start my tomcat, I run into this error. To be specific, with =
single key entry in the keystore everything works fine. With multiple key e=
ntries and different passwords, it throws the error.
>
> Am I missing something here. Can you confirm whether it works fine in the=
 above scenario. I use jdk1.6.0_32 to generate the keystore.
>
> Regards,
> Arun
>
>
> -----Original Message-----
> From: Mark Thomas [mailto:markt@apache.org]
> Sent: Friday, July 06, 2012 3:55 PM
> To: Tomcat Users List
> Subject: Re: Possible issue with Tomcat 7.0.27 SSL keystore=20
> configuration
>
> On 06/07/2012 10:04, Arun John (arujohn) wrote:
>> Hi Team,
>>
>> I am currently facing an issue with SSL configuration in Tomcat=20
>> 7.0.27. I have one keystore with three private keys to be used by=20
>> different components . The password I am using for the keystore file=20
>> is "changed". The requirement is such that I should be using three=20
>> different password for the three private keys I store in my keystore.
>> I have configured my server.xml to allow https connections, basically=20
>> modified the connectors.
>>
>> <Connector port=3D"7443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"
>> maxThreads=3D"150" scheme=3D"https" secure=3D"true" clientAuth=3D"false"
>> sslProtocol=3D"TLS"  keyAlias =3D"adminuicert"
>> keystoreFile=3D"bin/.keystore" keystorePass=3D"changed"/>
>
> You have not specified the password for the key. Why would you expect thi=
s to work?
>
>> I am running into an issue here. When I configure different key=20
>> passwords for my private keys different from my keystore password I=20
>> am running into an exception saying it cannot recover the key. I have=20
>> attached the catalina log.  I am not finding a way to provide the=20
>> private key password in the server.xml

Looking at the code where exception comes from, in JSSESocketFactory#getKey=
Managers(...)
[[[
        KeyManagerFactory kmf =3D KeyManagerFactory.getInstance(algorithm);
        String keyPass =3D endpoint.getKeyPass();
        if (keyPass =3D=3D null) {
            keyPass =3D keystorePass;
        }
        kmf.init(ks, keyPass.toCharArray());

        kms =3D kmf.getKeyManagers();
]]]

The "kmf.init(..)" call to Java API fails. At this point the key alias has =
not come into play yet.

Looking at implementation of the Java APIs mentioned in your stacktrace, I =
should say that this is limitation of those.  This Sun implementation of Ke=
yManagerFactory iterates over all keys of keystore, creating a Key for each=
 and initializing some internal hashtable.  As you encountered, it fails fa=
tally if any of the keys is not readable with the provided password.

The call to kmf.init(..) cannot be avoided, as the key manager factory is u=
nusable without it.

Maybe it is possible to find more clever implementation of KeyManagerFactor=
y somewhere that does not read the keys that it does not need. Or a differe=
nt implementation of KeyStore, that serves as a proxy and hides unneeded ke=
ys in KeyStore#aliases() enumeration.


Anyway, the easiest workaround at this point is to use 3 different keystore=
s each containing a single key. The path to keystore is configurable, as yo=
u may note.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 18:24:36 2012
Return-Path: <users-return-235341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71AB6DBDB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 18:24:36 +0000 (UTC)
Received: (qmail 28137 invoked by uid 500); 6 Jul 2012 18:24:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28011 invoked by uid 500); 6 Jul 2012 18:24:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28001 invoked by uid 99); 6 Jul 2012 18:24:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:24:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fpicabia@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:24:26 +0000
Received: by pbbro12 with SMTP id ro12so18040358pbb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 11:24:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=99h++Pudxd2uVzTcV5kl86aTxQAcNBNx4CeB8mcBfiM=;
        b=Vkv/DIOsYNLrPS/DAn2XR+3fMcxallyJlqf8IoD2EPm2qIA2LSYElRjHrDQivfsqz6
         dlW7tlmRW0FVp1Ee7SGfa4rwM9cVXgxobsDwrrwJkIQqC6zoQuSbyjMCI0Iz8smKEZaK
         7c2WCdVcvnyR4S91BXBhr78Qv4VinpJXmHxtpuU21nrIyop1NXT07/idDAO7pkNgEvc6
         XtOkJLi3Hov2iQ/tPSviv9JS7u6Q0I/yDJCb5ic/bd9L+A7kx06npFHiIDw0f8R6YscV
         DjySVsxBv5oSQ7V9tWZJjjZkWDMgTN+IJiMIDL+ezbaLXVtyE7PF0jt9tl6GsJp2oJ5R
         Yu7g==
MIME-Version: 1.0
Received: by 10.68.195.102 with SMTP id id6mr39054066pbc.120.1341599046614;
 Fri, 06 Jul 2012 11:24:06 -0700 (PDT)
Received: by 10.66.249.98 with HTTP; Fri, 6 Jul 2012 11:24:06 -0700 (PDT)
In-Reply-To: <4FF726DC.3090906@christopherschultz.net>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
	<4FF726DC.3090906@christopherschultz.net>
Date: Fri, 6 Jul 2012 15:24:06 -0300
Message-ID: <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com>
Subject: Re: High load from tomcat, no users, no errors
From: francis picabia <fpicabia@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Here is a new scenario:

firewall is blocking 8080 and apache is off.
tomcat 7.0.28 from tarball install is running
as user tomcat.

Load is about 6.  It never comes down
after some 5 minutes or so.  Again, this
is simply the tarball install, with no configuration.

Here is the top of top:

top - 15:13:58 up 52 days,  7:43,  2 users,  load average: 6.35, 4.48, 2.18
Tasks: 141 total,   2 running, 139 sleeping,   0 stopped,   0 zombie
Cpu(s): 43.1%us, 55.0%sy,  0.0%ni,  0.0%id,  0.0%wa,  0.0%hi,  1.9%si,  0.0%st
Mem:   6128864k total,  5197444k used,   931420k free,   772404k buffers
Swap:  2506100k total,     9156k used,  2496944k free,  3360572k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 9866 tomcat    20   0 2000m  81m 9.8m S  283    1.4   9:37.85 java
   13  root         20   0     0    0    0 S             32    0.0
1940:37 ksoftirqd/3
     7  root         20   0     0    0    0 S             31    0.0
1957:11 ksoftirqd/1
   10  root         20   0     0    0    0 R             30    0.0
1956:46 ksoftirqd/2
     4  root         20   0     0    0    0 S             23    0.0
1943:29 ksoftirqd/0
2269  snmp      20   0 43696 3256 1428 S    0  0.1  19:48.97 snmpd
6273  postgres  20   0  170m 3136  292 S    0  0.1  72:54.91 postgres
    1   root         20   0  8356  676  632 S    0  0.0   0:23.98 init

Here is the thread dump - is there anything interesting here?

INFO: Server startup in 685 ms
2012-07-06 15:18:13
Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.1-b02 mixed mode):

"ajp-bio-8009-AsyncTimeout" daemon prio=10 tid=0x00007f494c079800
nid=0x26a0 sleeping[0x00007f495c9f7000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
	at java.lang.Thread.sleep(Native Method)
	at org.apache.tomcat.util.net.JIoEndpoint$AsyncTimeout.run(JIoEndpoint.java:148)
	at java.lang.Thread.run(Thread.java:662)

"ajp-bio-8009-Acceptor-0" daemon prio=10 tid=0x00007f494c090000
nid=0x269f runnable [0x00007f495caf8000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000000e24a6dc8> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:60)
	at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:216)
	at java.lang.Thread.run(Thread.java:662)

"http-bio-8080-AsyncTimeout" daemon prio=10 tid=0x00007f494c08e800
nid=0x269e sleeping[0x00007f495cbf9000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
	at java.lang.Thread.sleep(Native Method)
	at org.apache.tomcat.util.net.JIoEndpoint$AsyncTimeout.run(JIoEndpoint.java:148)
	at java.lang.Thread.run(Thread.java:662)

"http-bio-8080-Acceptor-0" daemon prio=10 tid=0x00007f494c0a7000
nid=0x269d runnable [0x00007f495ccfa000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000000e24ba4b0> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:60)
	at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:216)
	at java.lang.Thread.run(Thread.java:662)

"ContainerBackgroundProcessor[StandardEngine[Catalina]]" daemon
prio=10 tid=0x00007f4958972800 nid=0x269c waiting on condition
[0x00007f495cdfb000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
	at java.lang.Thread.sleep(Native Method)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1544)
	at java.lang.Thread.run(Thread.java:662)

"GC Daemon" daemon prio=10 tid=0x00007f494c009000 nid=0x2698 in
Object.wait() [0x00007f495d21f000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000e2430070> (a sun.misc.GC$LatencyLock)
	at sun.misc.GC$Daemon.run(GC.java:100)
	- locked <0x00000000e2430070> (a sun.misc.GC$LatencyLock)

"Low Memory Detector" daemon prio=10 tid=0x00007f4958023800 nid=0x2696
runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread1" daemon prio=10 tid=0x00007f4958020800 nid=0x2695
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread0" daemon prio=10 tid=0x00007f495801d800 nid=0x2694
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon prio=10 tid=0x00007f495801b800 nid=0x2693
waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Finalizer" daemon prio=10 tid=0x00000000414e8800 nid=0x2692 in
Object.wait() [0x00007f495d97e000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000e24303c8> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
	- locked <0x00000000e24303c8> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

"Reference Handler" daemon prio=10 tid=0x00000000414e6800 nid=0x2691
in Object.wait() [0x00007f495da7f000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000e2420120> (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Object.java:485)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)
	- locked <0x00000000e2420120> (a java.lang.ref.Reference$Lock)

"main" prio=10 tid=0x0000000041482000 nid=0x268b runnable [0x00007f4962630000]
   java.lang.Thread.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	- locked <0x00000000e1c20158> (a java.net.SocksSocketImpl)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at org.apache.catalina.core.StandardServer.await(StandardServer.java:452)
	at org.apache.catalina.startup.Catalina.await(Catalina.java:757)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:703)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:451)

"VM Thread" prio=10 tid=0x00000000414e0000 nid=0x2690 runnable

"GC task thread#0 (ParallelGC)" prio=10 tid=0x0000000041495000
nid=0x268c runnable

"GC task thread#1 (ParallelGC)" prio=10 tid=0x0000000041497000
nid=0x268d runnable

"GC task thread#2 (ParallelGC)" prio=10 tid=0x0000000041498800
nid=0x268e runnable

"GC task thread#3 (ParallelGC)" prio=10 tid=0x000000004149a800
nid=0x268f runnable

"VM Periodic Task Thread" prio=10 tid=0x0000000041502800 nid=0x2697
waiting on condition

JNI global references: 948

Heap
 PSYoungGen      total 27968K, used 19601K [0x00000000e0cb0000,
0x00000000e2be0000, 0x0000000100000000)
  eden space 24000K, 68% used
[0x00000000e0cb0000,0x00000000e1cbd4e0,0x00000000e2420000)
  from space 3968K, 79% used
[0x00000000e2420000,0x00000000e2737060,0x00000000e2800000)
  to   space 3968K, 0% used
[0x00000000e2800000,0x00000000e2800000,0x00000000e2be0000)
 PSOldGen        total 63872K, used 0K [0x00000000a2600000,
0x00000000a6460000, 0x00000000e0cb0000)
  object space 63872K, 0% used
[0x00000000a2600000,0x00000000a2600000,0x00000000a6460000)
 PSPermGen       total 21248K, used 15507K [0x000000009d400000,
0x000000009e8c0000, 0x00000000a2600000)
  object space 21248K, 72% used
[0x000000009d400000,0x000000009e324d28,0x000000009e8c0000)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 18:36:22 2012
Return-Path: <users-return-235342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0D25D389
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 18:36:22 +0000 (UTC)
Received: (qmail 57718 invoked by uid 500); 6 Jul 2012 18:36:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57494 invoked by uid 500); 6 Jul 2012 18:36:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57483 invoked by uid 99); 6 Jul 2012 18:36:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:36:19 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.211 as permitted sender)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:36:08 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-9.tower-201.messagelabs.com!1341599744!8926043!16
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13129 invoked from network); 6 Jul 2012 18:35:46 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-9.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 6 Jul 2012 18:35:46 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 6 Jul 2012 13:35:27 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 6 Jul
 2012 13:35:27 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 6 Jul 2012 13:35:26 -0500
Subject: RE: High load from tomcat, no users, no errors
Thread-Topic: High load from tomcat, no users, no errors
Thread-Index: Ac1bpJulv4+B7XDfRHifFnYZP8iseAAANAEQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
	<4FF726DC.3090906@christopherschultz.net>
 <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com>
In-Reply-To: <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: francis picabia [mailto:fpicabia@gmail.com]=20
> Subject: Re: High load from tomcat, no users, no errors

> firewall is blocking 8080 and apache is off.

By "apache" do you mean httpd?  Tomcat is also an Apache product.

> tomcat 7.0.28 from tarball install is running
> as user tomcat.

The tarball from tomcat.apache.org?  Or somewhere else?

>   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
>  9866 tomcat    20   0 2000m  81m 9.8m S  283    1.4   9:37.85 java

> Here is the thread dump - is there anything interesting here?

No - everything is idle, waiting for something to do.  As Chris suggested, =
you may well have another Tomcat process running that is eating up 2 - 3 co=
res.  Or perhaps you have webapps deployed with native code, which won't sh=
ow up in a Java thread dump.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 18:43:54 2012
Return-Path: <users-return-235343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 424FDD3C1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 18:43:54 +0000 (UTC)
Received: (qmail 88124 invoked by uid 500); 6 Jul 2012 18:43:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88041 invoked by uid 500); 6 Jul 2012 18:43:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88031 invoked by uid 99); 6 Jul 2012 18:43:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:43:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.249.164.176] (HELO cnc.cit.hu) (80.249.164.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 18:43:40 +0000
Received: from mail.cit.hu (c1.cit.hu [80.249.161.1])
	by cnc.cit.hu (Postfix) with ESMTP id A0C445F7BB
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 20:26:16 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by mail.cit.hu (Postfix) with ESMTP id 5A65C100090
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 20:43:17 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at cit.hu
X-Spam-Score: -2.9
X-Spam-Level: 
Received: from mail.cit.hu ([127.0.0.1])
	by localhost (newmail.cit.hu [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4jyHtP55yLsp for <users@tomcat.apache.org>;
	Fri,  6 Jul 2012 20:43:15 +0200 (CEST)
Received: from gonosz.cit.hu (business-178-48-16-153.business.broadband.hu [178.48.16.153])
	(Authenticated sender: balogh.peter@cit.hu)
	by mail.cit.hu (Postfix) with ESMTPSA id 465FC10008C
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 20:43:15 +0200 (CEST)
Received: from [10.0.0.17] (unknown [10.0.0.17])
	by gonosz.cit.hu (Postfix) with ESMTPS id 1CE83B8C
	for <users@tomcat.apache.org>; Fri,  6 Jul 2012 20:43:15 +0200 (CEST)
Message-ID: <4FF731B7.6020902@nemesys.hu>
Date: Fri, 06 Jul 2012 20:43:03 +0200
From: Peter Balogh <peter.balogh@nemesys.hu>
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: High load from tomcat, no users, no errors
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com> <4FF726DC.3090906@christopherschultz.net> <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Old-Spam-Flag: NO
X-Old-Spam-Status: No, score=-2.9 tagged_above=-999 required=6.31
	tests=[ALL_TRUSTED=-1, BAYES_00=-1.9] autolearn=ham

Hi,

Is that a debian based system? Isn't it a leap second related issue?
Do you have ntp installed? Did you restart the machine since saturday?

Just my ideas

Best regards,
Peter Balogh


On 2012.07.06. 20:35, Caldarale, Charles R wrote:
> Hi,
>
> Is that a debian based system? Isn't it a leap second related issue?
> Do you have ntp installed? Did you restart the machine since saturday?
>
> Just my ideas:)
>
> Best regards,
> Peter Balogh



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 19:00:48 2012
Return-Path: <users-return-235344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2358D474
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 19:00:48 +0000 (UTC)
Received: (qmail 48986 invoked by uid 500); 6 Jul 2012 19:00:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48918 invoked by uid 500); 6 Jul 2012 19:00:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48909 invoked by uid 99); 6 Jul 2012 19:00:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 19:00:45 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.82.242.179] (HELO mail86.messagelabs.com) (216.82.242.179)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jul 2012 19:00:37 +0000
X-Env-Sender: Chuck.Toman@stocksupply.com
X-Msg-Ref: server-11.tower-86.messagelabs.com!1341601215!37956471!1
X-Originating-IP: [206.208.94.52]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 12180 invoked from network); 6 Jul 2012 19:00:15 -0000
Received: from unknown (HELO sbs09932mx001.ds.stocksupply.com) (206.208.94.52)
  by server-11.tower-86.messagelabs.com with SMTP; 6 Jul 2012 19:00:15 -0000
Received: from sbs09932mx005.ds.stocksupply.com ([10.154.101.85]) by sbs09932mx001.ds.stocksupply.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 6 Jul 2012 15:00:12 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CD5BA9.91F8FEB1"
Subject: soap location address
Date: Fri, 6 Jul 2012 15:00:12 -0400
Message-ID: <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: soap location address
Thread-Index: Ac1bqZIDQOiC77YORtyEOpJ/M31/sQ==
From: "Toman, Chuck [Stock]" <Chuck.Toman@stocksupply.com>
To: <users@tomcat.apache.org>
X-OriginalArrivalTime: 06 Jul 2012 19:00:12.0131 (UTC) FILETIME=[92098330:01CD5BA9]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CD5BA9.91F8FEB1
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

How do you dynamically change soap location for WSDL files?

=20

=20

=20

=20


------_=_NextPart_001_01CD5BA9.91F8FEB1--

From users-return-235345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 19:10:05 2012
Return-Path: <users-return-235345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04BB1D4F9
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 19:10:05 +0000 (UTC)
Received: (qmail 84978 invoked by uid 500); 6 Jul 2012 19:10:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84916 invoked by uid 500); 6 Jul 2012 19:10:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84907 invoked by uid 99); 6 Jul 2012 19:10:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 19:10:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fpicabia@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 19:09:55 +0000
Received: by ggnp1 with SMTP id p1so11364600ggn.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 12:09:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=m9039c9gqrVuQlRUklTg5kb5ILJuMkZhqj53xFxjS2I=;
        b=l0rxeQEd8FBdc4GuqBHZyxEsOtUihU2LvVv5HfrP17JhvW3e+ggWg5WyAPjb/5MEu+
         bkMEuAd3xAfu8KP9HIweTb6yfmU+yB5zP+e8Z0Y3BmEQUKaSl89J2BexgdH/iVBkxZLQ
         ZZ4SE2FdxlApLgo5IzgKlO+RI83xlU+0YdORTlx9Tg3qg3sH9iS/XStwAT6T+LxnrDlv
         wlGwQC4RxhljTI6dBJBM7RayoMkZEBnt6mekpsb/XO4I32PoHGVWDro4fZeeGAQeekUK
         9pgB4e+tUSk8IGgzYBmL2xPuTPkxNbXaPCyVXG3stAC+MNMZrIswRnhrvOn1wmjyszqW
         tlWA==
MIME-Version: 1.0
Received: by 10.66.85.36 with SMTP id e4mr47360238paz.32.1341601773413; Fri,
 06 Jul 2012 12:09:33 -0700 (PDT)
Received: by 10.66.249.98 with HTTP; Fri, 6 Jul 2012 12:09:33 -0700 (PDT)
In-Reply-To: <4FF731B7.6020902@nemesys.hu>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
	<4FF726DC.3090906@christopherschultz.net>
	<CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com>
	<4FF731B7.6020902@nemesys.hu>
Date: Fri, 6 Jul 2012 16:09:33 -0300
Message-ID: <CA+AKB6HvdP+4pVPkPcFHsPD0wNWTCLChKVv8Cb5G9mfgSQQzbA@mail.gmail.com>
Subject: Re: High load from tomcat, no users, no errors
From: francis picabia <fpicabia@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Jul 6, 2012 at 3:43 PM, Peter Balogh <peter.balogh@nemesys.hu> wrote:
> Hi,
>
> Is that a debian based system? Isn't it a leap second related issue?
> Do you have ntp installed? Did you restart the machine since saturday?
>
> Just my ideas

I think you have the solution there.

I knew about the leap second but had not seen any issues.
I do have ntp installed and running.

I rebooted one server with the problem and it came back up
with normal low load on tomcat - this with tomcat 5.  So it
seems there was some delayed issue with the leap second
or something like that.

Anyway problem resolved...

Thanks...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 19:55:59 2012
Return-Path: <users-return-235346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA299C305
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 19:55:59 +0000 (UTC)
Received: (qmail 96083 invoked by uid 500); 6 Jul 2012 19:55:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96034 invoked by uid 500); 6 Jul 2012 19:55:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96025 invoked by uid 99); 6 Jul 2012 19:55:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 19:55:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 19:55:51 +0000
Received: by vcbfo13 with SMTP id fo13so8484203vcb.18
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 12:55:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=HJpnHVdDxC75MK0B4F5YpMbasnLwRgETFUhwEQrGDtQ=;
        b=b4WPLQ0t87MgDsUyE56bED5EAMT4RrBRozWQXN0cg5B/F6wtGJQU7mAD9h9/6nqQlg
         xnonKEOZIOFJksYTqZ35dr7v0944VgWxMv1hm0+VJNQ+msfm+QTLvM8fNBG42R9vU8eY
         CL6pOZZpOagAzywfepz3aIwVY0DXneaI4DyHbZuWhTDCx1EoIe1dQr8+vkMoQq8do8Uc
         u88zLNK3rBMTXYQkOOCEi5IqdKgmKiE+63D2Xz9K20NRvgz6CKfiw0oNNNivwSN719st
         3HgyN5pp+fMdwCCAkcn5hlWZM/GMa+A261TDfIO1fvXlCX4mxdIJaoXpABgq2om4MrZE
         2iNQ==
MIME-Version: 1.0
Received: by 10.220.153.136 with SMTP id k8mr15106287vcw.38.1341604531124;
 Fri, 06 Jul 2012 12:55:31 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 6 Jul 2012 12:55:30 -0700 (PDT)
In-Reply-To: <4FF7249F.4050808@christopherschultz.net>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
	<CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
	<4FF7249F.4050808@christopherschultz.net>
Date: Fri, 6 Jul 2012 23:55:30 +0400
Message-ID: <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/6 Christopher Schultz <chris@christopherschultz.net>:
>
> On 7/6/12 12:54 PM, Konstantin Kolinko wrote:
>> 2012/7/6 Wei, Mingzhen <weim@mst.edu>:
>>> I was trying to build Apache Tomcat 5.5 Servelet for another
>>> application. I followed the steps from the link:
>>> http://tomcat.apache.org/tomcat-5.5-doc/building.html. I have
>>> done the following:
>>>
>>> 1.       Installed JDK1.6
>>>
>>> 2.       Download and installed Apache Ant 1.8.4
>>>
>>> 3.       Download Tomcat 5.5 source package in zip file
>>>
>>> 4.       Set and updated the environment parameters for
>>> JAVA_HOME, PATH, ANT_HOME
>>>
>>> I cannot run the following step "ant download" correctly. It
>>> complains the "includeantruntime" setup, and alerting me with
>>> errors for classes as BasicDataSource, DelegatingStatement,
>>> DelegatingPreparedStatement, and many more. The errors say that
>>> those classes as not abstract and do not override the abstract
>>> methods in other sources.
>>
>> 1. You need JDK 1.4 to build Tomcat 5.5. 2. The version of Ant
>> targeted by the build script is 1.6.2.
>
> With only a little bit of digging, I couldn't find an earliest-version
> of Ant that supports the "includeAntRuntime" attribute for <javac>.
> But, I suspect that 1.6.2 *does* support it, so there doesn't seem to
> be a reason not to specify a value for it in the build file. That will
> allow Tomcat 5.5 to be built with later ant versions (but, of course,
> using the proper JDK version).

It is an interesting note. Anyway,
1. "ant download deploy" in 5.5 builds correctly with Ant 1.8.4 and
JDK 1.4.2_19.  So I do not see what the fix will bring besides a
silenced warning.

2. Anyone may propose a patch for 5.5 (either in STATUS or in bugzilla).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 20:44:52 2012
Return-Path: <users-return-235347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADFADD19F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 20:44:52 +0000 (UTC)
Received: (qmail 33563 invoked by uid 500); 6 Jul 2012 20:44:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33350 invoked by uid 500); 6 Jul 2012 20:44:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33341 invoked by uid 99); 6 Jul 2012 20:44:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 20:44:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.212.171 as permitted sender)
Received: from [209.85.212.171] (HELO mail-wi0-f171.google.com) (209.85.212.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 20:44:41 +0000
Received: by wibhq4 with SMTP id hq4so865350wib.0
        for <users@tomcat.apache.org>; Fri, 06 Jul 2012 13:44:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=/TK2+E+V5xIWuy/vsH9R8dwwKdbXXH2U3eLaOYOFVI4=;
        b=eMp1iLR/gKiv7v27qRqLXAhpmzPp9TLfCPxj6dm5DVInFHDPpu7ssy3vVAA0f14onZ
         EJgEL3Ivl5GDGfNRzR1Rmf4I9dcZj5PVGVglb56ag5SGD8rGPEQmuwffuwgiPju6EiPD
         v3JPuTCEcP88sS649X/I6SBPlAAKz+000ov38=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=/TK2+E+V5xIWuy/vsH9R8dwwKdbXXH2U3eLaOYOFVI4=;
        b=DAXxTlHGas0I2Hm6kuZqHEyTtfMixDroXTuV9SXw+BNeKpo70VMxg+l4BFXtRmX3QJ
         qh88y/XEFG8jQYkrE5apfY9m68w8DuKbubQxV7otjp5/QcWui8YLqahvi0Ak7ju+m6a6
         Xr+DtxnHoZWrSkFqW+Vrs3DR2LSOkMeRrf8kzhZGUfc0P08m0h1wPQrFMyw3ehRx0WoY
         olPdXxPj+gHM/C5WPcL/qQWa6pB0GcSfyUsxHUhbjp/LV8BmF2JO8pFI+ndfsQwSTXa4
         DwBXg2NzuJzz31C/EDyk2Hf2aZrT0PhckpekWTB4Q6gVp9cGB85h0SVfv6WOvUGQfP1K
         WIbg==
Received: by 10.216.0.212 with SMTP id 62mr2615229web.92.1341607460984;
        Fri, 06 Jul 2012 13:44:20 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id fu8sm7693131wib.5.2012.07.06.13.44.18
        (version=SSLv3 cipher=OTHER);
        Fri, 06 Jul 2012 13:44:18 -0700 (PDT)
Message-ID: <4FF74E1D.2000703@pidster.com>
Date: Fri, 06 Jul 2012 21:44:13 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: soap location address
References: <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com>
In-Reply-To: <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig03CB33DA93FFA3401CFF41F8"
X-Gm-Message-State: ALoCoQnS02n+bEG6M+cSxqFZ9zSmhquYTMKfRER15OAl03xRaqzKEHlRMQ30y8/uOhz8kU8VAoHs

--------------enig03CB33DA93FFA3401CFF41F8
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 06/07/2012 20:00, Toman, Chuck [Stock] wrote:
> How do you dynamically change soap location for WSDL files?

Are you asking this question on the right mailing list?
This list is for questions about Apache Tomcat.


p


--=20

[key:62590808]




--------------enig03CB33DA93FFA3401CFF41F8
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP904fAAoJEGoM2OGpOvr9vVQP/2Jyz5Ulb4fpZuHb65d79fBU
HNKRsc/HViIKa+aMDUfEUHou0iaHDflGxTesICOf1mCznes0vYQOzQ4XwnHrspkT
yBGTlNf73vVkXWTweEzh4SUj/wrrv3UhBuX5vv4meBWzuGuPcO9w0bM88BbQMMvz
bKWQpM2LKJZBj+KgWPcdzzPLMT+xibJkzoOiNif9bHDOeeEbE3ZuBjKXFJyO9Cej
EuxQcMxKx38a9D4yTRlxmDIniUmgiFb714Da49lGrKabFJp5T+WKFWxkJHsGApId
Ms+SFGegwwyENGrLBLr/uAdlD9VJs00bWLzQYY3wHL1CHZ5qQmNNrZmvJP4O03X7
LxPdH2OlPIxO6Sn+EPjPEhYbhxGTqvmtSYqJPnfhDjOkQRA8GjLjWvit+69B4dHk
ZYYnimOVWA1VGjEi8Fu9B90YT0Ktj6gsUgb5MCt3Gn4MKXL2nK57mpY2JWcJOabt
5b2VXcMJC+d4xgzSt/5M6poj9ZbYgChFMBWuo172uE/cVkWBU5YTwIvKPXE6xsX8
lQZA9wFtvvevR55fx6heEH72+CwoYqkanshbS2c2TRBucSMpuBL3E/zNf99yXgol
Eu015dde0cUxRvSkDp4pS52v1wQ1QJ3heAir3OPJ9dWhBE0Eo07vEYfpu+xD2Eqf
z4vAYUQcTpBgPGN5kNEi
=lfKQ
-----END PGP SIGNATURE-----

--------------enig03CB33DA93FFA3401CFF41F8--

From users-return-235348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul  6 23:08:42 2012
Return-Path: <users-return-235348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14553D2D3
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  6 Jul 2012 23:08:42 +0000 (UTC)
Received: (qmail 15108 invoked by uid 500); 6 Jul 2012 23:08:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15052 invoked by uid 500); 6 Jul 2012 23:08:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15042 invoked by uid 99); 6 Jul 2012 23:08:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 23:08:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [138.163.1.92] (HELO NAWESDNIAX11O.nmci.navy.mil) (138.163.1.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jul 2012 23:08:32 +0000
X-AuditID: 8aa3015b-b7cbfae000000e1c-69-4ff76f51b122
Received: from nawesdnieg09v.nadsuswe.nads.navy.mil (Gate1-Sandiego.nmci.navy.mil [138.163.0.41])
	by  (Symantec Mail Security) with SMTP id 2D.2E.03612.15F67FF4; Fri,  6 Jul 2012 23:05:53 +0000 (GMT)
Received: from nawesdnieb08v.nadsuswe.nads.navy.mil ([10.0.10.148]) by nawesdnieg09v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 6 Jul 2012 16:08:11 -0700
Received: from nawespsceb01v.nadsuswe.nads.navy.mil ([10.1.120.15]) by nawesdnieb08v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 6 Jul 2012 16:08:11 -0700
Received: from nawespscez08v.nadsuswe.nads.navy.mil ([10.1.120.173]) by nawespsceb01v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 6 Jul 2012 16:08:10 -0700
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: log4j to write Tomcat logs to Windows Event Log
Date: Fri, 6 Jul 2012 16:08:10 -0700
Message-ID: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: log4j to write Tomcat logs to Windows Event Log
Thread-Index: Ac1bzDZL/LAAXn73S3Khu+FwCxAuPA==
From: "Dunbar, Kevin D CIV SPAWARSYSCEN-PACIFIC, 56250" <kevin.dunbar@navy.mil>
To: <users@tomcat.apache.org>
X-OriginalArrivalTime: 06 Jul 2012 23:08:10.0775 (UTC) FILETIME=[36666A70:01CD5BCC]
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
=20
I am trying to use log4j.jar to do the logging in Tomcat 7.0.27 (on =
Windows XP) instead of java.util.logging so that I can append the logs =
to be output to the Windows Event Log.
=20
I followed the instructions to configure Tomcat to use log4j rather than =
java.util.logging for all Tomcat's internal logging.  =
(http://tomcat.apache.org/tomcat-7.0-doc/logging.html)
=20
I created a log4j.properties file and put it in $CATALINA_BASE/lib
I put log4j-1.2.15.jar that I downloaded into $CATALINA_HOME/lib
I put tomcat-juli-adapters.jar that I downloaded into $CATALINA_HOME/lib
I replaced tomcat-juli.jar from $CATALINA_HOME with the tomcat-juli.jar =
that I downloaded from Tomcat "extras"
=20
It seems that after I replaced the tomcat-juli.jar, I would get the =
following error in tomcat7-stderr.log
=20
2012-07-06 14:03:56 Commons Daemon procrun stderr initialized
log4j:WARN No appenders could be found for logger =
(org.apache.catalina.startup.Catalina).
log4j:WARN Please initialize the log4j system properly.
=20
I also deleted the logging.properties from $CATALINA_BASE/conf
=20
Can anyone please tell me why this warning is occurring when I replace =
tomcat-juli.jar?  Any help is greatly appreciated.
=20
=20
Kevin Dunbar
Code 56250
SPAWAR Systems Center Pacific
(619) 553-0777
kevin.dunbar@navy.mil

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 00:35:05 2012
Return-Path: <users-return-235349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B128DF07
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 00:35:05 +0000 (UTC)
Received: (qmail 91291 invoked by uid 500); 7 Jul 2012 00:35:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91251 invoked by uid 500); 7 Jul 2012 00:35:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91242 invoked by uid 99); 7 Jul 2012 00:35:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 00:35:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 00:34:55 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id X0v01j0041HzFnQ53CacZE; Sat, 07 Jul 2012 00:34:36 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id XCab1j00R1FXhpX3aCacVw; Sat, 07 Jul 2012 00:34:36 +0000
Message-ID: <4FF7841A.5000602@christopherschultz.net>
Date: Fri, 06 Jul 2012 20:34:34 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: High load from tomcat, no users, no errors
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com> <4FF726DC.3090906@christopherschultz.net> <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com> <4FF731B7.6020902@nemesys.hu>
In-Reply-To: <4FF731B7.6020902@nemesys.hu>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Peter,

On 7/6/12 2:43 PM, Peter Balogh wrote:
> Is that a debian based system? Isn't it a leap second related
> issue? Do you have ntp installed? Did you restart the machine since
> saturday?

"That's just insane", I thought. Until I checked-out my servers: one
of them had about a 6.00 load average and is mainly idle.

A quick Google[1] and I was able to fix my box:

$ sudo date -s now

Done.

Crazy.

- -chris

[1]
http://serverfault.com/questions/403732/anyone-else-experiencing-high-rates-of-linux-server-crashes-during-a-leap-second
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/3hBoACgkQ9CaO5/Lv0PDi3QCfcAg1frnmSwnpDr9pifVNw7zo
8scAoLFD4sqwEt/3JLzQTr6WVbAK3ARU
=cmc1
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 12:41:03 2012
Return-Path: <users-return-235350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D80329111
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 12:41:03 +0000 (UTC)
Received: (qmail 97469 invoked by uid 500); 7 Jul 2012 12:40:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97125 invoked by uid 500); 7 Jul 2012 12:40:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97085 invoked by uid 99); 7 Jul 2012 12:40:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 12:40:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.218 as permitted sender)
Received: from [68.230.241.218] (HELO eastrmfepo203.cox.net) (68.230.241.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 12:40:47 +0000
Received: from eastrmimpo110.cox.net ([68.230.241.223])
          by eastrmfepo203.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120707124026.URE18532.eastrmfepo203.cox.net@eastrmimpo110.cox.net>
          for <users@tomcat.apache.org>; Sat, 7 Jul 2012 08:40:26 -0400
Received: from eastrmwml302 ([172.18.18.217])
	by eastrmimpo110.cox.net with bizsmtp
	id XQgS1j00B4h0NJL02QgSzH; Sat, 07 Jul 2012 08:40:26 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020205.4FF82E3A.003F,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=bov7Dk+aHVe9tOpkHqVtQ9gtRLn8OJPb+gCg3JCEUOU=
 c=1 sm=1 a=tKuNuzCtC0IA:10 a=G8Uczd0VNMoA:10 a=gBlmMWyKDfwA:10
 a=1N-yuG7BIooA:10 a=IkcTkHD0fZMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:17
 a=93obO0db-ucbHyAke0YA:9 a=QEXdDO2ut3YA:10 a=PWBp/uTxiyyf5eZWroZrKg==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.205.21.52 by webmail.east.cox.net; Sat, 7 Jul 2012 8:40:26 -0400
Message-ID: <20120707084026.T4EIC.439877.imail@eastrmwml302>
Date: Sat, 7 Jul 2012 8:40:26 -0400
From:  <ohaya@cox.net>
To: users@tomcat.apache.org
Subject: NullPointerException/java.util.logging.ErrorManager: 5 when have
 <load-on-startup>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal

Hi,

I have a simple servlet deployed to Tomcat 6.0.35, and when I enable <load-on-startup> in the web.xml, so that the servlet's init() method gets run when Tomcat starts up, I get:

.
.
In LoginServlet.init: Returned from calling CreateDefaultInstance...
In LoginServlet.init: FINISHED initializing!!
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory showhdrs
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory docs
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory ROOT
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory examples

java.util.logging.ErrorManager: 5
java.lang.NullPointerException
        at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
        at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
        at java.util.ResourceBundle.getString(ResourceBundle.java:334)
        at java.util.logging.Formatter.formatMessage(Formatter.java:108)
        at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
        at org.apache.juli.FileHandler.publish(FileHandler.java:198)
        at java.util.logging.Logger.log(Logger.java:478)
        at java.util.logging.Logger.doLog(Logger.java:501)
        at java.util.logging.Logger.log(Logger.java:524)
.
.

i.e., It appears that my servlet's init() method completes successfully, but then later in the startup, Tomcat throws this exception (actually twice).

If I remove the <load-on-startup> from the servlet's web.xml, Tomcat starts fine, and processing in my servlet works ok (the init() method runs on first request, and service() method processes requests ok).

I think that that "5" indicates a format error in the (Tomcat) logging, but I'm not currently using/invoking any logger in my servlet.

Can anyone tell me what might be causing the error, and how I can eliminate the problem?  

Thanks,
Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 12:50:16 2012
Return-Path: <users-return-235351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98F99911D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 12:50:16 +0000 (UTC)
Received: (qmail 13545 invoked by uid 500); 7 Jul 2012 12:50:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13364 invoked by uid 500); 7 Jul 2012 12:50:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13345 invoked by uid 99); 7 Jul 2012 12:50:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 12:50:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 12:50:04 +0000
Received: from mail.homeinbox.net ([2.24.211.42])
	by mwinf5d55 with ME
	id XQpg1j0070vSH1u03Qpg2k; Sat, 07 Jul 2012 14:49:41 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 2BC1CEAB6BE
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 13:49:40 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nLa-hnxsbDz8 for <users@tomcat.apache.org>;
	Sat,  7 Jul 2012 13:49:36 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 33A49EAB6BC
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 13:49:36 +0100 (BST)
Message-ID: <4FF8305A.8000609@apache.org>
Date: Sat, 07 Jul 2012 13:49:30 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when have
 <load-on-startup>
References: <20120707084026.T4EIC.439877.imail@eastrmwml302>
In-Reply-To: <20120707084026.T4EIC.439877.imail@eastrmwml302>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 07/07/2012 13:40, ohaya@cox.net wrote:
> Can anyone tell me what might be causing the error, and how I can eliminate the problem? 

Since you have removed the part of the stack trace that might tell use
what the cause is, no.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 15:29:58 2012
Return-Path: <users-return-235352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C8899FD9
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 15:29:58 +0000 (UTC)
Received: (qmail 4264 invoked by uid 500); 7 Jul 2012 15:29:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4174 invoked by uid 500); 7 Jul 2012 15:29:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4164 invoked by uid 99); 7 Jul 2012 15:29:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 15:29:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 15:29:45 +0000
Received: from mail.homeinbox.net ([2.24.211.42])
	by mwinf5d23 with ME
	id XTVQ1j00C0vSH1u03TVQz9; Sat, 07 Jul 2012 17:29:25 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 5D52FEAB6BE
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 16:29:24 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2XzlVtQN0WPZ for <users@tomcat.apache.org>;
	Sat,  7 Jul 2012 16:29:20 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 978BEEAB6BC
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 16:29:20 +0100 (BST)
Message-ID: <4FF855CA.2070504@apache.org>
Date: Sat, 07 Jul 2012 16:29:14 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 Cluster Issue
References: <FF19241543251E479EB4BC7950552EA603ED8253@bocamail01.corp.nlg1.com> <1331316124.2818.19.camel@cleveland.mikusa.com> <FF19241543251E479EB4BC7950552EA603ED8370@bocamail01.corp.nlg1.com> <4F5B2C4A.8080209@pidster.com> <FF19241543251E479EB4BC7950552EA603ED89BA@bocamail01.corp.nlg1.com> <-5389419386778631998@unknownmsgid> <4F5E66F7.4080808@pidster.com> <FF19241543251E479EB4BC7950552EA603ED8ED7@bocamail01.corp.nlg1.com> <4F61C0F7.8020904@pidster.com>
In-Reply-To: <4F61C0F7.8020904@pidster.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 15/03/2012 10:14, Pid wrote:
> On 12/03/2012 22:14, Bruce Pease wrote:
>> I am using a windows 2003 server 32 bit standard edition SP2 with IIS 6.  I
>> have an isapi_redirect.dll v.1.2.31 communicating to tomcat via ajp1.3.  JDK
>> version was 7.03, and tomcat version is 7.0.26.  Tomcat is installed as a
>> service using the service.bat, and I am running two containers in the
>> clustered environment.  Session replication is in memory, and communication
>> is limited to within the server, i.e. not to any external server. 
>>
>> I can provide complete configuration files or more detail if needed.
>>
>> Thanks very much for your help.
> 
> Can you add the -Djava.net.preferIPv4Stack=true to your service startup
> settings?
> 
> See thread: "Re: Java 7 + Tomcat 6.0.35 + Win2k3 Problem" for more details.

For the archives, this was a Tomcat bug fixed in 7.0.30.
See http://svn.apache.org/viewvc?rev=1358591&view=rev

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 16:34:13 2012
Return-Path: <users-return-235353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEEFDDEF1
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 16:34:13 +0000 (UTC)
Received: (qmail 56237 invoked by uid 500); 7 Jul 2012 16:34:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56176 invoked by uid 500); 7 Jul 2012 16:34:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56167 invoked by uid 99); 7 Jul 2012 16:34:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 16:34:10 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.213 as permitted sender)
Received: from [68.230.241.213] (HELO eastrmfepo101.cox.net) (68.230.241.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 16:34:01 +0000
Received: from eastrmimpo209.cox.net ([68.230.241.224])
          by eastrmfepo101.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120707163340.KPLG18243.eastrmfepo101.cox.net@eastrmimpo209.cox.net>;
          Sat, 7 Jul 2012 12:33:40 -0400
Received: from eastrmwml206 ([172.18.18.217])
	by eastrmimpo209.cox.net with bizsmtp
	id XUZf1j00a4h0NJL02UZfva; Sat, 07 Jul 2012 12:33:39 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020206.4FF864E3.00D3,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=068CFsagVJli5dE+TaQBUnkXsqL349WKH5IIQ2ED1F0=
 c=1 sm=1 a=AI5qhiLbrHAA:10 a=G8Uczd0VNMoA:10 a=1N-yuG7BIooA:10
 a=IkcTkHD0fZMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:17 a=mV9VRH-2AAAA:8
 a=kviXuzpPAAAA:8 a=dXkOAwi2ndraHrxUx_gA:9 a=QEXdDO2ut3YA:10 a=88iI8knYSJUA:10
 a=4vB-4DCPJfMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.205.21.52 by webmail.east.cox.net; Sat, 7 Jul 2012 12:33:39 -0400
Message-ID: <20120707123339.I9UNS.429699.imail@eastrmwml206>
Date: Sat, 7 Jul 2012 12:33:39 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when
 have <load-on-startup>
Cc: Mark Thomas <markt@apache.org>
In-Reply-To: <4FF8305A.8000609@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal


---- Mark Thomas <markt@apache.org> wrote: 
> On 07/07/2012 13:40, ohaya@cox.net wrote:
> > Can anyone tell me what might be causing the error, and how I can eliminate the problem? 
> 
> Since you have removed the part of the stack trace that might tell use
> what the cause is, no.
> 
> Mark


Hi Mark,

Sorry about that.  Here's part of the catalina.out again, with the rest of the stack trace, plus showing it happens twice....


In LoginServlet.init: FINISHED initializing!!
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory showhdrs
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory docs
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory ROOT
Jul 7, 2012 8:21:31 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory examples
java.util.logging.ErrorManager: 5
java.lang.NullPointerException
        at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
        at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
        at java.util.ResourceBundle.getString(ResourceBundle.java:334)
        at java.util.logging.Formatter.formatMessage(Formatter.java:108)
        at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
        at org.apache.juli.FileHandler.publish(FileHandler.java:198)
        at java.util.logging.Logger.log(Logger.java:478)
        at java.util.logging.Logger.doLog(Logger.java:501)
        at java.util.logging.Logger.log(Logger.java:524)
        at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
        at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
        at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
        at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
        at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
        at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
        at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
        at java.lang.Thread.run(Thread.java:662)
java.util.logging.ErrorManager: 5
java.lang.NullPointerException
        at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
        at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
        at java.util.ResourceBundle.getString(ResourceBundle.java:334)
        at java.util.logging.Formatter.formatMessage(Formatter.java:108)
        at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
        at java.util.logging.StreamHandler.publish(StreamHandler.java:179)
        at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:88)
        at java.util.logging.Logger.log(Logger.java:478)
        at java.util.logging.Logger.doLog(Logger.java:501)
        at java.util.logging.Logger.log(Logger.java:524)
        at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
        at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
        at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
        at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
        at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
        at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
        at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
        at java.lang.Thread.run(Thread.java:662)
Jul 7, 2012 8:21:31 AM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8080

The "oracle" ones are because I'm using stuff from the Oracle OAM SDK, and I am initializing the SDK in the servlet init() method (which appears to be working).

Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 17:59:50 2012
Return-Path: <users-return-235354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBAFFDAE6
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 17:59:50 +0000 (UTC)
Received: (qmail 7131 invoked by uid 500); 7 Jul 2012 17:59:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6955 invoked by uid 500); 7 Jul 2012 17:59:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6944 invoked by uid 99); 7 Jul 2012 17:59:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 17:59:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.59] (HELO smtpout.wanadoo.co.uk) (80.12.242.59)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 17:59:37 +0000
Received: from mail.homeinbox.net ([2.24.211.42])
	by mwinf5d35 with ME
	id XVzG1j0040vSH1u03VzGhs; Sat, 07 Jul 2012 19:59:17 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id DCA7EEAB6BD
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 18:59:15 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wBzrAmk1k3SO for <users@tomcat.apache.org>;
	Sat,  7 Jul 2012 18:58:57 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id D1249EAB6BC
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 18:58:56 +0100 (BST)
Message-ID: <4FF878DA.4070300@apache.org>
Date: Sat, 07 Jul 2012 18:58:50 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when have
 <load-on-startup>
References: <20120707123339.I9UNS.429699.imail@eastrmwml206>
In-Reply-To: <20120707123339.I9UNS.429699.imail@eastrmwml206>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 07/07/2012 17:33, ohaya@cox.net wrote:

Trace A:
> java.util.logging.ErrorManager: 5
> java.lang.NullPointerException
>         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
>         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
>         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
>         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
>         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
>         at org.apache.juli.FileHandler.publish(FileHandler.java:198)
>         at java.util.logging.Logger.log(Logger.java:478)
>         at java.util.logging.Logger.doLog(Logger.java:501)
>         at java.util.logging.Logger.log(Logger.java:524)
>         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
>         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
>         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
>         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
>         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
>         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
>         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
>         at java.lang.Thread.run(Thread.java:662)
> java.util.logging.ErrorManager: 5

Trace B:
> java.lang.NullPointerException
>         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
>         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
>         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
>         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
>         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
>         at java.util.logging.StreamHandler.publish(StreamHandler.java:179)
>         at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:88)
>         at java.util.logging.Logger.log(Logger.java:478)
>         at java.util.logging.Logger.doLog(Logger.java:501)
>         at java.util.logging.Logger.log(Logger.java:524)
>         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
>         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
>         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
>         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
>         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
>         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
>         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
>         at java.lang.Thread.run(Thread.java:662)

Do you see any Tomcat code in Trace B? No? Neither do I. So what makes
you think there is a Tomcat problem here?

Given the only difference in Trace A is that you are using a Tomcat
Handler rather than the console I don't see anything here to suggest a
Tomcat bug.

Looking at the source for java.util.ListResourceBundle, the key or the
value being used for the log message is null. That makes this an OAM
bug, not a Tomcat one.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 20:17:20 2012
Return-Path: <users-return-235355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8882DA20
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 20:17:20 +0000 (UTC)
Received: (qmail 66870 invoked by uid 500); 7 Jul 2012 20:17:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66823 invoked by uid 500); 7 Jul 2012 20:17:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66813 invoked by uid 99); 7 Jul 2012 20:17:16 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 20:17:16 +0000
Received: from localhost (HELO mail-gh0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 20:17:16 +0000
Received: by ghrr14 with SMTP id r14so11904153ghr.18
        for <users@tomcat.apache.org>; Sat, 07 Jul 2012 13:17:15 -0700 (PDT)
Received: by 10.236.170.36 with SMTP id o24mr17683788yhl.40.1341692235163;
 Sat, 07 Jul 2012 13:17:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.130.7 with HTTP; Sat, 7 Jul 2012 13:16:54 -0700 (PDT)
In-Reply-To: <p06240800cc1bff9929a3@10.1.125.126>
References: <p06240800cc1bff9929a3@10.1.125.126>
From: Olivier Lamy <olamy@apache.org>
Date: Sat, 7 Jul 2012 22:16:54 +0200
Message-ID: <CAPoyBqS5S9uNpbKhyiFYvnH1LFN74_JSr4-rbnteB5qhkEJTNw@mail.gmail.com>
Subject: Re: confused by tomcat6/7 docs
To: Russ Tremain <russt@releasetools.org>, users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Yup because currently not all goals from tomcat6 have been implemented
in tomcat7.

http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat6-maven-plugin/plugin-info.html
whereas.
http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/plugin-info.html

You can load an issue (if possible with a patch :-) ) for goals you'd like see.

2012/7/6 Russ Tremain <russt@releasetools.org>:
> Hi Oliver,
>
> I must say I'm a bit confused by the examples & docs for
> tomcat7-maven-plugin.
>
> I see reference to a "war:explode" goal, which doesn't seem to exist. The
> reference is here:
>
>         http://tomcat.apache.org/maven-plugin-2.0-beta-1/context-goals.html
>
> But when I dump the plugin documentation [1], I see no such goal.
>
> What I would like to find out about the possibility to deploy an exploded
> war image to a local tomcat instance.
>
> I've been successfully using the deploy (tomcat7:deploy) goal, but my
> developers are complaining that it is too slow.  I need to work out a method
> to use an exploded war.
>
> Any help appreciated...
>
> thanks!
> -Russ
>
> [1] mvn -Dplugin=tomcat7 -DgroupId=org.apache.tomcat.maven -Dfull
> help:describe
> ...
> [INFO] org.apache.tomcat.maven:tomcat7-maven-plugin:2.0-beta-1
>
> Name: Apache Tomcat Maven Plugin :: Tomcat 7.x
> Description: The Tomcat Maven Plugin provides goals to manipulate WAR
>   projects within the Tomcat 7.x servlet container.
> Group Id: org.apache.tomcat.maven
> Artifact Id: tomcat7-maven-plugin
> Version: 2.0-beta-1
> Goal Prefix: tomcat7
>
> This plugin has 8 goals:
>
> tomcat7:deploy
>   Description: Deploy a WAR to Tomcat.
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployMojo
>   Language: java
>   Before this mojo executes, it will call:
>     Phase: 'package'
>
>   Available parameters:
>
>     charset (Default: ISO-8859-1)
>       The URL encoding charset to use when communicating with Tomcat
> manager.
>
>     contextFile
>       The path of the Tomcat context XML file. This is not used for war
>       deployment mode.
>
>     ignorePackaging (Default: false)
>       If set to true ignore if packaging of project is not 'war'.
>
>     mode (Default: war)
>       The deployment mode to use. This must be either war to deploy the war,
>       context to deploy the context XML file, or both to deploy the war with
>       the context XML file.
>
>     password
>       The password to use for deployment
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').
>
>     server
>       The server id in settings.xml to use when authenticating with Tomcat
>       manager, or null to use defaults of username admin and no password.
>
>     tag
>       The Tomcat webapp tag name to use.
>
>     update (Default: false)
>       Whether Tomcat should automatically undeploy webapps that already
> exist
>       when deploying.
>
>     url (Default: http://localhost:8080/manager/html)
>       The full URL of the Tomcat manager instance to use.
>
>     username
>       The tomcat username to use for deployment
>
>     warFile
>       The path of the WAR file to deploy.
>
> tomcat7:deploy-only
>   Description: Deploy a WAR to Tomcat witjout forking the package lifecycle
>   Implementation:
> org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployOnlyMojo
>   Language: java
>
>   Available parameters:
>
>     charset (Default: ISO-8859-1)
>       The URL encoding charset to use when communicating with Tomcat
> manager.
>
>     contextFile
>       The path of the Tomcat context XML file. This is not used for war
>       deployment mode.
>
>     ignorePackaging (Default: false)
>       If set to true ignore if packaging of project is not 'war'.
>
>     mode (Default: war)
>       The deployment mode to use. This must be either war to deploy the war,
>       context to deploy the context XML file, or both to deploy the war with
>       the context XML file.
>
>     password
>       The password to use for deployment
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').
>
>     server
>       The server id in settings.xml to use when authenticating with Tomcat
>       manager, or null to use defaults of username admin and no password.
>
>     tag
>       The Tomcat webapp tag name to use.
>
>     update (Default: false)
>       Whether Tomcat should automatically undeploy webapps that already
> exist
>       when deploying.
>
>     url (Default: http://localhost:8080/manager/html)
>       The full URL of the Tomcat manager instance to use.
>
>     username
>       The tomcat username to use for deployment
>
>     warFile
>       The path of the WAR file to deploy.
>
> tomcat7:exec-war
>   Description: (no description available)
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarMojo
>   Language: java
>   Before this mojo executes, it will call:
>     Phase: 'package'
>
>   Available parameters:
>
>     accessLogValveFormat (Default: %h %l %u %t )
>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>
>     attachArtifact (Default: true)
>       Attach or not the generated artifact to the build (use true if you
> want
>       to install or deploy it)
>
>     attachArtifactClassifier (Default: exec-war)
>       the classifier to use for the attached/generated artifact
>
>     attachArtifactClassifierType (Default: jar)
>       the type to use for the attached/generated artifact
>
>     buildDirectory (Default: ${project.build.directory})
>       (no description available)
>
>     connectorHttpProtocol (Default: HTTP/1.1)
>       which connector protocol to use HTTP/1.1 or
>       org.apache.coyote.http11.Http11NioProtocol
>
>     enableNaming (Default: false)
>       to enable naming when starting tomcat
>
>     extraDependencies
>       list of extra dependencies to add in the standalone tomcat jar: your
> jdbc
>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>
>     extraResources
>       list of extra resources to add in the standalone tomcat jar: your
> logger
>       configuration etc
>
>     finalName (Default:
> ${project.artifactId}-${project.version}-war-exec.jar)
>       Name of the generated exec JAR.
>
>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>       Main class to use for starting the standalone jar.
>
>     path (Default: ${project.artifactId})
>       The webapp context path to use for the web application being run. The
>       name to store webapp in exec jar. Do not use /
>
>     pluginArtifacts (Default: ${plugin.artifacts})
>       (no description available)
>
>     serverXml (Default: src/main/tomcatconf/server.xml)
>       (no description available)
>
>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>       (no description available)
>
>     warRunDependencies
>       (no description available)
>
> tomcat7:exec-war-only
>   Description: (no description available)
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarOnlyMojo
>   Language: java
>
>   Available parameters:
>
>     accessLogValveFormat (Default: %h %l %u %t )
>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>
>     attachArtifact (Default: true)
>       Attach or not the generated artifact to the build (use true if you
> want
>       to install or deploy it)
>
>     attachArtifactClassifier (Default: exec-war)
>       the classifier to use for the attached/generated artifact
>
>     attachArtifactClassifierType (Default: jar)
>       the type to use for the attached/generated artifact
>
>     buildDirectory (Default: ${project.build.directory})
>       (no description available)
>
>     connectorHttpProtocol (Default: HTTP/1.1)
>       which connector protocol to use HTTP/1.1 or
>       org.apache.coyote.http11.Http11NioProtocol
>
>     enableNaming (Default: false)
>       to enable naming when starting tomcat
>
>     extraDependencies
>       list of extra dependencies to add in the standalone tomcat jar: your
> jdbc
>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>
>     extraResources
>       list of extra resources to add in the standalone tomcat jar: your
> logger
>       configuration etc
>
>     finalName (Default:
> ${project.artifactId}-${project.version}-war-exec.jar)
>       Name of the generated exec JAR.
>
>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>       Main class to use for starting the standalone jar.
>
>     path (Default: ${project.artifactId})
>       The webapp context path to use for the web application being run. The
>       name to store webapp in exec jar. Do not use /
>
>     pluginArtifacts (Default: ${plugin.artifacts})
>       (no description available)
>
>     serverXml (Default: src/main/tomcatconf/server.xml)
>       (no description available)
>
>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>       (no description available)
>
>     warRunDependencies
>       (no description available)
>
> tomcat7:run
>   Description: Runs the current project as a dynamic web application using
> an
>     embedded Tomcat server.
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo
>   Language: java
>   Before this mojo executes, it will call:
>     Phase: 'compile'
>
>   Available parameters:
>
>     addContextWarDependencies (Default: false)
>       Will create a tomcat context for each dependencies of war type with
>       'scope' set to 'tomcat'. In other words, dependencies with:
>          <type>war</type>
>          <scope>tomcat</scope>
>       To preserve backward compatibility it's false by default.
>
>     additionalClasspathDirs
>       Additional optional directories to add to the embedded tomcat
> classpath.
>
>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>       The directory contains additional configuration Files that copied in
> the
>       Tomcat conf Directory.
>
>     addWarDependenciesInClassloader (Default: true)
>       will add /WEB-INF/lib/*.jar and /WEB-INF/classes from war dependencies
> in
>       the webappclassloader
>
>     ajpPort (Default: 0)
>       The AJP port to run the Tomcat server on. By default it's 0 this means
>       won't be started. The ajp connector will be started only for value >
> 0.
>
>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>       The AJP protocol to run the Tomcat server on. By default it's ajp.
> NOTE
>       The ajp connector will be started only if ajpPort > 0. possible values
>       are:
>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>         supports an executor
>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>
>     backgroundProcessorDelay (Default: -1)
>       represents the delay in seconds between each classPathScanning change
>       invocation
>
>     configurationDir
>       The directory to create the Tomcat server configuration under.
>
>     contextFile
>       The path of the Tomcat context XML file.
>
>     contextReloadable (Default: false)
>       Force context scanning if you don't use a context file with reloadable
> =
>       'true'. The other way to use contextReloadable is to add attribute
>       reloadable = 'true' in your context file.
>
>     delegate (Default: true)
>       Set the 'follow standard delegation model' flag used to configure our
>       ClassLoader.
>
>     fork (Default: false)
>       Set this to true to allow Maven to continue to execute after invoking
> the
>       run goal.
>
>     httpsPort (Default: 0)
>       The https port to run the Tomcat server on. By default it's 0 this
> means
>       won't be started. The https connector will be started only for value >
> 0.
>
>     ignorePackaging (Default: false)
>       If set to true ignore if packaging of project is not 'war'.
>
>     keystoreFile
>       Override the default keystoreFile for the HTTPS connector (if enabled)
>
>     keystorePass
>       Override the default keystorePass for the HTTPS connector (if enabled)
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').
>
>     pluginArtifacts
>       (no description available)
>
>     port (Default: 8080)
>       The port to run the Tomcat server on.
>
>     protocol (Default: HTTP/1.1)
>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>
>     serverXml
>       server.xml to use Note if you use this you must configure in this file
>       your webapp paths.
>
>     systemProperties
>       List of System properties to pass to the Tomcat Server.
>
>     tomcatLoggingFile
>       The path of the Tomcat logging configuration.
>
>     tomcatUsers
>       The path of the Tomcat users XML file.
>
>     tomcatWebXml
>       overriding the providing web.xml to run tomcat
>
>     uriEncoding (Default: ISO-8859-1)
>       The character encoding to use for decoding URIs.
>
>     useNaming (Default: true)
>       Enables or disables naming support for the embedded Tomcat server.
>
>       Note: This setting is ignored if you provide a server.xml for your
>       Tomcat. Instead please configure naming in the server.xml.
>
>     useSeparateTomcatClassLoader (Default: false)
>       if true a new classLoader separated from maven core will be created to
>       start tomcat.
>
>     useTestClasspath (Default: false)
>       will use the test classpath rather than the compile one and will add
> test
>       dependencies too
>
>     warSourceDirectory (Default: ${basedir}/src/main/webapp)
>       The web resources directory for the web application being run.
>
> tomcat7:run-war
>   Description: Runs the current project as a packaged web application using
>     an embedded Tomcat server.
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarMojo
>   Language: java
>   Before this mojo executes, it will call:
>     Phase: 'package'
>
>   Available parameters:
>
>     addContextWarDependencies (Default: false)
>       Will create a tomcat context for each dependencies of war type with
>       'scope' set to 'tomcat'. In other words, dependencies with:
>          <type>war</type>
>          <scope>tomcat</scope>
>       To preserve backward compatibility it's false by default.
>
>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>       The directory contains additional configuration Files that copied in
> the
>       Tomcat conf Directory.
>
>     ajpPort (Default: 0)
>       The AJP port to run the Tomcat server on. By default it's 0 this means
>       won't be started. The ajp connector will be started only for value >
> 0.
>
>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>       The AJP protocol to run the Tomcat server on. By default it's ajp.
> NOTE
>       The ajp connector will be started only if ajpPort > 0. possible values
>       are:
>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>         supports an executor
>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>
>     configurationDir
>       The directory to create the Tomcat server configuration under.
>
>     contextFile
>       The path of the Tomcat context XML file.
>
>     contextReloadable (Default: false)
>       Force context scanning if you don't use a context file with reloadable
> =
>       'true'. The other way to use contextReloadable is to add attribute
>       reloadable = 'true' in your context file.
>
>     fork (Default: false)
>       Set this to true to allow Maven to continue to execute after invoking
> the
>       run goal.
>
>     httpsPort (Default: 0)
>       The https port to run the Tomcat server on. By default it's 0 this
> means
>       won't be started. The https connector will be started only for value >
> 0.
>
>     ignorePackaging (Default: false)
>       If set to true ignore if packaging of project is not 'war'.
>
>     keystoreFile
>       Override the default keystoreFile for the HTTPS connector (if enabled)
>
>     keystorePass
>       Override the default keystorePass for the HTTPS connector (if enabled)
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').
>
>     pluginArtifacts
>       (no description available)
>
>     port (Default: 8080)
>       The port to run the Tomcat server on.
>
>     protocol (Default: HTTP/1.1)
>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>
>     serverXml
>       server.xml to use Note if you use this you must configure in this file
>       your webapp paths.
>
>     systemProperties
>       List of System properties to pass to the Tomcat Server.
>
>     tomcatLoggingFile
>       The path of the Tomcat logging configuration.
>
>     tomcatUsers
>       The path of the Tomcat users XML file.
>
>     tomcatWebXml
>       overriding the providing web.xml to run tomcat
>
>     uriEncoding (Default: ISO-8859-1)
>       The character encoding to use for decoding URIs.
>
>     useNaming (Default: true)
>       Enables or disables naming support for the embedded Tomcat server.
>
>       Note: This setting is ignored if you provide a server.xml for your
>       Tomcat. Instead please configure naming in the server.xml.
>
>     useSeparateTomcatClassLoader (Default: false)
>       if true a new classLoader separated from maven core will be created to
>       start tomcat.
>
>     warDirectory
>       The path of the exploded WAR directory to run.
>
> tomcat7:run-war-only
>   Description: Runs the current project as a packaged web application using
>     an embedded Tomcat server without forking the package cycle.
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarOnlyMojo
>   Language: java
>
>   Available parameters:
>
>     addContextWarDependencies (Default: false)
>       Will create a tomcat context for each dependencies of war type with
>       'scope' set to 'tomcat'. In other words, dependencies with:
>          <type>war</type>
>          <scope>tomcat</scope>
>       To preserve backward compatibility it's false by default.
>
>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>       The directory contains additional configuration Files that copied in
> the
>       Tomcat conf Directory.
>
>     ajpPort (Default: 0)
>       The AJP port to run the Tomcat server on. By default it's 0 this means
>       won't be started. The ajp connector will be started only for value >
> 0.
>
>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>       The AJP protocol to run the Tomcat server on. By default it's ajp.
> NOTE
>       The ajp connector will be started only if ajpPort > 0. possible values
>       are:
>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>         supports an executor
>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>
>     configurationDir
>       The directory to create the Tomcat server configuration under.
>
>     contextFile
>       The path of the Tomcat context XML file.
>
>     contextReloadable (Default: false)
>       Force context scanning if you don't use a context file with reloadable
> =
>       'true'. The other way to use contextReloadable is to add attribute
>       reloadable = 'true' in your context file.
>
>     fork (Default: false)
>       Set this to true to allow Maven to continue to execute after invoking
> the
>       run goal.
>
>     httpsPort (Default: 0)
>       The https port to run the Tomcat server on. By default it's 0 this
> means
>       won't be started. The https connector will be started only for value >
> 0.
>
>     ignorePackaging (Default: false)
>       If set to true ignore if packaging of project is not 'war'.
>
>     keystoreFile
>       Override the default keystoreFile for the HTTPS connector (if enabled)
>
>     keystorePass
>       Override the default keystorePass for the HTTPS connector (if enabled)
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').
>
>     pluginArtifacts
>       (no description available)
>
>     port (Default: 8080)
>       The port to run the Tomcat server on.
>
>     protocol (Default: HTTP/1.1)
>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>
>     serverXml
>       server.xml to use Note if you use this you must configure in this file
>       your webapp paths.
>
>     systemProperties
>       List of System properties to pass to the Tomcat Server.
>
>     tomcatLoggingFile
>       The path of the Tomcat logging configuration.
>
>     tomcatUsers
>       The path of the Tomcat users XML file.
>
>     tomcatWebXml
>       overriding the providing web.xml to run tomcat
>
>     uriEncoding (Default: ISO-8859-1)
>       The character encoding to use for decoding URIs.
>
>     useNaming (Default: true)
>       Enables or disables naming support for the embedded Tomcat server.
>
>       Note: This setting is ignored if you provide a server.xml for your
>       Tomcat. Instead please configure naming in the server.xml.
>
>     useSeparateTomcatClassLoader (Default: false)
>       if true a new classLoader separated from maven core will be created to
>       start tomcat.
>
>     warDirectory
>       The path of the exploded WAR directory to run.
>
> tomcat7:shutdown
>   Description: Shuts down all possibly started embedded tomcat servers. This
>     will be automatically down through a shutdown hook or you may call this
>     Mojo to shut them down explictly.
>
>     By default the shutdown goal is not bound to any phase. For integration
>     tests you might want to bind it to post-integration-test.
>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ShutdownMojo
>   Language: java
>
>   Available parameters:
>
>     path (Default: /${project.artifactId})
>       The webapp context path to use for the web application being run. This
>       must always start with a forward-slash ('/').



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 20:25:49 2012
Return-Path: <users-return-235356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AC18C226
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 20:25:49 +0000 (UTC)
Received: (qmail 81640 invoked by uid 500); 7 Jul 2012 20:25:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81592 invoked by uid 500); 7 Jul 2012 20:25:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81583 invoked by uid 99); 7 Jul 2012 20:25:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 20:25:46 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FH_FAKE_RCVD_LINE_B,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ohaya@cox.net designates 68.230.241.217 as permitted sender)
Received: from [68.230.241.217] (HELO eastrmfepo202.cox.net) (68.230.241.217)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 20:25:38 +0000
Received: from eastrmimpo210.cox.net ([68.230.241.225])
          by eastrmfepo202.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120707202517.RHSG1165.eastrmfepo202.cox.net@eastrmimpo210.cox.net>;
          Sat, 7 Jul 2012 16:25:17 -0400
Received: from eastrmwml105 ([172.18.18.217])
	by eastrmimpo210.cox.net with bizsmtp
	id XYRG1j0044h0NJL02YRGbk; Sat, 07 Jul 2012 16:25:16 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.4FF89B2C.00B8,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=RPO2X6WDbEwWwseWH+J3JR9nLBI9DMpszoTIypX7WlY=
 c=1 sm=1 a=AI5qhiLbrHAA:10 a=G8Uczd0VNMoA:10 a=1N-yuG7BIooA:10
 a=IkcTkHD0fZMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:17 a=mV9VRH-2AAAA:8
 a=kviXuzpPAAAA:8 a=aZ8l5AxYmZ2H4b8qnqIA:9 a=QEXdDO2ut3YA:10 a=88iI8knYSJUA:10
 a=4vB-4DCPJfMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.205.21.52 by webmail.east.cox.net; Sat, 7 Jul 2012 16:25:15 -0400
Message-ID: <20120707162516.1D1DC.448448.root@eastrmwml105>
Date: Sat, 7 Jul 2012 16:25:16 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when
 have <load-on-startup>
Cc: Mark Thomas <markt@apache.org>
In-Reply-To: <4FF878DA.4070300@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal
X-Virus-Checked: Checked by ClamAV on apache.org


---- Mark Thomas <markt@apache.org> wrote: 
> On 07/07/2012 17:33, ohaya@cox.net wrote:
> 
> Trace A:
> > java.util.logging.ErrorManager: 5
> > java.lang.NullPointerException
> >         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
> >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
> >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
> >         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
> >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
> >         at org.apache.juli.FileHandler.publish(FileHandler.java:198)
> >         at java.util.logging.Logger.log(Logger.java:478)
> >         at java.util.logging.Logger.doLog(Logger.java:501)
> >         at java.util.logging.Logger.log(Logger.java:524)
> >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
> >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
> >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
> >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
> >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
> >         at java.lang.Thread.run(Thread.java:662)
> > java.util.logging.ErrorManager: 5
> 
> Trace B:
> > java.lang.NullPointerException
> >         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
> >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
> >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
> >         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
> >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
> >         at java.util.logging.StreamHandler.publish(StreamHandler.java:179)
> >         at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:88)
> >         at java.util.logging.Logger.log(Logger.java:478)
> >         at java.util.logging.Logger.doLog(Logger.java:501)
> >         at java.util.logging.Logger.log(Logger.java:524)
> >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
> >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
> >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
> >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
> >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
> >         at java.lang.Thread.run(Thread.java:662)
> 
> Do you see any Tomcat code in Trace B? No? Neither do I. So what makes
> you think there is a Tomcat problem here?
> 
> Given the only difference in Trace A is that you are using a Tomcat
> Handler rather than the console I don't see anything here to suggest a
> Tomcat bug.
> 
> Looking at the source for java.util.ListResourceBundle, the key or the
> value being used for the log message is null. That makes this an OAM
> bug, not a Tomcat one.
> 
> Mark
> 


Hi Mark,

Just to be clear, I wasn't pointing to a Tomcat bug :(...  

I'm just trying to figure out why the NullPointerException doesn't happen when I don't have <load-on-startup> in my servlet's web.xml, but does happen when I have <load-on-startup> in the web.xml.  Also, BTW, if I stop then start the servlet app using the Tomcat manager app, I don't get the NullPointerException.

What might the difference be between when the <load-on-startup> is in the web.xml vs. not being in the web.xml?  Doesn't Tomcat just load and call the servlet's init() method when the <load-on-startup> is present?  I'm kind of guessing it may be a timing type issue, as in my servlet's init() method, I initialize the Oracle stuff.  My initialization call returns, but it may be that there's still something going on behind-the-scenes that's not quite done.

Thanks,
Jim

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul  7 21:04:36 2012
Return-Path: <users-return-235357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55D01C8F4
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  7 Jul 2012 21:04:36 +0000 (UTC)
Received: (qmail 52277 invoked by uid 500); 7 Jul 2012 21:04:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52230 invoked by uid 500); 7 Jul 2012 21:04:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52221 invoked by uid 99); 7 Jul 2012 21:04:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 21:04:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.29] (HELO smtpout.wanadoo.co.uk) (80.12.242.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jul 2012 21:04:24 +0000
Received: from mail.homeinbox.net ([2.24.211.42])
	by mwinf5d01 with ME
	id XZ421j0050vSH1u03Z424c; Sat, 07 Jul 2012 23:04:03 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 56270EAB6B8
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 22:04:02 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id buejzxfqYouS for <users@tomcat.apache.org>;
	Sat,  7 Jul 2012 22:03:49 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 3BD13EAB6BC
	for <users@tomcat.apache.org>; Sat,  7 Jul 2012 22:03:49 +0100 (BST)
Message-ID: <4FF8A434.506@apache.org>
Date: Sat, 07 Jul 2012 22:03:48 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Java 7 + Tomcat 6.0.35 + Win2k3 Problem
References: <4F5C7F87.9000304@pidster.com> <4F5CA846.80900@mayr-stefan.de> <DA52A811-9245-46CD-B596-931CC593C994@gmail.com> <CABzHfVmx6HMQKy-=Mk+3tu0Hqp1C4X8Lv-3uW5zuS+h7iVtYqA@mail.gmail.com> <BF55E851-1184-4FE2-80AE-69554043AC5F@gmail.com> <4F5D1413.7010506@pidster.com> <4F5D1B0B.3080008@pidster.com> <8A2063B3-6314-4DF8-8820-5FA645341111@gmail.com> <4F5D3C3A.50208@tmbsw.com> <1331673201017-4575837.post@n6.nabble.com> <1331752684585-4582365.post@n6.nabble.com>
In-Reply-To: <1331752684585-4582365.post@n6.nabble.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 14/03/2012 19:18, pricyber wrote:
> I downloaded the apache source code and commented out the line in 
> org.apache.tomcat.util.net.SocketProperties.setProperties(SocketProperties.java:184)
> where it say 
> socket.setTrafficClass(soTrafficClass);
> 
> And it works, but not sure if there are any ill effects for doing that.
> 
> This problem only occurs in Windows 2003 with Java7, but no problem on
> ubuntu/osx/windows 7/2008

Hmm. I see the same issues in XP with Java 7 and the NIO connector.

Didn't realise it was just an XP/2003 issue. Thought it was wider. Hmm.
That probably changes how this needs to be handled. Drat.

I really don't want to head down the OS specific code route on this one.

Further discussion on the dev list.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  8 09:35:07 2012
Return-Path: <users-return-235358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4744FD2E9
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  8 Jul 2012 09:35:07 +0000 (UTC)
Received: (qmail 65805 invoked by uid 500); 8 Jul 2012 09:35:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65593 invoked by uid 500); 8 Jul 2012 09:35:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65533 invoked by uid 99); 8 Jul 2012 09:35:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 09:35:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 09:34:53 +0000
Received: by vbbfn1 with SMTP id fn1so9089109vbb.18
        for <users@tomcat.apache.org>; Sun, 08 Jul 2012 02:34:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=TmgHEXm0WafyI9L5RF/8Vb+Fzv5XDplGRDPo1JYVtU8=;
        b=RoLbyedXdTCc68Yk77rbydSn2ygWuNorlRA22Gvm1vaw1uQ8Cj7RuVwywGmpsuR48k
         wbW/4swIA+V44U+wzyOfAPm0esrvQ5gwUkve2f8XhnULs91/axhDox4mZxdg6Zh84KPJ
         l4QYMtS5LphyT2H2XRfRD5+K7md2+1XTtjYIPnSA9M9zODkAmWFuK5P06yC0ykbbm5xx
         tRrVqHavTdd31ujlWb/8/izBnmU7XHpVbGo1ZfJ1nUjLJ9vzKDoEVC+AV1t/rs7mmD9o
         /FpiulYYqBQ8zc/KzzNT5sVxnwFel/tacPvSTr/XBJc6sAZF5unC2gCZmRDvXeNBVpj1
         g9fg==
MIME-Version: 1.0
Received: by 10.52.174.226 with SMTP id bv2mr14666532vdc.32.1341740072343;
 Sun, 08 Jul 2012 02:34:32 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Sun, 8 Jul 2012 02:34:32 -0700 (PDT)
In-Reply-To: <20120707162516.1D1DC.448448.root@eastrmwml105>
References: <4FF878DA.4070300@apache.org>
	<20120707162516.1D1DC.448448.root@eastrmwml105>
Date: Sun, 8 Jul 2012 13:34:32 +0400
Message-ID: <CABzHfV=4f018k6R4yLP1YkqXY4Mza2B_4nDYe3BPzw78Ljfb3g@mail.gmail.com>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when have <load-on-startup>
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/7/8  <ohaya@cox.net>:
>> On 07/07/2012 17:33, ohaya@cox.net wrote:
>>
>> Trace A:
>> > java.util.logging.ErrorManager: 5
>> > java.lang.NullPointerException
>> >         at java.util.ListResourceBundle.handleGetObject(ListResourceBu=
ndle.java:109)
>> >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
>> >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
>> >         at java.util.logging.Formatter.formatMessage(Formatter.java:10=
8)
>> >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.ja=
va:63)
>> >         at org.apache.juli.FileHandler.publish(FileHandler.java:198)
>> >         at java.util.logging.Logger.log(Logger.java:478)
>> >         at java.util.logging.Logger.doLog(Logger.java:501)
>> >         at java.util.logging.Logger.log(Logger.java:524)
>> >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.=
java:60)
>> >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.s=
hutdown(ObjectPoolManager.java:267)
>> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.clos=
e(ObAAAServiceClient.java:1239)
>> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.fina=
lize(ObAAAServiceClient.java:2548)
>> >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
>> >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
>> >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
>> >         at java.lang.Thread.run(Thread.java:662)
>> > java.util.logging.ErrorManager: 5
>>
>> Trace B:
>> > java.lang.NullPointerException
>> >         at java.util.ListResourceBundle.handleGetObject(ListResourceBu=
ndle.java:109)
>> >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
>> >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
>> >         at java.util.logging.Formatter.formatMessage(Formatter.java:10=
8)
>> >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.ja=
va:63)
>> >         at java.util.logging.StreamHandler.publish(StreamHandler.java:=
179)
>> >         at java.util.logging.ConsoleHandler.publish(ConsoleHandler.jav=
a:88)
>> >         at java.util.logging.Logger.log(Logger.java:478)
>> >         at java.util.logging.Logger.doLog(Logger.java:501)
>> >         at java.util.logging.Logger.log(Logger.java:524)
>> >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.=
java:60)
>> >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.s=
hutdown(ObjectPoolManager.java:267)
>> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.clos=
e(ObAAAServiceClient.java:1239)
>> >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.fina=
lize(ObAAAServiceClient.java:2548)
>> >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
>> >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
>> >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
>> >         at java.lang.Thread.run(Thread.java:662)
>>
>> Do you see any Tomcat code in Trace B? No? Neither do I. So what makes
>> you think there is a Tomcat problem here?
>>
>> Given the only difference in Trace A is that you are using a Tomcat
>> Handler rather than the console I don't see anything here to suggest a
>> Tomcat bug.
>>
>> Looking at the source for java.util.ListResourceBundle, the key or the
>> value being used for the log message is null. That makes this an OAM
>> bug, not a Tomcat one.
>>
>> Mark
>>
>
>
> Hi Mark,
>
> Just to be clear, I wasn't pointing to a Tomcat bug :(...
>
> I'm just trying to figure out why the NullPointerException doesn't happen=
 when I don't have <load-on-startup> in my servlet's web.xml, but does happ=
en when I have <load-on-startup> in the web.xml.  Also, BTW, if I stop then=
 start the servlet app using the Tomcat manager app, I don't get the NullPo=
interException.
>
> What might the difference be between when the <load-on-startup> is in the=
 web.xml vs. not being in the web.xml?  Doesn't Tomcat just load and call t=
he servlet's init() method when the <load-on-startup> is present?  I'm kind=
 of guessing it may be a timing type issue, as in my servlet's init() metho=
d, I initialize the Oracle stuff.  My initialization call returns, but it m=
ay be that there's still something going on behind-the-scenes that's not qu=
ite done.
>

1. Using a load-on-startup servlet to initialize something is a bad
approach. The recommended one is to use a ServletContextListener.

2. You should cleanup resources after yourself. You should not rely on
finalizer to clean up your resources.

Finalizer might not have access to classes or resources of your
webapplications,  because of different thread-context classloader
(TCCL), or if the cleanup happens when the application has already
been stopped. In this case it looks like the former.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  8 09:41:29 2012
Return-Path: <users-return-235359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B973D2FF
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  8 Jul 2012 09:41:29 +0000 (UTC)
Received: (qmail 78506 invoked by uid 500); 8 Jul 2012 09:41:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78189 invoked by uid 500); 8 Jul 2012 09:41:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78116 invoked by uid 99); 8 Jul 2012 09:41:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 09:41:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 09:41:17 +0000
Received: by vcbfo13 with SMTP id fo13so9088241vcb.18
        for <users@tomcat.apache.org>; Sun, 08 Jul 2012 02:40:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+hDDN64hX93CaCpcW8GLsgN0AVvCuvd5NN+E+L0OZDk=;
        b=L80k9IY91hxLEVXustZDhAArDdbjBp8kam8/RRRReAs+hSnl3mVs/froFddna2fd03
         +BlNsvr/vwTvjnmT0sixVzxVB+NAydIHbyWv7KEjKxBpGEB+TsmWiS58Fc/Zt3UdFbWN
         Irl5j+qL/rTRpC7CZZik2sjPVkRrgNbpsx3TU4oUEomifkCnou0RWvMf6HgpgVX/C29R
         02blCX0uVcoLIl6iK8aipgEavbxwcYhPj0ISv15Xl7sR7tcwLfTHj/T+j9Y2+nFOMWX4
         VVTKh2mQuGc9hE73/gv1ZVKiq2VSp0xocxRseTjG0KXyO+RYPLhb7v5h0SFXHpea6dyV
         nfHw==
MIME-Version: 1.0
Received: by 10.220.153.136 with SMTP id k8mr17311289vcw.38.1341740456816;
 Sun, 08 Jul 2012 02:40:56 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Sun, 8 Jul 2012 02:40:56 -0700 (PDT)
In-Reply-To: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil>
References: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil>
Date: Sun, 8 Jul 2012 13:40:56 +0400
Message-ID: <CABzHfV=uNHpJtKUvxghAEUbmf+yhcqX+-WF0xhYbKGUwNa0Rwg@mail.gmail.com>
Subject: Re: log4j to write Tomcat logs to Windows Event Log
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/7 Dunbar, Kevin D CIV SPAWARSYSCEN-PACIFIC, 56250
<kevin.dunbar@navy.mil>:
> Hi,
>
> I am trying to use log4j.jar to do the logging in Tomcat 7.0.27 (on Windows XP) instead of java.util.logging so that I can append the logs to be output to the Windows Event Log.
>
> I followed the instructions to configure Tomcat to use log4j rather than java.util.logging for all Tomcat's internal logging.  (http://tomcat.apache.org/tomcat-7.0-doc/logging.html)
>
> I created a log4j.properties file and put it in $CATALINA_BASE/lib
> I put log4j-1.2.15.jar that I downloaded into $CATALINA_HOME/lib
> I put tomcat-juli-adapters.jar that I downloaded into $CATALINA_HOME/lib
> I replaced tomcat-juli.jar from $CATALINA_HOME with the tomcat-juli.jar that I downloaded from Tomcat "extras"
>
> It seems that after I replaced the tomcat-juli.jar, I would get the following error in tomcat7-stderr.log
>
> 2012-07-06 14:03:56 Commons Daemon procrun stderr initialized
> log4j:WARN No appenders could be found for logger (org.apache.catalina.startup.Catalina).
> log4j:WARN Please initialize the log4j system properly.

Your log4j.properties is wrong?
It looks like it does not specify where the messages from
"org.apache.catalina.startup.Catalina" log category should be written.

> I also deleted the logging.properties from $CATALINA_BASE/conf

One should not delete the file itself, but only its contents, leaving
an empty file.

> Can anyone please tell me why this warning is occurring when I replace tomcat-juli.jar?  Any help is greatly appreciated.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  8 16:34:19 2012
Return-Path: <users-return-235360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50BFBD663
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  8 Jul 2012 16:34:19 +0000 (UTC)
Received: (qmail 62238 invoked by uid 500); 8 Jul 2012 16:34:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61978 invoked by uid 500); 8 Jul 2012 16:34:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61966 invoked by uid 99); 8 Jul 2012 16:34:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 16:34:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 16:34:09 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id XpwR1j00G1c6gX859sZqHx; Sun, 08 Jul 2012 16:33:50 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id XsZi1j00R1FXhpX3jsZiWM; Sun, 08 Jul 2012 16:33:43 +0000
Message-ID: <4FF9B66E.5090907@christopherschultz.net>
Date: Sun, 08 Jul 2012 12:33:50 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: log4j to write Tomcat logs to Windows Event Log
References: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil> <CABzHfV=uNHpJtKUvxghAEUbmf+yhcqX+-WF0xhYbKGUwNa0Rwg@mail.gmail.com>
In-Reply-To: <CABzHfV=uNHpJtKUvxghAEUbmf+yhcqX+-WF0xhYbKGUwNa0Rwg@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/8/12 5:40 AM, Konstantin Kolinko wrote:
> Your log4j.properties is wrong?

+1

Kevin, can you post your log4j.properties file?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/5tm4ACgkQ9CaO5/Lv0PBt8gCfaGjSj3MVwx6u8JtTu6AEUP3F
/6cAoJD3RAl01y6N2PxS8X/9FeZ1/Ax8
=+OEK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  8 17:52:08 2012
Return-Path: <users-return-235361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B6FBD249
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  8 Jul 2012 17:52:08 +0000 (UTC)
Received: (qmail 13161 invoked by uid 500); 8 Jul 2012 17:52:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12900 invoked by uid 500); 8 Jul 2012 17:52:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12632 invoked by uid 99); 8 Jul 2012 17:52:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 17:52:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.29] (HELO smtpout.wanadoo.co.uk) (80.12.242.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 17:51:59 +0000
Received: from mail.homeinbox.net ([2.24.224.123])
	by mwinf5d15 with ME
	id Xtrb1j00A2gMh2y03trcfJ; Sun, 08 Jul 2012 19:51:37 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 9769EEAB6BC;
	Sun,  8 Jul 2012 18:51:35 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d66X+IMtsCRt; Sun,  8 Jul 2012 18:51:29 +0100 (BST)
Received: from [192.168.23.205] (unknown [2.24.224.123])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id E205AEAB6BF;
	Sun,  8 Jul 2012 18:51:28 +0100 (BST)
User-Agent: K-9 Mail for Android
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: [ANN] Apache Tomcat 7.0.29 released
From: Mark Thomas <markt@apache.org>
Date: Sun, 08 Jul 2012 18:51:28 +0100
To: Tomcat Users List <users@tomcat.apache.org>
CC: Tomcat Announce List <announce@tomcat.apache.org>,announce@apache.org,Tomcat Developers List <dev@tomcat.apache.org>
Message-ID: <c2055789-cf6e-4c5e-9a89-be4d6f2e5d4a@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

The Apache Tomcat team announces the immediate availability of Apache
Tomcat 7.0.29.

Apache Tomcat is an open source software implementation of the Java
Servlet and JavaServer Pages technologies.

This release corrects a small number of regressions introduced in the
7.0.28 release and takes account of several recent clarifications from
the Servlet Expert Group as well as containing a handful of bug fixes
and small improvements compared to version 7.0.28. The notable changes
include:
* Add support for a default error page
* The servlet version defined in web.xml no longer determines if Tomcat
  scans for annotations when the web application starts. This is now
  solely controlled by metadata-complete element.
* On web application start, JARs are now always scanned for
  ServletContainerInitializers regardless of the setting of
  metadata-complete

Please refer to the change log for the complete list of changes:
http://tomcat.apache.org/tomcat-7.0-doc/changelog.html

Note: This version has 4 zip binaries: a generic one and three
      bundled with Tomcat native binaries for Windows operating systems
      running on different CPU architectures.

Note: If you use the APR/native AJP or HTTP connector you *must* upgrade
      to version 1.1.24 or later of the AJP/native library

Downloads:
http://tomcat.apache.org/download-70.cgi

Migration guides from Apache Tomcat 5.5.x and 6.0.x:
http://tomcat.apache.org/migration.html

Thank you,

-- The Apache Tomcat Team


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul  8 18:38:17 2012
Return-Path: <users-return-235362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10350DDCE
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  8 Jul 2012 18:38:17 +0000 (UTC)
Received: (qmail 10062 invoked by uid 500); 8 Jul 2012 18:38:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10014 invoked by uid 500); 8 Jul 2012 18:38:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10003 invoked by uid 99); 8 Jul 2012 18:38:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jul 2012 18:38:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of russt@releasetools.org designates 66.147.249.253 as permitted sender)
Received: from [66.147.249.253] (HELO oproxy1-pub.bluehost.com) (66.147.249.253)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 08 Jul 2012 18:38:05 +0000
Received: (qmail 18535 invoked by uid 0); 8 Jul 2012 18:37:43 -0000
Received: from unknown (HELO box771.bluehost.com) (66.147.244.71)
  by oproxy1.bluehost.com with SMTP; 8 Jul 2012 18:37:43 -0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=releasetools.org; s=default;
	h=Content-Type:Cc:Subject:From:To:Date:References:In-Reply-To:Message-Id:Mime-Version; bh=Wcc1cmsCNS62ZlTksH61Ewq13Jhg5i3CCkySFgFi5oo=;
	b=HlV57k/wk3VCb6SSoYGS6qq9g4wQeFBpICo3NZ4VhWKYj+lSPkcH6L3h4M8n6G0+u2kVJVFXfDPFC7viFsv4DAoWyd15mmzADG59eiwD+lnnwwJRSa9btAxR9AuJqHXH;
Received: from [69.109.119.100] (port=49526 helo=[204.68.225.24])
	by box771.bluehost.com with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.76)
	(envelope-from <russt@releasetools.org>)
	id 1SnwMZ-0001qC-8o; Sun, 08 Jul 2012 12:37:43 -0600
Mime-Version: 1.0
Message-Id: <p06240808cc1f826e87b2@[204.68.225.24]>
In-Reply-To:
 <CAPoyBqS5S9uNpbKhyiFYvnH1LFN74_JSr4-rbnteB5qhkEJTNw@mail.gmail.com>
References: <p06240800cc1bff9929a3@10.1.125.126>
 <CAPoyBqS5S9uNpbKhyiFYvnH1LFN74_JSr4-rbnteB5qhkEJTNw@mail.gmail.com>
Date: Sun, 8 Jul 2012 11:37:42 -0700
To: Olivier Lamy <olamy@apache.org>
From: Russ Tremain <russt@releasetools.org>
Subject: Re: confused by tomcat6/7 docs
Cc: users@tomcat.apache.org
Content-Type: text/plain; charset="us-ascii"
X-Identified-User: {1266:box771.bluehost.com:release5:releasetools.org} {sentby:smtp auth 69.109.119.100 authed with russt+releasetools.org}

ahh... thanks.  bad assumption on my part that tomcat7-maven was a superset.

what would really be cool is an "incremental" deploy, but not sure if the tomcat remote deploy api supports that or not.

meantime I will see if we can revert to tomcat6-maven plugin to see if we can speed the build/deploy development cycle up.

thx,
/r

At 10:16 PM +0200 7/7/12, Olivier Lamy wrote:
>Yup because currently not all goals from tomcat6 have been implemented
>in tomcat7.
>
>http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat6-maven-plugin/plugin-info.html
>whereas.
>http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/plugin-info.html
>
>You can load an issue (if possible with a patch :-) ) for goals you'd like see.
>
>2012/7/6 Russ Tremain <russt@releasetools.org>:
>> Hi Oliver,
>>
>> I must say I'm a bit confused by the examples & docs for
>> tomcat7-maven-plugin.
>>
>> I see reference to a "war:explode" goal, which doesn't seem to exist. The
>> reference is here:
>>
>>         http://tomcat.apache.org/maven-plugin-2.0-beta-1/context-goals.html
>>
>> But when I dump the plugin documentation [1], I see no such goal.
>>
>> What I would like to find out about the possibility to deploy an exploded
>> war image to a local tomcat instance.
>>
>> I've been successfully using the deploy (tomcat7:deploy) goal, but my
>> developers are complaining that it is too slow.  I need to work out a method
>> to use an exploded war.
>>
>> Any help appreciated...
>>
>> thanks!
>> -Russ
>>
>> [1] mvn -Dplugin=tomcat7 -DgroupId=org.apache.tomcat.maven -Dfull
>> help:describe
>> ...
>> [INFO] org.apache.tomcat.maven:tomcat7-maven-plugin:2.0-beta-1
>>
>> Name: Apache Tomcat Maven Plugin :: Tomcat 7.x
>> Description: The Tomcat Maven Plugin provides goals to manipulate WAR
>>   projects within the Tomcat 7.x servlet container.
>> Group Id: org.apache.tomcat.maven
>> Artifact Id: tomcat7-maven-plugin
>> Version: 2.0-beta-1
>> Goal Prefix: tomcat7
>>
>> This plugin has 8 goals:
>>
>> tomcat7:deploy
>>   Description: Deploy a WAR to Tomcat.
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployMojo
>>   Language: java
>>   Before this mojo executes, it will call:
>>     Phase: 'package'
>>
>>   Available parameters:
>>
>>     charset (Default: ISO-8859-1)
>>       The URL encoding charset to use when communicating with Tomcat
>> manager.
>>
>>     contextFile
>>       The path of the Tomcat context XML file. This is not used for war
>>       deployment mode.
>>
>>     ignorePackaging (Default: false)
>>       If set to true ignore if packaging of project is not 'war'.
>>
>>     mode (Default: war)
>>       The deployment mode to use. This must be either war to deploy the war,
>>       context to deploy the context XML file, or both to deploy the war with
>>       the context XML file.
>>
>>     password
>>       The password to use for deployment
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>>
>>     server
>>       The server id in settings.xml to use when authenticating with Tomcat
>>       manager, or null to use defaults of username admin and no password.
>>
>>     tag
>>       The Tomcat webapp tag name to use.
>>
>>     update (Default: false)
>>       Whether Tomcat should automatically undeploy webapps that already
>> exist
>>       when deploying.
>>
>>     url (Default: http://localhost:8080/manager/html)
>>       The full URL of the Tomcat manager instance to use.
>>
>>     username
>>       The tomcat username to use for deployment
>>
>>     warFile
>>       The path of the WAR file to deploy.
>>
>> tomcat7:deploy-only
>>   Description: Deploy a WAR to Tomcat witjout forking the package lifecycle
>>   Implementation:
>> org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployOnlyMojo
>>   Language: java
>>
>>   Available parameters:
>>
>>     charset (Default: ISO-8859-1)
>>       The URL encoding charset to use when communicating with Tomcat
> > manager.
>>
>>     contextFile
>>       The path of the Tomcat context XML file. This is not used for war
>>       deployment mode.
>>
>>     ignorePackaging (Default: false)
> >       If set to true ignore if packaging of project is not 'war'.
>>
>>     mode (Default: war)
>>       The deployment mode to use. This must be either war to deploy the war,
>>       context to deploy the context XML file, or both to deploy the war with
>>       the context XML file.
>>
>>     password
>>       The password to use for deployment
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>>
>>     server
>>       The server id in settings.xml to use when authenticating with Tomcat
>>       manager, or null to use defaults of username admin and no password.
>>
>>     tag
>>       The Tomcat webapp tag name to use.
>>
>>     update (Default: false)
>>       Whether Tomcat should automatically undeploy webapps that already
>> exist
>>       when deploying.
>>
>>     url (Default: http://localhost:8080/manager/html)
>>       The full URL of the Tomcat manager instance to use.
>>
>>     username
>>       The tomcat username to use for deployment
>>
>>     warFile
>>       The path of the WAR file to deploy.
>>
>> tomcat7:exec-war
>>   Description: (no description available)
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarMojo
>>   Language: java
>>   Before this mojo executes, it will call:
>>     Phase: 'package'
>>
>>   Available parameters:
>>
>>     accessLogValveFormat (Default: %h %l %u %t )
>>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>>
>>     attachArtifact (Default: true)
>>       Attach or not the generated artifact to the build (use true if you
>> want
>>       to install or deploy it)
>>
>>     attachArtifactClassifier (Default: exec-war)
>>       the classifier to use for the attached/generated artifact
>>
>>     attachArtifactClassifierType (Default: jar)
>>       the type to use for the attached/generated artifact
>>
>>     buildDirectory (Default: ${project.build.directory})
>>       (no description available)
>>
>>     connectorHttpProtocol (Default: HTTP/1.1)
>>       which connector protocol to use HTTP/1.1 or
>>       org.apache.coyote.http11.Http11NioProtocol
>>
>>     enableNaming (Default: false)
>>       to enable naming when starting tomcat
>>
>>     extraDependencies
>>       list of extra dependencies to add in the standalone tomcat jar: your
>> jdbc
>>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>>
>>     extraResources
>>       list of extra resources to add in the standalone tomcat jar: your
>> logger
>>       configuration etc
>>
>>     finalName (Default:
>> ${project.artifactId}-${project.version}-war-exec.jar)
>>       Name of the generated exec JAR.
>>
>>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>>       Main class to use for starting the standalone jar.
>>
>>     path (Default: ${project.artifactId})
>>       The webapp context path to use for the web application being run. The
>>       name to store webapp in exec jar. Do not use /
>>
>>     pluginArtifacts (Default: ${plugin.artifacts})
>>       (no description available)
>>
>>     serverXml (Default: src/main/tomcatconf/server.xml)
>>       (no description available)
>>
>>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>>       (no description available)
>>
>>     warRunDependencies
>>       (no description available)
>>
>> tomcat7:exec-war-only
>>   Description: (no description available)
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarOnlyMojo
>>   Language: java
>>
>>   Available parameters:
>>
>>     accessLogValveFormat (Default: %h %l %u %t )
>>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>>
>>     attachArtifact (Default: true)
>>       Attach or not the generated artifact to the build (use true if you
>> want
>>       to install or deploy it)
>>
>>     attachArtifactClassifier (Default: exec-war)
>>       the classifier to use for the attached/generated artifact
> >
>>     attachArtifactClassifierType (Default: jar)
>>       the type to use for the attached/generated artifact
>>
>>     buildDirectory (Default: ${project.build.directory})
> >       (no description available)
>>
>>     connectorHttpProtocol (Default: HTTP/1.1)
>>       which connector protocol to use HTTP/1.1 or
>>       org.apache.coyote.http11.Http11NioProtocol
>>
>>     enableNaming (Default: false)
>>       to enable naming when starting tomcat
>>
>>     extraDependencies
>>       list of extra dependencies to add in the standalone tomcat jar: your
>> jdbc
>>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>>
>>     extraResources
>>       list of extra resources to add in the standalone tomcat jar: your
>> logger
>>       configuration etc
>>
>>     finalName (Default:
>> ${project.artifactId}-${project.version}-war-exec.jar)
>>       Name of the generated exec JAR.
>>
>>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>>       Main class to use for starting the standalone jar.
>>
>>     path (Default: ${project.artifactId})
>>       The webapp context path to use for the web application being run. The
>>       name to store webapp in exec jar. Do not use /
>>
>>     pluginArtifacts (Default: ${plugin.artifacts})
>>       (no description available)
>>
>>     serverXml (Default: src/main/tomcatconf/server.xml)
>>       (no description available)
>>
>>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>>       (no description available)
>>
>>     warRunDependencies
>>       (no description available)
>>
>> tomcat7:run
>>   Description: Runs the current project as a dynamic web application using
>> an
>>     embedded Tomcat server.
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo
>>   Language: java
>>   Before this mojo executes, it will call:
>>     Phase: 'compile'
>>
>>   Available parameters:
>>
>>     addContextWarDependencies (Default: false)
>>       Will create a tomcat context for each dependencies of war type with
>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>          <type>war</type>
>>          <scope>tomcat</scope>
>>       To preserve backward compatibility it's false by default.
>>
>>     additionalClasspathDirs
>>       Additional optional directories to add to the embedded tomcat
>> classpath.
>>
>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>       The directory contains additional configuration Files that copied in
>> the
>>       Tomcat conf Directory.
>>
>>     addWarDependenciesInClassloader (Default: true)
>>       will add /WEB-INF/lib/*.jar and /WEB-INF/classes from war dependencies
>> in
>>       the webappclassloader
>>
>>     ajpPort (Default: 0)
>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>       won't be started. The ajp connector will be started only for value >
>> 0.
>>
>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>> NOTE
>>       The ajp connector will be started only if ajpPort > 0. possible values
>>       are:
>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>         supports an executor
>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>
>>     backgroundProcessorDelay (Default: -1)
>>       represents the delay in seconds between each classPathScanning change
>>       invocation
>>
>>     configurationDir
>>       The directory to create the Tomcat server configuration under.
>>
>>     contextFile
>>       The path of the Tomcat context XML file.
>>
>>     contextReloadable (Default: false)
>>       Force context scanning if you don't use a context file with reloadable
>> =
>>       'true'. The other way to use contextReloadable is to add attribute
>>       reloadable = 'true' in your context file.
>>
>>     delegate (Default: true)
>>       Set the 'follow standard delegation model' flag used to configure our
>>       ClassLoader.
>>
>>     fork (Default: false)
>>       Set this to true to allow Maven to continue to execute after invoking
>> the
>>       run goal.
> >
>>     httpsPort (Default: 0)
>>       The https port to run the Tomcat server on. By default it's 0 this
>> means
>>       won't be started. The https connector will be started only for value >
> > 0.
>>
>>     ignorePackaging (Default: false)
>>       If set to true ignore if packaging of project is not 'war'.
>>
>>     keystoreFile
>>       Override the default keystoreFile for the HTTPS connector (if enabled)
>>
>>     keystorePass
>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>>
>>     pluginArtifacts
>>       (no description available)
>>
>>     port (Default: 8080)
>>       The port to run the Tomcat server on.
>>
>>     protocol (Default: HTTP/1.1)
>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>
>>     serverXml
>>       server.xml to use Note if you use this you must configure in this file
>>       your webapp paths.
>>
>>     systemProperties
>>       List of System properties to pass to the Tomcat Server.
>>
>>     tomcatLoggingFile
>>       The path of the Tomcat logging configuration.
>>
>>     tomcatUsers
>>       The path of the Tomcat users XML file.
>>
>>     tomcatWebXml
>>       overriding the providing web.xml to run tomcat
>>
>>     uriEncoding (Default: ISO-8859-1)
>>       The character encoding to use for decoding URIs.
>>
>>     useNaming (Default: true)
>>       Enables or disables naming support for the embedded Tomcat server.
>>
>>       Note: This setting is ignored if you provide a server.xml for your
>>       Tomcat. Instead please configure naming in the server.xml.
>>
>>     useSeparateTomcatClassLoader (Default: false)
>>       if true a new classLoader separated from maven core will be created to
>>       start tomcat.
>>
>>     useTestClasspath (Default: false)
>>       will use the test classpath rather than the compile one and will add
>> test
>>       dependencies too
>>
>>     warSourceDirectory (Default: ${basedir}/src/main/webapp)
>>       The web resources directory for the web application being run.
>>
>> tomcat7:run-war
>>   Description: Runs the current project as a packaged web application using
>>     an embedded Tomcat server.
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarMojo
>>   Language: java
>>   Before this mojo executes, it will call:
>>     Phase: 'package'
>>
>>   Available parameters:
>>
>>     addContextWarDependencies (Default: false)
>>       Will create a tomcat context for each dependencies of war type with
>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>          <type>war</type>
>>          <scope>tomcat</scope>
>>       To preserve backward compatibility it's false by default.
>>
>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>       The directory contains additional configuration Files that copied in
>> the
>>       Tomcat conf Directory.
>>
>>     ajpPort (Default: 0)
>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>       won't be started. The ajp connector will be started only for value >
>> 0.
>>
>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>> NOTE
>>       The ajp connector will be started only if ajpPort > 0. possible values
>>       are:
>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>         supports an executor
>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>
>>     configurationDir
>>       The directory to create the Tomcat server configuration under.
>>
>>     contextFile
>>       The path of the Tomcat context XML file.
>>
>>     contextReloadable (Default: false)
>>       Force context scanning if you don't use a context file with reloadable
>> =
>>       'true'. The other way to use contextReloadable is to add attribute
>>       reloadable = 'true' in your context file.
>>
>>     fork (Default: false)
>>       Set this to true to allow Maven to continue to execute after invoking
> > the
>>       run goal.
>>
>>     httpsPort (Default: 0)
>>       The https port to run the Tomcat server on. By default it's 0 this
>> means
>>       won't be started. The https connector will be started only for value >
> > 0.
>>
>>     ignorePackaging (Default: false)
>>       If set to true ignore if packaging of project is not 'war'.
>>
>>     keystoreFile
>>       Override the default keystoreFile for the HTTPS connector (if enabled)
>>
>>     keystorePass
>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>>
>>     pluginArtifacts
>>       (no description available)
>>
>>     port (Default: 8080)
>>       The port to run the Tomcat server on.
>>
>>     protocol (Default: HTTP/1.1)
>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>
>>     serverXml
>>       server.xml to use Note if you use this you must configure in this file
>>       your webapp paths.
>>
>>     systemProperties
>>       List of System properties to pass to the Tomcat Server.
>>
>>     tomcatLoggingFile
>>       The path of the Tomcat logging configuration.
>>
>>     tomcatUsers
>>       The path of the Tomcat users XML file.
>>
>>     tomcatWebXml
>>       overriding the providing web.xml to run tomcat
>>
>>     uriEncoding (Default: ISO-8859-1)
>>       The character encoding to use for decoding URIs.
>>
>>     useNaming (Default: true)
>>       Enables or disables naming support for the embedded Tomcat server.
>>
>>       Note: This setting is ignored if you provide a server.xml for your
>>       Tomcat. Instead please configure naming in the server.xml.
>>
>>     useSeparateTomcatClassLoader (Default: false)
>>       if true a new classLoader separated from maven core will be created to
>>       start tomcat.
>>
>>     warDirectory
>>       The path of the exploded WAR directory to run.
>>
>> tomcat7:run-war-only
>>   Description: Runs the current project as a packaged web application using
>>     an embedded Tomcat server without forking the package cycle.
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarOnlyMojo
>>   Language: java
>>
>>   Available parameters:
>>
>>     addContextWarDependencies (Default: false)
>>       Will create a tomcat context for each dependencies of war type with
>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>          <type>war</type>
>>          <scope>tomcat</scope>
>>       To preserve backward compatibility it's false by default.
>>
>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>       The directory contains additional configuration Files that copied in
>> the
>>       Tomcat conf Directory.
>>
>>     ajpPort (Default: 0)
>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>       won't be started. The ajp connector will be started only for value >
>> 0.
>>
>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>> NOTE
>>       The ajp connector will be started only if ajpPort > 0. possible values
>>       are:
>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>         supports an executor
>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>
>>     configurationDir
>>       The directory to create the Tomcat server configuration under.
>>
>>     contextFile
>>       The path of the Tomcat context XML file.
>>
>>     contextReloadable (Default: false)
>>       Force context scanning if you don't use a context file with reloadable
>> =
>>       'true'. The other way to use contextReloadable is to add attribute
>>       reloadable = 'true' in your context file.
>>
>>     fork (Default: false)
>>       Set this to true to allow Maven to continue to execute after invoking
>> the
>>       run goal.
>>
>>     httpsPort (Default: 0)
>>       The https port to run the Tomcat server on. By default it's 0 this
>> means
>>       won't be started. The https connector will be started only for value >
> > 0.
>>
>>     ignorePackaging (Default: false)
>>       If set to true ignore if packaging of project is not 'war'.
>>
>>     keystoreFile
>>       Override the default keystoreFile for the HTTPS connector (if enabled)
> >
>>     keystorePass
>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>>
>>     pluginArtifacts
>>       (no description available)
>>
>>     port (Default: 8080)
>>       The port to run the Tomcat server on.
>>
>>     protocol (Default: HTTP/1.1)
>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>
>>     serverXml
>>       server.xml to use Note if you use this you must configure in this file
>>       your webapp paths.
>>
>>     systemProperties
>>       List of System properties to pass to the Tomcat Server.
>>
>>     tomcatLoggingFile
>>       The path of the Tomcat logging configuration.
>>
>>     tomcatUsers
>>       The path of the Tomcat users XML file.
>>
>>     tomcatWebXml
>>       overriding the providing web.xml to run tomcat
>>
>>     uriEncoding (Default: ISO-8859-1)
>>       The character encoding to use for decoding URIs.
>>
>>     useNaming (Default: true)
>>       Enables or disables naming support for the embedded Tomcat server.
>>
>>       Note: This setting is ignored if you provide a server.xml for your
>>       Tomcat. Instead please configure naming in the server.xml.
>>
>>     useSeparateTomcatClassLoader (Default: false)
>>       if true a new classLoader separated from maven core will be created to
>>       start tomcat.
>>
>>     warDirectory
>>       The path of the exploded WAR directory to run.
>>
>> tomcat7:shutdown
>>   Description: Shuts down all possibly started embedded tomcat servers. This
>>     will be automatically down through a shutdown hook or you may call this
>>     Mojo to shut them down explictly.
>>
>>     By default the shutdown goal is not bound to any phase. For integration
>>     tests you might want to bind it to post-integration-test.
>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ShutdownMojo
>>   Language: java
>>
>>   Available parameters:
>>
>>     path (Default: /${project.artifactId})
>>       The webapp context path to use for the web application being run. This
>>       must always start with a forward-slash ('/').
>
>
>
>--
>Olivier Lamy
>Talend: http://coders.talend.com
>http://twitter.com/olamy | http://linkedin.com/in/olamy


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 07:35:16 2012
Return-Path: <users-return-235363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF3C6DF63
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 07:35:16 +0000 (UTC)
Received: (qmail 30837 invoked by uid 500); 9 Jul 2012 07:35:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30646 invoked by uid 500); 9 Jul 2012 07:35:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30589 invoked by uid 99); 9 Jul 2012 07:35:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 07:35:09 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of adisinha0423@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 07:35:02 +0000
Received: by obbta14 with SMTP id ta14so26740606obb.18
        for <users@tomcat.apache.org>; Mon, 09 Jul 2012 00:34:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pdUGQMsOkFE6WgqWnL72qw/qJrRRywW74eKG4u5Xlb4=;
        b=bSs8MpdZrep8x/TX23/y4ylLJ7KEzRJ972IeWOh78KvJttUFzsecTUqgR7p6rm4h65
         YJbmLVaIGuQlE8RJDKzoXvcmn0P1x2ExdFHWacWuU3CMHXFyVMyqu4py8I8TQqv5BciZ
         63AAZR9FH8gaPG+Jv7SZ1lK/M4ay8T60x2RJ/cvOyQaLkmJoH2xrz/jvE6lUaNCANwHg
         cLDrLTUnN+P7Yk59tjBJ+rLkt/YHVBzLcKMpqM2Rm9iLAU9zMObwhvowRLMPrGtKlnuj
         9DDJN7GgIdVBmCZz0g40m0D78LK8UP0qKKu4xmJvlvsvWe5Z0/lLt6O33zB8RGeYpg1U
         6Mug==
MIME-Version: 1.0
Received: by 10.182.228.6 with SMTP id se6mr34749919obc.29.1341819282108; Mon,
 09 Jul 2012 00:34:42 -0700 (PDT)
Received: by 10.76.87.199 with HTTP; Mon, 9 Jul 2012 00:34:42 -0700 (PDT)
In-Reply-To: <CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com>
References: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com>
	<CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com>
Date: Mon, 9 Jul 2012 13:04:42 +0530
Message-ID: <CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com>
Subject: Re: How to support IPv6 on Apache Tomcat Version 7.0.22
From: Aditi Sinha <adisinha0423@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d04451709a9af0904c460a54f
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d04451709a9af0904c460a54f
Content-Type: text/plain; charset=ISO-8859-1

Hi Kolinko,

Thank you so much. We specified the BIO connector implementation for HTTP
and AJP protocol and the setup now supports IPv6.

Is there any preference among the three connectors "BIO", "NIO" and "APR"?
How should one decide which connector to opt for?

Thanks & Regards,
Aditi
On Fri, Jul 6, 2012 at 9:58 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/7/6 Aditi Sinha <adisinha0423@gmail.com>:
> > Hi,
> >
> >
> > We have a web server hosted on Apache Tomcat Version 7.0.22. We are
> trying
> > to get the web server support IPv6.
> >
> > Machine details: Windows 2008 server machine, 32-bit OS
> > Java version:  jdk1.6.0_25
> >
> >
> > The web server is not accessible using the IPv6 address. The connectivity
> > to windows server machine works fine though IPv6 address.
> > The firewall is turned off.
> >
> >
> > **
> >
> > In the Catalina.log can see IPv6 [false] as below.
> >
> > * *
> >
> > *INFO: APR capabilities: IPv6 [false], sendfile [true], accept filters
> > [false], random [true].*
> >
> >
> > Is there any configuration which needs to be done for Tomcat/Connector to
> > support IPv6?
> >  In server.xml we are using the AJP 1.3 Connector and HTTP/1.1
> Connector.**
>
> Look into the docs - there are 3 different connector implementations
> for HTTP protocol, and 3 for AJP protocol. They are known as "BIO",
> "NIO" and "APR" one.
>
> As you have Tomcat-Native library installed, the configuration by
> default will use the "APR" connector.    But your problem is that the
> binary version of Tomcat-Native that you are using is not compiled
> with support for IPv6 and thus this connector does not support IPv6.
>
> So have the following possibilities:
> a) compile your own version of Tomcat-Native for your platform and
> make sure that it has IPv6 support enabled. For Windows it might be
> tricky.
>
> b) choose other connector implementation - see "protocol" attribute on
> <Connector> element in Configuration Reference.
>
> c) uninstall Tomcat-Native library or disable AprLifecycleListener in
> your configuration. In this case Tomcat will autoselect the BIO
> connector implementations for both protocols.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d04451709a9af0904c460a54f--

From users-return-235364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 08:50:48 2012
Return-Path: <users-return-235364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2186ECDCD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 08:50:48 +0000 (UTC)
Received: (qmail 9880 invoked by uid 500); 9 Jul 2012 08:50:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9684 invoked by uid 500); 9 Jul 2012 08:50:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9612 invoked by uid 99); 9 Jul 2012 08:50:40 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 08:50:40 +0000
Received: from localhost (HELO mail-yx0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 08:50:40 +0000
Received: by yenl1 with SMTP id l1so12442344yen.18
        for <users@tomcat.apache.org>; Mon, 09 Jul 2012 01:50:39 -0700 (PDT)
Received: by 10.236.153.8 with SMTP id e8mr46531768yhk.80.1341823839201; Mon,
 09 Jul 2012 01:50:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.130.7 with HTTP; Mon, 9 Jul 2012 01:50:19 -0700 (PDT)
In-Reply-To: <p06240808cc1f826e87b2@204.68.225.24>
References: <p06240800cc1bff9929a3@10.1.125.126> <CAPoyBqS5S9uNpbKhyiFYvnH1LFN74_JSr4-rbnteB5qhkEJTNw@mail.gmail.com>
 <p06240808cc1f826e87b2@204.68.225.24>
From: Olivier Lamy <olamy@apache.org>
Date: Mon, 9 Jul 2012 10:50:19 +0200
Message-ID: <CAPoyBqR0r2+mGWXbfrFAPYuxgb+D0kjEjrWCBgvusSvksRi++g@mail.gmail.com>
Subject: Re: confused by tomcat6/7 docs
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Hi,

2012/7/8 Russ Tremain <russt@releasetools.org>:
> ahh... thanks.  bad assumption on my part that tomcat7-maven was a superset.
>
> what would really be cool is an "incremental" deploy, but not sure if the tomcat remote deploy api supports that or not.

with incremental you mean for classes too ? or for jsp,css, jss etc.. ?

>
> meantime I will see if we can revert to tomcat6-maven plugin to see if we can speed the build/deploy development cycle up.
>
> thx,
> /r
>
> At 10:16 PM +0200 7/7/12, Olivier Lamy wrote:
>>Yup because currently not all goals from tomcat6 have been implemented
>>in tomcat7.
>>
>>http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat6-maven-plugin/plugin-info.html
>>whereas.
>>http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/plugin-info.html
>>
>>You can load an issue (if possible with a patch :-) ) for goals you'd like see.
>>
>>2012/7/6 Russ Tremain <russt@releasetools.org>:
>>> Hi Oliver,
>>>
>>> I must say I'm a bit confused by the examples & docs for
>>> tomcat7-maven-plugin.
>>>
>>> I see reference to a "war:explode" goal, which doesn't seem to exist. The
>>> reference is here:
>>>
>>>         http://tomcat.apache.org/maven-plugin-2.0-beta-1/context-goals.html
>>>
>>> But when I dump the plugin documentation [1], I see no such goal.
>>>
>>> What I would like to find out about the possibility to deploy an exploded
>>> war image to a local tomcat instance.
>>>
>>> I've been successfully using the deploy (tomcat7:deploy) goal, but my
>>> developers are complaining that it is too slow.  I need to work out a method
>>> to use an exploded war.
>>>
>>> Any help appreciated...
>>>
>>> thanks!
>>> -Russ
>>>
>>> [1] mvn -Dplugin=tomcat7 -DgroupId=org.apache.tomcat.maven -Dfull
>>> help:describe
>>> ...
>>> [INFO] org.apache.tomcat.maven:tomcat7-maven-plugin:2.0-beta-1
>>>
>>> Name: Apache Tomcat Maven Plugin :: Tomcat 7.x
>>> Description: The Tomcat Maven Plugin provides goals to manipulate WAR
>>>   projects within the Tomcat 7.x servlet container.
>>> Group Id: org.apache.tomcat.maven
>>> Artifact Id: tomcat7-maven-plugin
>>> Version: 2.0-beta-1
>>> Goal Prefix: tomcat7
>>>
>>> This plugin has 8 goals:
>>>
>>> tomcat7:deploy
>>>   Description: Deploy a WAR to Tomcat.
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployMojo
>>>   Language: java
>>>   Before this mojo executes, it will call:
>>>     Phase: 'package'
>>>
>>>   Available parameters:
>>>
>>>     charset (Default: ISO-8859-1)
>>>       The URL encoding charset to use when communicating with Tomcat
>>> manager.
>>>
>>>     contextFile
>>>       The path of the Tomcat context XML file. This is not used for war
>>>       deployment mode.
>>>
>>>     ignorePackaging (Default: false)
>>>       If set to true ignore if packaging of project is not 'war'.
>>>
>>>     mode (Default: war)
>>>       The deployment mode to use. This must be either war to deploy the war,
>>>       context to deploy the context XML file, or both to deploy the war with
>>>       the context XML file.
>>>
>>>     password
>>>       The password to use for deployment
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>>
>>>     server
>>>       The server id in settings.xml to use when authenticating with Tomcat
>>>       manager, or null to use defaults of username admin and no password.
>>>
>>>     tag
>>>       The Tomcat webapp tag name to use.
>>>
>>>     update (Default: false)
>>>       Whether Tomcat should automatically undeploy webapps that already
>>> exist
>>>       when deploying.
>>>
>>>     url (Default: http://localhost:8080/manager/html)
>>>       The full URL of the Tomcat manager instance to use.
>>>
>>>     username
>>>       The tomcat username to use for deployment
>>>
>>>     warFile
>>>       The path of the WAR file to deploy.
>>>
>>> tomcat7:deploy-only
>>>   Description: Deploy a WAR to Tomcat witjout forking the package lifecycle
>>>   Implementation:
>>> org.apache.tomcat.maven.plugin.tomcat7.deploy.DeployOnlyMojo
>>>   Language: java
>>>
>>>   Available parameters:
>>>
>>>     charset (Default: ISO-8859-1)
>>>       The URL encoding charset to use when communicating with Tomcat
>> > manager.
>>>
>>>     contextFile
>>>       The path of the Tomcat context XML file. This is not used for war
>>>       deployment mode.
>>>
>>>     ignorePackaging (Default: false)
>> >       If set to true ignore if packaging of project is not 'war'.
>>>
>>>     mode (Default: war)
>>>       The deployment mode to use. This must be either war to deploy the war,
>>>       context to deploy the context XML file, or both to deploy the war with
>>>       the context XML file.
>>>
>>>     password
>>>       The password to use for deployment
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>>
>>>     server
>>>       The server id in settings.xml to use when authenticating with Tomcat
>>>       manager, or null to use defaults of username admin and no password.
>>>
>>>     tag
>>>       The Tomcat webapp tag name to use.
>>>
>>>     update (Default: false)
>>>       Whether Tomcat should automatically undeploy webapps that already
>>> exist
>>>       when deploying.
>>>
>>>     url (Default: http://localhost:8080/manager/html)
>>>       The full URL of the Tomcat manager instance to use.
>>>
>>>     username
>>>       The tomcat username to use for deployment
>>>
>>>     warFile
>>>       The path of the WAR file to deploy.
>>>
>>> tomcat7:exec-war
>>>   Description: (no description available)
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarMojo
>>>   Language: java
>>>   Before this mojo executes, it will call:
>>>     Phase: 'package'
>>>
>>>   Available parameters:
>>>
>>>     accessLogValveFormat (Default: %h %l %u %t )
>>>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>>>
>>>     attachArtifact (Default: true)
>>>       Attach or not the generated artifact to the build (use true if you
>>> want
>>>       to install or deploy it)
>>>
>>>     attachArtifactClassifier (Default: exec-war)
>>>       the classifier to use for the attached/generated artifact
>>>
>>>     attachArtifactClassifierType (Default: jar)
>>>       the type to use for the attached/generated artifact
>>>
>>>     buildDirectory (Default: ${project.build.directory})
>>>       (no description available)
>>>
>>>     connectorHttpProtocol (Default: HTTP/1.1)
>>>       which connector protocol to use HTTP/1.1 or
>>>       org.apache.coyote.http11.Http11NioProtocol
>>>
>>>     enableNaming (Default: false)
>>>       to enable naming when starting tomcat
>>>
>>>     extraDependencies
>>>       list of extra dependencies to add in the standalone tomcat jar: your
>>> jdbc
>>>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>>>
>>>     extraResources
>>>       list of extra resources to add in the standalone tomcat jar: your
>>> logger
>>>       configuration etc
>>>
>>>     finalName (Default:
>>> ${project.artifactId}-${project.version}-war-exec.jar)
>>>       Name of the generated exec JAR.
>>>
>>>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>>>       Main class to use for starting the standalone jar.
>>>
>>>     path (Default: ${project.artifactId})
>>>       The webapp context path to use for the web application being run. The
>>>       name to store webapp in exec jar. Do not use /
>>>
>>>     pluginArtifacts (Default: ${plugin.artifacts})
>>>       (no description available)
>>>
>>>     serverXml (Default: src/main/tomcatconf/server.xml)
>>>       (no description available)
>>>
>>>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>>>       (no description available)
>>>
>>>     warRunDependencies
>>>       (no description available)
>>>
>>> tomcat7:exec-war-only
>>>   Description: (no description available)
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ExecWarOnlyMojo
>>>   Language: java
>>>
>>>   Available parameters:
>>>
>>>     accessLogValveFormat (Default: %h %l %u %t )
>>>       see http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
>>>
>>>     attachArtifact (Default: true)
>>>       Attach or not the generated artifact to the build (use true if you
>>> want
>>>       to install or deploy it)
>>>
>>>     attachArtifactClassifier (Default: exec-war)
>>>       the classifier to use for the attached/generated artifact
>> >
>>>     attachArtifactClassifierType (Default: jar)
>>>       the type to use for the attached/generated artifact
>>>
>>>     buildDirectory (Default: ${project.build.directory})
>> >       (no description available)
>>>
>>>     connectorHttpProtocol (Default: HTTP/1.1)
>>>       which connector protocol to use HTTP/1.1 or
>>>       org.apache.coyote.http11.Http11NioProtocol
>>>
>>>     enableNaming (Default: false)
>>>       to enable naming when starting tomcat
>>>
>>>     extraDependencies
>>>       list of extra dependencies to add in the standalone tomcat jar: your
>>> jdbc
>>>       driver, mail.jar etc.. Those dependencies will be in root classloader.
>>>
>>>     extraResources
>>>       list of extra resources to add in the standalone tomcat jar: your
>>> logger
>>>       configuration etc
>>>
>>>     finalName (Default:
>>> ${project.artifactId}-${project.version}-war-exec.jar)
>>>       Name of the generated exec JAR.
>>>
>>>     mainClass (Default: org.apache.tomcat.maven.runner.Tomcat7RunnerCli)
>>>       Main class to use for starting the standalone jar.
>>>
>>>     path (Default: ${project.artifactId})
>>>       The webapp context path to use for the web application being run. The
>>>       name to store webapp in exec jar. Do not use /
>>>
>>>     pluginArtifacts (Default: ${plugin.artifacts})
>>>       (no description available)
>>>
>>>     serverXml (Default: src/main/tomcatconf/server.xml)
>>>       (no description available)
>>>
>>>     tomcatConfigurationFilesDirectory (Default: src/main/tomcatconf)
>>>       (no description available)
>>>
>>>     warRunDependencies
>>>       (no description available)
>>>
>>> tomcat7:run
>>>   Description: Runs the current project as a dynamic web application using
>>> an
>>>     embedded Tomcat server.
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo
>>>   Language: java
>>>   Before this mojo executes, it will call:
>>>     Phase: 'compile'
>>>
>>>   Available parameters:
>>>
>>>     addContextWarDependencies (Default: false)
>>>       Will create a tomcat context for each dependencies of war type with
>>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>>          <type>war</type>
>>>          <scope>tomcat</scope>
>>>       To preserve backward compatibility it's false by default.
>>>
>>>     additionalClasspathDirs
>>>       Additional optional directories to add to the embedded tomcat
>>> classpath.
>>>
>>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>>       The directory contains additional configuration Files that copied in
>>> the
>>>       Tomcat conf Directory.
>>>
>>>     addWarDependenciesInClassloader (Default: true)
>>>       will add /WEB-INF/lib/*.jar and /WEB-INF/classes from war dependencies
>>> in
>>>       the webappclassloader
>>>
>>>     ajpPort (Default: 0)
>>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>>       won't be started. The ajp connector will be started only for value >
>>> 0.
>>>
>>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>>> NOTE
>>>       The ajp connector will be started only if ajpPort > 0. possible values
>>>       are:
>>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>>         supports an executor
>>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>>
>>>     backgroundProcessorDelay (Default: -1)
>>>       represents the delay in seconds between each classPathScanning change
>>>       invocation
>>>
>>>     configurationDir
>>>       The directory to create the Tomcat server configuration under.
>>>
>>>     contextFile
>>>       The path of the Tomcat context XML file.
>>>
>>>     contextReloadable (Default: false)
>>>       Force context scanning if you don't use a context file with reloadable
>>> =
>>>       'true'. The other way to use contextReloadable is to add attribute
>>>       reloadable = 'true' in your context file.
>>>
>>>     delegate (Default: true)
>>>       Set the 'follow standard delegation model' flag used to configure our
>>>       ClassLoader.
>>>
>>>     fork (Default: false)
>>>       Set this to true to allow Maven to continue to execute after invoking
>>> the
>>>       run goal.
>> >
>>>     httpsPort (Default: 0)
>>>       The https port to run the Tomcat server on. By default it's 0 this
>>> means
>>>       won't be started. The https connector will be started only for value >
>> > 0.
>>>
>>>     ignorePackaging (Default: false)
>>>       If set to true ignore if packaging of project is not 'war'.
>>>
>>>     keystoreFile
>>>       Override the default keystoreFile for the HTTPS connector (if enabled)
>>>
>>>     keystorePass
>>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>>
>>>     pluginArtifacts
>>>       (no description available)
>>>
>>>     port (Default: 8080)
>>>       The port to run the Tomcat server on.
>>>
>>>     protocol (Default: HTTP/1.1)
>>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>>
>>>     serverXml
>>>       server.xml to use Note if you use this you must configure in this file
>>>       your webapp paths.
>>>
>>>     systemProperties
>>>       List of System properties to pass to the Tomcat Server.
>>>
>>>     tomcatLoggingFile
>>>       The path of the Tomcat logging configuration.
>>>
>>>     tomcatUsers
>>>       The path of the Tomcat users XML file.
>>>
>>>     tomcatWebXml
>>>       overriding the providing web.xml to run tomcat
>>>
>>>     uriEncoding (Default: ISO-8859-1)
>>>       The character encoding to use for decoding URIs.
>>>
>>>     useNaming (Default: true)
>>>       Enables or disables naming support for the embedded Tomcat server.
>>>
>>>       Note: This setting is ignored if you provide a server.xml for your
>>>       Tomcat. Instead please configure naming in the server.xml.
>>>
>>>     useSeparateTomcatClassLoader (Default: false)
>>>       if true a new classLoader separated from maven core will be created to
>>>       start tomcat.
>>>
>>>     useTestClasspath (Default: false)
>>>       will use the test classpath rather than the compile one and will add
>>> test
>>>       dependencies too
>>>
>>>     warSourceDirectory (Default: ${basedir}/src/main/webapp)
>>>       The web resources directory for the web application being run.
>>>
>>> tomcat7:run-war
>>>   Description: Runs the current project as a packaged web application using
>>>     an embedded Tomcat server.
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarMojo
>>>   Language: java
>>>   Before this mojo executes, it will call:
>>>     Phase: 'package'
>>>
>>>   Available parameters:
>>>
>>>     addContextWarDependencies (Default: false)
>>>       Will create a tomcat context for each dependencies of war type with
>>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>>          <type>war</type>
>>>          <scope>tomcat</scope>
>>>       To preserve backward compatibility it's false by default.
>>>
>>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>>       The directory contains additional configuration Files that copied in
>>> the
>>>       Tomcat conf Directory.
>>>
>>>     ajpPort (Default: 0)
>>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>>       won't be started. The ajp connector will be started only for value >
>>> 0.
>>>
>>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>>> NOTE
>>>       The ajp connector will be started only if ajpPort > 0. possible values
>>>       are:
>>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>>         supports an executor
>>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>>
>>>     configurationDir
>>>       The directory to create the Tomcat server configuration under.
>>>
>>>     contextFile
>>>       The path of the Tomcat context XML file.
>>>
>>>     contextReloadable (Default: false)
>>>       Force context scanning if you don't use a context file with reloadable
>>> =
>>>       'true'. The other way to use contextReloadable is to add attribute
>>>       reloadable = 'true' in your context file.
>>>
>>>     fork (Default: false)
>>>       Set this to true to allow Maven to continue to execute after invoking
>> > the
>>>       run goal.
>>>
>>>     httpsPort (Default: 0)
>>>       The https port to run the Tomcat server on. By default it's 0 this
>>> means
>>>       won't be started. The https connector will be started only for value >
>> > 0.
>>>
>>>     ignorePackaging (Default: false)
>>>       If set to true ignore if packaging of project is not 'war'.
>>>
>>>     keystoreFile
>>>       Override the default keystoreFile for the HTTPS connector (if enabled)
>>>
>>>     keystorePass
>>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>>
>>>     pluginArtifacts
>>>       (no description available)
>>>
>>>     port (Default: 8080)
>>>       The port to run the Tomcat server on.
>>>
>>>     protocol (Default: HTTP/1.1)
>>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>>
>>>     serverXml
>>>       server.xml to use Note if you use this you must configure in this file
>>>       your webapp paths.
>>>
>>>     systemProperties
>>>       List of System properties to pass to the Tomcat Server.
>>>
>>>     tomcatLoggingFile
>>>       The path of the Tomcat logging configuration.
>>>
>>>     tomcatUsers
>>>       The path of the Tomcat users XML file.
>>>
>>>     tomcatWebXml
>>>       overriding the providing web.xml to run tomcat
>>>
>>>     uriEncoding (Default: ISO-8859-1)
>>>       The character encoding to use for decoding URIs.
>>>
>>>     useNaming (Default: true)
>>>       Enables or disables naming support for the embedded Tomcat server.
>>>
>>>       Note: This setting is ignored if you provide a server.xml for your
>>>       Tomcat. Instead please configure naming in the server.xml.
>>>
>>>     useSeparateTomcatClassLoader (Default: false)
>>>       if true a new classLoader separated from maven core will be created to
>>>       start tomcat.
>>>
>>>     warDirectory
>>>       The path of the exploded WAR directory to run.
>>>
>>> tomcat7:run-war-only
>>>   Description: Runs the current project as a packaged web application using
>>>     an embedded Tomcat server without forking the package cycle.
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.RunWarOnlyMojo
>>>   Language: java
>>>
>>>   Available parameters:
>>>
>>>     addContextWarDependencies (Default: false)
>>>       Will create a tomcat context for each dependencies of war type with
>>>       'scope' set to 'tomcat'. In other words, dependencies with:
>>>          <type>war</type>
>>>          <scope>tomcat</scope>
>>>       To preserve backward compatibility it's false by default.
>>>
>>>     additionalConfigFilesDir (Default: ${basedir}/src/main/tomcatconf)
>>>       The directory contains additional configuration Files that copied in
>>> the
>>>       Tomcat conf Directory.
>>>
>>>     ajpPort (Default: 0)
>>>       The AJP port to run the Tomcat server on. By default it's 0 this means
>>>       won't be started. The ajp connector will be started only for value >
>>> 0.
>>>
>>>     ajpProtocol (Default: org.apache.coyote.ajp.AjpProtocol)
>>>       The AJP protocol to run the Tomcat server on. By default it's ajp.
>>> NOTE
>>>       The ajp connector will be started only if ajpPort > 0. possible values
>>>       are:
>>>       - org.apache.coyote.ajp.AjpProtocol - new blocking Java connector that
>>>         supports an executor
>>>       - org.apache.coyote.ajp.AjpAprProtocol - the APR/native connector.
>>>
>>>     configurationDir
>>>       The directory to create the Tomcat server configuration under.
>>>
>>>     contextFile
>>>       The path of the Tomcat context XML file.
>>>
>>>     contextReloadable (Default: false)
>>>       Force context scanning if you don't use a context file with reloadable
>>> =
>>>       'true'. The other way to use contextReloadable is to add attribute
>>>       reloadable = 'true' in your context file.
>>>
>>>     fork (Default: false)
>>>       Set this to true to allow Maven to continue to execute after invoking
>>> the
>>>       run goal.
>>>
>>>     httpsPort (Default: 0)
>>>       The https port to run the Tomcat server on. By default it's 0 this
>>> means
>>>       won't be started. The https connector will be started only for value >
>> > 0.
>>>
>>>     ignorePackaging (Default: false)
>>>       If set to true ignore if packaging of project is not 'war'.
>>>
>>>     keystoreFile
>>>       Override the default keystoreFile for the HTTPS connector (if enabled)
>> >
>>>     keystorePass
>>>       Override the default keystorePass for the HTTPS connector (if enabled)
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>>
>>>     pluginArtifacts
>>>       (no description available)
>>>
>>>     port (Default: 8080)
>>>       The port to run the Tomcat server on.
>>>
>>>     protocol (Default: HTTP/1.1)
>>>       The protocol to run the Tomcat server on. By default it's HTTP/1.1.
>>>
>>>     serverXml
>>>       server.xml to use Note if you use this you must configure in this file
>>>       your webapp paths.
>>>
>>>     systemProperties
>>>       List of System properties to pass to the Tomcat Server.
>>>
>>>     tomcatLoggingFile
>>>       The path of the Tomcat logging configuration.
>>>
>>>     tomcatUsers
>>>       The path of the Tomcat users XML file.
>>>
>>>     tomcatWebXml
>>>       overriding the providing web.xml to run tomcat
>>>
>>>     uriEncoding (Default: ISO-8859-1)
>>>       The character encoding to use for decoding URIs.
>>>
>>>     useNaming (Default: true)
>>>       Enables or disables naming support for the embedded Tomcat server.
>>>
>>>       Note: This setting is ignored if you provide a server.xml for your
>>>       Tomcat. Instead please configure naming in the server.xml.
>>>
>>>     useSeparateTomcatClassLoader (Default: false)
>>>       if true a new classLoader separated from maven core will be created to
>>>       start tomcat.
>>>
>>>     warDirectory
>>>       The path of the exploded WAR directory to run.
>>>
>>> tomcat7:shutdown
>>>   Description: Shuts down all possibly started embedded tomcat servers. This
>>>     will be automatically down through a shutdown hook or you may call this
>>>     Mojo to shut them down explictly.
>>>
>>>     By default the shutdown goal is not bound to any phase. For integration
>>>     tests you might want to bind it to post-integration-test.
>>>   Implementation: org.apache.tomcat.maven.plugin.tomcat7.run.ShutdownMojo
>>>   Language: java
>>>
>>>   Available parameters:
>>>
>>>     path (Default: /${project.artifactId})
>>>       The webapp context path to use for the web application being run. This
>>>       must always start with a forward-slash ('/').
>>
>>
>>
>>--
>>Olivier Lamy
>>Talend: http://coders.talend.com
>>http://twitter.com/olamy | http://linkedin.com/in/olamy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 09:38:21 2012
Return-Path: <users-return-235365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2FB9DA51
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 09:38:20 +0000 (UTC)
Received: (qmail 16451 invoked by uid 500); 9 Jul 2012 09:38:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16267 invoked by uid 500); 9 Jul 2012 09:38:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15981 invoked by uid 99); 9 Jul 2012 09:38:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 09:38:15 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of adisinha0423@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 09:38:07 +0000
Received: by obbta14 with SMTP id ta14so26990711obb.18
        for <users@tomcat.apache.org>; Mon, 09 Jul 2012 02:37:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=66V4n3fqgdGOFtedw/rb9oh9Kyy3I5ebzycfuyx+CaM=;
        b=GT3NLKp57UpY6+6BCqhsIk2DMlato4GLwrYCzigt4mDUvPxDE9XdyNf2KkmYu5r7rQ
         RKxsAkvVr8IIAR2XydeUrS2eXe6M7WL/oHlXaVg9cWIkfy/8jcY/YMSTTmvbYBWaq+G6
         qCR6LFzKlRq05K4WjlqZjjkjk7FkrRF4EIipByn/+GYUgtz59pAhvCnFkcSX8ZDuKNy8
         Ny6ATZcy60CbOm1G6MMRE0W2OdijCrRwixoUFm8mW1IB7gNUNBWXZEh6raS/Nknn8kjW
         CMWzpXIbPnOwJH1JbgVAr/pbM3Y+sNmS1w3p4R5KIRCR3QLAJPpi7CmKL62s2SOetdC1
         U9xw==
MIME-Version: 1.0
Received: by 10.60.0.164 with SMTP id 4mr40968320oef.4.1341826665773; Mon, 09
 Jul 2012 02:37:45 -0700 (PDT)
Received: by 10.76.87.199 with HTTP; Mon, 9 Jul 2012 02:37:45 -0700 (PDT)
In-Reply-To: <CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com>
References: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com>
	<CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com>
	<CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com>
Date: Mon, 9 Jul 2012 15:07:45 +0530
Message-ID: <CAJjyRMdr-9S7EwAUV0d6Si6_y+7D5DTqo5HCQRfRVGVJLUxAQw@mail.gmail.com>
Subject: Re: How to support IPv6 on Apache Tomcat Version 7.0.22
From: Aditi Sinha <adisinha0423@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb1ec70c37a8b04c4625d1e

--e89a8fb1ec70c37a8b04c4625d1e
Content-Type: text/plain; charset=ISO-8859-1

I could get the comparison of the three connectors here
http://tomcat.apache.org/tomcat-7.0-doc/config/http.html#Connector_Comparison

With the BIO connector specified, the server is not responding to the https
request.
Is it because SSL Handshake is Blocking for BIO connector?

We need to support SSL. Is there a way to have below configuration support
IPv6?

HTTP Connector: NIO protocol
AJP Connector: APR protocol/NIO protocol.

Thanks & Regards,
Aditi
On Mon, Jul 9, 2012 at 1:04 PM, Aditi Sinha <adisinha0423@gmail.com> wrote:

> Hi Kolinko,
>
> Thank you so much. We specified the BIO connector implementation for HTTP
> and AJP protocol and the setup now supports IPv6.
>
> Is there any preference among the three connectors "BIO", "NIO" and "APR"?
> How should one decide which connector to opt for?
>
> Thanks & Regards,
> Aditi
>  On Fri, Jul 6, 2012 at 9:58 PM, Konstantin Kolinko <
> knst.kolinko@gmail.com> wrote:
>
>> 2012/7/6 Aditi Sinha <adisinha0423@gmail.com>:
>> > Hi,
>> >
>> >
>> > We have a web server hosted on Apache Tomcat Version 7.0.22. We are
>> trying
>> > to get the web server support IPv6.
>> >
>> > Machine details: Windows 2008 server machine, 32-bit OS
>> > Java version:  jdk1.6.0_25
>> >
>> >
>> > The web server is not accessible using the IPv6 address. The
>> connectivity
>> > to windows server machine works fine though IPv6 address.
>> > The firewall is turned off.
>> >
>> >
>> > **
>> >
>> > In the Catalina.log can see IPv6 [false] as below.
>> >
>> > * *
>> >
>> > *INFO: APR capabilities: IPv6 [false], sendfile [true], accept filters
>> > [false], random [true].*
>> >
>> >
>> > Is there any configuration which needs to be done for Tomcat/Connector
>> to
>> > support IPv6?
>> >  In server.xml we are using the AJP 1.3 Connector and HTTP/1.1
>> Connector.**
>>
>> Look into the docs - there are 3 different connector implementations
>> for HTTP protocol, and 3 for AJP protocol. They are known as "BIO",
>> "NIO" and "APR" one.
>>
>> As you have Tomcat-Native library installed, the configuration by
>> default will use the "APR" connector.    But your problem is that the
>> binary version of Tomcat-Native that you are using is not compiled
>> with support for IPv6 and thus this connector does not support IPv6.
>>
>> So have the following possibilities:
>> a) compile your own version of Tomcat-Native for your platform and
>> make sure that it has IPv6 support enabled. For Windows it might be
>> tricky.
>>
>> b) choose other connector implementation - see "protocol" attribute on
>> <Connector> element in Configuration Reference.
>>
>> c) uninstall Tomcat-Native library or disable AprLifecycleListener in
>> your configuration. In this case Tomcat will autoselect the BIO
>> connector implementations for both protocols.
>>
>> Best regards,
>> Konstantin Kolinko
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--e89a8fb1ec70c37a8b04c4625d1e--

From users-return-235366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 11:48:21 2012
Return-Path: <users-return-235366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89C05D251
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 11:48:21 +0000 (UTC)
Received: (qmail 14045 invoked by uid 500); 9 Jul 2012 11:48:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13973 invoked by uid 500); 9 Jul 2012 11:48:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13925 invoked by uid 99); 9 Jul 2012 11:48:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 11:48:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohaya@cox.net designates 68.230.241.218 as permitted sender)
Received: from [68.230.241.218] (HELO eastrmfepo203.cox.net) (68.230.241.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 11:48:05 +0000
Received: from eastrmimpo209.cox.net ([68.230.241.224])
          by eastrmfepo203.cox.net
          (InterMail vM.8.01.04.00 201-2260-137-20101110) with ESMTP
          id <20120709114744.MSXV18532.eastrmfepo203.cox.net@eastrmimpo209.cox.net>
          for <users@tomcat.apache.org>; Mon, 9 Jul 2012 07:47:44 -0400
Received: from eastrmwml207 ([172.18.18.217])
	by eastrmimpo209.cox.net with bizsmtp
	id YBnk1j0054h0NJL02Bnkjm; Mon, 09 Jul 2012 07:47:44 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020201.4FFAC4E0.0064,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=1.1 cv=PWyKYX8xuCpYxm52kCskfzlxHtcKeeZQyl7KAw8Wow0=
 c=1 sm=1 a=AI5qhiLbrHAA:10 a=G8Uczd0VNMoA:10 a=1N-yuG7BIooA:10
 a=IkcTkHD0fZMA:10 a=PWBp/uTxiyyf5eZWroZrKg==:17 a=kviXuzpPAAAA:8
 a=mV9VRH-2AAAA:8 a=CiCnUYGUXr0DzyawmlsA:9 a=QEXdDO2ut3YA:10 a=4vB-4DCPJfMA:10
 a=88iI8knYSJUA:10 a=PWBp/uTxiyyf5eZWroZrKg==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; none
Received: from 72.205.21.52 by webmail.east.cox.net; Mon, 9 Jul 2012 7:47:44 -0400
Message-ID: <20120709074744.X7NNR.463031.imail@eastrmwml207>
Date: Mon, 9 Jul 2012 7:47:44 -0400
From:  <ohaya@cox.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NullPointerException/java.util.logging.ErrorManager: 5 when
 have <load-on-startup>
In-Reply-To: <20120707162516.1D1DC.448448.root@eastrmwml105>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal


---- ohaya@cox.net wrote: 
> 
> ---- Mark Thomas <markt@apache.org> wrote: 
> > On 07/07/2012 17:33, ohaya@cox.net wrote:
> > 
> > Trace A:
> > > java.util.logging.ErrorManager: 5
> > > java.lang.NullPointerException
> > >         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
> > >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
> > >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
> > >         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
> > >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
> > >         at org.apache.juli.FileHandler.publish(FileHandler.java:198)
> > >         at java.util.logging.Logger.log(Logger.java:478)
> > >         at java.util.logging.Logger.doLog(Logger.java:501)
> > >         at java.util.logging.Logger.log(Logger.java:524)
> > >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
> > >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
> > >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
> > >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
> > >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
> > >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
> > >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
> > >         at java.lang.Thread.run(Thread.java:662)
> > > java.util.logging.ErrorManager: 5
> > 
> > Trace B:
> > > java.lang.NullPointerException
> > >         at java.util.ListResourceBundle.handleGetObject(ListResourceBundle.java:109)
> > >         at java.util.ResourceBundle.getObject(ResourceBundle.java:368)
> > >         at java.util.ResourceBundle.getString(ResourceBundle.java:334)
> > >         at java.util.logging.Formatter.formatMessage(Formatter.java:108)
> > >         at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:63)
> > >         at java.util.logging.StreamHandler.publish(StreamHandler.java:179)
> > >         at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:88)
> > >         at java.util.logging.Logger.log(Logger.java:478)
> > >         at java.util.logging.Logger.doLog(Logger.java:501)
> > >         at java.util.logging.Logger.log(Logger.java:524)
> > >         at oracle.security.am.common.nap.util.NAPLogger.log(NAPLogger.java:60)
> > >         at oracle.security.am.common.nap.util.pool.ObjectPoolManager.shutdown(ObjectPoolManager.java:267)
> > >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.close(ObAAAServiceClient.java:1239)
> > >         at oracle.security.am.common.aaaclient.ObAAAServiceClient.finalize(ObAAAServiceClient.java:2548)
> > >         at jrockit.memory.Finalizer.doFinalize(Finalizer.java:29)
> > >         at jrockit.memory.Finalizer.access$300(Finalizer.java:12)
> > >         at jrockit.memory.Finalizer$4.run(Finalizer.java:186)
> > >         at java.lang.Thread.run(Thread.java:662)
> > 
> > Do you see any Tomcat code in Trace B? No? Neither do I. So what makes
> > you think there is a Tomcat problem here?
> > 
> > Given the only difference in Trace A is that you are using a Tomcat
> > Handler rather than the console I don't see anything here to suggest a
> > Tomcat bug.
> > 
> > Looking at the source for java.util.ListResourceBundle, the key or the
> > value being used for the log message is null. That makes this an OAM
> > bug, not a Tomcat one.
> > 
> > Mark
> > 
> 
> 
> Hi Mark,
> 
> Just to be clear, I wasn't pointing to a Tomcat bug :(...  
> 
> I'm just trying to figure out why the NullPointerException doesn't happen when I don't have <load-on-startup> in my servlet's web.xml, but does happen when I have <load-on-startup> in the web.xml.  Also, BTW, if I stop then start the servlet app using the Tomcat manager app, I don't get the NullPointerException.
> 
> What might the difference be between when the <load-on-startup> is in the web.xml vs. not being in the web.xml?  Doesn't Tomcat just load and call the servlet's init() method when the <load-on-startup> is present?  I'm kind of guessing it may be a timing type issue, as in my servlet's init() method, I initialize the Oracle stuff.  My initialization call returns, but it may be that there's still something going on behind-the-scenes that's not quite done.
> 
> Thanks,
> Jim
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 

Mark,

For the record, it turned that there was a bug in the Oracle SDK, as you suggested.  I got a patched SDK JAR, and the problem got fixed.

Thanks,
Jim


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 13:54:58 2012
Return-Path: <users-return-235367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B658D42C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 13:54:58 +0000 (UTC)
Received: (qmail 79058 invoked by uid 500); 9 Jul 2012 13:54:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78984 invoked by uid 500); 9 Jul 2012 13:54:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78943 invoked by uid 99); 9 Jul 2012 13:54:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 13:54:52 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_RCVD_USER,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vijay.gandra@subk.co.in designates 69.93.106.19 as permitted sender)
Received: from [69.93.106.19] (HELO gateway01.websitewelcome.com) (69.93.106.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 13:54:43 +0000
Received: by gateway01.websitewelcome.com (Postfix, from userid 5007)
	id 044C9AFC30E4A; Mon,  9 Jul 2012 08:54:24 -0500 (CDT)
Received: from ham02.websitewelcome.com (unknown [173.192.111.51])
	by gateway01.websitewelcome.com (Postfix) with ESMTP id EB2B9AFC30E28
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 08:54:23 -0500 (CDT)
Received: by ham02.websitewelcome.com (Postfix, from userid 666)
	id 1FA9D145706D1; Mon,  9 Jul 2012 08:54:23 -0500 (CDT)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	ham02.websitewelcome.com
X-Spam-Flag2999: NO
X-Spam-Level2999: 
X-Spam-Status2999: "No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received: from gator1130.hostgator.com (gator1130.hostgator.com [174.120.233.130])
	by ham02.websitewelcome.com (Postfix) with ESMTP id E1E2A14570625
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 08:54:22 -0500 (CDT)
Received: from subk by gator1130.hostgator.com with local (Exim 4.77)
	(envelope-from <vijay.gandra@subk.co.in>)
	id 1SoEPu-0004wC-Ni
	for users@tomcat.apache.org; Mon, 09 Jul 2012 08:54:22 -0500
Received: from 220.227.245.130 ([220.227.245.130]) (proxying for
 220.227.245.130)
        (SquirrelMail authenticated user vijay.gandra@subk.co.in)
        by webmail.subk.co.in with HTTP;
        Mon, 9 Jul 2012 08:54:22 -0500
Message-ID: <ee7c744cde41b6b62ce8e3cbaeea419b.squirrel@webmail.subk.co.in>
Date: Mon, 9 Jul 2012 08:54:22 -0500
Subject: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource cannot
 be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
From: vijay.gandra@subk.co.in
To: users@tomcat.apache.org
User-Agent: SquirrelMail/1.4.22
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gator1130.hostgator.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [1496 32003] / [47 12]
X-AntiAbuse: Sender Address Domain - subk.co.in
X-BWhitelist: no
X-Source: /var/cpanel/3rdparty/bin/php
X-Source-Args: /var/cpanel/3rdparty/bin/php /usr/local/cpanel/base/3rdparty/squirrelmail/src/compose.php 
X-Source-Dir: :/base/3rdparty/squirrelmail/src
X-Source-Sender: 
X-Source-Auth: subk
X-Email-Count: 57
X-Source-Cap: c3ViaztzdWJrO2dhdG9yMTEzMC5ob3N0Z2F0b3IuY29t
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

I am getting class cast exception when casting DataSource to BasicDataSource.
The same is executed when run on JDeveloper.

Environment : Tomcat 7.X
DB : Oracle

Used : tomcat-dbcp.jar,ojdbc14.jar

context.xml

<Resource name="jdbc/ShipConsoleDS" auth="Container"
  type="javax.sql.DataSource" driverClassName="oracle.jdbc.OracleDriver"
  url="jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
  username="apps" password="apps" maxActive="-1" maxIdle="0"
  maxWait="-1" initialSize="15" accessToUnderlyingConnectionAllowed="true" />

Java Code to access Data Source :

InitialContext initContext = new InitialContext();
Context envContext = (Context) initContext.lookup("java:/comp/env");
DataSource dataSource = (DataSource) envContext.lookup("jdbc/ShipConsoleDS");
BasicDataSource bds = (BasicDataSource)dataSource;


Exception :

Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource cannot be
cast to
org.apache.tomcat.dbcp.dbcp.BasicDataSource
java.lang.ClassCastException: org.apache.tomcat.dbcp.dbcp.BasicDataSource
cannot
 be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
        at
com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
tory.java:96)
        at com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)
        at com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
        at
org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
dex_jsp.java:296)
        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
        at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
.java:432)
        at
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
90)
        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
icationFilterChain.java:305)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
ilterChain.java:210)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
alve.java:225)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
alve.java:169)
        at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
torBase.java:472)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
ava:168)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
ava:98)
        at
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
927)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
ve.java:118)
        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
a:407)
        at
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
11Processor.java:999)
        at
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
AbstractProtocol.java:565)
        at
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
t.java:309)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
Source
)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 14:12:55 2012
Return-Path: <users-return-235368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A3AAD4EB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 14:12:55 +0000 (UTC)
Received: (qmail 41936 invoked by uid 500); 9 Jul 2012 14:12:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41536 invoked by uid 500); 9 Jul 2012 14:12:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41288 invoked by uid 99); 9 Jul 2012 14:12:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 14:12:50 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 14:12:40 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 0B966287C7
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 07:12:19 -0700 (PDT)
Received: from zimbra-prod-mta-3.vmware.com (zimbra-prod-mta-3.vmware.com [10.113.160.227])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 052C31835D
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 07:12:19 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id F2056E2589
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 07:12:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-3.vmware.com
Received: from zimbra-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sxVaBKapKhei for <users@tomcat.apache.org>;
	Mon,  9 Jul 2012 07:12:18 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-3.vmware.com (Postfix) with ESMTP id D467BE2745
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 07:12:18 -0700 (PDT)
Date: Mon, 9 Jul 2012 07:12:18 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <4156180.222.1341843136625.JavaMail.daniel@cleveland>
In-Reply-To: <ee7c744cde41b6b62ce8e3cbaeea419b.squirrel@webmail.subk.co.in>
Subject: Re: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
 cannot be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Hi All,
> 
> I am getting class cast exception when casting DataSource to
> BasicDataSource.
> The same is executed when run on JDeveloper.
> 
> Environment : Tomcat 7.X
> DB : Oracle
> 
> Used : tomcat-dbcp.jar,ojdbc14.jar

Where do you have these deployed?  WEB-INF/lib? $CATALINA_BASE/lib? $CATALINA_HOME/lib?


> context.xml

What is the location of this context file?  conf/context.xml? META-INF/context.xml? 


> 
> <Resource name="jdbc/ShipConsoleDS" auth="Container"
>   type="javax.sql.DataSource"
>   driverClassName="oracle.jdbc.OracleDriver"
>   url="jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
>   username="apps" password="apps" maxActive="-1" maxIdle="0"
>   maxWait="-1" initialSize="15"
>   accessToUnderlyingConnectionAllowed="true" />
> 
> Java Code to access Data Source :
> 
> InitialContext initContext = new InitialContext();
> Context envContext = (Context) initContext.lookup("java:/comp/env");
> DataSource dataSource = (DataSource)
> envContext.lookup("jdbc/ShipConsoleDS");
> BasicDataSource bds = (BasicDataSource)dataSource;
> 
> 
> Exception :
> 
> Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource cannot
> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource

I've seen similar exceptions before when the BasicDataSource class loaded by two different class loaders.  For example, from the common class loader and from the webapp class loader.  Check your class path to see if this might be occurring.  

Also, you might want to add the "-verbose:class" option to your JVM options.  This will print the classes that are loaded and the location from where they are loaded.  This is helpful if the class is unknowingly loaded twice.

Dan



> java.lang.ClassCastException:
> org.apache.tomcat.dbcp.dbcp.BasicDataSource
> cannot
>  be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>         at
> com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
> tory.java:96)
>         at
>         com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)
>         at
>         com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
>         at
> org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
> dex_jsp.java:296)
>         at
>         org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
>         at
>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>         at
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
> .java:432)
>         at
> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
> 90)
>         at
>         org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
>         at
>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>         at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
> icationFilterChain.java:305)
>         at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
> ilterChain.java:210)
>         at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
> alve.java:225)
>         at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
> alve.java:169)
>         at
> org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
> torBase.java:472)
>         at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
> ava:168)
>         at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
> ava:98)
>         at
> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
> 927)
>         at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
> ve.java:118)
>         at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
> a:407)
>         at
> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
> 11Processor.java:999)
>         at
> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
> AbstractProtocol.java:565)
>         at
> org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
> t.java:309)
>         at
>         java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
> Source
> )
>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown
>         Source)
>         at java.lang.Thread.run(Unknown Source)
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 14:15:10 2012
Return-Path: <users-return-235369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A3E1D4FA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 14:15:10 +0000 (UTC)
Received: (qmail 51874 invoked by uid 500); 9 Jul 2012 14:15:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51805 invoked by uid 500); 9 Jul 2012 14:15:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51673 invoked by uid 99); 9 Jul 2012 14:15:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 14:15:05 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.253.227] (HELO mail170.messagelabs.com) (216.82.253.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 09 Jul 2012 14:14:56 +0000
X-Env-Sender: Chuck.Toman@stocksupply.com
X-Msg-Ref: server-13.tower-170.messagelabs.com!1341843273!24435612!1
X-Originating-IP: [206.208.94.52]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17203 invoked from network); 9 Jul 2012 14:14:34 -0000
Received: from unknown (HELO sbs09932mx001.ds.stocksupply.com) (206.208.94.52)
  by server-13.tower-170.messagelabs.com with SMTP; 9 Jul 2012 14:14:34 -0000
Received: from sbs09932mx005.ds.stocksupply.com ([10.154.101.85]) by sbs09932mx001.ds.stocksupply.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 9 Jul 2012 10:14:30 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: soap location address
Date: Mon, 9 Jul 2012 10:14:29 -0400
Message-ID: <E19E09E89241E04E8A39657410D7D8387A4268@sbs09932mx005.ds.stocksupply.com>
In-Reply-To: <4FF74E1D.2000703@pidster.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: soap location address
Thread-Index: Ac1buC8KwsX8dKJ7SpmtW1W9szcPVgCJKZsg
References: <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com> <4FF74E1D.2000703@pidster.com>
From: "Toman, Chuck [Stock]" <Chuck.Toman@stocksupply.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 09 Jul 2012 14:14:30.0422 (UTC) FILETIME=[28058B60:01CD5DDD]

Yes, I believe so....
Somehow in Apache Tomcat the hostname can be dynamically change for soap
location address.

Thanks,
=20
Charles G. Toman
Trend DBA
T: +1 (919) 431 1792 * M: +1 (919) 524 8652
=20
Customer Focused, Associate Driven.
=20
-----Original Message-----
From: Pid [mailto:pid@pidster.com]=20
Sent: Friday, July 06, 2012 4:44 PM
To: Tomcat Users List
Subject: Re: soap location address

On 06/07/2012 20:00, Toman, Chuck [Stock] wrote:
> How do you dynamically change soap location for WSDL files?

Are you asking this question on the right mailing list?
This list is for questions about Apache Tomcat.


p


--=20

[key:62590808]




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 15:56:01 2012
Return-Path: <users-return-235370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7DE6D4CF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 15:56:01 +0000 (UTC)
Received: (qmail 60338 invoked by uid 500); 9 Jul 2012 15:55:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60269 invoked by uid 500); 9 Jul 2012 15:55:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60260 invoked by uid 99); 9 Jul 2012 15:55:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 15:55:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [204.187.63.106] (HELO mail.evertz.com) (204.187.63.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 15:55:51 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CD5DEB.43DEA9AB"
Subject: Speeding up RMI calls
Date: Mon, 9 Jul 2012 11:55:28 -0400
Message-ID: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up RMI calls
Thread-Index: Ac1d60MoA2nytmGuSnKaGy58QpHyiw==
From: "Andrew Kujtan" <akujtan@evertz.com>
To: <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CD5DEB.43DEA9AB
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Tomcat Version: 7.0.27

OS: Windows XP/7

=20

I'm fixing an issue we are having with a webapp that does some
communication over RMI with a remote  server. Calls that would be
instant in similar applications not inside the tomcat container are
taking more than 30 seconds when called from tomcat. After debugging
I've found that  when an RMI call is made, the classlist containing all
the jars in the webapp lib folders is being serialized with the data.
Which wouldn't be a problem normally, except the webapp has >300 jars in
its lib folder.

=20

The only solution I have found is to create a custom WebAppClassloader
that returns a zero length URL array on the getURLs() call. We don't do
any dynamic class loading so breaking that is not a problem.

=20

My question is, is there any other way to resolve this, like a
configuration property? If not, are there any problems that I am going
to introduce by overriding this method? Can I override the classloader
for just this webapp or am I stuck doing it for the entire tomcat
instance?

=20

Thanks,

Andrew Kujtan


------_=_NextPart_001_01CD5DEB.43DEA9AB--

From users-return-235371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 15:56:50 2012
Return-Path: <users-return-235371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22DF5D4F5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 15:56:50 +0000 (UTC)
Received: (qmail 67908 invoked by uid 500); 9 Jul 2012 15:56:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67859 invoked by uid 500); 9 Jul 2012 15:56:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67849 invoked by uid 99); 9 Jul 2012 15:56:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 15:56:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [138.163.1.76] (HELO NAWESDNIAX03O.nmci.navy.mil) (138.163.1.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 15:56:40 +0000
X-AuditID: 8aa3014b-b7b2cae00000100a-79-4ffafd9eb4fc
Received: from nawesdnieg06v.nadsuswe.nads.navy.mil (Gate3-Sandiego.nmci.navy.mil [138.163.0.43])
	by  (Symantec Mail Security) with SMTP id 5B.E2.04106.E9DFAFF4; Mon,  9 Jul 2012 15:49:50 +0000 (GMT)
Received: from nawesdnieb09v.nadsuswe.nads.navy.mil ([10.0.10.26]) by nawesdnieg06v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 9 Jul 2012 08:55:26 -0700
Received: from nawespsceb02v.nadsuswe.nads.navy.mil ([10.1.120.16]) by nawesdnieb09v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 9 Jul 2012 08:55:25 -0700
Received: from nawespscez08v.nadsuswe.nads.navy.mil ([10.1.120.173]) by nawespsceb02v.nadsuswe.nads.navy.mil with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 9 Jul 2012 08:55:22 -0700
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: log4j to write Tomcat logs to Windows Event Log
Date: Mon, 9 Jul 2012 08:52:36 -0700
Message-ID: <7C09ACE3A0893249B9F0CDF48B723BB233D26F@nawespscez08v.nadsuswe.nads.navy.mil>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: log4j to write Tomcat logs to Windows Event Log
Thread-Index: Ac1dJ4VU80FFvLN3QWysph4ak8x64QAw1bM4
References: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil> <CABzHfV=uNHpJtKUvxghAEUbmf+yhcqX+-WF0xhYbKGUwNa0Rwg@mail.gmail.com> <4FF9B66E.5090907@christopherschultz.net>
From: "Dunbar, Kevin D CIV SPAWARSYSCEN-PACIFIC, 56250" <kevin.dunbar@navy.mil>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 09 Jul 2012 15:55:22.0681 (UTC) FILETIME=[3F72FA90:01CD5DEB]
X-Brightmail-Tracker: AAAAAA==

Thank you Chris and Konstantin for replying to my message.  Here is the =
contents of the log4j.properties file...
(This was taken from the instructions on the Tomcat website for logging =
with log4j).  Thank you again for any help you can provide.
=20
=20
=20
log4j.rootLogger=3DINFO, CATALINA
# Define all the appenders
log4j.appender.CATALINA=3Dorg.apache.log4j.DailyRollingFileAppender
log4j.appender.CATALINA.File=3D${catalina.base}/logs/catalina.
log4j.appender.CATALINA.Append=3Dtrue
log4j.appender.CATALINA.Encoding=3DUTF-8
# Roll-over the log once per day
log4j.appender.CATALINA.DatePattern=3D'.'yyyy-MM-dd'.log'
log4j.appender.CATALINA.layout =3D org.apache.log4j.PatternLayout
log4j.appender.CATALINA.layout.ConversionPattern =3D %d [%t] %-5p %c- =
%m%n
log4j.appender.LOCALHOST=3Dorg.apache.log4j.DailyRollingFileAppender
log4j.appender.LOCALHOST.File=3D${catalina.base}/logs/localhost.
log4j.appender.LOCALHOST.Append=3Dtrue
log4j.appender.LOCALHOST.Encoding=3DUTF-8
log4j.appender.LOCALHOST.DatePattern=3D'.'yyyy-MM-dd'.log'
log4j.appender.LOCALHOST.layout =3D org.apache.log4j.PatternLayout
log4j.appender.LOCALHOST.layout.ConversionPattern =3D %d [%t] %-5p %c- =
%m%n
log4j.appender.MANAGER=3Dorg.apache.log4j.DailyRollingFileAppender
log4j.appender.MANAGER.File=3D${catalina.base}/logs/manager.
log4j.appender.MANAGER.Append=3Dtrue
log4j.appender.MANAGER.Encoding=3DUTF-8
log4j.appender.MANAGER.DatePattern=3D'.'yyyy-MM-dd'.log'
log4j.appender.MANAGER.layout =3D org.apache.log4j.PatternLayout
log4j.appender.MANAGER.layout.ConversionPattern =3D %d [%t] %-5p %c- =
%m%n
log4j.appender.HOST-MANAGER=3Dorg.apache.log4j.DailyRollingFileAppender
log4j.appender.HOST-MANAGER.File=3D${catalina.base}/logs/host-manager.
log4j.appender.HOST-MANAGER.Append=3Dtrue
log4j.appender.HOST-MANAGER.Encoding=3DUTF-8
log4j.appender.HOST-MANAGER.DatePattern=3D'.'yyyy-MM-dd'.log'
log4j.appender.HOST-MANAGER.layout =3D org.apache.log4j.PatternLayout
log4j.appender.HOST-MANAGER.layout.ConversionPattern =3D %d [%t] %-5p =
%c- %m%n
log4j.appender.CONSOLE=3Dorg.apache.log4j.ConsoleAppender
log4j.appender.CONSOLE.Encoding=3DUTF-8
log4j.appender.CONSOLE.layout =3D org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern =3D %d [%t] %-5p %c- =
%m%n
# Configure which loggers log to which appenders
log4j.logger.org.apache.catalina.core.ContainerBase.[Catalina].[localhost=
]=3DINFO, LOCALHOST
log4j.logger.org.apache.catalina.core.ContainerBase.[Catalina].[localhost=
].[/manager]=3D\
  INFO, MANAGER
log4j.logger.org.apache.catalina.core.ContainerBase.[Catalina].[localhost=
].[/host-manager]=3D\
  INFO, HOST-MANAGER

=20
=20
=20
Kevin Dunbar
Code 56250
SPAWAR Systems Center Pacific
(619) 553-0777
kevin.dunbar@navy.mil

________________________________

From: Christopher Schultz [mailto:chris@christopherschultz.net]
Sent: Sun 7/8/2012 9:33 AM
To: Tomcat Users List
Subject: Re: log4j to write Tomcat logs to Windows Event Log



-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/8/12 5:40 AM, Konstantin Kolinko wrote:
> Your log4j.properties is wrong?

+1

Kevin, can you post your log4j.properties file?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org <http://gpgtools.org/>=20
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/5tm4ACgkQ9CaO5/Lv0PBt8gCfaGjSj3MVwx6u8JtTu6AEUP3F
/6cAoJD3RAl01y6N2PxS8X/9FeZ1/Ax8
=3D+OEK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 16:01:04 2012
Return-Path: <users-return-235372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C415DD5C5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 16:01:04 +0000 (UTC)
Received: (qmail 88178 invoked by uid 500); 9 Jul 2012 16:01:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88076 invoked by uid 500); 9 Jul 2012 16:01:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88066 invoked by uid 99); 9 Jul 2012 16:01:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:01:01 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_RCVD_USER,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vijay.gandra@subk.co.in designates 69.93.106.23 as permitted sender)
Received: from [69.93.106.23] (HELO gateway08.websitewelcome.com) (69.93.106.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:00:52 +0000
Received: by gateway08.websitewelcome.com (Postfix, from userid 5007)
	id BDD63B2599732; Mon,  9 Jul 2012 11:00:23 -0500 (CDT)
Received: from gator1130.hostgator.com (gator1130.hostgator.com [174.120.233.130])
	by gateway08.websitewelcome.com (Postfix) with ESMTP id 2ECA5B259537E
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 11:00:19 -0500 (CDT)
Received: from subk by gator1130.hostgator.com with local (Exim 4.77)
	(envelope-from <vijay.gandra@subk.co.in>)
	id 1SoGNl-0007Ek-12
	for users@tomcat.apache.org; Mon, 09 Jul 2012 11:00:17 -0500
Received: from 203.217.147.137 ([203.217.147.137]) (proxying for
 203.217.147.137)
        (SquirrelMail authenticated user vijay.gandra@subk.co.in)
        by webmail.subk.co.in with HTTP;
        Mon, 9 Jul 2012 11:00:16 -0500
Message-ID: <3607149a0e17e6ef469b9ad22b02e71e.squirrel@webmail.subk.co.in>
In-Reply-To: <4156180.222.1341843136625.JavaMail.daniel@cleveland>
References: <4156180.222.1341843136625.JavaMail.daniel@cleveland>
Date: Mon, 9 Jul 2012 11:00:16 -0500
Subject: Re: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
 cannot be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
From: vijay.gandra@subk.co.in
To: "Tomcat Users List" <users@tomcat.apache.org>
User-Agent: SquirrelMail/1.4.22
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gator1130.hostgator.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [1496 32003] / [47 12]
X-AntiAbuse: Sender Address Domain - subk.co.in
X-BWhitelist: no
X-Source: /var/cpanel/3rdparty/bin/php
X-Source-Args: /var/cpanel/3rdparty/bin/php /usr/local/cpanel/base/3rdparty/squirrelmail/src/compose.php 
X-Source-Dir: :/base/3rdparty/squirrelmail/src
X-Source-Sender: 
X-Source-Auth: subk
X-Email-Count: 1
X-Source-Cap: c3ViaztzdWJrO2dhdG9yMTEzMC5ob3N0Z2F0b3IuY29t

Thanks for your reply,

1. $CATALINA_HOME/lib

2. conf/context.xml?

3. In y application/lib also tomcat-dbcp.jar,ojdbc14.jar files are
available. Please suggest how to debug any useful site.

Thanks,


> ----- Original Message -----
>> Hi All,
>>
>> I am getting class cast exception when casting DataSource to
>> BasicDataSource.
>> The same is executed when run on JDeveloper.
>>
>> Environment : Tomcat 7.X
>> DB : Oracle
>>
>> Used : tomcat-dbcp.jar,ojdbc14.jar
>
> Where do you have these deployed?  WEB-INF/lib? $CATALINA_BASE/lib?
> $CATALINA_HOME/lib?
>
>
>> context.xml
>
> What is the location of this context file?  conf/context.xml?
> META-INF/context.xml?
>
>
>>
>> <Resource name="jdbc/ShipConsoleDS" auth="Container"
>>   type="javax.sql.DataSource"
>>   driverClassName="oracle.jdbc.OracleDriver"
>>   url="jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
>>   username="apps" password="apps" maxActive="-1" maxIdle="0"
>>   maxWait="-1" initialSize="15"
>>   accessToUnderlyingConnectionAllowed="true" />
>>
>> Java Code to access Data Source :
>>
>> InitialContext initContext = new InitialContext();
>> Context envContext = (Context) initContext.lookup("java:/comp/env");
>> DataSource dataSource = (DataSource)
>> envContext.lookup("jdbc/ShipConsoleDS");
>> BasicDataSource bds = (BasicDataSource)dataSource;
>>
>>
>> Exception :
>>
>> Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource cannot
>> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>
> I've seen similar exceptions before when the BasicDataSource class loaded
> by two different class loaders.  For example, from the common class loader
> and from the webapp class loader.  Check your class path to see if this
> might be occurring.
>
> Also, you might want to add the "-verbose:class" option to your JVM
> options.  This will print the classes that are loaded and the location
> from where they are loaded.  This is helpful if the class is unknowingly
> loaded twice.
>
> Dan
>
>
>
>> java.lang.ClassCastException:
>> org.apache.tomcat.dbcp.dbcp.BasicDataSource
>> cannot
>>  be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>>         at
>> com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
>> tory.java:96)
>>         at
>>         com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)
>>         at
>>         com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
>>         at
>> org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
>> dex_jsp.java:296)
>>         at
>>         org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
>>         at
>>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>>         at
>> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
>> .java:432)
>>         at
>> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
>> 90)
>>         at
>>         org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
>>         at
>>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>>         at
>> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
>> icationFilterChain.java:305)
>>         at
>> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
>> ilterChain.java:210)
>>         at
>> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
>> alve.java:225)
>>         at
>> org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
>> alve.java:169)
>>         at
>> org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
>> torBase.java:472)
>>         at
>> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
>> ava:168)
>>         at
>> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
>> ava:98)
>>         at
>> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
>> 927)
>>         at
>> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
>> ve.java:118)
>>         at
>> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
>> a:407)
>>         at
>> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
>> 11Processor.java:999)
>>         at
>> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
>> AbstractProtocol.java:565)
>>         at
>> org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
>> t.java:309)
>>         at
>>         java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
>> Source
>> )
>>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown
>>         Source)
>>         at java.lang.Thread.run(Unknown Source)
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 16:02:43 2012
Return-Path: <users-return-235373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81F93D5CD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 16:02:43 +0000 (UTC)
Received: (qmail 95580 invoked by uid 500); 9 Jul 2012 16:02:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95424 invoked by uid 500); 9 Jul 2012 16:02:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95415 invoked by uid 99); 9 Jul 2012 16:02:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:02:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.68.171.23] (HELO mhw.ulib.iupui.edu) (134.68.171.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:02:34 +0000
Received: from mwood by mhw.ulib.iupui.edu with local (Exim 4.77)
	(envelope-from <mwood@IUPUI.Edu>)
	id 1SoGPe-00032Q-37
	for users@tomcat.apache.org; Mon, 09 Jul 2012 12:02:14 -0400
Date: Mon, 9 Jul 2012 12:02:14 -0400
From: "Mark H. Wood" <mwood@IUPUI.Edu>
To: users@tomcat.apache.org
Subject: Re: High load from tomcat, no users, no errors
Message-ID: <20120709160214.GB6858@IUPUI.Edu>
References: <CA+AKB6HGG++sZ_MCAL-dvSHgYdxObejvpjnDxXss15SX9=X_yg@mail.gmail.com>
 <4FF726DC.3090906@christopherschultz.net>
 <CA+AKB6EmGBKoLSCAbMvDAfKMAqgTEc-62gzOjEPB=s6R=r7VLQ@mail.gmail.com>
 <99C8B2929B39C24493377AC7A121E21FB0328AFF9E@USEA-EXCH8.na.uis.unisys.com>
 <4FF731B7.6020902@nemesys.hu>
 <4FF7841A.5000602@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-ripemd160;
	protocol="application/pgp-signature"; boundary="LpQ9ahxlCli8rRTG"
Content-Disposition: inline
In-Reply-To: <4FF7841A.5000602@christopherschultz.net>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Virus-Checked: Checked by ClamAV on apache.org

--LpQ9ahxlCli8rRTG
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Not just Debian; I had several Gentoo boxes get into this state.

--=20
Mark H. Wood, Lead System Programmer   mwood@IUPUI.Edu
Asking whether markets are efficient is like asking whether people are smar=
t.

--LpQ9ahxlCli8rRTG
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.19 (GNU/Linux)

iEYEAREDAAYFAk/7AIYACgkQs/NR4JuTKG+bAQCgmHvE8H2F+O5Z1R8oZPxD1LtC
nG4AoIX6ndobOfLQJVMp856oRv8Jsqtf
=CYLD
-----END PGP SIGNATURE-----

--LpQ9ahxlCli8rRTG--

From users-return-235374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 16:28:58 2012
Return-Path: <users-return-235374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 947579245
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 16:28:58 +0000 (UTC)
Received: (qmail 86710 invoked by uid 500); 9 Jul 2012 16:28:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86661 invoked by uid 500); 9 Jul 2012 16:28:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86648 invoked by uid 99); 9 Jul 2012 16:28:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:28:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.69] (HELO elasmtp-mealy.atl.sa.earthlink.net) (209.86.89.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:28:46 +0000
Received: from [66.32.192.165] (helo=[192.168.2.50])
	by elasmtp-mealy.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SoGoy-0004Sy-PM
	for users@tomcat.apache.org; Mon, 09 Jul 2012 12:28:24 -0400
Subject: RE: soap location address
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <E19E09E89241E04E8A39657410D7D8387A4268@sbs09932mx005.ds.stocksupply.com>
References:
	 <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com>
	 <4FF74E1D.2000703@pidster.com>
	 <E19E09E89241E04E8A39657410D7D8387A4268@sbs09932mx005.ds.stocksupply.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-jMqT9SPhY14OxgaWQXFl"
Organization: Clifton Farm
Date: Mon, 09 Jul 2012 12:30:10 -0400
Message-ID: <1341851410.30268.2780.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d47813d7db08faec4d28d1f7f54c16a1ca8bebe2e5b47dc0186b350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.192.165

--=-jMqT9SPhY14OxgaWQXFl
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Mon, 2012-07-09 at 10:14 -0400, Toman, Chuck [Stock] wrote:
> Yes, I believe so....
> Somehow in Apache Tomcat the hostname can be dynamically change for soap
> location address.
>=20
Are you asserting this as fact or do you just wish it were so?  Tomcat
is a web application container.  What leads you to believe Tomcat and
the Servlet spec are intrinsically tied to SOAP and/or WSDL?


> Thanks,
> =20
> Charles G. Toman
> Trend DBA
> T: +1 (919) 431 1792 * M: +1 (919) 524 8652
> =20
> Customer Focused, Associate Driven.
> =20
> -----Original Message-----
> From: Pid [mailto:pid@pidster.com]=20
> Sent: Friday, July 06, 2012 4:44 PM
> To: Tomcat Users List
> Subject: Re: soap location address
>=20
> On 06/07/2012 20:00, Toman, Chuck [Stock] wrote:
> > How do you dynamically change soap location for WSDL files?
>=20
> Are you asking this question on the right mailing list?
> This list is for questions about Apache Tomcat.
>=20
>=20
> p
>=20
>=20


--=-jMqT9SPhY14OxgaWQXFl
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJP+wcSAAoJEAfDBXDHBQilPL8H+gJkwR2ahy+lM4CVaIXpR2Xq
fNVQPLWCBFjA+NAUvRctoaxdsCUbj9HKhJfuREjfUbJJxH2tZbWyG2jVVJAqkuxB
JtZjsbIzI3p5nY0heNqfkpcIw/KrTo6j07vi29elC3TQtHvxpscBd9YJyqam4PSW
R0PMyP3e2dMPa4Rmb9xglmJJDuQQwxzvFvRQs4Amk0ACfTEBqX2y5X4uZZdLVqr8
7D1FTZTrWfXEvfmiw8ErC4XxG/PCRkTRI/mI6SLiN/xiMdgVks206ZOAvRCOPxIE
VMazvUS/FWy+3/S4q48x0kPm9sMOoZ/ybuXkreNq0IXQg6oVwUGpIjcArOUsUCI=
=8/a1
-----END PGP SIGNATURE-----

--=-jMqT9SPhY14OxgaWQXFl--


From users-return-235375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 16:38:12 2012
Return-Path: <users-return-235375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CE9B95DC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 16:38:12 +0000 (UTC)
Received: (qmail 15145 invoked by uid 500); 9 Jul 2012 16:38:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15066 invoked by uid 500); 9 Jul 2012 16:38:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15052 invoked by uid 99); 9 Jul 2012 16:38:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:38:08 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:37:59 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id E270828620
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 09:37:37 -0700 (PDT)
Received: from zimbra-prod-mta-1.vmware.com (zimbra-prod-mta-1.vmware.com [10.113.160.173])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id DD1FBB0250
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 09:37:37 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id D851C613AF
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 09:37:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-1.vmware.com
Received: from zimbra-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QgrGsxUnfDKS for <users@tomcat.apache.org>;
	Mon,  9 Jul 2012 09:37:37 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id C5E56613AE
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 09:37:37 -0700 (PDT)
Date: Mon, 9 Jul 2012 09:37:37 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <18441421.455.1341851855606.JavaMail.daniel@cleveland>
In-Reply-To: <3607149a0e17e6ef469b9ad22b02e71e.squirrel@webmail.subk.co.in>
Subject: Re: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
 cannot be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Thanks for your reply,
> 
> 1. $CATALINA_HOME/lib
> 
> 2. conf/context.xml?
> 
> 3. In y application/lib also tomcat-dbcp.jar,ojdbc14.jar files are
> available. Please suggest how to debug any useful site.

I'm not sure I fully understand this statement.  Are you saying that you have the "tomcat-dbcp.jar" and "ojdbc14.jar" files in both $CATALINA_HOME/lib and app/WEB-INF/lib?

If so, you're asking for trouble.  Just leave them in $CATALINA_HOME/lib and remove them from your application.

Dan




> 
> Thanks,
> 
> 
> > ----- Original Message -----
> >> Hi All,
> >>
> >> I am getting class cast exception when casting DataSource to
> >> BasicDataSource.
> >> The same is executed when run on JDeveloper.
> >>
> >> Environment : Tomcat 7.X
> >> DB : Oracle
> >>
> >> Used : tomcat-dbcp.jar,ojdbc14.jar
> >
> > Where do you have these deployed?  WEB-INF/lib? $CATALINA_BASE/lib?
> > $CATALINA_HOME/lib?
> >
> >
> >> context.xml
> >
> > What is the location of this context file?  conf/context.xml?
> > META-INF/context.xml?
> >
> >
> >>
> >> <Resource name="jdbc/ShipConsoleDS" auth="Container"
> >>   type="javax.sql.DataSource"
> >>   driverClassName="oracle.jdbc.OracleDriver"
> >>   url="jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
> >>   username="apps" password="apps" maxActive="-1" maxIdle="0"
> >>   maxWait="-1" initialSize="15"
> >>   accessToUnderlyingConnectionAllowed="true" />
> >>
> >> Java Code to access Data Source :
> >>
> >> InitialContext initContext = new InitialContext();
> >> Context envContext = (Context)
> >> initContext.lookup("java:/comp/env");
> >> DataSource dataSource = (DataSource)
> >> envContext.lookup("jdbc/ShipConsoleDS");
> >> BasicDataSource bds = (BasicDataSource)dataSource;
> >>
> >>
> >> Exception :
> >>
> >> Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
> >> cannot
> >> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
> >
> > I've seen similar exceptions before when the BasicDataSource class
> > loaded
> > by two different class loaders.  For example, from the common class
> > loader
> > and from the webapp class loader.  Check your class path to see if
> > this
> > might be occurring.
> >
> > Also, you might want to add the "-verbose:class" option to your JVM
> > options.  This will print the classes that are loaded and the
> > location
> > from where they are loaded.  This is helpful if the class is
> > unknowingly
> > loaded twice.
> >
> > Dan
> >
> >
> >
> >> java.lang.ClassCastException:
> >> org.apache.tomcat.dbcp.dbcp.BasicDataSource
> >> cannot
> >>  be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
> >>         at
> >> com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
> >> tory.java:96)
> >>         at
> >>         com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)
> >>         at
> >>         com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
> >>         at
> >> org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
> >> dex_jsp.java:296)
> >>         at
> >>         org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
> >>         at
> >>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
> >>         at
> >> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
> >> .java:432)
> >>         at
> >> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
> >> 90)
> >>         at
> >>         org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
> >>         at
> >>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
> >>         at
> >> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
> >> icationFilterChain.java:305)
> >>         at
> >> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
> >> ilterChain.java:210)
> >>         at
> >> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
> >> alve.java:225)
> >>         at
> >> org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
> >> alve.java:169)
> >>         at
> >> org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
> >> torBase.java:472)
> >>         at
> >> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
> >> ava:168)
> >>         at
> >> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
> >> ava:98)
> >>         at
> >> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
> >> 927)
> >>         at
> >> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
> >> ve.java:118)
> >>         at
> >> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
> >> a:407)
> >>         at
> >> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
> >> 11Processor.java:999)
> >>         at
> >> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
> >> AbstractProtocol.java:565)
> >>         at
> >> org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
> >> t.java:309)
> >>         at
> >>         java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
> >> Source
> >> )
> >>         at
> >>         java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown
> >>         Source)
> >>         at java.lang.Thread.run(Unknown Source)
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 16:58:40 2012
Return-Path: <users-return-235376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C9199680
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 16:58:40 +0000 (UTC)
Received: (qmail 76786 invoked by uid 500); 9 Jul 2012 16:58:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76648 invoked by uid 500); 9 Jul 2012 16:58:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76639 invoked by uid 99); 9 Jul 2012 16:58:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:58:36 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_RCVD_USER,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vijay.gandra@subk.co.in designates 69.93.37.21 as permitted sender)
Received: from [69.93.37.21] (HELO gateway03.websitewelcome.com) (69.93.37.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 16:58:27 +0000
Received: by gateway03.websitewelcome.com (Postfix, from userid 5007)
	id 37387ADE9801C; Mon,  9 Jul 2012 11:58:08 -0500 (CDT)
Received: from ham01.websitewelcome.com (ham.websitewelcome.com [173.192.111.52])
	by gateway03.websitewelcome.com (Postfix) with ESMTP id 2972BADE97FD2
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 11:58:08 -0500 (CDT)
Received: by ham01.websitewelcome.com (Postfix, from userid 666)
	id 46913B46EB778; Mon,  9 Jul 2012 11:58:08 -0500 (CDT)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	ham01.websitewelcome.com
X-Spam-Flag2999: NO
X-Spam-Level2999: 
X-Spam-Status2999: "No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received: from gator1130.hostgator.com (gator1130.hostgator.com [174.120.233.130])
	by ham01.websitewelcome.com (Postfix) with ESMTP id ECA3AB46EB1EC
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 11:58:06 -0500 (CDT)
Received: from subk by gator1130.hostgator.com with local (Exim 4.77)
	(envelope-from <vijay.gandra@subk.co.in>)
	id 1SoHHh-00036s-Py
	for users@tomcat.apache.org; Mon, 09 Jul 2012 11:58:05 -0500
Received: from 203.217.147.137 ([203.217.147.137]) (proxying for
 203.217.147.137)
        (SquirrelMail authenticated user vijay.gandra@subk.co.in)
        by webmail.subk.co.in with HTTP;
        Mon, 9 Jul 2012 11:58:05 -0500
Message-ID: <3b599427de065a7fad70f1d59c7dd928.squirrel@webmail.subk.co.in>
In-Reply-To: <18441421.455.1341851855606.JavaMail.daniel@cleveland>
References: <18441421.455.1341851855606.JavaMail.daniel@cleveland>
Date: Mon, 9 Jul 2012 11:58:05 -0500
Subject: Re: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
 cannot be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
From: vijay.gandra@subk.co.in
To: "Tomcat Users List" <users@tomcat.apache.org>
User-Agent: SquirrelMail/1.4.22
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gator1130.hostgator.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [1496 32003] / [47 12]
X-AntiAbuse: Sender Address Domain - subk.co.in
X-BWhitelist: no
X-Source: /var/cpanel/3rdparty/bin/php
X-Source-Args: /var/cpanel/3rdparty/bin/php /usr/local/cpanel/base/3rdparty/squirrelmail/src/compose.php 
X-Source-Dir: :/base/3rdparty/squirrelmail/src
X-Source-Sender: 
X-Source-Auth: subk
X-Email-Count: 44
X-Source-Cap: c3ViaztzdWJrO2dhdG9yMTEzMC5ob3N0Z2F0b3IuY29t
X-Virus-Checked: Checked by ClamAV on apache.org

yes in both CATALINA_HOME/lib and app/WEB-INF/lib,
tomcat-dbcp.jar,ojdbc14.jar and lasses12.jar files are available.



 ----- Original Message -----
>> Thanks for your reply,
>>
>> 1. $CATALINA_HOME/lib
>>
>> 2. conf/context.xml?
>>
>> 3. In y application/lib also tomcat-dbcp.jar,ojdbc14.jar files are
>> available. Please suggest how to debug any useful site.
>
> I'm not sure I fully understand this statement.  Are you saying that you
> have the "tomcat-dbcp.jar" and "ojdbc14.jar" files in both
> $CATALINA_HOME/lib and app/WEB-INF/lib?
>
> If so, you're asking for trouble.  Just leave them in $CATALINA_HOME/lib
> and remove them from your application.
>
> Dan
>
>
>
>
>>
>> Thanks,
>>
>>
>> > ----- Original Message -----
>> >> Hi All,
>> >>
>> >> I am getting class cast exception when casting DataSource to
>> >> BasicDataSource.
>> >> The same is executed when run on JDeveloper.
>> >>
>> >> Environment : Tomcat 7.X
>> >> DB : Oracle
>> >>
>> >> Used : tomcat-dbcp.jar,ojdbc14.jar
>> >
>> > Where do you have these deployed?  WEB-INF/lib? $CATALINA_BASE/lib?
>> > $CATALINA_HOME/lib?
>> >
>> >
>> >> context.xml
>> >
>> > What is the location of this context file?  conf/context.xml?
>> > META-INF/context.xml?
>> >
>> >
>> >>
>> >> <Resource name="jdbc/ShipConsoleDS" auth="Container"
>> >>   type="javax.sql.DataSource"
>> >>   driverClassName="oracle.jdbc.OracleDriver"
>> >>   url="jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
>> >>   username="apps" password="apps" maxActive="-1" maxIdle="0"
>> >>   maxWait="-1" initialSize="15"
>> >>   accessToUnderlyingConnectionAllowed="true" />
>> >>
>> >> Java Code to access Data Source :
>> >>
>> >> InitialContext initContext = new InitialContext();
>> >> Context envContext = (Context)
>> >> initContext.lookup("java:/comp/env");
>> >> DataSource dataSource = (DataSource)
>> >> envContext.lookup("jdbc/ShipConsoleDS");
>> >> BasicDataSource bds = (BasicDataSource)dataSource;
>> >>
>> >>
>> >> Exception :
>> >>
>> >> Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
>> >> cannot
>> >> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>> >
>> > I've seen similar exceptions before when the BasicDataSource class
>> > loaded
>> > by two different class loaders.  For example, from the common class
>> > loader
>> > and from the webapp class loader.  Check your class path to see if
>> > this
>> > might be occurring.
>> >
>> > Also, you might want to add the "-verbose:class" option to your JVM
>> > options.  This will print the classes that are loaded and the
>> > location
>> > from where they are loaded.  This is helpful if the class is
>> > unknowingly
>> > loaded twice.
>> >
>> > Dan
>> >
>> >
>> >
>> >> java.lang.ClassCastException:
>> >> org.apache.tomcat.dbcp.dbcp.BasicDataSource
>> >> cannot
>> >>  be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>> >>         at
>> >> com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
>> >> tory.java:96)
>> >>         at
>> >>         com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)
>> >>         at
>> >>         com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
>> >>         at
>> >> org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
>> >> dex_jsp.java:296)
>> >>         at
>> >>         org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
>> >>         at
>> >>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>> >>         at
>> >> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
>> >> .java:432)
>> >>         at
>> >> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
>> >> 90)
>> >>         at
>> >>         org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
>> >>         at
>> >>         javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>> >>         at
>> >> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
>> >> icationFilterChain.java:305)
>> >>         at
>> >> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
>> >> ilterChain.java:210)
>> >>         at
>> >> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
>> >> alve.java:225)
>> >>         at
>> >> org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
>> >> alve.java:169)
>> >>         at
>> >> org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
>> >> torBase.java:472)
>> >>         at
>> >> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
>> >> ava:168)
>> >>         at
>> >> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
>> >> ava:98)
>> >>         at
>> >> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
>> >> 927)
>> >>         at
>> >> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
>> >> ve.java:118)
>> >>         at
>> >> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
>> >> a:407)
>> >>         at
>> >> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
>> >> 11Processor.java:999)
>> >>         at
>> >> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
>> >> AbstractProtocol.java:565)
>> >>         at
>> >> org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
>> >> t.java:309)
>> >>         at
>> >>         java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
>> >> Source
>> >> )
>> >>         at
>> >>         java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown
>> >>         Source)
>> >>         at java.lang.Thread.run(Unknown Source)
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> >> For additional commands, e-mail: users-help@tomcat.apache.org
>> >>
>> >>
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> > For additional commands, e-mail: users-help@tomcat.apache.org
>> >
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 20:25:12 2012
Return-Path: <users-return-235377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7E96D859
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 20:25:12 +0000 (UTC)
Received: (qmail 75620 invoked by uid 500); 9 Jul 2012 20:25:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75500 invoked by uid 500); 9 Jul 2012 20:25:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75488 invoked by uid 99); 9 Jul 2012 20:25:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 20:25:08 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.2.16] (HELO exprod7og119.obsmtp.com) (64.18.2.16)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 09 Jul 2012 20:25:03 +0000
Received: from mail-qc0-f176.google.com ([209.85.216.176]) (using TLSv1) by exprod7ob119.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/s+CBDU784tRZsvqOAgo++g6emu0Txq@postini.com; Mon, 09 Jul 2012 13:24:42 PDT
Received: by qcsc21 with SMTP id c21so8080853qcs.21
        for <users@tomcat.apache.org>; Mon, 09 Jul 2012 13:24:40 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=ysMcCakQ4vBea44z7D61kXiG0KL87G/2eQN6B7//Xeo=;
        b=O1YGb/Y8nsHO2sR8C6hJt2fdtGFOTF7JFMqvQp2wJbp9OU8yBsr/NjVc/C5QMY5fCV
         DaPainNqa2ZGz53eMlX3vae3Jq/8ZSRKN9iwocd7YPUn/OLse1y0Zz7D/lqmdgfDjAYa
         ClL7I9rv8LlNshp5PMYzgVYcYqn2y8VN4lNAiz4I7mxjiSjYTKUg0+bmYV2ubINqqMQI
         EJDGqoUF54nDVOtURZ/snCzcMiLsfU9kHGsFc15sY9glZsPPG2Ncvw78NksWxIOBRdJU
         SL27rPpxaHq4o1A05D+n+c7m3xechuVuApviLZ+tiUORt3xSQy/jLGbIAEAdE2b6KbJE
         gkoQ==
Received: by 10.224.31.129 with SMTP id y1mr74031539qac.87.1341865480250; Mon,
 09 Jul 2012 13:24:40 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Mon, 9 Jul 2012 13:24:18 -0700 (PDT)
In-Reply-To: <4FF4E79B.20203@christopherschultz.net>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net>
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Mon, 9 Jul 2012 16:24:18 -0400
Message-ID: <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf306f74d249652104c46b6721
X-Gm-Message-State: ALoCoQmYvowLEvfbVC0mdoXZMJQGTURbvnX+9Zp/INCrlSNY+0W83vAkxCgLcJX0jH3Wzgd7Hkrr
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf306f74d249652104c46b6721
Content-Type: text/plain; charset=ISO-8859-1

Well our Tomcat went out to lunch again and we had to recycle the webserver
to get things stablized. By this I mean we get reports from the users that
screens become unresponsive and looking at a top we see tomcat process
taking 100% CPU.

Was able to do a thread dump captured with a kill -3 PID and here it is if
anyone is so inclined to comment on it.

Thanks in advance:

2012-07-09 11:35:11
Full thread dump OpenJDK 64-Bit Server VM (14.0-b16 mixed mode):

"Java2D Disposer" daemon prio=10 tid=0x00007f72c0024800 nid=0x70b in
Object.wait() [0x00007f73b0ecd000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ef3d3bd0> (a
java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:133)
        - locked <0x00007f73ef3d3bd0> (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:149)
        at sun.java2d.Disposer.run(Disposer.java:143)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor68" daemon prio=10 tid=0x00007f732006e800 nid=0x71bf in
Object.wait() [0x00007f73b0fce000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee9847e8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee9847e8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor67" daemon prio=10 tid=0x00007f732006c800 nid=0x71be in
Object.wait() [0x00007f73b10cf000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee984428> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee984428> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor66" daemon prio=10 tid=0x00007f732006a800 nid=0x71bd in
Object.wait() [0x00007f73b11d0000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee984068> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee984068> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor65" daemon prio=10 tid=0x00007f7320068800 nid=0x71bc in
Object.wait() [0x00007f73b12d1000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee983ca8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee983ca8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor64" daemon prio=10 tid=0x00007f7320066800 nid=0x71b8 in
Object.wait() [0x00007f73b13d2000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee939970> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee939970> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor63" daemon prio=10 tid=0x00007f7320064800 nid=0x71b7 in
Object.wait() [0x00007f73b14d3000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee9395b0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee9395b0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor62" daemon prio=10 tid=0x00007f7320062800 nid=0x71b6 in
Object.wait() [0x00007f73b15d4000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee9391f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee9391f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor61" daemon prio=10 tid=0x00007f7320060800 nid=0x71b5 in
Object.wait() [0x00007f73b16d5000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee9389f8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee9389f8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor60" daemon prio=10 tid=0x00007f732005e800 nid=0x71b4 in
Object.wait() [0x00007f73b17d6000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee938170> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee938170> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor58" daemon prio=10 tid=0x00007f732005c000 nid=0x71b2 in
Object.wait() [0x00007f73b1ad9000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ee937db0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ee937db0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor57" daemon prio=10 tid=0x00007f732005b000 nid=0x71b1 runnable
[0x00007f73b18d7000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f7419229ba8> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor56" daemon prio=10 tid=0x00007f7320059000 nid=0x5c40 in
Object.wait() [0x00007f73b1bda000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ed0cb450> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ed0cb450> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor55" daemon prio=10 tid=0x00007f7320057800 nid=0x5c3f in
Object.wait() [0x00007f73b1cdb000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ed0cb340> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ed0cb340> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor54" daemon prio=10 tid=0x00007f7320056000 nid=0x5c3e in
Object.wait() [0x00007f73b1ddc000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ed0cb230> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ed0cb230> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor53" daemon prio=10 tid=0x00007f7320055000 nid=0x5c3d in
Object.wait() [0x00007f73b1edd000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ed0cb560> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ed0cb560> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor52" daemon prio=10 tid=0x00007f7320053000 nid=0x4d1b in
Object.wait() [0x00007f73b1fde000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73eccb4888> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73eccb4888> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor51" daemon prio=10 tid=0x00007f7320051000 nid=0x4d1a runnable
[0x00007f73b20df000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f741920cce8> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor50" daemon prio=10 tid=0x00007f732004f000 nid=0x4d19 in
Object.wait() [0x00007f73b21e0000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73eccb4bc8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73eccb4bc8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor49" daemon prio=10 tid=0x00007f732004e800 nid=0x4d18 runnable
[0x00007f73b22e1000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f741955bb18> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor48" daemon prio=10 tid=0x00007f732004c800 nid=0x33d7 in
Object.wait() [0x00007f73b23e2000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e9173380> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e9173380> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor47" daemon prio=10 tid=0x00007f732004a800 nid=0x33d6 in
Object.wait() [0x00007f73b24e3000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e9174578> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e9174578> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor46" daemon prio=10 tid=0x00007f7320048800 nid=0x33d5 in
Object.wait() [0x00007f73b25e4000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e9174908> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e9174908> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor45" daemon prio=10 tid=0x00007f7320046800 nid=0x33d4 in
Object.wait() [0x00007f73b26e5000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e9174c98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e9174c98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor44" daemon prio=10 tid=0x00007f7320044800 nid=0x33d3 runnable
[0x00007f73b27e6000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73fa9119c0> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor42" daemon prio=10 tid=0x00007f7320041000 nid=0x33d1 in
Object.wait() [0x00007f73b29e8000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e91b45a0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e91b45a0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor41" daemon prio=10 tid=0x00007f732003f800 nid=0x33d0 in
Object.wait() [0x00007f73b2ae9000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e91c1798> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e91c1798> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor40" daemon prio=10 tid=0x00007f732003d800 nid=0x3326 in
Object.wait() [0x00007f73b2bea000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e91fb738> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e91fb738> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor39" daemon prio=10 tid=0x00007f732003c000 nid=0x3325 in
Object.wait() [0x00007f73b2ceb000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e923baf8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e923baf8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor38" daemon prio=10 tid=0x00007f732003a800 nid=0x3324 in
Object.wait() [0x00007f73b2dec000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e9243b00> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e9243b00> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor37" daemon prio=10 tid=0x00007f7320039800 nid=0x3323 runnable
[0x00007f73b2eed000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73f9c698f0> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor36" daemon prio=10 tid=0x00007f7320037800 nid=0x3254 runnable
[0x00007f73b2fee000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73f9dd91a8> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor35" daemon prio=10 tid=0x00007f7320035800 nid=0x3253 in
Object.wait() [0x00007f73b30ef000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e6e8bce8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e6e8bce8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor34" daemon prio=10 tid=0x00007f7320034000 nid=0x3252 in
Object.wait() [0x00007f73b31f0000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e895fb98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e895fb98> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor33" daemon prio=10 tid=0x00007f7320032800 nid=0x3251 in
Object.wait() [0x00007f73b32f1000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e6e901e0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e6e901e0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor32" daemon prio=10 tid=0x00007f7320030800 nid=0x310f in
Object.wait() [0x00007f73b33f2000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e59be4a0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e59be4a0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor31" daemon prio=10 tid=0x00007f732002e800 nid=0x310e in
Object.wait() [0x00007f73b34f3000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e59be5b0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e59be5b0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor30" daemon prio=10 tid=0x00007f732002d000 nid=0x310d in
Object.wait() [0x00007f73b35f4000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e59be7d0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e59be7d0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor29" daemon prio=10 tid=0x00007f732002c000 nid=0x310c runnable
[0x00007f73b36f5000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73fb0f5468> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor28" daemon prio=10 tid=0x00007f732002a000 nid=0x2f0f in
Object.wait() [0x00007f73b37f6000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e35477e0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e35477e0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor27" daemon prio=10 tid=0x00007f7320028000 nid=0x2f0e in
Object.wait() [0x00007f73b38f7000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e35478f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e35478f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor26" daemon prio=10 tid=0x00007f7320026800 nid=0x2f0d runnable
[0x00007f73b39f8000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f74194ed160> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor24" daemon prio=10 tid=0x00007f7320023800 nid=0x2e61 runnable
[0x00007f73b3bfa000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73f86cf6d0> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor23" daemon prio=10 tid=0x00007f7320022000 nid=0x2e60 in
Object.wait() [0x00007f73b3cfb000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d96538> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d96538> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor22" daemon prio=10 tid=0x00007f7320020800 nid=0x2e5f in
Object.wait() [0x00007f73b3dfc000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d96648> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d96648> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor21" daemon prio=10 tid=0x00007f7320020000 nid=0x2e5e runnable
[0x00007f73d03be000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f741922fd08> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor20" daemon prio=10 tid=0x00007f732001e000 nid=0x2e32 in
Object.wait() [0x00007f73b3efd000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d4c468> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d4c468> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor19" daemon prio=10 tid=0x00007f732001c000 nid=0x2e31 in
Object.wait() [0x00007f73b3ffe000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d472f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d472f0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor18" daemon prio=10 tid=0x00007f732001a800 nid=0x2e30 in
Object.wait() [0x00007f73d01bc000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d47400> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d47400> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor17" daemon prio=10 tid=0x00007f7320019000 nid=0x2e2f in
Object.wait() [0x00007f73d02bd000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73e2d4c578> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73e2d4c578> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor15" daemon prio=10 tid=0x00007f7320016000 nid=0x2368 in
Object.wait() [0x00007f73d05c0000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73dfcbd590> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73dfcbd590> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor13" daemon prio=10 tid=0x00007f7320014000 nid=0x2366 runnable
[0x00007f73d07c2000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73fa315aa0> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"Thread-17" daemon prio=10 tid=0x00007f7318003800 nid=0xb0f waiting on
condition [0x00007f73d08f8000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
        at java.lang.Thread.sleep(Native Method)
        at
sun.print.UnixPrintServiceLookup$PrinterChangeListener.run(UnixPrintServiceLookup.java:782)

"WebSphere MQ Trace Monitor" daemon prio=10 tid=0x00007f732c0de800
nid=0x86f waiting on condition [0x00007f73d09f9000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
        at java.lang.Thread.sleep(Native Method)
        at
com.ibm.mq.commonservices.internal.monitor.TraceMonitor.run(TraceMonitor.java:134)

"TP-Processor12" daemon prio=10 tid=0x00007f7320011800 nid=0x86e in
Object.wait() [0x00007f73d0afa000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de4db8d8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de4db8d8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor11" daemon prio=10 tid=0x00007f7320010000 nid=0x86d in
Object.wait() [0x00007f73d0bfb000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de4db9e8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de4db9e8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor10" daemon prio=10 tid=0x00007f732000e800 nid=0x86c in
Object.wait() [0x00007f73d0cfc000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de4dbd78> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de4dbd78> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Processor9" daemon prio=10 tid=0x00007f732000d000 nid=0x86b runnable
[0x00007f73d0dfd000]
   java.lang.Thread.State: RUNNABLE
        at java.net.SocketInputStream.socketRead0(Native Method)
        at java.net.SocketInputStream.read(SocketInputStream.java:146)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked <0x00007f73fa8824a0> (a java.io.BufferedInputStream)
        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)
        at
org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)
        at
org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor8" daemon prio=10 tid=0x00007f732000b800 nid=0x831 in
Object.wait() [0x00007f73d0efe000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de3f8cc0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de3f8cc0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor6" daemon prio=10 tid=0x00007f7320008800 nid=0x82e in
Object.wait() [0x00007f73d1100000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de3f8ee0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de3f8ee0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor5" daemon prio=10 tid=0x00007f7320007800 nid=0x82d in
Object.wait() [0x00007f73d1201000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73de3f8dd0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73de3f8dd0> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
         at java.lang.Thread.run(Thread.java:636)

"TP-Monitor" daemon prio=10 tid=0x00007f75583ca800 nid=0x35e in
Object.wait() [0x00007f73d13bb000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ddd65e20> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
        at
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run(ThreadPool.java:565)
        - locked <0x00007f73ddd65e20> (a
org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor4" daemon prio=10 tid=0x00007f75583ca000 nid=0x35d runnable
[0x00007f73d14bc000]
   java.lang.Thread.State: RUNNABLE
        at java.net.PlainSocketImpl.socketAccept(Native Method)
        at
java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:375)
        at java.net.ServerSocket.implAccept(ServerSocket.java:470)
        at java.net.ServerSocket.accept(ServerSocket.java:438)
        at org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:311)
        at
org.apache.jk.common.ChannelSocket.acceptConnections(ChannelSocket.java:668)
        at
org.apache.jk.common.ChannelSocket$SocketAcceptor.runIt(ChannelSocket.java:879)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor2" daemon prio=10 tid=0x00007f755846a800 nid=0x35b in
Object.wait() [0x00007f73d16be000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73dddd6ed8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73dddd6ed8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"TP-Processor1" daemon prio=10 tid=0x00007f7558438800 nid=0x35a in
Object.wait() [0x00007f73d17bf000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73ddd664f8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Object.wait(Object.java:502)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:662)
        - locked <0x00007f73ddd664f8> (a
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable)
        at java.lang.Thread.run(Thread.java:636)

"ContainerBackgroundProcessor[StandardEngine[Catalina]]" daemon prio=10
tid=0x00007f7558384800 nid=0x359 waiting on condition [0x00007f73d1ad5000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
        at java.lang.Thread.sleep(Native Method)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1627)
        at java.lang.Thread.run(Thread.java:636)

"GC Daemon" daemon prio=10 tid=0x00007f75582a7800 nid=0x32a in
Object.wait() [0x00007f73d1bdf000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73dda0dda0> (a sun.misc.GC$LatencyLock)
        at sun.misc.GC$Daemon.run(GC.java:117)
        - locked <0x00007f73dda0dda0> (a sun.misc.GC$LatencyLock)

"Low Memory Detector" daemon prio=10 tid=0x00007f75580b9000 nid=0x31a
runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"CompilerThread1" daemon prio=10 tid=0x00007f75580b5800 nid=0x319 waiting
on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"CompilerThread0" daemon prio=10 tid=0x00007f75580b3800 nid=0x318 waiting
on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon prio=10 tid=0x00007f75580b1800 nid=0x317 waiting
on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Finalizer" daemon prio=10 tid=0x00007f7558093000 nid=0x2ef in
Object.wait() [0x00007f73d2e4f000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73dda21410> (a
java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:133)
        - locked <0x00007f73dda21410> (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:149)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:177)

"Reference Handler" daemon prio=10 tid=0x00007f7558091000 nid=0x2ec in
Object.wait() [0x00007f73d2f50000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on <0x00007f73dda21400> (a java.lang.ref.Reference$Lock)
        at java.lang.Object.wait(Object.java:502)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
        - locked <0x00007f73dda21400> (a java.lang.ref.Reference$Lock)

"main" prio=10 tid=0x00007f7558006800 nid=0x29c runnable
[0x00007f755f34b000]
   java.lang.Thread.State: RUNNABLE
        at java.net.PlainSocketImpl.socketAccept(Native Method)
        at
java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:375)
        at java.net.ServerSocket.implAccept(ServerSocket.java:470)
        at java.net.ServerSocket.accept(ServerSocket.java:438)
        at
org.apache.catalina.core.StandardServer.await(StandardServer.java:431)
        at org.apache.catalina.startup.Catalina.await(Catalina.java:676)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:628)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:616)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)

"VM Thread" prio=10 tid=0x00007f7558089800 nid=0x2df runnable

"GC task thread#0 (ParallelGC)" prio=10 tid=0x00007f7558010800 nid=0x29f
runnable

"GC task thread#1 (ParallelGC)" prio=10 tid=0x00007f7558012800 nid=0x2a0
runnable

"GC task thread#2 (ParallelGC)" prio=10 tid=0x00007f7558014000 nid=0x2a1
runnable

"GC task thread#3 (ParallelGC)" prio=10 tid=0x00007f7558016000 nid=0x2a2
runnable

"GC task thread#4 (ParallelGC)" prio=10 tid=0x00007f7558018000 nid=0x2bc
runnable

"GC task thread#5 (ParallelGC)" prio=10 tid=0x00007f755801a000 nid=0x2bd
runnable

"GC task thread#6 (ParallelGC)" prio=10 tid=0x00007f755801b800 nid=0x2be
runnable

"GC task thread#7 (ParallelGC)" prio=10 tid=0x00007f755801d800 nid=0x2bf
runnable

"GC task thread#8 (ParallelGC)" prio=10 tid=0x00007f755801f800 nid=0x2c0
runnable

"GC task thread#9 (ParallelGC)" prio=10 tid=0x00007f7558021000 nid=0x2c1
runnable

"GC task thread#10 (ParallelGC)" prio=10 tid=0x00007f7558023000 nid=0x2c2
runnable

"GC task thread#11 (ParallelGC)" prio=10 tid=0x00007f7558025000 nid=0x2c3
runnable

"GC task thread#12 (ParallelGC)" prio=10 tid=0x00007f7558026800 nid=0x2c5
runnable

"GC task thread#13 (ParallelGC)" prio=10 tid=0x00007f7558028800 nid=0x2c6
runnable

"GC task thread#14 (ParallelGC)" prio=10 tid=0x00007f755802a800 nid=0x2c7
runnable

"GC task thread#15 (ParallelGC)" prio=10 tid=0x00007f755802c000 nid=0x2c8
runnable

"GC task thread#16 (ParallelGC)" prio=10 tid=0x00007f755802e000 nid=0x2c9
runnable

"GC task thread#17 (ParallelGC)" prio=10 tid=0x00007f7558030000 nid=0x2ca
runnable

"VM Periodic Task Thread" prio=10 tid=0x00007f75580bb800 nid=0x31b waiting
on condition

JNI global references: 1206

Heap
 PSYoungGen      total 446656K, used 470K [0x00007f74d7e00000,
0x00007f74f3430000, 0x00007f7555000000)
  eden space 444992K, 0% used
[0x00007f74d7e00000,0x00007f74d7e75880,0x00007f74f3090000)
  from space 1664K, 0% used
[0x00007f74f3250000,0x00007f74f3250000,0x00007f74f33f0000)
  to   space 1792K, 0% used
[0x00007f74f3090000,0x00007f74f3090000,0x00007f74f3250000)
 PSOldGen        total 4100096K, used 982518K [0x00007f73dda00000,
0x00007f74d7e00000, 0x00007f74d7e00000)
  object space 4100096K, 23% used
[0x00007f73dda00000,0x00007f741997da40,0x00007f74d7e00000)
 PSPermGen       total 54336K, used 54288K [0x00007f73d3200000,
0x00007f73d6710000, 0x00007f73dda00000)
  object space 54336K, 99% used
[0x00007f73d3200000,0x00007f73d6704318,0x00007f73d6710000)

Jul 9, 2012 11:37:47 AM org.apache.catalina.core.StandardService stop
INFO: Stopping service Catalina


On Wed, Jul 4, 2012 at 9:02 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Leonard,
>
> On 7/2/12 4:32 PM, Simon, Leonard wrote:
> > Our goals are as follows:
> >
> > The operating system will be RHEL 6.X.
> >
> > We want to run Apache and Tomcat on a single server running five
> > websites using different ports for each.
> >
> > Our goal is to manage each web server independently, i.e.,
> > separate shutdown and startup scripts and hopefully  different log
> > files for each web server.
> >
> > We noticed the bundled Apache/Tomcat with RedHat might only give us
> > a standard install. Is there a way to do an alternate path
> > install?
> >
> > Thanks and look forward to some ideas on how to accomplish this.
>
> I periodically threaten to post my multi-instance Apache Ant scripts
> to the list. I have recently split my build process into multiple
> build scripts including a build-tomcat.xml which will manage that kind
> of thing for you. It's still not a perfect separation, but it allows
> you to do things like define 'projectname.property=value' in
> ~/.ant.properties, set <project name="name"> in build.xml, then
> duplicate the whole thing over and over again.
>
> So, I have, for instance, "myproject1.tomcat-port" and
> "myproject1.tomcat-shutdown-port", etc. and then (near) duplicates for
> each project. Each developer on a shared dev server gets a batch of
> port numbers assigned for their own uses and then sets those up
> accordingly. Each webapp can also have a separate projectX.tomcat-home
> and projectX.java-home property, so that simply typing 'ant
> tomcat-start' in any project's directory will build an appropriate
> CATALINA_BASE (ports and all) for that webapp and then launch the
> webapp in that instance.
>
> All of this requires a fair amount of infrastructure to set up (build
> scripts, environment-specific server.xml, etc. files, etc.) but once
> it's done it makes your life sooooo much easier.
>
> I can share what I've got, but it will likely require you to heavily
> modify it to work in your environment since it's so deeply integrated
> into our complete build process.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/055sACgkQ9CaO5/Lv0PCr/QCbBAC4LQmZxoMzdtarFxBXHbb8
> qjEAn3ldY08iFkVxlWrEkTLDgfxA7qql
> =ev/P
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf306f74d249652104c46b6721--

From users-return-235378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 20:38:33 2012
Return-Path: <users-return-235378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 557E7DD7D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 20:38:33 +0000 (UTC)
Received: (qmail 22250 invoked by uid 500); 9 Jul 2012 20:38:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22202 invoked by uid 500); 9 Jul 2012 20:38:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22189 invoked by uid 99); 9 Jul 2012 20:38:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 20:38:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jeff.sturm@eprize.com designates 216.32.180.188 as permitted sender)
Received: from [216.32.180.188] (HELO co1outboundpool.messaging.microsoft.com) (216.32.180.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 20:38:21 +0000
Received: from mail164-co1-R.bigfish.com (10.243.78.228) by
 CO1EHSOBE006.bigfish.com (10.243.66.69) with Microsoft SMTP Server id
 14.1.225.23; Mon, 9 Jul 2012 20:35:42 +0000
Received: from mail164-co1 (localhost [127.0.0.1])	by
 mail164-co1-R.bigfish.com (Postfix) with ESMTP id 1FEF83E0345	for
 <users@tomcat.apache.org>; Mon,  9 Jul 2012 20:35:42 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:208.82.64.110;KIP:(null);UIP:(null);IPV:NLI;H:mxgw.eprize.com;RD:smtp.eprize.com;EFVD:NLI
X-SpamScore: -7
X-BigFish: VS-7(zz9371I542M1432Izz1202hzzz2fh668h839h944hd25hf0ah107ah)
Received-SPF: pass (mail164-co1: domain of eprize.com designates 208.82.64.110 as permitted sender) client-ip=208.82.64.110; envelope-from=jeff.sturm@eprize.com; helo=mxgw.eprize.com ;w.eprize.com ;
Received: from mail164-co1 (localhost.localdomain [127.0.0.1]) by mail164-co1
 (MessageSwitch) id 1341866140573766_8117; Mon,  9 Jul 2012 20:35:40 +0000
 (UTC)
Received: from CO1EHSMHS002.bigfish.com (unknown [10.243.78.241])	by
 mail164-co1.bigfish.com (Postfix) with ESMTP id 8A741640044	for
 <users@tomcat.apache.org>; Mon,  9 Jul 2012 20:35:40 +0000 (UTC)
Received: from mxgw.eprize.com (208.82.64.110) by CO1EHSMHS002.bigfish.com
 (10.243.66.12) with Microsoft SMTP Server id 14.1.225.23; Mon, 9 Jul 2012
 20:35:39 +0000
Received: from mail.eprize.com (mailnode1.eprize.local [10.1.5.44])	by
 mxgw.eprize.com (Postfix) with ESMTP id 5E9022D0048	for
 <users@tomcat.apache.org>; Mon,  9 Jul 2012 16:37:56 -0400 (EDT)
Received: from MailNode2.eprize.local ([fe80::194b:11b1:5459:52ea]) by
 MailNode1.eprize.local ([fe80::4ff:6f30:c67:4ece%16]) with mapi id
 14.01.0355.002; Mon, 9 Jul 2012 16:37:56 -0400
From: Jeff Sturm <jeff.sturm@eprize.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
Thread-Topic: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
Thread-Index: AQHNWJHpl5BbZLeHJUi8zprVnrcskZcaJZGAgAeN+wD//75/cA==
Date: Mon, 9 Jul 2012 20:37:56 +0000
Message-ID: <B1B9801C5CBC954680D0374CC4EEABA5365592D1@MailNode2.eprize.local>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net>
 <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
In-Reply-To: <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.1.88.60]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: eprize.com

> -----Original Message-----
> From: Simon, Leonard [mailto:leonard.simon@hsn.net]
> Sent: Monday, July 09, 2012 4:24 PM
>=20
> Well our Tomcat went out to lunch again and we had to recycle the webserv=
er
> to get things stablized. By this I mean we get reports from the users tha=
t
> screens become unresponsive and looking at a top we see tomcat process
> taking 100% CPU.

<cut>

> PSPermGen       total 54336K, used 54288K [0x00007f73d3200000,
> 0x00007f73d6710000, 0x00007f73dda00000)
>   object space 54336K, 99% used

Try growing your perm gen space--this is at 99% and may be thrashing a bit.=
  Start Tomcat with -XX:MaxPermSize=3D and a suitable value.

You may find perm gen usage stabilizes at some point, or keeps growing inde=
finitely.  If the latter, look for excessive use of class loading in your a=
pplication.   Excessive application redeploying in Tomcat may cause the sam=
e thing.

-Jeff



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 20:43:01 2012
Return-Path: <users-return-235379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1A0ADD98
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 20:43:01 +0000 (UTC)
Received: (qmail 43370 invoked by uid 500); 9 Jul 2012 20:42:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43227 invoked by uid 500); 9 Jul 2012 20:42:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43218 invoked by uid 99); 9 Jul 2012 20:42:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 20:42:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 20:42:49 +0000
Received: from [192.168.245.129] (p549E0C23.dip0.t-ipconnect.de [84.158.12.35])
	by tor.combios.es (Postfix) with ESMTPA id DB97BDA0617
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 22:42:26 +0200 (CEST)
Message-ID: <4FFB422D.6050204@ice-sa.com>
Date: Mon, 09 Jul 2012 22:42:21 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple websites
 on a single RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
In-Reply-To: <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Simon, Leonard wrote:
> Well our Tomcat went out to lunch again and we had to recycle the webserver
> to get things stablized. By this I mean we get reports from the users that
> screens become unresponsive and looking at a top we see tomcat process
> taking 100% CPU.
> 
> Was able to do a thread dump captured with a kill -3 PID and here it is if
> anyone is so inclined to comment on it.
> 

Have not followed this thread and not looked at the thread dump (which would not tell me 
anything anyway), but by any chance have you googled for "leap second bug" ?
Mentioning that because of your "100% CPU" above.
See e.g. https://bugzilla.redhat.com/show_bug.cgi?id=479765


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul  9 21:25:00 2012
Return-Path: <users-return-235380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AF29D3EE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  9 Jul 2012 21:25:00 +0000 (UTC)
Received: (qmail 65542 invoked by uid 500); 9 Jul 2012 21:24:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65495 invoked by uid 500); 9 Jul 2012 21:24:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65483 invoked by uid 99); 9 Jul 2012 21:24:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 21:24:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.111 as permitted sender)
Received: from [65.55.111.111] (HELO blu0-omc2-s36.blu0.hotmail.com) (65.55.111.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jul 2012 21:24:49 +0000
Received: from BLU142-W1 ([65.55.111.73]) by blu0-omc2-s36.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 9 Jul 2012 14:24:28 -0700
Message-ID: <BLU142-W1F1A6C033275E7BB3197CAED30@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_af9b872d-bd96-4209-b3d5-df0b5a5d1d68_"
X-Originating-IP: [190.155.13.74]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
Date: Mon, 9 Jul 2012 17:24:28 -0400
Importance: Normal
In-Reply-To: <4FFB422D.6050204@ice-sa.com>
References:
 <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net>
 <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>,<4FFB422D.6050204@ice-sa.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 09 Jul 2012 21:24:28.0272 (UTC) FILETIME=[38BD0F00:01CD5E19]
X-Virus-Checked: Checked by ClamAV on apache.org

--_af9b872d-bd96-4209-b3d5-df0b5a5d1d68_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


apparently for RH 6.1 stopping and starting the ntp daemon works
/etc/init.d/ntpd stop=3B date=3B date `date +"%m%d%H%M%C%y.%S"`=3B date =3B=
=20
/etc/init.d/ntpd starthttps://bugzilla.redhat.com/show_bug.cgi?id=3D836748

Martin Gainty=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> Date: Mon=2C 9 Jul 2012 22:42:21 +0200
> From: aw@ice-sa.com
> To: users@tomcat.apache.org
> Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple we=
bsites on a single RedHat server
>=20
> Simon=2C Leonard wrote:
> > Well our Tomcat went out to lunch again and we had to recycle the webse=
rver
> > to get things stablized. By this I mean we get reports from the users t=
hat
> > screens become unresponsive and looking at a top we see tomcat process
> > taking 100% CPU.
> >=20
> > Was able to do a thread dump captured with a kill -3 PID and here it is=
 if
> > anyone is so inclined to comment on it.
> >=20
>=20
> Have not followed this thread and not looked at the thread dump (which wo=
uld not tell me=20
> anything anyway)=2C but by any chance have you googled for "leap second b=
ug" ?
> Mentioning that because of your "100% CPU" above.
> See e.g. https://bugzilla.redhat.com/show_bug.cgi?id=3D479765
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_af9b872d-bd96-4209-b3d5-df0b5a5d1d68_--

From users-return-235381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 03:27:19 2012
Return-Path: <users-return-235381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BCAF9C1B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 03:27:19 +0000 (UTC)
Received: (qmail 25661 invoked by uid 500); 10 Jul 2012 03:27:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25241 invoked by uid 500); 10 Jul 2012 03:27:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25147 invoked by uid 99); 10 Jul 2012 03:27:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 03:27:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 03:27:02 +0000
Received: from [192.168.1.22] (184-96-236-4.hlrn.qwest.net [184.96.236.4])
	by arizona.hanik.com (Postfix) with ESMTPSA id 105D0A7D0026
	for <users@tomcat.apache.org>; Mon,  9 Jul 2012 21:26:29 -0600 (MDT)
Subject: Re: Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource cannot be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
References: <18441421.455.1341851855606.JavaMail.daniel@cleveland> <3b599427de065a7fad70f1d59c7dd928.squirrel@webmail.subk.co.in>
From: Filip Hanik <devlists@hanik.com>
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPad Mail (9B206)
In-Reply-To: <3b599427de065a7fad70f1d59c7dd928.squirrel@webmail.subk.co.in>
Message-Id: <1E4D2924-3B15-413A-B2A8-CDBF1BB0DB56@hanik.com>
Date: Mon, 9 Jul 2012 21:26:37 -0600
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)

That's what's wrong. Remove them all from web-inf/lib

Sent from my iPad, pardon any brevity.=20
Filip Hanik


On Jul 9, 2012, at 10:58, vijay.gandra@subk.co.in wrote:

> yes in both CATALINA_HOME/lib and app/WEB-INF/lib,
> tomcat-dbcp.jar,ojdbc14.jar and lasses12.jar files are available.
>=20
>=20
>=20
> ----- Original Message -----
>>> Thanks for your reply,
>>>=20
>>> 1. $CATALINA_HOME/lib
>>>=20
>>> 2. conf/context.xml?
>>>=20
>>> 3. In y application/lib also tomcat-dbcp.jar,ojdbc14.jar files are
>>> available. Please suggest how to debug any useful site.
>>=20
>> I'm not sure I fully understand this statement.  Are you saying that you
>> have the "tomcat-dbcp.jar" and "ojdbc14.jar" files in both
>> $CATALINA_HOME/lib and app/WEB-INF/lib?
>>=20
>> If so, you're asking for trouble.  Just leave them in $CATALINA_HOME/lib
>> and remove them from your application.
>>=20
>> Dan
>>=20
>>=20
>>=20
>>=20
>>>=20
>>> Thanks,
>>>=20
>>>=20
>>>> ----- Original Message -----
>>>>> Hi All,
>>>>>=20
>>>>> I am getting class cast exception when casting DataSource to
>>>>> BasicDataSource.
>>>>> The same is executed when run on JDeveloper.
>>>>>=20
>>>>> Environment : Tomcat 7.X
>>>>> DB : Oracle
>>>>>=20
>>>>> Used : tomcat-dbcp.jar,ojdbc14.jar
>>>>=20
>>>> Where do you have these deployed?  WEB-INF/lib? $CATALINA_BASE/lib?
>>>> $CATALINA_HOME/lib?
>>>>=20
>>>>=20
>>>>> context.xml
>>>>=20
>>>> What is the location of this context file?  conf/context.xml?
>>>> META-INF/context.xml?
>>>>=20
>>>>=20
>>>>>=20
>>>>> <Resource name=3D"jdbc/ShipConsoleDS" auth=3D"Container"
>>>>>  type=3D"javax.sql.DataSource"
>>>>>  driverClassName=3D"oracle.jdbc.OracleDriver"
>>>>>  url=3D"jdbc:oracle:thin:@sharp.appsahyd.com:1521:DEV01"
>>>>>  username=3D"apps" password=3D"apps" maxActive=3D"-1" maxIdle=3D"0"
>>>>>  maxWait=3D"-1" initialSize=3D"15"
>>>>>  accessToUnderlyingConnectionAllowed=3D"true" />
>>>>>=20
>>>>> Java Code to access Data Source :
>>>>>=20
>>>>> InitialContext initContext =3D new InitialContext();
>>>>> Context envContext =3D (Context)
>>>>> initContext.lookup("java:/comp/env");
>>>>> DataSource dataSource =3D (DataSource)
>>>>> envContext.lookup("jdbc/ShipConsoleDS");
>>>>> BasicDataSource bds =3D (BasicDataSource)dataSource;
>>>>>=20
>>>>>=20
>>>>> Exception :
>>>>>=20
>>>>> Exception Message:org.apache.tomcat.dbcp.dbcp.BasicDataSource
>>>>> cannot
>>>>> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>>>>=20
>>>> I've seen similar exceptions before when the BasicDataSource class
>>>> loaded
>>>> by two different class loaders.  For example, from the common class
>>>> loader
>>>> and from the webapp class loader.  Check your class path to see if
>>>> this
>>>> might be occurring.
>>>>=20
>>>> Also, you might want to add the "-verbose:class" option to your JVM
>>>> options.  This will print the classes that are loaded and the
>>>> location
>>>> from where they are loaded.  This is helpful if the class is
>>>> unknowingly
>>>> loaded twice.
>>>>=20
>>>> Dan
>>>>=20
>>>>=20
>>>>=20
>>>>> java.lang.ClassCastException:
>>>>> org.apache.tomcat.dbcp.dbcp.BasicDataSource
>>>>> cannot
>>>>> be cast to org.apache.tomcat.dbcp.dbcp.BasicDataSource
>>>>>        at
>>>>> com.aasc.model.AascOracleDAOFactory.createConnection(AascOracleDAOFac
>>>>> tory.java:96)
>>>>>        at
>>>>>        com.aasc.model.AascDBAccess.getConnection(AascDBAccess.java:58)=

>>>>>        at
>>>>>        com.aasc.model.AascDBAccess.getValues(AascDBAccess.java:84)
>>>>>        at
>>>>> org.apache.jsp.aascShipConsoleIndex_jsp._jspService(aascShipConsoleIn
>>>>> dex_jsp.java:296)
>>>>>        at
>>>>>        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:=
70)
>>>>>        at
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>>>>>        at
>>>>> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper
>>>>> .java:432)
>>>>>        at
>>>>> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:3
>>>>> 90)
>>>>>        at
>>>>>        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:33=
4)
>>>>>        at
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
>>>>>        at
>>>>> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
>>>>> icationFilterChain.java:305)
>>>>>        at
>>>>> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
>>>>> ilterChain.java:210)
>>>>>        at
>>>>> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
>>>>> alve.java:225)
>>>>>        at
>>>>> org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
>>>>> alve.java:169)
>>>>>        at
>>>>> org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica
>>>>> torBase.java:472)
>>>>>        at
>>>>> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
>>>>> ava:168)
>>>>>        at
>>>>> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
>>>>> ava:98)
>>>>>        at
>>>>> org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:
>>>>> 927)
>>>>>        at
>>>>> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
>>>>> ve.java:118)
>>>>>        at
>>>>> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
>>>>> a:407)
>>>>>        at
>>>>> org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp
>>>>> 11Processor.java:999)
>>>>>        at
>>>>> org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(
>>>>> AbstractProtocol.java:565)
>>>>>        at
>>>>> org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoin
>>>>> t.java:309)
>>>>>        at
>>>>>        java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown
>>>>> Source
>>>>> )
>>>>>        at
>>>>>        java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown
>>>>>        Source)
>>>>>        at java.lang.Thread.run(Unknown Source)
>>>>>=20
>>>>>=20
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>=20
>>>>>=20
>>>>=20
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>=20
>>>>=20
>>>=20
>>>=20
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>=20
>>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>=20
>>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 06:57:15 2012
Return-Path: <users-return-235382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F33A9613
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 06:57:15 +0000 (UTC)
Received: (qmail 39724 invoked by uid 500); 10 Jul 2012 06:57:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39480 invoked by uid 500); 10 Jul 2012 06:57:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39417 invoked by uid 99); 10 Jul 2012 06:57:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 06:57:07 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rajeshkumarmahto84@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 06:56:58 +0000
Received: by yhoo21 with SMTP id o21so14528021yho.18
        for <users@tomcat.apache.org>; Mon, 09 Jul 2012 23:56:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=8g35XpxSNJ7DG74udTZVKU0jaxAnxGUSadeZoLYzM3k=;
        b=VJx1q8/K7fC+a2TaF/cccVIVkKm2v5Zim7P+9dtsHuNMYLNh9yMNJIUB/7uso1FjF5
         io3AUCJyyMldtSPoE0dsh6K39L+tDntkNPa0KsltFb5jwGrwQURgQBBbK7ksOy9ZSZlx
         TUsY4U6VrP0+3GWu5+UhtpeZ+cXIi2aMBw2PQIgE6oXYKYWWULG6ePyD83kweqo3UmCD
         aU5LpTzdkE16H+xJwTH0GfA3HgUKmNL6a0KF/D6ikR2RerAtKMT5QEJSaq1M338ZJLcf
         20m1s3ruInMI4uJURVdrLV6NCqWhDW5S+iw2qq/wCW6om7zUTSmz5cjjXYwlRw/ALR6h
         GpJA==
MIME-Version: 1.0
Received: by 10.50.154.225 with SMTP id vr1mr10212479igb.70.1341903397603;
 Mon, 09 Jul 2012 23:56:37 -0700 (PDT)
Received: by 10.64.56.7 with HTTP; Mon, 9 Jul 2012 23:56:37 -0700 (PDT)
Date: Tue, 10 Jul 2012 12:26:37 +0530
Message-ID: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com>
Subject: war file extraction issues in tomcat 5.5
From: Rajesh Kumar <rajeshkumarmahto84@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=14dae9340c3b56482f04c4743b33

--14dae9340c3b56482f04c4743b33
Content-Type: text/plain; charset=ISO-8859-1

I am finding many issues in it but still not able to resolve this. Is there
any expert opinion on this... I have this setup in Cpanel.

Apache Tomcat/5.5.35 OS - Linux 2.6.18-028stab099.3 JVM Version:
1.6.0_29-b11

I have added export JAVA_OPTS="-XX:PermSize=128M -XX:MaxPermSize=524M" in
catlina.sh but dint help.


*Log file info in catalina.err*


**

Jul 10, 2012 3:23:16 AM org.apache.catalina.core.AprLifecycleListener init
    INFO: The APR based Apache Tomcat Native library which allows
optimal performance in production environments was not found on the
java.library.path:
/usr/local/jdk/jre/lib/i386/client:/usr/local/jdk/jre/lib/i386:/usr/java/packages/lib/i386:/lib:/usr/lib
    Jul 10, 2012 3:23:17 AM org.apache.coyote.http11.Http11BaseProtocol init
    INFO: Initializing Coyote HTTP/1.1 on http-8080
    Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.Catalina load
    INFO: Initialization processed in 434 ms
    Jul 10, 2012 3:23:17 AM org.apache.catalina.core.StandardService start
    INFO: Starting service Catalina
    Jul 10, 2012 3:23:17 AM org.apache.catalina.core.StandardEngine start
    INFO: Starting Servlet Engine: Apache Tomcat/5.5.35
    Jul 10, 2012 3:23:17 AM org.apache.catalina.core.StandardHost start
    INFO: XML validation disabled
    Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.HostConfig deployWAR
    INFO: Deploying web application archive sample.war
    Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.ContextConfig init
    SEVERE: Exception fixing docBase: {0}
    java.io.FileNotFoundException:
/home/surgnet/public_html/sample/META-INF/MANIFEST.MF (No such file or
directory)
            at java.io.FileOutputStream.open(Native Method)
            at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
            at java.io.FileOutputStream.<init>(FileOutputStream.java:145)
            at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:457)
            at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:173)
            at org.apache.catalina.startup.ContextConfig.fixDocBase(ContextConfig.java:864)
            at org.apache.catalina.startup.ContextConfig.init(ContextConfig.java:999)
            at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:279)
            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
            at org.apache.catalina.core.StandardContext.init(StandardContext.java:5095)
            at org.apache.catalina.core.StandardContext.start(StandardContext.java:4024)
            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:884)
            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:737)
            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:498)
            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1203)
            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)
            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)
            at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
            at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
            at org.apache.catalina.core.StandardService.start(StandardService.java:448)
            at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
            at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at org.apache.commons.daemon.support.DaemonLoader.start(DaemonLoader.java:243)
    Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.HostConfig deployWAR
    INFO: Deploying web application archive surgeryplanet.war
    Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.ContextConfig init
    SEVERE: Exception fixing docBase: {0}
    java.io.FileNotFoundException:
/home/surgnet/public_html/surgeryplanet/META-INF/MANIFEST.MF (No such
file or directory)
            at java.io.FileOutputStream.open(Native Method)
            at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
            at java.io.FileOutputStream.<init>(FileOutputStream.java:145)
            at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:457)
            at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:173)
            at org.apache.catalina.startup.ContextConfig.fixDocBase(ContextConfig.java:864)
            at org.apache.catalina.startup.ContextConfig.init(ContextConfig.java:999)
            at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:279)
            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
            at org.apache.catalina.core.StandardContext.init(StandardContext.java:5095)
            at org.apache.catalina.core.StandardContext.start(StandardContext.java:4024)
            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:884)
            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:737)
            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:498)
            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1203)
            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)
            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)
            at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
            at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
            at org.apache.catalina.core.StandardService.start(StandardService.java:448)
            at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
            at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at org.apache.commons.daemon.support.DaemonLoader.start(DaemonLoader.java:243)
    Jul 10, 2012 3:23:18 AM
org.apache.catalina.loader.WebappClassLoader validateJarFile
    INFO: validateJarFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net/surgeryplanet/WEB-INF/lib/javaee.jar)
- jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending
class: javax/servlet/Servlet.class
    Jul 10, 2012 3:23:18 AM
org.apache.catalina.loader.WebappClassLoader validateJarFile
    INFO: validateJarFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net/surgeryplanet/WEB-INF/lib/jsp-api.jar)
- jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending
class: javax/servlet/jsp/JspPage.class
    Jul 10, 2012 3:23:34 AM org.apache.catalina.core.StandardContext start
    SEVERE: Error listenerStart
    Jul 10, 2012 3:23:34 AM org.apache.catalina.core.StandardContext start
    SEVERE: Context [/surgeryplanet] startup failed due to previous errors
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.StandardHost start
    INFO: XML validation disabled
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: contextInitialized()
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log
    INFO: SessionListener: contextInitialized()
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: contextInitialized()
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log
    INFO: SessionListener: contextInitialized()
    Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log
    INFO: org.apache.webapp.balancer.BalancerFilter: init():
ruleChain: [org.apache.webapp.balancer.RuleChain:
[org.apache.webapp.balancer.rules.URLStringMatchRule: Target string:
News / Redirect URL: http://www.cnn.com],
[org.apache.webapp.balancer.rules.RequestParameterRule: Target param
name: paramName / Target param value: paramValue / Redirect URL:
http://www.yahoo.com],
[org.apache.webapp.balancer.rules.AcceptEverythingRule: Redirect URL:
http://jakarta.apache.org]]
    Jul 10, 2012 3:23:35 AM org.apache.coyote.http11.Http11BaseProtocol start
    INFO: Starting Coyote HTTP/1.1 on http-8080
    Jul 10, 2012 3:23:35 AM org.apache.jk.common.ChannelSocket init
    INFO: JK: ajp13 listening on /0.0.0.0:8009
    Jul 10, 2012 3:23:35 AM org.apache.jk.server.JkMain start
    INFO: Jk running ID=0 time=0/14  config=null
    Jul 10, 2012 3:23:35 AM org.apache.catalina.storeconfig.StoreLoader load
    INFO: Find registry server-registry.xml at classpath resource
    Jul 10, 2012 3:23:36 AM org.apache.catalina.startup.Catalina start
    INFO: Server startup in 19200 ms
    Jul 10, 2012 3:25:29 AM org.apache.catalina.core.ApplicationContext log
    INFO: HTMLManager: init: Associated with Deployer
'Catalina:type=Deployer,host=surgeryplanet.net'
    Jul 10, 2012 3:25:29 AM org.apache.catalina.core.ApplicationContext log
    INFO: HTMLManager: init: Global resources are available
    Jul 10, 2012 3:25:29 AM org.apache.catalina.core.ApplicationContext log
    INFO: HTMLManager: list: Listing contexts for virtual host
'surgeryplanet.net'
    Jul 10, 2012 3:25:34 AM org.apache.catalina.core.ApplicationContext log
    INFO: HTMLManager: start: Starting web application at '/surgeryplanet'
    Jul 10, 2012 3:25:35 AM
org.apache.catalina.loader.WebappClassLoader validateJarFile
    INFO: validateJarFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net/surgeryplanet/WEB-INF/lib/javaee.jar)
- jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending
class: javax/servlet/Servlet.class
    Jul 10, 2012 3:25:35 AM
org.apache.catalina.loader.WebappClassLoader validateJarFile
    INFO: validateJarFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net/surgeryplanet/WEB-INF/lib/jsp-api.jar)
- jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending
class: javax/servlet/jsp/JspPage.class
    Jul 10, 2012 3:25:51 AM org.apache.catalina.core.StandardContext start
    SEVERE: Error listenerStart
    Jul 10, 2012 3:25:51 AM org.apache.catalina.core.StandardContext start
    SEVERE: Context [/surgeryplanet] startup failed due to previous errors
    Jul 10, 2012 3:25:52 AM org.apache.catalina.core.ApplicationContext log
    INFO: HTMLManager: list: Listing contexts for virtual host
'surgeryplanet.net'

--14dae9340c3b56482f04c4743b33--

From users-return-235383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 07:30:02 2012
Return-Path: <users-return-235383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7DF0CF59
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 07:30:02 +0000 (UTC)
Received: (qmail 31471 invoked by uid 500); 10 Jul 2012 07:29:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31163 invoked by uid 500); 10 Jul 2012 07:29:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31101 invoked by uid 99); 10 Jul 2012 07:29:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 07:29:56 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [67.228.103.139] (HELO cpanel21.interactivedns.com) (67.228.103.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 07:29:48 +0000
Received: from [14.96.71.167] (port=2296 helo=VijayaPC)
	by cpanel21.interactivedns.com with esmtpa (Exim 4.77)
	(envelope-from <svijiya@solutionscraft.com>)
	id 1SoUsc-00038H-SM
	for users@tomcat.apache.org; Tue, 10 Jul 2012 12:59:07 +0530
Message-ID: <6D1ED83E0E29402CB565A160A248F5E2@VijayaPC>
From: "Vijaya" <svijiya@solutionscraft.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
Subject: Equivalent of Web Service Extension in IIS6 on XP Professional
Date: Tue, 10 Jul 2012 12:59:04 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01CD5E9B.C8C2E4D0"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 15.4.3555.308
X-MimeOLE: Produced By Microsoft MimeOLE V15.4.3555.308
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel21.interactivedns.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - solutionscraft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0004_01CD5E9B.C8C2E4D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

In order to configure the ISAPI Redirector , according to the Apache =
documentation, I need to add a new Web Service Extension in IIS6. But =
the problem is that the web service extension option exists only on IIS6 =
on Windows 2003 server and not on XP pro.=20

Can anyone help me on how do I add the tomcat extension from IIS6 on XP =
professional?

Thanks,
Vijaya

------=_NextPart_000_0004_01CD5E9B.C8C2E4D0--


From users-return-235384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 12:18:31 2012
Return-Path: <users-return-235384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4654D058
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 12:18:31 +0000 (UTC)
Received: (qmail 20358 invoked by uid 500); 10 Jul 2012 12:18:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19976 invoked by uid 500); 10 Jul 2012 12:18:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19926 invoked by uid 99); 10 Jul 2012 12:18:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 12:18:25 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.82.253.227] (HELO mail170.messagelabs.com) (216.82.253.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 12:18:16 +0000
X-Env-Sender: Chuck.Toman@stocksupply.com
X-Msg-Ref: server-4.tower-170.messagelabs.com!1341922673!21721207!2
X-Originating-IP: [206.208.94.52]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 15272 invoked from network); 10 Jul 2012 12:17:54 -0000
Received: from unknown (HELO sbs09932mx001.ds.stocksupply.com) (206.208.94.52)
  by server-4.tower-170.messagelabs.com with SMTP; 10 Jul 2012 12:17:54 -0000
Received: from sbs09932mx005.ds.stocksupply.com ([10.154.101.85]) by sbs09932mx001.ds.stocksupply.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 10 Jul 2012 08:17:50 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: soap location address
Date: Tue, 10 Jul 2012 08:17:49 -0400
Message-ID: <E19E09E89241E04E8A39657410D7D8387A426D@sbs09932mx005.ds.stocksupply.com>
In-Reply-To: <1341851410.30268.2780.camel@dellberry>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: soap location address
Thread-Index: Ac1d7+6lMh8X1PJqS/GrR8vFgyHlAwApftyw
References: <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com> <4FF74E1D.2000703@pidster.com> <E19E09E89241E04E8A39657410D7D8387A4268@sbs09932mx005.ds.stocksupply.com> <1341851410.30268.2780.camel@dellberry>
From: "Toman, Chuck [Stock]" <Chuck.Toman@stocksupply.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 10 Jul 2012 12:17:50.0318 (UTC) FILETIME=[060C30E0:01CD5E96]

SSB3aXNoIGl0IHdhcyBzby4uLi4NCg0KDQpUaGFua3MsDQogDQpDaGFybGVzIEcuIFRvbWFuDQpU
cmVuZCBEQkENClQ6ICsxICg5MTkpIDQzMSAxNzkyIMK3IE06ICsxICg5MTkpIDUyNCA4NjUyDQog
DQpDdXN0b21lciBGb2N1c2VkLCBBc3NvY2lhdGUgRHJpdmVuLg0KIA0KLS0tLS1PcmlnaW5hbCBN
ZXNzYWdlLS0tLS0NCkZyb206IFRpbSBXYXR0cyBbbWFpbHRvOnRpbUBjbGlmdG9uZmFybS5vcmdd
IA0KU2VudDogTW9uZGF5LCBKdWx5IDA5LCAyMDEyIDEyOjMwIFBNDQpUbzogVG9tY2F0IFVzZXJz
IExpc3QNClN1YmplY3Q6IFJFOiBzb2FwIGxvY2F0aW9uIGFkZHJlc3MNCg0KT24gTW9uLCAyMDEy
LTA3LTA5IGF0IDEwOjE0IC0wNDAwLCBUb21hbiwgQ2h1Y2sgW1N0b2NrXSB3cm90ZToNCj4gWWVz
LCBJIGJlbGlldmUgc28uLi4uDQo+IFNvbWVob3cgaW4gQXBhY2hlIFRvbWNhdCB0aGUgaG9zdG5h
bWUgY2FuIGJlIGR5bmFtaWNhbGx5IGNoYW5nZSBmb3IgDQo+IHNvYXAgbG9jYXRpb24gYWRkcmVz
cy4NCj4gDQpBcmUgeW91IGFzc2VydGluZyB0aGlzIGFzIGZhY3Qgb3IgZG8geW91IGp1c3Qgd2lz
aCBpdCB3ZXJlIHNvPyAgVG9tY2F0IGlzIGEgd2ViIGFwcGxpY2F0aW9uIGNvbnRhaW5lci4gIFdo
YXQgbGVhZHMgeW91IHRvIGJlbGlldmUgVG9tY2F0IGFuZCB0aGUgU2VydmxldCBzcGVjIGFyZSBp
bnRyaW5zaWNhbGx5IHRpZWQgdG8gU09BUCBhbmQvb3IgV1NETD8NCg0KDQo+IFRoYW5rcywNCj4g
IA0KPiBDaGFybGVzIEcuIFRvbWFuDQo+IFRyZW5kIERCQQ0KPiBUOiArMSAoOTE5KSA0MzEgMTc5
MiAqIE06ICsxICg5MTkpIDUyNCA4NjUyDQo+ICANCj4gQ3VzdG9tZXIgRm9jdXNlZCwgQXNzb2Np
YXRlIERyaXZlbi4NCj4gIA0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBQ
aWQgW21haWx0bzpwaWRAcGlkc3Rlci5jb21dDQo+IFNlbnQ6IEZyaWRheSwgSnVseSAwNiwgMjAx
MiA0OjQ0IFBNDQo+IFRvOiBUb21jYXQgVXNlcnMgTGlzdA0KPiBTdWJqZWN0OiBSZTogc29hcCBs
b2NhdGlvbiBhZGRyZXNzDQo+IA0KPiBPbiAwNi8wNy8yMDEyIDIwOjAwLCBUb21hbiwgQ2h1Y2sg
W1N0b2NrXSB3cm90ZToNCj4gPiBIb3cgZG8geW91IGR5bmFtaWNhbGx5IGNoYW5nZSBzb2FwIGxv
Y2F0aW9uIGZvciBXU0RMIGZpbGVzPw0KPiANCj4gQXJlIHlvdSBhc2tpbmcgdGhpcyBxdWVzdGlv
biBvbiB0aGUgcmlnaHQgbWFpbGluZyBsaXN0Pw0KPiBUaGlzIGxpc3QgaXMgZm9yIHF1ZXN0aW9u
cyBhYm91dCBBcGFjaGUgVG9tY2F0Lg0KPiANCj4gDQo+IHANCj4gDQo+IA0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 12:44:38 2012
Return-Path: <users-return-235385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 241A2DBD7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 12:44:38 +0000 (UTC)
Received: (qmail 526 invoked by uid 500); 10 Jul 2012 12:44:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 198 invoked by uid 500); 10 Jul 2012 12:44:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 177 invoked by uid 99); 10 Jul 2012 12:44:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 12:44:32 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.2.8] (HELO exprod7og118.obsmtp.com) (64.18.2.8)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 12:44:25 +0000
Received: from mail-qa0-f51.google.com ([209.85.216.51]) (using TLSv1) by exprod7ob118.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/wjlIsfV6nbsQYYSt+eBeF2W2stxriK@postini.com; Tue, 10 Jul 2012 05:44:05 PDT
Received: by qaea16 with SMTP id a16so87263qae.17
        for <users@tomcat.apache.org>; Tue, 10 Jul 2012 05:44:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=f4P1ry4iqBzG40iQIwJZomc1N2LBaFDtWZdZQaUrMgc=;
        b=LPnIChefp2vZ9DioXiQJlJ/QwiLXPSMp+l6w81uXkp56aE4F0yhY1EsChwZ12Xt9yi
         8oqVxHN1R3mt0CKrEqrChub1kQAhoDQgKuyCDbuEHbSZJ25Hpo3wvcMd/0GlsjNMY/9U
         g04uNMAbMMiqaOxPzWuIu7Zo7mes/Vwlktr1DAi/Uusov0hmS0sLdhS7okTzoL5cd2Ii
         06kgOqa1arhtCJd5VExQ43+X70GdFU31yHWBBDotABB2P/vWbc4hiMBzoLrkXEFHxxUk
         yHNajV4oAWZjS/9K2tAscQSW6FEb4TRlqjaJUL9i7pzHz9bJNPtC2HgCBt6F6Q2ocumG
         3YZg==
Received: by 10.224.206.131 with SMTP id fu3mr21764227qab.72.1341924243809;
 Tue, 10 Jul 2012 05:44:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Tue, 10 Jul 2012 05:43:42 -0700 (PDT)
In-Reply-To: <BLU142-W1F1A6C033275E7BB3197CAED30@phx.gbl>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
 <4FFB422D.6050204@ice-sa.com> <BLU142-W1F1A6C033275E7BB3197CAED30@phx.gbl>
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Tue, 10 Jul 2012 08:43:42 -0400
Message-ID: <CALgf6+n35t-iOMS4DYouemQtHQ99zTnqUJtJKax_33Q=qkwrnw@mail.gmail.com>
Subject: Re: [EXTERNAL] RE: Re: General Architecture Question for multiple
 websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf300fb179de255004c47915f2
X-Gm-Message-State: ALoCoQkjjuyRfhzsRtMlT6xqBIEUFJqV7Rg3pO2wDLamb+fbCzBsolcduUfL4IMpjJr1KzcyBq5I
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf300fb179de255004c47915f2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

We hit the leap second when it happened and rebooted the servers which
solved that problem.

Thanks anyway

On Mon, Jul 9, 2012 at 5:24 PM, Martin Gainty <mgainty@hotmail.com> wrote:

>
> apparently for RH 6.1 stopping and starting the ntp daemon works
> /etc/init.d/ntpd stop; date; date `date +"%m%d%H%M%C%y.%S"`; date ;
> /etc/init.d/ntpd starthttps://bugzilla.redhat.com/show_bug.cgi?id=3D83674=
8
>
> Martin Gainty
> ______________________________________________
> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9
>
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugt=
e
> Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht
> dient lediglich dem Austausch von Informationen und entfaltet keine
> rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
> E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAt=
es pas le
> destinataire pr=E9vu, nous te demandons avec bont=E9 que pour satisfaire
> informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e ou la=
 copie
> de ceci est interdite. Ce message sert =E0 l'information seulement et n'a=
ura
> pas n'importe quel effet l=E9galement obligatoire. =C9tant donn=E9 que le=
s email
> peuvent facilement =EAtre sujets =E0 la manipulation, nous ne pouvons acc=
epter
> aucune responsabilit=E9 pour le contenu fourni.
>
>
> > Date: Mon, 9 Jul 2012 22:42:21 +0200
> > From: aw@ice-sa.com
> > To: users@tomcat.apache.org
> > Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple
> websites on a single RedHat server
> >
> > Simon, Leonard wrote:
> > > Well our Tomcat went out to lunch again and we had to recycle the
> webserver
> > > to get things stablized. By this I mean we get reports from the users
> that
> > > screens become unresponsive and looking at a top we see tomcat proces=
s
> > > taking 100% CPU.
> > >
> > > Was able to do a thread dump captured with a kill -3 PID and here it
> is if
> > > anyone is so inclined to comment on it.
> > >
> >
> > Have not followed this thread and not looked at the thread dump (which
> would not tell me
> > anything anyway), but by any chance have you googled for "leap second
> bug" ?
> > Mentioning that because of your "100% CPU" above.
> > See e.g. https://bugzilla.redhat.com/show_bug.cgi?id=3D479765
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
>

--20cf300fb179de255004c47915f2--

From users-return-235386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 13:18:31 2012
Return-Path: <users-return-235386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1377BDCE6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 13:18:31 +0000 (UTC)
Received: (qmail 98891 invoked by uid 500); 10 Jul 2012 13:18:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98718 invoked by uid 500); 10 Jul 2012 13:18:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98686 invoked by uid 99); 10 Jul 2012 13:18:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 13:18:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.67] (HELO elasmtp-scoter.atl.sa.earthlink.net) (209.86.89.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 13:18:17 +0000
Received: from [66.32.145.110] (helo=[192.168.2.50])
	by elasmtp-scoter.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SoaKC-0000YK-HC
	for users@tomcat.apache.org; Tue, 10 Jul 2012 09:17:56 -0400
Subject: RE: soap location address
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <E19E09E89241E04E8A39657410D7D8387A426D@sbs09932mx005.ds.stocksupply.com>
References:
	 <E19E09E89241E04E8A39657410D7D8387A4264@sbs09932mx005.ds.stocksupply.com>
	 <4FF74E1D.2000703@pidster.com>
	 <E19E09E89241E04E8A39657410D7D8387A4268@sbs09932mx005.ds.stocksupply.com>
	 <1341851410.30268.2780.camel@dellberry>
	 <E19E09E89241E04E8A39657410D7D8387A426D@sbs09932mx005.ds.stocksupply.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-t3GJ5VJeAlLkUUQJKmq5"
Organization: Clifton Farm
Date: Tue, 10 Jul 2012 09:19:43 -0400
Message-ID: <1341926383.30268.2829.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d47813d7db08faec4d287d1a990ccfada6116c5fb2b435a154c5350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.145.110
X-Virus-Checked: Checked by ClamAV on apache.org

--=-t3GJ5VJeAlLkUUQJKmq5
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Tue, 2012-07-10 at 08:17 -0400, Toman, Chuck [Stock] wrote:
> I wish it was so....
>=20
:-(

Whatever WebServices/SOAP/WSDL library you're using (if any) should
provide support for setting the target address at runtime.  You can get
help on one of their support forums.  If not (wtf!) make friends with
one of these:

http://axis.apache.org/
http://cxf.apache.org/


>=20
> Thanks,
> =20
> Charles G. Toman
> Trend DBA
> T: +1 (919) 431 1792 =C2=B7 M: +1 (919) 524 8652
> =20
> Customer Focused, Associate Driven.
> =20
> -----Original Message-----
> From: Tim Watts [mailto:tim@cliftonfarm.org]=20
> Sent: Monday, July 09, 2012 12:30 PM
> To: Tomcat Users List
> Subject: RE: soap location address
>=20
> On Mon, 2012-07-09 at 10:14 -0400, Toman, Chuck [Stock] wrote:
> > Yes, I believe so....
> > Somehow in Apache Tomcat the hostname can be dynamically change for=20
> > soap location address.
> >=20
> Are you asserting this as fact or do you just wish it were so?  Tomcat
> is a web application container.  What leads you to believe Tomcat and
> the Servlet spec are intrinsically tied to SOAP and/or WSDL?
>=20
>=20
> > Thanks,
> > =20
> > Charles G. Toman
> > Trend DBA
> > T: +1 (919) 431 1792 * M: +1 (919) 524 8652
> > =20
> > Customer Focused, Associate Driven.
> > =20
> > -----Original Message-----
> > From: Pid [mailto:pid@pidster.com]
> > Sent: Friday, July 06, 2012 4:44 PM
> > To: Tomcat Users List
> > Subject: Re: soap location address
> >=20
> > On 06/07/2012 20:00, Toman, Chuck [Stock] wrote:
> > > How do you dynamically change soap location for WSDL files?
> >=20
> > Are you asking this question on the right mailing list?
> > This list is for questions about Apache Tomcat.
> >=20
> >=20
> > p
> >=20
> >=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


--=-t3GJ5VJeAlLkUUQJKmq5
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJP/CvvAAoJEAfDBXDHBQilgQsIAKKNJ+ato1iAZJB3+fJs+rew
TG4ew0MSbpsptJ0i9/kNik4gaC0edEoGAslPVGioxFxEBGvinaTtocobx+1dAjGt
nRcyDsahZy/fUkp444Slhdetqudp7No1EDJdnaIlIOpd23tRgG0M7Gu3ue/cj2WV
xSwncu+D6KuRp7ukzXPfj9Dd4MbN7h7tSptYl9wCyWVETwNgKuSIyrs6mlurg2w9
LXjSHTuWDSV4uqUheQo3qbvHMkegAPShdCKQ8Ci57W9nnUqQ2ZuCb+SdTjeldXQm
dBqxCjCipcHxr89D0bscqYRQ3fge/bBQTZELz9nwfWKrw1w7UHkyMs8V0o2jFAo=
=phRv
-----END PGP SIGNATURE-----

--=-t3GJ5VJeAlLkUUQJKmq5--


From users-return-235387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 15:44:08 2012
Return-Path: <users-return-235387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D8D3DC3C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 15:44:08 +0000 (UTC)
Received: (qmail 45104 invoked by uid 500); 10 Jul 2012 15:44:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44981 invoked by uid 500); 10 Jul 2012 15:44:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44971 invoked by uid 99); 10 Jul 2012 15:44:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 15:44:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of weim@mst.edu designates 209.106.229.47 as permitted sender)
Received: from [209.106.229.47] (HELO mxtip01-rolla-out.um.umsystem.edu) (209.106.229.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 15:43:57 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av8EALJM/E/PoJ7I/2dsb2JhbABCA7d5gQeCIAEBAQRONwICAgEIEQQBAQEKHQcbBhABFAkIAQEECAcEAQcVBIddAwwLsy0NSokEBIpWZhqCZ4JBYAOIFo4yiXKFAYJfgV8
Received: from um-tcas3.um.umsystem.edu ([207.160.158.200])
  by mxtip01-mizzou-out.um.umsystem.edu with ESMTP; 10 Jul 2012 10:43:34 -0500
Received: from UM-MBX-N03.um.umsystem.edu ([169.254.6.122]) by
 UM-TCAS3.um.umsystem.edu ([207.160.158.200]) with mapi id 14.01.0355.002;
 Tue, 10 Jul 2012 10:43:34 -0500
From: "Wei, Mingzhen" <weim@mst.edu>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Topic: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Index: Ac1blRWceTIPoEBNT6SPeE54MJX8lgALNsqAAAHVsIAABHs9AAC1zhKw
Date: Tue, 10 Jul 2012 15:43:34 +0000
Message-ID: <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
	<CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
	<4FF7249F.4050808@christopherschultz.net>
 <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
In-Reply-To: <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [131.151.70.75]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Konstantin Kolinko,

Could you tell me the point in more detail? I am new with Tomcat and need i=
t badly to be able to run another application.=20

Do you mean I need to try the combination of ant5.5 download + Ant 1.8.4 an=
d JDK 1.4.2_19?

Thanks.=20

---------------------------------------------------------------------------=
--------------------
Mingzhen Wei, PhD
Assistant Research Professor
Petroleum Engineering Program
Department of Geological Sciences and Engineering
330 McNutt Hall, 1400 N. Bishop Ave.
Missouri University of Science and Technology
Rolla, Missouri=A0=A0 65409-0410

Email:=A0 weim@mst.edu=20

Office phone:=A0 (573) 341-4657=A0=A0=A0=A0=A0=20
Cell phone:=A0 (573) 201-3924
Fax: (573)-341-6935
---------------------------------------------------------------------------=
--------------------

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Friday, July 06, 2012 2:56 PM
To: Tomcat Users List
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP conta=
iner

2012/7/6 Christopher Schultz <chris@christopherschultz.net>:
>
> On 7/6/12 12:54 PM, Konstantin Kolinko wrote:
>> 2012/7/6 Wei, Mingzhen <weim@mst.edu>:
>>> I was trying to build Apache Tomcat 5.5 Servelet for another=20
>>> application. I followed the steps from the link:
>>> http://tomcat.apache.org/tomcat-5.5-doc/building.html. I have done=20
>>> the following:
>>>
>>> 1.       Installed JDK1.6
>>>
>>> 2.       Download and installed Apache Ant 1.8.4
>>>
>>> 3.       Download Tomcat 5.5 source package in zip file
>>>
>>> 4.       Set and updated the environment parameters for
>>> JAVA_HOME, PATH, ANT_HOME
>>>
>>> I cannot run the following step "ant download" correctly. It=20
>>> complains the "includeantruntime" setup, and alerting me with errors=20
>>> for classes as BasicDataSource, DelegatingStatement,=20
>>> DelegatingPreparedStatement, and many more. The errors say that=20
>>> those classes as not abstract and do not override the abstract=20
>>> methods in other sources.
>>
>> 1. You need JDK 1.4 to build Tomcat 5.5. 2. The version of Ant=20
>> targeted by the build script is 1.6.2.
>
> With only a little bit of digging, I couldn't find an earliest-version=20
> of Ant that supports the "includeAntRuntime" attribute for <javac>.
> But, I suspect that 1.6.2 *does* support it, so there doesn't seem to=20
> be a reason not to specify a value for it in the build file. That will=20
> allow Tomcat 5.5 to be built with later ant versions (but, of course,=20
> using the proper JDK version).

It is an interesting note. Anyway,
1. "ant download deploy" in 5.5 builds correctly with Ant 1.8.4 and JDK 1.4=
.2_19.  So I do not see what the fix will bring besides a silenced warning.

2. Anyone may propose a patch for 5.5 (either in STATUS or in bugzilla).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 15:57:07 2012
Return-Path: <users-return-235388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A000DCB2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 15:57:07 +0000 (UTC)
Received: (qmail 89967 invoked by uid 500); 10 Jul 2012 15:57:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89792 invoked by uid 500); 10 Jul 2012 15:57:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89783 invoked by uid 99); 10 Jul 2012 15:57:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 15:57:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 15:56:58 +0000
Received: by vcbfo13 with SMTP id fo13so140174vcb.18
        for <users@tomcat.apache.org>; Tue, 10 Jul 2012 08:56:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=z5frbdAziRkLpyeKpd7fwt4STtlBsLzhTpZyPusausM=;
        b=sWoU9E2BlhT1jQEJpBeX8UGhUYs4CSptSRC06e4LrrGWif/CvRwlYa1muVWap3ZT5G
         1nKnruSYg9TQ2DW+kKRc5xtodlMHh/8k3ZhcBJpPS3qEsWXBBIRzXsi/n4W9nGR7W4yk
         PhJ6DbutI0DAlVWi17fCAwBitWbtcdy8NjL2ifT5Lw2O12I9uo8xOLQRWKuB3YepBGNw
         b2JxYkUs5jjsWGOicsyf+TdgsKkMCSoCZxwdSQtAnUPRK+8VsGC6YESSkngaDtqPCHEG
         4qu8BdRF3EMqPCi3uBEfOfEpuyQCMFJhKl6CWkVR40layVkT6M7+42vtPJG5Lx/bpdhM
         YYcQ==
MIME-Version: 1.0
Received: by 10.52.96.135 with SMTP id ds7mr18045336vdb.50.1341935797422; Tue,
 10 Jul 2012 08:56:37 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Tue, 10 Jul 2012 08:56:37 -0700 (PDT)
In-Reply-To: <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
	<CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
	<4FF7249F.4050808@christopherschultz.net>
	<CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
	<821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu>
Date: Tue, 10 Jul 2012 19:56:37 +0400
Message-ID: <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/10 Wei, Mingzhen <weim@mst.edu>:
> Konstantin Kolinko,
>
> Could you tell me the point in more detail? I am new with Tomcat and need it badly to be able to run another application.
>
> Do you mean I need to try the combination of ant5.5 download + Ant 1.8.4 and JDK 1.4.2_19?

1. Why are you trying to build it from source?
Why the existing binary releases are not good enough for you?

2. Have you read the BUILDING.txt file?


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:19:40 2012
Return-Path: <users-return-235389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6879DD91
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:19:40 +0000 (UTC)
Received: (qmail 59016 invoked by uid 500); 10 Jul 2012 16:19:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58829 invoked by uid 500); 10 Jul 2012 16:19:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58818 invoked by uid 99); 10 Jul 2012 16:19:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:19:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:19:29 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id YcaQ1j0010bG4ec57gKAki; Tue, 10 Jul 2012 16:19:10 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id YgK91j00B1FXhpX3PgK9MR; Tue, 10 Jul 2012 16:19:10 +0000
Message-ID: <4FFC55FC.7010308@christopherschultz.net>
Date: Tue, 10 Jul 2012 12:19:08 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple websites
 on a single RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
In-Reply-To: <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Simon,

On 7/9/12 4:24 PM, Simon, Leonard wrote:
> Well our Tomcat went out to lunch again and we had to recycle the
> webserver to get things stablized. By this I mean we get reports
> from the users that screens become unresponsive and looking at a
> top we see tomcat process taking 100% CPU.

Are you sure this is the right process?

> Was able to do a thread dump captured with a kill -3 PID and here
> it is if anyone is so inclined to comment on it.

This thread dump shows a mostly-idle server with the exception of
those threads in socketAccept() (not sure why these count as RUNNABLE
when they are really blocking) and those executing reads from the
client connection(s).

What exact version of Tomcat are you using, and what version of mod_jk
(or, if you are using mox_proxy_ajp, what httpd version)? IIRC, there
have been some stability improvements in recent Tomcat versions around
the worker threads being returned to their associated connectors.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8VfwACgkQ9CaO5/Lv0PCgWwCfbN/E29q4DKee4q1A+IEMmED6
8+0AnivucFDMS/7lhPiOb+0tv5I/6vim
=ABXf
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:23:06 2012
Return-Path: <users-return-235390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8522DDA9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:23:06 +0000 (UTC)
Received: (qmail 70070 invoked by uid 500); 10 Jul 2012 16:23:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70011 invoked by uid 500); 10 Jul 2012 16:23:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70002 invoked by uid 99); 10 Jul 2012 16:23:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:23:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:22:55 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id Yg5o1j0091ap0As54gNdWJ; Tue, 10 Jul 2012 16:22:37 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id YgNk1j00p1FXhpX3igNl89; Tue, 10 Jul 2012 16:22:45 +0000
Message-ID: <4FFC56CC.5010607@christopherschultz.net>
Date: Tue, 10 Jul 2012 12:22:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Equivalent of Web Service Extension in IIS6 on XP Professional
References: <6D1ED83E0E29402CB565A160A248F5E2@VijayaPC>
In-Reply-To: <6D1ED83E0E29402CB565A160A248F5E2@VijayaPC>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vijaya,

On 7/10/12 3:29 AM, Vijaya wrote:
> In order to configure the ISAPI Redirector , according to the
> Apache documentation, I need to add a new Web Service Extension in
> IIS6. But the problem is that the web service extension option
> exists only on IIS6 on Windows 2003 server and not on XP pro.
> 
> Can anyone help me on how do I add the tomcat extension from IIS6
> on XP professional?

I know absolutely nothing about using Microsoft Windows for anything
other than a plain-old desktop, but I believe this is one of the ways
Microsoft gets you to purchase a "server" license: by making
non-"server" versions of its OSs not operate well as servers.

You may have to upgrade, or switch from IIS to something like Apache
httpd.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8VswACgkQ9CaO5/Lv0PDNTACgwKjqZFFYmH8XBIFQd1xUvCVK
X5sAnRD6hWKpOmQbOd6XIlT2lMFyS1/x
=JT5n
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:30:07 2012
Return-Path: <users-return-235391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 376169D1C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:30:07 +0000 (UTC)
Received: (qmail 98604 invoked by uid 500); 10 Jul 2012 16:30:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98559 invoked by uid 500); 10 Jul 2012 16:30:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98550 invoked by uid 99); 10 Jul 2012 16:30:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:30:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:29:57 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id YbF01j0031GhbT853gVeK6; Tue, 10 Jul 2012 16:29:38 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id YgVi1j00R1FXhpX3TgVjZU; Tue, 10 Jul 2012 16:29:43 +0000
Message-ID: <4FFC5870.3090803@christopherschultz.net>
Date: Tue, 10 Jul 2012 12:29:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: log4j to write Tomcat logs to Windows Event Log
References: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil> <CABzHfV=uNHpJtKUvxghAEUbmf+yhcqX+-WF0xhYbKGUwNa0Rwg@mail.gmail.com> <4FF9B66E.5090907@christopherschultz.net> <7C09ACE3A0893249B9F0CDF48B723BB233D26F@nawespscez08v.nadsuswe.nads.navy.mil>
In-Reply-To: <7C09ACE3A0893249B9F0CDF48B723BB233D26F@nawespscez08v.nadsuswe.nads.navy.mil>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kevin,

On 7/9/12 11:52 AM, Dunbar, Kevin D CIV SPAWARSYSCEN-PACIFIC, 56250 wrote:
> Thank you Chris and Konstantin for replying to my message. Here is
>  the contents of the log4j.properties file... (This was taken from
> the instructions on the Tomcat website for logging with log4j).
> Thank you again for any help you can provide.
> 
> log4j.rootLogger=INFO, CATALINA # Define all the appenders 
> log4j.appender.CATALINA=org.apache.log4j.DailyRollingFileAppender 
> log4j.appender.CATALINA.File=${catalina.base}/logs/catalina. 
> log4j.appender.CATALINA.Append=true 
> log4j.appender.CATALINA.Encoding=UTF-8

That looks okay to me, except that I didn't realize that
$CATALINA_BASE/lib would load JAR files contained in it as well as raw
resources, but you are following the documentation faithfully.

Try setting the "-Dlog4j.debug" system property (no specific value is
necessary) and log4j should spew a lot of stuff to stdout that you can
see when it is performing its configuration -- you'll be able to see
when it first initializes and what happens at that time.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8WHAACgkQ9CaO5/Lv0PCUdgCgqLRF2DZ5DLZQSZQTx8OIm4ve
+2kAnRMAv7w7iUHHIcT5JDdh2Y0BA1tb
=0B8R
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:30:51 2012
Return-Path: <users-return-235392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2ACC19D32
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:30:51 +0000 (UTC)
Received: (qmail 5589 invoked by uid 500); 10 Jul 2012 16:30:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5540 invoked by uid 500); 10 Jul 2012 16:30:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5531 invoked by uid 99); 10 Jul 2012 16:30:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:30:47 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.132 as permitted sender)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:30:37 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-2.tower-45.messagelabs.com!1341937814!31766532!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 14852 invoked from network); 10 Jul 2012 16:30:14 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-2.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 10 Jul 2012 16:30:14 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 10 Jul 2012 11:30:14 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Tue, 10 Jul
 2012 11:30:14 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 10 Jul 2012 11:30:12 -0500
Subject: RE: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
Thread-Topic: [EXTERNAL] Re: General Architecture Question for multiple
 websites on a single RedHat server
Thread-Index: Ac1et9BsxBnEWVeASNGvcVHxgMtC6AAATbTw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB032AE0576@USEA-EXCH8.na.uis.unisys.com>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net>
 <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
 <4FFC55FC.7010308@christopherschultz.net>
In-Reply-To: <4FFC55FC.7010308@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Christopher Schultz [mailto:chris@christopherschultz.net]=20
> Subject: Re: [EXTERNAL] Re: General Architecture Question for multiple we=
bsites on a single RedHat server

> This thread dump shows a mostly-idle server with the exception of
> those threads in socketAccept() (not sure why these count as RUNNABLE
> when they are really blocking)

Because they blocked in the underlying native code part of the platform-spe=
cific JRE, not in Java code.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:37:48 2012
Return-Path: <users-return-235393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC0629DAB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:37:48 +0000 (UTC)
Received: (qmail 31155 invoked by uid 500); 10 Jul 2012 16:37:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31091 invoked by uid 500); 10 Jul 2012 16:37:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31080 invoked by uid 99); 10 Jul 2012 16:37:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:37:45 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.25.134.85] (HELO mailout11.t-online.de) (194.25.134.85)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:37:39 +0000
Received: from fwd17.aul.t-online.de (fwd17.aul.t-online.de )
	by mailout11.t-online.de with smtp 
	id 1SodR7-0001PO-Ik; Tue, 10 Jul 2012 18:37:17 +0200
Received: from localhost (bLgJK+ZrwhOfaoBZmGB-yoOqU6vBCB9F8JI3WmAeYm2AvaMi5Lp3eCetbwLj+i7ZJi@[172.20.101.250]) by fwd17.aul.t-online.de
	with esmtp id 1SodQx-10JV9E0; Tue, 10 Jul 2012 18:37:07 +0200
MIME-Version: 1.0
Received: from 132.199.230.71:5738 by cmpweb29.aul.t-online.de with HTTP/1.1
 (NGCS V4-0-6-1 on API V3-11-12-2)
In-Reply-To: <4FFC56CC.5010607@christopherschultz.net>
References: <4FFC56CC.5010607@christopherschultz.net>
Date: Tue, 10 Jul 2012 18:37:07 +0200
Reply-To: "verlag.preisser@t-online.de" <verlag.preisser@t-online.de>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Priority: 3
X-UMS: email
X-Mailer: DTAG NGCS V4-0-6-1
Subject: Re: Equivalent of Web Service Extension in IIS6 on XP Professional
From: "verlag.preisser@t-online.de" <verlag.preisser@t-online.de>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Message-ID: <1SodQx-10JV9E0@fwd17.aul.t-online.de>
X-ID: bLgJK+ZrwhOfaoBZmGB-yoOqU6vBCB9F8JI3WmAeYm2AvaMi5Lp3eCetbwLj+i7ZJi@t-dialin.net
X-TOI-MSGID: c7194a14-0150-4ac3-ba49-5ba5496f62a9
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

> On 7/10/12 3:29 AM, Vijaya wrote:
> > In order to configure the ISAPI Redirector , according to the
> > Apache documentation, I need to add a new Web Service Extension in
> > IIS6. But the problem is that the web service extension option
> > exists only on IIS6 on Windows 2003 server and not on XP pro.
> > 
> > Can anyone help me on how do I add the tomcat extension from IIS6
> > on XP professional?

According to the documentation, the step of adding the Isapi DLL to the allowed Web Extensions applies only to IIS 6.0 and above.
However, XP uses IIS 5.1, and there this option is not available, as extensions are automatically allowed to run.

Regards,
Konstantin Preißer



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:38:28 2012
Return-Path: <users-return-235394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBCE49DAC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:38:27 +0000 (UTC)
Received: (qmail 34955 invoked by uid 500); 10 Jul 2012 16:38:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34786 invoked by uid 500); 10 Jul 2012 16:38:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34774 invoked by uid 99); 10 Jul 2012 16:38:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:38:24 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:38:17 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Yc6m1j00H0SCNGk53gdyx7; Tue, 10 Jul 2012 16:37:58 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id Yge11j00S1FXhpX3Vge1S0; Tue, 10 Jul 2012 16:38:02 +0000
Message-ID: <4FFC5A65.50005@christopherschultz.net>
Date: Tue, 10 Jul 2012 12:37:57 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to support IPv6 on Apache Tomcat Version 7.0.22
References: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com> <CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com> <CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com>
In-Reply-To: <CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Aditi,

On 7/9/12 3:34 AM, Aditi Sinha wrote:
> Thank you so much. We specified the BIO connector implementation
> for HTTP and AJP protocol and the setup now supports IPv6.
> 
> Is there any preference among the three connectors "BIO", "NIO" and
> "APR"? How should one decide which connector to opt for?

IMHO the NIO connector should be your best bet: it can serve the
highest number of clients with the lowest overhead *and* does not
require any native code to do it. So, it's more effective *and*
simpler to deploy. Also, NIO (and APR) support the Comet protocol
whereas BIO does not.

You can certainly use NIO with AJP, though you may have to reconfigure
your AJP bridge to get the benefit of additional AJP connections from
the web proxy -- otherwise, you're just going to be using the standard
N:N connection mapping between httpd and Tomcat, and won't get the
benefit of being able to handle many (thousands?) connections from
httpd to Tomcat with a smaller number of request processing threads in
your <Executor>.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8WmUACgkQ9CaO5/Lv0PCTpgCeJy3yxj7b2GFh11y59lV2Xvuz
wjMAn0/cvgbTk9L2iVbX/bvFpgFIJfCU
=H/0+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:42:11 2012
Return-Path: <users-return-235395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B40849DDD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:42:11 +0000 (UTC)
Received: (qmail 52558 invoked by uid 500); 10 Jul 2012 16:42:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52506 invoked by uid 500); 10 Jul 2012 16:42:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52496 invoked by uid 99); 10 Jul 2012 16:42:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:42:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:42:00 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id YfFo1j0021swQuc5Eghfz5; Tue, 10 Jul 2012 16:41:39 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id YghY1j0191FXhpX3bghZTP; Tue, 10 Jul 2012 16:41:33 +0000
Message-ID: <4FFC5B42.70207@christopherschultz.net>
Date: Tue, 10 Jul 2012 12:41:38 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to support IPv6 on Apache Tomcat Version 7.0.22
References: <CAJjyRMfMSbgNuth9VSbZWmRGXKKL5iK_=x5skRgDT546t8wF-A@mail.gmail.com> <CABzHfVk9pzg3p0+awDgyvBco2qt9vzb++DAMaTkchK8VZGZn-A@mail.gmail.com> <CAJjyRMdNFewX7qUg2ScdZjYEoArrpX3YN_Qz4_rL_iqU_58WiA@mail.gmail.com> <CAJjyRMdr-9S7EwAUV0d6Si6_y+7D5DTqo5HCQRfRVGVJLUxAQw@mail.gmail.com>
In-Reply-To: <CAJjyRMdr-9S7EwAUV0d6Si6_y+7D5DTqo5HCQRfRVGVJLUxAQw@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Aditi,

On 7/9/12 5:37 AM, Aditi Sinha wrote:
> I could get the comparison of the three connectors here 
> http://tomcat.apache.org/tomcat-7.0-doc/config/http.html#Connector_Comparison
>
>  With the BIO connector specified, the server is not responding to
> the https request. Is it because SSL Handshake is Blocking for BIO
> connector?

Everything is blocking for the BIO connection -- that's what the "B"
stands for.

> We need to support SSL. Is there a way to have below configuration
> support IPv6?

I can't see a reason why you can't use SSL over any of the connectors.
What happens when you try to connect? Note that AJP never supports
HTTPS (at least not directly -- the web proxy must terminate the SSL
connection, but can forward the details like cipher, client
certificate, etc. to Tomcat and your webapp).

> HTTP Connector: NIO protocol

<Connector protocol="org.apache.coyote.ajp.Http11NioProtocol"
   ....
   />

> AJP Connector: APR protocol/NIO protocol.

<Connector protocol="org.apache.coyote.ajp.AjpNioProtocol"
   ....
   />

That should be all that is necessary.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8W0IACgkQ9CaO5/Lv0PA0RwCfe8hWScXATo/pPjBCcsGCwWi5
jYgAoKRjazQPQkEe0T1vwlvulMc/kgk5
=k0tm
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 16:55:40 2012
Return-Path: <users-return-235396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA7EC9ECB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 16:55:39 +0000 (UTC)
Received: (qmail 10062 invoked by uid 500); 10 Jul 2012 16:55:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9987 invoked by uid 500); 10 Jul 2012 16:55:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9977 invoked by uid 99); 10 Jul 2012 16:55:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 16:55:36 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.18.2.215] (HELO exprod7og114.obsmtp.com) (64.18.2.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 16:55:29 +0000
Received: from mail-qc0-f178.google.com ([209.85.216.178]) (using TLSv1) by exprod7ob114.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/xea3rdBjZzXAhKvCKnv3GKMsLfcTAP@postini.com; Tue, 10 Jul 2012 09:55:09 PDT
Received: by qchj9 with SMTP id j9so224966qch.37
        for <users@tomcat.apache.org>; Tue, 10 Jul 2012 09:55:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=dxqZ09q+zrj5grxpYBelQTLOCJkXzE4iPc1AcxiD+uI=;
        b=W02KAYkEJRt2CT0fagRPhxMKSqa7N8pB6Qr+wi6vWYcrhemVvtmS8OcAyi1v3ezC2d
         GNPdM+Rh1l9S7ds2ufWHnLNCJ2X2DV1o/nrdscjyjmQ9rBWFSCyCxUUA8Y9LZOFbsQFz
         JEMcFcak1S1kllPcUJNUaM54ElemJtdCBi8xJWUB6Fh5KetYAJ+ryb5j4mO12WXrFv+u
         e2lu1v5nQJ9X0V/5KQ/UzP7zr7dxTGyWdwS+zgrrXRfPUDvcO0LcXy+jr5FoXksHTvnK
         CZMJ/gtrhEXDLhHl8LBrMwvUHUxxOhfgNtp690xOzswA7mJHe5WPx7kuqI+gY/SswRDi
         kYfQ==
Received: by 10.229.136.17 with SMTP id p17mr5192775qct.139.1341939306455;
 Tue, 10 Jul 2012 09:55:06 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Tue, 10 Jul 2012 09:54:46 -0700 (PDT)
In-Reply-To: <4FFC55FC.7010308@christopherschultz.net>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
 <4FFC55FC.7010308@christopherschultz.net>
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Tue, 10 Jul 2012 12:54:46 -0400
Message-ID: <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com>
Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for multiple
 websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00248c70f9f1abe2e604c47c9718
X-Gm-Message-State: ALoCoQkI9K/6VeL80mTbc5J0NGKSALbKCDGceZeoxFHRbjybQ0toU0fYM0zpzDjwnIzVVUHJr9q9

--00248c70f9f1abe2e604c47c9718
Content-Type: text/plain; charset=ISO-8859-1

Chris,

Thanks for looking at this.

Tomcat version is 6.0.32.
mod_jk is at 1.2.31


Someone else did the thread dump so I'm assuming they did it on the right
process.

On Tue, Jul 10, 2012 at 12:19 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Simon,
>
> On 7/9/12 4:24 PM, Simon, Leonard wrote:
> > Well our Tomcat went out to lunch again and we had to recycle the
> > webserver to get things stablized. By this I mean we get reports
> > from the users that screens become unresponsive and looking at a
> > top we see tomcat process taking 100% CPU.
>
> Are you sure this is the right process?
>
> > Was able to do a thread dump captured with a kill -3 PID and here
> > it is if anyone is so inclined to comment on it.
>
> This thread dump shows a mostly-idle server with the exception of
> those threads in socketAccept() (not sure why these count as RUNNABLE
> when they are really blocking) and those executing reads from the
> client connection(s).
>
> What exact version of Tomcat are you using, and what version of mod_jk
> (or, if you are using mox_proxy_ajp, what httpd version)? IIRC, there
> have been some stability improvements in recent Tomcat versions around
> the worker threads being returned to their associated connectors.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAk/8VfwACgkQ9CaO5/Lv0PCgWwCfbN/E29q4DKee4q1A+IEMmED6
> 8+0AnivucFDMS/7lhPiOb+0tv5I/6vim
> =ABXf
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00248c70f9f1abe2e604c47c9718--

From users-return-235397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 17:46:12 2012
Return-Path: <users-return-235397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CE03DEA1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 17:46:12 +0000 (UTC)
Received: (qmail 88868 invoked by uid 500); 10 Jul 2012 17:46:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88713 invoked by uid 500); 10 Jul 2012 17:46:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88702 invoked by uid 99); 10 Jul 2012 17:46:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 17:46:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rallavagu@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 17:46:01 +0000
Received: by ggnp1 with SMTP id p1so326704ggn.18
        for <users@tomcat.apache.org>; Tue, 10 Jul 2012 10:45:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=fwamQTA0jpj+09iZC+Hl5yL+BwLG7ry/IjFqPeem4Ic=;
        b=Fwmsg339k5KL3yxIy7N3Db+YN2ujHXXhZbt1bJVyUqnC1FkF1GQVXTjnw7aSB4qhkY
         /4T8sS0GnM5fmDLCVhRw06uzOZZHk3bqizbGuEbnbdpy+NHYpRIKApATy7iuMXaOv2yB
         ABHTM4or9TNnlopRi8ZnBIj0gkACwqyazz7OArodSJQReVPSX4eFdyWYFBNjs0QrtoWN
         IhO8VmnfdjbRJ4jioNDcZ5AD5fpEI4kRA47umtxgaFHTKMGbUmqtLMVhXSWjiLDAj2VH
         5oeJg3kOsCdXdFKJHhCGTm1AZKE50oXlnu4ocCTB2ogHH3+w3omk6BrFuO08siRcIRcW
         9O5Q==
MIME-Version: 1.0
Received: by 10.236.182.161 with SMTP id o21mr14414502yhm.43.1341942340320;
 Tue, 10 Jul 2012 10:45:40 -0700 (PDT)
Received: by 10.236.138.195 with HTTP; Tue, 10 Jul 2012 10:45:40 -0700 (PDT)
Date: Tue, 10 Jul 2012 10:45:40 -0700
Message-ID: <CAA2XZnm8y_EN8hBoe=apy8N5TABDTDJYmaPG4aFOg6dMj0RfcQ@mail.gmail.com>
Subject: App becomes sluggish - Tomcat 7.0.23
From: Sri Kon <rallavagu@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf305b125c80fc8904c47d4ccc

--20cf305b125c80fc8904c47d4ccc
Content-Type: text/plain; charset=ISO-8859-1

I have a web app (spring/hibernate) running on Tomcat 7.0.23. The symptom
is that after running for few days (4 to 5 days typically) the response
becomes very slow. The page that usually loads in 2 seconds takes anywhere
from 30 to 50 seconds. A restart brings the response back to normal (2
sec). I have taken thread dumps before and after. I see the thread in
question (which is taking longer time to respond) has a lock. Here is the
snippet.

  at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:200)
    at
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:539)
    at
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:298)
    - locked <0x0000000799446298> (a
org.apache.tomcat.util.net.SocketWrapper)
    at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)

Upon looking into the code, there is a synchronized method and that
explains the lock. But, I am wondering if the locking is slowing the things
down  then why didn't it manifest from the fresh start and why only after
running for few days. Wondering where to look. Any clues? Thanks in advance.

--20cf305b125c80fc8904c47d4ccc--

From users-return-235398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 18:30:31 2012
Return-Path: <users-return-235398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2552D9027
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 18:30:31 +0000 (UTC)
Received: (qmail 26406 invoked by uid 500); 10 Jul 2012 18:30:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26261 invoked by uid 500); 10 Jul 2012 18:30:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26252 invoked by uid 99); 10 Jul 2012 18:30:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 18:30:27 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.139] (HELO nm9-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.139)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 18:30:19 +0000
Received: from [98.138.90.48] by nm9.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 18:29:57 -0000
Received: from [98.138.89.168] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 18:29:57 -0000
Received: from [127.0.0.1] by omp1024.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 18:29:57 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 640495.75342.bm@omp1024.mail.ne1.yahoo.com
Received: (qmail 76435 invoked by uid 60001); 10 Jul 2012 18:29:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341944997; bh=UDiBUv1mU6tdAKElYBbKhUpeL0+ECC2qXsYD62Re2MI=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=X+gM8ge9b4DjIBp24H0wGjzorIr37Y5xxDZiiHM4yo6t0VbFvTD8aQ/FyuSU13zo0n7h05oGDZ+nODc1VuQw+aKCRdkuD8kyN6paG+dqelmi/Qu61hmnBOFNmUdd1lfobObCAmMKxPV9ItjSxpMQzYvvmn/4w5G072CwyZPoG+Y=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=NkkThw8BEHqS3JiBao4ooOGkCiGftN3aZ1fcGL/fYbIR7gjIG7Nl2sUMPrvAwCA2KGIrlj6lRvSMMyWha+AIpgojbtLjrYbox1Xktfc+eXp70VGTfj/BrbGl72hZrlNpEeT8lWF6VVc/o0oMGeH3NJVvvgJPq3VlGTXsGmfyAIM=;
X-YMail-OSG: ZL4.yHwVM1kZGACu_l0K6ouASA5CA5nTlNyNkeQtogk7puo
 YrAYueruI3o_xyq9PXpr5mCCgLHAQuor5jUeGA2qVX0UFk3ZJHJLo9R9mzsE
 gTxvvsXpQ2gMg_NGWgS87ocAF.N3UC6_qy5gjQxLm9JSmpCLkMDZSKbKwYMb
 ZWeE6GhgmFlUDAAyfz3A5M6z6NQ0MDoYFz_a46jCIGP1mZxnzGA8QFBsLJyM
 Ib6njt1ZZEJCyVUyGlkXoUV.Domxygg0782m7K.SS0FbLL5VYIdNITV3aQdM
 UFL5pvkev2jskgNJT7Dra_HCebe3P8ZVcN2xsXKMkU.oYRN8cb_6RJWnuk81
 f.qEAXVtKVxqEXvLJg2TuBWALxSJMM48BXO6AtZ__guZ70xhYEbKZONb82or
 rfk_cIANStnfIS1q9wdrdcb.UZqtkcdBKUtkY8O40A2urVXx5w6cRIYi3KCF
 RCA--
Received: from [71.129.42.43] by web125501.mail.ne1.yahoo.com via HTTP; Tue, 10 Jul 2012 11:29:57 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com> <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com> 
Message-ID: <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Date: Tue, 10 Jul 2012 11:29:57 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for multiple websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: "Simon, Leonard" <leonard.simon@h=
sn.net>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Se=
nt: Tuesday, July 10, 2012 9:54 AM=0A> Subject: Re: [EXTERNAL] Re: Re: Gene=
ral Architecture Question for multiple websites on a single RedHat server=
=0A> =0A> Chris,=0A> =0A> Thanks for looking at this.=0A> =0A> Tomcat versi=
on is 6.0.32.=0A> mod_jk is at 1.2.31=0A> =0A> =0A> Someone else did the th=
read dump so I'm assuming they did it on the right=0A> process.=0A> =0A> On=
 Tue, Jul 10, 2012 at 12:19 PM, Christopher Schultz <=0A> chris@christopher=
schultz.net> wrote:=0A> =0A>>=A0 -----BEGIN PGP SIGNED MESSAGE-----=0A>>=A0=
 Hash: SHA1=0A>> =0A>>=A0 Simon,=0A>> =0A>>=A0 On 7/9/12 4:24 PM, Simon, Le=
onard wrote:=0A>>=A0 > Well our Tomcat went out to lunch again and we had t=
o recycle the=0A>>=A0 > webserver to get things stablized. By this I mean w=
e get reports=0A>>=A0 > from the users that screens become unresponsive and=
 looking at a=0A>>=A0 > top we see tomcat process taking 100% CPU.=0A>> =0A=
>>=A0 Are you sure this is the right process?=0A>> =0A>>=A0 > Was able to d=
o a thread dump captured with a kill -3 PID and here=0A>>=A0 > it is if any=
one is so inclined to comment on it.=0A>> =0A>>=A0 This thread dump shows a=
 mostly-idle server with the exception of=0A>>=A0 those threads in socketAc=
cept() (not sure why these count as RUNNABLE=0A>>=A0 when they are really b=
locking) and those executing reads from the=0A>>=A0 client connection(s).=
=0A>> =0A>>=A0 What exact version of Tomcat are you using, and what version=
 of mod_jk=0A>>=A0 (or, if you are using mox_proxy_ajp, what httpd version)=
? IIRC, there=0A>>=A0 have been some stability improvements in recent Tomca=
t versions around=0A>>=A0 the worker threads being returned to their associ=
ated connectors.=0A>> =0A>>=A0 - -chris=0A=0A=0AI didn't see much in the wa=
y that rang immediate alarm bells. It looks like you're processing about 18=
 client connections, and everything else is pretty quiet. These client conn=
ections are going through the AJP connector (as you've noted in your reply =
above).=0A=0AA few things though:=0A=0AAs someone in this thread has alread=
y mentioned, permgen is pretty full. You might try increasing that with -XX=
:MaxPermSize=3D128m.=0A=0AThere are a lot of garbage collection threads. Yo=
u can see this on a multi-core system. From digging around, it appears that=
 the number of parallel garbage collection threads follows this formula:=0A=
=0A8 + (5/8)X =3D GCT=0A=0AYou get one GCT (garbage collection thread) per =
core for the first 8 cores, and then 5/8 of a thread for every core after t=
hat. So in your case:=0A=0A8 + (5/8)X =3D 18=0AX =3D 16=0A=0AThis means tha=
t your system has 24 cores. Are you running on a 24 core system, or have yo=
u tuned garbage collection with JVM arguments.=0A=0AIn general, if you're n=
ot running into GC issues, tuning GC parameters is counter-productive. If y=
ou do have to tune GC parameters, lots of testing is in order.=0A=0AI notic=
ed that you also have an MQ Trace monitor running. Are you using MQ? Direct=
ly accessing an MQ service without going through a pool configured for grac=
eful restarts / retries can cause a system to become unresponsive. However,=
 I don't see any evidence of that in this thread dump.=0A=0AAs I've said of=
f line, it's really difficult to see what's consuming CPU from one thread d=
ump. Here's how to start figuring out what is going on with your system.=0A=
=0A1. Keep access logs=0A=0AIf you don't, then start. You'll want the acces=
s logs to replay on a test environment to see if you can recreate the probl=
em. JMeter is a good tool for replaying information from access logs.=0A=0A=
2. When the problem occurs=0A=0Aa. Multiple thread dumps, about 5 seconds a=
part. Use a tool like jstack so it's scriptable=0A=0A=A0 =A0jstack -l [proc=
ess-id]=0A=A0 =A0where [process-id] is the process id of the distressed Tom=
cat=0A=0AThe -l generates a long listing, and may not be necessary. You'll =
need to have the right permissions (either root or the user running the JVM=
 being targeted with the process id).=0A=0Ab. At the same time use somethin=
g like the following to see which thread is consuming CPU:=0A=0A=A0 =A0ps -=
L -o pcpu,lwp -p [process-id]=0A=A0 =A0where [process-id] is the process id=
 of the distressed Tomcat=0A=0AThis will show all the threads of the proces=
s, the percentage of CPU used for each thread, and the thread process ID. Y=
ou can then correlate the thread process ID with the thread dump to see exa=
ctly what is consuming the CPU.=0A=0AThis will generate tons of output, so =
it's best to put both in a script and direct the output to files.=0A=0ANow =
you'll end up with the following:=0A=0A1. What requests were being made of =
your server when the problem occurred=0A2. Multiple thread dumps while the =
problem is occurring=0A3. The identity of the thread (or threads) that is c=
onsuming the CPU=0A=0AOnce you get this information, you'll be in a much be=
tter position to determine what is causing your problems.=0A=0A. . . . just=
 my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 19:13:18 2012
Return-Path: <users-return-235399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5B339244
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 19:13:18 +0000 (UTC)
Received: (qmail 72468 invoked by uid 500); 10 Jul 2012 19:13:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72292 invoked by uid 500); 10 Jul 2012 19:13:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72272 invoked by uid 99); 10 Jul 2012 19:13:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 19:13:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 19:13:06 +0000
Received: from [192.168.245.129] (p549E14BC.dip0.t-ipconnect.de [84.158.20.188])
	by tor.combios.es (Postfix) with ESMTPA id 4F3A6DA063A
	for <users@tomcat.apache.org>; Tue, 10 Jul 2012 21:12:41 +0200 (CEST)
Message-ID: <4FFC7EA1.3050709@ice-sa.com>
Date: Tue, 10 Jul 2012 21:12:33 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for multiple
 websites on a single RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com> <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com> <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com>
In-Reply-To: <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Mark Eggers wrote:
...

> 
> . . . . just my two cents.

As a consultant in my professional capacity, I'd charge just about 100,000 times more for 
that.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 19:26:11 2012
Return-Path: <users-return-235400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A94569FD1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 19:26:11 +0000 (UTC)
Received: (qmail 9685 invoked by uid 500); 10 Jul 2012 19:26:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9473 invoked by uid 500); 10 Jul 2012 19:26:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9464 invoked by uid 99); 10 Jul 2012 19:26:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 19:26:08 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.75] (HELO nm12.bullet.mail.ne1.yahoo.com) (98.138.90.75)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 19:25:59 +0000
Received: from [98.138.90.54] by nm12.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:25:37 -0000
Received: from [98.138.88.239] by tm7.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:25:37 -0000
Received: from [127.0.0.1] by omp1039.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:25:37 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 627119.20617.bm@omp1039.mail.ne1.yahoo.com
Received: (qmail 86866 invoked by uid 60001); 10 Jul 2012 19:25:37 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341948337; bh=njK6KX/5mygN9QhYVMoH6ZQe9OvWUN/fwaBd3rMzIoU=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=ZsiMMC6g1FC/FuN04PgWRPjidlkHKXIEDWXcQc62Xddp1bJURQEjtR+Cb3gfivOHCIGjjooMlwaPwez0MdrdwtloGzMeJdl/qgejRdsqudFu2gVS7ZCeqJMaujjSzGusD7pMeS6Kt7V+Pji9qp+BQooANp7tAeB2FiMXHHHMfog=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=vA8ftPU7ec9GI3uyu6TpVL2pkcU3ruJ8xm2tFljY7JfWws5DnRL7xRjB5aaS857RJmd0Ygv/agcWxLWpTwX6EBeJG7KNEmv3/p+dXoQ1DskvEULGaFf7lvJ4gf3Nl6mWU3ow22+TxasD/jlFIbwJIGEZTQVrvbKV5d5gj2nLiB0=;
X-YMail-OSG: upL9e8IVM1nv1WRWvHLOTrpHxtZ9afDVfVPt_wvnLmLSE59
 evv.cp._W_4OVSerngk6znW_54EAkAn316vKbJfMjWQT7E5YWdrqRdP4YSa7
 _2KpfAmpDa79DszA3QOgbm4RgRfHzIEZIlsExOmSMDyuERlORhfiyWSnvwAL
 IUTESD1irWztLTjlNcrkqMT7GlKwexrgsMyFjzeCJckhp77UU8lTMVWjq3ou
 W5Za.dTVBoCmhtkZ_tgM4eXSy3DM_nUJkffzjmZzIULtbRUVRV1InkszH_xz
 gQvish5c6anGyZUBm8l15vnB8lttB_UU7GXUrOnAK78I8m_jkFKwgbLRTiw9
 i724KCYDu3MOrmi3yJWeE8o2QodlwwrQ5WgjoYU0Owtgrp71zIvtmT_6mJfA
 8qcTbVatyk5Yqj2l.F76WwHc76GwXsrF9hQmGt4t825UXcuJDzAc6B81qHws
 CiQgGAdCKHhjnq4KIR3G5OjN.3mPjyPLEKY3OpSAWPpWDPQPOgKQFPdHDwBB
 iR3OyMbvEB6UpZDHbB_16.mV3aH8vlnpoZhqjNs0Da_PL_Kca7_R6DgIxUsf
 .ZdHq1k9cZq5bf1Gi_DYNZE5oOad8uNhvEKWftuamenEAb6Kv1zQMbhMwlQl
 U91_KybhrEc9B.rOXmn9g1iOOzzLQC2lj2WBWhPzJOxo86kYT7eiTKWeT0VZ
 g9hq8pTI3tEjnwt6d8OfHNOSnl0BrbOxKBluVwX9S1IhWTzv58WbHXIdql1o
 6v8v9awWddknUJvN0gReJMuu1pXMAQUIl.cQFdw--
Received: from [71.129.42.43] by web125502.mail.ne1.yahoo.com via HTTP; Tue, 10 Jul 2012 12:25:37 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com>
Message-ID: <1341948337.86142.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Tue, 10 Jul 2012 12:25:37 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: war file extraction issues in tomcat 5.5
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Rajesh,=0A=0AI'm not quite sure where to start with this. I'll make a few c=
omments inline. The comments will be bracketed with:=0A=0A=3D=3D=3D=3D=3D C=
OMMENT =3D=3D=3D=3D=3D=0A=0Aso that they're easier to see.=0A=0AHowever, yo=
u really need to read and understand the following documentation.=0A=0Ahttp=
://tomcat.apache.org/tomcat-5.5-doc/index.html=0A=0A=0APlease note that Tom=
cat 5.5 is rapidly approaching EOL. It would be a good idea to move to at l=
east Tomcat 6 (and preferably Tomcat 7) if at all possible.=0A=0A----- Orig=
inal Message -----=0A> From: Rajesh Kumar <rajeshkumarmahto84@gmail.com>=0A=
> To: users@tomcat.apache.org=0A> Cc: =0A> Sent: Monday, July 9, 2012 11:56=
 PM=0A> Subject: war file extraction issues in tomcat 5.5=0A> =0A> I am fin=
ding many issues in it but still not able to resolve this. Is there=0A> any=
 expert opinion on this... I have this setup in Cpanel.=0A> =0A> Apache Tom=
cat/5.5.35 OS - Linux 2.6.18-028stab099.3 JVM Version:=0A> 1.6.0_29-b11=0A>=
 =0A> I have added export JAVA_OPTS=3D"-XX:PermSize=3D128M -XX:MaxPermSize=
=3D524M"=A0=0A> in=0A> catlina.sh but dint help.=0A=0A=3D=3D=3D=3D=3D COMME=
NT =3D=3D=3D=3D=3D=0A=0AThis has nothing to do with your problem. This does=
n't even increase heap memory. It increases permgen memory, which is a perm=
anent storage space for the JVM. For example, class definitions are stored =
here.=0A=0AYou probably wanted to expand heap memory. However by default he=
ap memory is 256 M and should be enough for small to medium sized applicati=
ons.=0A=0ADon't add this to JAVA_OPTS, because this will add memory to both=
 the Tomcat process and the shutdown process. Add it to CATALINA_OPTS inste=
ad.=0A=0AFinally, don't edit catalina.sh. Create a file called setenv.sh in=
 $CATALINA_HOME/bin. Add your options there.=0A=0A=3D=3D=3D=3D=3D COMMENT =
=3D=3D=3D=3D=3D=0A=0A=0A> =0A> =0A> *Log file info in catalina.err*=0A> =0A=
> =0A> **=0A> =0A> Jul 10, 2012 3:23:16 AM org.apache.catalina.core.AprLife=
cycleListener init=0A> =A0 =A0 INFO: The APR based Apache Tomcat Native lib=
rary which allows=0A> optimal performance in production environments was no=
t found on the=0A> java.library.path:=0A> /usr/local/jdk/jre/lib/i386/clien=
t:/usr/local/jdk/jre/lib/i386:/usr/java/packages/lib/i386:/lib:/usr/lib=0A>=
 =A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.coyote.http11.Http11BaseProtoco=
l init=0A> =A0 =A0 INFO: Initializing Coyote HTTP/1.1 on http-8080=0A> =A0 =
=A0 Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.Catalina load=0A> =
=A0 =A0 INFO: Initialization processed in 434 ms=0A> =A0 =A0 Jul 10, 2012 3=
:23:17 AM org.apache.catalina.core.StandardService start=0A> =A0 =A0 INFO: =
Starting service Catalina=0A> =A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.ca=
talina.core.StandardEngine start=0A> =A0 =A0 INFO: Starting Servlet Engine:=
 Apache Tomcat/5.5.35=0A> =A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.catali=
na.core.StandardHost start=0A> =A0 =A0 INFO: XML validation disabled=0A> =
=A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.HostConfig depl=
oyWAR=0A> =A0 =A0 INFO: Deploying web application archive sample.war=0A> =
=A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.catalina.startup.ContextConfig i=
nit=0A> =A0 =A0 SEVERE: Exception fixing docBase: {0}=0A=0A=0A=3D=3D=3D=3D=
=3D COMMENT =3D=3D=3D=3D=3D=A0=0A=0A=0AFrom the above line, it looks like y=
ou've not specified the docBase properly.=0A=0A=0A=3D=3D=3D=3D=3D COMMENT =
=3D=3D=3D=3D=3D=A0=0A=0A=0A> =A0 =A0 java.io.FileNotFoundException:=0A> /ho=
me/surgnet/public_html/sample/META-INF/MANIFEST.MF (No such file or=0A> dir=
ectory)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputStream.open(Native=
 Method)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputStream.<init>(Fil=
eOutputStream.java:194)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputSt=
ream.<init>(FileOutputStream.java:145)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at org.a=
pache.catalina.startup.ExpandWar.expand(ExpandWar.java:457)=0A> =A0 =A0 =A0=
 =A0 =A0 =A0 at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java=
:173)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.Conte=
xtConfig.fixDocBase(ContextConfig.java:864)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =
=0A> org.apache.catalina.startup.ContextConfig.init(ContextConfig.java:999)=
=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.ContextCon=
fig.lifecycleEvent(ContextConfig.java:279)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =
=0A> org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycle=
Support.java:120)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.c=
ore.StandardContext.init(StandardContext.java:5095)=0A> =A0 =A0 =A0 =A0 =A0=
 =A0 at =0A> org.apache.catalina.core.StandardContext.start(StandardContext=
.java:4024)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.Co=
ntainerBase.addChildInternal(ContainerBase.java:760)=0A> =A0 =A0 =A0 =A0 =
=A0 =A0 at =0A> org.apache.catalina.core.ContainerBase.addChild(ContainerBa=
se.java:740)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.S=
tandardHost.addChild(StandardHost.java:544)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =
=0A> org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:884)=
=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.HostConfig=
.deployWARs(HostConfig.java:737)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.ap=
ache.catalina.startup.HostConfig.deployApps(HostConfig.java:498)=0A> =A0 =
=A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.HostConfig.start(Ho=
stConfig.java:1203)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina=
.startup.HostConfig.lifecycleEvent(HostConfig.java:319)=0A> =A0 =A0 =A0 =A0=
 =A0 =A0 at =0A> org.apache.catalina.util.LifecycleSupport.fireLifecycleEve=
nt(LifecycleSupport.java:120)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apach=
e.catalina.core.ContainerBase.start(ContainerBase.java:1022)=0A> =A0 =A0 =
=A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.StandardHost.start(Standar=
dHost.java:736)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.cor=
e.ContainerBase.start(ContainerBase.java:1014)=0A> =A0 =A0 =A0 =A0 =A0 =A0 =
at =0A> org.apache.catalina.core.StandardEngine.start(StandardEngine.java:4=
43)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.StandardSe=
rvice.start(StandardService.java:448)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> o=
rg.apache.catalina.core.StandardServer.start(StandardServer.java:700)=0A> =
=A0 =A0 =A0 =A0 =A0 =A0 at org.apache.catalina.startup.Catalina.start(Catal=
ina.java:552)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at sun.reflect.NativeMethodAccess=
orImpl.invoke0(Native Method)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun.refle=
ct.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)=0A> =
=A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun.reflect.DelegatingMethodAccessorImpl.in=
voke(DelegatingMethodAccessorImpl.java:25)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at j=
ava.lang.reflect.Method.invoke(Method.java:597)=0A> =A0 =A0 =A0 =A0 =A0 =A0=
 at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)=0A> =A0=
 =A0 =A0 =A0 =A0 =A0 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native=
 Method)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun.reflect.NativeMethodAccess=
orImpl.invoke(NativeMethodAccessorImpl.java:39)=0A> =A0 =A0 =A0 =A0 =A0 =A0=
 at =0A> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAc=
cessorImpl.java:25)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.lang.reflect.Method=
.invoke(Method.java:597)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.com=
mons.daemon.support.DaemonLoader.start(DaemonLoader.java:243)=0A=0A=3D=3D=
=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=A0=0A=0AFrom the above stack trace, it do=
esn't look like Tomcat is finding a WAR file where you said it should be fo=
und. This could be due to permissions problems, it could be due to configur=
ation problems, it could be due to the fact that what you've pointed to is =
not a WAR file (or an exploded WAR file).=0A=0A=3D=3D=3D=3D=3D COMMENT =3D=
=3D=3D=3D=3D=0A=0A> =A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.catalina.sta=
rtup.HostConfig deployWAR=0A> =A0 =A0 INFO: Deploying web application archi=
ve surgeryplanet.war=0A> =A0 =A0 Jul 10, 2012 3:23:17 AM org.apache.catalin=
a.startup.ContextConfig init=0A> =A0 =A0 SEVERE: Exception fixing docBase: =
{0}=0A> =A0 =A0 java.io.FileNotFoundException:=0A> /home/surgnet/public_htm=
l/surgeryplanet/META-INF/MANIFEST.MF (No such=0A> file or directory)=0A> =
=A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputStream.open(Native Method)=0A>=
 =A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputStream.<init>(FileOutputStrea=
m.java:194)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.io.FileOutputStream.<init>(=
FileOutputStream.java:145)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at org.apache.catali=
na.startup.ExpandWar.expand(ExpandWar.java:457)=0A> =A0 =A0 =A0 =A0 =A0 =A0=
 at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:173)=0A> =
=A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.ContextConfig.f=
ixDocBase(ContextConfig.java:864)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.a=
pache.catalina.startup.ContextConfig.init(ContextConfig.java:999)=0A> =A0 =
=A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.ContextConfig.lifec=
ycleEvent(ContextConfig.java:279)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.a=
pache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.ja=
va:120)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.Standa=
rdContext.init(StandardContext.java:5095)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =
=0A> org.apache.catalina.core.StandardContext.start(StandardContext.java:40=
24)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.ContainerB=
ase.addChildInternal(ContainerBase.java:760)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at=
 =0A> org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:74=
0)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.StandardHos=
t.addChild(StandardHost.java:544)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.a=
pache.catalina.startup.HostConfig.deployWAR(HostConfig.java:884)=0A> =A0 =
=A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.HostConfig.deployWA=
Rs(HostConfig.java:737)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.cata=
lina.startup.HostConfig.deployApps(HostConfig.java:498)=0A> =A0 =A0 =A0 =A0=
 =A0 =A0 at =0A> org.apache.catalina.startup.HostConfig.start(HostConfig.ja=
va:1203)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.startup.Ho=
stConfig.lifecycleEvent(HostConfig.java:319)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at=
 =0A> org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl=
eSupport.java:120)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.=
core.ContainerBase.start(ContainerBase.java:1022)=0A> =A0 =A0 =A0 =A0 =A0 =
=A0 at =0A> org.apache.catalina.core.StandardHost.start(StandardHost.java:7=
36)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.ContainerB=
ase.start(ContainerBase.java:1014)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.=
apache.catalina.core.StandardEngine.start(StandardEngine.java:443)=0A> =A0 =
=A0 =A0 =A0 =A0 =A0 at =0A> org.apache.catalina.core.StandardService.start(=
StandardService.java:448)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.ca=
talina.core.StandardServer.start(StandardServer.java:700)=0A> =A0 =A0 =A0 =
=A0 =A0 =A0 at org.apache.catalina.startup.Catalina.start(Catalina.java:552=
)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at sun.reflect.NativeMethodAccessorImpl.invok=
e0(Native Method)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun.reflect.NativeMet=
hodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)=0A> =A0 =A0 =A0 =
=A0 =A0 =A0 at =0A> sun.reflect.DelegatingMethodAccessorImpl.invoke(Delegat=
ingMethodAccessorImpl.java:25)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.lang.ref=
lect.Method.invoke(Method.java:597)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at org.apac=
he.catalina.startup.Bootstrap.start(Bootstrap.java:295)=0A> =A0 =A0 =A0 =A0=
 =A0 =A0 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)=0A>=
 =A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun.reflect.NativeMethodAccessorImpl.invok=
e(NativeMethodAccessorImpl.java:39)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> sun=
.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.j=
ava:25)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at java.lang.reflect.Method.invoke(Meth=
od.java:597)=0A> =A0 =A0 =A0 =A0 =A0 =A0 at =0A> org.apache.commons.daemon.=
support.DaemonLoader.start(DaemonLoader.java:243)=0A> =A0 =A0 Jul 10, 2012 =
3:23:18 AM=0A=0A=3D=3D=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=0A=0AThis is either=
 a double deployment, or you've tried deploying your web application twice.=
 I suspect the former, which would match hints at your configuration proble=
ms.=0A=0A=3D=3D=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=0A=0A> org.apache.catalina=
.loader.WebappClassLoader validateJarFile=0A> =A0 =A0 INFO: =0A> validateJa=
rFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.n=
et/surgeryplanet/WEB-INF/lib/javaee.jar)=0A> - jar not loaded. See Servlet =
Spec 2.3, section 9.7.2. Offending=0A> class: javax/servlet/Servlet.class=
=0A> =A0 =A0 Jul 10, 2012 3:23:18 AM=0A> org.apache.catalina.loader.WebappC=
lassLoader validateJarFile=0A> =A0 =A0 INFO: =0A> validateJarFile(/usr/loca=
l/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net/surgeryplane=
t/WEB-INF/lib/jsp-api.jar)=0A=0A=3D=3D=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=0A=
=0ADon't put servlet, jsp, jstl JARs in your WEB-INF/lib. I suspect that yo=
u're using Eclipse to write code, and you've not defined a local Tomcat ser=
ver. If you use Eclipse and need these JARs on your classpath, then do the =
following:=0A=0A1. Install a local copy of Tomcat 5.5.35 by unzipping the z=
ip file downloaded from tomcat.apache.org=0A2. Add the server to Eclipse=0A=
3. Associate your project with the server in Eclipse=0A=0ANow Eclipse will =
add the JAR files in at least common/lib to your classpath. Eclipse may inc=
lude the JAR files in server/lib and shared/lib, but I don't know since I d=
on't write for Tomcat 5.5 or use Eclipse much.=0A=0A=3D=3D=3D=3D=3D COMMENT=
 =3D=3D=3D=3D=3D=0A=0A> - jar not loaded. See Servlet Spec 2.3, section 9.7=
.2. Offending=0A> class: javax/servlet/jsp/JspPage.class=0A> =A0 =A0 Jul 10=
, 2012 3:23:34 AM org.apache.catalina.core.StandardContext start=0A> =A0 =
=A0 SEVERE: Error listenerStart=0A> =A0 =A0 Jul 10, 2012 3:23:34 AM org.apa=
che.catalina.core.StandardContext start=0A> =A0 =A0 SEVERE: Context [/surge=
ryplanet] startup failed due to previous errors=0A> =A0 =A0 Jul 10, 2012 3:=
23:35 AM org.apache.catalina.core.StandardHost start=0A> =A0 =A0 INFO: XML =
validation disabled=0A> =A0 =A0 Jul 10, 2012 3:23:35 AM org.apache.catalina=
.core.ApplicationContext log=0A> =A0 =A0 INFO: ContextListener: contextInit=
ialized()=0A> =A0 =A0 Jul 10, 2012 3:23:35 AM org.apache.catalina.core.Appl=
icationContext log=0A> =A0 =A0 INFO: SessionListener: contextInitialized()=
=0A> =A0 =A0 Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationCo=
ntext log=0A> =A0 =A0 INFO: ContextListener: contextInitialized()=0A> =A0 =
=A0 Jul 10, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log=
=0A> =A0 =A0 INFO: SessionListener: contextInitialized()=0A> =A0 =A0 Jul 10=
, 2012 3:23:35 AM org.apache.catalina.core.ApplicationContext log=0A> =A0 =
=A0 INFO: org.apache.webapp.balancer.BalancerFilter: init():=0A> ruleChain:=
 [org.apache.webapp.balancer.RuleChain:=0A> [org.apache.webapp.balancer.rul=
es.URLStringMatchRule: Target string:=0A> News / Redirect URL: http://www.c=
nn.com],=0A> [org.apache.webapp.balancer.rules.RequestParameterRule: Target=
 param=0A> name: paramName / Target param value: paramValue / Redirect URL:=
=0A> http://www.yahoo.com],=0A> [org.apache.webapp.balancer.rules.AcceptEve=
rythingRule: Redirect URL:=0A> http://jakarta.apache.org]]=0A> =A0 =A0 Jul =
10, 2012 3:23:35 AM org.apache.coyote.http11.Http11BaseProtocol start=0A> =
=A0 =A0 INFO: Starting Coyote HTTP/1.1 on http-8080=0A> =A0 =A0 Jul 10, 201=
2 3:23:35 AM org.apache.jk.common.ChannelSocket init=0A> =A0 =A0 INFO: JK: =
ajp13 listening on /0.0.0.0:8009=0A> =A0 =A0 Jul 10, 2012 3:23:35 AM org.ap=
ache.jk.server.JkMain start=0A> =A0 =A0 INFO: Jk running ID=3D0 time=3D0/14=
=A0 config=3Dnull=0A> =A0 =A0 Jul 10, 2012 3:23:35 AM org.apache.catalina.s=
toreconfig.StoreLoader load=0A> =A0 =A0 INFO: Find registry server-registry=
.xml at classpath resource=0A> =A0 =A0 Jul 10, 2012 3:23:36 AM org.apache.c=
atalina.startup.Catalina start=0A> =A0 =A0 INFO: Server startup in 19200 ms=
=0A> =A0 =A0 Jul 10, 2012 3:25:29 AM org.apache.catalina.core.ApplicationCo=
ntext log=0A> =A0 =A0 INFO: HTMLManager: init: Associated with Deployer=0A>=
 'Catalina:type=3DDeployer,host=3Dsurgeryplanet.net'=0A> =A0 =A0 Jul 10, 20=
12 3:25:29 AM org.apache.catalina.core.ApplicationContext log=0A> =A0 =A0 I=
NFO: HTMLManager: init: Global resources are available=0A> =A0 =A0 Jul 10, =
2012 3:25:29 AM org.apache.catalina.core.ApplicationContext log=0A> =A0 =A0=
 INFO: HTMLManager: list: Listing contexts for virtual host=0A> 'surgerypla=
net.net'=0A> =A0 =A0 Jul 10, 2012 3:25:34 AM org.apache.catalina.core.Appli=
cationContext log=0A> =A0 =A0 INFO: HTMLManager: start: Starting web applic=
ation at =0A> '/surgeryplanet'=0A> =A0 =A0 Jul 10, 2012 3:25:35 AM=0A> org.=
apache.catalina.loader.WebappClassLoader validateJarFile=0A> =A0 =A0 INFO: =
=0A> validateJarFile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/=
surgeryplanet.net/surgeryplanet/WEB-INF/lib/javaee.jar)=0A> - jar not loade=
d. See Servlet Spec 2.3, section 9.7.2. Offending=0A> class: javax/servlet/=
Servlet.class=0A> =A0 =A0 Jul 10, 2012 3:25:35 AM=0A> org.apache.catalina.l=
oader.WebappClassLoader validateJarFile=0A> =A0 =A0 INFO: =0A> validateJarF=
ile(/usr/local/jakarta/apache-tomcat-5.5.35/work/Catalina/surgeryplanet.net=
/surgeryplanet/WEB-INF/lib/jsp-api.jar)=0A> - jar not loaded. See Servlet S=
pec 2.3, section 9.7.2. Offending=0A> class: javax/servlet/jsp/JspPage.clas=
s=0A> =A0 =A0 Jul 10, 2012 3:25:51 AM org.apache.catalina.core.StandardCont=
ext start=0A> =A0 =A0 SEVERE: Error listenerStart=0A> =A0 =A0 Jul 10, 2012 =
3:25:51 AM org.apache.catalina.core.StandardContext start=0A> =A0 =A0 SEVER=
E: Context [/surgeryplanet] startup failed due to previous errors=0A> =A0 =
=A0 Jul 10, 2012 3:25:52 AM org.apache.catalina.core.ApplicationContext log=
=0A> =A0 =A0 INFO: HTMLManager: list: Listing contexts for virtual host=0A>=
 'surgeryplanet.net'=0A> =0A=3D=3D=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=A0=0A=
=0A=0AIf this is all from a single start up, it appears that there are mult=
iple copies of your WAR file.=0A=0AIt also appears that your server.xml is =
not functioning.=0A=0AIt also appears that you have the example application=
s running.=0A=0AIt also appears that your web application needs some seriou=
s modifications.=0A=0AIf you are going to use virtual hosts with Tomcat 5.5=
.x, then add this to your server.xml:=0A=0A<Host name=3D"surgeryplanet.net"=
=0A=A0 =A0 =A0 appBase=3D"/home/surgnet/public_html"=0A=A0 =A0 =A0 unpackWA=
Rs=3D"true"=0A=A0 =A0 =A0 autoDeploy=3D"true"=0A=A0 =A0 =A0 xmlValidation=
=3D"false"=0A=A0 =A0 =A0 xmlNamespaceAware=3D"false">=0A</Host>=0A=0AThis i=
s an additional Host element and goes right below the original host element=
. Make sure that the user running Tomcat has read/execute access to this di=
rectory read access to all the WAR files inside.=0A=0ANow, just drop all of=
 your WAR files into=A0/home/surgnet/public_html.=0A=0AIf you want a defaul=
t application for this site, just drop a ROOT.war (case is important) file =
into /home/surgnet/public_html.=0A=0AOne last note: I hope that you are not=
 also allowing Apache HTTPD to serve this area via http://hostname/~surgnet=
/. This will create a potential security problem, and will end up serving y=
our JSP files as plain text.=0A=0A=3D=3D=3D=3D=3D COMMENT =3D=3D=3D=3D=3D=
=0A=0A=0A. . . . just my nickel=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 19:34:10 2012
Return-Path: <users-return-235401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39C07C28C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 19:34:10 +0000 (UTC)
Received: (qmail 35977 invoked by uid 500); 10 Jul 2012 19:34:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35834 invoked by uid 500); 10 Jul 2012 19:34:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35823 invoked by uid 99); 10 Jul 2012 19:34:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 19:34:06 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.253] (HELO nm4-vm0.bullet.mail.ne1.yahoo.com) (98.138.90.253)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 19:33:58 +0000
Received: from [98.138.90.51] by nm4.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
Received: from [98.138.89.251] by tm4.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
Received: from [127.0.0.1] by omp1043.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 882416.68804.bm@omp1043.mail.ne1.yahoo.com
Received: (qmail 48902 invoked by uid 60001); 10 Jul 2012 19:33:37 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341948817; bh=aY6GQHqJyRD6z9shPPZeAFpi90zmnb7vxDO0zS0vfOc=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=6L5xvTupXaCbqNac+FHKN+KZ69cxlKfOy1CaQXdtVkqwW22Y3drWuDem51esjhasoWDN9uWM4DG35ou+hw4Q5zTTF4ykahcHQE5QsD7/sfcOOfQx/xVdwnCUZYvgETVv2+oKO0IYN9exg/pNwmF4Fir3cTAsNCptt8yK9tSy59U=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YwCvMAC/UXep3Amk1lXHoQ5++2adrxz6mXFoJlxAKFPmKdkFCMg+qP0/ngUd6Ij96cHV/GjHqze/00A9GRxxMvF2qCvFFoeHovvBTnj7ku04YdowYD5qyxERDg3nhi/PMDttWZXKLNlal3X9EabVO4SQldeGbHHmJJLEvNe9Mow=;
X-YMail-OSG: FCtsBcAVM1lDAo3RgUe8JnhLkT0vScGgINORgqC6dPj16jK
 FgUFa1ATDW7xRA9UznGeF_b_oozB2vSCP_MAfBCcYKXVuFVBbTGA799L6GGt
 jCdWl8AKM6PVCkVZoHJghLZ6JaefSBl2Ww.V6ylwW5UlFZzIzJOuDn0xmjlX
 w6j6oyFqle8LiXx8h9bsbmWDUWMg.MExuhKf.18Xp0bmGq4a0VW.ki3FRphf
 4G0QeWrDQ9D5GPuWPgoYA8ssIKlxGRXAejV7izyJegtgOeunX_8EJzjUyjVW
 J05iAet02Bf.iUlh5A9Duf09uIrReGT8qQJsHXdxqACqPPCTO7aSqV.2.ezR
 v03JLELmzajzm7xruPvzc1Gg6bRewYLqczjuF30C3CeE9EIYRQlb08.sLMWY
 oFIaHwf.FTmpjAuT7pGVtgzPKTqU6ta8HzwGr3dHu2u_YchHKRW6sI51CI1Y
 WjujtpTTBltyxTtWcLSpJYyMQJGc-
Received: from [71.129.42.43] by web125503.mail.ne1.yahoo.com via HTTP; Tue, 10 Jul 2012 12:33:37 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com> <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com> <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com> <4FFC7EA1.3050709@ice-sa.com>
Message-ID: <1341948817.36260.YahooMailNeo@web125503.mail.ne1.yahoo.com>
Date: Tue, 10 Jul 2012 12:33:37 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for multiple websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FFC7EA1.3050709@ice-sa.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----=0A=0A> From: Andr=E9 Warnier <aw@ice-sa.com>=
=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: Tue=
sday, July 10, 2012 12:12 PM=0A> Subject: Re: [EXTERNAL] Re: Re: General Ar=
chitecture Question for multiple websites on a single RedHat server=0A> =0A=
> Mark Eggers wrote:=0A> ...=0A> =0A>> =0A>>  . . . . just my two cents.=0A=
> =0A> As a consultant in my professional capacity, I'd charge just about 1=
00,000 =0A> times more for that.=0A=0A=0AWriting quick how-to mail messages=
 on a mailing list - cheap.=0A=0AAs a consultant in my professional capacit=
y, writing the scripts, running the analysis, replaying the access log on a=
 test system, helping / dealing with developers, system admins, system arch=
itects, management . . . agreed.=0A=0AOh, and document, document, document.=
=0A(but please to always call it research - apologies to Tom Lehrer)=0A=0A/=
mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 19:34:14 2012
Return-Path: <users-return-235402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E828FC28F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 19:34:13 +0000 (UTC)
Received: (qmail 37743 invoked by uid 500); 10 Jul 2012 19:34:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37669 invoked by uid 500); 10 Jul 2012 19:34:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37630 invoked by uid 99); 10 Jul 2012 19:34:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 19:34:08 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.102] (HELO nm35-vm6.bullet.mail.ne1.yahoo.com) (98.138.229.102)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jul 2012 19:33:59 +0000
Received: from [98.138.90.56] by nm35.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
Received: from [98.138.86.156] by tm9.bullet.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
Received: from [127.0.0.1] by omp1014.mail.ne1.yahoo.com with NNFMP; 10 Jul 2012 19:33:37 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 886935.9532.bm@omp1014.mail.ne1.yahoo.com
Received: (qmail 48902 invoked by uid 60001); 10 Jul 2012 19:33:37 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1341948817; bh=aY6GQHqJyRD6z9shPPZeAFpi90zmnb7vxDO0zS0vfOc=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=6L5xvTupXaCbqNac+FHKN+KZ69cxlKfOy1CaQXdtVkqwW22Y3drWuDem51esjhasoWDN9uWM4DG35ou+hw4Q5zTTF4ykahcHQE5QsD7/sfcOOfQx/xVdwnCUZYvgETVv2+oKO0IYN9exg/pNwmF4Fir3cTAsNCptt8yK9tSy59U=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YwCvMAC/UXep3Amk1lXHoQ5++2adrxz6mXFoJlxAKFPmKdkFCMg+qP0/ngUd6Ij96cHV/GjHqze/00A9GRxxMvF2qCvFFoeHovvBTnj7ku04YdowYD5qyxERDg3nhi/PMDttWZXKLNlal3X9EabVO4SQldeGbHHmJJLEvNe9Mow=;
X-YMail-OSG: FCtsBcAVM1lDAo3RgUe8JnhLkT0vScGgINORgqC6dPj16jK
 FgUFa1ATDW7xRA9UznGeF_b_oozB2vSCP_MAfBCcYKXVuFVBbTGA799L6GGt
 jCdWl8AKM6PVCkVZoHJghLZ6JaefSBl2Ww.V6ylwW5UlFZzIzJOuDn0xmjlX
 w6j6oyFqle8LiXx8h9bsbmWDUWMg.MExuhKf.18Xp0bmGq4a0VW.ki3FRphf
 4G0QeWrDQ9D5GPuWPgoYA8ssIKlxGRXAejV7izyJegtgOeunX_8EJzjUyjVW
 J05iAet02Bf.iUlh5A9Duf09uIrReGT8qQJsHXdxqACqPPCTO7aSqV.2.ezR
 v03JLELmzajzm7xruPvzc1Gg6bRewYLqczjuF30C3CeE9EIYRQlb08.sLMWY
 oFIaHwf.FTmpjAuT7pGVtgzPKTqU6ta8HzwGr3dHu2u_YchHKRW6sI51CI1Y
 WjujtpTTBltyxTtWcLSpJYyMQJGc-
Received: from [71.129.42.43] by web125503.mail.ne1.yahoo.com via HTTP; Tue, 10 Jul 2012 12:33:37 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com> <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com> <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com> <4FFC7EA1.3050709@ice-sa.com>
Message-ID: <1341948817.36260.YahooMailNeo@web125503.mail.ne1.yahoo.com>
Date: Tue, 10 Jul 2012 12:33:37 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for multiple websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>,
  Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FFC7EA1.3050709@ice-sa.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

----- Original Message -----=0A=0A> From: Andr=E9 Warnier <aw@ice-sa.com>=
=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: Tue=
sday, July 10, 2012 12:12 PM=0A> Subject: Re: [EXTERNAL] Re: Re: General Ar=
chitecture Question for multiple websites on a single RedHat server=0A> =0A=
> Mark Eggers wrote:=0A> ...=0A> =0A>> =0A>>  . . . . just my two cents.=0A=
> =0A> As a consultant in my professional capacity, I'd charge just about 1=
00,000 =0A> times more for that.=0A=0A=0AWriting quick how-to mail messages=
 on a mailing list - cheap.=0A=0AAs a consultant in my professional capacit=
y, writing the scripts, running the analysis, replaying the access log on a=
 test system, helping / dealing with developers, system admins, system arch=
itects, management . . . agreed.=0A=0AOh, and document, document, document.=
=0A(but please to always call it research - apologies to Tom Lehrer)=0A=0A/=
mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 22:43:54 2012
Return-Path: <users-return-235403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5DA63CFCE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 22:43:54 +0000 (UTC)
Received: (qmail 52562 invoked by uid 500); 10 Jul 2012 22:43:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52515 invoked by uid 500); 10 Jul 2012 22:43:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52504 invoked by uid 99); 10 Jul 2012 22:43:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 22:43:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 22:43:42 +0000
Received: from [192.168.245.129] (p549E14BC.dip0.t-ipconnect.de [84.158.20.188])
	by tor.combios.es (Postfix) with ESMTPA id 69AEBDA064F
	for <users@tomcat.apache.org>; Wed, 11 Jul 2012 00:43:19 +0200 (CEST)
Message-ID: <4FFCB003.7000908@ice-sa.com>
Date: Wed, 11 Jul 2012 00:43:15 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] war file extraction issues in tomcat 5.5
References: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com> <1341948337.86142.YahooMailNeo@web125502.mail.ne1.yahoo.com>
In-Reply-To: <1341948337.86142.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Mark Eggers wrote:
...

> 
> . . . . just my nickel

Better. Keep doing that, and you'll reach a normal consultancy tariff in about 12 of your 
thoughtful answers.
Which I think are worth as much; I hope you got that aspect of my earlier comment.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 10 23:53:19 2012
Return-Path: <users-return-235404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5DF2BDF3E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 10 Jul 2012 23:53:19 +0000 (UTC)
Received: (qmail 33758 invoked by uid 500); 10 Jul 2012 23:53:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33711 invoked by uid 500); 10 Jul 2012 23:53:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33698 invoked by uid 99); 10 Jul 2012 23:53:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 23:53:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jul 2012 23:53:08 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id YaNA1j0050Fqzac51nspZ0; Tue, 10 Jul 2012 23:52:49 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id Ynsm1j00J1FXhpX3UnsmLb; Tue, 10 Jul 2012 23:52:47 +0000
Message-ID: <4FFCC04D.8040501@christopherschultz.net>
Date: Tue, 10 Jul 2012 19:52:45 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Equivalent of Web Service Extension in IIS6 on XP Professional
References: <4FFC56CC.5010607@christopherschultz.net> <1SodQx-10JV9E0@fwd17.aul.t-online.de>
In-Reply-To: <1SodQx-10JV9E0@fwd17.aul.t-online.de>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/10/12 12:37 PM, verlag.preisser@t-online.de wrote:
> Hi,
> 
>> On 7/10/12 3:29 AM, Vijaya wrote:
>>> In order to configure the ISAPI Redirector , according to the 
>>> Apache documentation, I need to add a new Web Service Extension
>>> in IIS6. But the problem is that the web service extension
>>> option exists only on IIS6 on Windows 2003 server and not on XP
>>> pro.
>>> 
>>> Can anyone help me on how do I add the tomcat extension from
>>> IIS6 on XP professional?
> 
> According to the documentation, the step of adding the Isapi DLL to
> the allowed Web Extensions applies only to IIS 6.0 and above. 
> However, XP uses IIS 5.1, and there this option is not available,
> as extensions are automatically allowed to run.

Great, thanks for the note. Could you make a small documentation patch
and attach it to a new bugzilla issue? It's worth pointing out that
this step isn't required in IIS 5.1 (if that is indeed true).

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/8wE0ACgkQ9CaO5/Lv0PABiwCgtYYuOLKFp3KozDDGo4hDTIgg
jkMAn1hH9Y9EhTvJvIwwQrLmFjlczPS8
=pdWl
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 01:34:22 2012
Return-Path: <users-return-235405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40E9F9B89
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 01:34:22 +0000 (UTC)
Received: (qmail 42538 invoked by uid 500); 11 Jul 2012 01:34:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42366 invoked by uid 500); 11 Jul 2012 01:34:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42352 invoked by uid 99); 11 Jul 2012 01:34:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 01:34:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 01:34:11 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id YaY11j0030mv7h055pZppE; Wed, 11 Jul 2012 01:33:49 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id YpZl1j00h1FXhpX3XpZlby; Wed, 11 Jul 2012 01:33:46 +0000
Message-ID: <4FFCD7F9.1080402@christopherschultz.net>
Date: Tue, 10 Jul 2012 21:33:45 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: war file extraction issues in tomcat 5.5
References: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com>
In-Reply-To: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Rajesh,

On 7/10/12 2:56 AM, Rajesh Kumar wrote:
> I am finding many issues in it but still not able to resolve this.
> Is there any expert opinion on this... I have this setup in
> Cpanel.
> 
> I have added export JAVA_OPTS="-XX:PermSize=128M
> -XX:MaxPermSize=524M" in catlina.sh but dint help.

As Mark Eggers says, these settings are not relevant. All comments he
makes about them are spot-on: move to startup.sh, use CATALINA_OPTS,
and you probably meant -Xms and -Xmx, though some people really do
need a huge PermGen. Are you sure you're one of them?

> SEVERE: Exception fixing docBase: {0} 
> java.io.FileNotFoundException: 
> /home/surgnet/public_html/sample/META-INF/MANIFEST.MF (No such file
> or directory) at java.io.FileOutputStream.open(Native Method) at
> java.io.FileOutputStream.<init>(FileOutputStream.java:194) at
> java.io.FileOutputStream.<init>(FileOutputStream.java:145) at
> org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:457)

ExpandWar.expand is trying to write to the file
/home/surgnet/public_html/sample/META-INF/MANIFEST.MF and it can't:
"No such file or directory" is a stupid exception message. What it
really means is that the parent directory
(/home/surgnet/public_html/sample/META-INF/) does not exist. Try a
simple test like this and you'll see you get the same exception message:

import java.io.*;

public class FileTest
{
  public static void main(String[] args)
    throws Exception
  {
    File file = new File("./nosuchdir/a_file");
    new FileOutputStream(file);
  }
}

So, the problem is that the parent directory doesn't exist. Why? Well,
ExpandWar.expand, on line 165 does this:

161	int last = name.lastIndexOf('/');
162 	if (last >= 0) {
163	 	File parent = new File(docBase,
164	 	name.substring(0, last));
165	 	parent.mkdirs();
166 	}

There is no check of the return value of parent.mkdirs(), which can
fail with no exception (part of the charm of the java.io package:
sometimes you get an exception and sometimes you don't).

Technically, one could argue that this is a bug in Tomcat (which I
will log, though it will probably not be fixed since it isn't serious
enough to warrant a fix to a Tomcat version which is in
maintenance-mode -- that is, one that really only gets security
updates) because the return value of File.mkdirs should really be
checked for false which indicates a problem. Then, an exception could
be thrown that says "I can't create [parent dir]" and bombs, so you
don't get the stupid FileNotFoundException.

At any rate, I highly suspect that this is a file-permissions error:
can your Tomcat user write to the /home/surgnet/public_html/sample/
directory? Remember that the user will require both write *and*
execute privileges to really use a directory on a *NIX filesystem.

> SEVERE: Exception fixing docBase: {0} 
> java.io.FileNotFoundException: 
> /home/surgnet/public_html/surgeryplanet/META-INF/MANIFEST.MF (No
> such file or directory) at java.io.FileOutputStream.open(Native
> Method) at
> java.io.FileOutputStream.<init>(FileOutputStream.java:194) at
> java.io.FileOutputStream.<init>(FileOutputStream.java:145) at
> org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:457) at
> org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:173)

This is certainly the same error.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/81/kACgkQ9CaO5/Lv0PDotACff+q6Z13Q4ofUK9iyQwqjdvWF
y8oAoKQCEe3ylZe2a3zD7+mGH92vZC2s
=Ohgw
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 02:01:04 2012
Return-Path: <users-return-235406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21E2B9C6E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 02:01:04 +0000 (UTC)
Received: (qmail 14683 invoked by uid 500); 11 Jul 2012 02:01:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14434 invoked by uid 500); 11 Jul 2012 02:01:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14386 invoked by uid 99); 11 Jul 2012 02:00:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 02:00:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 02:00:51 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id Yo0j1j00R1GhbT855q0ZhY; Wed, 11 Jul 2012 02:00:33 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id Yq0d1j00i1FXhpX3Tq0ekh; Wed, 11 Jul 2012 02:00:38 +0000
Message-ID: <4FFCDE3D.3040302@christopherschultz.net>
Date: Tue, 10 Jul 2012 22:00:29 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: war file extraction issues in tomcat 5.5
References: <CABHmB0Xw7A3DR6MqboEzS7mKjLWfJfaayP9_CSC2oFfwRBsozA@mail.gmail.com> <4FFCD7F9.1080402@christopherschultz.net>
In-Reply-To: <4FFCD7F9.1080402@christopherschultz.net>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

On 7/10/12 9:33 PM, Christopher Schultz wrote:
> Technically, one could argue that this is a bug in Tomcat (which I 
> will log, though it will probably not be fixed since it isn't
> serious enough to warrant a fix to a Tomcat version which is in 
> maintenance-mode -- that is, one that really only gets security 
> updates) because the return value of File.mkdirs should really be 
> checked for false which indicates a problem. Then, an exception
> could be thrown that says "I can't create [parent dir]" and bombs,
> so you don't get the stupid FileNotFoundException.

https://issues.apache.org/bugzilla/show_bug.cgi?id=53531

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/83j0ACgkQ9CaO5/Lv0PBosQCgr423Aiuvz+xB/qn/aXArpZto
spIAn3T0R4bKeyAXqgn+/nC8de7YXRV7
=HQOK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 12:22:12 2012
Return-Path: <users-return-235407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FDE39818
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 12:22:12 +0000 (UTC)
Received: (qmail 79447 invoked by uid 500); 11 Jul 2012 12:22:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78946 invoked by uid 500); 11 Jul 2012 12:22:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78870 invoked by uid 99); 11 Jul 2012 12:22:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 12:22:03 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.18.2.6] (HELO exprod7og117.obsmtp.com) (64.18.2.6)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jul 2012 12:21:54 +0000
Received: from mail-qa0-f44.google.com ([209.85.216.44]) (using TLSv1) by exprod7ob117.postini.com ([64.18.6.12]) with SMTP
	ID DSNKT/1vzQFtbu0Xuo0lSBk8braRTTc0FQCs@postini.com; Wed, 11 Jul 2012 05:21:34 PDT
Received: by qadz3 with SMTP id z3so3200649qad.17
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 05:21:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=Bqs0aCTjn8uvz1oIBwAU4ZWJQTukkETmeJtMwm0MlxI=;
        b=EscFAHDlUlpHrl/dcGfeaqDb9rAniM2wmXTpDGEMgLurgK3F7HsZLVlUqdW2tOrdPZ
         EChtddaP+lGOOyBXFTLK18cUdSqyeBu6WItpH7a2HLYIJ1Qcm3czoHgs1LwX6gIssLBL
         2+SV1ycKMUM0IERQkdzFHm7H1MtRfGLWzncF0hDWu9ohaHsaCjyCF8ylS1eghue43DiG
         trSm57iBQYW+EEOPfLwS6/eGG2Y/tbvhdopj6XSNRqXGOir6ZVNTP6lItYgK/ueDe2Z8
         IfAngwaO+gOgrCsZn/acHLoFzsfbUMyRzjtpP24XjtwGUNDiXXM65T/Bsw7Q7B7j6+8U
         1G+w==
Received: by 10.229.136.15 with SMTP id p15mr6312977qct.99.1342009292396; Wed,
 11 Jul 2012 05:21:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.80.83 with HTTP; Wed, 11 Jul 2012 05:21:12 -0700 (PDT)
In-Reply-To: <1341948817.36260.YahooMailNeo@web125503.mail.ne1.yahoo.com>
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com>
 <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com>
 <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com>
 <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com>
 <4FFC7EA1.3050709@ice-sa.com> <1341948817.36260.YahooMailNeo@web125503.mail.ne1.yahoo.com>
From: "Simon, Leonard" <leonard.simon@hsn.net>
Date: Wed, 11 Jul 2012 08:21:12 -0400
Message-ID: <CALgf6+nrZRR7FOf1Q7y67-odo_F9LEQhT-YTt7O_f=UB9GXO3Q@mail.gmail.com>
Subject: Re: [EXTERNAL] Re: Re: Re: General Architecture Question for multiple
 websites on a single RedHat server
To: Tomcat Users List <users@tomcat.apache.org>, Mark Eggers <its_toasted@yahoo.com>
Content-Type: multipart/alternative; boundary=00248c71184b28994a04c48ce393
X-Gm-Message-State: ALoCoQnSFCU5mrGgC77zP/41twFDYPxOQiImzzd3BSayqm/wFOhBQaarl3ezWiI/312A0pEPqnh/

--00248c71184b28994a04c48ce393
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Mark,
I really do appreciate your time in assisting,
It's these up front sessions that could lead to consulting gigs later on.
Free consultations pay off in the end.



On Tue, Jul 10, 2012 at 3:33 PM, Mark Eggers <its_toasted@yahoo.com> wrote:

> ----- Original Message -----
>
> > From: Andr=E9 Warnier <aw@ice-sa.com>
> > To: Tomcat Users List <users@tomcat.apache.org>
> > Cc:
> > Sent: Tuesday, July 10, 2012 12:12 PM
> > Subject: Re: [EXTERNAL] Re: Re: General Architecture Question for
> multiple websites on a single RedHat server
> >
> > Mark Eggers wrote:
> > ...
> >
> >>
> >>  . . . . just my two cents.
> >
> > As a consultant in my professional capacity, I'd charge just about
> 100,000
> > times more for that.
>
>
> Writing quick how-to mail messages on a mailing list - cheap.
>
> As a consultant in my professional capacity, writing the scripts, running
> the analysis, replaying the access log on a test system, helping / dealin=
g
> with developers, system admins, system architects, management . . . agree=
d.
>
> Oh, and document, document, document.
> (but please to always call it research - apologies to Tom Lehrer)
>
> /mde/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--00248c71184b28994a04c48ce393--

From users-return-235408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 15:12:56 2012
Return-Path: <users-return-235408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8554AD75E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 15:12:56 +0000 (UTC)
Received: (qmail 33279 invoked by uid 500); 11 Jul 2012 15:12:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33087 invoked by uid 500); 11 Jul 2012 15:12:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33068 invoked by uid 99); 11 Jul 2012 15:12:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:12:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [96.39.62.68] (HELO guardian.stonekeep.com) (96.39.62.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:12:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by guardian.stonekeep.com (Postfix) with ESMTP id 869938F4017
	for <users@tomcat.apache.org>; Wed, 11 Jul 2012 11:12:22 -0400 (EDT)
X-Virus-Scanned: Debian amavisd-new at guardian.stonekeep.com
Received: from guardian.stonekeep.com ([127.0.0.1])
	by localhost (guardian.stonekeep.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KXwvlJ39Q+RR for <users@tomcat.apache.org>;
	Wed, 11 Jul 2012 11:12:22 -0400 (EDT)
Received: from yacht.westell.com (pool-71-126-57-248.bstnma.east.verizon.net [71.126.57.248])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by guardian.stonekeep.com (Postfix) with ESMTPSA id D55128F4016
	for <users@tomcat.apache.org>; Wed, 11 Jul 2012 11:12:21 -0400 (EDT)
Message-ID: <4FFD97D5.9010207@homeport.org>
Date: Wed, 11 Jul 2012 11:12:21 -0400
From: Dave Shevett <shevett@homeport.org>
Reply-To: shevett@homeport.org
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Vhost-specific configuration for deployed apps?
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Hi folks, this has come up in the list archives a couple times, but I'm
having a devil of a time getting it working right.

I'm trying to set a basic set of properties to a deployed app into
Tomcat.  Note that this app is being deployed via the tomcat manager (in
fact it's coming from Jenkins), and is in a VHost.

The problem is I can't find the magic combination to get a couple basic
config params (in this case database connection details) on a per-vhost
basis to be available to the app.

Right now I have a Spring PPC loading properties:
<bean id="propertyPlaceholderConfigurer"
class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">

	<property name="location">
      		<value>classpath:congo.properties</value>
	</property>
</bean>

which loads 'congo.properties' off the classpath. This is working, but I
think Tomcat does not have separate classpaths for each vhost, so I
can't just drop 'congo.properties' into Catalina/hostname/ and have it
referenced for JUST that vhost, is that correct?

I can't build config parameters into the app, since the app needs to be
generic (a .war file).  I need to pass parameters into the
applicationContext.xml on a per-vhost basis, with the results here:

  <bean id="com.stonekeep.congo.database.Pool"
class="com.mchange.v2.c3p0.ComboPooledDataSource"
    destroy-method="close">
    <property name="driverClass" value="com.mysql.jdbc.Driver"/>

    <property name="testConnectionOnCheckout" value="true"/>

    <property name="jdbcUrl" value="${congo.jdbcurl}" />
    <property name="user" value="${congo.user}" />
    <property name="password" value="${congo.password}" />
  </bean>

I've thought about using <Context> blocks in the vhost, or in the <Host>
block for the vhost, but I can't figure out the proper mojo to get those
Context parameters into the Spring applicationContext.

My Spring is weak, I do apologize, but would really appreciate any help.

Thanks!

	-d

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 15:16:31 2012
Return-Path: <users-return-235409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2824ED76F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 15:16:31 +0000 (UTC)
Received: (qmail 44616 invoked by uid 500); 11 Jul 2012 15:16:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44533 invoked by uid 500); 11 Jul 2012 15:16:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44519 invoked by uid 99); 11 Jul 2012 15:16:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:16:27 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FRT_BELOW2
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of laogong_4969@qq.com designates 64.71.138.43 as permitted sender)
Received: from [64.71.138.43] (HELO smtpbg52.qq.com) (64.71.138.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jul 2012 15:16:19 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1342019758; bh=ztiR4nsQVeto8uwYbqtJE6EgjEZ31uDCY9obefETr2Y=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=ir+mW+o+RTRvQhyi9TwowINTZsVKrL9OVBu0uuRmPXFSndVeOpkTeKygYgbYSix5Q
	 9nG5qnkrfAoI75rV2pNyp3Oj5HVfSjC+WgfFKqhJwTWtyHkXxFzq186Nf6ypezi
X-QQ-SSF: 00000000000000F000000000000000Z
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 14.154.107.121
X-QQ-STYLE: 
X-QQ-mid: webmail368t1342019755t2244592
From: "=?gb18030?B?wMu8o+W+s74=?=" <laogong_4969@qq.com>
To: "=?gb18030?B?dXNlcnM=?=" <users@tomcat.apache.org>
Subject: Apache-tomcat-7.0.29 can't startup in my computer.
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4FFD98AB_08AB4DD0_587DA70D"
Content-Transfer-Encoding: 8Bit
Date: Wed, 11 Jul 2012 23:15:55 +0800
X-Priority: 3
Message-ID: <tencent_201271DE7C2CD5613DD704DB@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x

------=_NextPart_4FFD98AB_08AB4DD0_587DA70D
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

aGksDQpJIHVzZSB3aW5kb3dzIHhwIE9TLg0KVGhlIHRvbWNhdChhcGFjaGUtdG9tY2F0LTcu
MC4yOSkgaGFkIHdvcmtzIHZlcnkgd2VsbCB1bnRpbCBsYXN0IHdlZWsuDQpCdXQgbm93IGl0
IGNhbid0IHN0YXJ0dXAgLg0KVGhlIGluZm9ybWF0aW9ucyBpbiB0aGUgbG9nIGZpbGUgYXJl
IGFzIGJlbGxvdzoNCiINCkV4Y2VwdGlvbiBpbiB0aHJlYWQgIm1haW4iIA0KMjAxMi0wNy0x
MSAyMTo1NDoyMiBDb21tb25zIERhZW1vbiBwcm9jcnVuIHN0ZGVyciBpbml0aWFsaXplZA0K
amF2YS5sYW5nLk5vQ2xhc3NEZWZGb3VuZEVycm9yOiBvcmcvYXBhY2hlL2p1bGkvbG9nZ2lu
Zy9Mb2dGYWN0b3J5DQogYXQgb3JnLmFwYWNoZS5jYXRhbGluYS5zdGFydHVwLkJvb3RzdHJh
cC48Y2xpbml0PihCb290c3RyYXAuamF2YTo2MCkNCkNhdXNlZCBieTogamF2YS5sYW5nLkNs
YXNzTm90Rm91bmRFeGNlcHRpb246IG9yZy5hcGFjaGUuanVsaS5sb2dnaW5nLkxvZ0ZhY3Rv
cnkNCiBhdCBqYXZhLm5ldC5VUkxDbGFzc0xvYWRlciQxLnJ1bihVbmtub3duIFNvdXJjZSkN
CiBhdCBqYXZhLm5ldC5VUkxDbGFzc0xvYWRlciQxLnJ1bihVbmtub3duIFNvdXJjZSkNCiBh
dCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKE5hdGl2ZSBN
ZXRob2QpDQogYXQgamF2YS5uZXQuVVJMQ2xhc3NMb2FkZXIuZmluZENsYXNzKFVua25vd24g
U291cmNlKQ0KIGF0IGphdmEubGFuZy5DbGFzc0xvYWRlci5sb2FkQ2xhc3MoVW5rbm93biBT
b3VyY2UpDQogYXQgamF2YS5sYW5nLkNsYXNzTG9hZGVyLmxvYWRDbGFzcyhVbmtub3duIFNv
dXJjZSkNCiAuLi4gMSBtb3JlDQpFeGNlcHRpb24gaW4gdGhyZWFkICJtYWluIiANCiANCiIN
Ckl0IHNlZW1zIHRoYXQgSSBkb24ndCBhZGQgdGhlICJ0b21jYXQtanVsaS5qYXIiIGluIHRo
ZSAiY2xhc3NwYXRoIiBzeXN0ZW0gcGFyYW1ldGVycywgYnV0IEkgaGFzIGRpZCB0aGF0Lg0K
SSBldmVuIGVkaXQgYSBoZWxsb3dvcmxkLmphdmEgYXMgYmVsbG93Og0KIg0KaW1wb3J0IG9y
Zy5hcGFjaGUuanVsaS5sb2dnaW5nLkxvZ0ZhY3Rvcnk7DQpwdWJsaWMgY2xhc3MgaGVsbG9f
d29ybGR7DQogICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbiggU3RyaW5nW10gYXJncyApew0K
ICAgICAgU3lzdGVtLm91dC5wcmludGxuKCAiSGVsbG8gd29ybGQhIiApOw0KICAgfQ0KIH0g
IA0KIg0KSSBjb21waWxlIGhlbGxvd29ybGQuamF2YSBhbmQgaXQgaXMgYWNjZXB0ZWQgYnkg
dGhlIGNvbXBpbGUgd2hpY2ggaXMgbWVhbnMgdGhhdCBJIGRvIGFkZCAidG9tY2F0LWp1bGku
amFyIiBpbiB0aGUgImNsYXNzcGF0aCIgc3lzdGVtIHBhcmFtZXRlcnMuDQogDQogDQpMb29r
aW5nIGZvcndvcmQgdG8geW91ciBhbnN3ZXIhDQogDQpHcmVhdCB0aHghDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYWNr

------=_NextPart_4FFD98AB_08AB4DD0_587DA70D--


From users-return-235410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 15:29:47 2012
Return-Path: <users-return-235410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4572C1A9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 15:29:47 +0000 (UTC)
Received: (qmail 89636 invoked by uid 500); 11 Jul 2012 15:29:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89581 invoked by uid 500); 11 Jul 2012 15:29:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89571 invoked by uid 99); 11 Jul 2012 15:29:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:29:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:29:37 +0000
Received: by eaak12 with SMTP id k12so638020eaa.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 08:29:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=IieIPInxL0ixoJMmbmxJ4cgodKL16kllN3E4kEz/dj8=;
        b=dCEeZI2ItZ7EFp2WSy6yzYRkc1jB6Jap1UuSK4QPhFfAQJZLt4bH+zZiGSp6uAgjzB
         C6Rz6Zm7T+6roRicCyZeyO+IZALpYp65U7oLR2eAI2I+hJ/Vu1xioEM23EZPVneM14jJ
         7btbb87dJagsq9Lp/h0mH6k4TJ7BMzDqOQWRQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=IieIPInxL0ixoJMmbmxJ4cgodKL16kllN3E4kEz/dj8=;
        b=FpZkCBxwmAqDy2wEJzDnO2G10tx8ZDXvHnt6S3yiUba/wj3nNDKHkNj85JpvyOfSqq
         k4/dS/k3AVZe6Zyz/g1ejc41OF338WuMdMegWC92zteRKgbMa/xTtaJwRxwv8idKrg6k
         styrCOYKhHZKTkYpfil+CVGDCIjIvz6Zqc74+sBgCu1wLBDvTYEhP34IrFFc0X9JHf8l
         gU0ttl/XuJ7m5A6OvCdfUjZXl/jwQcK36uISAW2WtqvTXU1sFmW6aGTwTf8siq/Kdtm7
         6DeLPtxSFNUXfbMRVW7hZvxoDpWYc79RvHxFpgrlc+u/1gaf91Xw4l2wb8UOwkBrBA9W
         X3CQ==
Received: by 10.14.99.11 with SMTP id w11mr12090651eef.67.1342020554875;
        Wed, 11 Jul 2012 08:29:14 -0700 (PDT)
Received: from Asura.local ([109.249.232.2])
        by mx.google.com with ESMTPS id h53sm6954654eea.1.2012.07.11.08.29.11
        (version=SSLv3 cipher=OTHER);
        Wed, 11 Jul 2012 08:29:12 -0700 (PDT)
Message-ID: <4FFD9BAB.7040000@pidster.com>
Date: Wed, 11 Jul 2012 16:28:43 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [EXTERNAL] Re: Re: Re: General Architecture Question for multiple
 websites on a single RedHat server
References: <CALgf6+n+5pDjrUqrgA8R5hOA0cQFztK=zesoTjaLT5S6r-AxbA@mail.gmail.com> <4FF4E79B.20203@christopherschultz.net> <CALgf6+k5L1jWUbu52ZQjd1nX=cUCcdu3sbpuyX+5JrfV6Nnj5g@mail.gmail.com> <4FFC55FC.7010308@christopherschultz.net> <CALgf6+mXLOiLf0fuX1jf7m_u5hcu=tR2scADbyXydDcbKd3wvw@mail.gmail.com> <1341944997.42708.YahooMailNeo@web125501.mail.ne1.yahoo.com> <4FFC7EA1.3050709@ice-sa.com> <1341948817.36260.YahooMailNeo@web125503.mail.ne1.yahoo.com> <CALgf6+nrZRR7FOf1Q7y67-odo_F9LEQhT-YTt7O_f=UB9GXO3Q@mail.gmail.com>
In-Reply-To: <CALgf6+nrZRR7FOf1Q7y67-odo_F9LEQhT-YTt7O_f=UB9GXO3Q@mail.gmail.com>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig0991B1CB5906B8D2F326D934"
X-Gm-Message-State: ALoCoQlPHlpnqFvjl1+9BHE9/w3o/p4NJbr/I5nROeiGOOhvz7oqqhu7xH28o1h4dzhyD6JELckY
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig0991B1CB5906B8D2F326D934
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/07/2012 13:21, Simon, Leonard wrote:
> Mark,
> I really do appreciate your time in assisting,
> It's these up front sessions that could lead to consulting gigs later o=
n.

There's something to look forward to.


> Free consultations pay off in the end.

Not very often they don't.


p


--------------enig0991B1CB5906B8D2F326D934
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP/ZuwAAoJEGoM2OGpOvr9MqsP+wYDB27Qg4ylt+grYvAU+Toc
Qsul1R0chixmsJ47uTLmldvnWaFD2u1NEQ7ERbqKpYsDhzSll9HNLwAGod0aU9ps
c2+WN1jwpJ9CjjrIaIbFVrzhyy2GOI6qCjn5DaSo9IsxVKS96wTSswDSmovlN/yP
1Wfpjh6DcOiNS00jJwI+ggq9N4ehKFkx1PhGz8qACzTIZL0XToOs6jdHUTJtkMQm
iPyay/rBYPWg33X8ph8nkqBTbOicMv+ZdTVy/JluKIW+Up4Em42iKr0dowZCuFIf
D0mmTDfQyQ9Lax3fLEa+RZ6Lfmyb92qVZgF8jeSeumugy0IqV8a5H1ktPHi97WrM
PwiIDgruy/tMpvF+wY8FJGRqmwawY0DmWuv1AdBRQUjvClaBuZ+cnmtCFRm5AXCf
UHpFQNIvX6axaTdw+M2PlE4f3hwWEyGSHCjWTUKbS+lwbTLUv7qcSv8GwvQqXMhA
A4gv5tiSyQIuPGbLnMUEHgDyg1XVkJ9leW3N9mzaIRtrLvEdmmPCHKBrdxhwF+Qe
tBISMPPdicYcEFrf6C1P8DkLQQDUMV3I/R4iq5PnwqhFKxwp0A1guFesVFVHnprX
gsCV8KKRmb3OV6X2VRA1+mDcthvLZ0OdTi2Qbsc5ni2vYuSTXZ9rnANYB1gfon5d
sZNI2r/4T4U8Lvs24ZKR
=n2zk
-----END PGP SIGNATURE-----

--------------enig0991B1CB5906B8D2F326D934--

From users-return-235411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 15:48:41 2012
Return-Path: <users-return-235411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A47ABC636
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 15:48:41 +0000 (UTC)
Received: (qmail 58893 invoked by uid 500); 11 Jul 2012 15:48:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58777 invoked by uid 500); 11 Jul 2012 15:48:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58765 invoked by uid 99); 11 Jul 2012 15:48:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:48:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of irjanith@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:48:32 +0000
Received: by wgbdr1 with SMTP id dr1so1078278wgb.0
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 08:48:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dvGiatJKAQlZMRS3e1WBnuPgFmxp471qeEf2L7ZnPKk=;
        b=muc7UbvtHtCbeZM/Xboqc0alPq2E+BlzcCmO+UCGer3qtMWWBYovqojiSVW6BgOU50
         aVmVY0wEKmdmMY9QZdrA1v9odMqNVFTpfHHZSR7TuJbNncweVvK1bb+EYq6kM7QzS1+H
         Mp3EGaaU7jan8KCcWb+e4WOg9QZ+RhpbnmhY7Hi7EF/FCR3qr8oJtGE+A1O6I8LITo2X
         mv0W+GhGS0CdDB2f232I0m0diovn8f77RQ6nFusFdFgQV3WSAMcZG5D95AzLF47VaBI/
         aOGGLeq3RFOVU9cpoaQdo3QADzz/4hsOsUEZGe3tdLKLYbsQsqCqe7RLNCFYIhDotwTR
         VOKQ==
MIME-Version: 1.0
Received: by 10.180.78.99 with SMTP id a3mr48126035wix.15.1342021690779; Wed,
 11 Jul 2012 08:48:10 -0700 (PDT)
Received: by 10.180.100.234 with HTTP; Wed, 11 Jul 2012 08:48:10 -0700 (PDT)
In-Reply-To: <tencent_201271DE7C2CD5613DD704DB@qq.com>
References: <tencent_201271DE7C2CD5613DD704DB@qq.com>
Date: Wed, 11 Jul 2012 21:18:10 +0530
Message-ID: <CABN=8bc3KA3pvzBcWd17Hojnxra6vTW4Wi+H7oGr5ng3bZH0eg@mail.gmail.com>
Subject: Re: Apache-tomcat-7.0.29 can't startup in my computer.
From: Isuru Ranawaka <irjanith@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0438904128e8e604c48fc6fb
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0438904128e8e604c48fc6fb
Content-Type: text/plain; charset=ISO-8859-1

Hi,
This error can be appeared when that class is seen at compile time and not
in run time or if u add and remove relevant jar file more than one
time.then there can be a possibility that at run time it picks a class
which  was not picked at compile time.

--f46d0438904128e8e604c48fc6fb--

From users-return-235412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 15:54:02 2012
Return-Path: <users-return-235412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F32FAC669
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 15:54:01 +0000 (UTC)
Received: (qmail 75252 invoked by uid 500); 11 Jul 2012 15:53:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75075 invoked by uid 500); 11 Jul 2012 15:53:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75066 invoked by uid 99); 11 Jul 2012 15:53:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:53:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 15:53:52 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id YzVl1j0040vyq2s593tZBA; Wed, 11 Jul 2012 15:53:33 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id Z3tc1j00J1FXhpX3R3td7o; Wed, 11 Jul 2012 15:53:37 +0000
Message-ID: <4FFDA17B.2020304@christopherschultz.net>
Date: Wed, 11 Jul 2012 11:53:31 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Apache-tomcat-7.0.29 can't startup in my computer.
References: <tencent_201271DE7C2CD5613DD704DB@qq.com>
In-Reply-To: <tencent_201271DE7C2CD5613DD704DB@qq.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

浪迹寰尘,

On 7/11/12 11:15 AM, 浪迹寰尘 wrote:
> Exception in thread "main" 2012-07-11 21:54:22 Commons Daemon
> procrun stderr initialized java.lang.NoClassDefFoundError:
> org/apache/juli/logging/LogFactory at
> org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:60) 
> Caused by: java.lang.ClassNotFoundException:
> org.apache.juli.logging.LogFactory at
> java.net.URLClassLoader$1.run(Unknown Source) at
> java.net.URLClassLoader$1.run(Unknown Source) at
> java.security.AccessController.doPrivileged(Native Method) at
> java.net.URLClassLoader.findClass(Unknown Source) at
> java.lang.ClassLoader.loadClass(Unknown Source) at
> java.lang.ClassLoader.loadClass(Unknown Source) ... 1 more

You look like you have a broken Tomcat installation. Did you install
using the ZIP of EXE packages?

The value of your OS's CLASSPATH variable is not relevant.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk/9oXsACgkQ9CaO5/Lv0PB6/wCghkmxRIM83vmi8d3AF+hrR8KB
q+kAoLg2NJIT6BFM8c3RlnwxxcjBpFVY
=7meA
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 16:36:07 2012
Return-Path: <users-return-235413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31D559963
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 16:36:07 +0000 (UTC)
Received: (qmail 12377 invoked by uid 500); 11 Jul 2012 16:36:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12183 invoked by uid 500); 11 Jul 2012 16:36:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12174 invoked by uid 99); 11 Jul 2012 16:36:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 16:36:03 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 16:35:57 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Wed, 11 Jul 2012 11:40:38 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Wed, 11 Jul 2012 11:35:31 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6Vg==
Date: Wed, 11 Jul 2012 16:35:30 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: multipart/alternative;
	boundary="_000_7215BA462D00D343B2837F9113F0131F0109D9343FPOSTOFFICE02p_"
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_11_11_40_38
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_7215BA462D00D343B2837F9113F0131F0109D9343FPOSTOFFICE02p_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Looking into implemented two-factor Auth for Tomcat with first factor being=
 our current userid/password form.=0D=0AI figured that the second factor co=
uld be Client Authentication using SSL, as it seems readily available in To=
mcat.=0D=0AAside from the wonderful Tomcat documentation on configuring the=
 <connector> element, does anyone else have any suggested reading on the su=
bject=3F=0D=0AAny gotchas I should look for=3F=0D=0A=0D=0AJeffrey Janner=0D=
=0A=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=
=0A=0D=0AConfidentiality Notice:  This Transmission (including any attachme=
nts) may contain information that is privileged, confidential, and exempt f=
rom disclosure under applicable law.  If the reader of this message is not =
the intended recipient you are hereby notified that any dissemination, dist=
ribution, or copying of this communication is strictly prohibited. =20=0D=0A=0D=
=0AIf you have received this transmission in error, please immediately repl=
y to the sender or telephone (512) 343-9100 and delete this transmission fr=
om your system.=0D=0A
--_000_7215BA462D00D343B2837F9113F0131F0109D9343FPOSTOFFICE02p_--


From users-return-235414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 17:15:16 2012
Return-Path: <users-return-235414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD4929AC2
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 17:15:15 +0000 (UTC)
Received: (qmail 33709 invoked by uid 500); 11 Jul 2012 17:15:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33659 invoked by uid 500); 11 Jul 2012 17:15:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33650 invoked by uid 99); 11 Jul 2012 17:15:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 17:15:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 17:15:05 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Wed, 11 Jul 2012 12:19:46 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Wed, 11 Jul 2012 12:14:39 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6VgABUogQ
Date: Wed, 11 Jul 2012 17:14:38 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_11_12_19_47
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----=0D=0A> From: Jeffrey Janner [mailto:Jeffrey.Ja=
nner@PolyDyne.com]=0D=0A> Sent: Wednesday, July 11, 2012 11:36 AM=0D=0A> To=
: 'Tomcat Users List'=0D=0A> Subject: Client Authentication using SSL=0D=0A=
>=20=0D=0A> Looking into implemented two-factor Auth for Tomcat with first =
factor=0D=0A> being our current userid/password form.=0D=0A> I figured that=
 the second factor could be Client Authentication using=0D=0A> SSL, as it s=
eems readily available in Tomcat.=0D=0A> Aside from the wonderful Tomcat do=
cumentation on configuring the=0D=0A> <connector> element, does anyone else=
 have any suggested reading on the=0D=0A> subject=3F=0D=0A> Any gotchas I s=
hould look for=3F=0D=0A>=20=0D=0A> Jeffrey Janner=0D=0A> =5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A=0D=0AForgot to mention =
that I'd be running under APR/native.=0D=0A=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A=0D=0AConfidentiality Notice: =
 This Transmission (including any attachments) may contain information that=
 is privileged, confidential, and exempt from disclosure under applicable l=
aw.  If the reader of this message is not the intended recipient you are he=
reby notified that any dissemination, distribution, or copying of this comm=
unication is strictly prohibited. =20=0D=0A=0D=0AIf you have received this =
transmission in error, please immediately reply to the sender or telephone =
(512) 343-9100 and delete this transmission from your system.=0D=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 18:42:15 2012
Return-Path: <users-return-235415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BB57C73B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 18:42:15 +0000 (UTC)
Received: (qmail 600 invoked by uid 500); 11 Jul 2012 18:42:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 548 invoked by uid 500); 11 Jul 2012 18:42:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 539 invoked by uid 99); 11 Jul 2012 18:42:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 18:42:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of salvatorelionetti@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 18:42:05 +0000
Received: by pbbro12 with SMTP id ro12so2944831pbb.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 11:41:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=PvSbsad81vEcig7OiztVBJ2o45b388wZTyb+uJdWXzk=;
        b=xlIvx//rKZ5/+2tqRALGcbJYM/iiETa626gBNHV92RK6ZO1r3jEiZlM+ysm3+GOt+W
         C25KMq+jvHdJ7eHUed6kKQuwXf+EVUfVXuTgZPlUy3U+ZV1MyYPTln2Ck6HE5Qvm8OaN
         fziafJDTUMGZuLaoZk3+nDTuKxKSvIBws9PKmPq4AmpX//3hAF5HNGGhH7Uzo5vAsP9R
         vuW5/paqc8yvi5n+gXoNtSSlkPeDdbWoXxzcoPsi446prc7rjZEPsudJfVQYJQl/ChRm
         IK8wxqCeIxOXeB/tGBlbGz53joJ39MZFQL7ML0q+6Rf1BZnfGP/WJhOWm0wZl6E8AxOI
         aQsA==
MIME-Version: 1.0
Received: by 10.68.213.234 with SMTP id nv10mr80620441pbc.56.1342032105483;
 Wed, 11 Jul 2012 11:41:45 -0700 (PDT)
Received: by 10.66.222.35 with HTTP; Wed, 11 Jul 2012 11:41:45 -0700 (PDT)
In-Reply-To: <CAHa4+5NQFfNSX0Q33rJy9S-wG3UDKX7gCXmVW=j7WihfAK+-FQ@mail.gmail.com>
References: <CAHa4+5NQFfNSX0Q33rJy9S-wG3UDKX7gCXmVW=j7WihfAK+-FQ@mail.gmail.com>
Date: Wed, 11 Jul 2012 20:41:45 +0200
Message-ID: <CAHa4+5NbcGKyG=fbQdStmR02YWJzAaLmG5OXBf-OWBap3eWpAw@mail.gmail.com>
Subject: [tomcat users] Lenght Encoding
From: Salvatore Lionetti <salvatorelionetti@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8fb20780ecad4004c49232f0
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb20780ecad4004c49232f0
Content-Type: text/plain; charset=ISO-8859-1

Hi to all,

I'm using Tomcat 7.0.28, a simple doGet() synchronous customization of
HttpServlet, responding with a 'push' multipart.
This response is generated by tomcat server and my webapp: does in yours
opinion looks like correct?

HTTP/1.1 200 OK
> Server: Apache-Coyote/1.1

... Connection: keep-alive
> Content-Type: multipart/x-mixed-replace;boundary=NEWD
> Transfer-Encoding: chunked (ADDED BY TOMCAT ENGINE)
>
>
> --NEWD
> 2...
> --NEWD
> 1...
> --NEWD
>
> --NEWD--
>

I mean: why tomcat engine add chunks encoding (see the header) if in this
case an indefinite length encoding is presents, marked with 'NEWD'?

Many thanks for attention.
Have a good day

--e89a8fb20780ecad4004c49232f0--

From users-return-235416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 19:35:16 2012
Return-Path: <users-return-235416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEC509A55
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 19:35:16 +0000 (UTC)
Received: (qmail 69922 invoked by uid 500); 11 Jul 2012 19:35:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69754 invoked by uid 500); 11 Jul 2012 19:35:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69745 invoked by uid 99); 11 Jul 2012 19:35:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 19:35:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.59] (HELO smtpout.wanadoo.co.uk) (80.12.242.59)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 19:35:03 +0000
Received: from mail.homeinbox.net ([2.29.16.233])
	by mwinf5d38 with ME
	id Z7ai1j00G51iY2A037ajZm; Wed, 11 Jul 2012 21:34:43 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id C5DCDEAB6E0
	for <users@tomcat.apache.org>; Wed, 11 Jul 2012 20:34:42 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oeLLZ+CEZe7P for <users@tomcat.apache.org>;
	Wed, 11 Jul 2012 20:34:39 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 46E48EAB6DC
	for <users@tomcat.apache.org>; Wed, 11 Jul 2012 20:34:39 +0100 (BST)
Message-ID: <4FFDD549.1060106@apache.org>
Date: Wed, 11 Jul 2012 20:34:33 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [tomcat users] Length Encoding
References: <CAHa4+5NQFfNSX0Q33rJy9S-wG3UDKX7gCXmVW=j7WihfAK+-FQ@mail.gmail.com> <CAHa4+5NbcGKyG=fbQdStmR02YWJzAaLmG5OXBf-OWBap3eWpAw@mail.gmail.com>
In-Reply-To: <CAHa4+5NbcGKyG=fbQdStmR02YWJzAaLmG5OXBf-OWBap3eWpAw@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 11/07/2012 19:41, Salvatore Lionetti wrote:
> Hi to all,
> 
> I'm using Tomcat 7.0.28, a simple doGet() synchronous customization of
> HttpServlet, responding with a 'push' multipart.
> This response is generated by tomcat server and my webapp: does in yours
> opinion looks like correct?

Yes.

> HTTP/1.1 200 OK
>> Server: Apache-Coyote/1.1
> 
> ... Connection: keep-alive
>> Content-Type: multipart/x-mixed-replace;boundary=NEWD
>> Transfer-Encoding: chunked (ADDED BY TOMCAT ENGINE)
>>
>>
>> --NEWD
>> 2...
>> --NEWD
>> 1...
>> --NEWD
>>
>> --NEWD--
>>
> 
> I mean: why tomcat engine add chunks encoding (see the header) if in this
> case an indefinite length encoding is presents, marked with 'NEWD'?

Try reading RFC 2616.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 19:54:21 2012
Return-Path: <users-return-235417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A45F09B11
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 19:54:21 +0000 (UTC)
Received: (qmail 25547 invoked by uid 500); 11 Jul 2012 19:54:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25335 invoked by uid 500); 11 Jul 2012 19:54:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25326 invoked by uid 99); 11 Jul 2012 19:54:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 19:54:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of salvatorelionetti@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 19:54:12 +0000
Received: by pbbro12 with SMTP id ro12so3039854pbb.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 12:53:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YUk4IMXIsNCNlY+n7xPN21naKzE6/OVBE+29t3OSIzU=;
        b=p12bHbdVYaW9SHNuy6rZma1G7Ssa6UBHMTWcMmWL8el42ctzDkP88A0gVN2RhoyyXQ
         GLw1MKdOWV8jw2jhADkoI3fvFBRXUr0R4PrX99aUXtTe/TQVgdvfpxbA783MK6txJ0Og
         jkF3oaA+3SYDQLEV/iyHwt+qZV17s8s8ARGE/naB2ObT0hbkq24SRarcRURh63LDYsWG
         qAJbDD0n5Y7N+Y1qhZu/K4eOlLKOcLJ6Wcaqn4R9ikcfAKh4ncK5WD5EOn0yTy5bAY1h
         hW45RhaUQsUQSHr5q+VvR2hiLWSG7VzxUOLPpXgS6uvB6BaOZgCH/2Cj2YSSDwKglJaO
         V4ZQ==
MIME-Version: 1.0
Received: by 10.68.190.168 with SMTP id gr8mr6386211pbc.157.1342036430842;
 Wed, 11 Jul 2012 12:53:50 -0700 (PDT)
Received: by 10.66.222.35 with HTTP; Wed, 11 Jul 2012 12:53:50 -0700 (PDT)
In-Reply-To: <4FFDD549.1060106@apache.org>
References: <CAHa4+5NQFfNSX0Q33rJy9S-wG3UDKX7gCXmVW=j7WihfAK+-FQ@mail.gmail.com>
	<CAHa4+5NbcGKyG=fbQdStmR02YWJzAaLmG5OXBf-OWBap3eWpAw@mail.gmail.com>
	<4FFDD549.1060106@apache.org>
Date: Wed, 11 Jul 2012 21:53:50 +0200
Message-ID: <CAHa4+5M2GMm4oWsRMzy4krZ5N_R2T2dcAwFDQSQghzCc9TCgKQ@mail.gmail.com>
Subject: Re: [tomcat users] Length Encoding
From: Salvatore Lionetti <salvatorelionetti@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1cc30bc69cf04c49334df

--e89a8ff1cc30bc69cf04c49334df
Content-Type: text/plain; charset=ISO-8859-1

Thanks for the quick response, i'm reading the rfc, although
multipart/x-mixed-replace is 'experimental' and then not mentioned in the
spec.

Anyway, for the opposite case (multipart request), i've found:

http://java.net/jira/browse/JERSEY-488

'sandoz' suggest as workaround to avoid chunck encoding at client side (and
tryied to resolve the issue at server side, maybe i'm wrong)
Why should multipart message has not to be symmetrical?


On Wed, Jul 11, 2012 at 9:34 PM, Mark Thomas <markt@apache.org> wrote:

> On 11/07/2012 19:41, Salvatore Lionetti wrote:
> > Hi to all,
> >
> > I'm using Tomcat 7.0.28, a simple doGet() synchronous customization of
> > HttpServlet, responding with a 'push' multipart.
> > This response is generated by tomcat server and my webapp: does in yours
> > opinion looks like correct?
>
> Yes.
>
> > HTTP/1.1 200 OK
> >> Server: Apache-Coyote/1.1
> >
> > ... Connection: keep-alive
> >> Content-Type: multipart/x-mixed-replace;boundary=NEWD
> >> Transfer-Encoding: chunked (ADDED BY TOMCAT ENGINE)
> >>
> >>
> >> --NEWD
> >> 2...
> >> --NEWD
> >> 1...
> >> --NEWD
> >>
> >> --NEWD--
> >>
> >
> > I mean: why tomcat engine add chunks encoding (see the header) if in this
> > case an indefinite length encoding is presents, marked with 'NEWD'?
>
> Try reading RFC 2616.
>
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff1cc30bc69cf04c49334df--

From users-return-235418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 21:26:39 2012
Return-Path: <users-return-235418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AEE41D623
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 21:26:39 +0000 (UTC)
Received: (qmail 88568 invoked by uid 500); 11 Jul 2012 21:26:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88499 invoked by uid 500); 11 Jul 2012 21:26:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88489 invoked by uid 99); 11 Jul 2012 21:26:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 21:26:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of weim@mst.edu designates 209.106.229.47 as permitted sender)
Received: from [209.106.229.47] (HELO mxtip01-rolla-out.um.umsystem.edu) (209.106.229.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 21:26:29 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av8EAMfu/U/PoJ7Q/2dsb2JhbABFt3GBB4IgAQEBBDoUNwQCAQgRBAEBCxQJByEQARQJCAIECAcEAQcVBIddAwy0DQ1KiQSKWmYahHRgA5ZMiXKFAoJfgV8
Received: from um-ncas4.um.umsystem.edu ([207.160.158.208])
  by mxtip01-missouri-out.um.umsystem.edu with ESMTP; 11 Jul 2012 16:26:06 -0500
Received: from UM-MBX-N03.um.umsystem.edu ([169.254.6.122]) by
 UM-NCAS4.um.umsystem.edu ([207.160.158.208]) with mapi id 14.01.0355.002;
 Wed, 11 Jul 2012 16:26:06 -0500
From: "Wei, Mingzhen" <weim@mst.edu>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Topic: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Index: Ac1blRWceTIPoEBNT6SPeE54MJX8lgALNsqAAAHVsIAABHs9AAC1zhKwAAsEj4AAMz2wkA==
Date: Wed, 11 Jul 2012 21:26:05 +0000
Message-ID: <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
	<CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
	<4FF7249F.4050808@christopherschultz.net>
	<CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
	<821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu>
 <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com>
In-Reply-To: <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [131.151.111.63]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Konstantin,=20

I followed the RUNNING.TXT after installing the binary release of Tomcat 5.=
5. But I cannot find the catalina.bat and catalina.sh for more environmenta=
l variables to set.=20

Why tomcat is such a pain for installation?=20

Thanks for your help.=20

-----Original Message-----
From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Sent: Tuesday, July 10, 2012 10:57 AM
To: Tomcat Users List
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP conta=
iner

2012/7/10 Wei, Mingzhen <weim@mst.edu>:
> Konstantin Kolinko,
>
> Could you tell me the point in more detail? I am new with Tomcat and need=
 it badly to be able to run another application.
>
> Do you mean I need to try the combination of ant5.5 download + Ant 1.8.4 =
and JDK 1.4.2_19?

1. Why are you trying to build it from source?
Why the existing binary releases are not good enough for you?

2. Have you read the BUILDING.txt file?


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 23:25:56 2012
Return-Path: <users-return-235419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63683DC41
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 23:25:56 +0000 (UTC)
Received: (qmail 53973 invoked by uid 500); 11 Jul 2012 23:25:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53930 invoked by uid 500); 11 Jul 2012 23:25:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53919 invoked by uid 99); 11 Jul 2012 23:25:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 23:25:52 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 23:25:45 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Wed, 11 Jul 2012 18:30:24 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Wed, 11 Jul 2012 18:25:17 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
CC: 'Esmond Pitt' <esmond.pitt@bigpond.com>
Subject: RE: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6VgABUogQABaApoAACZ8C4A==
Date: Wed, 11 Jul 2012 23:25:16 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
 <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com>
 <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P>
In-Reply-To: <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_11_18_30_25

Reposting to the list, as that's the way....=0D=0A=0D=0AEsmond,=0D=0AWe alr=
eady implement your solution, with the exception of the SSL Client Certific=
ate.=0D=0AThat is what I was aiming for.=0D=0AThanks for the pointer to Aut=
henticRoast.  We'll give it a look.=0D=0AI've also seen something in the Ap=
ache tools called TripleSec which looks interesting.  But really just looki=
ng for some additional info on how the client SSL stuff really works.=0D=0A=
Jeff=0D=0A=0D=0A> -----Original Message-----=0D=0A> From: Esmond Pitt [mail=
to:esmond.pitt@bigpond.com]=0D=0A> Sent: Wednesday, July 11, 2012 5:58 PM=0D=
=0A> To: Jeffrey Janner=0D=0A> Subject: RE: Client Authentication using SSL=0D=
=0A>=20=0D=0A> Jeffrey=0D=0A>=20=0D=0A> 'Two-factor authentication' isn't s=
upported by Tomcat natively. Have a=0D=0A> look for a package in Google Cod=
e called AuthenticRoast. I contributed=0D=0A> a JAAS layer to it myself. I =
am using it for a scenario where I have=0D=0A> these=0D=0A> 'factors':=0D=0A=
>=20=0D=0A> - SSL client certificate=0D=0A> - 'ticket' (a UID in the URL, e=
=2Eg. for password resets)=0D=0A> - form=0D=0A>=20=0D=0A>=20=0D=0A> EJP=0D=0A=
>=20=0D=0A> -----Original Message-----=0D=0A> From: Jeffrey Janner [mailto:=
Jeffrey.Janner@PolyDyne.com]=0D=0A> Sent: Thursday, 12 July 2012 3:15 AM=0D=
=0A> To: 'Tomcat Users List'=0D=0A> Subject: RE: Client Authentication usin=
g SSL=0D=0A>=20=0D=0A> > -----Original Message-----=0D=0A> > From: Jeffrey =
Janner [mailto:Jeffrey.Janner@PolyDyne.com]=0D=0A> > Sent: Wednesday, July =
11, 2012 11:36 AM=0D=0A> > To: 'Tomcat Users List'=0D=0A> > Subject: Client=
 Authentication using SSL=0D=0A> >=0D=0A> > Looking into implemented two-fa=
ctor Auth for Tomcat with first factor=0D=0A> > being our current userid/pa=
ssword form.=0D=0A> > I figured that the second factor could be Client Auth=
entication using=0D=0A> > SSL, as it seems readily available in Tomcat.=0D=0A=
> > Aside from the wonderful Tomcat documentation on configuring the=0D=0A>=
 > <connector> element, does anyone else have any suggested reading on=0D=0A=
> > the subject=3F=0D=0A> > Any gotchas I should look for=3F=0D=0A> >=0D=0A=
> > Jeffrey Janner=0D=0A> >=0D=0A> =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=0D=0A> > =5F=0D=0A>=20=0D=0A> Forgot to mention that I'd=
 be running under APR/native.=0D=0A> =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A> =5F=5F=5F=0D=0A>=20=0D=0A> Confidentiality =
Notice:  This Transmission (including any attachments)=0D=0A> may contain i=
nformation that is privileged, confidential, and exempt=0D=0A> from disclos=
ure under applicable law.  If the reader of this message is=0D=0A> not the =
intended recipient you are hereby notified that any=0D=0A> dissemination, d=
istribution, or copying of this communication is=0D=0A> strictly prohibited=
=2E=0D=0A>=20=0D=0A> If you have received this transmission in error, pleas=
e immediately=0D=0A> reply to the sender or telephone (512) 343-9100 and de=
lete this=0D=0A> transmission from your system.=0D=0A>=20=0D=0A>=20=0D=0A> =0D=
=0A=0D=0A=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=0D=0A=0D=0AConfidentiality Notice:  This Transmission (including any=
 attachments) may contain information that is privileged, confidential, and=
 exempt from disclosure under applicable law.  If the reader of this messag=
e is not the intended recipient you are hereby notified that any disseminat=
ion, distribution, or copying of this communication is strictly prohibited.=
 =20=0D=0A=0D=0AIf you have received this transmission in error, please imm=
ediately reply to the sender or telephone (512) 343-9100 and delete this tr=
ansmission from your system.=0D=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 11 23:29:43 2012
Return-Path: <users-return-235420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7472B903C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 11 Jul 2012 23:29:43 +0000 (UTC)
Received: (qmail 70938 invoked by uid 500); 11 Jul 2012 23:29:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70871 invoked by uid 500); 11 Jul 2012 23:29:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70860 invoked by uid 99); 11 Jul 2012 23:29:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 23:29:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jul 2012 23:29:33 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Wed, 11 Jul 2012 18:34:15 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Wed, 11 Jul 2012 18:29:07 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: Broken link in docs
Thread-Topic: Broken link in docs
Thread-Index: Ac1fvPdZVgunfpoKQuOc381Fna4N7g==
Date: Wed, 11 Jul 2012 23:29:07 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D93547@POSTOFFICE02.polydyne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: multipart/alternative;
	boundary="_000_7215BA462D00D343B2837F9113F0131F0109D93547POSTOFFICE02p_"
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_11_18_34_15
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_7215BA462D00D343B2837F9113F0131F0109D93547POSTOFFICE02p_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

http://tomcat.apache.org/native-doc/changelog.html=0D=0A=0D=0AComes up miss=
ing.  Clinked on from main Native Doc page.=0D=0A=0D=0AJeff=0D=0A=0D=0A=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A=0D=
=0AConfidentiality Notice:  This Transmission (including any attachments) m=
ay contain information that is privileged, confidential, and exempt from di=
sclosure under applicable law.  If the reader of this message is not the in=
tended recipient you are hereby notified that any dissemination, distributi=
on, or copying of this communication is strictly prohibited. =20=0D=0A=0D=0A=
If you have received this transmission in error, please immediately reply t=
o the sender or telephone (512) 343-9100 and delete this transmission from =
your system.=0D=0A
--_000_7215BA462D00D343B2837F9113F0131F0109D93547POSTOFFICE02p_--


From users-return-235421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 01:06:02 2012
Return-Path: <users-return-235421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0C598C2A9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 01:06:02 +0000 (UTC)
Received: (qmail 17630 invoked by uid 500); 12 Jul 2012 01:05:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17569 invoked by uid 500); 12 Jul 2012 01:05:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17560 invoked by uid 99); 12 Jul 2012 01:05:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 01:05:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 01:05:50 +0000
Received: by ggnp1 with SMTP id p1so2297491ggn.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 18:05:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding:x-gm-message-state;
        bh=VnFdaoRE1RTs42X314D9k+U7Npq9gb9qNl7wuLaDnWk=;
        b=CPq6ObvMMzhzPiQA3YgPVJCkkpDcax5aGEQY/C5GhPwXEntij5drMMXxWlqNWJkzJu
         s/3YAZwuO6r2H0kTBrM8uKBAY+4LRXGbQ/DMmi4euUJ+fhvIdgfv7cBUy/9cvFQD86M7
         +M3x42DqcUWlVAY0eaUrajLZTt7r3CdXcXQgoAaU+ekzYTDtIbCENFAaY/rnoyOnpR+T
         RFwEK6tT1l8g+XouWNMZEY0zDHl+cUumN/iBFcNtWBPCmdFvwVYxrc7DbDsj7m2fZ3FB
         ykTOWdlWL6C0knRra9NPWDjsX5MGSLWERydoxQ5CRxZ4/66aH3euGbBa3jphku3sQ6Ac
         H3wA==
Received: by 10.101.116.16 with SMTP id t16mr17413007anm.27.1342055129739;
        Wed, 11 Jul 2012 18:05:29 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id z19sm3195666anh.22.2012.07.11.18.05.27
        (version=SSLv3 cipher=OTHER);
        Wed, 11 Jul 2012 18:05:28 -0700 (PDT)
Message-ID: <4FFE22D5.5060203@poonam.org>
Date: Thu, 12 Jul 2012 06:35:25 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Logging framework for Tomcat -Exceptions
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQnN+UTMnkiqMcT5pg15dWW3CttHR8XXXkG53dApbp6Dwahl5A4Y0x7/DN0rEdc/kMqV/JLH
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have below code for catching DAO exceptions,but I feel its not correct 
way to do this,Can some one point me to some library which will capture 
all exceptions which my code will throw and works with tomcat. I 
implementing Model2 mvc pattern and to my surprise I am able to show 
values to the view but database is not getting inserted.I am lost given 
that no exception is also being thrown anywhere.All logs looks clean but 
DB is not updated.

import java.sql.Connection;

public interface DAO {

     Connection getConnection() throws DAOException;

}

public class DAOException extends Exception {
     private static final long serialVersionUID = 19192L;

     public DAOException() {
     }
     public DAOException(String message) {
         this.message = message;
     }
     @Override
     public String getMessage() {
         return message;
     }
     public void setMessage(String message) {
         this.message = message;
     }
     private String message;

     @Override
     public String toString() {
         return message;
     }
}

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 01:48:57 2012
Return-Path: <users-return-235422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BDB2D0B5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 01:48:57 +0000 (UTC)
Received: (qmail 11523 invoked by uid 500); 12 Jul 2012 01:48:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11460 invoked by uid 500); 12 Jul 2012 01:48:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11451 invoked by uid 99); 12 Jul 2012 01:48:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 01:48:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.68] (HELO elasmtp-masked.atl.sa.earthlink.net) (209.86.89.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 01:48:44 +0000
Received: from [66.32.145.110] (helo=[192.168.2.50])
	by elasmtp-masked.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Sp8Vy-0005CV-1y
	for users@tomcat.apache.org; Wed, 11 Jul 2012 21:48:22 -0400
Subject: Re: Logging framework for Tomcat -Exceptions
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <4FFE22D5.5060203@poonam.org>
References: <4FFE22D5.5060203@poonam.org>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-JDOE8n1GAf/5uROuniaD"
Organization: Clifton Farm
Date: Wed, 11 Jul 2012 21:50:10 -0400
Message-ID: <1342057810.30268.3003.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b76430379ea8634e5dc644493934dbf3a2f5f6350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.145.110

--=-JDOE8n1GAf/5uROuniaD
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Thu, 2012-07-12 at 06:35 +0530, Kiran Badi wrote:
> Hi,
>=20
> I have below code for catching DAO exceptions,

No, it's not.  It's code that defines an interface and a poorly
implemented exception type.  There's no catching.  Anywhere.

> but I feel its not correct=20
> way to do this,Can some one point me to some library which will capture=20
> all exceptions which my code will throw and works with tomcat. I=20
> implementing Model2 mvc pattern and to my surprise I am able to show=20
> values to the view but database is not getting inserted.I am lost given=20
> that no exception is also being thrown anywhere.All logs looks clean but=20
> DB is not updated.
>=20
> import java.sql.Connection;
>=20
> public interface DAO {
>=20
>      Connection getConnection() throws DAOException;
>=20
> }
>=20
> public class DAOException extends Exception {
>      private static final long serialVersionUID =3D 19192L;
>=20
>      public DAOException() {
>      }
>      public DAOException(String message) {
>          this.message =3D message;
>      }
>      @Override
>      public String getMessage() {
>          return message;
>      }
>      public void setMessage(String message) {
>          this.message =3D message;
>      }
>      private String message;
>=20
>      @Override
>      public String toString() {
>          return message;
>      }
> }
>=20
Other than including Tomcat in the subject, this has nothing to do with
Tomcat.  No offense, but this really isn't a list for teaching Java.
But what the hell, I'll make one "exception":

public class DAOException extends Exception {
        public DAOException(String msg) {
        	super();
        }
       =20
        public DAOException(String msg) {
        	super(msg);
        }
       =20
        public DAOException(String msg, Throwable cause) {
        	super(msg, cause);
        }
       =20
        public DAOException(Throwable cause) {
        	super(cause);
        }
}

That's all I'll say on this thread.


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-JDOE8n1GAf/5uROuniaD
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJP/i1RAAoJEAfDBXDHBQilAogIAJQbrQW7vpTRFauFy9dBT3xe
9i3BW6iqxCm3HJ8UCrJ6/9SL1s6bd+Cs9jSfg371nlI7DNPHl/6kOt7UoaLsYRKr
T7XNbXCuBzW3bulnOyUJ7QXBzuA1ZsJ1VvRscmQjje/Z4NaPE+ZdIsFukia/55mV
bkNTFBisg5vsanZb5ZMuI4wz0i2gi55gf+S73F1BsOmmKoe07vUEpMSciwBp44qc
LBilUHUoMfkt69EI4hE3UaiY3R7+S+TrvqLiRsbZQkInUAvEDclNJF8ceOKTqYeN
y7HjlOuILRPcQ8g/MC2TlTyXH13XjdfG3EDctQ9TxoJ8mm/5rZG9rR53cJdhKjI=
=BkIB
-----END PGP SIGNATURE-----

--=-JDOE8n1GAf/5uROuniaD--


From users-return-235423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 03:33:48 2012
Return-Path: <users-return-235423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D466DAE9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 03:33:48 +0000 (UTC)
Received: (qmail 2696 invoked by uid 500); 12 Jul 2012 03:33:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2599 invoked by uid 500); 12 Jul 2012 03:33:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2440 invoked by uid 99); 12 Jul 2012 03:33:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 03:33:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 03:33:33 +0000
Received: by qcab12 with SMTP id b12so1428402qca.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 20:33:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding:x-gm-message-state;
        bh=kkYkc6ABgFFCJD2ylytal00Zf4thvHmDYejFbdACpyA=;
        b=h/hE89LP9YVuSmgzlyG0DO/XGvP4BX1FODmYnuzyZqgezzNPof0uKmRwz1qd2CsZSj
         acmEYaG/PjpdEjsMIuoOjpv0QKbPjMv/h/guQcfdy/+0K52B/03e8NPAtL8BajCL0k7N
         OidCDrB9mhl/V72XE9xq9PvYb3m44aMF3LjAj/FDywUBaiFO0tWuBD6t8fnxMi5oTe3W
         SZQBzyLAAcO0w9oWRecrsp9oehw5OV9yGCVl2v1PUjK3TIM/JFg0JXRMX67Xxh6SL77l
         ATrw6LP4Jb/F/wBYv3Cxj/E+5k6X/ade1aGLYH+frUh9HQvSEsTYi+vkmuKu/cEQX5v8
         pHVQ==
Received: by 10.224.220.81 with SMTP id hx17mr1136981qab.49.1342063991737;
        Wed, 11 Jul 2012 20:33:11 -0700 (PDT)
Received: from [192.168.1.6] (c-68-45-12-151.hsd1.nj.comcast.net. [68.45.12.151])
        by mx.google.com with ESMTPS id bh13sm5708184qab.21.2012.07.11.20.33.09
        (version=SSLv3 cipher=OTHER);
        Wed, 11 Jul 2012 20:33:10 -0700 (PDT)
Message-ID: <4FFE4573.1080707@poonam.org>
Date: Thu, 12 Jul 2012 09:03:07 +0530
From: Kiran Badi <kiran@poonam.org>
Organization: www.poonam.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Logging framework for Tomcat -Exceptions
References: <4FFE22D5.5060203@poonam.org> <1342057810.30268.3003.camel@dellberry>
In-Reply-To: <1342057810.30268.3003.camel@dellberry>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQk/kv7+FnR3VZF09ZIC0ls4GDuXsu1+L+bP/kI3iRA0WedW35qqaR2oIzRvadlNyNA6rbzY
X-Virus-Checked: Checked by ClamAV on apache.org

On 7/12/2012 7:20 AM, Tim Watts wrote:
> No offense, but this really isn't a list for teaching Java.
> But what the hell, I'll make one "exception":
>
> public class DAOException extends Exception {
>          public DAOException(String msg) {
>          	super();
>          }
>          
>          public DAOException(String msg) {
>          	super(msg);
>          }
>          
>          public DAOException(String msg, Throwable cause) {
>          	super(msg, cause);
>          }
>          
>          public DAOException(Throwable cause) {
>          	super(cause);
>          }
> }
>
> That's all I'll s say on this thread.
I know Tim something was missing.Just 20 mins back I fixed the class,now 
I get the cool stack trace,damm it file upload stuff is breaking and 
passing null values.I will fix it.

I know this is not a place to learn Java and thats not my intention.Its 
time for me to implement robust logging framework,so thought let me ask 
here as which is light weight and yet can log exceptions preferably both 
handled and unhandled.

and thanks for some headsup.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 06:11:15 2012
Return-Path: <users-return-235424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 375AED7A2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 06:11:15 +0000 (UTC)
Received: (qmail 42109 invoked by uid 500); 12 Jul 2012 06:11:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41948 invoked by uid 500); 12 Jul 2012 06:11:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41919 invoked by uid 99); 12 Jul 2012 06:11:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 06:11:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 06:11:01 +0000
X-Envelope-From: bubi@charmides.in-berlin.de
X-Envelope-To: <users@tomcat.apache.org>
Received: from [192.168.2.104] (pD9E3311E.dip.t-dialin.net [217.227.49.30])
	(authenticated bits=0)
	by einhorn.in-berlin.de (8.13.6/8.13.6/Debian-1) with ESMTP id q6C6Aewg010866
	for <users@tomcat.apache.org>; Thu, 12 Jul 2012 08:10:41 +0200
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: Client Authentication using SSL
From: "burghard.britzke" <bubi@charmides.in-berlin.de>
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
Date: Thu, 12 Jul 2012 08:10:51 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com> <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com> <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P> <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)
X-Scanned-By: MIMEDefang_at_IN-Berlin_e.V. on 192.109.42.8

may be that article helps: =
http://www.tomcatexpert.com/blog/2012/07/10/enabling-ssl-communication-and=
-client-certificate-authentication-between-apache-web-

burghard.

Am 12.07.2012 um 01:25 schrieb Jeffrey Janner:

> Reposting to the list, as that's the way....
>=20
> Esmond,
> We already implement your solution, with the exception of the SSL =
Client Certificate.
> That is what I was aiming for.
> Thanks for the pointer to AuthenticRoast.  We'll give it a look.
> I've also seen something in the Apache tools called TripleSec which =
looks interesting.  But really just looking for some additional info on =
how the client SSL stuff really works.
> Jeff
>=20
>> -----Original Message-----
>> From: Esmond Pitt [mailto:esmond.pitt@bigpond.com]
>> Sent: Wednesday, July 11, 2012 5:58 PM
>> To: Jeffrey Janner
>> Subject: RE: Client Authentication using SSL
>>=20
>> Jeffrey
>>=20
>> 'Two-factor authentication' isn't supported by Tomcat natively. Have =
a
>> look for a package in Google Code called AuthenticRoast. I =
contributed
>> a JAAS layer to it myself. I am using it for a scenario where I have
>> these
>> 'factors':
>>=20
>> - SSL client certificate
>> - 'ticket' (a UID in the URL, e.g. for password resets)
>> - form
>>=20
>>=20
>> EJP
>>=20
>> -----Original Message-----
>> From: Jeffrey Janner [mailto:Jeffrey.Janner@PolyDyne.com]
>> Sent: Thursday, 12 July 2012 3:15 AM
>> To: 'Tomcat Users List'
>> Subject: RE: Client Authentication using SSL
>>=20
>>> -----Original Message-----
>>> From: Jeffrey Janner [mailto:Jeffrey.Janner@PolyDyne.com]
>>> Sent: Wednesday, July 11, 2012 11:36 AM
>>> To: 'Tomcat Users List'
>>> Subject: Client Authentication using SSL
>>>=20
>>> Looking into implemented two-factor Auth for Tomcat with first =
factor
>>> being our current userid/password form.
>>> I figured that the second factor could be Client Authentication =
using
>>> SSL, as it seems readily available in Tomcat.
>>> Aside from the wonderful Tomcat documentation on configuring the
>>> <connector> element, does anyone else have any suggested reading on
>>> the subject?
>>> Any gotchas I should look for?
>>>=20
>>> Jeffrey Janner
>>>=20
>> =
______________________________________________________________________
>>> _
>>=20
>> Forgot to mention that I'd be running under APR/native.
>> =
_______________________________________________________________________
>> ___
>>=20
>> Confidentiality Notice:  This Transmission (including any =
attachments)
>> may contain information that is privileged, confidential, and exempt
>> from disclosure under applicable law.  If the reader of this message =
is
>> not the intended recipient you are hereby notified that any
>> dissemination, distribution, or copying of this communication is
>> strictly prohibited.
>>=20
>> If you have received this transmission in error, please immediately
>> reply to the sender or telephone (512) 343-9100 and delete this
>> transmission from your system.
>>=20
>>=20
>>=20
>=20
> =
__________________________________________________________________________=

>=20
> Confidentiality Notice:  This Transmission (including any attachments) =
may contain information that is privileged, confidential, and exempt =
from disclosure under applicable law.  If the reader of this message is =
not the intended recipient you are hereby notified that any =
dissemination, distribution, or copying of this communication is =
strictly prohibited. =20
>=20
> If you have received this transmission in error, please immediately =
reply to the sender or telephone (512) 343-9100 and delete this =
transmission from your system.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 06:55:48 2012
Return-Path: <users-return-235425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 609C2D40D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 06:55:48 +0000 (UTC)
Received: (qmail 45291 invoked by uid 500); 12 Jul 2012 06:55:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45122 invoked by uid 500); 12 Jul 2012 06:55:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45105 invoked by uid 99); 12 Jul 2012 06:55:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 06:55:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rahul.raviz@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 06:55:39 +0000
Received: by obbta14 with SMTP id ta14so3757031obb.18
        for <users@tomcat.apache.org>; Wed, 11 Jul 2012 23:55:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=HtEonmY99rJvcE+xZKW5ECBidMuXpTc6HXLNaNhBqp4=;
        b=zDQgMFKMNn/1sPcTnavQo02E5csepD2QEchh54pS5YByzgvYyByXMzUwtdXvUUxMIg
         mjnl6GSJIttW1Y54vTLsmi210r1GBWScNnql6IfjQ7xykbCHPnjAyltUfU0ljN9MeCGa
         AkAFX8XVpdq6KGU1jMD+y2U5TOA6+49CzOakW3XfysyKFdEv92lIlVw9RDQIhYAZcg8v
         f5MUhCLWZmsUv2zzbtzBfIIyNV6w/RNL8ZFo4dm6K+tAHT3zXeY4rOVYSAeRTxroFctj
         rfa2kAuJXWF5UQV1vP8iWatuU4LxKKbYkHIPqEJr0SNSbR83FsEuxPIuH6QK7n0gIyrs
         D7Uw==
MIME-Version: 1.0
Received: by 10.60.31.237 with SMTP id d13mr34399267oei.27.1342076118642; Wed,
 11 Jul 2012 23:55:18 -0700 (PDT)
Received: by 10.182.108.71 with HTTP; Wed, 11 Jul 2012 23:55:18 -0700 (PDT)
In-Reply-To: <4FD9F581.1080104@pidster.com>
References: <CAHo_sfjYKaA7bMtbjV48rb_uGP98hrW1PmSo=0P_grTmBviVbQ@mail.gmail.com>
	<4FD9F581.1080104@pidster.com>
Date: Thu, 12 Jul 2012 12:25:18 +0530
Message-ID: <CAHo_sfiP5THT2twAi2SjPu0GJvMOW4=DM027fXU=p9QasHD+NQ@mail.gmail.com>
Subject: Re: Exclude url from authorized access-web.xml
From: Rahul R <rahul.raviz@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f647b3d5030f104c49c7273
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f647b3d5030f104c49c7273
Content-Type: text/plain; charset=ISO-8859-1

How can I add an email id to auth instead of adding a whole group? Is that
possible? I don't want to give the access to all the members of the groups
in the AD. Following is the web.xml of my tomcat.

<security-constraint>
                <web-resource-collection>
                        <web-resource-name>Protected
Area</web-resource-name>
                        <url-pattern>/*</url-pattern>
                </web-resource-collection>

                <auth-constraint>
<--! These are the groups in AD -->
                        <role-name>Engineering</role- name>
                        <role-name>Migration Expert</role-name>
                        <role-name>Developers</role-name>

                </auth-constraint>
        </security-constraint>

  <security-constraint>
   <web-resource-collection>
      <url-pattern>/update/*</url-pattern>
   </web-resource-collection>
  </security-constraint>

        <login-config>
                <auth-method>BASIC</auth-method>
                <realm-name>Services Portal</realm-name>
        </login-config>


On Thu, Jun 14, 2012 at 8:00 PM, Pid <pid@pidster.com> wrote:

> On 14/06/2012 15:06, Rahul R wrote:
> > Hi All,
> >
> > I have an issue with allowing access to a page which is secured using
> > active directory authentication. I want some pages/content to be excluded
> > from this. Following is my web.xml file under conf of tomcat.
> >
> >
> > [code=java]
> >
> > <security-constraint>
> >                 <web-resource-collection>
> >                         <web-resource-name>Protected
> > Area</web-resource-name>
> >                         <url-pattern>/*</url-pattern>
> >                 </web-resource-collection>
> >
> >                 <auth-constraint>
> > <--! These are the groups in AD -->
> >                         <role-name>Engineering</role-
> > name>
> >                         <role-name>Migration Expert</role-name>
> >                         <role-name>Developers</role-name>
> >
> >                 </auth-constraint>
> >         </security-constraint>
> >
> >   <security-constraint>
> >    <web-resource-collection>
> >       <url-pattern>/update/*</url-pattern>
> >    </web-resource-collection>
> >   </security-constraint>
> >
> >         <login-config>
> >                 <auth-method>BASIC</auth-method>
> >                 <realm-name>Services Portal</realm-name>
> >         </login-config>
> >
> > [/code]
> >
> > As per my understanding, this should allow url's with a content "update"
> > and allow other pages only with AD credentials. But this is not working
> for
> > me now. Its asking for the credentials even for the url with "update".
> >
> > Tomcat Version:7
> > Env:Linux
> > Url:http://myserver.com:8080/solar/index.jsp. Here its asking the
> > credentials, its fine and as expected.
> >
> > url with "update" in the address:
> http://myserver.com:8080/solar/site/update.
> > When I access this url, its still asking for the credentials.
>
> This:
>  /solar/site/update
>
> does not match this pattern:
>  <url-pattern>/update/*</url-pattern>
>
>
> the pattern would have to be:
>  <url-pattern>/site/update/*</url-pattern>
>
>
> p
>
> > I am not really sure why this is happening. Could anyone here can help me
> > on this?
> >
> >
>
>
> --
>
> [key:62590808]
>
>


-- 
Thanks,
Regards,
Rahul R

  .~.
  /V\
 // \\
/(   )\
 ^`~'^

Mob: 09008030921

--e89a8f647b3d5030f104c49c7273--

From users-return-235426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 07:22:43 2012
Return-Path: <users-return-235426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BFBFD4CB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 07:22:43 +0000 (UTC)
Received: (qmail 27852 invoked by uid 500); 12 Jul 2012 07:22:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27726 invoked by uid 500); 12 Jul 2012 07:22:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27701 invoked by uid 99); 12 Jul 2012 07:22:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 07:22:38 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of dhaval.jaiswal@via.com does not designate 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 07:22:32 +0000
Received: by vcbfl15 with SMTP id fl15so194950vcb.18
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 00:22:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=via.com; s=google;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=uK1VlM9C/Tft9pUPIq7FMToN3MNFVlMxWmrWVjfJh6Q=;
        b=ALBf7WUZL0dKUvVG8zKZHaMsnp0WZP4Px5j72TKSA6TITLWlTf/yoXjQDH0Z5IBGZJ
         cE241tFFSQThQyjamf8YCNhzQ1NkEaiGgjTnjGyNLiy3tT3JXHKvfpbPK5+hjTPWYT4G
         Ju39izS3sEulAMGnW0NrYyC89rnAopn9kV4sI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :x-gm-message-state;
        bh=uK1VlM9C/Tft9pUPIq7FMToN3MNFVlMxWmrWVjfJh6Q=;
        b=mZpu6lpDWPN/MK/826Dda7jmWkn56t4x/2h2kOHxbnS9YHLKxuH69iTq+foGwqPSJi
         xqln4o3qbhpmubk5TzA/ax603aHRzj2T0AVJ2FHLjiG1PNhdArYOw2yS1WjjwySitrq1
         qNoNcPm4CwucnrvTJfpoXgKSMpLRhvPiAzrIVhfLzKhhXK/xG4+ogSZ4gmEFRUcB7rI2
         VvVXJFYzwsUTrGCmMiboBeeX5kreA5iUztxQYeRtMRb0Es5EdkCDSW1zcurR1BU4zLcT
         QPAuf5+OFfx8hKJHks3hDae4P4RJLYTH0NJCZjTbf7ppmSUfa2bMei0VSF5dFbpRq130
         CeeQ==
MIME-Version: 1.0
Received: by 10.52.69.200 with SMTP id g8mr20904816vdu.113.1342077731356; Thu,
 12 Jul 2012 00:22:11 -0700 (PDT)
Received: by 10.220.146.83 with HTTP; Thu, 12 Jul 2012 00:22:11 -0700 (PDT)
Date: Thu, 12 Jul 2012 12:52:11 +0530
Message-ID: <CABKrPsNZrNLm463fN1GxpYS59qcpAEDdUBEN64KZ+a6Q=GuNBw@mail.gmail.com>
Subject: Website is getting logged out frequently.
From: Dhaval Jaiswal <dhaval.jaiswal@via.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf307d0454703ffa04c49cd25a
X-Gm-Message-State: ALoCoQlGXCo2p/7W1sLmL1SBLzqv+gpgi2h71Yw4+sjwz0PU6YZg+GCs2vtGgf263PzdjakDZInt

--20cf307d0454703ffa04c49cd25a
Content-Type: text/plain; charset=ISO-8859-1

Website is getting logged out frequently.

What could be the cause. Is it from httpd, AJP or tomcat site. We have
session time out of 1 hour.


Thanks & Regards,
Dhaval jaiswal
80953-97843.

--20cf307d0454703ffa04c49cd25a--

From users-return-235427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 07:34:04 2012
Return-Path: <users-return-235427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04B43DF78
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 07:34:03 +0000 (UTC)
Received: (qmail 62631 invoked by uid 500); 12 Jul 2012 07:34:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62444 invoked by uid 500); 12 Jul 2012 07:34:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62423 invoked by uid 99); 12 Jul 2012 07:34:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 07:34:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.59] (HELO smtpout.wanadoo.co.uk) (80.12.242.59)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 07:33:54 +0000
Received: from mail.homeinbox.net ([2.24.218.56])
	by mwinf5d32 with ME
	id ZKZY1j00L1DbpBW03KZZo4; Thu, 12 Jul 2012 09:33:33 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id CE710EAB6DE
	for <users@tomcat.apache.org>; Thu, 12 Jul 2012 08:33:32 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ecdVgtTWG2Sz for <users@tomcat.apache.org>;
	Thu, 12 Jul 2012 08:33:25 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id DBE48EAB6E5
	for <users@tomcat.apache.org>; Thu, 12 Jul 2012 08:33:21 +0100 (BST)
Message-ID: <4FFE7DBB.6010902@apache.org>
Date: Thu, 12 Jul 2012 08:33:15 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Website is getting logged out frequently.
References: <CABKrPsNZrNLm463fN1GxpYS59qcpAEDdUBEN64KZ+a6Q=GuNBw@mail.gmail.com>
In-Reply-To: <CABKrPsNZrNLm463fN1GxpYS59qcpAEDdUBEN64KZ+a6Q=GuNBw@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/07/2012 08:22, Dhaval Jaiswal wrote:
> Website is getting logged out frequently.
> 
> What could be the cause. Is it from httpd, AJP or tomcat site. We have
> session time out of 1 hour.

http://www.catb.org/~esr/faqs/smart-questions.html

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 11:25:35 2012
Return-Path: <users-return-235428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42A88D259
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 11:25:35 +0000 (UTC)
Received: (qmail 82967 invoked by uid 500); 12 Jul 2012 11:25:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82726 invoked by uid 500); 12 Jul 2012 11:25:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82692 invoked by uid 99); 12 Jul 2012 11:25:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 11:25:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anuragkapur@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 11:25:22 +0000
Received: by pbbro12 with SMTP id ro12so4381897pbb.18
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 04:25:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=lb9KoZ5NfUITb73m1cv0cowhShKZ+OAKnUU0xjXLJiY=;
        b=YmOOvi5OlKIPwz1UI6a6lxCFlpGyo+kxTkWa7eBFSZp1jCcL1eiET6WRrOhDrBVWyF
         /zXVRd0lD+dxnSMd6aPjFDAI0yNNX0uTtKtJlrB/QMJBVFt5w94bmNH5QSsxmyuxoqj3
         S94Q0A1bOSerKG99JRo7XGUwd3wfm7uZreFOY1Jr+eaiwhDApgYidmQoK/LFQ0WqILBB
         PdNMC3zJAcpTZkNk1CIr5uqPAebXs/Wnyuz3RtYSYOLBEPaxvmOTJR+9birm6BN4hiUX
         /r7JI5sHkuQO9m7FbJNVyYyWVlmal2iIxzup8yXvrWJw1mmdqoXldss/rDspwP36/Asf
         wQGA==
Received: by 10.68.231.10 with SMTP id tc10mr4695571pbc.107.1342092302393;
 Thu, 12 Jul 2012 04:25:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.142.186.2 with HTTP; Thu, 12 Jul 2012 04:24:32 -0700 (PDT)
In-Reply-To: <CAA2XZnm8y_EN8hBoe=apy8N5TABDTDJYmaPG4aFOg6dMj0RfcQ@mail.gmail.com>
References: <CAA2XZnm8y_EN8hBoe=apy8N5TABDTDJYmaPG4aFOg6dMj0RfcQ@mail.gmail.com>
From: Anurag Kapur <anuragkapur@gmail.com>
Date: Thu, 12 Jul 2012 12:24:32 +0100
Message-ID: <CAFftEEEN+0JA1DL4oW+PFE0KveoPz_3eWrK9jBWw2RR8ncbyDw@mail.gmail.com>
Subject: Re: App becomes sluggish - Tomcat 7.0.23
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b33d19ef0a12b04c4a0364d
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b33d19ef0a12b04c4a0364d
Content-Type: text/plain; charset=ISO-8859-1

To little info to say something concrete, but maybe there is a memory leak
in your app which manifests over days and causes slowness.

Best way to prove - take some heapdumps of monitor the heap using tools
like JConsole / PSI Probe when your app becomes sluggish (before you
restart). Maybe there are long and frequent GC pauses which go in vain as
there is no memory to collect.

Also, take some thread dumps when this happens again to see what they are
actually waiting on.

You can post the info from heap monitoring and thread dumps here if you
need help analyzing them.

Hope this helps.
--
Anurag Kapur

Twitter: @anuragkapur <http://www.twitter.com/anuragkapur>
AboutMe: http://www.anuragkapur.com

*Make a difference, donate for a wonderful cause..*
British 10k Page: http://www.justgiving.com/Anurag-Kapur-B10k-2012



On Tue, Jul 10, 2012 at 6:45 PM, Sri Kon <rallavagu@gmail.com> wrote:

> e) running on Tomcat 7.0.23. The symptom
> is that after running for few days (4 to 5 days typically) the response
> becomes very slow. The page that usually loads in 2 seconds takes anywhere
> from 30 to 50 seconds. A restart brings the response back to normal (2
> sec). I have taken thread dumps before and after. I see the thread in
> question (which is taking longer time to respond) has a lock. Here is the
> snippet.
>

--047d7b33d19ef0a12b04c4a0364d--

From users-return-235429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 11:29:42 2012
Return-Path: <users-return-235429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A235CD3F1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 11:29:42 +0000 (UTC)
Received: (qmail 93189 invoked by uid 500); 12 Jul 2012 11:29:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93016 invoked by uid 500); 12 Jul 2012 11:29:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92987 invoked by uid 99); 12 Jul 2012 11:29:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 11:29:38 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of laogong_4969@qq.com designates 64.71.138.43 as permitted sender)
Received: from [64.71.138.43] (HELO smtpbg52.qq.com) (64.71.138.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jul 2012 11:29:28 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1342092546; bh=jkGVedKPlZLC6b82u9gprAwEu0QremhbcZoSnie75ss=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer:X-QQ-ReplyHash;
	b=UrxHxH01Mjvs/ntZMfSP9xtJBfQZZCde+uc2KibCub3hp+2r1A4P8QzNrrin4wwc2
	 9CRmiwvJg+gCqjojiZ10+ffcC4zDytHCIoNMP60BdYaYwERgt/+egJ81DvOkb8A
X-QQ-SSF: 00000000000000F000000000000000Z
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 14.154.240.118
X-QQ-STYLE: 
X-QQ-mid: webmail368t1342092543t638333
From: "=?gb18030?B?wMu8o+W+s74=?=" <laogong_4969@qq.com>
To: "=?gb18030?B?VG9tY2F0IFVzZXJzIExpc3Q=?=" <users@tomcat.apache.org>
Subject: Re: Apache-tomcat-7.0.29 can't startup in my computer.
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4FFEB4FF_D5B28A28_76C37319"
Content-Transfer-Encoding: 8Bit
Date: Thu, 12 Jul 2012 19:29:03 +0800
X-Priority: 3
Message-ID: <tencent_71F676E12DAA87BB566BE29B@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 897096347
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4FFEB4FF_D5B28A28_76C37319
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

SGksDQogVGhhbmtzIHRvIHJlcGx5IQ0KIENhbiB5b3UgdGVsbCBtZSBob3cgdG8gdHJ5IHRv
IGZpeCB0aGUgcHJvYmxlbT8NCiBJIGhhdmUgcmVpbnN0YWxsIHRoZSBhcGFjaGUtdG9tY2F0
LTcuMC4yOC5leGUsIGJ1dCB0aGUgcHJvYmxlbSBpcyBzdGlsbCB0aGVyZS4NCiAgDQogVGhl
IGxvZyBpcyB0aGUgc2FtZSBhcyBiZWZvcmU6DQogDQoyMDEyLTA3LTEyIDE5OjI1OjQ4IENv
bW1vbnMgRGFlbW9uIHByb2NydW4gc3RkZXJyIGluaXRpYWxpemVkDQpqYXZhLmxhbmcuTm9D
bGFzc0RlZkZvdW5kRXJyb3I6IG9yZy9hcGFjaGUvanVsaS9sb2dnaW5nL0xvZ0ZhY3RvcnkN
CiBhdCBvcmcuYXBhY2hlLmNhdGFsaW5hLnN0YXJ0dXAuQm9vdHN0cmFwLjxjbGluaXQ+KEJv
b3RzdHJhcC5qYXZhOjYwKQ0KQ2F1c2VkIGJ5OiBqYXZhLmxhbmcuQ2xhc3NOb3RGb3VuZEV4
Y2VwdGlvbjogb3JnLmFwYWNoZS5qdWxpLmxvZ2dpbmcuTG9nRmFjdG9yeQ0KIGF0IGphdmEu
bmV0LlVSTENsYXNzTG9hZGVyJDEucnVuKFVua25vd24gU291cmNlKQ0KIGF0IGphdmEubmV0
LlVSTENsYXNzTG9hZGVyJDEucnVuKFVua25vd24gU291cmNlKQ0KIGF0IGphdmEuc2VjdXJp
dHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoTmF0aXZlIE1ldGhvZCkNCiBhdCBq
YXZhLm5ldC5VUkxDbGFzc0xvYWRlci5maW5kQ2xhc3MoVW5rbm93biBTb3VyY2UpDQogYXQg
amF2YS5sYW5nLkNsYXNzTG9hZGVyLmxvYWRDbGFzcyhVbmtub3duIFNvdXJjZSkNCiBhdCBq
YXZhLmxhbmcuQ2xhc3NMb2FkZXIubG9hZENsYXNzKFVua25vd24gU291cmNlKQ0KIC4uLiAx
IG1vcmUNCkV4Y2VwdGlvbiBpbiB0aHJlYWQgIm1haW4iIA0KICANCg0KIA0KDQogLS0tLS0t
LS0tLS0tLS0tLS0tIE9yaWdpbmFsIC0tLS0tLS0tLS0tLS0tLS0tLQ0KICBGcm9tOiAgIklz
dXJ1IFJhbmF3YWthIjxpcmphbml0aEBnbWFpbC5jb20+Ow0KIERhdGU6ICBUaHUsIEp1bCAx
MiwgMjAxMiAwMDoxOCBBTQ0KIFRvOiAgIlRvbWNhdCBVc2VycyBMaXN0Ijx1c2Vyc0B0b21j
YXQuYXBhY2hlLm9yZz47IA0KIA0KIFN1YmplY3Q6ICBSZTogQXBhY2hlLXRvbWNhdC03LjAu
MjkgY2FuJ3Qgc3RhcnR1cCBpbiBteSBjb21wdXRlci4NCg0KIA0KDQpIaSwNClRoaXMgZXJy
b3IgY2FuIGJlIGFwcGVhcmVkIHdoZW4gdGhhdCBjbGFzcyBpcyBzZWVuIGF0IGNvbXBpbGUg
dGltZSBhbmQgbm90DQppbiBydW4gdGltZSBvciBpZiB1IGFkZCBhbmQgcmVtb3ZlIHJlbGV2
YW50IGphciBmaWxlIG1vcmUgdGhhbiBvbmUNCnRpbWUudGhlbiB0aGVyZSBjYW4gYmUgYSBw
b3NzaWJpbGl0eSB0aGF0IGF0IHJ1biB0aW1lIGl0IHBpY2tzIGEgY2xhc3MNCndoaWNoICB3
YXMgbm90IHBpY2tlZCBhdCBjb21waWxlIHRpbWUu

------=_NextPart_4FFEB4FF_D5B28A28_76C37319--


From users-return-235430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 11:30:14 2012
Return-Path: <users-return-235430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 34423D636
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 11:30:14 +0000 (UTC)
Received: (qmail 96655 invoked by uid 500); 12 Jul 2012 11:30:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96486 invoked by uid 500); 12 Jul 2012 11:30:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96452 invoked by uid 99); 12 Jul 2012 11:30:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 11:30:09 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of laogong_4969@qq.com designates 64.71.138.44 as permitted sender)
Received: from [64.71.138.44] (HELO smtpbg55.qq.com) (64.71.138.44)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jul 2012 11:30:03 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1342092578; bh=gAT7ze3DydODKZw8oqhYQXePt+6HoV1wP/tmDzyiKIU=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer:X-QQ-ReplyHash;
	b=TMCQC99Bt7hkErhqZVB1Dparohoq5QPul3epm05pH8s9nYVoNpaFQ9jXDad+ekIX5
	 qeEhewu6vb/3O/Qu8Ujlp0JHESrZ8D/oTb2rQH3nUzGVFoM7ryNV1nipdGFS0qp
X-QQ-SSF: 00000000000000F000000000000000Z
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 183.16.191.97
X-QQ-STYLE: 
X-QQ-mid: webmail368t1342092575t755241
From: "=?gb18030?B?wMu8o+W+s74=?=" <laogong_4969@qq.com>
To: "=?gb18030?B?VG9tY2F0IFVzZXJzIExpc3Q=?=" <users@tomcat.apache.org>
Subject: =?gb18030?B?u9i4tKO6IEFwYWNoZS10b21jYXQtNy4wLjI5IGNh?=
 =?gb18030?B?bid0IHN0YXJ0dXAgaW4gbXkgY29tcHV0ZXIu?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4FFEB51F_D86E43F0_32EB5F30"
Content-Transfer-Encoding: 8Bit
Date: Thu, 12 Jul 2012 19:29:35 +0800
X-Priority: 3
Message-ID: <tencent_4A9FF9107C521F4D3827E9AC@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 4176542230

------=_NextPart_4FFEB51F_D86E43F0_32EB5F30
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

SGksDQogVGhhbmtzIHRvIHJlcGx5IQ0KIENhbiB5b3UgdGVsbCBtZSBob3cgdG8gdHJ5IHRv
IGZpeCB0aGUgcHJvYmxlbT8NCiBJIGhhdmUgcmVpbnN0YWxsIHRoZSBhcGFjaGUtdG9tY2F0
LTcuMC4yOC5leGUsIGJ1dCB0aGUgcHJvYmxlbSBpcyBzdGlsbCB0aGVyZS4NCiAgDQogVGhl
IGxvZyBpcyB0aGUgc2FtZSBhcyBiZWZvcmU6DQogDQoyMDEyLTA3LTEyIDE5OjI1OjQ4IENv
bW1vbnMgRGFlbW9uIHByb2NydW4gc3RkZXJyIGluaXRpYWxpemVkDQpqYXZhLmxhbmcuTm9D
bGFzc0RlZkZvdW5kRXJyb3I6IG9yZy9hcGFjaGUvanVsaS9sb2dnaW5nL0xvZ0ZhY3RvcnkN
CiBhdCBvcmcuYXBhY2hlLmNhdGFsaW5hLnN0YXJ0dXAuQm9vdHN0cmFwLjxjbGluaXQ+KEJv
b3RzdHJhcC5qYXZhOjYwKQ0KQ2F1c2VkIGJ5OiBqYXZhLmxhbmcuQ2xhc3NOb3RGb3VuZEV4
Y2VwdGlvbjogb3JnLmFwYWNoZS5qdWxpLmxvZ2dpbmcuTG9nRmFjdG9yeQ0KIGF0IGphdmEu
bmV0LlVSTENsYXNzTG9hZGVyJDEucnVuKFVua25vd24gU291cmNlKQ0KIGF0IGphdmEubmV0
LlVSTENsYXNzTG9hZGVyJDEucnVuKFVua25vd24gU291cmNlKQ0KIGF0IGphdmEuc2VjdXJp
dHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoTmF0aXZlIE1ldGhvZCkNCiBhdCBq
YXZhLm5ldC5VUkxDbGFzc0xvYWRlci5maW5kQ2xhc3MoVW5rbm93biBTb3VyY2UpDQogYXQg
amF2YS5sYW5nLkNsYXNzTG9hZGVyLmxvYWRDbGFzcyhVbmtub3duIFNvdXJjZSkNCiBhdCBq
YXZhLmxhbmcuQ2xhc3NMb2FkZXIubG9hZENsYXNzKFVua25vd24gU291cmNlKQ0KIC4uLiAx
IG1vcmUNCkV4Y2VwdGlvbiBpbiB0aHJlYWQgIm1haW4iIA0KDQogIA0KDQogDQoNCiAtLS0t
LS0tLS0tLS0tLS0tLS0g1K3KvNPKvP4gLS0tLS0tLS0tLS0tLS0tLS0tDQogILeivP7Iyzog
IkNocmlzdG9waGVyIFNjaHVsdHoiPGNocmlzQGNocmlzdG9waGVyc2NodWx0ei5uZXQ+Ow0K
ILeiy83KsbzkOiAyMDEyxOo31MIxMcjVKNDHxtrI/Skgze3JzzExOjUzDQogytW8/sjLOiAi
VG9tY2F0IFVzZXJzIExpc3QiPHVzZXJzQHRvbWNhdC5hcGFjaGUub3JnPjsgDQogDQog1vfM
4jogUmU6IEFwYWNoZS10b21jYXQtNy4wLjI5IGNhbid0IHN0YXJ0dXAgaW4gbXkgY29tcHV0
ZXIuDQoNCiANCg0KLS0tLS1CRUdJTiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KSGFzaDog
U0hBMQ0KDQrAy7yj5b6zviwNCg0KT24gNy8xMS8xMiAxMToxNSBBTSwgwMu8o+W+s74gd3Jv
dGU6DQo+IEV4Y2VwdGlvbiBpbiB0aHJlYWQgIm1haW4iIDIwMTItMDctMTEgMjE6NTQ6MjIg
Q29tbW9ucyBEYWVtb24NCj4gcHJvY3J1biBzdGRlcnIgaW5pdGlhbGl6ZWQgamF2YS5sYW5n
Lk5vQ2xhc3NEZWZGb3VuZEVycm9yOg0KPiBvcmcvYXBhY2hlL2p1bGkvbG9nZ2luZy9Mb2dG
YWN0b3J5IGF0DQo+IG9yZy5hcGFjaGUuY2F0YWxpbmEuc3RhcnR1cC5Cb290c3RyYXAuPGNs
aW5pdD4oQm9vdHN0cmFwLmphdmE6NjApIA0KPiBDYXVzZWQgYnk6IGphdmEubGFuZy5DbGFz
c05vdEZvdW5kRXhjZXB0aW9uOg0KPiBvcmcuYXBhY2hlLmp1bGkubG9nZ2luZy5Mb2dGYWN0
b3J5IGF0DQo+IGphdmEubmV0LlVSTENsYXNzTG9hZGVyJDEucnVuKFVua25vd24gU291cmNl
KSBhdA0KPiBqYXZhLm5ldC5VUkxDbGFzc0xvYWRlciQxLnJ1bihVbmtub3duIFNvdXJjZSkg
YXQNCj4gamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChOYXRp
dmUgTWV0aG9kKSBhdA0KPiBqYXZhLm5ldC5VUkxDbGFzc0xvYWRlci5maW5kQ2xhc3MoVW5r
bm93biBTb3VyY2UpIGF0DQo+IGphdmEubGFuZy5DbGFzc0xvYWRlci5sb2FkQ2xhc3MoVW5r
bm93biBTb3VyY2UpIGF0DQo+IGphdmEubGFuZy5DbGFzc0xvYWRlci5sb2FkQ2xhc3MoVW5r
bm93biBTb3VyY2UpIC4uLiAxIG1vcmUNCg0KWW91IGxvb2sgbGlrZSB5b3UgaGF2ZSBhIGJy
b2tlbiBUb21jYXQgaW5zdGFsbGF0aW9uLiBEaWQgeW91IGluc3RhbGwNCnVzaW5nIHRoZSBa
SVAgb2YgRVhFIHBhY2thZ2VzPw0KDQpUaGUgdmFsdWUgb2YgeW91ciBPUydzIENMQVNTUEFU
SCB2YXJpYWJsZSBpcyBub3QgcmVsZXZhbnQuDQoNCi0gLWNocmlzDQotLS0tLUJFR0lOIFBH
UCBTSUdOQVRVUkUtLS0tLQ0KVmVyc2lvbjogR251UEcvTWFjR1BHMiB2Mi4wLjE3IChEYXJ3
aW4pDQpDb21tZW50OiBHUEdUb29scyAtIGh0dHA6Ly9ncGd0b29scy5vcmcNCkNvbW1lbnQ6
IFVzaW5nIEdudVBHIHdpdGggTW96aWxsYSAtIGh0dHA6Ly9lbmlnbWFpbC5tb3pkZXYub3Jn
Lw0KDQppRVlFQVJFQ0FBWUZBay85b1hzQUNna1E5Q2FPNS9MdjBQQjYvd0NnaGtteFJJTTgz
dm1pOGQzQUYraHJSOEtCDQpxK2tBb0xnMk5KSVQ2QkZNOGMzUmxud3h4Y2pCcEZWWQ0KPTdt
ZUENCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQ0KDQotLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRvbWNhdC5hcGFjaGUu
b3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNh
dC5hcGFjaGUub3Jn

------=_NextPart_4FFEB51F_D86E43F0_32EB5F30--


From users-return-235431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 13:45:33 2012
Return-Path: <users-return-235431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC6BCC351
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 13:45:33 +0000 (UTC)
Received: (qmail 86638 invoked by uid 500); 12 Jul 2012 13:45:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86311 invoked by uid 500); 12 Jul 2012 13:45:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86283 invoked by uid 99); 12 Jul 2012 13:45:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 13:45:29 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 13:45:22 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Thu, 12 Jul 2012 08:50:01 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Thu, 12 Jul 2012 08:44:54 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6VgABUogQABaApoAACZ8C4AAFgc6AAAU9ryA=
Date: Thu, 12 Jul 2012 13:44:53 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
 <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com>
 <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P>
 <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
 <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de>
In-Reply-To: <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_12_08_50_03

Thanks Burghard.  That's a start, provides a little understanding.=0D=0ASee=
ms to be more about securing httpd<->Tomcat than client<->Tomcat, but I'm s=
ure the concept is the same.=0D=0AThat page does seem to be about the java-=
based standard connector, and I'm using the APR connector, which is a bit d=
ifferent in configuration.  I did notice that I probably need to read the O=
penSSL docs a bit more also.=0D=0A=0D=0AIs there anyone who's implemented t=
rue-client SSL auth over APR that would be willing to share hints/tips on h=
ow they handled certificate distributions, etc.=3F=20=0D=0A=0D=0A> -----Ori=
ginal Message-----=0D=0A> From: burghard.britzke [mailto:bubi@charmides.in-=
berlin.de]=0D=0A> Sent: Thursday, July 12, 2012 1:11 AM=0D=0A> To: Tomcat U=
sers List=0D=0A> Subject: Re: Client Authentication using SSL=0D=0A>=20=0D=0A=
> may be that article helps:=0D=0A> http://www.tomcatexpert.com/blog/2012/0=
7/10/enabling-ssl-communication-=0D=0A> and-client-certificate-authenticati=
on-between-apache-web-=0D=0A>=20=0D=0A> burghard.=0D=0A>=20=0D=0A> Am 12.07=
=2E2012 um 01:25 schrieb Jeffrey Janner:=0D=0A>=20=0D=0A> > Reposting to th=
e list, as that's the way....=0D=0A> >=0D=0A> > Esmond,=0D=0A> > We already=
 implement your solution, with the exception of the SSL=0D=0A> Client Certi=
ficate.=0D=0A> > That is what I was aiming for.=0D=0A> > Thanks for the poi=
nter to AuthenticRoast.  We'll give it a look.=0D=0A> > I've also seen some=
thing in the Apache tools called TripleSec which=0D=0A> looks interesting. =
 But really just looking for some additional info on=0D=0A> how the client =
SSL stuff really works.=0D=0A> > Jeff=0D=0A> >=0D=0A> >> -----Original Mess=
age-----=0D=0A> >> From: Esmond Pitt [mailto:esmond.pitt@bigpond.com]=0D=0A=
> >> Sent: Wednesday, July 11, 2012 5:58 PM=0D=0A> >> To: Jeffrey Janner=0D=
=0A> >> Subject: RE: Client Authentication using SSL=0D=0A> >>=0D=0A> >> Je=
ffrey=0D=0A> >>=0D=0A> >> 'Two-factor authentication' isn't supported by To=
mcat natively. Have=0D=0A> >> a look for a package in Google Code called Au=
thenticRoast. I=0D=0A> >> contributed a JAAS layer to it myself. I am using=
 it for a scenario=0D=0A> >> where I have these=0D=0A> >> 'factors':=0D=0A>=
 >>=0D=0A> >> - SSL client certificate=0D=0A> >> - 'ticket' (a UID in the U=
RL, e.g. for password resets)=0D=0A> >> - form=0D=0A> >>=0D=0A> >>=0D=0A> >=
> EJP=0D=0A> >>=0D=0A> >> -----Original Message-----=0D=0A> >> From: Jeffre=
y Janner [mailto:Jeffrey.Janner@PolyDyne.com]=0D=0A> >> Sent: Thursday, 12 =
July 2012 3:15 AM=0D=0A> >> To: 'Tomcat Users List'=0D=0A> >> Subject: RE: =
Client Authentication using SSL=0D=0A> >>=0D=0A> >>> -----Original Message-=
----=0D=0A> >>> From: Jeffrey Janner [mailto:Jeffrey.Janner@PolyDyne.com]=0D=
=0A> >>> Sent: Wednesday, July 11, 2012 11:36 AM=0D=0A> >>> To: 'Tomcat Use=
rs List'=0D=0A> >>> Subject: Client Authentication using SSL=0D=0A> >>>=0D=0A=
> >>> Looking into implemented two-factor Auth for Tomcat with first=0D=0A>=
 >>> factor being our current userid/password form.=0D=0A> >>> I figured th=
at the second factor could be Client Authentication=0D=0A> >>> using SSL, a=
s it seems readily available in Tomcat.=0D=0A> >>> Aside from the wonderful=
 Tomcat documentation on configuring the=0D=0A> >>> <connector> element, do=
es anyone else have any suggested reading on=0D=0A> >>> the subject=3F=0D=0A=
> >>> Any gotchas I should look for=3F=0D=0A> >>>=0D=0A> >>> Jeffrey Janner=0D=
=0A> >>>=0D=0A> >>=0D=0A> =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=0D=0A> >> =5F=0D=0A> >>> =5F=0D=0A> >>=0D=0A> >> Forgot to mention t=
hat I'd be running under APR/native.=0D=0A> >>=0D=0A> =5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A> >> =5F=5F=0D=0A> >> =5F=5F=5F=0D=
=0A> >>=0D=0A> >> Confidentiality Notice:  This Transmission (including any=0D=
=0A> >> attachments) may contain information that is privileged,=0D=0A> >> =
confidential, and exempt from disclosure under applicable law.  If=0D=0A> >=
> the reader of this message is not the intended recipient you are=0D=0A> >=
> hereby notified that any dissemination, distribution, or copying of=0D=0A=
> >> this communication is strictly prohibited.=0D=0A> >>=0D=0A> >> If you =
have received this transmission in error, please immediately=0D=0A> >> repl=
y to the sender or telephone (512) 343-9100 and delete this=0D=0A> >> trans=
mission from your system.=0D=0A> >>=0D=0A> >>=0D=0A> >>=0D=0A> >=0D=0A> >=0D=
=0A> =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A> > =5F=
=5F=5F=5F=0D=0A> >=0D=0A> > Confidentiality Notice:  This Transmission (inc=
luding any=0D=0A> attachments) may contain information that is privileged, =
confidential,=0D=0A> and exempt from disclosure under applicable law.  If t=
he reader of this=0D=0A> message is not the intended recipient you are here=
by notified that any=0D=0A> dissemination, distribution, or copying of this=
 communication is=0D=0A> strictly prohibited.=0D=0A> >=0D=0A> > If you have=
 received this transmission in error, please immediately=0D=0A> reply to th=
e sender or telephone (512) 343-9100 and delete this=0D=0A> transmission fr=
om your system.=0D=0A> >=0D=0A> >=0D=0A> > --------------------------------=
-------------------------------------=0D=0A> > To unsubscribe, e-mail: user=
s-unsubscribe@tomcat.apache.org=0D=0A> > For additional commands, e-mail: u=
sers-help@tomcat.apache.org=0D=0A> >=0D=0A>=20=0D=0A>=20=0D=0A> -----------=
----------------------------------------------------------=0D=0A> To unsubs=
cribe, e-mail: users-unsubscribe@tomcat.apache.org=0D=0A> For additional co=
mmands, e-mail: users-help@tomcat.apache.org=0D=0A>=20=0D=0A=0D=0A=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=0A=0D=0A=
Confidentiality Notice:  This Transmission (including any attachments) may =
contain information that is privileged, confidential, and exempt from discl=
osure under applicable law.  If the reader of this message is not the inten=
ded recipient you are hereby notified that any dissemination, distribution,=
 or copying of this communication is strictly prohibited. =20=0D=0A=0D=0AIf=
 you have received this transmission in error, please immediately reply to =
the sender or telephone (512) 343-9100 and delete this transmission from yo=
ur system.=0D=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 16:50:09 2012
Return-Path: <users-return-235432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B593DEFA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 16:50:09 +0000 (UTC)
Received: (qmail 52475 invoked by uid 500); 12 Jul 2012 16:50:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52251 invoked by uid 500); 12 Jul 2012 16:50:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52241 invoked by uid 99); 12 Jul 2012 16:50:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 16:50:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of puneet.dewan.opensrc@gmail.com designates 209.85.160.65 as permitted sender)
Received: from [209.85.160.65] (HELO mail-pb0-f65.google.com) (209.85.160.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 16:50:00 +0000
Received: by pbbro2 with SMTP id ro2so1179225pbb.0
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 09:49:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=q+Xii4aRJItf0Wb6xdfjSU0N2r4OZ36VDD/fIcKVrAY=;
        b=f7oetpyg4/rw3mCakpCw3Sr6SiWStaIIhKB4xgjgxWx+GTJBmX65MaOcZbiEkftc0q
         G9r47G93kHbQM8fzPfw2nxaIGotOUWPuF8vQtESupiE8XDLSBENxMVHIUEwLzfJBoZxb
         mqNzNXmy1NSOs/fAc6lWqF+fcJI+6No5hipjBzeCKa8UzK52axbUtUeF8IiSvuux24pV
         McIa9DahtWmcaF450i8gOAWBWP3B+CftoqvjT+o94GJ8qg1yqrSqmrBzmODt7/u8VtVH
         Fxe9VxYrr0OR6xvf0StuPJATWjx65ymE7O5kn+zOge5npfCcDHJaucJW7bdDga1bTs2G
         yTeA==
MIME-Version: 1.0
Received: by 10.68.125.228 with SMTP id mt4mr7008049pbb.21.1342111780080; Thu,
 12 Jul 2012 09:49:40 -0700 (PDT)
Received: by 10.66.148.103 with HTTP; Thu, 12 Jul 2012 09:49:39 -0700 (PDT)
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
Date: Thu, 12 Jul 2012 22:19:39 +0530
Message-ID: <CAHTu8GXHgsYGSXDXoM87PmK6_6eOjiKAAu3s5LRrP3eN_A-Yyg@mail.gmail.com>
Subject: Re: Client Authentication using SSL
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b2e48c4e68cc504c4a4bf08
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b2e48c4e68cc504c4a4bf08
Content-Type: text/plain; charset=ISO-8859-1

Excellent suggestions and the link at the bottom .
On my local machine using keystore and keypass was not working while I was
configuring a WAR on https.
I made use of truststoreFile and truststorePass in connector tag.
e.g

< Connector SSLEnabled="true"
  		   acceptCount="100"
                   connectionTimeout="20000"
                   executor="tomcatThreadPool"
                   keyAlias="tomcat"
                   keystoreFile="${catalina.base}/conf/tomcat.keystore"
                   keystorePass="changeme"

                   truststoreFile="${catalina.base}/conf/tomcat.keystore"
                   truststorePass="changeme"
maxKeepAliveRequests="15"
                   port="8443"
                   protocol="org.apache.coyote.http11.Http11Protocol"
                   redirectPort="8443"
                   scheme="https"
                   secure="true"/>



On Wed, Jul 11, 2012 at 10:05 PM, Jeffrey Janner <
Jeffrey.Janner@polydyne.com> wrote:

> Looking into implemented two-factor Auth for Tomcat with first factor
> being our current userid/password form.
> I figured that the second factor could be Client Authentication using SSL,
> as it seems readily available in Tomcat.
> Aside from the wonderful Tomcat documentation on configuring the
> <connector> element, does anyone else have any suggested reading on the
> subject?
> Any gotchas I should look for?
>
> Jeffrey Janner
> __________________________________________________________________________
>
> Confidentiality Notice:  This Transmission (including any attachments) may
> contain information that is privileged, confidential, and exempt from
> disclosure under applicable law.  If the reader of this message is not the
> intended recipient you are hereby notified that any dissemination,
> distribution, or copying of this communication is strictly prohibited.
>
> If you have received this transmission in error, please immediately reply
> to the sender or telephone (512) 343-9100 and delete this transmission from
> your system.
>

--047d7b2e48c4e68cc504c4a4bf08--

From users-return-235433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 17:23:11 2012
Return-Path: <users-return-235433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83942D0B0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 17:23:11 +0000 (UTC)
Received: (qmail 60936 invoked by uid 500); 12 Jul 2012 17:23:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60887 invoked by uid 500); 12 Jul 2012 17:23:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60873 invoked by uid 99); 12 Jul 2012 17:23:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 17:23:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of puneet.dewan.opensrc@gmail.com designates 209.85.160.65 as permitted sender)
Received: from [209.85.160.65] (HELO mail-pb0-f65.google.com) (209.85.160.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 17:23:02 +0000
Received: by pbbro2 with SMTP id ro2so1192681pbb.0
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 10:22:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XZRCMHk04Eo7oW51UydXsvFf/RtkxCqVT6vc3g72OuQ=;
        b=SoCBg2uXTJRTKcVIW2Cxb4nuP2S5zzJb428Xq9TQCqsFpIfp7XLb41Vdz+Hb3a/SKe
         GjMUhuXr3zWILq01ygz+0YeeVxsVLFNqKZvbhhGMmn27cFm8RkY7Q+ae9hnDpBEqMhbK
         n2WO6Tbfa/D22bcYuRjQEAImC6Gnqf1lcIf1hKMuG4b/3RjWINjfRLzWMlz8hrJG0n18
         6FcdpqD0b3/HQmPxruQNNm6CL9di/SvrBiMlLb0Jto+7qpJElsr6eMJbZ7RtQnpVrjJd
         /lOcrjircXPwVmGuopGb3I+EJxw+/+ndKnO1soJ7oNXDYGgIaLnnGfW9AoFCxPfwADct
         TKxA==
MIME-Version: 1.0
Received: by 10.68.125.228 with SMTP id mt4mr7233641pbb.21.1342113762517; Thu,
 12 Jul 2012 10:22:42 -0700 (PDT)
Received: by 10.66.148.103 with HTTP; Thu, 12 Jul 2012 10:22:42 -0700 (PDT)
In-Reply-To: <CAHTu8GXHgsYGSXDXoM87PmK6_6eOjiKAAu3s5LRrP3eN_A-Yyg@mail.gmail.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
	<CAHTu8GXHgsYGSXDXoM87PmK6_6eOjiKAAu3s5LRrP3eN_A-Yyg@mail.gmail.com>
Date: Thu, 12 Jul 2012 22:52:42 +0530
Message-ID: <CAHTu8GXt5_Oz5dG7usFvovy6f=6KMQL=_HbL30BpkT9vN8WQ7Q@mail.gmail.com>
Subject: Fwd: Client Authentication using SSL
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7b2e48c41020b304c4a53699
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b2e48c41020b304c4a53699
Content-Type: text/plain; charset=ISO-8859-1

The below way I used to deploy the war and able to use it :)


---------- Forwarded message ----------
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
Date: Thu, 12 Jul 2012 at 10:19 PM
Subject: Re: Client Authentication using SSL
To: Tomcat Users List <users@tomcat.apache.org>


Excellent suggestions and the link at the bottom .
On my local machine using keystore and keypass was not working while I was
configuring a WAR on https.
I made use of truststoreFile and truststorePass in connector tag.
e.g

< Connector SSLEnabled="true"
  		   acceptCount="100"
                   connectionTimeout="20000"
                   executor="tomcatThreadPool"
                   keyAlias="tomcat"
                   keystoreFile="${catalina.base}/conf/tomcat.keystore"
                   keystorePass="changeme"

                   truststoreFile="${catalina.base}/conf/tomcat.keystore"
                   truststorePass="changeme"
maxKeepAliveRequests="15"
                   port="8443"
                   protocol="org.apache.coyote.http11.Http11Protocol"
                   redirectPort="8443"
                   scheme="https"
                   secure="true"/>



On Wed, Jul 11, 2012 at 10:05 PM, Jeffrey Janner <
Jeffrey.Janner@polydyne.com> wrote:

> Looking into implemented two-factor Auth for Tomcat with first factor
> being our current userid/password form.
> I figured that the second factor could be Client Authentication using SSL,
> as it seems readily available in Tomcat.
> Aside from the wonderful Tomcat documentation on configuring the
> <connector> element, does anyone else have any suggested reading on the
> subject?
> Any gotchas I should look for?
>
> Jeffrey Janner
> __________________________________________________________________________
>
> Confidentiality Notice:  This Transmission (including any attachments) may
> contain information that is privileged, confidential, and exempt from
> disclosure under applicable law.  If the reader of this message is not the
> intended recipient you are hereby notified that any dissemination,
> distribution, or copying of this communication is strictly prohibited.
>
> If you have received this transmission in error, please immediately reply
> to the sender or telephone (512) 343-9100 and delete this transmission from
> your system.
>

--047d7b2e48c41020b304c4a53699--

From users-return-235434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 19:11:32 2012
Return-Path: <users-return-235434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B98FDCF03
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 19:11:32 +0000 (UTC)
Received: (qmail 91092 invoked by uid 500); 12 Jul 2012 19:11:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90917 invoked by uid 500); 12 Jul 2012 19:11:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90906 invoked by uid 99); 12 Jul 2012 19:11:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 19:11:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 19:11:17 +0000
X-Envelope-From: bubi@charmides.in-berlin.de
X-Envelope-To: <users@tomcat.apache.org>
Received: from [192.168.2.108] (pD9E3311E.dip.t-dialin.net [217.227.49.30])
	(authenticated bits=0)
	by einhorn.in-berlin.de (8.13.6/8.13.6/Debian-1) with ESMTP id q6CJAsBU031312
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <users@tomcat.apache.org>; Thu, 12 Jul 2012 21:10:54 +0200
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1280)
Subject: Re: Client Authentication using SSL
From: "Burghard W.V. Britzke" <bubi@charmides.in-berlin.de>
In-Reply-To: <CAHTu8GXt5_Oz5dG7usFvovy6f=6KMQL=_HbL30BpkT9vN8WQ7Q@mail.gmail.com>
Date: Thu, 12 Jul 2012 21:10:54 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <D341B279-FCDD-452B-92B8-6CB429374563@charmides.in-berlin.de>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com> <CAHTu8GXHgsYGSXDXoM87PmK6_6eOjiKAAu3s5LRrP3eN_A-Yyg@mail.gmail.com> <CAHTu8GXt5_Oz5dG7usFvovy6f=6KMQL=_HbL30BpkT9vN8WQ7Q@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1280)
X-Scanned-By: MIMEDefang_at_IN-Berlin_e.V. on 192.109.42.8
X-Virus-Checked: Checked by ClamAV on apache.org

?!

Am 12.07.2012 um 19:22 schrieb Puneet Dewan:

> The below way I used to deploy the war and able to use it :)
>=20
>=20
> ---------- Forwarded message ----------
> From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
> Date: Thu, Jul 12, 2012 at 10:19 PM
> Subject: Re: Client Authentication using SSL
> To: Tomcat Users List <users@tomcat.apache.org>
>=20
>=20
> Excellent suggestions and the link at the bottom .
> On my local machine using keystore and keypass was not working while I =
was
> configuring a WAR on https.
> I made use of truststoreFile and truststorePass in connector tag.
> e.g
>=20
> < Connector SSLEnabled=3D"true"
>  		   acceptCount=3D"100"
>                   connectionTimeout=3D"20000"
>                   executor=3D"tomcatThreadPool"
>                   keyAlias=3D"tomcat"
>                   keystoreFile=3D"${catalina.base}/conf/tomcat.keystore"=

>                   keystorePass=3D"changeme"
>=20
>                   =
truststoreFile=3D"${catalina.base}/conf/tomcat.keystore"
>                   truststorePass=3D"changeme"
> maxKeepAliveRequests=3D"15"
>                   port=3D"8443"
>                   protocol=3D"org.apache.coyote.http11.Http11Protocol"
>                   redirectPort=3D"8443"
>                   scheme=3D"https"
>                   secure=3D"true"/>
>=20
>=20
>=20
> On Wed, Jul 11, 2012 at 10:05 PM, Jeffrey Janner <
> Jeffrey.Janner@polydyne.com> wrote:
>=20
>> Looking into implemented two-factor Auth for Tomcat with first factor
>> being our current userid/password form.
>> I figured that the second factor could be Client Authentication using =
SSL,
>> as it seems readily available in Tomcat.
>> Aside from the wonderful Tomcat documentation on configuring the
>> <connector> element, does anyone else have any suggested reading on =
the
>> subject?
>> Any gotchas I should look for?
>>=20
>> Jeffrey Janner
>> =
__________________________________________________________________________=

>>=20
>> Confidentiality Notice:  This Transmission (including any =
attachments) may
>> contain information that is privileged, confidential, and exempt from
>> disclosure under applicable law.  If the reader of this message is =
not the
>> intended recipient you are hereby notified that any dissemination,
>> distribution, or copying of this communication is strictly =
prohibited.
>>=20
>> If you have received this transmission in error, please immediately =
reply
>> to the sender or telephone (512) 343-9100 and delete this =
transmission from
>> your system.
>>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 21:09:00 2012
Return-Path: <users-return-235435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 809B6D9A0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 21:09:00 +0000 (UTC)
Received: (qmail 66435 invoked by uid 500); 12 Jul 2012 21:08:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66399 invoked by uid 500); 12 Jul 2012 21:08:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66388 invoked by uid 99); 12 Jul 2012 21:08:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:08:57 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=MSGID_MULTIPLE_AT,RCVD_IN_DNSWL_NONE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.25.134.82] (HELO mailout05.t-online.de) (194.25.134.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:08:49 +0000
Received: from fwd51.aul.t-online.de (fwd51.aul.t-online.de )
	by mailout05.t-online.de with smtp 
	id 1SpQcd-0007wD-Bz; Thu, 12 Jul 2012 23:08:27 +0200
Received: from Preissa (GobB8TZGwhjZpsFDrE1UKtVtLCSm2QGnDW753HPVMo5o4LiA9+kj84BFVrb-OBVgZT@[217.95.63.179]) by fwd51.t-online.de
	with esmtp id 1SpQca-2DQsUa0; Thu, 12 Jul 2012 23:08:24 +0200
From: =?utf-8?Q?Konstantin_Prei=C3=9Fer?= <verlag.preisser@t-online.de>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
References: <4FFC56CC.5010607@christopherschultz.net> <1SodQx-10JV9E0@fwd17.aul.t-online.de> <4FFCC04D.8040501@christopherschultz.net>
In-Reply-To: <4FFCC04D.8040501@christopherschultz.net>
Subject: RE: Equivalent of Web Service Extension in IIS6 on XP Professional
Date: Thu, 12 Jul 2012 23:08:22 +0200
Message-ID: <000001cd6072$78d5d3f0$6a817bd0$@preisser@t-online.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: Ac1e9zJz+0eB9lRdTI2F1vf1U4LSegBcAZdA
Content-Language: de
X-ID: GobB8TZGwhjZpsFDrE1UKtVtLCSm2QGnDW753HPVMo5o4LiA9+kj84BFVrb-OBVgZT
X-TOI-MSGID: 0f76b513-5a76-4d03-9912-14c64a51b413
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Christopher,

> Great, thanks for the note. Could you make a small documentation patch
> and attach it to a new bugzilla issue? It's worth pointing out that
> this step isn't required in IIS 5.1 (if that is indeed true).

I think the current documentation should already make clear that the =
step isn't required for IIS 5.1, since it says:

"If you're using IIS 6.0 you must also do the following:
Using the IIS management console, add the Jakarta Isapi Redirector to =
the Web Service Extensions."

However, I think the phrase "If you're using IIS 6.0" could be changed =
to "If you're using IIS 6.0 or newer", because adding the ISAPI DLL to =
the allowed Web Service Extensions also applies for IIS 7 and 8  =
(however, there the section is named "ISAPI and CGI restrictions").


Regards,
Konstantin Prei=C3=9Fer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 21:14:39 2012
Return-Path: <users-return-235436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EFABDA00
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 21:14:39 +0000 (UTC)
Received: (qmail 86520 invoked by uid 500); 12 Jul 2012 21:14:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86466 invoked by uid 500); 12 Jul 2012 21:14:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86454 invoked by uid 99); 12 Jul 2012 21:14:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:14:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:14:29 +0000
Received: by wgbds1 with SMTP id ds1so1477412wgb.0
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 14:14:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=zw++02/CBRDTYs/N/UDP4isI1llxz4q0c20yKJ3eYGo=;
        b=B1hYGdl2VqmR/vpZ+beqHAwbM1NojtYtmphKXpcZgyY98ozzjZ0mqzEAUeJ2muzICQ
         EseSooBNiwmluDirxE/jCYDs10wKzRz7myFktpTb7U1b1FMNSd5tYVNnGowT46JqnJhA
         f112SXseVXUF+mTwVtlrrNawIa2A/7gtGo3os=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=zw++02/CBRDTYs/N/UDP4isI1llxz4q0c20yKJ3eYGo=;
        b=PnhdLEw/XYIBzmY2x3Zz/V/YA2iR+oWoo+6hX4FE/KUZtLtfmbZEL46p1WBQBDpVwb
         P+ujbja7EVu+/PH+RHgGkFA5xfkAs3OuX6t21PMW5Dxhxqkp0qH8TaxWPCbonPW810c8
         N6grzpk2Ori0/j+5SNcIrXI2RZcydIcMLkD1L+NoyqFeLPq63WAFWzKM48xUyY7Mmzwi
         xK60pCnDYrvwm/+d8hNwqCmPONVYe1L0yIrXFy0w+8HtGAmEd8B30fNzfsxg8vNpVCrm
         ZhrfvyHRMcdpc3jJdFRm812WOKy2sTSsFjTHelXiDBgyWXDaV7TD3u7zhTaAPJhB5qqq
         3lAA==
Received: by 10.216.237.193 with SMTP id y43mr24158703weq.75.1342127648876;
        Thu, 12 Jul 2012 14:14:08 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id y2sm924472wix.7.2012.07.12.14.14.07
        (version=SSLv3 cipher=OTHER);
        Thu, 12 Jul 2012 14:14:07 -0700 (PDT)
Message-ID: <4FFF3E1E.1090802@pidster.com>
Date: Thu, 12 Jul 2012 22:14:06 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu> <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com> <4FF7249F.4050808@christopherschultz.net> <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu> <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu>
In-Reply-To: <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig8309D5EA7D098057696115EC"
X-Gm-Message-State: ALoCoQkAN1Qd2B3m7tTKQuKPvaPVCiXk5qeZlbz9iQoKe6OsujbCFKXNWOa5mqM9mjDWNZYCCFME

--------------enig8309D5EA7D098057696115EC
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/07/2012 22:26, Wei, Mingzhen wrote:
> Konstantin,=20
>=20
> I followed the RUNNING.TXT after installing the binary release of Tomca=
t 5.5. But I cannot find the catalina.bat and catalina.sh for more enviro=
nmental variables to set.=20
>=20
> Why tomcat is such a pain for installation?=20

It's not.  You're making it harder.

Seriously, just download the actual binaries:

 http://tomcat.apache.org/download-70.cgi
 http://tomcat.apache.org/download-60.cgi
 http://tomcat.apache.org/download-55.cgi

Those are for Tomcat 7.0, 6.0 and 5.5.


p


> Thanks for your help.=20
>=20
> -----Original Message-----
> From: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
> Sent: Tuesday, July 10, 2012 10:57 AM
> To: Tomcat Users List
> Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP c=
ontainer
>=20
> 2012/7/10 Wei, Mingzhen <weim@mst.edu>:
>> Konstantin Kolinko,
>>
>> Could you tell me the point in more detail? I am new with Tomcat and n=
eed it badly to be able to run another application.
>>
>> Do you mean I need to try the combination of ant5.5 download + Ant 1.8=
=2E4 and JDK 1.4.2_19?
>=20
> 1. Why are you trying to build it from source?
> Why the existing binary releases are not good enough for you?
>=20
> 2. Have you read the BUILDING.txt file?
>=20
>=20
> Best regards,
> Konstantin Kolinko
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]




--------------enig8309D5EA7D098057696115EC
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP/z4hAAoJEGoM2OGpOvr9hSsP/iArDvWOq2ljm7m28Y7jUsJK
txkC1GrwRTIiGS6ec94ABJnvrBWPcTXa0KANFKudA9ldBvRByx43T4P/cBJLCTsA
oDUFlccymW3oqmacDKUmAxSESM3q3QCHjeepgVgU5JzdRZwOiExkSB3DFgiObuAJ
5GTuIrsKfunvJ7Xw4kbEYnW8GE6XgnaYUyQelNroIp9HZMfyqq9DwAgKJUQJxO6P
PVsDGbKq/xlejg6OgLWnm8ZJ7CfowupA9l2d9EYlKMBDnDKpaNRRkCaa100WJChz
/NHsVAgMhJ9resBP5E+2p/KpDSW78hBeVl1gLSZAC49+5xVcCs2Ib0/IZlRbhgBp
wNAkfmbcCYSdO8ExCDl2rvMQZENcKEkjK7aI3GxorWY1+eSJx6btloSWTWFIprIX
3r2OE/IO3rUztgA0obFJVEQipCr/Wl6s8NB4FExcvmh7O8ZIPokmcQWW9Q1vF+xk
5+OYY0V8azkURCDT+6lch7o6sT5fME+FVsd+Kw85idB+Nf8Dtw5KwW2i63dhIxej
qmFOsMsub6cI/kVPlr5iZOYLvjQMVYafUZJk04wkGdpxUk4aJ15QzkLYkfPl+9Mj
/OCmNu9weGhLm6fwFm7Yzcglu92VX9Kuu3xGmS4DEzV/YZXZKxxU7IWDLEQEGF2+
KlmOq7J+SeJCDr/syctf
=iP8u
-----END PGP SIGNATURE-----

--------------enig8309D5EA7D098057696115EC--

From users-return-235437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 21:20:34 2012
Return-Path: <users-return-235437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D0CDDA44
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 21:20:34 +0000 (UTC)
Received: (qmail 11990 invoked by uid 500); 12 Jul 2012 21:20:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11941 invoked by uid 500); 12 Jul 2012 21:20:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11932 invoked by uid 99); 12 Jul 2012 21:20:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:20:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:20:24 +0000
Received: by eaak12 with SMTP id k12so1308901eaa.18
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 14:20:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=AyY/HM9nq6PKexoX1oI3CetKEmtEXcrJsl+JQ2XfmYY=;
        b=o/Nc+JAwaBI5S8dNiNvXEkvf4BewR63q46P+Bn3agy/Co2KIQt/ylPRWi1267XXpB9
         iykTt3ToH7OiCmHpkrDpzDAr7zLLqbo7Y2br7kapOzzjZXMmvsXhJqXgAThGC8B2BuJ3
         aF0l2TpaVGRhrb9whSGKoMW7HbclKUhPsyesU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=AyY/HM9nq6PKexoX1oI3CetKEmtEXcrJsl+JQ2XfmYY=;
        b=A93Xcor9Tz8T8stiXAnDJ7E0m1UnOtDQeyJzwfQq1xLaroBenxsac4dkLGw4pDoSZg
         0AkenS9J+e527gaJ/u81/8ygKhGGMQWjAY2K+9XwEI3MUu4JdRlO2Z1Y8Asy2G+lmLhj
         ebULHvTspCt5q9LBQbgNrE8KV+B/3sA8jpLxJ3Kek+D0GHANNhTjajxgePxSKkKTCZsj
         VzAfMSu3ete/rfI7pPekgcTvzuIy8hFslV3rQ82Ov8Zh9A3aNVVSLDySWq7VJ/3Dzsn4
         6DEcfxUYoFVr+aG9qIbNUvLMDMKcudX6OEl2CxZMyzBjykpWOvAA6jDp0E7CBoT0BMrf
         H9vA==
Received: by 10.14.100.193 with SMTP id z41mr13034745eef.112.1342128001250;
        Thu, 12 Jul 2012 14:20:01 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id z16sm19007421eef.16.2012.07.12.14.19.59
        (version=SSLv3 cipher=OTHER);
        Thu, 12 Jul 2012 14:20:00 -0700 (PDT)
Message-ID: <4FFF3F7F.5090905@pidster.com>
Date: Thu, 12 Jul 2012 22:19:59 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Vhost-specific configuration for deployed apps?
References: <4FFD97D5.9010207@homeport.org>
In-Reply-To: <4FFD97D5.9010207@homeport.org>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig5BDF68791D8FD54EDA5B70F1"
X-Gm-Message-State: ALoCoQm+5t59Lr84l1x4low6fL7uxrhSi9wau72SNiCqQhMC2iIrieGXrqOQ1aa0p/8CHeav2kB7
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig5BDF68791D8FD54EDA5B70F1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 11/07/2012 16:12, Dave Shevett wrote:
> Hi folks, this has come up in the list archives a couple times, but I'm=

> having a devil of a time getting it working right.
>=20
> I'm trying to set a basic set of properties to a deployed app into
> Tomcat.  Note that this app is being deployed via the tomcat manager (i=
n
> fact it's coming from Jenkins), and is in a VHost.
>=20
> The problem is I can't find the magic combination to get a couple basic=

> config params (in this case database connection details) on a per-vhost=

> basis to be available to the app.
>=20
> Right now I have a Spring PPC loading properties:
> <bean id=3D"propertyPlaceholderConfigurer"
> class=3D"org.springframework.beans.factory.config.PropertyPlaceholderCo=
nfigurer">
>=20
> 	<property name=3D"location">
>       		<value>classpath:congo.properties</value>
> 	</property>
> </bean>
>=20
> which loads 'congo.properties' off the classpath. This is working, but =
I
> think Tomcat does not have separate classpaths for each vhost, so I
> can't just drop 'congo.properties' into Catalina/hostname/ and have it
> referenced for JUST that vhost, is that correct?

Correct.

If you really need separate host configs, use split CATALINA_HOST,
CATALINA_BASE - see RUNNING.txt in your distribution.

Then you can refer to a resource inside Spring:

  <util:properties id=3D"appProps"
location=3D"file:${catalina.base}/conf/app.properties"/>
  <context:property-placeholder properties-ref=3D"appProps"/>


p

> I can't build config parameters into the app, since the app needs to be=

> generic (a .war file).  I need to pass parameters into the
> applicationContext.xml on a per-vhost basis, with the results here:
>=20
>   <bean id=3D"com.stonekeep.congo.database.Pool"
> class=3D"com.mchange.v2.c3p0.ComboPooledDataSource"
>     destroy-method=3D"close">
>     <property name=3D"driverClass" value=3D"com.mysql.jdbc.Driver"/>
>=20
>     <property name=3D"testConnectionOnCheckout" value=3D"true"/>
>=20
>     <property name=3D"jdbcUrl" value=3D"${congo.jdbcurl}" />
>     <property name=3D"user" value=3D"${congo.user}" />
>     <property name=3D"password" value=3D"${congo.password}" />
>   </bean>
>=20
> I've thought about using <Context> blocks in the vhost, or in the <Host=
>
> block for the vhost, but I can't figure out the proper mojo to get thos=
e
> Context parameters into the Spring applicationContext.
>=20
> My Spring is weak, I do apologize, but would really appreciate any help=
=2E
>=20
> Thanks!
>=20
> 	-d
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]




--------------enig5BDF68791D8FD54EDA5B70F1
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP/z+BAAoJEGoM2OGpOvr9GakP/RJaM5/qzbEdGwD5iTXTYPmD
89UInbDMkKYUmrJVU+8zNQ7I94DdUNiSiIQ5PiJGwuvNkxy0eMyRJdXEt3lzNYTH
1qVB0MlffVlW0WEJ+natFbB+oqjJoB5VnnZuuAUmGFtuTYnwDzYUPQju9WL0VXtD
YW5lg+wj5rOzqdwcLPw4+Ihpl91HjC/Bslq8e2hKYY94PgupL3eNzxvMtNTpcB3Q
qXXIQtDD+Oa1kRy7c88nhupixwqIreuKHojwdi0y295LsRsvS9dD1nsf6CZjr2B1
GmLtI9vuy3zX7aKVWb7wYAYv5M6IFjUuLtcDlKCRUTCvAGCojYfORJutqbgvk3lx
vsjyvAX7G2PCEe2i5V9+7KmSYsg/1fzEMbFWCR3/NiXCuBpzv2cqjrFmZyCmHQO7
WrdvK9wFSmmTl39omna23WGdQ2tMBv2HCr89B0OD5qc1wuV9HM1hyvAgChDtJO0Q
f47x6DUN80H+yuxNppsTS4ADpctqnNctx6VQnqhniKrZiJdb+Y/pd7EvNBnDXV7v
rO7L8KRDRmdgMeFmpA0zRxhZQgPgqiNcdtq4UAHXrduUHH+CZSzzZwONV0gUnlho
kK6rUKT7iic6YA+3OA7f/GM+A/e8cUw0FqgKQ14D+NKyTsjDmJ6KnVA2E/2BwNXk
basDoc351AU8gX6nqKj2
=7P05
-----END PGP SIGNATURE-----

--------------enig5BDF68791D8FD54EDA5B70F1--

From users-return-235438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 21:22:17 2012
Return-Path: <users-return-235438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 519E7DA61
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 21:22:17 +0000 (UTC)
Received: (qmail 22928 invoked by uid 500); 12 Jul 2012 21:22:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22732 invoked by uid 500); 12 Jul 2012 21:22:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22721 invoked by uid 99); 12 Jul 2012 21:22:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:22:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:22:07 +0000
Received: by wibhm11 with SMTP id hm11so2094056wib.0
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 14:21:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=v37bk20K19kFYvLh08tXdKspL+PE49qN/IVA22GSnTw=;
        b=L2ZU+CN1rYicnb6yxjaD1yXa0zGCNWbCxUsL5Tz9pUe89ZRgg/70W3egxgg+ZCcstP
         gOQYGA3szOnANuCm+lNykhKi/zuewBTbEXD57jEtC32EApMvFhdCGyWdLnNT15Q5VI8B
         Z6lpVyK/GmRvyH4A4sl6qoBEvafFs4y9+ZR1c=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=v37bk20K19kFYvLh08tXdKspL+PE49qN/IVA22GSnTw=;
        b=JgJg9sUwalEShaG7aFZRM2rU0OYE9nonW6rXTAwbL4ie82QC4SEf4SLG82MzzzooLO
         +y6O4J6ByMcMm6aVerfXbdl3iHU9L8kpI7YAw/bdgkI5hJlQyO49lBp9ZEL5uS45n0Yh
         hcEoKFnhzuxHR26U91pty88n9XzeFlAcWdc3U3IFjKqALNcPXmXZtUvynth8NYZKSZ01
         Q1v320lFW6HRWe8HSfLaSZ7LmyniygGmSJWtncQdf8xaa7Rc7v+zri7nmRetVyoRavUx
         PIxIttDo1dlx3ui5l4tttb8gXISmX9Txt8oY+2+HC5WbaoOsGXkfQmGgo4fDD8ti0KYX
         uaqA==
Received: by 10.180.78.33 with SMTP id y1mr14609593wiw.3.1342128106387;
        Thu, 12 Jul 2012 14:21:46 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id l5sm1346398wix.5.2012.07.12.14.21.44
        (version=SSLv3 cipher=OTHER);
        Thu, 12 Jul 2012 14:21:45 -0700 (PDT)
Message-ID: <4FFF3FEB.9070700@pidster.com>
Date: Thu, 12 Jul 2012 22:21:47 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Speeding up RMI calls
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv>
In-Reply-To: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig5DA54042822CA2153A2C8459"
X-Gm-Message-State: ALoCoQm/YS24FoLTeYNnhpi7RnmVTW89Ix734jXfzbEn8JDWEa1tVlr2dLpceb0p8huHexJN92fN
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig5DA54042822CA2153A2C8459
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 09/07/2012 16:55, Andrew Kujtan wrote:
> Tomcat Version: 7.0.27
>=20
> OS: Windows XP/7
>=20
> =20
>=20
> I'm fixing an issue we are having with a webapp that does some
> communication over RMI with a remote  server. Calls that would be
> instant in similar applications not inside the tomcat container are
> taking more than 30 seconds when called from tomcat. After debugging
> I've found that  when an RMI call is made, the classlist containing all=

> the jars in the webapp lib folders is being serialized with the data.
> Which wouldn't be a problem normally, except the webapp has >300 jars i=
n
> its lib folder.

In the other similar applications, are there 300+ jars on the classpath t=
oo?


p

> The only solution I have found is to create a custom WebAppClassloader
> that returns a zero length URL array on the getURLs() call. We don't do=

> any dynamic class loading so breaking that is not a problem.
>=20
> My question is, is there any other way to resolve this, like a
> configuration property? If not, are there any problems that I am going
> to introduce by overriding this method? Can I override the classloader
> for just this webapp or am I stuck doing it for the entire tomcat
> instance?
>=20
> =20
>=20
> Thanks,
>=20
> Andrew Kujtan
>=20
>=20


--=20

[key:62590808]




--------------enig5DA54042822CA2153A2C8459
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP/z/rAAoJEGoM2OGpOvr93WYQAKcy+TlULdIIAVjZmElDYnIj
gT2OBxBlKYcodEdSMlScJLTF4hTvVaWFVvjfcyIx7ATGtMdngg/2rm+5lba6XGn3
ICDP6G9ejdIItU9NlQEsag+IEqfKDChJqcjxoQkkV/4a02H7Q0clGIgGfGoCuhll
270rU1anF8yt5m61UHS7LW4t1jlLH6MkNNWccnuV+ZMfTIuNGL+HLgVBJKdALjGy
0cZW/VpRcoV3b9gotkViLmNB2zbm4OBNrtJ75kSLFUnwWDE8cRFtHERhlMleKszC
vBpsAFRamnHEu/+io5blnijmrpDTM2yEqtYXEZnbIymkZCgA9mpsRivl9xi90/wU
ZrK9ZrFi+Cbq4ZQ1oh7tuR+5L3szLRPFqFOxHpFlli6K8UdOTHVQy5MMTpuK9yMZ
GCSRH9I0fWBjrON4OPmQ6UL+LeB5U+eEqjxvSU8qjRPrSzoPptvLRANwv8WBktm9
AN6vcYYozxAtsKVvbghlgsRQH7P4U3yYPxg8NYAGqVUFRl4Wl8iJVJnkgLcllXJx
Ms6/g5EVqANhSn9c3dos9iPeVma/ZhIbNwofPoCfFtvQ06LyCG2eke3MCCpWKZMD
blcFujbro7Nbh5MfwIDT3C+pwx6DWKfm+eNJ40D+AsdgdAimPoy/lMxRF3hjKGaD
6nC6aj6YU3fXrGclpC1P
=M+HG
-----END PGP SIGNATURE-----

--------------enig5DA54042822CA2153A2C8459--

From users-return-235439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 21:43:04 2012
Return-Path: <users-return-235439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EFDBC963
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 21:43:04 +0000 (UTC)
Received: (qmail 89775 invoked by uid 500); 12 Jul 2012 21:43:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89725 invoked by uid 500); 12 Jul 2012 21:43:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89713 invoked by uid 99); 12 Jul 2012 21:43:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:43:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 21:42:54 +0000
Received: by weyz53 with SMTP id z53so2390587wey.18
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 14:42:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=D3FuivGFPnYjx9ce1CFAM52D/SlRCM5enfhGPTjzVpw=;
        b=HoDuBDdbtQTDTCeoptP6iu0fKHHP79wDAwK+JxTu03hnF/0ZCcytjqqq4wXzr6EwiB
         C7IV0jLbPQLSiZ+Xh62nu7DQonZQBhJlc64AAAmlv4o/0K4MO1t09xpuaIiWy1sCLPMO
         ddGXLJioweSyYD5cw24fNOUWUlHmUyqzyZd/U=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=D3FuivGFPnYjx9ce1CFAM52D/SlRCM5enfhGPTjzVpw=;
        b=Y4YEV/fo0KJFdmFcCopdb4/17X9zl9A9j77sRQ4IISKl5+gUC9twPL1qGuYUfOzHeb
         opXQAjE02DFU9xc/doPlY+EQ+HQ6BZIRGqPfx9Q0ZFvHOU16klR+dVarhebKXC8YAcgl
         99HzZMCIbY86qnzrdDvRppnp6JVKXj3O6frgxrZLazvTkV+pAyqTYr/oNU7ysLtcMRPP
         qOzfj0UbM1JmZlh1GJLZf6/EHnTlY37Z87irE2FOO4lWWmSWmYiDjkOypKEI4vaoPIwc
         3h2B6NVyfRKmrHIQeMGoDmDsRehlQd8wvliC2EI0dKWL/PN0ZB/gkeTWJMmLE3ylj+lL
         RjoQ==
Received: by 10.216.211.131 with SMTP id w3mr5418769weo.163.1342129353492;
        Thu, 12 Jul 2012 14:42:33 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id bc2sm1507452wib.0.2012.07.12.14.42.32
        (version=SSLv3 cipher=OTHER);
        Thu, 12 Jul 2012 14:42:32 -0700 (PDT)
Message-ID: <4FFF44C8.6080605@pidster.com>
Date: Thu, 12 Jul 2012 22:42:32 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Client Authentication using SSL
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com> <CAHTu8GXHgsYGSXDXoM87PmK6_6eOjiKAAu3s5LRrP3eN_A-Yyg@mail.gmail.com> <CAHTu8GXt5_Oz5dG7usFvovy6f=6KMQL=_HbL30BpkT9vN8WQ7Q@mail.gmail.com> <D341B279-FCDD-452B-92B8-6CB429374563@charmides.in-berlin.de>
In-Reply-To: <D341B279-FCDD-452B-92B8-6CB429374563@charmides.in-berlin.de>
X-Enigmail-Version: 1.4.2
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigC2E89700C697E898FC17122D"
X-Gm-Message-State: ALoCoQm94eDZXr+hIECuLlECcGcs0DsW9Lg3ckURRI5vtUAed5PPjuUJmV1CG71E2+2sRVLe/LVe
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigC2E89700C697E898FC17122D
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 12/07/2012 20:10, Burghard W.V. Britzke wrote:
> ?!

Yep, I have no idea what they're on about either.

:P


p


> Am 12.07.2012 um 19:22 schrieb Puneet Dewan:
>=20
>> The below way I used to deploy the war and able to use it :)
>>
>>
>> ---------- Forwarded message ----------
>> From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
>> Date: Thu, Jul 12, 2012 at 10:19 PM
>> Subject: Re: Client Authentication using SSL
>> To: Tomcat Users List <users@tomcat.apache.org>
>>
>>
>> Excellent suggestions and the link at the bottom .
>> On my local machine using keystore and keypass was not working while I=
 was
>> configuring a WAR on https.
>> I made use of truststoreFile and truststorePass in connector tag.
>> e.g
>>
>> < Connector SSLEnabled=3D"true"
>>  		   acceptCount=3D"100"
>>                   connectionTimeout=3D"20000"
>>                   executor=3D"tomcatThreadPool"
>>                   keyAlias=3D"tomcat"
>>                   keystoreFile=3D"${catalina.base}/conf/tomcat.keystor=
e"
>>                   keystorePass=3D"changeme"
>>
>>                   truststoreFile=3D"${catalina.base}/conf/tomcat.keyst=
ore"
>>                   truststorePass=3D"changeme"
>> maxKeepAliveRequests=3D"15"
>>                   port=3D"8443"
>>                   protocol=3D"org.apache.coyote.http11.Http11Protocol"=

>>                   redirectPort=3D"8443"
>>                   scheme=3D"https"
>>                   secure=3D"true"/>
>>
>>
>>
>> On Wed, Jul 11, 2012 at 10:05 PM, Jeffrey Janner <
>> Jeffrey.Janner@polydyne.com> wrote:
>>
>>> Looking into implemented two-factor Auth for Tomcat with first factor=

>>> being our current userid/password form.
>>> I figured that the second factor could be Client Authentication using=
 SSL,
>>> as it seems readily available in Tomcat.
>>> Aside from the wonderful Tomcat documentation on configuring the
>>> <connector> element, does anyone else have any suggested reading on t=
he
>>> subject?
>>> Any gotchas I should look for?
>>>
>>> Jeffrey Janner
>>> _____________________________________________________________________=
_____
>>>
>>> Confidentiality Notice:  This Transmission (including any attachments=
) may
>>> contain information that is privileged, confidential, and exempt from=

>>> disclosure under applicable law.  If the reader of this message is no=
t the
>>> intended recipient you are hereby notified that any dissemination,
>>> distribution, or copying of this communication is strictly prohibited=
=2E
>>>
>>> If you have received this transmission in error, please immediately r=
eply
>>> to the sender or telephone (512) 343-9100 and delete this transmissio=
n from
>>> your system.
>>>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]




--------------enigC2E89700C697E898FC17122D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJP/0TKAAoJEGoM2OGpOvr9908P/jL3eB7pzbOYOZ1XEFukmsP3
BeWxxsVV9bS6U/homdCrQp3sSHzKB4FvASZOr8SBg/6UwCERaRC+OeFPwcVablwz
tOfuFySJNsMxAzffiIjdTbtz3P/8FSxdmFssbkn3FAk9gwq5yT2v0HaP9SWWAjGd
UPXsx0rD2pclCdxehaSywk86nFVihm1v0Tuz3nzIKMh1oyA4id4klwttE5LOVzT0
GvKWA4mmyGiiCIoN1fUQk3gcJwhLxNasNhY12fvIQ/SUn8R7nfS3tnueiEz3EWL9
N1lNm0ViWjcKgPvJRNXmkRB/csXStAk7ClQGzNUBQ61+2gv+rj/oB3Q5NssZR6Wv
T/wxsavUDC/cm+9u3s0jsRh/c5zxj5dHYksar+oDKffeSHK2lmUJHeFAWQIilJua
BV+uzSnTji4FxTkL/8wPLxXznIFwlBH6a3UieU/97me9nhyRYrLg/OK87fhK52lJ
6tEFNWaxJc6f032sCHTkOnOabq6YUqOnJrm8ZjkCdw6pHKMHhR95Zg9iwwm1V+ce
O+lVfwfkAeh4E4wNCY/PrSHdDMDi6xE3wit8VCC/L+oj+FNmrY0K/Q1NrP+INZaJ
XnD+vhIx3JFxSKQjC6wffWFqsIWD3kthWYh7sEGywyZcvj8PbnfgnSmXgJKpfR1N
1ZfWAfHxMyU4IxD3PQsJ
=0u32
-----END PGP SIGNATURE-----

--------------enigC2E89700C697E898FC17122D--

From users-return-235440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 22:23:54 2012
Return-Path: <users-return-235440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F1CCCB54
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 22:23:54 +0000 (UTC)
Received: (qmail 13337 invoked by uid 500); 12 Jul 2012 22:23:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13295 invoked by uid 500); 12 Jul 2012 22:23:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13286 invoked by uid 99); 12 Jul 2012 22:23:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 22:23:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 22:23:43 +0000
Received: from [192.168.245.129] (p549E0B43.dip0.t-ipconnect.de [84.158.11.67])
	by tor.combios.es (Postfix) with ESMTPA id 8F13EDA0715
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 00:23:20 +0200 (CEST)
Message-ID: <4FFF4E58.9000901@ice-sa.com>
Date: Fri, 13 Jul 2012 00:23:20 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu> <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com> <4FF7249F.4050808@christopherschultz.net> <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu> <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu> <4FFF3E1E.1090802@pidster.com>
In-Reply-To: <4FFF3E1E.1090802@pidster.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Pid wrote:
> On 11/07/2012 22:26, Wei, Mingzhen wrote:
>> Konstantin, 
>>
>> I followed the RUNNING.TXT after installing the binary release of Tomcat 5.5. But I cannot find the catalina.bat and catalina.sh for more environmental variables to set. 
>>
>> Why tomcat is such a pain for installation? 
> 
> It's not.  You're making it harder.
> 
> Seriously, just download the actual binaries:
> 
>  http://tomcat.apache.org/download-70.cgi
>  http://tomcat.apache.org/download-60.cgi
>  http://tomcat.apache.org/download-55.cgi
> 
> Those are for Tomcat 7.0, 6.0 and 5.5.
> 
My quarter :
Yes, but I believe that the OP's confusion is due (again) to the fact that for Windows, 
there are two possibilities (the zip and the Service installer), and that the Service 
installer version does not contain all the same files as the zip version.

Considering the number of times this has come up on the list, I do not understand why the 
people who make the Service installer don't just add the missing files in (tomcat)/bin and 
bring this matter to rest once and for all.

Of course, then we'd still have to explain that the Service, once installed, does not use 
the .bat files when running as a service.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 12 22:51:11 2012
Return-Path: <users-return-235441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8167AD767
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 12 Jul 2012 22:51:11 +0000 (UTC)
Received: (qmail 76669 invoked by uid 500); 12 Jul 2012 22:51:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76622 invoked by uid 500); 12 Jul 2012 22:51:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76612 invoked by uid 99); 12 Jul 2012 22:51:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 22:51:08 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jul 2012 22:50:58 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-2.tower-29.messagelabs.com!1342133433!32648097!8
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 5638 invoked from network); 12 Jul 2012 22:50:35 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-2.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 12 Jul 2012 22:50:35 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 12 Jul 2012 17:50:00 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Thu, 12 Jul
 2012 17:50:00 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 12 Jul 2012 17:49:57 -0500
Subject: RE: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Topic: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP
 container
Thread-Index: Ac1gfQZ46idpwdq3SauOnDUP+szjgQAAqlKA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB032D08C3B@USEA-EXCH8.na.uis.unisys.com>
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu>
 <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com>
 <4FF7249F.4050808@christopherschultz.net>
 <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com>
 <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu>
 <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com>
 <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu>
 <4FFF3E1E.1090802@pidster.com> <4FFF4E58.9000901@ice-sa.com>
In-Reply-To: <4FFF4E58.9000901@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
> Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP con=
tainer

> Considering the number of times this has come up on the list, I do not=20
> understand why the people who make the Service installer don't just add
> the missing files in (tomcat)/bin and bring this matter to rest once and
> for all.

> Of course, then we'd still have to explain that the Service, once install=
ed,
> does not use the .bat files when running as a service.

Possibly exactly because of that - the service users will be wondering why =
their highly inappropriate muckings about with startup.bat and catalina.bat=
 aren't effective.  I think it would be better if the links on the download=
 page looked something like this:

    zip (pgp, md5) - runs only via scripts on Windows
    tar.gz (pgp, md5)
    32-bit Windows zip (pgp, md5) - runs via scripts or as a service
    64-bit Windows zip (pgp, md5) - runs via scripts or as a service
    32-bit/64-bit Windows Service Installer (pgp, md5) - runs only as a ser=
vice

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 02:03:50 2012
Return-Path: <users-return-235442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D82D5D1B4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 02:03:50 +0000 (UTC)
Received: (qmail 83119 invoked by uid 500); 13 Jul 2012 02:03:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83072 invoked by uid 500); 13 Jul 2012 02:03:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83063 invoked by uid 99); 13 Jul 2012 02:03:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 02:03:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jieryn@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 02:03:40 +0000
Received: by obbta14 with SMTP id ta14so5557673obb.18
        for <users@tomcat.apache.org>; Thu, 12 Jul 2012 19:03:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=brqqOqtHTzR1lEJ7+nvWwTY034rJpVFVKiNg/oy4Y08=;
        b=xFrcXBWp3QYC759OI7Kst2lw5p6aeXIPtZNOmXa7gC8D43LkFfyduGd3U5lWLh4z4t
         At39G4yjaQCRg3O/1YOlPtjqYk4rVq/L9vqgaxDu4xP8z/uJ8ikPhADqXgiP7p9RG5vS
         j6SJdoHmsH/u/t43+ckbikfF+qZLNyeNHKa3qgY1oVaqeDqjdUzPHCR00YKHKKe2RF2i
         I+YClIMOwoQI7o+RvYimXjTXVnWAQuSBHsWHF8qCpI+5RHLJzVmXm9UDdjpVQrO+3LPq
         iuapmZL2JtQS2qSjolz3PSU8aNCLgOZQn/H5XEtOB0SPm8LabJiXxeqb6/cKtQgKdqz0
         gLUA==
MIME-Version: 1.0
Received: by 10.182.85.8 with SMTP id d8mr578432obz.70.1342144999980; Thu, 12
 Jul 2012 19:03:19 -0700 (PDT)
Received: by 10.60.61.69 with HTTP; Thu, 12 Jul 2012 19:03:19 -0700 (PDT)
Date: Thu, 12 Jul 2012 22:03:19 -0400
Message-ID: <CAArU9iage6M5t5HBOPjiw4=oU8k0QP9DFNic6USFMCRkrnCrKA@mail.gmail.com>
Subject: ServletContext and WebListener
From: Jesse Farinacci <jieryn@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Greetings,

>From a javax.servlet.ServletContext, I can easily obtain all
servlet/servlet-mapping via javax.servlet.ServletRegistration, as well
as all filter/filter-mapping via javax.servlet.FilterRegistration, but
not all (let alone any) listener via java.util.EventListener ..

Does anyone know a way to obtain this information programmatically
from a ServletContext? Anyone on the EG care to update the
specification to provide this information?

-Jesse

-- 
There are 10 types of people in this world, those
that can read binary and those that can not.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 08:35:25 2012
Return-Path: <users-return-235443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26AD0DE9A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 08:35:25 +0000 (UTC)
Received: (qmail 84145 invoked by uid 500); 13 Jul 2012 08:35:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83863 invoked by uid 500); 13 Jul 2012 08:35:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83838 invoked by uid 99); 13 Jul 2012 08:35:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 08:35:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shutyaev@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 08:35:13 +0000
Received: by mail-gg0-f173.google.com with SMTP id p1so4092999ggn.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 01:34:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=3gM14hmaPF7HyYiWItLg2xWOhssGDCGB7bjj3qYCM8A=;
        b=mjPMhMbV3RS1G9kewm8lrGJhdHu9s+4ETcSyB3ZnrZoufx7BHXeJjzcLlJba7+96lh
         ENMaq/9UDaeRfvDDbz+4gDggVP8EKZuVnmhcilfcP+PvEN9RxyPJRkqCAUVWt/UoSO5l
         nPzndiLdzfk11yPCXw2UIKxR/oGD5U2AI0ZShQtV/L0DOZlfdNrlb564/sxGAnFh3jYI
         mHic69r8Y7uIQV1MPvCvK8MynQlci3l6zo4xPboh+zV1cnRweQWg9qjtS0nR92IBrE0a
         eb9RBkgWBNYR44rwGtU54AlsPQFk9R1UFvEUFGiLYUislf5IEAyYzIRRMYrXAK3zkBPS
         Z3Ew==
MIME-Version: 1.0
Received: by 10.50.95.231 with SMTP id dn7mr191542igb.18.1342168492934; Fri,
 13 Jul 2012 01:34:52 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Fri, 13 Jul 2012 01:34:52 -0700 (PDT)
Date: Fri, 13 Jul 2012 12:34:52 +0400
Message-ID: <CAGBp8g9yk2Tti+aN5hQnY5j-o4++tmeJkGpAcYjpKtQ-ydAxNg@mail.gmail.com>
Subject: a lot of threads waiting for a ThreadPool monitor
From: Alexander Shutyaev <shutyaev@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8f2354bf4004ac04c4b1f420
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f2354bf4004ac04c4b1f420
Content-Type: text/plain; charset=UTF-8

Hi all!

I've encountered a problem with an embedded tomcat. The thread dump shows a
lot of threads (106 out of 722 total) are blocked waiting for a monitor
org.apache.tomcat.util.threads.ThreadPool. The locking thread is itself
blocked on a monitor (0x00007f33e30ef000) but I can't find this monitor in
the dump which is a little bit confusing. I thought of a deadlock, but
there are no deadlocks detected in the dump. My version, config and thread
stacktraces are below. Can someone help identifying the source of the
problem? Thanks in advance.

*Tomcat version*

5.5.23

*server.xml*

<Server port="8005" shutdown="SHUTDOWN">
     <GlobalNamingResources />
     <Service name="Catalina">
          <Connector port="9090" maxHttpHeaderSize="8192" maxThreads="1000"
               minSpareThreads="25" maxSpareThreads="75"
enableLookups="false"
               redirectPort="8443" acceptCount="100"
connectionTimeout="20000"
               disableUploadTimeout="true" maxPostSize="0" />
          <Engine name="Catalina" defaultHost="localhost">
               <Host name="localhost" appBase="webapps" unpackWARs="false"
                    autoDeploy="false" xmlValidation="false"
                    xmlNamespaceAware="false" />
          </Engine>
     </Service>
</Server>

*Locking thread stacktrace*

"http-9090-Processor755" daemon prio=10 tid=0x00007f33fde43000 nid=0x5ca8
waiting for monitor entry [0x00007f33e30ef000]
     java.lang.Thread.State: BLOCKED (on object monitor)
          at org.apache.tomcat.util.threads.ThreadPool.
returnController(ThreadPool.java:440)
          - locked <0x0000000685e71038> (a org.apache.tomcat.util.
threads.ThreadPool)
          at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(
ThreadPool.java:712)
          at java.lang.Thread.run(Thread.java:679)

*Example of a waiting thread stacktrace*

"http-9090-Processor504" daemon prio=10 tid=0x000000000432b800 nid=0x5329
waiting for monitor entry [0x00007f3400218000]
     java.lang.Thread.State: BLOCKED (on object monitor)
          at org.apache.tomcat.util.threads.ThreadPool.
returnController(ThreadPool.java:440)
          - waiting to lock <0x0000000685e71038> (a org.apache.tomcat.util.
threads.ThreadPool)
          at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(
ThreadPool.java:712)
          at java.lang.Thread.run(Thread.java:679)

--e89a8f2354bf4004ac04c4b1f420--

From users-return-235444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 08:47:26 2012
Return-Path: <users-return-235444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0808FDED4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 08:47:26 +0000 (UTC)
Received: (qmail 19458 invoked by uid 500); 13 Jul 2012 08:47:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19236 invoked by uid 500); 13 Jul 2012 08:47:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19207 invoked by uid 99); 13 Jul 2012 08:47:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 08:47:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kieransun@gmx.net designates 213.165.64.23 as permitted sender)
Received: from [213.165.64.23] (HELO mailout-de.gmx.net) (213.165.64.23)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 13 Jul 2012 08:47:12 +0000
Received: (qmail 13217 invoked by uid 0); 13 Jul 2012 08:46:52 -0000
Received: from 141.4.215.32 by www050.gmx.net with HTTP;
 Fri, 13 Jul 2012 10:46:49 +0200 (CEST)
Content-Type: text/plain; charset="utf-8"
Date: Fri, 13 Jul 2012 10:46:49 +0200
From: kieransun@gmx.net
Message-ID: <20120713084649.265570@gmx.net>
MIME-Version: 1.0
Subject: Watched Resources 
To: users@tomcat.apache.org
X-Authenticated: #13100624
X-Flags: 0001
X-Mailer: WWW-Mail 6100 (Global Message Exchange)
X-Priority: 3
X-Provags-ID: V01U2FsdGVkX1/bpt1ObLnbOjK3nqhV9aGGERDZSMgegpuzQQII1E
 funP/gcSFFEjbKXHO/d9D7XhoWKhNg9ZAc8A== 
Content-Transfer-Encoding: 8bit
X-GMX-UID: LoWNb9kGeSEqNDGFrHQhydR+IGRvb4BP

Hello Tomcat users,

with the context.xml like this:

<Context path="/" docBase="" reloadable="true">
    <WatchedResource>WEB-INF/servlet-context.xml</WatchedResource>
</Context>

I want to make tomcat reloading the webapplication subseqently to changes in servlet-context.xml. It does not work. Tomcat does not react.

Do have to configure something else? 

Cheers, 
Kieran 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 09:36:22 2012
Return-Path: <users-return-235445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09016D183
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 09:36:22 +0000 (UTC)
Received: (qmail 34330 invoked by uid 500); 13 Jul 2012 09:36:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33917 invoked by uid 500); 13 Jul 2012 09:36:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33843 invoked by uid 99); 13 Jul 2012 09:36:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 09:36:14 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [67.228.103.139] (HELO cpanel21.interactivedns.com) (67.228.103.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 09:36:06 +0000
Received: from [59.92.208.214] (port=1545 helo=computer2bd5fc)
	by cpanel21.interactivedns.com with esmtpa (Exim 4.77)
	(envelope-from <svijiya@solutionscraft.com>)
	id 1SpcHb-0008HC-66
	for users@tomcat.apache.org; Fri, 13 Jul 2012 15:05:32 +0530
From: "Vijaya" <svijiya@solutionscraft.com>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
Subject: Solved - Connecting Tmcat and IIS
Date: Fri, 13 Jul 2012 15:05:28 +0530
Message-ID: <000c01cd60da$d8a5e460$89f1ad20$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000D_01CD6108.F25E2060"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: Ac1g2tZPKC40c0AaShWqFLL1mgHAQw==
Content-Language: en-us
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel21.interactivedns.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - solutionscraft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

------=_NextPart_000_000D_01CD6108.F25E2060
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello Everyone,

 

I want to post this message so that if you are struggling with
isapi_redirector to connect Tomcat and IIS. From one of the posts in
forums.iis.net, I came to know about a new redirector for IIS7
http://tomcatiis.riaforge.org. after wasting around a month to make the
isapi redirector failed in my server.  This new redirector installation has
an automatic installation that will make necessary changes automatically. No
need to change the registry, properties file and add virtual directories.
This one worked very well for me.

 

Vijaya

 


------=_NextPart_000_000D_01CD6108.F25E2060--


From users-return-235446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 10:05:41 2012
Return-Path: <users-return-235446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86163D26D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 10:05:41 +0000 (UTC)
Received: (qmail 91116 invoked by uid 500); 13 Jul 2012 10:05:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91004 invoked by uid 500); 13 Jul 2012 10:05:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90963 invoked by uid 99); 13 Jul 2012 10:05:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:05:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tim.pizey@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:05:31 +0000
Received: by wgbdr1 with SMTP id dr1so2671887wgb.0
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 03:05:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:from:date:message-id:subject:to:content-type;
        bh=NbGI8LOmS495MVO/u/hOxedYaVfX5WqPLU7NWMUohp8=;
        b=EwqD6kd7SFbbw+sV97wIssLSroK5rG5r5hjAWE+GSiyM0oqwqFTArlDsosDRg0S+cn
         F/ZAHarmGtHnySEy9/s8xpoaejpRn+xkjENBEMYO2YUy8MzVNbz2P9sQGqFsm2q53ZrV
         PVC+YCg/pL7TFhgMtcbAcuFS6WRZdMIH9HlW407/XsE/C2Y4x6dj0LG+5qXuRghiFz2G
         Hh6UsiRfYKI6iHsreobmcqgMmngTe5/t3qHAujcfj7LSwUCO8vmMJFv3dvqVQ3DJZR0E
         rwXxKAlKgI6V+LGAEMRCgbnbRifFcWL9hmu6cG9bRwXgTYBP/r6R9l89WPnstc+j9FiR
         C6kg==
Received: by 10.180.100.133 with SMTP id ey5mr1374352wib.4.1342173910494; Fri,
 13 Jul 2012 03:05:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.87.145 with HTTP; Fri, 13 Jul 2012 03:04:49 -0700 (PDT)
Reply-To: tim.pizey@gmail.com
From: Tim Pizey <tim.pizey@gmail.com>
Date: Fri, 13 Jul 2012 11:04:49 +0100
Message-ID: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
Subject: Tomcat7 deployment url change - please maintain backwards compatibility
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have just upgraded to tomcat7, to overcome a problem with
redeployment of a Spring application
resulting in the following annoyance:

INFO: Illegal access: this web application instance has been stopped
already.  Could not load
com.mysql.jdbc.profiler.ProfilerEventHandlerFactory.

The eventual following stack trace is caused by an error thrown for
debugging purposes as well as to attempt to terminate the thread
which caused the illegal access, and has no functional impact.
java.lang.IllegalStateException
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1273)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1233)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316)
        at com.mysql.jdbc.ConnectionImpl.realClose(ConnectionImpl.java:4273)
        at com.mysql.jdbc.ConnectionImpl.close(ConnectionImpl.java:1444)
        at org.hibernate.connection.DriverManagerConnectionProvider.close(DriverManagerConnectionProvider.java:152)
        at org.hibernate.connection.DriverManagerConnectionProvider.finalize(DriverManagerConnectionProvider.java:142)
        at java.lang.ref.Finalizer.invokeFinalizeMethod(Native Method)
        at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:83)
        at java.lang.ref.Finalizer.access$100(Finalizer.java:14)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:160)


Tomcat7 does seem to have fixed the problem, however I now have to
change every pom to change the tomcat deployment url
from  http://localhost:8080/manager to http://localhost:8080/manager/html.

Please maintain backwards compatibility by supplying a default of html
to the the manager url,
you will save a lot of people a lot of pointless work.


yours
Tim

-- 
Tim Pizey - http://pizey.net/~timp

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 10:38:32 2012
Return-Path: <users-return-235447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE1C490C5
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 10:38:32 +0000 (UTC)
Received: (qmail 70109 invoked by uid 500); 13 Jul 2012 10:38:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69926 invoked by uid 500); 13 Jul 2012 10:38:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69876 invoked by uid 99); 13 Jul 2012 10:38:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:38:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:38:18 +0000
Received: from mail.homeinbox.net ([2.24.224.93])
	by mwinf5d29 with ME
	id Zmdx1j00721XWuy03mdxuj; Fri, 13 Jul 2012 12:37:58 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id F2CC7EAB6F3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 11:37:56 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Y23TFVRCUK-Q for <users@tomcat.apache.org>;
	Fri, 13 Jul 2012 11:37:40 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id B0EF7EAB6E3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 11:37:40 +0100 (BST)
Message-ID: <4FFFFA6C.6030209@apache.org>
Date: Fri, 13 Jul 2012 11:37:32 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
In-Reply-To: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 13/07/2012 11:04, Tim Pizey wrote:
> Please maintain backwards compatibility by supplying a default of html
> to the the manager url,
> you will save a lot of people a lot of pointless work.

The change was made for a good reason and it will not be reverted.
Neither is the work it generates for you pointless.

If you prefer the old mapping then feel free to change it but be aware
of the security risks you taking on when you do so.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 10:39:44 2012
Return-Path: <users-return-235448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4906790CF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 10:39:44 +0000 (UTC)
Received: (qmail 75731 invoked by uid 500); 13 Jul 2012 10:39:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75605 invoked by uid 500); 13 Jul 2012 10:39:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75596 invoked by uid 99); 13 Jul 2012 10:39:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:39:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:39:32 +0000
Received: from mail.homeinbox.net ([2.24.224.93])
	by mwinf5d29 with ME
	id ZmfB1j00A21XWuy03mfB9z; Fri, 13 Jul 2012 12:39:11 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 8A489EAB6EB
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 11:39:11 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lYyAIeK2x2Fe for <users@tomcat.apache.org>;
	Fri, 13 Jul 2012 11:39:04 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 622C3EAB6E3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 11:39:04 +0100 (BST)
Message-ID: <4FFFFAC0.3070602@apache.org>
Date: Fri, 13 Jul 2012 11:38:56 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Watched Resources
References: <20120713084649.265570@gmx.net>
In-Reply-To: <20120713084649.265570@gmx.net>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 13/07/2012 09:46, kieransun@gmx.net wrote:
> Hello Tomcat users,
> 
> with the context.xml like this:
> 
> <Context path="/" docBase="" reloadable="true">

That docBase looks very, very wrong.

Mark


>     <WatchedResource>WEB-INF/servlet-context.xml</WatchedResource>
> </Context>
> 
> I want to make tomcat reloading the webapplication subseqently to changes in servlet-context.xml. It does not work. Tomcat does not react.
> 
> Do have to configure something else? 
> 
> Cheers, 
> Kieran 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 10:50:59 2012
Return-Path: <users-return-235449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85323910C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 10:50:59 +0000 (UTC)
Received: (qmail 6399 invoked by uid 500); 13 Jul 2012 10:50:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6261 invoked by uid 500); 13 Jul 2012 10:50:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6249 invoked by uid 99); 13 Jul 2012 10:50:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:50:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tim.pizey@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:50:51 +0000
Received: by wibhm11 with SMTP id hm11so360161wib.0
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 03:50:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=gJsS2tKDtrVbltwD8r/Nd+P5ZCdZFftMmtLOLiLmpe8=;
        b=hfl3KgFaXTG9g1ACj8QqX7oaMPsSNX/36actCh/Y712rzwNGk0eaO1t6JPGpEqKrhu
         XTno9uqzCJ5r0PYU929x1cMmWeRlfiJdJU0G8bUW49PYDO3eygS9tmIciobfS6tOc5Au
         nAJkR7Xwp1wOqBFlw7DcbZR8afy8gCiJdyZu1KIKxYcU+Zi/VXjorRfy982Sf1JpaYmc
         ZW5/jCYbN3w6wyQV3PjcKWUZr6L0ieqguAzXWtS0VV4n+sQR1jw73ihtYVfLvqHuZJxm
         MIO2UyiZx0eJryoT4yNWOikgVSUo3haRXakYAMEB5jbx6A+KK5FJYsE3glf1Za3g8OmI
         BmZw==
Received: by 10.180.81.165 with SMTP id b5mr3132376wiy.17.1342176629730; Fri,
 13 Jul 2012 03:50:29 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.87.145 with HTTP; Fri, 13 Jul 2012 03:50:09 -0700 (PDT)
Reply-To: tim.pizey@gmail.com
In-Reply-To: <4FFFFA6C.6030209@apache.org>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
 <4FFFFA6C.6030209@apache.org>
From: Tim Pizey <tim.pizey@gmail.com>
Date: Fri, 13 Jul 2012 11:50:09 +0100
Message-ID: <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mark,
On 13 July 2012 11:37, Mark Thomas wrote:
> On 13/07/2012 11:04, Tim Pizey wrote:
>> Please maintain backwards compatibility by supplying a default of html
>> to the the manager url,
>> you will save a lot of people a lot of pointless work.
>
> The change was made for a good reason and it will not be reverted.

I do not doubt it,  care to summarise?
I am not suggesting reversion, as far as I am aware,
unless the change is caused by the removal of a previous default.

> Neither is the work it generates for you pointless.

Please expand your assertion.

> If you prefer the old mapping then feel free to change it but be aware
> of the security risks you taking on when you do so.

Compile my own version of Tomcat7?
Modify the Maven plugin?
What security implications?

I am sorry to come back at you but your reply does not explain any of
these decisions.
I have only subscribed to the list to give you this feedback, so am
not familiar with the
context.


regards
Tim


-- 
Tim Pizey - http://pizey.net/~timp

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 10:57:53 2012
Return-Path: <users-return-235450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87013914E
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 10:57:53 +0000 (UTC)
Received: (qmail 24404 invoked by uid 500); 13 Jul 2012 10:57:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24363 invoked by uid 500); 13 Jul 2012 10:57:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24343 invoked by uid 99); 13 Jul 2012 10:57:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:57:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 10:57:42 +0000
Received: by vbbfn1 with SMTP id fn1so2943835vbb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 03:57:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FIpBPWgCXKdo4VqZhLHJKbJON36dB6IVzJRtr0TB+2g=;
        b=HqHTjQuRY6hB8md2+OSi1FopG0jz8j19PkcEYNCW+WQN8KSmWlwJAYS4Q5pn7ReQjX
         +Aa8NeO1MaasaCwqpusOS9EmCkBIoB9prMQyyFAbjypkNlvaHcxUgTJhseAoLJDmTzyD
         LrzRUVlK0ZGuodyhlbSRMggu0YBNFDj1hM/NqRkMJuHoz8jqsObZ2S8jF0EEmUxOFKvD
         Qabn8FboyyJMIJtUqJKPZgR5qyNECVkPQa/ebp0tjZIA8KIijXWjSwodkdw+fPMdvXwP
         EALYLcwdd8PsRDrrGgneQ/6wzNsN7Gz+Evu22CgLCIS9EPdzvwUIVPkFi2T4kllgM6lw
         I0ag==
MIME-Version: 1.0
Received: by 10.220.150.131 with SMTP id y3mr322068vcv.42.1342177041407; Fri,
 13 Jul 2012 03:57:21 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 13 Jul 2012 03:57:21 -0700 (PDT)
In-Reply-To: <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
	<4FFFFA6C.6030209@apache.org>
	<CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
Date: Fri, 13 Jul 2012 14:57:21 +0400
Message-ID: <CABzHfVm7i01fjcKyh4FiSBvTnfXcrdbdo3kM9MD0wbjz2akozg@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/13 Tim Pizey <tim.pizey@gmail.com>:
> Hi Mark,
> On 13 July 2012 11:37, Mark Thomas wrote:
>> On 13/07/2012 11:04, Tim Pizey wrote:
>>> Please maintain backwards compatibility by supplying a default of html
>>> to the the manager url,
>>> you will save a lot of people a lot of pointless work.
>>
>> The change was made for a good reason and it will not be reverted.
>
> I do not doubt it,  care to summarise?
> I am not suggesting reversion, as far as I am aware,
> unless the change is caused by the removal of a previous default.
>
>> Neither is the work it generates for you pointless.
>
> Please expand your assertion.
>
>> If you prefer the old mapping then feel free to change it but be aware
>> of the security risks you taking on when you do so.
>
> Compile my own version of Tomcat7?
> Modify the Maven plugin?
> What security implications?
>
> I am sorry to come back at you but your reply does not explain any of
> these decisions.
> I have only subscribed to the list to give you this feedback, so am
> not familiar with the
> context.
>

1. You are 1,5 years too late with your questions.
2. The docs are out there.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:03:09 2012
Return-Path: <users-return-235451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DC8D9213
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:03:09 +0000 (UTC)
Received: (qmail 41310 invoked by uid 500); 13 Jul 2012 11:03:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40991 invoked by uid 500); 13 Jul 2012 11:03:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40970 invoked by uid 99); 13 Jul 2012 11:03:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:03:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:02:57 +0000
Received: from mail.homeinbox.net ([2.24.224.93])
	by mwinf5d29 with ME
	id Zn2b1j00721XWuy03n2bng; Fri, 13 Jul 2012 13:02:35 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 25CA2EAB6E3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 12:02:35 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kzdQhxgdYtnb for <users@tomcat.apache.org>;
	Fri, 13 Jul 2012 12:02:18 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 35F89EAB6F3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 12:02:18 +0100 (BST)
Message-ID: <50000032.7020004@apache.org>
Date: Fri, 13 Jul 2012 12:02:10 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com> <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
In-Reply-To: <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 13/07/2012 11:50, Tim Pizey wrote:
> Hi Mark,
> On 13 July 2012 11:37, Mark Thomas wrote:
>> On 13/07/2012 11:04, Tim Pizey wrote:
>>> Please maintain backwards compatibility by supplying a default of html
>>> to the the manager url,
>>> you will save a lot of people a lot of pointless work.
>>
>> The change was made for a good reason and it will not be reverted.
> 
> I do not doubt it,  care to summarise?
> I am not suggesting reversion, as far as I am aware,
> unless the change is caused by the removal of a previous default.
> 
>> Neither is the work it generates for you pointless.
> 
> Please expand your assertion.

See the archives.

>> If you prefer the old mapping then feel free to change it but be aware
>> of the security risks you taking on when you do so.
> 
> Compile my own version of Tomcat7?
No.

> Modify the Maven plugin?
No.

> What security implications?
See the archives.


> I am sorry to come back at you but your reply does not explain any of
> these decisions.
Again, see the archives.

> I have only subscribed to the list to give you this feedback, so am
> not familiar with the
> context.
BTW, you probably want to switch Maven to /manager/text rather than
/manager/html

See the migration guide for other things that have changed between 6 and 7.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:37:18 2012
Return-Path: <users-return-235452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F1B9D2F7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:37:18 +0000 (UTC)
Received: (qmail 16200 invoked by uid 500); 13 Jul 2012 11:37:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15978 invoked by uid 500); 13 Jul 2012 11:37:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15949 invoked by uid 99); 13 Jul 2012 11:37:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:37:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of puneet.dewan.opensrc@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:37:04 +0000
Received: by pbbro12 with SMTP id ro12so6474636pbb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 04:36:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Lf4P8eR6PkroPPwGvrpPTqABh/yu0asLEv7/stV79b8=;
        b=oywF6BHNaU43aPaI/mM66LjwXg+SlStdbhU3YeGWrMgCfhOs4krliQ3g/M+8GkChI5
         zoSLWRxQD1o2hpjgXLITYDxJvccPAZhwcU5wk3kqU9RR7uqYR+jNUM45rgMTVEFoxJs6
         Fh6ifuzGJ34Mf7oNU7DMCptJ+4COKgb7dYTSN7WSy1ztDCKy1oChzJvG+DfEXm5kQc/A
         q1E701m1mJTlYIY+mZmX2o11iYN+jzy33J8NZCPqCeaeb7Junl78BvJZkAGMaxvjVHVx
         i9mgm8fxTbMR7kHURWD2ASGBQtV0teAli23jCx6cv0nat2uCwV1OD3AA4K5Ees7PYdki
         0AGg==
MIME-Version: 1.0
Received: by 10.68.192.97 with SMTP id hf1mr2636770pbc.132.1342179403571; Fri,
 13 Jul 2012 04:36:43 -0700 (PDT)
Received: by 10.66.148.103 with HTTP; Fri, 13 Jul 2012 04:36:43 -0700 (PDT)
Date: Fri, 13 Jul 2012 17:06:43 +0530
Message-ID: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
Subject: How Tomcat works?????????
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1c8b89321e104c4b47e99

--e89a8ff1c8b89321e104c4b47e99
Content-Type: text/plain; charset=ISO-8859-1

Can anyone tell me how does tomcat works????????
Architecture of Tomcat???

--e89a8ff1c8b89321e104c4b47e99--

From users-return-235453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:42:35 2012
Return-Path: <users-return-235453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71FD7D319
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:42:35 +0000 (UTC)
Received: (qmail 35265 invoked by uid 500); 13 Jul 2012 11:42:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35205 invoked by uid 500); 13 Jul 2012 11:42:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35190 invoked by uid 99); 13 Jul 2012 11:42:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:42:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.3 as permitted sender)
Received: from [206.46.173.3] (HELO vms173003pub.verizon.net) (206.46.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:42:22 +0000
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M7300LE5KHNHR80@vms173003.mailsrvcs.net> for
 users@tomcat.apache.org; Fri, 13 Jul 2012 06:41:50 -0500 (CDT)
Message-id: <5000097A.5030804@verizon.net>
Date: Fri, 13 Jul 2012 07:41:46 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: users@tomcat.apache.org
Subject: Re: How Tomcat works?????????
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
In-reply-to:
 <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

On 7/13/2012 7:36 AM, Puneet Dewan wrote:
> Can anyone tell me how does tomcat works????????

Very well!


> Architecture of Tomcat???
>

It's irrelevant as long as it works.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:43:10 2012
Return-Path: <users-return-235454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 015F3D327
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:43:09 +0000 (UTC)
Received: (qmail 41457 invoked by uid 500); 13 Jul 2012 11:43:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41400 invoked by uid 500); 13 Jul 2012 11:43:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41390 invoked by uid 99); 13 Jul 2012 11:43:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:43:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:43:00 +0000
Received: from mail.homeinbox.net ([2.24.224.93])
	by mwinf5d29 with ME
	id Znie1j00B21XWuy03nieYr; Fri, 13 Jul 2012 13:42:39 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 25B0FEAB6F6
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 12:42:38 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NZNDEJX-AVTz for <users@tomcat.apache.org>;
	Fri, 13 Jul 2012 12:42:24 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id C6116EAB6F3
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 12:42:24 +0100 (BST)
Message-ID: <50000999.7030506@apache.org>
Date: Fri, 13 Jul 2012 12:42:17 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How Tomcat works?????????
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
In-Reply-To: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 13/07/2012 12:36, Puneet Dewan wrote:
> Can anyone tell me how does tomcat works????????
> Architecture of Tomcat???

Terry Pratchett's views on the use of multiple exclamation marks extend,
in my opinion, to the question mark as well.

Try reading this:
http://www.catb.org/~esr/faqs/smart-questions.html

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:45:15 2012
Return-Path: <users-return-235455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A862D33B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:45:15 +0000 (UTC)
Received: (qmail 49930 invoked by uid 500); 13 Jul 2012 11:45:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49874 invoked by uid 500); 13 Jul 2012 11:45:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49836 invoked by uid 99); 13 Jul 2012 11:45:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:45:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of puneet.dewan.opensrc@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:45:03 +0000
Received: by pbbro12 with SMTP id ro12so6487114pbb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 04:44:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Dbem1RtMxWfiP2SDgzxzY/CypB2nZDuBP3QuIZjHlyk=;
        b=yDEprmJSEJx42eWb1n5ZtV1mWgbUM6L3qjt21ase4z11pNSRZLn/yAidzGZmb+NlZR
         LohfF0JyH5ihr9eKhD7eiHdbDCDDvktm03Cd+raW+IWeuq7qwVh0GsMT9cDsftfs+mrp
         dZbr3x4vtNFZziVjLx4DbFoyJtJZHDXJ/b+IvzNw6c7yZe70Dbr6s3YfkEF84Qqbz6mJ
         66qpSEKi5LfPOnkNHYwI/N4pbOx/gByk4fV1ePDJ91DeMJc0cyCeWrfomjCrCONyMJoF
         ow88/ktjwTVhqhtc7YTVkYUdMMWVp+x8b1F8KcHtw61ardYI/hOmDvwUFdS7DMdVBOCw
         ag5A==
MIME-Version: 1.0
Received: by 10.68.231.10 with SMTP id tc10mr2818018pbc.107.1342179882531;
 Fri, 13 Jul 2012 04:44:42 -0700 (PDT)
Received: by 10.66.148.103 with HTTP; Fri, 13 Jul 2012 04:44:42 -0700 (PDT)
In-Reply-To: <50000999.7030506@apache.org>
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
	<50000999.7030506@apache.org>
Date: Fri, 13 Jul 2012 17:14:42 +0530
Message-ID: <CAHTu8GXOzyG25-G-34WQAob7pwjU-CFsds6za4OpWK8SQu5EKw@mail.gmail.com>
Subject: Re: How Tomcat works?????????
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b33d19e1f7d2004c4b49b19

--047d7b33d19e1f7d2004c4b49b19
Content-Type: text/plain; charset=ISO-8859-1

Thanks Mark.

On Fri, Jul 13, 2012 at 5:12 PM, Mark Thomas <markt@apache.org> wrote:

> On 13/07/2012 12:36, Puneet Dewan wrote:
> > Can anyone tell me how does tomcat works????????
> > Architecture of Tomcat???
>
> Terry Pratchett's views on the use of multiple exclamation marks extend,
> in my opinion, to the question mark as well.
>
> Try reading this:
> http://www.catb.org/~esr/faqs/smart-questions.html
>
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b33d19e1f7d2004c4b49b19--

From users-return-235456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 11:51:17 2012
Return-Path: <users-return-235456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1347D348
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 11:51:17 +0000 (UTC)
Received: (qmail 65659 invoked by uid 500); 13 Jul 2012 11:51:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65521 invoked by uid 500); 13 Jul 2012 11:51:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65489 invoked by uid 99); 13 Jul 2012 11:51:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:51:13 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of darryl.lewis@unsw.edu.au designates 149.171.97.18 as permitted sender)
Received: from [149.171.97.18] (HELO smtp-dist.unsw.edu.au) (149.171.97.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 11:51:03 +0000
Received: from INFPACM001.services.comms.unsw.edu.au (INFPACM001.services.comms.unsw.edu.au [149.171.193.18])
	by smtp-dist.unsw.edu.au (8.13.6/8.13.6) with ESMTP id q6DBofXX028796
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 21:50:41 +1000 (EST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ArkEABsLAFCVq4fsgWdsb2JhbABFtX6CIiIBARYmJ4InBYEGAQgNBQsBAQseFQEJERcOAgQTDodwAwyaC5dyDUqJBIpWhlwDjkyBIoN6gVKFeIUMh2E
X-IronPort-AV: E=Sophos;i="4.77,579,1336312800"; 
   d="jpg'145?scan'145,208,145";a="162797086"
Received: from unknown (HELO INFPWXH001.ad.unsw.edu.au) ([149.171.135.236])
  by INFPACM001.services.comms.unsw.edu.au with ESMTP; 13 Jul 2012 21:39:59 +1000
Received: from INFPWXM006.ad.unsw.edu.au ([169.254.6.123]) by
 INFPWXH001.ad.unsw.edu.au ([149.171.135.236]) with mapi id 14.01.0323.003;
 Fri, 13 Jul 2012 21:50:40 +1000
From: Darryl Lewis <darryl.lewis@unsw.edu.au>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How Tomcat works?????????
Thread-Topic: How Tomcat works?????????
Thread-Index: AQHNYOv9LkdRNJymiEuSmAsDwZAzcZcnGZeA
Date: Fri, 13 Jul 2012 11:50:40 +0000
Message-ID: <CC264892.331EA%darryl.lewis@unsw.edu.au>
In-Reply-To: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
Accept-Language: en-US, en-AU
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
user-agent: Microsoft-MacOutlook/14.10.0.110310
x-originating-ip: [149.171.135.83]
Content-Type: multipart/mixed;
	boundary="_002_CC264892331EAdarryllewisunsweduau_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_002_CC264892331EAdarryllewisunsweduau_
Content-Type: text/plain; charset="us-ascii"
Content-ID: <1FC5B9E528B453478C6572D6C7167019@exch.unsw.edu.au>
Content-Transfer-Encoding: quoted-printable



On 13/07/12 9:36 PM, "Puneet Dewan" <puneet.dewan.opensrc@gmail.com> wrote:

>Can anyone tell me how does tomcat works????????
>Architecture of Tomcat???



--_002_CC264892331EAdarryllewisunsweduau_
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--_002_CC264892331EAdarryllewisunsweduau_--

From users-return-235457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 12:03:00 2012
Return-Path: <users-return-235457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8377ED399
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 12:03:00 +0000 (UTC)
Received: (qmail 92151 invoked by uid 500); 13 Jul 2012 12:02:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92077 invoked by uid 500); 13 Jul 2012 12:02:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92051 invoked by uid 99); 13 Jul 2012 12:02:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:02:55 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.99 as permitted sender)
Received: from [216.82.241.99] (HELO mail51.messagelabs.com) (216.82.241.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:02:47 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-16.tower-51.messagelabs.com!1342180943!12914668!11
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 28621 invoked from network); 13 Jul 2012 12:02:24 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-16.tower-51.messagelabs.com with RC4-SHA encrypted SMTP; 13 Jul 2012 12:02:24 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 13 Jul 2012 07:02:19 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 13 Jul
 2012 07:02:19 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 13 Jul 2012 07:02:15 -0500
Subject: RE: Watched Resources
Thread-Topic: Watched Resources
Thread-Index: Ac1g49G1wJZXuGJFRh21bJdKPCGYGAACwmOA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB032D08EE2@USEA-EXCH8.na.uis.unisys.com>
References: <20120713084649.265570@gmx.net> <4FFFFAC0.3070602@apache.org>
In-Reply-To: <4FFFFAC0.3070602@apache.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Mark Thomas [mailto:markt@apache.org]=20
> Subject: Re: Watched Resources

> On 13/07/2012 09:46, kieransun@gmx.net wrote:
> > with the context.xml like this:=20
> > <Context path=3D"/" docBase=3D"" reloadable=3D"true">

> That docBase looks very, very wrong.

As does the path.  Since the OP provided no useful information, it's imposs=
ible to respond with anything more than that configuration is very badly br=
oken.  The OP should read the documentation, then post.

Looks like we're going to referring to this a lot today:

http://www.catb.org/~esr/faqs/smart-questions.html

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 12:11:59 2012
Return-Path: <users-return-235458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E39AD3DA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 12:11:59 +0000 (UTC)
Received: (qmail 15908 invoked by uid 500); 13 Jul 2012 12:11:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15777 invoked by uid 500); 13 Jul 2012 12:11:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15746 invoked by uid 99); 13 Jul 2012 12:11:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:11:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tim.pizey@gmail.com designates 209.85.212.171 as permitted sender)
Received: from [209.85.212.171] (HELO mail-wi0-f171.google.com) (209.85.212.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:11:49 +0000
Received: by wibhq4 with SMTP id hq4so408777wib.0
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 05:11:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=S3BHmO2bhFN0jBlFF4RP3xY0W/n9Hk0Nkv1sqiycSVk=;
        b=BxolkgeW/dhvVJ/WZJiua1uBg2FuaWDtbLEterTLP5E/5/8gG6fs6sH6EpRC0x+Uyv
         Yc6+qWrY9xW4kf20BzNen12mJadg8uotJNV594Ku9Gla/ZfhL64hR7wbUc5Ezz80O4EG
         bmflUEvtTzkau2k8K03nxOaVGvqjW/65uTWoD1PyhnKvWg8+2MJMbdKWg/zKgThpHWPp
         ylArbla+AcSEWmWfapaDU0jW184TM9DhAvj2pqsclmmdfOW/hZsAQnVgdZQO8MngyEQ0
         PpGdYv8HfgRHrmyZ+dC/+n4yMtzZcL4uRY2uL0YIGNjNHLDGdMM7ygt58ScSeogo51X8
         wuUw==
Received: by 10.180.88.102 with SMTP id bf6mr3744351wib.4.1342181485866; Fri,
 13 Jul 2012 05:11:25 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.87.145 with HTTP; Fri, 13 Jul 2012 05:11:05 -0700 (PDT)
Reply-To: tim.pizey@gmail.com
In-Reply-To: <50000032.7020004@apache.org>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
 <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
 <50000032.7020004@apache.org>
From: Tim Pizey <tim.pizey@gmail.com>
Date: Fri, 13 Jul 2012 13:11:05 +0100
Message-ID: <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

In the hope of helping future users:
the migration guide is here: http://tomcat.apache.org/migration-7.html

yours
Tim


-- 
Tim Pizey - http://pizey.net/~timp

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 12:19:35 2012
Return-Path: <users-return-235459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45246D408
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 12:19:35 +0000 (UTC)
Received: (qmail 40862 invoked by uid 500); 13 Jul 2012 12:19:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40778 invoked by uid 500); 13 Jul 2012 12:19:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40765 invoked by uid 99); 13 Jul 2012 12:19:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:19:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 12:19:23 +0000
Received: from [192.168.245.129] (p549E8DBD.dip0.t-ipconnect.de [84.158.141.189])
	by tor.combios.es (Postfix) with ESMTPA id 9BF85DA06A7
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 14:19:00 +0200 (CEST)
Message-ID: <50001234.1050203@ice-sa.com>
Date: Fri, 13 Jul 2012 14:19:00 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How Tomcat works?????????
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
In-Reply-To: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Puneet Dewan wrote:
> Can anyone tell me how does tomcat works????????

We don't know.  You're on the wrong list.  On this list, we only deal with it when it 
doesn't work.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:06:13 2012
Return-Path: <users-return-235460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C32EC9553
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:06:13 +0000 (UTC)
Received: (qmail 64373 invoked by uid 500); 13 Jul 2012 13:06:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64068 invoked by uid 500); 13 Jul 2012 13:06:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64045 invoked by uid 99); 13 Jul 2012 13:06:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:06:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:06:02 +0000
Received: from omta04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ZnlZ1j00A0ldTLk53p5kMe; Fri, 13 Jul 2012 13:05:44 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta04.westchester.pa.mail.comcast.net with comcast
	id Zp5f1j00W1FXhpX3Qp5fpP; Fri, 13 Jul 2012 13:05:40 +0000
Message-ID: <50001D27.60601@christopherschultz.net>
Date: Fri, 13 Jul 2012 09:05:43 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com> <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com> <50000032.7020004@apache.org> <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
In-Reply-To: <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tim,

On 7/13/12 8:11 AM, Tim Pizey wrote:
> In the hope of helping future users: the migration guide is here:
> http://tomcat.apache.org/migration-7.html

Hopefully, users will find that guide more easily from the Tomcat home
page (cleverly hidden behind the text "Migration Guide"), and not
waste their time searching the archives for it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAAHSYACgkQ9CaO5/Lv0PAyCACeP2Jg3bkI87bOPL2xOV/ngwx3
BiYAoKYMxLTTqkzX5jFOqAGcczMsPYzb
=rYVu
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:21:16 2012
Return-Path: <users-return-235461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B9DD7965F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:21:16 +0000 (UTC)
Received: (qmail 11375 invoked by uid 500); 13 Jul 2012 13:21:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11202 invoked by uid 500); 13 Jul 2012 13:21:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11189 invoked by uid 99); 13 Jul 2012 13:21:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:21:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of puneet.dewan.opensrc@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:21:06 +0000
Received: by ggnp1 with SMTP id p1so4413575ggn.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 06:20:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VIDIrA+1tLPeKzQXYooB9tOzhj9QCKMNQtWEtFHjcyU=;
        b=xHmCsE+rcOkmQ7gvEYHa4/KQ4hLlCQh+6+SWOrfkGM5C796+jgQKPmrhSf0ORzXYYs
         bCQ/6W7SzE6Xbtb1m5LeiRyPX5/jJdOBynwGHShWEhAKXXSXSmiPc6Lgk+QtxxCE700j
         qrJAwAZj2OlU/htKYFljSsl3VGGDerbqabSdticIU47iF+sqcyc2qKx5E9vYlWr8AB8V
         q+Z5AHaU9+xeDF7lvAIE8RxHDx+d4XxHio7RceD9vv8MSMDH87OocVxqmkrBHzpowES0
         dnMgeZ8LbmYhs8d+Q3e9c3zkngEsvJjhno6XMQDYNrRyBYbWZN+aeLoCNFK14KLZznzW
         2MOw==
MIME-Version: 1.0
Received: by 10.66.87.136 with SMTP id ay8mr2208486pab.25.1342185645403; Fri,
 13 Jul 2012 06:20:45 -0700 (PDT)
Received: by 10.66.148.103 with HTTP; Fri, 13 Jul 2012 06:20:45 -0700 (PDT)
In-Reply-To: <50001234.1050203@ice-sa.com>
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>
	<50001234.1050203@ice-sa.com>
Date: Fri, 13 Jul 2012 18:50:45 +0530
Message-ID: <CAHTu8GVG9MV5c-Gxf1RVPNF_pV0rt1WZokQJNTQvHkKYOSd7LQ@mail.gmail.com>
Subject: Re: How Tomcat works?????????
From: Puneet Dewan <puneet.dewan.opensrc@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d042dfeb59dedc004c4b5f251
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042dfeb59dedc004c4b5f251
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I apologise to the community on asking the question in the wrong way.

On Fri, Jul 13, 2012 at 5:49 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Puneet Dewan wrote:
>
>> Can anyone tell me how does tomcat works????????
>>
>
> We don't know.  You're on the wrong list.  On this list, we only deal wit=
h
> it when it doesn't work.
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d042dfeb59dedc004c4b5f251--

From users-return-235462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:25:20 2012
Return-Path: <users-return-235462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EF909D09
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:25:20 +0000 (UTC)
Received: (qmail 25887 invoked by uid 500); 13 Jul 2012 13:25:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25722 invoked by uid 500); 13 Jul 2012 13:25:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25699 invoked by uid 99); 13 Jul 2012 13:25:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:25:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:25:09 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ZnhN1j00H1vXlb853pQrVk; Fri, 13 Jul 2012 13:24:51 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id ZpQt1j0091FXhpX3dpQteN; Fri, 13 Jul 2012 13:24:54 +0000
Message-ID: <500021A2.1010508@christopherschultz.net>
Date: Fri, 13 Jul 2012 09:24:50 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: a lot of threads waiting for a ThreadPool monitor
References: <CAGBp8g9yk2Tti+aN5hQnY5j-o4++tmeJkGpAcYjpKtQ-ydAxNg@mail.gmail.com>
In-Reply-To: <CAGBp8g9yk2Tti+aN5hQnY5j-o4++tmeJkGpAcYjpKtQ-ydAxNg@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alexander,

On 7/13/12 4:34 AM, Alexander Shutyaev wrote:
> I've encountered a problem with an embedded tomcat.

That sound serious.

> The thread dump shows a lot of threads (106 out of 722 total) are
> blocked waiting for a monitor 
> org.apache.tomcat.util.threads.ThreadPool.

Okay. You have maxThreads=1000. Is 106 an unusual number to be idling
in the pool?

> The locking thread is itself blocked on a monitor
> (0x00007f33e30ef000) but I can't find this monitor in the dump
> which is a little bit confusing.

I would have looked for that monitor, but you didn't provide the full
dump, so I'm just as confused as you.

> I thought of a deadlock, but there are no deadlocks detected in the
> dump. My version, config and thread stacktraces are below. Can
> someone help identifying the source of the problem?

Threads in a BLOCKED state are not a problem. Can you maybe describe
your problem in a different way? Has Tomcat stopped responding to
requests? Has CPU usage spiked such that Tomcat/JVM are consuming the
entire CPU resources?

> 5.5.23

Upgrade. I would add something like 1.5.12 to that version up there if
you could. If you are scared of changing major revisions, then try
adding 0.0.7 instead. Note that embedding Tomcat 7 is deliriously
simple when compared to the complex work of embedding past versions:
you may significantly simplify your own code by upgrading and making
the appropriate changes.

> *server.xml*
> 
> <Server port="8005" shutdown="SHUTDOWN"> <GlobalNamingResources /> 
> <Service name="Catalina"> <Connector port="9090"
> maxHttpHeaderSize="8192" maxThreads="1000"

With maxThreads=1000, you might benefit from ... well, at this point
5+ years of performance and API improvements, including NIO connectors
which might allow you to accept more connections while utilizing fewer
threads.

> minSpareThreads="25" maxSpareThreads="75"

maxThreads=1000 maxSpareThreads=75? I guess you are expecting a lot of
thread-pool thrashing.

> enableLookups="false" redirectPort="8443" acceptCount="100" 
> connectionTimeout="20000" disableUploadTimeout="true"
> maxPostSize="0" />

No POSTs? That's odd.

> <Engine name="Catalina" defaultHost="localhost"> <Host
> name="localhost" appBase="webapps" unpackWARs="false" 
> autoDeploy="false" xmlValidation="false" xmlNamespaceAware="false"
> /> </Engine> </Service> </Server>
> 
> *Locking thread stacktrace*
> 
> "http-9090-Processor755" daemon prio=10 tid=0x00007f33fde43000
> nid=0x5ca8 waiting for monitor entry [0x00007f33e30ef000] 
> java.lang.Thread.State: BLOCKED (on object monitor) at
> org.apache.tomcat.util.threads.ThreadPool. 
> returnController(ThreadPool.java:440) - locked <0x0000000685e71038>
> (a org.apache.tomcat.util. threads.ThreadPool) at
> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run( 
> ThreadPool.java:712) at java.lang.Thread.run(Thread.java:679)
> 
> *Example of a waiting thread stacktrace*
> 
> "http-9090-Processor504" daemon prio=10 tid=0x000000000432b800
> nid=0x5329 waiting for monitor entry [0x00007f3400218000] 
> java.lang.Thread.State: BLOCKED (on object monitor) at
> org.apache.tomcat.util.threads.ThreadPool. 
> returnController(ThreadPool.java:440) - waiting to lock
> <0x0000000685e71038> (a org.apache.tomcat.util. 
> threads.ThreadPool) at
> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run( 
> ThreadPool.java:712) at java.lang.Thread.run(Thread.java:679)
> 

ThreadPool.returnController is called when threads are being returned
to the pool. Do these two threads stay stuck this way if you take
several thread dumps over a few seconds?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAAIaIACgkQ9CaO5/Lv0PBnEwCgrIChmJrfQUBCCyUQTY7N7BXR
p1cAoMCi1VPWXsEQUPyoN2E8k+rZq2gG
=/Ggc
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:31:44 2012
Return-Path: <users-return-235463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5407CC4CA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:31:44 +0000 (UTC)
Received: (qmail 48476 invoked by uid 500); 13 Jul 2012 13:31:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48420 invoked by uid 500); 13 Jul 2012 13:31:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48409 invoked by uid 99); 13 Jul 2012 13:31:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:31:40 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:31:34 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ZnDo1j0091GhbT853pXFKv; Fri, 13 Jul 2012 13:31:15 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id ZpXL1j00t1FXhpX3TpXMUN; Fri, 13 Jul 2012 13:31:21 +0000
Message-ID: <50002322.8020304@christopherschultz.net>
Date: Fri, 13 Jul 2012 09:31:14 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Logging framework for Tomcat -Exceptions
References: <4FFE22D5.5060203@poonam.org> <1342057810.30268.3003.camel@dellberry> <4FFE4573.1080707@poonam.org>
In-Reply-To: <4FFE4573.1080707@poonam.org>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Kiran,

On 7/11/12 11:33 PM, Kiran Badi wrote:
> I know this is not a place to learn Java and thats not my
> intention.Its time for me to implement robust logging framework,so
> thought let me ask here as which is light weight and yet can log
> exceptions preferably both handled and unhandled.

No logging framework is going to catch your exceptions for you and
magically log them: you'll have to catch them yourself and explicitly
log them. You can easily write a Filter that you can plug-into any
servlet container (including Tomcat) that will catch any exception you
want a and log it any way you want.

As for logging frameworks, I don't know of a single one that would
somehow be incompatible with Tomcat.

Good logging frameworks include:
- - Apache log4j
- - java.util.logging
- - logback

Or, you might prefer a "meta" logging package that can work with any
of those:
- - Apache commons-logging
- - slf4j

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAAIyIACgkQ9CaO5/Lv0PDvpwCgtBCqisSe9kNB0v8Y8mAQPsiU
5rYAnjmZS9Ktn3ZrptUgFto7I2nD+Jz1
=QBHn
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:35:03 2012
Return-Path: <users-return-235464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 92130C4EE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:35:03 +0000 (UTC)
Received: (qmail 62951 invoked by uid 500); 13 Jul 2012 13:35:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62906 invoked by uid 500); 13 Jul 2012 13:35:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62885 invoked by uid 99); 13 Jul 2012 13:35:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:35:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:34:53 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id Zmvr1j0071c6gX851pabqd; Fri, 13 Jul 2012 13:34:35 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id ZpaS1j00C1FXhpX3jpaSkn; Fri, 13 Jul 2012 13:34:26 +0000
Message-ID: <500023EA.6070307@christopherschultz.net>
Date: Fri, 13 Jul 2012 09:34:34 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Exclude url from authorized access-web.xml
References: <CAHo_sfjYKaA7bMtbjV48rb_uGP98hrW1PmSo=0P_grTmBviVbQ@mail.gmail.com> <4FD9F581.1080104@pidster.com> <CAHo_sfiP5THT2twAi2SjPu0GJvMOW4=DM027fXU=p9QasHD+NQ@mail.gmail.com>
In-Reply-To: <CAHo_sfiP5THT2twAi2SjPu0GJvMOW4=DM027fXU=p9QasHD+NQ@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Rahul,

On 7/12/12 2:55 AM, Rahul R wrote:
> How can I add an email id to auth instead of adding a whole group?

You can't.

> Is that possible?

Not when using the servlet-spec-defined authorization features. You
can certainly implement anything you want on top of that.

> I don't want to give the access to all the members of the groups in
> the AD.

So make up a new group. It will be very exclusive.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAAI+oACgkQ9CaO5/Lv0PANHACeKk0D+fEmEEVTIDcFYmpF2bsf
A6cAnRfuiJdrudfJxvVvQp9feMzHMmov
=n2E/
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:37:03 2012
Return-Path: <users-return-235465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3A4FC5B8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:37:03 +0000 (UTC)
Received: (qmail 74135 invoked by uid 500); 13 Jul 2012 13:37:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73971 invoked by uid 500); 13 Jul 2012 13:37:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73962 invoked by uid 99); 13 Jul 2012 13:37:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:37:00 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:36:54 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Zmaj1j00H1ZXKqc53pccXq; Fri, 13 Jul 2012 13:36:36 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id Zpcr1j00Q1FXhpX3hpcrGv; Fri, 13 Jul 2012 13:36:51 +0000
Message-ID: <50002463.6060200@christopherschultz.net>
Date: Fri, 13 Jul 2012 09:36:35 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Watched Resources
References: <20120713084649.265570@gmx.net> <4FFFFAC0.3070602@apache.org> <99C8B2929B39C24493377AC7A121E21FB032D08EE2@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB032D08EE2@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chuck,

On 7/13/12 8:02 AM, Caldarale, Charles R wrote:
>> From: Mark Thomas [mailto:markt@apache.org] Subject: Re: Watched
>> Resources
> 
>> On 13/07/2012 09:46, kieransun@gmx.net wrote:
>>> with the context.xml like this: <Context path="/" docBase=""
>>> reloadable="true">
> 
>> That docBase looks very, very wrong.
> 
> As does the path.  Since the OP provided no useful information,
> it's impossible to respond with anything more than that
> configuration is very badly broken.  The OP should read the
> documentation, then post.
> 
> Looks like we're going to referring to this a lot today:
> 
> http://www.catb.org/~esr/faqs/smart-questions.html

This website must be wrong: its predictions don't agree with my
observations: http://stardate.org/nightsky/moon

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAAJGMACgkQ9CaO5/Lv0PAT2ACeKmDDJn+mYWEkk25BPb6EajAL
CWUAn3X9OgcaAX6T736vXw0Hk9MWt4vj
=UJ9I
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:39:36 2012
Return-Path: <users-return-235466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 73DE4C5C0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:39:36 +0000 (UTC)
Received: (qmail 81618 invoked by uid 500); 13 Jul 2012 13:39:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81439 invoked by uid 500); 13 Jul 2012 13:39:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81429 invoked by uid 99); 13 Jul 2012 13:39:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:39:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:39:26 +0000
Received: by obbta14 with SMTP id ta14so6771071obb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 06:39:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=D779xP6/MglqCRJoSv6w9A5zcWNh3V3844VT6B5osKw=;
        b=CKW7b1elkeOvPNBNEuDHqtai/FMuvsiWH+ylIxDGFcJftuja+tFMlypTuYr0gM2rE9
         hTxI4YjM58S0EiMC6fg6IBCbTVQhjk/lSCr+5YkQZyISONqhLsoJo2VcU/vU3pFbpQlg
         +GrOyQsD75pePbUyoeyP/6aS88WQ1oFOYJZNvRE8TEbCgebS/zOfYhVqRCEUuhXEgRT9
         NY6fOIOqPzZsEqZsbb45jqqpVg2jXflqSNqD27pa7KeDFQmehkzdEotVOB/haazGCV7j
         +Whu50xr32v7Ko4jcj9e+sv4bxDYtyzZY/cMSCK4Oa2Mgm4HokzXjhbuvGtgTntHsP9w
         O+uQ==
MIME-Version: 1.0
Received: by 10.182.53.103 with SMTP id a7mr1851280obp.3.1342186745921; Fri,
 13 Jul 2012 06:39:05 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Fri, 13 Jul 2012 06:39:05 -0700 (PDT)
Date: Fri, 13 Jul 2012 09:39:05 -0400
Message-ID: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
Subject: tomcat session id
From: Elias Kopsiaftis <yemista@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d04479631367e5004c4b634c6
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d04479631367e5004c4b634c6
Content-Type: text/plain; charset=ISO-8859-1

I am working on a program that uses two servlets, one for input from the
client, and one for output to the client. My question is, from the client
side, I will have two connections open to the server, one for input, and
one for output, so, when both connect, will both connections have the same
sessionid even though they are accessing two different servlets? both
servlets will be on the same tomcat

--f46d04479631367e5004c4b634c6--

From users-return-235467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 13:51:09 2012
Return-Path: <users-return-235467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE24BC6F5
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 13:51:08 +0000 (UTC)
Received: (qmail 24234 invoked by uid 500); 13 Jul 2012 13:51:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24126 invoked by uid 500); 13 Jul 2012 13:51:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24100 invoked by uid 99); 13 Jul 2012 13:51:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:51:04 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 13:50:57 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-9.tower-200.messagelabs.com!1342187435!15926312!3
X-Originating-IP: [192.61.61.105]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 16701 invoked from network); 13 Jul 2012 13:50:36 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-9.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 13 Jul 2012 13:50:36 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 13 Jul 2012 08:49:40 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 13 Jul
 2012 08:49:41 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 13 Jul 2012 08:49:36 -0500
Subject: RE: Watched Resources
Thread-Topic: Watched Resources
Thread-Index: Ac1g49G1wJZXuGJFRh21bJdKPCGYGAACwmOAAAPPTKA=
Message-ID: <99C8B2929B39C24493377AC7A121E21FB032D091F1@USEA-EXCH8.na.uis.unisys.com>
References: <20120713084649.265570@gmx.net> <4FFFFAC0.3070602@apache.org> 
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> > Looks like we're going to referring to this a lot today:
> > http://www.catb.org/~esr/faqs/smart-questions.html

> This website must be wrong: its predictions don't agree with my
> observations: http://stardate.org/nightsky/moon

I think you're forgetting that it's Friday the 13th...

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 14:11:19 2012
Return-Path: <users-return-235468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0053C7D0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 14:11:19 +0000 (UTC)
Received: (qmail 83665 invoked by uid 500); 13 Jul 2012 14:11:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83449 invoked by uid 500); 13 Jul 2012 14:11:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83416 invoked by uid 99); 13 Jul 2012 14:11:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 14:11:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tim.pizey@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 14:11:09 +0000
Received: by weyz53 with SMTP id z53so3021700wey.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 07:10:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=9XmBcjBiLvv6brxw93swracwEZb/I4066Gho2QhZobY=;
        b=b7QJtTF0xNH/9LB3rTmu3AdhnEc9v13bVovX6RwQp/2MwqBajHCwkBg/J5kKd40wqa
         8nbVpQRPoGzLUDZwYsXX+GIgf6vYZMX8RVlth7G2N3HxHOMICqhOiDkRdr+Fr2u0It4g
         mn68/ls5vQMTlwRsCbzrCVIi5A0KLrHr9A97p0rn6OSb8ODciSVVbTdNXnJNU9BWgp8r
         pYroPcgJtnMLxz4A1ieXzFgtztlIZMvgvT42xxzTMid+hB8mo3EybU2NqkAJQMoXyooQ
         JVL2n09M8zYpbc7fo1WVqKZW+2neMJE9uO8ozI50WhlKQA2eknpUpNb7O0o3/T/YUROs
         8Mew==
Received: by 10.180.98.228 with SMTP id el4mr2974829wib.17.1342188647820; Fri,
 13 Jul 2012 07:10:47 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.87.145 with HTTP; Fri, 13 Jul 2012 07:10:27 -0700 (PDT)
Reply-To: tim.pizey@gmail.com
In-Reply-To: <50001D27.60601@christopherschultz.net>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
 <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
 <50000032.7020004@apache.org> <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
 <50001D27.60601@christopherschultz.net>
From: Tim Pizey <tim.pizey@gmail.com>
Date: Fri, 13 Jul 2012 15:10:27 +0100
Message-ID: <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 13 July 2012 14:05, Christopher Schultz wrote:
> Tim,
>
> On 7/13/12 8:11 AM, Tim Pizey wrote:
>> In the hope of helping future users: the migration guide is here:
>> http://tomcat.apache.org/migration-7.html
>
> Hopefully, users will find that guide more easily from the Tomcat home
> page (cleverly hidden behind the text "Migration Guide"), and not
> waste their time searching the archives for it.
>
> - -chris

Thanks for your input.

I only joined this list this morning, and am appalled by the lack of
constructive responses.

I have just upgraded to tomcat7, it works, great, and has solved a
problem I had, great.

However I thought that my problems with redeployment were worth feeding back:

The new deployment url granularity seems like an improvement, however
I am finding that the
rationale for not providing a default for backwards compatibility is
not explained,
and of the three maven plugins only the old one works:
Given properties:
<properties>
    <tomcat.username>admin</tomcat.username>
    <tomcat.password></tomcat.password>
    <tomcat.username>admin</tomcat.username>
    <tomcat.password></tomcat.password>
    <!-- tomcat7 needs /text appended -->
    <tomcat.url>http://localhost:8080/manager</tomcat.url>
</properties>

and plugins

      <plugin>
        <groupId>org.apache.tomcat.maven</groupId>
        <artifactId>tomcat6-maven-plugin</artifactId>
        <version>2.0-beta-1</version>
        <configuration>
          <path>/${project.artifactId}</path>
          <url>${tomcat.url}</url>
          <username>${tomcat.username}</username>
          <password>${tomcat.password}</password>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.tomcat.maven</groupId>
        <artifactId>tomcat7-maven-plugin</artifactId>
        <version>2.0-beta-1</version>
        <configuration>
          <path>/${project.artifactId}</path>
          <url>${tomcat.url}</url>
          <username>${tomcat.username}</username>
          <password>${tomcat.password}</password>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>tomcat-maven-plugin</artifactId>
        <version>1.1</version>
        <configuration>
          <path>/${project.artifactId}</path>
          <url>${tomcat.url}</url>
          <username>${tomcat.username}</username>
          <password>${tomcat.password}</password>
        </configuration>
      </plugin>

the only command which works for me (Maven 3.0.4) is :
mvn  install tomcat:redeploy  -Dtomcat.url=http://localhost:8080/manager/html
Failures:
mvn  install tomcat:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
mvn  install tomcat6:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
mvn  install tomcat7:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
mvn  install tomcat6:undeploy tomcat6:deploy
-Dtomcat.url=http://localhost:8080/manager/text
mvn  install tomcat7:undeploy tomcat7:deploy
-Dtomcat.url=http://localhost:8080/manager/text

I am not asking for help and would be very happy not to have any RTFM replies.

yours
Tim


-- 
Tim Pizey - http://pizey.net/~timp

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 15:02:43 2012
Return-Path: <users-return-235469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 795CE9A3E
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 15:02:43 +0000 (UTC)
Received: (qmail 30175 invoked by uid 500); 13 Jul 2012 15:02:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28436 invoked by uid 500); 13 Jul 2012 15:02:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28385 invoked by uid 99); 13 Jul 2012 15:02:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:02:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:02:23 +0000
Received: by vbbfn1 with SMTP id fn1so3168017vbb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 08:02:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8Qd5g+K34u6rrwSfuWelfYCzef9muCkOjCOWhxqhsJQ=;
        b=kLmRD6VZGR5pz5PY/1KJtnbDMYup8E8RF5pkXLkNB6ge4lACMUqMTXDvSmIFsR0MlA
         aSttxoeZI1To2rz+BX6CiiyjrLZl/Rgu8Kxu0zvHsVXDO7lRg4uhxSuDdVTBZrnLYUdQ
         VAuA8By4GJIOzIy38pZozOI77yyAEh3dMITY3ELAIlMsRh1o0JA4/ii7w+PaC0KTflav
         0G4AIFMBKVxjh13rYt2Hu8H/tAaffeLOnjnDnXfpp6m8rSWHBkAwfunmeFiEyaUGXtr5
         16NJN4Erpyr6FJx6OJnuhtMEnPrNbOwgjltr8COjbgV7Kn2eol7GRw5/aoSe0zjulpcs
         Gdrg==
MIME-Version: 1.0
Received: by 10.52.176.66 with SMTP id cg2mr631757vdc.121.1342191722826; Fri,
 13 Jul 2012 08:02:02 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Fri, 13 Jul 2012 08:02:02 -0700 (PDT)
In-Reply-To: <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
	<4FFFFA6C.6030209@apache.org>
	<CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
	<50000032.7020004@apache.org>
	<CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
	<50001D27.60601@christopherschultz.net>
	<CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
Date: Fri, 13 Jul 2012 19:02:02 +0400
Message-ID: <CABzHfVkgZaFoA9u4OeMKfmkZgROO8ZPxgq0mPPrkX8v_AXShYg@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/13 Tim Pizey <tim.pizey@gmail.com>:
> On 13 July 2012 14:05, Christopher Schultz wrote:
>> Tim,
>>
>> On 7/13/12 8:11 AM, Tim Pizey wrote:
>>> In the hope of helping future users: the migration guide is here:
>>> http://tomcat.apache.org/migration-7.html
>>
>> Hopefully, users will find that guide more easily from the Tomcat home
>> page (cleverly hidden behind the text "Migration Guide"), and not
>> waste their time searching the archives for it.
>>
>> - -chris
>
> Thanks for your input.
>
> I only joined this list this morning, and am appalled by the lack of
> constructive responses.
>
> I have just upgraded to tomcat7, it works, great, and has solved a
> problem I had, great.
>
> However I thought that my problems with redeployment were worth feeding back:
>
> The new deployment url granularity seems like an improvement, however
> I am finding that the
> rationale for not providing a default for backwards compatibility is
> not explained,
> and of the three maven plugins only the old one works:
> Given properties:
> <properties>
>     <tomcat.username>admin</tomcat.username>
>     <tomcat.password></tomcat.password>
>     <tomcat.username>admin</tomcat.username>
>     <tomcat.password></tomcat.password>
>     <!-- tomcat7 needs /text appended -->
>     <tomcat.url>http://localhost:8080/manager</tomcat.url>
> </properties>
>
> and plugins
>
>       <plugin>
>         <groupId>org.apache.tomcat.maven</groupId>
>         <artifactId>tomcat6-maven-plugin</artifactId>
>         <version>2.0-beta-1</version>
>         <configuration>
>           <path>/${project.artifactId}</path>
>           <url>${tomcat.url}</url>
>           <username>${tomcat.username}</username>
>           <password>${tomcat.password}</password>
>         </configuration>
>       </plugin>
>       <plugin>
>         <groupId>org.apache.tomcat.maven</groupId>
>         <artifactId>tomcat7-maven-plugin</artifactId>
>         <version>2.0-beta-1</version>
>         <configuration>
>           <path>/${project.artifactId}</path>
>           <url>${tomcat.url}</url>
>           <username>${tomcat.username}</username>
>           <password>${tomcat.password}</password>
>         </configuration>
>       </plugin>
>       <plugin>
>         <groupId>org.codehaus.mojo</groupId>
>         <artifactId>tomcat-maven-plugin</artifactId>
>         <version>1.1</version>
>         <configuration>
>           <path>/${project.artifactId}</path>
>           <url>${tomcat.url}</url>
>           <username>${tomcat.username}</username>
>           <password>${tomcat.password}</password>
>         </configuration>
>       </plugin>
>
> the only command which works for me (Maven 3.0.4) is :
> mvn  install tomcat:redeploy  -Dtomcat.url=http://localhost:8080/manager/html
> Failures:
> mvn  install tomcat:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
> mvn  install tomcat6:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
> mvn  install tomcat7:redeploy  -Dtomcat.url=http://localhost:8080/manager/text
> mvn  install tomcat6:undeploy tomcat6:deploy
> -Dtomcat.url=http://localhost:8080/manager/text
> mvn  install tomcat7:undeploy tomcat7:deploy
> -Dtomcat.url=http://localhost:8080/manager/text
>
> I am not asking for help and would be very happy not to have any RTFM replies.
>

1. Probably you have not granted the correct role to your user. The
/text and /html URLs require different roles.

2. When you say "Failure" you have to be more specific. This word
represents a lot of different behaviours.

3. It is recommended to always mention what specific version x.y.z of
Tomcat you are using.

4. If http://tomcat.apache.org/maven-plugin.html  does not work for
you, you can always call Ant from Maven to do the work.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 15:52:21 2012
Return-Path: <users-return-235470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04C8ED6E9
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 15:52:21 +0000 (UTC)
Received: (qmail 90201 invoked by uid 500); 13 Jul 2012 15:52:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89944 invoked by uid 500); 13 Jul 2012 15:52:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89933 invoked by uid 99); 13 Jul 2012 15:52:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:52:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:52:09 +0000
Received: from [192.168.245.129] (p549E8DBD.dip0.t-ipconnect.de [84.158.141.189])
	by tor.combios.es (Postfix) with ESMTPA id 64D1FDA06BA
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 17:51:45 +0200 (CEST)
Message-ID: <50004412.9010506@ice-sa.com>
Date: Fri, 13 Jul 2012 17:51:46 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How Tomcat works?????????
References: <CAHTu8GXLznT=jPgBdM3RpUQdET8VguvAiMj7G9ws3j2WQ9iYEA@mail.gmail.com>	<50001234.1050203@ice-sa.com> <CAHTu8GVG9MV5c-Gxf1RVPNF_pV0rt1WZokQJNTQvHkKYOSd7LQ@mail.gmail.com>
In-Reply-To: <CAHTu8GVG9MV5c-Gxf1RVPNF_pV0rt1WZokQJNTQvHkKYOSd7LQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Puneet Dewan wrote:
> I apologise to the community on asking the question in the wrong way.
> 
Ok, apologies accepted.  And our own apologies for having a bit of fun.

Now, what do you really want to know, that is not already in the online Tomcat 
documentation ? (available here : http://tomcat.apache.org/tomcat-7.0-doc/index.html)

Tomcat is a Java application, which runs under a Java virtual machine (JVM).
It is a Servlet Container, which means that it provides an environment to run Java 
servlets (and JSP pages), as described in the Java Servlet Specification, which you can 
download here : http://jcp.org/aboutJava/communityprocess/final/jsr315/index.html
It is suggested that you browse this document first, to provide you with an overview of 
what Tomcat is supposed to do.
Tomcat is also a generic webserver (or HTTP server), capable of serving static html pages 
and other resources (like images etc..).

Then, if your next question would be a bit more focused, it would help you get answers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 15:53:52 2012
Return-Path: <users-return-235471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13CEFD6EF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 15:53:52 +0000 (UTC)
Received: (qmail 96840 invoked by uid 500); 13 Jul 2012 15:53:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96673 invoked by uid 500); 13 Jul 2012 15:53:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96663 invoked by uid 99); 13 Jul 2012 15:53:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:53:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 15:53:43 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Fri, 13 Jul 2012 10:58:23 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Fri, 13 Jul 2012 10:53:15 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: Poller & CometPoller general questions
Thread-Topic: Poller & CometPoller general questions
Thread-Index: Ac1hD5zicifFW+obSb6MZG4NJHpZSA==
Date: Fri, 13 Jul 2012 15:53:14 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D93E8B@POSTOFFICE02.polydyne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: multipart/related;
	boundary="_004_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_";
	type="multipart/alternative"
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_13_10_58_25
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_
Content-Type: multipart/alternative;
	boundary="_000_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_"

--_000_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm more curious here than there being a problem.=0D=0AAre the Poller & Com=
etPoller threads necessary for Tomcat operation=3F  If not, how to turn the=
m off, and do I want to turn them off.=0D=0AHere's my scenario:=0D=0ATomcat=
 6.0.33 with APR on Windows Server 2008 (regular and R2).=0D=0AFairly norma=
l server.xml, with generic <connector> implementation, i.e., not explicitly=
 specifying the protocol:=0D=0A  <!--APR library loader. Documentation at /=
docs/apr.html -->=0D=0A  <Listener className=3D"org.apache.catalina.core.Ap=
rLifecycleListener" SSLEngine=3D"on" />=0D=0A    <Connector address=3D"172.=
16.1.1" port=3D"80" maxHttpHeaderSize=3D"8192"=0D=0A               maxThrea=
ds=3D"10" enableLookups=3D"false" redirectPort=3D"443" acceptCount=3D"100"=0D=
=0A               connectionTimeout=3D"20000" disableUploadTimeout=3D"true"=
 />=0D=0A    <Connector address=3D"172.16.1.1" port=3D"443" maxHttpHeaderSi=
ze=3D"8192"=0D=0A               maxThreads=3D"100" enableLookups=3D"false" =
acceptCount=3D"100"=0D=0A               connectionTimeout=3D"20000" disable=
UploadTimeout=3D"true"=0D=0A               scheme=3D"https" secure=3D"true"=
 SSLEnabled=3D"true"=0D=0A               SSLCertificateFile=3D"path to serv=
er.crt"=0D=0A               SSLCertificateKeyFile=3D" path to server.key"=0D=
=0A               SSLCertificateChainFile=3D" path to =5Fchain.crt"=0D=0A  =
             SSLPassword=3D"password" />=0D=0AWeb.xml is set up to force ev=
erything to HTTPS:=0D=0A    <user-data-constraint>=0D=0A      <transport-gu=
arantee>CONFIDENTIAL</transport-guarantee>=0D=0A    </user-data-constraint>=0D=
=0A=0D=0ASo Tomcat starts up and creates, in my case, 32 poller threads, 8 =
poller and 8 cometpoller for each connector.=0D=0ANow, I know these just si=
t around waiting on AprEndpoint$Poller, basically doing nothing and really =
causing no harm, other than taking up some threads out of my available thre=
adpool.=0D=0AI pretty sure we don't use Comet, so I'd like to turn those of=
f, but it's not clear in the documentation that I can, only looks like ther=
e are controls for the NIO connector.=0D=0AWhat, if anything, would the sta=
ndard Poller threads be used for=3F=0D=0ASince everything gets forwarded to=
 HTTPS, the HTTP poller threads seam exceptionally useless.=0D=0A=0D=0AJeff=
rey Janner=0D=0ASr. Network Administrator=0D=0Ajeffrey.janner@polydyne.com<=
mailto:first.last@polydyne.com>=0D=0APolyDyne Software Inc.=0D=0AMain:   51=
2.343.9100=0D=0ADirect:  512.583.8930=0D=0A=0D=0A [cid:image002.png@01CC0FB=
7.4FF43CE0]=0D=0A=0D=0ASpeed, Intelligence & Savings in Sourcing=0D=0A=0D=0A=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=0D=
=0A=0D=0AConfidentiality Notice:  This Transmission (including any attachme=
nts) may contain information that is privileged, confidential, and exempt f=
rom disclosure under applicable law.  If the reader of this message is not =
the intended recipient you are hereby notified that any dissemination, dist=
ribution, or copying of this communication is strictly prohibited. =20=0D=0A=0D=
=0AIf you have received this transmission in error, please immediately repl=
y to the sender or telephone (512) 343-9100 and delete this transmission fr=
om your system.=0D=0A
--_000_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">=0D=0A<head>=0D=0A<meta http-equiv=3D"Content-T=
ype" content=3D"text/html; charset=3Dus-ascii">=0D=0A<meta name=3D"Generato=
r" content=3D"Microsoft Word 12 (filtered medium)">=0D=0A<!--[if !mso]><sty=
le>v\:* {behavior:url(#default#VML);}=0D=0Ao\:* {behavior:url(#default#VML)=
;}=0D=0Aw\:* {behavior:url(#default#VML);}=0D=0A.shape {behavior:url(#defau=
lt#VML);}=0D=0A</style><![endif]--><style><!--=0D=0A/* Font Definitions */=0D=
=0A@font-face=0D=0A=09{font-family:"Cambria Math";=0D=0A=09panose-1:2 4 5 3=
 5 4 6 3 2 4;}=0D=0A@font-face=0D=0A=09{font-family:Calibri;=0D=0A=09panose=
-1:2 15 5 2 2 2 4 3 2 4;}=0D=0A@font-face=0D=0A=09{font-family:Tahoma;=0D=0A=
=09panose-1:2 11 6 4 3 5 4 4 2 4;}=0D=0A/* Style Definitions */=0D=0Ap.MsoN=
ormal, li.MsoNormal, div.MsoNormal=0D=0A=09{margin:0in;=0D=0A=09margin-bott=
om:.0001pt;=0D=0A=09font-size:11.0pt;=0D=0A=09font-family:"Calibri","sans-s=
erif";}=0D=0Aa:link, span.MsoHyperlink=0D=0A=09{mso-style-priority:99;=0D=0A=
=09color:blue;=0D=0A=09text-decoration:underline;}=0D=0Aa:visited, span.Mso=
HyperlinkFollowed=0D=0A=09{mso-style-priority:99;=0D=0A=09color:purple;=0D=0A=
=09text-decoration:underline;}=0D=0Ap.MsoAcetate, li.MsoAcetate, div.MsoAce=
tate=0D=0A=09{mso-style-priority:99;=0D=0A=09mso-style-link:"Balloon Text C=
har";=0D=0A=09margin:0in;=0D=0A=09margin-bottom:.0001pt;=0D=0A=09font-size:=
8.0pt;=0D=0A=09font-family:"Tahoma","sans-serif";}=0D=0Aspan.EmailStyle17=0D=
=0A=09{mso-style-type:personal-compose;=0D=0A=09font-family:"Calibri","sans=
-serif";=0D=0A=09color:windowtext;}=0D=0Aspan.BalloonTextChar=0D=0A=09{mso-=
style-name:"Balloon Text Char";=0D=0A=09mso-style-priority:99;=0D=0A=09mso-=
style-link:"Balloon Text";=0D=0A=09font-family:"Tahoma","sans-serif";}=0D=0A=
=2EMsoChpDefault=0D=0A=09{mso-style-type:export-only;}=0D=0A@page WordSecti=
on1=0D=0A=09{size:8.5in 11.0in;=0D=0A=09margin:1.0in 1.0in 1.0in 1.0in;}=0D=
=0Adiv.WordSection1=0D=0A=09{page:WordSection1;}=0D=0A--></style><!--[if gt=
e mso 9]><xml>=0D=0A<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />=0D=0A=
</xml><![endif]--><!--[if gte mso 9]><xml>=0D=0A<o:shapelayout v:ext=3D"edi=
t">=0D=0A<o:idmap v:ext=3D"edit" data=3D"1" />=0D=0A</o:shapelayout></xml><=
![endif]-->=0D=0A</head>=0D=0A<body lang=3D"EN-US" link=3D"blue" vlink=3D"p=
urple">=0D=0A<div class=3D"WordSection1">=0D=0A<p class=3D"MsoNormal">I'm m=
ore curious here than there being a problem.&nbsp; <o:p></o:p></p>=0D=0A<p =
class=3D"MsoNormal">Are the Poller &amp; CometPoller threads necessary for =
Tomcat operation=3F&nbsp; If not, how to turn them off, and do I want to tu=
rn them off.<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">Here's my scenario:=
<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">Tomcat 6.0.33 with APR on Windo=
ws Server 2008 (regular and R2).<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal"=
>Fairly normal server.xml, with generic &lt;connector&gt; implementation, i=
=2Ee., not explicitly specifying the protocol:<o:p></o:p></p>=0D=0A<p class=
=3D"MsoNormal">&nbsp; &lt;!--APR library loader. Documentation at /docs/apr=
=2Ehtml --&gt;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp; &lt;Listen=
er className=3D&quot;org.apache.catalina.core.AprLifecycleListener&quot; SS=
LEngine=3D&quot;on&quot; /&gt;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&=
nbsp;&nbsp;&nbsp; &lt;Connector address=3D&quot;172.16.1.1&quot; port=3D&qu=
ot;80&quot; maxHttpHeaderSize=3D&quot;8192&quot;<o:p></o:p></p>=0D=0A<p cla=
ss=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp; maxThreads=3D&quot;10&quot; enableLookups=3D&quo=
t;false&quot; redirectPort=3D&quot;443&quot; acceptCount=3D&quot;100&quot;<=
o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connectionTimeout=3D&q=
uot;20000&quot; disableUploadTimeout=3D&quot;true&quot; /&gt;<o:p></o:p></p=
>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp; &lt;Connector address=3D&q=
uot;172.16.1.1&quot; port=3D&quot;443&quot; maxHttpHeaderSize=3D&quot;8192&=
quot;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxThreads=3D&qu=
ot;100&quot; enableLookups=3D&quot;false&quot; acceptCount=3D&quot;100&quot=
;=0D=0A<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connectio=
nTimeout=3D&quot;20000&quot; disableUploadTimeout=3D&quot;true&quot;<o:p></=
o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scheme=3D&quot;https&quot; s=
ecure=3D&quot;true&quot; SSLEnabled=3D&quot;true&quot;<o:p></o:p></p>=0D=0A=
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSLCertificateFile=3D&quot;path to server.=
crt&quot;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSLCertifica=
teKeyFile=3D&quot; path to server.key&quot;<o:p></o:p></p>=0D=0A<p class=3D=
"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; SSLCertificateChainFile=3D&quot; path to =5Fchain.crt=
&quot;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSLPassword=3D&=
quot;password&quot; /&gt;<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">Web.xm=
l is set up to force everything to HTTPS:<o:p></o:p></p>=0D=0A<p class=3D"M=
soNormal">&nbsp;&nbsp;&nbsp; &lt;user-data-constraint&gt;<o:p></o:p></p>=0D=
=0A<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;transport-guar=
antee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;<o:p></o:p></p>=0D=0A<p cl=
ass=3D"MsoNormal">&nbsp;&nbsp;&nbsp; &lt;/user-data-constraint&gt;<o:p></o:=
p></p>=0D=0A<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>=0D=0A<p class=3D"M=
soNormal">So Tomcat starts up and creates, in my case, 32 poller threads, 8=
 poller and 8 cometpoller for each connector.<o:p></o:p></p>=0D=0A<p class=3D=
"MsoNormal">Now, I know these just sit around waiting on AprEndpoint$Poller=
, basically doing nothing and really causing no harm, other than taking up =
some threads out of my available threadpool.<o:p></o:p></p>=0D=0A<p class=3D=
"MsoNormal">I pretty sure we don&#8217;t use Comet, so I'd like to turn tho=
se off, but it's not clear in the documentation that I can, only looks like=
 there are controls for the NIO connector.<o:p></o:p></p>=0D=0A<p class=3D"=
MsoNormal">What, if anything, would the standard Poller threads be used for=
=3F<o:p></o:p></p>=0D=0A<p class=3D"MsoNormal">Since everything gets forwar=
ded to HTTPS, the HTTP poller threads seam exceptionally useless.<o:p></o:p=
></p>=0D=0A<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>=0D=0A<p class=3D"Ms=
oNormal"><span style=3D"color:black">Jeffrey Janner</span><span style=3D"co=
lor:black"><o:p></o:p></span></p>=0D=0A<p class=3D"MsoNormal"><span style=3D=
"color:black">Sr. Network Administrator<o:p></o:p></span></p>=0D=0A<p class=
=3D"MsoNormal"><span style=3D"color:black"><a href=3D"mailto:first.last@pol=
ydyne.com"><span style=3D"color:blue">jeffrey.janner@polydyne.com</span></a=
><o:p></o:p></span></p>=0D=0A<p class=3D"MsoNormal"><b><span style=3D"color=
:navy">PolyDyne Software Inc.</span></b><span style=3D"color:black"><o:p></=
o:p></span></p>=0D=0A<p class=3D"MsoNormal"><span style=3D"color:black">Mai=
n: &nbsp; 512.343.9100<o:p></o:p></span></p>=0D=0A<p class=3D"MsoNormal"><s=
pan style=3D"color:black">Direct: &nbsp;512.583.8930 &nbsp;<o:p></o:p></spa=
n></p>=0D=0A<p class=3D"MsoNormal"><span style=3D"color:black">&nbsp;<o:p><=
/o:p></span></p>=0D=0A<p class=3D"MsoNormal"><b><i><span style=3D"color:#1F=
497D">&nbsp;</span></i></b><b><i><span style=3D"color:#1F497D"><img border=3D=
"0" width=3D"126" height=3D"47" id=3D"Picture=5Fx0020=5F1" src=3D"cid:image=
001.png@01CD60E3.CED412A0" alt=3D"cid:image002.png@01CC0FB7.4FF43CE0"></spa=
n></i></b><span style=3D"color:black"><o:p></o:p></span></p>=0D=0A<p class=3D=
"MsoNormal"><b><i><span style=3D"font-size:8.0pt;color:#7030A0">&nbsp;</spa=
n></i></b><span style=3D"color:black"><o:p></o:p></span></p>=0D=0A<p class=3D=
"MsoNormal"><b><span style=3D"color:#0A1C8C">Speed, Intelligence &amp; Savi=
ngs in Sourcing</span></b><span style=3D"font-size:12.0pt;color:black"><o:p=
></o:p></span></p>=0D=0A<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>=0D=0A<=
/div>=0D=0A<br><br><table bgcolor=3Dwhite style=3D"color:black"><tr><td><br=
>=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F<br=
>=0D=0A<br>=0D=0AConfidentiality&nbsp;Notice:&nbsp;&nbsp;This&nbsp;Transmis=
sion&nbsp;(including&nbsp;any&nbsp;attachments)&nbsp;may&nbsp;contain&nbsp;=
information&nbsp;that&nbsp;is&nbsp;privileged,&nbsp;confidential,&nbsp;and&=
nbsp;exempt&nbsp;from&nbsp;disclosure&nbsp;under&nbsp;applicable&nbsp;law.&=
nbsp;&nbsp;If&nbsp;the&nbsp;reader&nbsp;of&nbsp;this&nbsp;message&nbsp;is&n=
bsp;not&nbsp;the&nbsp;intended&nbsp;recipient&nbsp;you&nbsp;are&nbsp;hereby=
&nbsp;notified&nbsp;that&nbsp;any&nbsp;dissemination,&nbsp;distribution,&nb=
sp;or&nbsp;copying&nbsp;of&nbsp;this&nbsp;communication&nbsp;is&nbsp;strict=
ly&nbsp;prohibited.&nbsp;&nbsp;<br>=0D=0A<br>=0D=0AIf&nbsp;you&nbsp;have&nb=
sp;received&nbsp;this&nbsp;transmission&nbsp;in&nbsp;error,&nbsp;please&nbs=
p;immediately&nbsp;reply&nbsp;to&nbsp;the&nbsp;sender&nbsp;or&nbsp;telephon=
e&nbsp;(512)&nbsp;343-9100&nbsp;and&nbsp;delete&nbsp;this&nbsp;transmission=
&nbsp;from&nbsp;your&nbsp;system.<br>=0D=0A</td></tr></table></body>=0D=0A<=
/html>=0D=0A
--_000_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_--

--_004_7215BA462D00D343B2837F9113F0131F0109D93E8BPOSTOFFICE02p_--


From users-return-235472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 16:32:46 2012
Return-Path: <users-return-235472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D00A2C53D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 16:32:46 +0000 (UTC)
Received: (qmail 12319 invoked by uid 500); 13 Jul 2012 16:32:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12251 invoked by uid 500); 13 Jul 2012 16:32:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12242 invoked by uid 99); 13 Jul 2012 16:32:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 16:32:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 16:32:35 +0000
Received: from [192.168.245.129] (p549E8DBD.dip0.t-ipconnect.de [84.158.141.189])
	by tor.combios.es (Postfix) with ESMTPA id 4F906DA06CB
	for <users@tomcat.apache.org>; Fri, 13 Jul 2012 18:32:11 +0200 (CEST)
Message-ID: <50004D8C.7060700@ice-sa.com>
Date: Fri, 13 Jul 2012 18:32:12 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com> <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com> <50000032.7020004@apache.org> <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com> <50001D27.60601@christopherschultz.net> <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
In-Reply-To: <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Tim Pizey wrote:
...

> 
> I only joined this list this morning, and am appalled by the lack of
> constructive responses.
> 
Tim,
this is probably a wrong initial impression, due to the way in which you phrased your 
initial message to the list, which sounded quite aggressive and condescending even to me 
who is not a Tomcat developer.

This list is generally very helpful and polite, even to real Tomcat beginners. Consulting 
the list archives would demonstrate this.

But the phrase

"Please maintain backwards compatibility by supplying a default of html
to the the manager url, you will save a lot of people a lot of pointless work."

undoubtedly rubbed a few people here the wrong way, considering that Tomcat is open-source 
and free software, made mostly by volunteers on their own time.
It rubbed them all the more the wrong way since they also take the time to write extensive 
documentation and put it on-line, and you did not seem to have even read it before posting 
the above phrase.

Now you have a choice : you either continue with the same tone, and it will be a 
frustrating experience for everyone (but first of all for you, because you would end up 
just being ignored), or we "reset" the relationship and you might get answers and/or 
helpful comments. Of which by the way you already did get some, despite your unnecessarily 
aggressive tone.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 16:32:55 2012
Return-Path: <users-return-235473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 891EEC543
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 16:32:55 +0000 (UTC)
Received: (qmail 16142 invoked by uid 500); 13 Jul 2012 16:32:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16092 invoked by uid 500); 13 Jul 2012 16:32:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16083 invoked by uid 99); 13 Jul 2012 16:32:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 16:32:52 +0000
X-ASF-Spam-Status: No, hits=4.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.159] (HELO nm29-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.159)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 13 Jul 2012 16:32:45 +0000
Received: from [98.138.90.48] by nm29.bullet.mail.ne1.yahoo.com with NNFMP; 13 Jul 2012 16:32:24 -0000
Received: from [98.138.226.166] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 13 Jul 2012 16:32:24 -0000
Received: from [127.0.0.1] by omp1067.mail.ne1.yahoo.com with NNFMP; 13 Jul 2012 16:32:24 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 867737.66838.bm@omp1067.mail.ne1.yahoo.com
Received: (qmail 96694 invoked by uid 60001); 13 Jul 2012 16:32:24 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342197144; bh=PERhdG4Av34vsIBnVKZTS/TiGYwoVx7FMDhlLXzgjRc=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=QVtoL2bjJ6YpgcYaroI3fau1HvTFNSEPLCTYpNYq8GneYLy8npw/hcS84ilnkKxF9aQt7BA8o3d+OYOvb7bxjIEaUbJQAukpF/OzQhumomNvdCmPIn689usXMzQu+xcrs1InCvBnlkQZJ9/O+z6Qvyb2Gki1cDiZYymX2SnPqNY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=f0v/dI4Z2fiXen3niJ5+43wXGkcjKPO+DWjI1Ed9C5K4CrNgAUYbJKZJTPJG4WkedTRjXYxmk+TmJlcqO0x4iD958GeYPzdOZyl6xG5qLoDlR6LrqlcPjtSpRiAuFYHPh92roIlLxw2arauo/z3QFtBtYsB1N6vxE3nhF02X8lQ=;
X-YMail-OSG: 657ynXsVM1kfrLhB_nyRh5xkSvaVc.r0MQO_kt6Py3fVl0S
 XW.7JzVr8B0lmAFgXLRA02tsNfIfj9vepDuCtbzmppSMPkbr88XcTcBdulKO
 ljsfy1iM0_ccffppVvgpmfg.ayRXpML65BeDupyxEXzqwnzm6JZhmrJdw0ES
 7VMGmo_9AQoadLh6tgHdCtgC7bw3XEFVeXhN9o3XEHmLzD2OBwH7vMDLWIHl
 yt1BqlhZHsRoEg77TTlctPCZfdTmX5e6b0bn65_j2texaSn3zJUSgiy2IGRE
 HkZhGL8DkXCnOy1QBmrSQgOBk72eCn_ForQFld7Nb9huafEVcEoVyfIbXFMT
 dFr4x_d5ti8p.NqHnJ8ZMeXKcZ5m1c7BzmUqh3lmLjib3dF0edesTA7s4gAM
 KoWu3Tll1Ewn6EWBg3tLfwtLkeWT4xybUruDrUhk6jm9tWl7vWrTDDAIZ4yd
 W3_MSFmgxVTjRBhq6UrUlWW40ghMlg6mnUUFGJkWESe4W1Zhmeqjabay1XK7
 UznewNGUPbnOc6Z28kvJohO5Uu_Q0kbv2LD3ohZ84s_5HkFhvdNJ9u4I.D1H
 f28.et7gZiDtsfvJctR4g1bOWu3AzRzMWnI77mU2z8rZadKE_6K39bLVo0Xc
 ZqGnRUWU-
Received: from [71.129.42.43] by web125501.mail.ne1.yahoo.com via HTTP; Fri, 13 Jul 2012 09:32:23 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <20120713084649.265570@gmx.net> <4FFFFAC0.3070602@apache.org>  <99C8B2929B39C24493377AC7A121E21FB032D091F1@USEA-EXCH8.na.uis.unisys.com>
Message-ID: <1342197143.82268.YahooMailNeo@web125501.mail.ne1.yahoo.com>
Date: Fri, 13 Jul 2012 09:32:23 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Watched Resources
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB032D091F1@USEA-EXCH8.na.uis.unisys.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----=0A=0A> From: "Caldarale, Charles R" <Chuck.Cal=
darale@unisys.com>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> =
Cc: =0A> Sent: Friday, July 13, 2012 6:49 AM=0A> Subject: RE: Watched Resou=
rces=0A> =0A>>  > Looks like we're going to referring to this a lot today:=
=0A>>  > http://www.catb.org/~esr/faqs/smart-questions.html=0A> =0A>>  This=
 website must be wrong: its predictions don't agree with my=0A>>  observati=
ons: http://stardate.org/nightsky/moon=0A> =0A> I think you're forgetting t=
hat it's Friday the 13th...=0A> =0A> - Chuck=0A=0A=0AChuck,=0A=0AThanks for=
 the reminder. I have upgrades to do this evening. Maybe I can get them pos=
tponed until tomorrow?=0A=0A=0AAnd yep, looks like=A0http://www.catb.org/~e=
sr/faqs/smart-questions.html is our friend (or at least will save me lots o=
f typing today).=0A=0A. . . . no coffee, no sense.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 16:46:18 2012
Return-Path: <users-return-235474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 378B6C5B8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 16:46:18 +0000 (UTC)
Received: (qmail 49149 invoked by uid 500); 13 Jul 2012 16:46:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49042 invoked by uid 500); 13 Jul 2012 16:46:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49032 invoked by uid 99); 13 Jul 2012 16:46:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 16:46:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of debabrattaj@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 16:46:08 +0000
Received: by bkcji1 with SMTP id ji1so3368405bkc.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 09:45:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=d6XSNP2c2dzJU8WbiXD4z0LThJdWQamDR3d9Yy0PD5Q=;
        b=IOW4r/X18T8HXGLTRGtgM0P5jov6tmKyF+Kt3/ydLDWZZQHwg3GKwZTg8rvqSmmCN4
         BTL6rN5Bj8KfXVF3Xg/ud5dFbBfMnJNU7u0ZR5qNb8Yal6nQscgeLmdHrP3Rdrpzdtht
         WAz8ER3Msrjc4wKVAFq+y8AwrEQo3F3B20XBWZ08v2x1EPPQiRmPOgG6WwXuFB4YfU9L
         AwKo/qjyv708EHiTDFy9crt29o3uCShoj8BTow6xcKsmb4w2kbHo41+I5hVLnIu0K11q
         NPux7wL/apl38y76p8IcgOJi7jQVLTdVGiLtb/62LSi6NMDUO6r7wBu9+n6eWnnBZ3/2
         djJQ==
MIME-Version: 1.0
Received: by 10.152.136.18 with SMTP id pw18mr2139366lab.17.1342197947406;
 Fri, 13 Jul 2012 09:45:47 -0700 (PDT)
Received: by 10.112.43.69 with HTTP; Fri, 13 Jul 2012 09:45:47 -0700 (PDT)
In-Reply-To: <000c01cd60da$d8a5e460$89f1ad20$@com>
References: <000c01cd60da$d8a5e460$89f1ad20$@com>
Date: Fri, 13 Jul 2012 22:15:47 +0530
Message-ID: <CAHjK=Ozvvm8jUAZWkKxCHKbSszuEB1Mv-+e_9sRcH7uvM1VrgQ@mail.gmail.com>
Subject: Re: Solved - Connecting Tmcat and IIS
From: Debabratta Jena <debabrattaj@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Well, thanks that you shared information. It would be better if you
will share the steps that you followed for this connection of Tomcat
and IIS.
Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 17:04:55 2012
Return-Path: <users-return-235475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCCAFC663
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 17:04:55 +0000 (UTC)
Received: (qmail 8046 invoked by uid 500); 13 Jul 2012 17:04:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7969 invoked by uid 500); 13 Jul 2012 17:04:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7959 invoked by uid 99); 13 Jul 2012 17:04:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 17:04:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tim.pizey@gmail.com designates 209.85.212.169 as permitted sender)
Received: from [209.85.212.169] (HELO mail-wi0-f169.google.com) (209.85.212.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 17:04:47 +0000
Received: by wibhm2 with SMTP id hm2so691849wib.0
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 10:04:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:from:date:message-id
         :subject:to:content-type:content-transfer-encoding;
        bh=ekVRB3wWtnAoAE3Aby7EHN51Xn+bC/09006Hc0xBsBc=;
        b=lqZMli2JFu+SB+P9P3szuxgTwDI7OaNCRpthvYWkpC71IAYgG/8eyFkBhzNR/nrStU
         ynWCERMFlE1KurgYFqRiERTpwfJCJhKqcQ1MOAZ2dPpGxZNaVf9eWq36trbBoQYd17hq
         +NqtKEPtqPLdHYcahIxteEJS4r1KFB2c82tpXN3u7cuw6ekFi1WfkxW4xhABBjYdROyN
         jPPQIkVJoTmdbS4D6I3GfC2VosXNUss2IFvuf6Jx+y1K5WAm1BkvuUrk8gSmkFYqAqb1
         XLOFL/NBOfXctI2Ee0fMYvlM4VQKiNslIeZ1FPUwNnjZa3q8hJcNRSrQo5TSef8JH44M
         0NPw==
Received: by 10.180.92.7 with SMTP id ci7mr6641208wib.1.1342199066100; Fri, 13
 Jul 2012 10:04:26 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.87.145 with HTTP; Fri, 13 Jul 2012 10:04:05 -0700 (PDT)
Reply-To: tim.pizey@gmail.com
In-Reply-To: <50004D8C.7060700@ice-sa.com>
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
 <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
 <50000032.7020004@apache.org> <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
 <50001D27.60601@christopherschultz.net> <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
 <50004D8C.7060700@ice-sa.com>
From: Tim Pizey <tim.pizey@gmail.com>
Date: Fri, 13 Jul 2012 18:04:05 +0100
Message-ID: <CAArDntipv0AFt5sKAgj1UdyMeYOsOtWNPNb_sG7E9oFUgg+jug@mail.gmail.com>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Andr=C3=A9,

On 13 July 2012 17:32, Andr=C3=A9 Warnier  wrote:
> Tim Pizey wrote:

>> I only joined this list this morning, and am appalled by the lack of
>> constructive responses.
>>
> Tim,
> this is probably a wrong initial impression, due to the way in which you
> phrased your initial message to the list, which sounded quite aggressive =
and
> condescending even to me who is not a Tomcat developer.
>
> This list is generally very helpful and polite, even to real Tomcat
> beginners. Consulting the list archives would demonstrate this.
>
> But the phrase
>
>
> "Please maintain backwards compatibility by supplying a default of html
> to the the manager url, you will save a lot of people a lot of pointless
> work."
>
> undoubtedly rubbed a few people here the wrong way, considering that Tomc=
at
> is open-source and free software, made mostly by volunteers on their own
> time.
> It rubbed them all the more the wrong way since they also take the time t=
o
> write extensive documentation and put it on-line, and you did not seem to
> have even read it before posting the above phrase.
>
> Now you have a choice : you either continue with the same tone, and it wi=
ll
> be a frustrating experience for everyone (but first of all for you, becau=
se
> you would end up just being ignored), or we "reset" the relationship and =
you
> might get answers and/or helpful comments. Of which by the way you alread=
y
> did get some, despite your unnecessarily aggressive tone.

I did read the instructions, for example I joined the user list,
rather than posting a feature request on JIRA.

Feeding back to developers through the list takes effort, there is
nothing aggressive about my
feedback.

Getting user feedback is a privilege, increasingly people are not
bothering, preferring to use a forum like Stack Overflow where
negative responses, knee jerk RTFM etc can be costly.

What other mechanism should I have used to make this feedback?

Please also bare in mind that this is not for me, I have had to
reconfigure all my poms,
I feed this back for the good of your project.



hope this helps
Tim






--=20
Tim Pizey - http://pizey.net/~timp

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 13 17:49:30 2012
Return-Path: <users-return-235476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 407F599A2
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 13 Jul 2012 17:49:30 +0000 (UTC)
Received: (qmail 37081 invoked by uid 500); 13 Jul 2012 17:49:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36962 invoked by uid 500); 13 Jul 2012 17:49:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36952 invoked by uid 99); 13 Jul 2012 17:49:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 17:49:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jul 2012 17:49:20 +0000
Received: by obbta14 with SMTP id ta14so7141049obb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 10:48:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=tBJZ2Yhl33PMlPSav1xNNdfk/yjMebevOFpj+qQVZt0=;
        b=T8NApA8HdQad/qZFknx5ra9Nb6/OzQIVxoDz/Aj/beYyZFwaDym+yLyA0SiG9Hi77D
         Edl5kQyCyePQy0kiojqUCqr5QXVlNI0WoTJmhWTvGqq9PvvYoA4N0XGaryjUbWAg931g
         3tdeCJXKd6RLcc+q1xwLUartou+XDlb7/iJS4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=tBJZ2Yhl33PMlPSav1xNNdfk/yjMebevOFpj+qQVZt0=;
        b=S2nz34Qx0+P4Vwlpz4U/xYO/K2xCgdI/f3GlLwl2p8o7i7pXxNoghntpPGKAFrA/yu
         JmSrcerVa2011JnOrlElbQ0aXEuKrc9OOqsYm2Um14zvu4Kcf5Z7eJSUivQI9sMjKvQp
         phQ8k1htGqPDf8T6JGn9IzvYRTNK5C4XYrAjKyWxtw2h5l5EUuPIdpo2BYWRJ9EJ+zbY
         3mn7bHqKjnxphAWwTi99ljUMq/nrrY4pnzl5X+3YXFmSH5bFFC7kxh20FdosUiuKAEJH
         HHDR5vEVXCURGrmF0XeUE7vSFYYz7Siuzqc9rAemNzyPLLXFlUBBkvlZyIK+Dlc5N2uy
         sXrA==
Received: by 10.182.1.101 with SMTP id 5mr2823902obl.74.1342201738814; Fri, 13
 Jul 2012 10:48:58 -0700 (PDT)
Mime-Version: 1.0 (1.0)
References: <CAArDnthQHQTeCYosXAKh4mvouerC9EpRoX_1X_5Bd7mNDgMreQ@mail.gmail.com>
 <4FFFFA6C.6030209@apache.org> <CAArDnthFqPvAYDmSUwt2qg9kZWm1kF9D92r5CbUGcjzGUB-hsg@mail.gmail.com>
 <50000032.7020004@apache.org> <CAArDntittHGKz2410hWjD0mLC0oZhWnZXwbAw3SJjkb127o_OA@mail.gmail.com>
 <50001D27.60601@christopherschultz.net> <CAArDntgoCduBnsMXrLpfMwmbKn5hnmWefBR8XkjGW+WVnosvAQ@mail.gmail.com>
 <50004D8C.7060700@ice-sa.com> <CAArDntipv0AFt5sKAgj1UdyMeYOsOtWNPNb_sG7E9oFUgg+jug@mail.gmail.com>
In-Reply-To: <CAArDntipv0AFt5sKAgj1UdyMeYOsOtWNPNb_sG7E9oFUgg+jug@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
Date: Fri, 13 Jul 2012 18:49:55 +0100
Message-ID: <-6969076965329305843@unknownmsgid>
Subject: Re: Tomcat7 deployment url change - please maintain backwards compatibility
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQls5heLB2978cPmLeYpceSB0idN1up5Jj73PIF71oSKnY3sKazvn2n/sKENLY6R+MaYmUsz

On 13 Jul 2012, at 18:04, Tim Pizey <tim.pizey@gmail.com> wrote:

> Hi Andr=C3=A9,
>
> On 13 July 2012 17:32, Andr=C3=A9 Warnier  wrote:
>> Tim Pizey wrote:
>
>>> I only joined this list this morning, and am appalled by the lack of
>>> constructive responses.
>>>
>> Tim,
>> this is probably a wrong initial impression, due to the way in which you
>> phrased your initial message to the list, which sounded quite aggressive=
 and
>> condescending even to me who is not a Tomcat developer.
>>
>> This list is generally very helpful and polite, even to real Tomcat
>> beginners. Consulting the list archives would demonstrate this.
>>
>> But the phrase
>>
>>
>> "Please maintain backwards compatibility by supplying a default of html
>> to the the manager url, you will save a lot of people a lot of pointless
>> work."
>>
>> undoubtedly rubbed a few people here the wrong way, considering that Tom=
cat
>> is open-source and free software, made mostly by volunteers on their own
>> time.
>> It rubbed them all the more the wrong way since they also take the time =
to
>> write extensive documentation and put it on-line, and you did not seem t=
o
>> have even read it before posting the above phrase.
>>
>> Now you have a choice : you either continue with the same tone, and it w=
ill
>> be a frustrating experience for everyone (but first of all for you, beca=
use
>> you would end up just being ignored), or we "reset" the relationship and=
 you
>> might get answers and/or helpful comments. Of which by the way you alrea=
dy
>> did get some, despite your unnecessarily aggressive tone.
>
> I did read the instructions, for example I joined the user list,
> rather than posting a feature request on JIRA.
>
> Feeding back to developers through the list takes effort, there is
> nothing aggressive about my
> feedback.
>
> Getting user feedback is a privilege, increasingly people are not
> bothering, preferring to use a forum like Stack Overflow where
> negative responses, knee jerk RTFM etc can be costly.
>
> What other mechanism should I have used to make this feedback?
>
> Please also bare in mind that this is not for me, I have had to
> reconfigure all my poms,
> I feed this back for the good of your project.

That does sound a little condescending.

Konstantin points out that you are rather late to the party on this
topic. I don't recall the list being deluged with complaints about the
change.
Tomcat adoption has continued to accelerate during the above period.

Given this, it rather seems like the project has survived the change...


p




>
>
>
> hope this helps
> Tim
>
>
>
>
>
>
> --
> Tim Pizey - http://pizey.net/~timp
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 02:03:14 2012
Return-Path: <users-return-235477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 285A5D2D8
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 02:03:14 +0000 (UTC)
Received: (qmail 41788 invoked by uid 500); 14 Jul 2012 02:03:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41739 invoked by uid 500); 14 Jul 2012 02:03:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41729 invoked by uid 99); 14 Jul 2012 02:03:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:03:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:03:04 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id a1f21j0011ZXKqc5E22lCz; Sat, 14 Jul 2012 02:02:45 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id a2301j00E1FXhpX3h230MZ; Sat, 14 Jul 2012 02:03:01 +0000
Message-ID: <5000D343.6030102@christopherschultz.net>
Date: Fri, 13 Jul 2012 22:02:43 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat session id
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
In-Reply-To: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Elias,

On 7/13/12 9:39 AM, Elias Kopsiaftis wrote:
> I am working on a program that uses two servlets, one for input
> from the client, and one for output to the client.

Good so far.

> My question is, from the client side, I will have two connections 
> open to the server, one for input, and one for output

Okay, you've lost me: what you've described is not how HTTP works. A
client makes one (or more) connection(s), sends a request (on each
connection) and receives a response over the same connection.

> so, when both connect, will both connections have the same
> sessionid even though they are accessing two different servlets?
> both servlets will be on the same tomcat

Well, if you are using cookies and your client manages them globally,
then all connections should be associated with the same session. This
is the case with most web browsers in their default configuration.

If you are using URL re-writing to maintain session affinity, then
you'll have to make sure that all of the URLs that you issue from the
client to the server have the URL properly encoded. If you have
written your webapp correctly, most of this should be taken care of by
the container. Your client also has to be willing to include "path
parameters" in the URLs that it passes-back to the server. This is
also the case with most web browsers in their default configuration.

But back to your plan to make separate "input" (to the server) and
"output" (from the server) connections does not make any sense unless
you have some justification for making things that complicated.

I'm available for enlightenment, though I suspect your requirements
are actually a lot simpler than what you describe.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAA00MACgkQ9CaO5/Lv0PDz5ACePY07/LBELtlspcvC2U+k0hoF
oSgAnieuXC7721SMfwUzD0gWfZHaFwaB
=T9FG
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 02:30:30 2012
Return-Path: <users-return-235478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5A92DD92
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 02:30:30 +0000 (UTC)
Received: (qmail 90079 invoked by uid 500); 14 Jul 2012 02:30:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90027 invoked by uid 500); 14 Jul 2012 02:30:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90006 invoked by uid 99); 14 Jul 2012 02:30:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:30:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:30:19 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id a2Fs1j00227AodY512W165; Sat, 14 Jul 2012 02:30:01 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id a2W71j00G1FXhpX3f2W7Ku; Sat, 14 Jul 2012 02:30:07 +0000
Message-ID: <5000D9A7.3060005@christopherschultz.net>
Date: Fri, 13 Jul 2012 22:29:59 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Client Authentication using SSL
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com> <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com> <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P> <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com> <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de> <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com>
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jeffrey,

On 7/12/12 9:44 AM, Jeffrey Janner wrote:
> Is there anyone who's implemented true-client SSL auth over APR
> that would be willing to share hints/tips on how they handled
> certificate distributions, etc.?

I wasn't using APR -- though it shouldn't be too terrible to switch
from JSK configuration to openssl ; openssl is a *lot* more
straightforward IMO -- and I wasn't actually using CLIENT-AUTH, but I
did some playing-around a few years ago and posted a bunch to the list
about it. Here's on of the threads:
http://markmail.org/thread/vxwwli5nzt4itfr2

You could also look around the archives in the same general time
period (fall 2009) for other semi-related posts by me. I wasn't able
to find a post that said "Here's what I actually got working" though
I'm reasonably certain I actually did do that.

Finally, there is a (relatively) new <Realm> configuration attribute
that you might want to check out if you want to use CLIENT-CERT:
X509UsernameRetrieverClassName

http://tomcat.apache.org/tomcat-7.0-doc/config/realm.html

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAA2acACgkQ9CaO5/Lv0PApAwCgrbYroL5Ywjh2MvBZ1qzcBCAS
wtMAni9T0f9K17xG3AN7IsdCxZZtPurr
=N6zS
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 02:34:09 2012
Return-Path: <users-return-235479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27CEEDD9D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 02:34:09 +0000 (UTC)
Received: (qmail 803 invoked by uid 500); 14 Jul 2012 02:34:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 717 invoked by uid 500); 14 Jul 2012 02:34:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 708 invoked by uid 99); 14 Jul 2012 02:34:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:34:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 02:33:58 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id a2Wy1j0010Fqzac582Zf77; Sat, 14 Jul 2012 02:33:39 +0000
Received: from Christophers-MacBook-Pro.local ([107.3.88.58])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id a2Zc1j0041FXhpX3U2ZcUe; Sat, 14 Jul 2012 02:33:36 +0000
Message-ID: <5000DA81.1020706@christopherschultz.net>
Date: Fri, 13 Jul 2012 22:33:37 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat building problems: Apache Tomcat 5.5 Servelet/JSP container
References: <821746D06B249A408FD67CEA48119F2402DAA7@UM-MBX-N03.um.umsystem.edu> <CABzHfVkk9JbCGjT8GpCB+SMtXMk8ng+rHjYV1H3AYC=-hYN+EA@mail.gmail.com> <4FF7249F.4050808@christopherschultz.net> <CABzHfVk=tAyNTjXU7N9NqtXA7Zq+gqH__k21uARwjEU6wj0UqA@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402EFBE@UM-MBX-N03.um.umsystem.edu> <CABzHfVkd_SwT-TBDkdpSJnRr9W89WvD7ZQVXSkK2QFraSkRfow@mail.gmail.com> <821746D06B249A408FD67CEA48119F2402F378@UM-MBX-N03.um.umsystem.edu> <4FFF3E1E.1090802@pidster.com> <4FFF4E58.9000901@ice-sa.com> <99C8B2929B39C24493377AC7A121E21FB032D08C3B@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB032D08C3B@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chuck,

On 7/12/12 6:49 PM, Caldarale, Charles R wrote:
> tar.gz (pgp, md5)

Should be labelled "competent software engineers should download this
one".

;)

I kid: I feel bad for anyone who is forced to run any Microsoft
Windows-based server, though.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAA2oEACgkQ9CaO5/Lv0PB56wCgh6WT1Y29IqRqS+FLY5Dv+RIG
GQIAoJ5WFUfg6SAfaCGW2S1DKtWiGc9C
=8LMd
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 04:13:33 2012
Return-Path: <users-return-235480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BCF3D978
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 04:13:33 +0000 (UTC)
Received: (qmail 53955 invoked by uid 500); 14 Jul 2012 04:13:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53722 invoked by uid 500); 14 Jul 2012 04:13:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53639 invoked by uid 99); 14 Jul 2012 04:13:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 04:13:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 04:13:18 +0000
Received: by obbta14 with SMTP id ta14so7975135obb.18
        for <users@tomcat.apache.org>; Fri, 13 Jul 2012 21:12:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wsEU0b11TfYmQQI0ap0NgahKQCDFV6GioDG/vOl7gwI=;
        b=ycIYQ4yVFlzGwo/6aghQVy27DaPYkGS8cOvbwd80dPcIH5iCcHUzjrw0JXm+1vTK5W
         GdjQQ+cDLqCIyakoyYQxENV/+dQUSMKvlCIBqJeG8em+ZpFj3biAK4yGET741xxQAyyB
         3PQRTWdI5DAtyPgpMeD1hoz6KEGGm7hjQ0DJbAPIZVhMN0Wwq8bJ+bjpuz8HV4i/+HyU
         RcyQPUiBuWVyTfksEN4rHj7oJAnFYHzt5kKofzODjD0d1NVMLJHcSur6+cpkNZ/Sk286
         UWDK7pd0wFDVVktjQeu/v4YkKfkn7QF5SXMbZMmOZkoXnuj2OynryWC91713Gqxna9Mo
         bEww==
MIME-Version: 1.0
Received: by 10.60.13.201 with SMTP id j9mr4897713oec.51.1342239177702; Fri,
 13 Jul 2012 21:12:57 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Fri, 13 Jul 2012 21:12:57 -0700 (PDT)
In-Reply-To: <5000D343.6030102@christopherschultz.net>
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
	<5000D343.6030102@christopherschultz.net>
Date: Sat, 14 Jul 2012 00:12:57 -0400
Message-ID: <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
Subject: Re: tomcat session id
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f838b3763fbd404c4c269a3

--e89a8f838b3763fbd404c4c269a3
Content-Type: text/plain; charset=ISO-8859-1

Well basically, For the output servlet, I am using comet to keep the
connection alive and push things out to the client when they are available.
This program is a chat program with a drawing capability, so two people can
draw on the same canvas and chat with each other.

On Fri, Jul 13, 2012 at 10:02 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Elias,
>
> On 7/13/12 9:39 AM, Elias Kopsiaftis wrote:
> > I am working on a program that uses two servlets, one for input
> > from the client, and one for output to the client.
>
> Good so far.
>
> > My question is, from the client side, I will have two connections
> > open to the server, one for input, and one for output
>
> Okay, you've lost me: what you've described is not how HTTP works. A
> client makes one (or more) connection(s), sends a request (on each
> connection) and receives a response over the same connection.
>
> > so, when both connect, will both connections have the same
> > sessionid even though they are accessing two different servlets?
> > both servlets will be on the same tomcat
>
> Well, if you are using cookies and your client manages them globally,
> then all connections should be associated with the same session. This
> is the case with most web browsers in their default configuration.
>
> If you are using URL re-writing to maintain session affinity, then
> you'll have to make sure that all of the URLs that you issue from the
> client to the server have the URL properly encoded. If you have
> written your webapp correctly, most of this should be taken care of by
> the container. Your client also has to be willing to include "path
> parameters" in the URLs that it passes-back to the server. This is
> also the case with most web browsers in their default configuration.
>
> But back to your plan to make separate "input" (to the server) and
> "output" (from the server) connections does not make any sense unless
> you have some justification for making things that complicated.
>
> I'm available for enlightenment, though I suspect your requirements
> are actually a lot simpler than what you describe.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAlAA00MACgkQ9CaO5/Lv0PDz5ACePY07/LBELtlspcvC2U+k0hoF
> oSgAnieuXC7721SMfwUzD0gWfZHaFwaB
> =T9FG
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f838b3763fbd404c4c269a3--

From users-return-235481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 10:04:44 2012
Return-Path: <users-return-235481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EE50DE42
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 10:04:44 +0000 (UTC)
Received: (qmail 16501 invoked by uid 500); 14 Jul 2012 10:04:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16075 invoked by uid 500); 14 Jul 2012 10:04:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16022 invoked by uid 99); 14 Jul 2012 10:04:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 10:04:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 10:04:23 +0000
Received: from [192.168.245.129] (p549E1D8D.dip0.t-ipconnect.de [84.158.29.141])
	by tor.combios.es (Postfix) with ESMTPA id 7146FDA0657
	for <users@tomcat.apache.org>; Sat, 14 Jul 2012 12:04:01 +0200 (CEST)
Message-ID: <5001440D.70201@ice-sa.com>
Date: Sat, 14 Jul 2012 12:03:57 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat session id
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>	<5000D343.6030102@christopherschultz.net> <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
In-Reply-To: <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Elias Kopsiaftis wrote:
> Well basically, For the output servlet, I am using comet to keep the
> connection alive and push things out to the client when they are available.
> This program is a chat program with a drawing capability, so two people can
> draw on the same canvas and chat with each other.

Isn't this just the kind of thing that "websocket(s)" is supposed to be made for ?
You may want at least to look it up :
http://en.wikipedia.org/wiki/WebSocket

I also think that I remember a discussion a couple of days/weeks ago on this list about 
it. You may also want to check the list archives.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 11:30:21 2012
Return-Path: <users-return-235482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6356AD0FD
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 11:30:21 +0000 (UTC)
Received: (qmail 64369 invoked by uid 500); 14 Jul 2012 11:30:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64019 invoked by uid 500); 14 Jul 2012 11:30:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63966 invoked by uid 99); 14 Jul 2012 11:30:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 11:30:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 11:30:05 +0000
Received: from [192.168.245.129] (p549E1D8D.dip0.t-ipconnect.de [84.158.29.141])
	by tor.combios.es (Postfix) with ESMTPA id 49C3BDA06A3
	for <users@tomcat.apache.org>; Sat, 14 Jul 2012 13:29:42 +0200 (CEST)
Message-ID: <50015825.3090201@ice-sa.com>
Date: Sat, 14 Jul 2012 13:29:41 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Solved - Connecting Tmcat and IIS
References: <000c01cd60da$d8a5e460$89f1ad20$@com>
In-Reply-To: <000c01cd60da$d8a5e460$89f1ad20$@com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Vijaya wrote:
> Hello Everyone,
> 
>  
> 
> I want to post this message so that if you are struggling with
> isapi_redirector to connect Tomcat and IIS. From one of the posts in
> forums.iis.net, I came to know about a new redirector for IIS7
> http://tomcatiis.riaforge.org. after wasting around a month to make the
> isapi redirector failed in my server.  This new redirector installation has
> an automatic installation that will make necessary changes automatically. No
> need to change the registry, properties file and add virtual directories.
> This one worked very well for me.
> 

Vijaya,

it is always nice to hear about alternative open-source methods to fill particular 
requirements, and from their homepage at least, this new connector looks really nice.
So thank you for the information, and hopefully this will result in more people trying it 
out and reporting about it.

This being said, a note : in your message above, you seem to imply that isapi_redirector 
(the Windows version of mod_jk), which is a project under the Tomcat umbrella and which is 
supported on this list, is difficult to install and configure etc. and that this other 
software is much better and easier.
Not to take anything away from the "Boncode AJP connector" (as it is named on the 
webpage), but for a balanced interpretation of the above I would advise any readers to 
first scan the list archives, for the thread entitled "iis not looking for jsp in tomcat 
webapps folder" for the full story.

The isapi_redirector/mod_jk connector has been around for many years, has been installed 
and configured and is being used succesfully by many thousands of people on production 
websites worldwide, in a very wide range of configurations and circumstances.
It is also well-supported and kept very closely in sync with changes in Tomcat.
And, the configuration and usage of mod_jk and isapi_redirector being practically the 
same, it is in effect multi-platform, running under Windows as well as under Linux and 
multiple Unix variations.
In contrast, the Boncode AJP connector is one year old, and is single-platform(Windows).
This is not at all to say that this new connector is not an excellent piece of software (I 
don't know, I have not tried it yet), but the fact that for Vijaya it was much easier to 
deal with is not necessarily a general circumstance, yet.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 12:43:26 2012
Return-Path: <users-return-235483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9FA48DE09
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 12:43:26 +0000 (UTC)
Received: (qmail 5290 invoked by uid 500); 14 Jul 2012 12:43:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5054 invoked by uid 500); 14 Jul 2012 12:43:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5023 invoked by uid 99); 14 Jul 2012 12:43:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 12:43:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alberto.aresca@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 12:43:13 +0000
Received: by bkcji1 with SMTP id ji1so3764529bkc.18
        for <users@tomcat.apache.org>; Sat, 14 Jul 2012 05:42:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=Djl+yY2PjO9BGu1+0C5YyRvJEIg3o4yipdFrSe1dZMA=;
        b=jZE2gEsRIIEamJhjhm5/e9EkjnFvgOk5UHpYKUvh5y2yShsJhLbAlB/h0P7kdnhBuh
         +cq9CgNn70tsfdC71s0FjuZHF4xRLZgWb7efuRS9REucfv5QP4YgitkJI0r7LVoKWZHU
         e9c6s6hjWoK2wSyd5vrpgqe3eM7Y1OoLipmfqR32ZUD8felFm9CqXgXB/R41ypF11IzU
         giW9wF4MsV82bnxcHjxWo9dHfHBwO/x44xcO0i9JN3ql5g0UtJKKUdyCq/7UJ9BXwOdp
         h6W1PPw8Ad2LZloAUsq+2JHztMO7nKDZskbFFvVt0bVqSFgvOGIzDcnYdup1svZ1mqeG
         E7PA==
Received: by 10.204.152.15 with SMTP id e15mr2484712bkw.18.1342269772451; Sat,
 14 Jul 2012 05:42:52 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.79.82 with HTTP; Sat, 14 Jul 2012 05:42:32 -0700 (PDT)
From: Alberto Aresca <alberto.aresca@gmail.com>
Date: Sat, 14 Jul 2012 14:42:32 +0200
Message-ID: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com>
Subject: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

I've just upgraded my tomcat from version 7.0.28 to the newly released
7.0.29 but while before my webapp was being expanded without any
problem, now it is causing an OOME.

Of course this can be easily fixed by increasing the heap size but
before going forward in the upgrade i'd like to know if anyone else
have been experiencing something similar or if something in the
expansion implementation  changed recently (i couldn't find anything
in the release note)

Regards

-- 
Alberto Aresca

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 17:08:53 2012
Return-Path: <users-return-235484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64923DC52
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 17:08:53 +0000 (UTC)
Received: (qmail 74974 invoked by uid 500); 14 Jul 2012 17:08:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74749 invoked by uid 500); 14 Jul 2012 17:08:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74740 invoked by uid 99); 14 Jul 2012 17:08:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 17:08:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 17:08:42 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id aFvR1j00217dt5G51H8PmS; Sat, 14 Jul 2012 17:08:23 +0000
Received: from [10.207.171.39] ([198.228.205.20])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id aH841j00a0Svuw63ZH8Ez4; Sat, 14 Jul 2012 17:08:27 +0000
Subject: Re: tomcat session id
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com> <5000D343.6030102@christopherschultz.net> <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com> <5001440D.70201@ice-sa.com>
From: Christopher Schultz <chris@christopherschultz.net>
Content-Type: text/plain;
	charset=utf-8
X-Mailer: iPhone Mail (9B206)
In-Reply-To: <5001440D.70201@ice-sa.com>
Message-Id: <73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net>
Date: Sat, 14 Jul 2012 13:07:58 -0400
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
X-Virus-Checked: Checked by ClamAV on apache.org

Andr=C3=A9,

On Jul 14, 2012, at 6:03, Andr=C3=A9 Warnier <aw@ice-sa.com> wrote:

> Elias Kopsiaftis wrote:
>> Well basically, For the output servlet, I am using comet to keep the
>> connection alive and push things out to the client when they are availabl=
e.
>> This program is a chat program with a drawing capability, so two people c=
an
>> draw on the same canvas and chat with each other.
>=20
> Isn't this just the kind of thing that "websocket(s)" is supposed to be ma=
de for ?

Comet is basically a precursor to Websocket: the ideas are vaguely the same a=
nd the use cases are nearly identical.

Elias, if I were you, I would focus on Websocket moving forward... Comet is g=
oing to see less and less action (globally, not just in Tomcat) a time goes o=
n.

-chris=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 14 17:14:30 2012
Return-Path: <users-return-235485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3B90DC5B
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 14 Jul 2012 17:14:29 +0000 (UTC)
Received: (qmail 84955 invoked by uid 500); 14 Jul 2012 17:14:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84899 invoked by uid 500); 14 Jul 2012 17:14:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84888 invoked by uid 99); 14 Jul 2012 17:14:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 17:14:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jul 2012 17:14:16 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id aAFk1j0021c6gX853HDxeT; Sat, 14 Jul 2012 17:13:57 +0000
Received: from [10.207.171.39] ([198.228.205.20])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id aHDF1j00l0Svuw63jHDPgX; Sat, 14 Jul 2012 17:13:43 +0000
Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com>
From: Christopher Schultz <chris@christopherschultz.net>
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPhone Mail (9B206)
In-Reply-To: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com>
Message-Id: <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>
Date: Sat, 14 Jul 2012 13:13:21 -0400
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)

Alberto,

On Jul 14, 2012, at 8:42, Alberto Aresca <alberto.aresca@gmail.com> wrote:

> I've just upgraded my tomcat from version 7.0.28 to the newly released
> 7.0.29 but while before my webapp was being expanded without any
> problem, now it is causing an OOME.
>=20
> Of course this can be easily fixed by increasing the heap size but
> before going forward in the upgrade i'd like to know if anyone else
> have been experiencing something similar or if something in the
> expansion implementation  changed recently (i couldn't find anything
> in the release note)

Can you provide any other information? Stack trace or heap dump? Is this reg=
ular heap or permgen? What are your heap settings?

Is there anything else we should know about your web app? Do you have 500 ja=
r files in your lib directory? Do you cache a large dataset on startup?
>=20

-chris=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 17:38:01 2012
Return-Path: <users-return-235486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41754D6F8
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 17:38:01 +0000 (UTC)
Received: (qmail 68339 invoked by uid 500); 15 Jul 2012 17:37:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68286 invoked by uid 500); 15 Jul 2012 17:37:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68274 invoked by uid 99); 15 Jul 2012 17:37:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 17:37:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 17:37:50 +0000
Received: by obbta14 with SMTP id ta14so11323188obb.18
        for <users@tomcat.apache.org>; Sun, 15 Jul 2012 10:37:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YTKdWc6UlgK/x5Km3r5fhjNxYCCMj/aydPSzTiFnngE=;
        b=WSPjJFz08wH3hwU6TH/oBsTizni/4HSxct2MRmsg6i0ddY/YxOatHXEnT//ctF1+2s
         MRyb3pNsGoe96ez2R23DCpuT6nFjXdLj7+B5/SIMmYt7kQhBgZiFrrIAZVsWSm9mUy0o
         VM1REyMajhlKyFpurzVFxf0FwlPVi4p6Us4iXJpLxfP7V/QWQBBiR1oBTNoyCDW3bqig
         9aHPYMyPRMruNpf1EAKQsCGWdpa4GgfBJZlKqygWXnTQS88tCAYiXDRRiuMhYaXmZXoT
         /1DrnrCcTTFJYSf+a+43Wjkx3Vcz1E0oddOJHL2IbgFPVAm47nqfvuDyKGvjQm6Ljvcc
         t0bg==
MIME-Version: 1.0
Received: by 10.182.85.8 with SMTP id d8mr11591031obz.70.1342373849904; Sun,
 15 Jul 2012 10:37:29 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Sun, 15 Jul 2012 10:37:29 -0700 (PDT)
In-Reply-To: <73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net>
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
	<5000D343.6030102@christopherschultz.net>
	<CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
	<5001440D.70201@ice-sa.com>
	<73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net>
Date: Sun, 15 Jul 2012 13:37:29 -0400
Message-ID: <CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com>
Subject: Re: tomcat session id
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044795597ab7c804c4e1c4e7

--f46d044795597ab7c804c4e1c4e7
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

ok i appreciate the input, but for now i will stick with the comet approach
because i read that websocket for tomcat 7 is still experimental and i
already built a lot of logic around the comet approach. does anyone know
the answer to my original question?

On Sat, Jul 14, 2012 at 1:07 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> Andr=E9,
>
> On Jul 14, 2012, at 6:03, Andr=E9 Warnier <aw@ice-sa.com> wrote:
>
> > Elias Kopsiaftis wrote:
> >> Well basically, For the output servlet, I am using comet to keep the
> >> connection alive and push things out to the client when they are
> available.
> >> This program is a chat program with a drawing capability, so two peopl=
e
> can
> >> draw on the same canvas and chat with each other.
> >
> > Isn't this just the kind of thing that "websocket(s)" is supposed to be
> made for ?
>
> Comet is basically a precursor to Websocket: the ideas are vaguely the
> same and the use cases are nearly identical.
>
> Elias, if I were you, I would focus on Websocket moving forward... Comet
> is going to see less and less action (globally, not just in Tomcat) a tim=
e
> goes on.
>
> -chris
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044795597ab7c804c4e1c4e7--

From users-return-235487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 19:50:48 2012
Return-Path: <users-return-235487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BA4FDFBE
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 19:50:48 +0000 (UTC)
Received: (qmail 42773 invoked by uid 500); 15 Jul 2012 19:50:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42735 invoked by uid 500); 15 Jul 2012 19:50:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42724 invoked by uid 99); 15 Jul 2012 19:50:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 19:50:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 19:50:37 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id aiig1j0051ap0As59jqJ2b; Sun, 15 Jul 2012 19:50:18 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id ajqS1j00N38FjT13ijqU2U; Sun, 15 Jul 2012 19:50:28 +0000
Message-ID: <50031EFB.2040409@christopherschultz.net>
Date: Sun, 15 Jul 2012 15:50:19 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat session id
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com> <5000D343.6030102@christopherschultz.net> <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com> <5001440D.70201@ice-sa.com> <73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net> <CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com>
In-Reply-To: <CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Elias,

On 7/15/12 1:37 PM, Elias Kopsiaftis wrote:
> ok i appreciate the input, but for now i will stick with the comet
> approach because i read that websocket for tomcat 7 is still
> experimental and i already built a lot of logic around the comet
> approach. does anyone know the answer to my original question?

As long as one servlet was called long-enough before the second one
that the session could be created and its id returned to the client
*and* sessions are supported, then yes, both servlets should have
access to the same session data.

It should have been easy to test this on your own ...

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlADHvsACgkQ9CaO5/Lv0PCwaACfej2clhjZIZ+UpF2CpNCoOtIX
HvUAniuzrjEf7AakeL6ONaIN736TImlr
=1ZqX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 19:52:46 2012
Return-Path: <users-return-235488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40616DFD3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 19:52:46 +0000 (UTC)
Received: (qmail 50026 invoked by uid 500); 15 Jul 2012 19:52:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49915 invoked by uid 500); 15 Jul 2012 19:52:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49906 invoked by uid 99); 15 Jul 2012 19:52:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 19:52:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 19:52:38 +0000
Received: by obbta14 with SMTP id ta14so11513797obb.18
        for <users@tomcat.apache.org>; Sun, 15 Jul 2012 12:52:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=79sHxI//3LnwkXyrFLBSR80VcgRQC1hJyqwPxUdDFFQ=;
        b=VXjLN8m+MOQ2UBqO+KWJ1LceA6FnVLm9ullNn/QPYoHm02ZBsAZRZxtoelmjmF/Wtl
         zYLNc9omwfHDOL+XR3jhg2wkU0F+in6fzFKhHhP2uKQMptEnCc3YT1T/Dy7YXUWXsBim
         jfGs3YC7+p//SKQIB/5at6iL4BgmWzlCVX/pX35sW+sKNnOFRxybhH9efDcLBNeRfNuO
         BqP4oRBb0guRgQciLy7nWWKyxYJOFgauuL2VmGPiB6ytDhGbANWX5KayeUM29I3rRsjo
         9WGEoXnSJ4sIkyXfN9hsejyfcgZ3UxsoGQAtzjArbE4NewdrOvHVrZEvzVRGmgA/73+J
         /PHw==
MIME-Version: 1.0
Received: by 10.182.174.68 with SMTP id bq4mr12052497obc.53.1342381937378;
 Sun, 15 Jul 2012 12:52:17 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Sun, 15 Jul 2012 12:52:17 -0700 (PDT)
In-Reply-To: <50031EFB.2040409@christopherschultz.net>
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
	<5000D343.6030102@christopherschultz.net>
	<CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
	<5001440D.70201@ice-sa.com>
	<73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net>
	<CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com>
	<50031EFB.2040409@christopherschultz.net>
Date: Sun, 15 Jul 2012 15:52:17 -0400
Message-ID: <CALxMDxYs6jm+iMz4XNVfifJxE1XENdNG1SC8C-FVzxKvNx9DGQ@mail.gmail.com>
Subject: Re: tomcat session id
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f50311a87c65804c4e3a620
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f50311a87c65804c4e3a620
Content-Type: text/plain; charset=ISO-8859-1

thank you, and it wasnt working thats why i asked. there must be something
else wrong in my code

On Sun, Jul 15, 2012 at 3:50 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Elias,
>
> On 7/15/12 1:37 PM, Elias Kopsiaftis wrote:
> > ok i appreciate the input, but for now i will stick with the comet
> > approach because i read that websocket for tomcat 7 is still
> > experimental and i already built a lot of logic around the comet
> > approach. does anyone know the answer to my original question?
>
> As long as one servlet was called long-enough before the second one
> that the session could be created and its id returned to the client
> *and* sessions are supported, then yes, both servlets should have
> access to the same session data.
>
> It should have been easy to test this on your own ...
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAlADHvsACgkQ9CaO5/Lv0PCwaACfej2clhjZIZ+UpF2CpNCoOtIX
> HvUAniuzrjEf7AakeL6ONaIN736TImlr
> =1ZqX
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f50311a87c65804c4e3a620--

From users-return-235489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 22:36:33 2012
Return-Path: <users-return-235489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E0A4997E4
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 22:36:32 +0000 (UTC)
Received: (qmail 73651 invoked by uid 500); 15 Jul 2012 22:36:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73581 invoked by uid 500); 15 Jul 2012 22:36:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73572 invoked by uid 99); 15 Jul 2012 22:36:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 22:36:29 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of tmoleary@uw.edu designates 140.142.33.32 as permitted sender)
Received: from [140.142.33.32] (HELO mxout14.cac.washington.edu) (140.142.33.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 22:36:21 +0000
Received: from UWIT-HUB07.exchange.washington.edu (uwit-hub07.exchange.washington.edu [140.142.238.168])
	by mxout14.cac.washington.edu (8.14.4+UW11.03/8.14.4+UW12.05) with ESMTP id q6FMZVei022672
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=OK)
	for <users@tomcat.apache.org>; Sun, 15 Jul 2012 15:35:31 -0700
Received: from uwit-mbx09.exchange.washington.edu ([172.22.4.237]) by
 UWIT-HUB07.exchange.washington.edu ([140.142.238.168]) with mapi id
 14.02.0298.004; Sun, 15 Jul 2012 15:35:31 -0700
From: "Mike O'Leary" <tmoleary@uw.edu>
To: "Tomcat Users (users@tomcat.apache.org)" <users@tomcat.apache.org>
Subject: Calling Bootstrap.main from a Java program
Thread-Topic: Calling Bootstrap.main from a Java program
Thread-Index: Ac1i1+d+Ozqs62liQCGA4CZzVrR6cg==
Date: Sun, 15 Jul 2012 22:35:31 +0000
Message-ID: <7E6B6E32BE46214181EA6705010278F5D61066@uwit-mbx09.exchange.washington.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.28.131.86]
Content-Type: multipart/alternative;
	boundary="_000_7E6B6E32BE46214181EA6705010278F5D61066uwitmbx09exchange_"
MIME-Version: 1.0
X-PMX-Version: 6.0.0.2142326, Antispam-Engine: 2.7.2.2107409, Antispam-Data: 2012.7.15.222122
X-PMX-Server: mxout14.cac.washington.edu
X-Uwash-Spam: Gauge=IIIIIIII, Probability=8%, Report='
 HTML_50_70 0.1, SUPERLONG_LINE 0.05, BODYTEXTH_SIZE_10000_LESS 0, BODYTEXTP_SIZE_3000_LESS 0, BODY_SIZE_5000_5999 0, BODY_SIZE_7000_LESS 0, FROM_EDU_TLD 0, NO_URI_FOUND 0, WEBMAIL_SOURCE 0, WEBMAIL_XOIP 0, WEBMAIL_X_IP_HDR 0, __CT 0, __CTYPE_HAS_BOUNDARY 0, __CTYPE_MULTIPART 0, __CTYPE_MULTIPART_ALT 0, __HAS_FROM 0, __HAS_HTML 0, __HAS_MSGID 0, __HAS_XOIP 0, __HTML_FONT_BLUE 0, __IMS_MSGID 0, __MIME_HTML 0, __MIME_VERSION 0, __SANE_MSGID 0, __STYLE_RATWARE_2 0, __SUBJ_ALPHA_END 0, __TAG_EXISTS_HTML 0, __TO_MALFORMED_2 0'
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_7E6B6E32BE46214181EA6705010278F5D61066uwitmbx09exchange_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I would like to be able to start and stop Tomcat from a Java program runnin=
g on a Windows machine. I looked at the contents of startup.bat, shutdown.b=
at and catalina.bat, and it looks like one easy way to do that would be to =
set system properties that correspond to the -D command line arguments as t=
hey are set up in the script files, and then call Bootstrap.main with a lis=
t argument that contains either "start" or "stop". When I tried this runnin=
g my Java program in Eclipse, the call to Bootstrap.main(new String[]{"star=
t"}) did not return. I don't understand why this is, because running startu=
p.bat in a command prompt window gets Tomcat running and then returns to a =
command prompt. Is there a way to call Bootstrap.main(new String[]{"start"}=
) in an application's main thread so that it returns and Tomcat continues r=
unning?

I also tried calling Bootstrap.main(new String[]{"start"}) in a separate th=
read, but I must not have done it right, because when I call Bootstrap.main=
(new String[]{"stop"}) it claims to stop Tomcat but there is still a proces=
s listening on the port that I designated.

What is the best way to start and stop Tomcat programmatically from a Java =
application? If it is better to do it using a different class, such as Tomc=
at or Embedded, could someone point me to information about how to do that?=
 I tried using the Tomcat class recently and I couldn't get it to work eith=
er.

I am working with Tomcat 7.0.25 x64 on Windows 2008 Server.
Thanks,
Mike

--_000_7E6B6E32BE46214181EA6705010278F5D61066uwitmbx09exchange_--

From users-return-235490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 22:57:41 2012
Return-Path: <users-return-235490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6718A9845
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 22:57:41 +0000 (UTC)
Received: (qmail 16392 invoked by uid 500); 15 Jul 2012 22:57:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16322 invoked by uid 500); 15 Jul 2012 22:57:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16281 invoked by uid 99); 15 Jul 2012 22:57:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 22:57:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.250.139 is neither permitted nor denied by domain of benjamin.muschko@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 22:57:32 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <benjamin.muschko@gmail.com>)
	id 1SqXkV-0006nw-JR
	for users@tomcat.apache.org; Sun, 15 Jul 2012 15:57:11 -0700
Date: Sun, 15 Jul 2012 15:57:11 -0700 (PDT)
From: Benjamin Muschko <benjamin.muschko@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1342393031568-4984104.post@n6.nabble.com>
Subject: Embedded Tomcat 6 & 7 logging to file
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I'd like to redirect the embedded Tomcat's startup logging messages to a
file. What I am looking for is something like this:

...
Initializing ProtocolHandler ["http-bio-8080"]
Initializing ProtocolHandler ["http-bio-8091"]
Starting service Tomcat
Starting Servlet Engine: Apache Tomcat/7.0.11
...

So far I haven't found a way of making this work. My first approach was to
add a FileHandler to the context's logger:

Handler fh = new FileHandler("output.log", true);
fh.formatter = new SimpleFormatter();
fh.level = Level.ALL;
fh.encoding = "UTF-8";
context.getLogger().logger.addHandler(fh);

It works fine for the context in Tomcat 7 but doesn't give me the result I
am looking for.  Also trying to capture System.out and System.err and
writing it to a file doesn't solve my problem:

System.setOut(new PrintStream(new File("output-file.txt")));
System.setErr(new PrintStream(new File("output-file.txt")));

I guess I am not clear on how the embedded Tomcat implementation logs the
messages to the console and how I can change it. Could somebody clarify this
for me. It would be great to see and example that would work for embedded
Tomcat 6 & 7.

Thanks,

Ben

--
View this message in context: http://tomcat.10.n6.nabble.com/Embedded-Tomcat-6-7-logging-to-file-tp4984104.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 23:55:34 2012
Return-Path: <users-return-235491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A8ABD44A
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 23:55:34 +0000 (UTC)
Received: (qmail 7943 invoked by uid 500); 15 Jul 2012 23:55:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7797 invoked by uid 500); 15 Jul 2012 23:55:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7786 invoked by uid 99); 15 Jul 2012 23:55:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 23:55:30 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.99 as permitted sender)
Received: from [216.82.241.99] (HELO mail51.messagelabs.com) (216.82.241.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 23:55:21 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-3.tower-51.messagelabs.com!1342396498!8280009!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 18422 invoked from network); 15 Jul 2012 23:54:59 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-3.tower-51.messagelabs.com with RC4-SHA encrypted SMTP; 15 Jul 2012 23:54:59 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 15 Jul 2012 18:54:58 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Sun, 15 Jul
 2012 18:54:58 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 15 Jul 2012 18:54:54 -0500
Subject: RE: Calling Bootstrap.main from a Java program
Thread-Topic: Calling Bootstrap.main from a Java program
Thread-Index: Ac1i1+d+Ozqs62liQCGA4CZzVrR6cgAC7pvA
Message-ID: <99C8B2929B39C24493377AC7A121E21FB03412E2C3@USEA-EXCH8.na.uis.unisys.com>
References: <7E6B6E32BE46214181EA6705010278F5D61066@uwit-mbx09.exchange.washington.edu>
In-Reply-To: <7E6B6E32BE46214181EA6705010278F5D61066@uwit-mbx09.exchange.washington.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Mike O'Leary [mailto:tmoleary@uw.edu]=20
> Subject: Calling Bootstrap.main from a Java program

> When I tried this running my Java program in Eclipse, the call=20
> to Bootstrap.main(new String[]{"start"}) did not return.

The thread that calls Bootstrap.main() ends up waiting for input on the shu=
tdown port - which a thread dump would easily show you.

> running startup.bat in a command prompt window gets Tomcat=20
> running and then returns to a command prompt.

You appear to have missed that startup.bat kicks off catalina.bat in a sepa=
rate process.

> Is there a way to call Bootstrap.main(new String[]{"start"})=20
> in an application's main thread so that it returns and Tomcat
> continues running?

You shouldn't really be doing it that way, but disabling the shutdown port =
in your server.xml might work. =20

> What is the best way to start and stop Tomcat programmatically from
> a Java application? If it is better to do it using a different class,
> such as Tomcat or Embedded, could someone point me to information=20
> about how to do that?

Use the Tomcat class; Embedded is deprecated.  Read the Javadoc for org.apa=
che.catalina.startup.Tomcat.  You could also try launching Tomcat in a sepa=
rate process, rather than inside the JVM you're already using.

> I tried using the Tomcat class recently and I couldn't get it to=20
> work either.

Can't provide help without specifics.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 15 23:57:20 2012
Return-Path: <users-return-235492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE824D44D
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 15 Jul 2012 23:57:20 +0000 (UTC)
Received: (qmail 13130 invoked by uid 500); 15 Jul 2012 23:57:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12895 invoked by uid 500); 15 Jul 2012 23:57:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12886 invoked by uid 99); 15 Jul 2012 23:57:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 23:57:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jul 2012 23:57:11 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id anZM1j0051ap0As59nwsHl; Sun, 15 Jul 2012 23:56:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id anwy1j00J38FjT13inx0Vp; Sun, 15 Jul 2012 23:57:01 +0000
Message-ID: <500358C4.8080908@christopherschultz.net>
Date: Sun, 15 Jul 2012 19:56:52 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat session id
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com> <5000D343.6030102@christopherschultz.net> <CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com> <5001440D.70201@ice-sa.com> <73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net> <CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com> <50031EFB.2040409@christopherschultz.net> <CALxMDxYs6jm+iMz4XNVfifJxE1XENdNG1SC8C-FVzxKvNx9DGQ@mail.gmail.com>
In-Reply-To: <CALxMDxYs6jm+iMz4XNVfifJxE1XENdNG1SC8C-FVzxKvNx9DGQ@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Elias,

On 7/15/12 3:52 PM, Elias Kopsiaftis wrote:
> thank you, and it wasnt working thats why i asked. there must be
> something else wrong in my code

Would you care to *post* your code? Perhaps someone with Comet
experience could give you an opinion...

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlADWMQACgkQ9CaO5/Lv0PBZUwCePZ010rYels8flsPIVmABVKb+
nF8An3CquLuIK/RqxYknymrLmf8vRMiS
=xaqS
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 05:50:17 2012
Return-Path: <users-return-235493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B7D591AD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 05:50:17 +0000 (UTC)
Received: (qmail 49201 invoked by uid 500); 16 Jul 2012 05:50:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48984 invoked by uid 500); 16 Jul 2012 05:50:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48927 invoked by uid 99); 16 Jul 2012 05:50:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 05:50:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [67.228.103.139] (HELO cpanel21.interactivedns.com) (67.228.103.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 05:50:02 +0000
Received: from [14.96.158.255] (port=1375 helo=VijayaPC)
	by cpanel21.interactivedns.com with esmtpa (Exim 4.77)
	(envelope-from <svijiya@solutionscraft.com>)
	id 1SqeBZ-000424-05
	for users@tomcat.apache.org; Mon, 16 Jul 2012 11:19:36 +0530
Message-ID: <16C316F49A024B2EB30B0C5BB2A07DE1@VijayaPC>
From: "Vijaya" <svijiya@solutionscraft.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
References: <000c01cd60da$d8a5e460$89f1ad20$@com> <50015825.3090201@ice-sa.com>
In-Reply-To: <50015825.3090201@ice-sa.com>
Subject: Re: Solved - Connecting Tmcat and IIS
Date: Mon, 16 Jul 2012 11:19:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 15.4.3555.308
X-MimeOLE: Produced By Microsoft MimeOLE V15.4.3555.308
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel21.interactivedns.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - solutionscraft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

Andre Warnier, thanks very much pointing the shortfall in my message.

I myself have been using isapi_redirector for more than 3 years without any 
problem and suddenly for unexplainable reasons (I am sure it was not the 
isapi_redirector problem but some other problem in our server that was 
driving me crazy) from my server end, I could not make the isapi_redirector 
work in our server and this new software helped me solve the problem.

In my opinion both the connectors are fairly straight forward to install and 
only wish more support will be available in both of these tools.

Regards,
Vijaya

-----Original Message----- 
>From: Andr Warnier
>Sent: Saturday, July 14, 2012 4:59 PM
>To: Tomcat Users List
>Subject: Re: Solved - Connecting Tmcat and IIS

Vijaya wrote:
> Hello Everyone,
>
>
> I want to post this message so that if you are struggling with
> isapi_redirector to connect Tomcat and IIS. From one of the posts in
> forums.iis.net, I came to know about a new redirector for IIS7
> http://tomcatiis.riaforge.org. after wasting around a month to make the
> isapi redirector failed in my server.  This new redirector installation 
> has
> an automatic installation that will make necessary changes automatically. 
> No
> need to change the registry, properties file and add virtual directories.
> This one worked very well for me.
>

Vijaya,

it is always nice to hear about alternative open-source methods to fill 
particular
requirements, and from their homepage at least, this new connector looks 
really nice.
So thank you for the information, and hopefully this will result in more 
people trying it
out and reporting about it.

This being said, a note : in your message above, you seem to imply that 
isapi_redirector
(the Windows version of mod_jk), which is a project under the Tomcat 
umbrella and which is
supported on this list, is difficult to install and configure etc. and that 
this other
software is much better and easier.
Not to take anything away from the "Boncode AJP connector" (as it is named 
on the
webpage), but for a balanced interpretation of the above I would advise any 
readers to
first scan the list archives, for the thread entitled "iis not looking for 
jsp in tomcat
webapps folder" for the full story.

The isapi_redirector/mod_jk connector has been around for many years, has 
been installed
and configured and is being used succesfully by many thousands of people on 
production
websites worldwide, in a very wide range of configurations and 
circumstances.
It is also well-supported and kept very closely in sync with changes in 
Tomcat.
And, the configuration and usage of mod_jk and isapi_redirector being 
practically the
same, it is in effect multi-platform, running under Windows as well as under 
Linux and
multiple Unix variations.
In contrast, the Boncode AJP connector is one year old, and is 
single-platform(Windows).
This is not at all to say that this new connector is not an excellent piece 
of software (I
don't know, I have not tried it yet), but the fact that for Vijaya it was 
much easier to
deal with is not necessarily a general circumstance, yet.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 06:43:38 2012
Return-Path: <users-return-235494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7C5CDFC1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 06:43:38 +0000 (UTC)
Received: (qmail 49088 invoked by uid 500); 16 Jul 2012 06:43:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48962 invoked by uid 500); 16 Jul 2012 06:43:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48941 invoked by uid 99); 16 Jul 2012 06:43:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 06:43:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 06:43:28 +0000
Received: by vcbfl15 with SMTP id fl15so2939414vcb.18
        for <users@tomcat.apache.org>; Sun, 15 Jul 2012 23:43:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=x80CPAbM8c9D8zko1Rcsbz8g5QiBjkEtdhI+q/xOJbc=;
        b=NEqHDgo50T/vafXvUpNMJWGHZJLTDpe/bkN/TBOeDwdTIaTqYIq1WuTwQYRtZpL23D
         0dAeUMnx/YPRc/M5PMxuXXtiNx66Pd4RleftR6qFpEAl3zk1YHtecg/8cVLyOxPFaGsb
         rvvhnfxvwn1/Df0aWCKcKcMKCpANlzOtc5YRp3IOx49MtSCJ2s4poAUCuVo8uDhVdiFk
         aaOq3yBaFUiogjn1Q1YMJZlrq4JMWkQq+eZGQdWGJdZiNK7EHF/ytJQtILn+xKnsF7es
         gWhBUPf7bm+Hf2I2+7kOuQEW5k/qOtQ0FWokKzyHgzaYJNZDQi+kQTJ1cW08QW0xHyGR
         8N+w==
MIME-Version: 1.0
Received: by 10.220.39.206 with SMTP id h14mr4773417vce.63.1342420987236; Sun,
 15 Jul 2012 23:43:07 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Sun, 15 Jul 2012 23:43:07 -0700 (PDT)
In-Reply-To: <1342393031568-4984104.post@n6.nabble.com>
References: <1342393031568-4984104.post@n6.nabble.com>
Date: Mon, 16 Jul 2012 10:43:07 +0400
Message-ID: <CABzHfV=Surpc54U5L6_XB3B3jQK659qxHJAE4sXA1Y0EoPo3ig@mail.gmail.com>
Subject: Re: Embedded Tomcat 6 & 7 logging to file
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/16 Benjamin Muschko <benjamin.muschko@gmail.com>:
> Hi,
>
> I'd like to redirect the embedded Tomcat's startup logging messages to a
> file. What I am looking for is something like this:
>
> ...
> Initializing ProtocolHandler ["http-bio-8080"]
> Initializing ProtocolHandler ["http-bio-8091"]
> Starting service Tomcat
> Starting Servlet Engine: Apache Tomcat/7.0.11
> ...
>
> So far I haven't found a way of making this work. My first approach was to
> add a FileHandler to the context's logger:
>
> Handler fh = new FileHandler("output.log", true);
> fh.formatter = new SimpleFormatter();
> fh.level = Level.ALL;
> fh.encoding = "UTF-8";
> context.getLogger().logger.addHandler(fh);
>
> It works fine for the context in Tomcat 7 but doesn't give me the result I
> am looking for.

context.getLogger() returns logger for certain named log category
only. As a coincidence, it is the same one as used by log methods in
Servlet API. Other Tomcat components use other log categories (aka
logger names).


> Also trying to capture System.out and System.err and
> writing it to a file doesn't solve my problem:
>
> System.setOut(new PrintStream(new File("output-file.txt")));
> System.setErr(new PrintStream(new File("output-file.txt")));
>

If java.util.logging starts before you run the above code, it can
create a ConsoleHandler using original stderr and stdout.

Your setOut() and setErr() will have no influence on it.


> I guess I am not clear on how the embedded Tomcat implementation logs the
> messages to the console and how I can change it.

java.util.logging.ConsoleHandler for the default log category writes
messages to the console. If none were configured, nothing were printed
there.


See java.util.logging documentation in JDK. Essentially its bootstrap
is controlled via certain system properties when your java application
(the one that embeds Tomcat) starts.

> Could somebody clarify this
> for me. It would be great to see and example that would work for embedded
> Tomcat 6 & 7.
>

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 06:51:47 2012
Return-Path: <users-return-235495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B34EDFE1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 06:51:47 +0000 (UTC)
Received: (qmail 68195 invoked by uid 500); 16 Jul 2012 06:51:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67978 invoked by uid 500); 16 Jul 2012 06:51:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67956 invoked by uid 99); 16 Jul 2012 06:51:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 06:51:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 06:51:36 +0000
Received: by vcbfl15 with SMTP id fl15so2944082vcb.18
        for <users@tomcat.apache.org>; Sun, 15 Jul 2012 23:51:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=F8GzjxSU0bZy3dqVdMa26V7+uPn7ut8aZW5QK7ErCPc=;
        b=tOJ8gdsS8P9R9jqmrzGhlwOPTNlDTulFlLvUxuAtnIC/4WN+hzJRTVgn0VaeRwLTx6
         Op+fndmbQQg8GMZFcvJBHSTiOwvsXvxVVdBTIFp8gIwNUNvFZVPlVCyszPQiRVCpcm2j
         YQ2bcJbV0JdHtGF9vE1iwMz30iM4WDFGhzScNI6ViP4gShtIXgUcTbXIeDWHBIHTLCGC
         onn1qSGfbohFLEW+TqIFJBEhSMHS8osuyUHHKWbnPs5aUfGSqkWo/TktFNur7oAMg/Ds
         PnY3Hbe4+b64bsznzBrQcnFXlISuNvT8L2x+lV8WFmYQVMS6Gk+Vh7su9ZylDgSZJ90N
         w+GA==
MIME-Version: 1.0
Received: by 10.52.176.66 with SMTP id cg2mr4124505vdc.121.1342421475262; Sun,
 15 Jul 2012 23:51:15 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Sun, 15 Jul 2012 23:51:15 -0700 (PDT)
In-Reply-To: <CALxMDxYs6jm+iMz4XNVfifJxE1XENdNG1SC8C-FVzxKvNx9DGQ@mail.gmail.com>
References: <CALxMDxbERTMVm+dwu7vt=JFYr9m4No-qxRoXOatbRQq_yFYMQQ@mail.gmail.com>
	<5000D343.6030102@christopherschultz.net>
	<CALxMDxby0fCsUa-Njr14=+siF+d8t9JBjeHouC-KhCkauLOekg@mail.gmail.com>
	<5001440D.70201@ice-sa.com>
	<73F4B757-F64C-4F27-B969-E0BCBCBBF791@christopherschultz.net>
	<CALxMDxbPhrJtqJcKWY5+Vc5ErTXEZQAhiKoYNhKObEwy2JLU_w@mail.gmail.com>
	<50031EFB.2040409@christopherschultz.net>
	<CALxMDxYs6jm+iMz4XNVfifJxE1XENdNG1SC8C-FVzxKvNx9DGQ@mail.gmail.com>
Date: Mon, 16 Jul 2012 10:51:15 +0400
Message-ID: <CABzHfVmnwyU3L-3HU6YEt8PoeYrtphKqkC-ZiZqTqMEZYWF_Fg@mail.gmail.com>
Subject: Re: tomcat session id
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/15 Elias Kopsiaftis <yemista@gmail.com>:
> thank you, and it wasnt working thats why i asked. there must be something
> else wrong in my code

Session is recognized by sessionid sent either via a "Cookie" header
in HTTP request, or as a path parameter in URL of HTTP request.


You can inspect what is actually sent to Tomcat by your "client"
either by using network traffic inspection with a tool like Wireshark,
 or via configuration of an AccessLogValve in Tomcat.  Some references
should be in the FAQ.


If neither info are sent by your "client" program, the session cannot
not be associated with your request and a new session will be created
if a session is needed. (When that happens, a "Set-Cookie" header will
be included in the HTTP response).

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 09:16:26 2012
Return-Path: <users-return-235496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 677589E27
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 09:16:26 +0000 (UTC)
Received: (qmail 97723 invoked by uid 500); 16 Jul 2012 09:16:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97654 invoked by uid 500); 16 Jul 2012 09:16:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97617 invoked by uid 99); 16 Jul 2012 09:16:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 09:16:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 09:16:11 +0000
Received: from [192.168.245.129] (p549E8D70.dip0.t-ipconnect.de [84.158.141.112])
	by tor.combios.es (Postfix) with ESMTPA id 31083DA03FC
	for <users@tomcat.apache.org>; Mon, 16 Jul 2012 11:15:46 +0200 (CEST)
Message-ID: <5003DBBF.3000905@ice-sa.com>
Date: Mon, 16 Jul 2012 11:15:43 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Solved - Connecting Tmcat and IIS
References: <000c01cd60da$d8a5e460$89f1ad20$@com> <50015825.3090201@ice-sa.com> <16C316F49A024B2EB30B0C5BB2A07DE1@VijayaPC>
In-Reply-To: <16C316F49A024B2EB30B0C5BB2A07DE1@VijayaPC>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Vijaya wrote:
> Andre Warnier, thanks very much pointing the shortfall in my message.
> 
> I myself have been using isapi_redirector for more than 3 years without 
> any problem and suddenly for unexplainable reasons (I am sure it was not 
> the isapi_redirector problem but some other problem in our server that 
> was driving me crazy) from my server end, I could not make the 
> isapi_redirector work in our server and this new software helped me 
> solve the problem.
> 

Vijaya,

NO, you have /NOT/ been using isapi_redirector for 3 years.
You have been using isapi_redirector2 <-- emphasis on "2".
isapi_redirector2 was a parallel development to mod_jk2 <-- emphasis on "2", which is a 
different thing than isapi_redirector and mod_jk (both without "2").
And much of the confusion and loss of time has been that, all along, you have been talking 
about isapi_redirector, when really you meant isapi_redirector_2_.

isapi_redirector2, despite its name, is not just a "version" of isapi_redirector.
It is a different thing altogether.
isapi_reirector2/mod_jk2 are software that was developed at some point as a possible 
alternative to isapi_redirector/mod_jk, but was then (9 years ago) abandoned.
And the fact that it is called isapi_redirector2, which somehow implies that it may be 
more recent than isapi_redirector - which is not the case - is unfortunate, but it is so.

That what I and other people on this list have been trying to tell you, but that somehow 
did not come through clearly enough.  And we also do not know why, 3 years ago, you or 
someone else chose to install and use the abandoned isapi_redirector2 on that server, 
instead of the developed/maintained/supported isapi_redirector.
That was a mistake. But it is now history anyway.





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 13:54:47 2012
Return-Path: <users-return-235497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66001D282
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 13:54:47 +0000 (UTC)
Received: (qmail 35569 invoked by uid 500); 16 Jul 2012 13:54:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35265 invoked by uid 500); 16 Jul 2012 13:54:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35244 invoked by uid 99); 16 Jul 2012 13:54:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 13:54:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [74.223.140.140] (HELO shqsr15a.setechusa.com) (74.223.140.140)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 13:54:33 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: 7.0.29 Multi-threaded deployment
Date: Mon, 16 Jul 2012 08:54:10 -0500
Message-ID: <415DBA0D5EE0C24D9197CC6063E7502901F2F6F8@shqsr15a.setechusa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: 7.0.29 Multi-threaded deployment
Thread-Index: Ac1jWg4GSkELIXCFSgO0P3pp5oLaLQ==
From: "CRANFORD, CHRIS" <Chris.Cranford@setech.com>
To: "Tomcat Users List" <users@tomcat.apache.org>

When upgrading from 7.0.26 to 7.0.29, MyEclipse cannot start the Tomcat
instance without reaching an OutOfMemoryError exception that results
from a "GC overhead limit exceeded" when Tomcat begins it's
multi-threaded deployment process.  MyEclipse is running with 1GB of
maximum memory and still errors with this exception where-as reverting
back to 7.0.26 and using only 512MB of memory, the instance starts
without any issues with plenty of memory to spare. =20

Have any others experienced this issue using Tomcat 7.0.29's
Multi-Thread deployment in UserConfig? =20

Is there anyway to disable this feature globally?

Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 14:00:38 2012
Return-Path: <users-return-235498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6F95D2B1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 14:00:38 +0000 (UTC)
Received: (qmail 58111 invoked by uid 500); 16 Jul 2012 14:00:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57616 invoked by uid 500); 16 Jul 2012 14:00:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57597 invoked by uid 99); 16 Jul 2012 14:00:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 14:00:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [74.223.140.140] (HELO shqsr15a.setechusa.com) (74.223.140.140)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 14:00:13 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
Date: Mon, 16 Jul 2012 08:59:52 -0500
Message-ID: <415DBA0D5EE0C24D9197CC6063E7502901F2F6FC@shqsr15a.setechusa.com>
In-Reply-To: <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
Thread-Index: Ac1h5Q3pCE9FzS2tSnC7ELt/rFG/SABdbzog
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com> <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>
From: "CRANFORD, CHRIS" <Chris.Cranford@setech.com>
To: "Tomcat Users List" <users@tomcat.apache.org>

The OOME I am getting is coming from Heap, and that's even giving Tomcat
1GB of maximum heap.  The instance seems to start successfully outside
of the MyEclipse environment; however inside MyEclipse it fails
miserably.  The surprising part of this is that the instance has ran
with half that amount of maximum Heap Memory prior to 7.0.29 without any
problems or issues with memory errors. =20

As far as number of jars in the LIB folder, we only have just over 100
jars totaling a max of 50mb. =20

-----Original Message-----
From: Christopher Schultz [mailto:chris@christopherschultz.net]=20
Sent: Saturday, July 14, 2012 12:13 PM
To: Tomcat Users List
Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with
tomcat 7.0.28

Alberto,

On Jul 14, 2012, at 8:42, Alberto Aresca <alberto.aresca@gmail.com>
wrote:

> I've just upgraded my tomcat from version 7.0.28 to the newly released
> 7.0.29 but while before my webapp was being expanded without any=20
> problem, now it is causing an OOME.
>=20
> Of course this can be easily fixed by increasing the heap size but=20
> before going forward in the upgrade i'd like to know if anyone else=20
> have been experiencing something similar or if something in the=20
> expansion implementation  changed recently (i couldn't find anything=20
> in the release note)

Can you provide any other information? Stack trace or heap dump? Is this
regular heap or permgen? What are your heap settings?

Is there anything else we should know about your web app? Do you have
500 jar files in your lib directory? Do you cache a large dataset on
startup?
>=20

-chris
---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 14:01:58 2012
Return-Path: <users-return-235499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE904D2D8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 14:01:58 +0000 (UTC)
Received: (qmail 68151 invoked by uid 500); 16 Jul 2012 14:01:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68071 invoked by uid 500); 16 Jul 2012 14:01:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68052 invoked by uid 99); 16 Jul 2012 14:01:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 14:01:54 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_BASE64_BLANKS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 14:01:49 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Mon, 16 Jul 2012 09:06:29 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Mon, 16 Jul 2012 09:01:23 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6VgABUogQABaApoAACZ8C4AAFgc6AAAU9ryAAV6DSgAByFO4Q
Date: Mon, 16 Jul 2012 14:01:23 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D96267@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
 <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com>
 <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P>
 <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
 <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de>
 <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com>
 <5000D9A7.3060005@christopherschultz.net>
In-Reply-To: <5000D9A7.3060005@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_16_09_06_30

VGhhbmtzIENocmlzLA0KSSdkIHNlZW4gYSBsb3Qgb2YgdHJhZmZpYyBvbiB0aGUgdG9waWMgb3Zl
ciB0aGUgeWVhcnMsIHNvIGtuZXcgc29tZW9uZSBoYWQgcmVhbC13b3JsZCBleHBlcmllbmNlIG9u
IHRoZSBzdWJqZWN0Lg0KSSdsbCBjaGVjayBvdXQgd2hhdCB5b3UgZGlkIGEgbGl0dGxlIGZ1cnRo
ZXIuDQpPZiBjb3Vyc2UsIHRoaW5raW5nIG9uIG15IHByb3Bvc2VkIHBsYW4sIGEgcmVhbGx5IHVw
dGlnaHQgc2VjdXJpdHkgYWRtaW4gbWlnaHQgbm90IHRoaW5rIGl0IGFsbCB0aGF0IG1vcmUgc2Vj
dXJlIHRoYXQgYmFzaWMtYXV0aCBvdmVyIHNlcnZlci1vbmx5IFNTTC4NCllvdSBrbm93IHRoZSB0
eXBlOiB0aGUgZ3V5IHRoYXQgaW5zaXN0cyB0aGUgU1NMUGFzc3dvcmQgdmFsdWUgaW4gc2VydmVy
LnhtbCBiZSBlbmNyeXB0ZWQuDQpKZWZmDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0N
Cj4gRnJvbTogQ2hyaXN0b3BoZXIgU2NodWx0eiBbbWFpbHRvOmNocmlzQGNocmlzdG9waGVyc2No
dWx0ei5uZXRdDQo+IFNlbnQ6IEZyaWRheSwgSnVseSAxMywgMjAxMiA5OjMwIFBNDQo+IFRvOiBU
b21jYXQgVXNlcnMgTGlzdA0KPiBTdWJqZWN0OiBSZTogQ2xpZW50IEF1dGhlbnRpY2F0aW9uIHVz
aW5nIFNTTA0KPiANCj4gLS0tLS1CRUdJTiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KPiBIYXNo
OiBTSEExDQo+IA0KPiBKZWZmcmV5LA0KPiANCj4gT24gNy8xMi8xMiA5OjQ0IEFNLCBKZWZmcmV5
IEphbm5lciB3cm90ZToNCj4gPiBJcyB0aGVyZSBhbnlvbmUgd2hvJ3MgaW1wbGVtZW50ZWQgdHJ1
ZS1jbGllbnQgU1NMIGF1dGggb3ZlciBBUFIgdGhhdA0KPiA+IHdvdWxkIGJlIHdpbGxpbmcgdG8g
c2hhcmUgaGludHMvdGlwcyBvbiBob3cgdGhleSBoYW5kbGVkIGNlcnRpZmljYXRlDQo+ID4gZGlz
dHJpYnV0aW9ucywgZXRjLj8NCj4gDQo+IEkgd2Fzbid0IHVzaW5nIEFQUiAtLSB0aG91Z2ggaXQg
c2hvdWxkbid0IGJlIHRvbyB0ZXJyaWJsZSB0byBzd2l0Y2gNCj4gZnJvbSBKU0sgY29uZmlndXJh
dGlvbiB0byBvcGVuc3NsIDsgb3BlbnNzbCBpcyBhICpsb3QqIG1vcmUNCj4gc3RyYWlnaHRmb3J3
YXJkIElNTyAtLSBhbmQgSSB3YXNuJ3QgYWN0dWFsbHkgdXNpbmcgQ0xJRU5ULUFVVEgsIGJ1dCBJ
DQo+IGRpZCBzb21lIHBsYXlpbmctYXJvdW5kIGEgZmV3IHllYXJzIGFnbyBhbmQgcG9zdGVkIGEg
YnVuY2ggdG8gdGhlIGxpc3QNCj4gYWJvdXQgaXQuIEhlcmUncyBvbiBvZiB0aGUgdGhyZWFkczoN
Cj4gaHR0cDovL21hcmttYWlsLm9yZy90aHJlYWQvdnh3d2xpNW56dDRpdGZyMg0KPiANCj4gWW91
IGNvdWxkIGFsc28gbG9vayBhcm91bmQgdGhlIGFyY2hpdmVzIGluIHRoZSBzYW1lIGdlbmVyYWwg
dGltZSBwZXJpb2QNCj4gKGZhbGwgMjAwOSkgZm9yIG90aGVyIHNlbWktcmVsYXRlZCBwb3N0cyBi
eSBtZS4gSSB3YXNuJ3QgYWJsZSB0byBmaW5kIGENCj4gcG9zdCB0aGF0IHNhaWQgIkhlcmUncyB3
aGF0IEkgYWN0dWFsbHkgZ290IHdvcmtpbmciIHRob3VnaCBJJ20NCj4gcmVhc29uYWJseSBjZXJ0
YWluIEkgYWN0dWFsbHkgZGlkIGRvIHRoYXQuDQo+IA0KPiBGaW5hbGx5LCB0aGVyZSBpcyBhIChy
ZWxhdGl2ZWx5KSBuZXcgPFJlYWxtPiBjb25maWd1cmF0aW9uIGF0dHJpYnV0ZQ0KPiB0aGF0IHlv
dSBtaWdodCB3YW50IHRvIGNoZWNrIG91dCBpZiB5b3Ugd2FudCB0byB1c2UgQ0xJRU5ULUNFUlQ6
DQo+IFg1MDlVc2VybmFtZVJldHJpZXZlckNsYXNzTmFtZQ0KPiANCj4gaHR0cDovL3RvbWNhdC5h
cGFjaGUub3JnL3RvbWNhdC03LjAtZG9jL2NvbmZpZy9yZWFsbS5odG1sDQo+IA0KPiAtIC1jaHJp
cw0KPiAtLS0tLUJFR0lOIFBHUCBTSUdOQVRVUkUtLS0tLQ0KPiBWZXJzaW9uOiBHbnVQRy9NYWNH
UEcyIHYyLjAuMTcgKERhcndpbikNCj4gQ29tbWVudDogR1BHVG9vbHMgLSBodHRwOi8vZ3BndG9v
bHMub3JnDQo+IENvbW1lbnQ6IFVzaW5nIEdudVBHIHdpdGggTW96aWxsYSAtIGh0dHA6Ly9lbmln
bWFpbC5tb3pkZXYub3JnLw0KPiANCj4gaUVZRUFSRUNBQVlGQWxBQTJhY0FDZ2tROUNhTzUvTHYw
UEFwQXdDZ3JiWXJvTDVZd2poMk12QloxcXpjQkNBUw0KPiB3dE1Bbmk5VDBmOUsxN3hHM0FON0lz
ZEN4Wlp0UHVycg0KPiA9TjZ6Uw0KPiAtLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0NCj4gDQo+
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNjcmli
ZUB0b21jYXQuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiB1
c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQo+IA0KDQpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KDQpD
b25maWRlbnRpYWxpdHkgTm90aWNlOiAgVGhpcyBUcmFuc21pc3Npb24gKGluY2x1ZGluZyBhbnkg
YXR0YWNobWVudHMpIG1heSBjb250YWluIGluZm9ybWF0aW9uIHRoYXQgaXMgcHJpdmlsZWdlZCwg
Y29uZmlkZW50aWFsLCBhbmQgZXhlbXB0IGZyb20gZGlzY2xvc3VyZSB1bmRlciBhcHBsaWNhYmxl
IGxhdy4gIElmIHRoZSByZWFkZXIgb2YgdGhpcyBtZXNzYWdlIGlzIG5vdCB0aGUgaW50ZW5kZWQg
cmVjaXBpZW50IHlvdSBhcmUgaGVyZWJ5IG5vdGlmaWVkIHRoYXQgYW55IGRpc3NlbWluYXRpb24s
IGRpc3RyaWJ1dGlvbiwgb3IgY29weWluZyBvZiB0aGlzIGNvbW11bmljYXRpb24gaXMgc3RyaWN0
bHkgcHJvaGliaXRlZC4gIA0KDQpJZiB5b3UgaGF2ZSByZWNlaXZlZCB0aGlzIHRyYW5zbWlzc2lv
biBpbiBlcnJvciwgcGxlYXNlIGltbWVkaWF0ZWx5IHJlcGx5IHRvIHRoZSBzZW5kZXIgb3IgdGVs
ZXBob25lICg1MTIpIDM0My05MTAwIGFuZCBkZWxldGUgdGhpcyB0cmFuc21pc3Npb24gZnJvbSB5
b3VyIHN5c3RlbS4NCg==

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 15:37:30 2012
Return-Path: <users-return-235500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BD6FD163
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 15:37:30 +0000 (UTC)
Received: (qmail 55948 invoked by uid 500); 16 Jul 2012 15:37:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55760 invoked by uid 500); 16 Jul 2012 15:37:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55742 invoked by uid 99); 16 Jul 2012 15:37:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 15:37:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [204.187.63.106] (HELO mail.evertz.com) (204.187.63.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 15:37:20 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Speeding up RMI calls
Date: Mon, 16 Jul 2012 11:36:54 -0400
Message-ID: <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>
In-Reply-To: <4FFF3FEB.9070700@pidster.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up RMI calls
Thread-Index: Ac1gdHIE0EXYGaAhT0Om0UiNCU9qOgC7cn7w
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv> <4FFF3FEB.9070700@pidster.com>
From: "Andrew Kujtan" <akujtan@evertz.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org



> -----Original Message-----
> From: Pid [mailto:pid@pidster.com]
> Sent: Thursday, July 12, 2012 5:22 PM
> To: Tomcat Users List
> Subject: Re: Speeding up RMI calls
>=20
> On 09/07/2012 16:55, Andrew Kujtan wrote:
> > Tomcat Version: 7.0.27
> >
> > OS: Windows XP/7
> >
> >
> >
> > I'm fixing an issue we are having with a webapp that does some
> > communication over RMI with a remote  server. Calls that would be
> > instant in similar applications not inside the tomcat container are
> > taking more than 30 seconds when called from tomcat. After debugging
> > I've found that  when an RMI call is made, the classlist containing
> > all the jars in the webapp lib folders is being serialized with the
> data.
> > Which wouldn't be a problem normally, except the webapp has >300
jars
> > in its lib folder.
>=20
> In the other similar applications, are there 300+ jars on the
classpath
> too?
>=20
>=20
> p

Yes they are there as well, but the RMI calls don't include them, or any
urls
for that matter.=20

>=20
> > The only solution I have found is to create a custom
> WebAppClassloader
> > that returns a zero length URL array on the getURLs() call. We don't
> > do any dynamic class loading so breaking that is not a problem.
> >
> > My question is, is there any other way to resolve this, like a
> > configuration property? If not, are there any problems that I am
> going
> > to introduce by overriding this method? Can I override the
> classloader
> > for just this webapp or am I stuck doing it for the entire tomcat
> > instance?
> >
> >
> >
> > Thanks,
> >
> > Andrew Kujtan
> >
> >
>=20
>=20
> --
>=20
> [key:62590808]
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 17:36:45 2012
Return-Path: <users-return-235501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8387D05B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 17:36:44 +0000 (UTC)
Received: (qmail 17266 invoked by uid 500); 16 Jul 2012 17:36:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17209 invoked by uid 500); 16 Jul 2012 17:36:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17197 invoked by uid 99); 16 Jul 2012 17:36:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 17:36:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 17:36:32 +0000
Received: from mail.homeinbox.net ([2.24.222.243])
	by mwinf5d49 with ME
	id b5cB1j0045FhlAS035cBTj; Mon, 16 Jul 2012 19:36:12 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 15AC5EAB714
	for <users@tomcat.apache.org>; Mon, 16 Jul 2012 18:36:11 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Izp7jekRlLcQ for <users@tomcat.apache.org>;
	Mon, 16 Jul 2012 18:35:56 +0100 (BST)
Received: from [31.85.153.20] (unknown [31.85.153.20])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 1ED9BEAB710
	for <users@tomcat.apache.org>; Mon, 16 Jul 2012 18:35:50 +0100 (BST)
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com> <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net> <415DBA0D5EE0C24D9197CC6063E7502901F2F6FC@shqsr15a.setechusa.com>
User-Agent: K-9 Mail for Android
In-Reply-To: <415DBA0D5EE0C24D9197CC6063E7502901F2F6FC@shqsr15a.setechusa.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: RE: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
From: Mark Thomas <markt@apache.org>
Date: Mon, 16 Jul 2012 18:35:18 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <aac7cee4-7f16-4de7-8430-3d920b1c5794@email.android.com>

"CRANFORD, CHRIS" <Chris.Cranford@setech.com> wrote:

>The OOME I am getting is coming from Heap, and that's even giving
>Tomcat
>1GB of maximum heap.  The instance seems to start successfully outside
>of the MyEclipse environment; however inside MyEclipse it fails
>miserably.  The surprising part of this is that the instance has ran
>with half that amount of maximum Heap Memory prior to 7.0.29 without
>any
>problems or issues with memory errors.  
>
>As far as number of jars in the LIB folder, we only have just over 100
>jars totaling a max of 50mb.  
>
>-----Original Message-----
>From: Christopher Schultz [mailto:chris@christopherschultz.net] 
>Sent: Saturday, July 14, 2012 12:13 PM
>To: Tomcat Users List
>Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with
>tomcat 7.0.28
>
>Alberto,
>
>On Jul 14, 2012, at 8:42, Alberto Aresca <alberto.aresca@gmail.com>
>wrote:
>
>> I've just upgraded my tomcat from version 7.0.28 to the newly
>released
>> 7.0.29 but while before my webapp was being expanded without any 
>> problem, now it is causing an OOME.
>> 
>> Of course this can be easily fixed by increasing the heap size but 
>> before going forward in the upgrade i'd like to know if anyone else 
>> have been experiencing something similar or if something in the 
>> expansion implementation  changed recently (i couldn't find anything 
>> in the release note)
>
>Can you provide any other information? Stack trace or heap dump? Is
>this
>regular heap or permgen? What are your heap settings?
>
>Is there anything else we should know about your web app? Do you have
>500 jar files in your lib directory? Do you cache a large dataset on
>startup?
>> 
>
>-chris
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org

Most likely the Jar scanning (which caches a lot of data during startup) is the cause. There is a patch to reduce the volume of cached data significantly in bugzilla at the moment. In the meantime, setting metadata-complete may help.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 19:49:59 2012
Return-Path: <users-return-235502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2913FDEDE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 19:49:59 +0000 (UTC)
Received: (qmail 36078 invoked by uid 500); 16 Jul 2012 19:49:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35923 invoked by uid 500); 16 Jul 2012 19:49:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35914 invoked by uid 99); 16 Jul 2012 19:49:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 19:49:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [205.139.110.13] (HELO service8-us.mimecast.com) (205.139.110.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 19:49:49 +0000
Received: from Shqsr15v.setechusa.com (74.223.140.142.nw.nuvox.net
 [74.223.140.142]) (Using TLS) by service8-us.mimecast.com; Mon, 16 Jul 2012
 15:49:27 -0400
Received: from shqsr15a.setechusa.com (192.168.1.72) by Shqsr15v.setechusa.com
 (192.168.1.15) with Microsoft SMTP Server id 14.1.355.2; Mon, 16 Jul 2012
 13:41:06 -0500
Content-Class: urn:content-classes:message
MIME-Version: 1.0
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
Date: Mon, 16 Jul 2012 13:41:04 -0500
Message-ID: <415DBA0D5EE0C24D9197CC6063E7502901F2F781@shqsr15a.setechusa.com>
In-Reply-To: <aac7cee4-7f16-4de7-8430-3d920b1c5794@email.android.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
Thread-Index: Ac1jen9wHDsuvyeSRr+aYSbtB4S6NQACAp+Q
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com> <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net> <415DBA0D5EE0C24D9197CC6063E7502901F2F6FC@shqsr15a.setechusa.com> <aac7cee4-7f16-4de7-8430-3d920b1c5794@email.android.com>
From: "CRANFORD, CHRIS" <Chris.Cranford@setech.com>
To: Tomcat Users List <users@tomcat.apache.org>
X-MC-Unique: 112071615492711502
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org

VGhhbmtzIE1hcmshDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBNYXJrIFRo
b21hcyBbbWFpbHRvOm1hcmt0QGFwYWNoZS5vcmddIA0KU2VudDogTW9uZGF5LCBKdWx5IDE2LCAy
MDEyIDEyOjM1IFBNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJFOiBPT01FIHdo
aWxlIGV4cGFuZGluZyBhIHdhciB3aXRoIHRvbWNhdCA3LjAuMjkgYnV0IG5vdCB3aXRoIHRvbWNh
dCA3LjAuMjgNCg0KIkNSQU5GT1JELCBDSFJJUyIgPENocmlzLkNyYW5mb3JkQHNldGVjaC5jb20+
IHdyb3RlOg0KDQo+VGhlIE9PTUUgSSBhbSBnZXR0aW5nIGlzIGNvbWluZyBmcm9tIEhlYXAsIGFu
ZCB0aGF0J3MgZXZlbiBnaXZpbmcgDQo+VG9tY2F0IDFHQiBvZiBtYXhpbXVtIGhlYXAuICBUaGUg
aW5zdGFuY2Ugc2VlbXMgdG8gc3RhcnQgc3VjY2Vzc2Z1bGx5IA0KPm91dHNpZGUgb2YgdGhlIE15
RWNsaXBzZSBlbnZpcm9ubWVudDsgaG93ZXZlciBpbnNpZGUgTXlFY2xpcHNlIGl0IGZhaWxzIA0K
Pm1pc2VyYWJseS4gIFRoZSBzdXJwcmlzaW5nIHBhcnQgb2YgdGhpcyBpcyB0aGF0IHRoZSBpbnN0
YW5jZSBoYXMgcmFuIA0KPndpdGggaGFsZiB0aGF0IGFtb3VudCBvZiBtYXhpbXVtIEhlYXAgTWVt
b3J5IHByaW9yIHRvIDcuMC4yOSB3aXRob3V0IA0KPmFueSBwcm9ibGVtcyBvciBpc3N1ZXMgd2l0
aCBtZW1vcnkgZXJyb3JzLg0KPg0KPkFzIGZhciBhcyBudW1iZXIgb2YgamFycyBpbiB0aGUgTElC
IGZvbGRlciwgd2Ugb25seSBoYXZlIGp1c3Qgb3ZlciAxMDAgDQo+amFycyB0b3RhbGluZyBhIG1h
eCBvZiA1MG1iLg0KPg0KPi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+RnJvbTogQ2hyaXN0
b3BoZXIgU2NodWx0eiBbbWFpbHRvOmNocmlzQGNocmlzdG9waGVyc2NodWx0ei5uZXRdDQo+U2Vu
dDogU2F0dXJkYXksIEp1bHkgMTQsIDIwMTIgMTI6MTMgUE0NCj5UbzogVG9tY2F0IFVzZXJzIExp
c3QNCj5TdWJqZWN0OiBSZTogT09NRSB3aGlsZSBleHBhbmRpbmcgYSB3YXIgd2l0aCB0b21jYXQg
Ny4wLjI5IGJ1dCBub3Qgd2l0aCANCj50b21jYXQgNy4wLjI4DQo+DQo+QWxiZXJ0bywNCj4NCj5P
biBKdWwgMTQsIDIwMTIsIGF0IDg6NDIsIEFsYmVydG8gQXJlc2NhIDxhbGJlcnRvLmFyZXNjYUBn
bWFpbC5jb20+DQo+d3JvdGU6DQo+DQo+PiBJJ3ZlIGp1c3QgdXBncmFkZWQgbXkgdG9tY2F0IGZy
b20gdmVyc2lvbiA3LjAuMjggdG8gdGhlIG5ld2x5DQo+cmVsZWFzZWQNCj4+IDcuMC4yOSBidXQg
d2hpbGUgYmVmb3JlIG15IHdlYmFwcCB3YXMgYmVpbmcgZXhwYW5kZWQgd2l0aG91dCBhbnkgDQo+
PiBwcm9ibGVtLCBub3cgaXQgaXMgY2F1c2luZyBhbiBPT01FLg0KPj4gDQo+PiBPZiBjb3Vyc2Ug
dGhpcyBjYW4gYmUgZWFzaWx5IGZpeGVkIGJ5IGluY3JlYXNpbmcgdGhlIGhlYXAgc2l6ZSBidXQg
DQo+PiBiZWZvcmUgZ29pbmcgZm9yd2FyZCBpbiB0aGUgdXBncmFkZSBpJ2QgbGlrZSB0byBrbm93
IGlmIGFueW9uZSBlbHNlIA0KPj4gaGF2ZSBiZWVuIGV4cGVyaWVuY2luZyBzb21ldGhpbmcgc2lt
aWxhciBvciBpZiBzb21ldGhpbmcgaW4gdGhlIA0KPj4gZXhwYW5zaW9uIGltcGxlbWVudGF0aW9u
ICBjaGFuZ2VkIHJlY2VudGx5IChpIGNvdWxkbid0IGZpbmQgYW55dGhpbmcgDQo+PiBpbiB0aGUg
cmVsZWFzZSBub3RlKQ0KPg0KPkNhbiB5b3UgcHJvdmlkZSBhbnkgb3RoZXIgaW5mb3JtYXRpb24/
IFN0YWNrIHRyYWNlIG9yIGhlYXAgZHVtcD8gSXMgDQo+dGhpcyByZWd1bGFyIGhlYXAgb3IgcGVy
bWdlbj8gV2hhdCBhcmUgeW91ciBoZWFwIHNldHRpbmdzPw0KPg0KPklzIHRoZXJlIGFueXRoaW5n
IGVsc2Ugd2Ugc2hvdWxkIGtub3cgYWJvdXQgeW91ciB3ZWIgYXBwPyBEbyB5b3UgaGF2ZQ0KPjUw
MCBqYXIgZmlsZXMgaW4geW91ciBsaWIgZGlyZWN0b3J5PyBEbyB5b3UgY2FjaGUgYSBsYXJnZSBk
YXRhc2V0IG9uIA0KPnN0YXJ0dXA/DQo+PiANCj4NCj4tY2hyaXMNCj4tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj5U
byB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9y
Zw0KPkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFw
YWNoZS5vcmcNCj4NCj4NCj4NCj4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj5UbyB1bnN1YnNjcmliZSwgZS1tYWls
OiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPkZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCg0KTW9zdCBsaWtl
bHkgdGhlIEphciBzY2FubmluZyAod2hpY2ggY2FjaGVzIGEgbG90IG9mIGRhdGEgZHVyaW5nIHN0
YXJ0dXApIGlzIHRoZSBjYXVzZS4gVGhlcmUgaXMgYSBwYXRjaCB0byByZWR1Y2UgdGhlIHZvbHVt
ZSBvZiBjYWNoZWQgZGF0YSBzaWduaWZpY2FudGx5IGluIGJ1Z3ppbGxhIGF0IHRoZSBtb21lbnQu
IEluIHRoZSBtZWFudGltZSwgc2V0dGluZyBtZXRhZGF0YS1jb21wbGV0ZSBtYXkgaGVscC4NCg0K
TWFyaw0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWls
OiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg0K

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 16 20:10:29 2012
Return-Path: <users-return-235503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77530DF94
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 16 Jul 2012 20:10:29 +0000 (UTC)
Received: (qmail 89657 invoked by uid 500); 16 Jul 2012 20:10:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89458 invoked by uid 500); 16 Jul 2012 20:10:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89449 invoked by uid 99); 16 Jul 2012 20:10:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 20:10:26 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jul 2012 20:10:21 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6GK9wsJ011048
	for <users@tomcat.apache.org>; Mon, 16 Jul 2012 22:09:58 +0200 (CEST)
Message-ID: <5004750E.8010209@kippdata.de>
Date: Mon, 16 Jul 2012 22:09:50 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with tomcat
 7.0.28
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com> <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>  <415DBA0D5EE0C24D9197CC6063E7502901F2F6FC@shqsr15a.setechusa.com> <aac7cee4-7f16-4de7-8430-3d920b1c5794@email.android.com>
In-Reply-To: <aac7cee4-7f16-4de7-8430-3d920b1c5794@email.android.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 16.07.2012 19:35, Mark Thomas wrote:
> "CRANFORD, CHRIS" <Chris.Cranford@setech.com> wrote:
>
>> The OOME I am getting is coming from Heap, and that's even giving
>> Tomcat
>> 1GB of maximum heap.  The instance seems to start successfully outside
>> of the MyEclipse environment; however inside MyEclipse it fails
>> miserably.  The surprising part of this is that the instance has ran
>> with half that amount of maximum Heap Memory prior to 7.0.29 without
>> any
>> problems or issues with memory errors.
>>
>> As far as number of jars in the LIB folder, we only have just over 100
>> jars totaling a max of 50mb.
>>
>> -----Original Message-----
>> From: Christopher Schultz [mailto:chris@christopherschultz.net]
>> Sent: Saturday, July 14, 2012 12:13 PM
>> To: Tomcat Users List
>> Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with
>> tomcat 7.0.28
>>
>> Alberto,
>>
>> On Jul 14, 2012, at 8:42, Alberto Aresca <alberto.aresca@gmail.com>
>> wrote:
>>
>>> I've just upgraded my tomcat from version 7.0.28 to the newly
>> released
>>> 7.0.29 but while before my webapp was being expanded without any
>>> problem, now it is causing an OOME.
>>>
>>> Of course this can be easily fixed by increasing the heap size but
>>> before going forward in the upgrade i'd like to know if anyone else
>>> have been experiencing something similar or if something in the
>>> expansion implementation  changed recently (i couldn't find anything
>>> in the release note)
>>
>> Can you provide any other information? Stack trace or heap dump? Is
>> this
>> regular heap or permgen? What are your heap settings?
>>
>> Is there anything else we should know about your web app? Do you have
>> 500 jar files in your lib directory? Do you cache a large dataset on
>> startup?
>>>
>>
>> -chris
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>
> Most likely the Jar scanning (which caches a lot of data during startup) is the cause. There is a patch to reduce the volume of cached data significantly in bugzilla at the moment. In the meantime, setting metadata-complete may help.

Bugzilla link: https://issues.apache.org/bugzilla/show_bug.cgi?id=53535

Regards,

Rainer

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 02:18:55 2012
Return-Path: <users-return-235504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3040FD476
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 02:18:55 +0000 (UTC)
Received: (qmail 53910 invoked by uid 500); 17 Jul 2012 02:18:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53832 invoked by uid 500); 17 Jul 2012 02:18:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53819 invoked by uid 99); 17 Jul 2012 02:18:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 02:18:51 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.135] (HELO nm5-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.135)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 02:18:41 +0000
Received: from [98.138.90.51] by nm5.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 02:18:19 -0000
Received: from [98.138.87.6] by tm4.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 02:18:19 -0000
Received: from [127.0.0.1] by omp1006.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 02:18:19 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 409628.395.bm@omp1006.mail.ne1.yahoo.com
Received: (qmail 34630 invoked by uid 60001); 17 Jul 2012 02:18:19 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342491499; bh=hpTt1hs72emx+AV5dDidE0jzG1ypQodaK1vU3mrIIqU=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=112tKa5z8gyGlQvOtUZdSrRsY873F/KKxOXX8OFryvWRixjVacCcQS61HTvsi+r/u4DMxQFLfZe7YNjBOI9Y+osNy8EBTppS2YOP+VDWs5TLAVYW4a/z0mmwANo+7EtAbOTbofb0oWdHbEughhlsYdt4aFAIaCqxtrAwfVFbT+M=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=fz7rc+nwiaGSvK8r6smE+YrlFFFOFszJ+HdzGTCus0PxS1IeVhdJuqvyrY2AjaNExrpjLi0rH+5hX4UfCcdOiMmKoh7lxPiJ8CYZL84MIX+1UosIUuGo/2cxZE6IqfjhmWCXg2ry1xOnA9flGWfgbo8NLbIMN4ZgGcSSPCKDdIU=;
X-YMail-OSG: XfvOIuAVM1neAEm5u6U6r3cL2bFwX0gTbDXNVmiJgOgeJ8I
 jN7Jfhp2c4dyuvF80d2rlb35JCK4zWE9drrfHZGH8UcZo6QzzDmSy6tGlGJM
 nPGJnBfTV_344DRmUTqoMY5ntaSqsb5RiozxQI0.l0HecHwJA1WKinrnXjZJ
 KDEjX7McK6kHA1EuJ2wBf0wynGSK0eE6GfuNpZpMJuB7V1RCf0OTib6kiFaF
 tESVXA5Wr87a27JQqX1U6Z431yDo8rYSmm9efCktyWThsro9tOd4zK9JBRsx
 u81nw82fvYFet.JHgnRYqx067WFVni9pv3m0cswpUsAzvxKmMe7O5GIigF6T
 gCo9zZsVYOyKNiTo4U2rZjVPEPygM6o3WaExBUVqb035R_WQLWFYx1EkjJ9w
 zcsmBfHhcI3gKz3yeigLPbMNmuKTGrxN6xTDUYXs49CVsT.xdT_HIP5fC6uf
 9pUsP4NF_
Received: from [203.176.101.1] by web126005.mail.ne1.yahoo.com via HTTP; Mon, 16 Jul 2012 19:18:19 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
Message-ID: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com>
Date: Mon, 16 Jul 2012 19:18:19 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: service() failed with http error 413 - error log message from isapi_redirect.log file
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="1833503604-448736775-1342491499=:22700"

--1833503604-448736775-1342491499=:22700
Content-Type: multipart/alternative; boundary="1833503604-1229603947-1342491499=:22700"

--1833503604-1229603947-1342491499=:22700
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi, =0A=0A=0AWe are using HP Service Manager 9.2 system.=A0 The web client =
tier was set up using Windows 2008 R2 64-bit, IIS 7.5, Tomcat 6 and Isapi R=
edirector 1.2.30.=0AThe client is accessing the site by https because we ha=
d created a certificate and binded it to the IIS.=A0 Here are the steps tha=
t I used:=0A=091. Go to IIS.=0A=092. Go to Server Certificate.=0A=093. Choo=
se complete certificate request.=0A=094. Upload the certificate file with t=
he cer extension.=0A=095. Go to Default Website.=0A=096. Bind it to HTTPS a=
nd point it to the certificate that you just uploaded in #4.=0AEverything i=
s working fine.=A0 User can access the system through web.=A0 I noticed the=
 following messages (attached fle ) from the isapi_redirect.log file.=0A=0A=
Would appreciate it if someone can provide additional information about the=
 message and some ways/ideas on stopping them from occurring.=0A=0AMy apolo=
gies if the information that I have provided is not complete.=A0 Let me kno=
w so I can add some more details.=0A=0A=0AThanks and regards!=0A=0AAnn
--1833503604-1229603947-1342491499=:22700
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

<html><body><div style=3D"color:#000; background-color:#fff; font-family:ti=
mes new roman, new york, times, serif;font-size:12pt"><div>Hi, <br></div><d=
iv><br></div><div>We are using HP Service Manager 9.2 system.&nbsp; The web=
 client tier was set up using Windows 2008 R2 64-bit, IIS 7.5, Tomcat 6 and=
 Isapi Redirector 1.2.30.</div><div>The client is accessing the site by htt=
ps because we had created a certificate and binded it to the IIS.&nbsp; Her=
e are the steps that I used:</div><div><!--[if gte mso 9]><xml>=0A <o:Offic=
eDocumentSettings>=0A  <o:TargetScreenSize>800x600</o:TargetScreenSize>=0A =
</o:OfficeDocumentSettings>=0A</xml><![endif]--><!--[if gte mso 9]><xml>=0A=
 <w:WordDocument>=0A  <w:View>Normal</w:View>=0A  <w:Zoom>0</w:Zoom>=0A  <w=
:TrackMoves/>=0A  <w:TrackFormatting/>=0A  <w:DoNotShowInsertionsAndDeletio=
ns/>=0A  <w:PunctuationKerning/>=0A  <w:ValidateAgainstSchemas/>=0A  <w:Sav=
eIfXMLInvalid>false</w:SaveIfXMLInvalid>=0A  <w:IgnoreMixedContent>false</w=
:IgnoreMixedContent>=0A  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPl=
aceholderText>=0A  <w:DoNotPromoteQF/>=0A  <w:LidThemeOther>EN-US</w:LidThe=
meOther>=0A  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>=0A  <w:LidThemeCompl=
exScript>X-NONE</w:LidThemeComplexScript>=0A  <w:Compatibility>=0A   <w:Bre=
akWrappedTables/>=0A   <w:SnapToGridInCell/>=0A   <w:WrapTextWithPunct/>=0A=
   <w:UseAsianBreakRules/>=0A   <w:DontGrowAutofit/>=0A   <w:SplitPgBreakAn=
dParaMark/>=0A   <w:EnableOpenTypeKerning/>=0A   <w:DontFlipMirrorIndents/>=
=0A   <w:OverrideTableStyleHps/>=0A  </w:Compatibility>=0A  <w:BrowserLevel=
>MicrosoftInternetExplorer4</w:BrowserLevel>=0A  <m:mathPr>=0A   <m:mathFon=
t m:val=3D"Cambria Math"/>=0A   <m:brkBin m:val=3D"before"/>=0A   <m:brkBin=
Sub m:val=3D"&#45;-"/>=0A   <m:smallFrac m:val=3D"off"/>=0A   <m:dispDef/>=
=0A   <m:lMargin m:val=3D"0"/>=0A   <m:rMargin m:val=3D"0"/>=0A   <m:defJc =
m:val=3D"centerGroup"/>=0A   <m:wrapIndent m:val=3D"1440"/>=0A   <m:intLim =
m:val=3D"subSup"/>=0A   <m:naryLim m:val=3D"undOvr"/>=0A  </m:mathPr></w:Wo=
rdDocument>=0A</xml><![endif]--><!--[if gte mso 9]><xml>=0A <w:LatentStyles=
 DefLockedState=3D"false" DefUnhideWhenUsed=3D"true"=0A  DefSemiHidden=3D"t=
rue" DefQFormat=3D"false" DefPriority=3D"99"=0A  LatentStyleCount=3D"267">=
=0A  <w:LsdException Locked=3D"false" Priority=3D"0" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Normal"/>=0A  <w:Ls=
dException Locked=3D"false" Priority=3D"9" SemiHidden=3D"false"=0A   Unhide=
WhenUsed=3D"false" QFormat=3D"true" Name=3D"heading 1"/>=0A  <w:LsdExceptio=
n Locked=3D"false" Priority=3D"9" QFormat=3D"true" Name=3D"heading 2"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"9" QFormat=3D"true" Name=3D"h=
eading 3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"9" QFormat=3D"=
true" Name=3D"heading 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D=
"9" QFormat=3D"true" Name=3D"heading 5"/>=0A  <w:LsdException Locked=3D"fal=
se" Priority=3D"9" QFormat=3D"true" Name=3D"heading 6"/>=0A  <w:LsdExceptio=
n Locked=3D"false" Priority=3D"9" QFormat=3D"true" Name=3D"heading 7"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"9" QFormat=3D"true" Name=3D"h=
eading 8"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"9" QFormat=3D"=
true" Name=3D"heading 9"/>=0A  <w:LsdException Locked=3D"false" Priority=3D=
"39" Name=3D"toc 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"39" =
Name=3D"toc 2"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"39" Name=
=3D"toc 3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"39" Name=3D"t=
oc 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"39" Name=3D"toc 5"=
/>=0A  <w:LsdException Locked=3D"false" Priority=3D"39" Name=3D"toc 6"/>=0A=
  <w:LsdException Locked=3D"false" Priority=3D"39" Name=3D"toc 7"/>=0A  <w:=
LsdException Locked=3D"false" Priority=3D"39" Name=3D"toc 8"/>=0A  <w:LsdEx=
ception Locked=3D"false" Priority=3D"39" Name=3D"toc 9"/>=0A  <w:LsdExcepti=
on Locked=3D"false" Priority=3D"35" QFormat=3D"true" Name=3D"caption"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"10" SemiHidden=3D"false"=0A  =
 UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Title"/>=0A  <w:LsdExcep=
tion Locked=3D"false" Priority=3D"0" Name=3D"Default Paragraph Font"/>=0A  =
<w:LsdException Locked=3D"false" Priority=3D"11" SemiHidden=3D"false"=0A   =
UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Subtitle"/>=0A  <w:LsdExc=
eption Locked=3D"false" Priority=3D"22" SemiHidden=3D"false"=0A   UnhideWhe=
nUsed=3D"false" QFormat=3D"true" Name=3D"Strong"/>=0A  <w:LsdException Lock=
ed=3D"false" Priority=3D"20" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fa=
lse" QFormat=3D"true" Name=3D"Emphasis"/>=0A  <w:LsdException Locked=3D"fal=
se" Priority=3D"59" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=
=3D"Table Grid"/>=0A  <w:LsdException Locked=3D"false" UnhideWhenUsed=3D"fa=
lse" Name=3D"Placeholder Text"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"1" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" QFormat=3D"tru=
e" Name=3D"No Spacing"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"6=
0" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Shading=
"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"61" SemiHidden=3D"fals=
e"=0A   UnhideWhenUsed=3D"false" Name=3D"Light List"/>=0A  <w:LsdException =
Locked=3D"false" Priority=3D"62" SemiHidden=3D"false"=0A   UnhideWhenUsed=
=3D"false" Name=3D"Light Grid"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"63" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Mediu=
m Shading 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"64" SemiHid=
den=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Shading 2"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"65" SemiHidden=3D"false"=0A  =
 UnhideWhenUsed=3D"false" Name=3D"Medium List 1"/>=0A  <w:LsdException Lock=
ed=3D"false" Priority=3D"66" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fa=
lse" Name=3D"Medium List 2"/>=0A  <w:LsdException Locked=3D"false" Priority=
=3D"67" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium G=
rid 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"68" SemiHidden=3D=
"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 2"/>=0A  <w:LsdEx=
ception Locked=3D"false" Priority=3D"69" SemiHidden=3D"false"=0A   UnhideWh=
enUsed=3D"false" Name=3D"Medium Grid 3"/>=0A  <w:LsdException Locked=3D"fal=
se" Priority=3D"70" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=
=3D"Dark List"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"71" SemiH=
idden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Shading"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"72" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful List"/>=0A  <w:LsdException=
 Locked=3D"false" Priority=3D"73" SemiHidden=3D"false"=0A   UnhideWhenUsed=
=3D"false" Name=3D"Colorful Grid"/>=0A  <w:LsdException Locked=3D"false" Pr=
iority=3D"60" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Li=
ght Shading Accent 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"61=
" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light List Acc=
ent 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"62" SemiHidden=3D=
"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Grid Accent 1"/>=0A  <w=
:LsdException Locked=3D"false" Priority=3D"63" SemiHidden=3D"false"=0A   Un=
hideWhenUsed=3D"false" Name=3D"Medium Shading 1 Accent 1"/>=0A  <w:LsdExcep=
tion Locked=3D"false" Priority=3D"64" SemiHidden=3D"false"=0A   UnhideWhenU=
sed=3D"false" Name=3D"Medium Shading 2 Accent 1"/>=0A  <w:LsdException Lock=
ed=3D"false" Priority=3D"65" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fa=
lse" Name=3D"Medium List 1 Accent 1"/>=0A  <w:LsdException Locked=3D"false"=
 UnhideWhenUsed=3D"false" Name=3D"Revision"/>=0A  <w:LsdException Locked=3D=
"false" Priority=3D"34" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" =
QFormat=3D"true" Name=3D"List Paragraph"/>=0A  <w:LsdException Locked=3D"fa=
lse" Priority=3D"29" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" QFo=
rmat=3D"true" Name=3D"Quote"/>=0A  <w:LsdException Locked=3D"false" Priorit=
y=3D"30" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" QFormat=3D"true=
" Name=3D"Intense Quote"/>=0A  <w:LsdException Locked=3D"false" Priority=3D=
"66" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium List=
 2 Accent 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"67" SemiHid=
den=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 1 Accent 1"=
/>=0A  <w:LsdException Locked=3D"false" Priority=3D"68" SemiHidden=3D"false=
"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 2 Accent 1"/>=0A  <w:Ls=
dException Locked=3D"false" Priority=3D"69" SemiHidden=3D"false"=0A   Unhid=
eWhenUsed=3D"false" Name=3D"Medium Grid 3 Accent 1"/>=0A  <w:LsdException L=
ocked=3D"false" Priority=3D"70" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D=
"false" Name=3D"Dark List Accent 1"/>=0A  <w:LsdException Locked=3D"false" =
Priority=3D"71" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"=
Colorful Shading Accent 1"/>=0A  <w:LsdException Locked=3D"false" Priority=
=3D"72" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful=
 List Accent 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"73" Semi=
Hidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Grid Accent=
 1"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"60" SemiHidden=3D"fa=
lse"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Shading Accent 2"/>=0A  <w=
:LsdException Locked=3D"false" Priority=3D"61" SemiHidden=3D"false"=0A   Un=
hideWhenUsed=3D"false" Name=3D"Light List Accent 2"/>=0A  <w:LsdException L=
ocked=3D"false" Priority=3D"62" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D=
"false" Name=3D"Light Grid Accent 2"/>=0A  <w:LsdException Locked=3D"false"=
 Priority=3D"63" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D=
"Medium Shading 1 Accent 2"/>=0A  <w:LsdException Locked=3D"false" Priority=
=3D"64" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium S=
hading 2 Accent 2"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"65" S=
emiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium List 1 Acc=
ent 2"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"66" SemiHidden=3D=
"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium List 2 Accent 2"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"67" SemiHidden=3D"false"=0A  =
 UnhideWhenUsed=3D"false" Name=3D"Medium Grid 1 Accent 2"/>=0A  <w:LsdExcep=
tion Locked=3D"false" Priority=3D"68" SemiHidden=3D"false"=0A   UnhideWhenU=
sed=3D"false" Name=3D"Medium Grid 2 Accent 2"/>=0A  <w:LsdException Locked=
=3D"false" Priority=3D"69" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fals=
e" Name=3D"Medium Grid 3 Accent 2"/>=0A  <w:LsdException Locked=3D"false" P=
riority=3D"70" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"D=
ark List Accent 2"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"71" S=
emiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Shading =
Accent 2"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"72" SemiHidden=
=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful List Accent 2"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"73" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Grid Accent 2"/>=0A  <w:Lsd=
Exception Locked=3D"false" Priority=3D"60" SemiHidden=3D"false"=0A   Unhide=
WhenUsed=3D"false" Name=3D"Light Shading Accent 3"/>=0A  <w:LsdException Lo=
cked=3D"false" Priority=3D"61" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"=
false" Name=3D"Light List Accent 3"/>=0A  <w:LsdException Locked=3D"false" =
Priority=3D"62" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"=
Light Grid Accent 3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"63"=
 SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Shading =
1 Accent 3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"64" SemiHidd=
en=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Shading 2 Accent =
3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"65" SemiHidden=3D"fal=
se"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium List 1 Accent 3"/>=0A  <w:=
LsdException Locked=3D"false" Priority=3D"66" SemiHidden=3D"false"=0A   Unh=
ideWhenUsed=3D"false" Name=3D"Medium List 2 Accent 3"/>=0A  <w:LsdException=
 Locked=3D"false" Priority=3D"67" SemiHidden=3D"false"=0A   UnhideWhenUsed=
=3D"false" Name=3D"Medium Grid 1 Accent 3"/>=0A  <w:LsdException Locked=3D"=
false" Priority=3D"68" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" N=
ame=3D"Medium Grid 2 Accent 3"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"69" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Mediu=
m Grid 3 Accent 3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"70" S=
emiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Dark List Accent =
3"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"71" SemiHidden=3D"fal=
se"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Shading Accent 3"/>=0A  =
<w:LsdException Locked=3D"false" Priority=3D"72" SemiHidden=3D"false"=0A   =
UnhideWhenUsed=3D"false" Name=3D"Colorful List Accent 3"/>=0A  <w:LsdExcept=
ion Locked=3D"false" Priority=3D"73" SemiHidden=3D"false"=0A   UnhideWhenUs=
ed=3D"false" Name=3D"Colorful Grid Accent 3"/>=0A  <w:LsdException Locked=
=3D"false" Priority=3D"60" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fals=
e" Name=3D"Light Shading Accent 4"/>=0A  <w:LsdException Locked=3D"false" P=
riority=3D"61" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"L=
ight List Accent 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"62" =
SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Grid Accen=
t 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"63" SemiHidden=3D"f=
alse"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Shading 1 Accent 4"/>=0A=
  <w:LsdException Locked=3D"false" Priority=3D"64" SemiHidden=3D"false"=0A =
  UnhideWhenUsed=3D"false" Name=3D"Medium Shading 2 Accent 4"/>=0A  <w:LsdE=
xception Locked=3D"false" Priority=3D"65" SemiHidden=3D"false"=0A   UnhideW=
henUsed=3D"false" Name=3D"Medium List 1 Accent 4"/>=0A  <w:LsdException Loc=
ked=3D"false" Priority=3D"66" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"f=
alse" Name=3D"Medium List 2 Accent 4"/>=0A  <w:LsdException Locked=3D"false=
" Priority=3D"67" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=
=3D"Medium Grid 1 Accent 4"/>=0A  <w:LsdException Locked=3D"false" Priority=
=3D"68" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium G=
rid 2 Accent 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"69" Semi=
Hidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 3 Accent=
 4"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"70" SemiHidden=3D"fa=
lse"=0A   UnhideWhenUsed=3D"false" Name=3D"Dark List Accent 4"/>=0A  <w:Lsd=
Exception Locked=3D"false" Priority=3D"71" SemiHidden=3D"false"=0A   Unhide=
WhenUsed=3D"false" Name=3D"Colorful Shading Accent 4"/>=0A  <w:LsdException=
 Locked=3D"false" Priority=3D"72" SemiHidden=3D"false"=0A   UnhideWhenUsed=
=3D"false" Name=3D"Colorful List Accent 4"/>=0A  <w:LsdException Locked=3D"=
false" Priority=3D"73" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" N=
ame=3D"Colorful Grid Accent 4"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"60" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light=
 Shading Accent 5"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"61" S=
emiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light List Accent=
 5"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"62" SemiHidden=3D"fa=
lse"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Grid Accent 5"/>=0A  <w:Ls=
dException Locked=3D"false" Priority=3D"63" SemiHidden=3D"false"=0A   Unhid=
eWhenUsed=3D"false" Name=3D"Medium Shading 1 Accent 5"/>=0A  <w:LsdExceptio=
n Locked=3D"false" Priority=3D"64" SemiHidden=3D"false"=0A   UnhideWhenUsed=
=3D"false" Name=3D"Medium Shading 2 Accent 5"/>=0A  <w:LsdException Locked=
=3D"false" Priority=3D"65" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fals=
e" Name=3D"Medium List 1 Accent 5"/>=0A  <w:LsdException Locked=3D"false" P=
riority=3D"66" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"M=
edium List 2 Accent 5"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"6=
7" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 1=
 Accent 5"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"68" SemiHidde=
n=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 2 Accent 5"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"69" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 3 Accent 5"/>=0A  <w:Lsd=
Exception Locked=3D"false" Priority=3D"70" SemiHidden=3D"false"=0A   Unhide=
WhenUsed=3D"false" Name=3D"Dark List Accent 5"/>=0A  <w:LsdException Locked=
=3D"false" Priority=3D"71" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fals=
e" Name=3D"Colorful Shading Accent 5"/>=0A  <w:LsdException Locked=3D"false=
" Priority=3D"72" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=
=3D"Colorful List Accent 5"/>=0A  <w:LsdException Locked=3D"false" Priority=
=3D"73" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful=
 Grid Accent 5"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"60" Semi=
Hidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Light Shading Accent=
 6"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"61" SemiHidden=3D"fa=
lse"=0A   UnhideWhenUsed=3D"false" Name=3D"Light List Accent 6"/>=0A  <w:Ls=
dException Locked=3D"false" Priority=3D"62" SemiHidden=3D"false"=0A   Unhid=
eWhenUsed=3D"false" Name=3D"Light Grid Accent 6"/>=0A  <w:LsdException Lock=
ed=3D"false" Priority=3D"63" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fa=
lse" Name=3D"Medium Shading 1 Accent 6"/>=0A  <w:LsdException Locked=3D"fal=
se" Priority=3D"64" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=
=3D"Medium Shading 2 Accent 6"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"65" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Mediu=
m List 1 Accent 6"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"66" S=
emiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium List 2 Acc=
ent 6"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"67" SemiHidden=3D=
"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Medium Grid 1 Accent 6"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"68" SemiHidden=3D"false"=0A  =
 UnhideWhenUsed=3D"false" Name=3D"Medium Grid 2 Accent 6"/>=0A  <w:LsdExcep=
tion Locked=3D"false" Priority=3D"69" SemiHidden=3D"false"=0A   UnhideWhenU=
sed=3D"false" Name=3D"Medium Grid 3 Accent 6"/>=0A  <w:LsdException Locked=
=3D"false" Priority=3D"70" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"fals=
e" Name=3D"Dark List Accent 6"/>=0A  <w:LsdException Locked=3D"false" Prior=
ity=3D"71" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Color=
ful Shading Accent 6"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"72=
" SemiHidden=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful List =
Accent 6"/>=0A  <w:LsdException Locked=3D"false" Priority=3D"73" SemiHidden=
=3D"false"=0A   UnhideWhenUsed=3D"false" Name=3D"Colorful Grid Accent 6"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"19" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Subtle Emphasis"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"21" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Intense Emphasis"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"31" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Subtle Reference"/>=
=0A  <w:LsdException Locked=3D"false" Priority=3D"32" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Intense Reference"/=
>=0A  <w:LsdException Locked=3D"false" Priority=3D"33" SemiHidden=3D"false"=
=0A   UnhideWhenUsed=3D"false" QFormat=3D"true" Name=3D"Book Title"/>=0A  <=
w:LsdException Locked=3D"false" Priority=3D"37" Name=3D"Bibliography"/>=0A =
 <w:LsdException Locked=3D"false" Priority=3D"39" QFormat=3D"true" Name=3D"=
TOC Heading"/>=0A </w:LatentStyles>=0A</xml><![endif]--><!--[if gte mso 10]=
>=0A<style>=0A /* Style Definitions */=0A table.MsoNormalTable=0A=09{mso-st=
yle-name:"Table Normal";=0A=09mso-tstyle-rowband-size:0;=0A=09mso-tstyle-co=
lband-size:0;=0A=09mso-style-noshow:yes;=0A=09mso-style-priority:99;=0A=09m=
so-style-parent:"";=0A=09mso-padding-alt:0in 5.4pt 0in 5.4pt;=0A=09mso-para=
-margin:0in;=0A=09mso-para-margin-bottom:.0001pt;=0A=09mso-pagination:widow=
-orphan;=0A=09font-size:10.0pt;=0A=09font-family:"Times New Roman","serif";=
}=0A</style>=0A<![endif]-->=0A=0A</div><ol style=3D"margin-top:0in" start=
=3D"1" type=3D"1"><li class=3D"MsoNormal" style=3D"text-align:justify;mso-l=
ist:l0 level1 lfo1;=0A     tab-stops:list .5in"><span lang=3D"EN-AU">Go to =
IIS.</span></li><li class=3D"MsoNormal" style=3D"text-align:justify;mso-lis=
t:l0 level1 lfo1;=0A     tab-stops:list .5in"><span lang=3D"EN-AU">Go to Se=
rver Certificate.</span></li><li class=3D"MsoNormal" style=3D"text-align:ju=
stify;mso-list:l0 level1 lfo1;=0A     tab-stops:list .5in"><span lang=3D"EN=
-AU">Choose complete certificate request.</span></li><li class=3D"MsoNormal=
" style=3D"text-align:justify;mso-list:l0 level1 lfo1;=0A     tab-stops:lis=
t .5in"><span lang=3D"EN-AU">Upload the certificate file with the=0A     ce=
r extension.</span></li><li class=3D"MsoNormal" style=3D"text-align:justify=
;mso-list:l0 level1 lfo1;=0A     tab-stops:list .5in"><span lang=3D"EN-AU">=
Go to Default Website.</span></li><li class=3D"MsoNormal" style=3D"text-ali=
gn:justify;mso-list:l0 level1 lfo1;=0A     tab-stops:list .5in"><span lang=
=3D"EN-AU">Bind it to HTTPS and point it to the=0A     certificate that you=
 just uploaded in #4.</span></li></ol>=0A=0A<div>Everything is working fine=
.&nbsp; User can access the system through web.&nbsp; I noticed the followi=
ng messages (attached fle ) from the isapi_redirect.log file.</div><div><br=
></div><div>Would appreciate it if someone can provide additional informati=
on about the message and some ways/ideas on stopping them from occurring.</=
div><div><br></div><div>My apologies if the information that I have provide=
d is not complete.&nbsp; Let me know so I can add some more details.<br></d=
iv><div><br></div><div>Thanks and regards!</div><div><br></div><div>Ann<br>=
</div><div><br></div><div></div></div></body></html>
--1833503604-1229603947-1342491499=:22700--
--1833503604-448736775-1342491499=:22700
Content-Type: text/plain; name="Isapi log message tomcat connector 1.2.30.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="Isapi log message tomcat connector 1.2.30.txt"

W1N1biBKdWwgMTUgMjE6MTI6MjMuNjU4IDIwMTJdIFs2OTY6Mjg2NF0gW2Vy
cm9yXSBhanBfbWFyc2hhbF9pbnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAo
NDY5KTogZmFpbGVkIGFwcGVuZGluZyB0aGUgaGVhZGVyIHZhbHVlDQpbU3Vu
IEp1bCAxNSAyMToxMjoyMy43MDUgMjAxMl0gWzY5NjoyODY0XSBbZXJyb3Jd
IEh0dHBFeHRlbnNpb25Qcm9jOjpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6
IHNlcnZpY2UoKSBmYWlsZWQgd2l0aCBodHRwIGVycm9yIDQxMw0KW1N1biBK
dWwgMTUgMjE6MTI6MjMuODYxIDIwMTJdIFs2OTY6Mjg2NF0gW2Vycm9yXSBh
anBfbWFyc2hhbF9pbnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNDY5KTog
ZmFpbGVkIGFwcGVuZGluZyB0aGUgaGVhZGVyIHZhbHVlDQpbU3VuIEp1bCAx
NSAyMToxMjoyMy44NzcgMjAxMl0gWzY5NjoyODY0XSBbZXJyb3JdIEh0dHBF
eHRlbnNpb25Qcm9jOjpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZp
Y2UoKSBmYWlsZWQgd2l0aCBodHRwIGVycm9yIDQxMw0KW1N1biBKdWwgMTUg
MjE6MTI6MjcuNTQzIDIwMTJdIFs2OTY6Mjg2NF0gW2Vycm9yXSBhanBfbWFy
c2hhbF9pbnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNDY5KTogZmFpbGVk
IGFwcGVuZGluZyB0aGUgaGVhZGVyIHZhbHVlDQpbU3VuIEp1bCAxNSAyMTox
MjoyNy41NTggMjAxMl0gWzY5NjoyODY0XSBbZXJyb3JdIEh0dHBFeHRlbnNp
b25Qcm9jOjpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBm
YWlsZWQgd2l0aCBodHRwIGVycm9yIDQxMw0KW1N1biBKdWwgMTUgMjE6MTI6
MjcuNjIxIDIwMTJdIFs2OTY6Mjg2NF0gW2Vycm9yXSBhanBfbWFyc2hhbF9p
bnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNDY5KTogZmFpbGVkIGFwcGVu
ZGluZyB0aGUgaGVhZGVyIHZhbHVlDQpbU3VuIEp1bCAxNSAyMToxMjoyNy42
NjggMjAxMl0gWzY5NjoyODY0XSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9j
Ojpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQg
d2l0aCBodHRwIGVycm9yIDQxMw0KW1N1biBKdWwgMTUgMjE6MTI6MzMuMDgx
IDIwMTJdIFs2OTY6Mjg2NF0gW2Vycm9yXSBhanBfbWFyc2hhbF9pbnRvX21z
Z2I6OmprX2FqcF9jb21tb24uYyAoNDY5KTogZmFpbGVkIGFwcGVuZGluZyB0
aGUgaGVhZGVyIHZhbHVlDQpbU3VuIEp1bCAxNSAyMToxMjozMy4xMjggMjAx
Ml0gWzY5NjoyODY0XSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9jOjpqa19p
c2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQgd2l0aCBo
dHRwIGVycm9yIDQxMw0KW1N1biBKdWwgMTUgMjE6MTI6MzMuMjIxIDIwMTJd
IFs2OTY6Mjg2NF0gW2Vycm9yXSBhanBfbWFyc2hhbF9pbnRvX21zZ2I6Ompr
X2FqcF9jb21tb24uYyAoNDY5KTogZmFpbGVkIGFwcGVuZGluZyB0aGUgaGVh
ZGVyIHZhbHVlDQpbU3VuIEp1bCAxNSAyMToxMjozMy4yMzcgMjAxMl0gWzY5
NjoyODY0XSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9jOjpqa19pc2FwaV9w
bHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQgd2l0aCBodHRwIGVy
cm9yIDQxMw0KW01vbiBKdWwgMTYgMTI6NTA6NTEuMzg4IDIwMTJdIFszNDIw
OjY3MDhdIFtlcnJvcl0gYWpwX21hcnNoYWxfaW50b19tc2diOjpqa19hanBf
Y29tbW9uLmMgKDU4OCk6IGZhaWxlZCBhcHBlbmRpbmcgYXR0cmlidXRlIEhU
VFBTX1NFUlZFUl9JU1NVRVI9Qz1BVSwgUz1UaGlzIExvY2F0aW9uLCBMPVhY
WFhYLCBPPVRoaXMgQ29tcGFueSwgT1U9Q29ycG9yYXRlIElULCBDTj1ZWVlZ
WVlZWVksIEU9YWJjQHp6enp6LmNvbS5hdQ0KW01vbiBKdWwgMTYgMTI6NTA6
NTEuNDM1IDIwMTJdIFszNDIwOjY3MDhdIFtlcnJvcl0gSHR0cEV4dGVuc2lv
blByb2M6OmprX2lzYXBpX3BsdWdpbi5jICgyMTk1KTogc2VydmljZSgpIGZh
aWxlZCB3aXRoIGh0dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAxMzowMDo1
NS41NzYgMjAxMl0gWzM0MjA6NjYzMl0gW2Vycm9yXSBhanBfbWFyc2hhbF9p
bnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVkIGFwcGVu
ZGluZyBhdHRyaWJ1dGUgSFRUUFNfU0VSVkVSX0lTU1VFUj1DPUFVLCBTPVRo
aXMgTG9jYXRpb24sIEw9WFhYWFgsIE89VGhpcyBDb21wYW55LCBPVT1Db3Jw
b3JhdGUgSVQsIENOPVlZWVlZWVlZWSwgRT1hYmNAenp6enouY29tLmF1DQpb
TW9uIEp1bCAxNiAxMzowMDo1NS42MjMgMjAxMl0gWzM0MjA6NjYzMl0gW2Vy
cm9yXSBIdHRwRXh0ZW5zaW9uUHJvYzo6amtfaXNhcGlfcGx1Z2luLmMgKDIx
OTUpOiBzZXJ2aWNlKCkgZmFpbGVkIHdpdGggaHR0cCBlcnJvciA0MTMNCltN
b24gSnVsIDE2IDEzOjAyOjU1LjU4NyAyMDEyXSBbMzQyMDo1MTUyXSBbZXJy
b3JdIGFqcF9tYXJzaGFsX2ludG9fbXNnYjo6amtfYWpwX2NvbW1vbi5jICg1
ODgpOiBmYWlsZWQgYXBwZW5kaW5nIGF0dHJpYnV0ZSBIVFRQU19TRVJWRVJf
SVNTVUVSPUM9QVUsIFM9VGhpcyBMb2NhdGlvbiwgTD1YWFhYWCwgTz1UaGlz
IENvbXBhbnksIE9VPUNvcnBvcmF0ZSBJVCwgQ049WVlZWVlZWVlZLCBFPWFi
Y0B6enp6ei5jb20uYXUNCltNb24gSnVsIDE2IDEzOjAyOjU1LjYzNCAyMDEy
XSBbMzQyMDo1MTUyXSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9jOjpqa19p
c2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQgd2l0aCBo
dHRwIGVycm9yIDQxMw0KW01vbiBKdWwgMTYgMTM6MDM6MTUuNDc3IDIwMTJd
IFszNDIwOjMxNjRdIFtlcnJvcl0gYWpwX21hcnNoYWxfaW50b19tc2diOjpq
a19hanBfY29tbW9uLmMgKDU4OCk6IGZhaWxlZCBhcHBlbmRpbmcgYXR0cmli
dXRlIEhUVFBTX1NFUlZFUl9JU1NVRVI9Qz1BVSwgUz1UaGlzIExvY2F0aW9u
LCBMPVhYWFhYLCBPPVRoaXMgQ29tcGFueSwgT1U9Q29ycG9yYXRlIElULCBD
Tj1ZWVlZWVlZWVksIEU9YWJjQHp6enp6LmNvbS5hdQ0KW01vbiBKdWwgMTYg
MTM6MDM6MTUuNTI0IDIwMTJdIFszNDIwOjMxNjRdIFtlcnJvcl0gSHR0cEV4
dGVuc2lvblByb2M6OmprX2lzYXBpX3BsdWdpbi5jICgyMTk1KTogc2Vydmlj
ZSgpIGZhaWxlZCB3aXRoIGh0dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAx
MzowMzoxNi41ODUgMjAxMl0gWzM0MjA6NjcwOF0gW2Vycm9yXSBhanBfbWFy
c2hhbF9pbnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVk
IGFwcGVuZGluZyBhdHRyaWJ1dGUgSFRUUFNfS0VZU0laRT0xMjgNCltNb24g
SnVsIDE2IDEzOjAzOjE2LjU4NSAyMDEyXSBbMzQyMDozMTI0XSBbZXJyb3Jd
IGFqcF9tYXJzaGFsX2ludG9fbXNnYjo6amtfYWpwX2NvbW1vbi5jICg1OTgp
OiBmYWlsZWQgYXBwZW5kaW5nIHRoZSBtZXNzYWdlIGVuZA0KW01vbiBKdWwg
MTYgMTM6MDM6MTYuNjE2IDIwMTJdIFszNDIwOjY3MDhdIFtlcnJvcl0gSHR0
cEV4dGVuc2lvblByb2M6OmprX2lzYXBpX3BsdWdpbi5jICgyMTk1KTogc2Vy
dmljZSgpIGZhaWxlZCB3aXRoIGh0dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAx
NiAxMzowMzoxNi42NDcgMjAxMl0gWzM0MjA6MzEyNF0gW2Vycm9yXSBIdHRw
RXh0ZW5zaW9uUHJvYzo6amtfaXNhcGlfcGx1Z2luLmMgKDIxOTUpOiBzZXJ2
aWNlKCkgZmFpbGVkIHdpdGggaHR0cCBlcnJvciA0MTMNCltNb24gSnVsIDE2
IDE1OjE5OjM3LjM2NSAyMDEyXSBbMzQyMDo2NzA4XSBbZW1lcmddIEh0dHBG
aWx0ZXJQcm9jOjpqa19pc2FwaV9wbHVnaW4uYyAoMTkyMSk6IFsvc205L2R2
L01FVEEtSU5GL3NlcnZpY2VzL2phdmF4LnhtbC50cmFuc2Zvcm0uVHJhbnNm
b3JtZXJGYWN0b3J5XSBwb2ludHMgdG8gdGhlIHdlYi1pbmYgb3IgbWV0YS1p
bmYgZGlyZWN0b3J5LiBTb21lYm9keSB0cmllcyB0byBoYWNrIGludG8gdGhl
IHNpdGUhISENCltNb24gSnVsIDE2IDE2OjIzOjI3LjUwOCAyMDEyXSBbMzQy
MDoyOTJdIFtlcnJvcl0gYWpwX21hcnNoYWxfaW50b19tc2diOjpqa19hanBf
Y29tbW9uLmMgKDU4OCk6IGZhaWxlZCBhcHBlbmRpbmcgYXR0cmlidXRlIENF
UlRfQ09PS0lFPQ0KW01vbiBKdWwgMTYgMTY6MjM6MjcuNTcxIDIwMTJdIFsz
NDIwOjI5Ml0gW2Vycm9yXSBIdHRwRXh0ZW5zaW9uUHJvYzo6amtfaXNhcGlf
cGx1Z2luLmMgKDIxOTUpOiBzZXJ2aWNlKCkgZmFpbGVkIHdpdGggaHR0cCBl
cnJvciA0MTMNCltNb24gSnVsIDE2IDE2OjIzOjQzLjA0NiAyMDEyXSBbMzQy
MDoyNjQ0XSBbZXJyb3JdIGFqcF9tYXJzaGFsX2ludG9fbXNnYjo6amtfYWpw
X2NvbW1vbi5jICg1ODgpOiBmYWlsZWQgYXBwZW5kaW5nIGF0dHJpYnV0ZSBD
RVJUX0NPT0tJRT0NCltNb24gSnVsIDE2IDE2OjIzOjQzLjA3NyAyMDEyXSBb
MzQyMDoyNjQ0XSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9jOjpqa19pc2Fw
aV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQgd2l0aCBodHRw
IGVycm9yIDQxMw0KW01vbiBKdWwgMTYgMTY6MjM6NDMuMzU4IDIwMTJdIFsz
NDIwOjI2NDRdIFtlcnJvcl0gYWpwX21hcnNoYWxfaW50b19tc2diOjpqa19h
anBfY29tbW9uLmMgKDU4OCk6IGZhaWxlZCBhcHBlbmRpbmcgYXR0cmlidXRl
IENFUlRfSVNTVUVSPQ0KW01vbiBKdWwgMTYgMTY6MjM6NDMuMzg5IDIwMTJd
IFszNDIwOjI2NDRdIFtlcnJvcl0gSHR0cEV4dGVuc2lvblByb2M6OmprX2lz
YXBpX3BsdWdpbi5jICgyMTk1KTogc2VydmljZSgpIGZhaWxlZCB3aXRoIGh0
dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAxNjozNTo1MS44MDAgMjAxMl0g
WzM0MjA6MzEyNF0gW2Vycm9yXSBhanBfbWFyc2hhbF9pbnRvX21zZ2I6Ompr
X2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVkIGFwcGVuZGluZyBhdHRyaWJ1
dGUgSFRUUFNfU0VSVkVSX1NVQkpFQ1Q9Qz1BVSwgUz1ZWSwgTD1YWFhYWFhY
LCBPPXRoaXNDb21wYW55LCBPVT1pdHNtLCBDTj1zbQ0KW01vbiBKdWwgMTYg
MTY6MzU6NTEuODQ3IDIwMTJdIFszNDIwOjMxMjRdIFtlcnJvcl0gSHR0cEV4
dGVuc2lvblByb2M6OmprX2lzYXBpX3BsdWdpbi5jICgyMTk1KTogc2Vydmlj
ZSgpIGZhaWxlZCB3aXRoIGh0dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAx
NjozNTo1NS4zNDEgMjAxMl0gWzM0MjA6NjcwOF0gW2Vycm9yXSBhanBfbWFy
c2hhbF9pbnRvX21zZ2I6OmprX2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVk
IGFwcGVuZGluZyBhdHRyaWJ1dGUgQ0VSVF9JU1NVRVI9DQpbTW9uIEp1bCAx
NiAxNjozNTo1NS40MDMgMjAxMl0gWzM0MjA6NjcwOF0gW2Vycm9yXSBIdHRw
RXh0ZW5zaW9uUHJvYzo6amtfaXNhcGlfcGx1Z2luLmMgKDIxOTUpOiBzZXJ2
aWNlKCkgZmFpbGVkIHdpdGggaHR0cCBlcnJvciA0MTMNCltNb24gSnVsIDE2
IDE2OjM1OjU1LjQ2NiAyMDEyXSBbMzQyMDo2NzA4XSBbZXJyb3JdIGFqcF9t
YXJzaGFsX2ludG9fbXNnYjo6amtfYWpwX2NvbW1vbi5jICg1MTEpOiBmYWls
ZWQgYXBwZW5kaW5nIHRoZSBxdWVyeSBzdHJpbmcNCltNb24gSnVsIDE2IDE2
OjM1OjU1LjQ5NyAyMDEyXSBbMzQyMDo2NzA4XSBbZXJyb3JdIEh0dHBFeHRl
bnNpb25Qcm9jOjpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2Uo
KSBmYWlsZWQgd2l0aCBodHRwIGVycm9yIDQxMw0KW01vbiBKdWwgMTYgMTY6
MzU6NTUuOTk2IDIwMTJdIFszNDIwOjY3MDhdIFtlcnJvcl0gYWpwX21hcnNo
YWxfaW50b19tc2diOjpqa19hanBfY29tbW9uLmMgKDQ5OCk6IGZhaWxlZCBh
cHBlbmRpbmcgdGhlIGF1dGggdHlwZQ0KW01vbiBKdWwgMTYgMTY6MzU6NTYu
MDQzIDIwMTJdIFszNDIwOjY3MDhdIFtlcnJvcl0gSHR0cEV4dGVuc2lvblBy
b2M6OmprX2lzYXBpX3BsdWdpbi5jICgyMTk1KTogc2VydmljZSgpIGZhaWxl
ZCB3aXRoIGh0dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAxNjozNjoxMC4z
NDggMjAxMl0gWzM0MjA6NjcwOF0gW2Vycm9yXSBhanBfbWFyc2hhbF9pbnRv
X21zZ2I6OmprX2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVkIGFwcGVuZGlu
ZyBhdHRyaWJ1dGUgQ0VSVF9JU1NVRVI9DQpbTW9uIEp1bCAxNiAxNjozNjox
MC4zOTUgMjAxMl0gWzM0MjA6NjcwOF0gW2Vycm9yXSBIdHRwRXh0ZW5zaW9u
UHJvYzo6amtfaXNhcGlfcGx1Z2luLmMgKDIxOTUpOiBzZXJ2aWNlKCkgZmFp
bGVkIHdpdGggaHR0cCBlcnJvciA0MTMNCltNb24gSnVsIDE2IDE2OjM2OjEw
LjQ3MyAyMDEyXSBbMzQyMDo2NzA4XSBbZXJyb3JdIGFqcF9tYXJzaGFsX2lu
dG9fbXNnYjo6amtfYWpwX2NvbW1vbi5jICg1MTEpOiBmYWlsZWQgYXBwZW5k
aW5nIHRoZSBxdWVyeSBzdHJpbmcNCltNb24gSnVsIDE2IDE2OjM2OjEwLjQ4
OSAyMDEyXSBbMzQyMDo2NzA4XSBbZXJyb3JdIEh0dHBFeHRlbnNpb25Qcm9j
Ojpqa19pc2FwaV9wbHVnaW4uYyAoMjE5NSk6IHNlcnZpY2UoKSBmYWlsZWQg
d2l0aCBodHRwIGVycm9yIDQxMw0KW01vbiBKdWwgMTYgMTY6MzY6MjAuNzIy
IDIwMTJdIFszNDIwOjY3MDhdIFtlcnJvcl0gYWpwX21hcnNoYWxfaW50b19t
c2diOjpqa19hanBfY29tbW9uLmMgKDQ5OCk6IGZhaWxlZCBhcHBlbmRpbmcg
dGhlIGF1dGggdHlwZQ0KW01vbiBKdWwgMTYgMTY6MzY6MjAuNzY5IDIwMTJd
IFszNDIwOjY3MDhdIFtlcnJvcl0gSHR0cEV4dGVuc2lvblByb2M6OmprX2lz
YXBpX3BsdWdpbi5jICgyMTk1KTogc2VydmljZSgpIGZhaWxlZCB3aXRoIGh0
dHAgZXJyb3IgNDEzDQpbTW9uIEp1bCAxNiAxNjozNjoyNS42MzYgMjAxMl0g
WzM0MjA6NjcwOF0gW2Vycm9yXSBhanBfbWFyc2hhbF9pbnRvX21zZ2I6Ompr
X2FqcF9jb21tb24uYyAoNTg4KTogZmFpbGVkIGFwcGVuZGluZyBhdHRyaWJ1
dGUgQ0VSVF9JU1NVRVI9DQpbTW9uIEp1bCAxNiAxNjozNjoyNS42OTkgMjAx
Ml0gWzM0MjA6NjcwOF0gW2Vycm9yXSBIdHRwRXh0ZW5zaW9uUHJvYzo6amtf
aXNhcGlfcGx1Z2luLmMgKDIxOTUpOiBzZXJ2aWNlKCkgZmFpbGVkIHdpdGgg
aHR0cCBlcnJvciA0MTMNCg==


--1833503604-448736775-1342491499=:22700
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--1833503604-448736775-1342491499=:22700--

From users-return-235505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 04:04:54 2012
Return-Path: <users-return-235505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0395DD333
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 04:04:54 +0000 (UTC)
Received: (qmail 48294 invoked by uid 500); 17 Jul 2012 04:04:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48236 invoked by uid 500); 17 Jul 2012 04:04:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48203 invoked by uid 99); 17 Jul 2012 04:04:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 04:04:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.70] (HELO elasmtp-banded.atl.sa.earthlink.net) (209.86.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 04:04:40 +0000
Received: from [66.32.199.144] (helo=[192.168.2.50])
	by elasmtp-banded.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Sqz1G-00061P-Ln
	for users@tomcat.apache.org; Tue, 17 Jul 2012 00:04:18 -0400
Subject: Re: service() failed with http error 413 - error log message from
 isapi_redirect.log file
From: Tim Watts <tim@cliftonfarm.org>
To: users@tomcat.apache.org
In-Reply-To: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com>
References: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-AU2nMQ81mO+J9VNSdrM3"
Organization: Clifton Farm
Date: Tue, 17 Jul 2012 00:06:10 -0400
Message-ID: <1342497970.30268.4315.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b76430be5af8dc78ea47faa64f5d27e42ff269350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.199.144

--=-AU2nMQ81mO+J9VNSdrM3
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Hi Ann,

On Mon, 2012-07-16 at 19:18 -0700, ann ramos wrote:
> Hi,=20
>=20
>=20
>=20
> We are using HP Service Manager 9.2 system.  The web client tier was
> set up using Windows 2008 R2 64-bit, IIS 7.5, Tomcat 6 and Isapi
> Redirector 1.2.30.
> The client is accessing the site by https because we had created a
> certificate and binded it to the IIS.  Here are the steps that I used:
>=20
>      1. Go to IIS.
>      2. Go to Server Certificate.
>      3. Choose complete certificate request.
>      4. Upload the certificate file with the cer extension.
>      5. Go to Default Website.
>      6. Bind it to HTTPS and point it to the certificate that you just
>         uploaded in #4.
> Everything is working fine.  User can access the system through web.
> I noticed the following messages (attached fle ) from the
> isapi_redirect.log file.
>=20
>=20
> Would appreciate it if someone can provide additional information
> about the message and some ways/ideas on stopping them from occurring.
>=20
As the log message suggests, 413 is a standard HTTP error code.  Quote
from http://www.faqs.org/rfcs/rfc2616.html:

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
10.4.14 413 Request Entity Too Large

   The server is refusing to process a request because the request
   entity is larger than the server is willing or able to process. The
   server MAY close the connection to prevent the client from continuing
   the request.

   If the condition is temporary, the server SHOULD include a Retry-
   After header field to indicate that it is temporary and after what
   time the client MAY try again.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

Based on messages like this from the log you attached:

        ajp_marshal_into_msgb::jk_ajp_common.c (469): failed appending the =
header value

it sounds like you might need to bump 'max_packet_size' in your
workers.properties.  See=20

        http://tomcat.apache.org/connectors-doc/reference/workers.html

for details.

HOWEVER, did you notice this in the log?

        [Mon Jul 16 15:19:37.365 2012] [3420:6708] [emerg]
        HttpFilterProc::jk_isapi_plugin.c (1921):
        [/sm9/dv/META-INF/services/javax.xml.transform.TransformerFactory] =
points to the web-inf or meta-inf directory. Somebody tries to hack into th=
e site!!!

Someone may be trying to exploit buffer overruns on your site.


>=20
> My apologies if the information that I have provided is not complete.
> Let me know so I can add some more details.
>=20
>=20
>=20
> Thanks and regards!
>=20
>=20
> Ann
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org



--=-AU2nMQ81mO+J9VNSdrM3
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQBOSxAAoJEAfDBXDHBQil08kH/1t7I08QFrcY4ojNIrlgyrEl
HJub48aE7nsDNZiW7VgpshTbLVk7GKsOsg7SO63JdisTqexo6L0HZ/SpPUY5TXhX
o1vPJ9NltcEP9nBgeFFR1w1PFPLkg7vNRLFt3iAIR4KLAk+jHa05b/M52St78fMa
PzeArCOi+0MliP3BrPQrcziDadRHSA8mdRpuqHX89S+ILHIGLei13jcD3I5vj7B8
0A0Li3SSAxsfg60ynOj1kYbu80alYL6Byo6LrUWH4Op1vemSF7BLcfhNc+ksIKQH
NWFgyp8u48bLdiYrtOzC4/Hdi20+ZG5Q7dxUepsqZyt81iAzwD8jdm9MUZwYy8U=
=+6dr
-----END PGP SIGNATURE-----

--=-AU2nMQ81mO+J9VNSdrM3--


From users-return-235506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 04:16:17 2012
Return-Path: <users-return-235506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27D87D36D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 04:16:17 +0000 (UTC)
Received: (qmail 82469 invoked by uid 500); 17 Jul 2012 04:16:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82274 invoked by uid 500); 17 Jul 2012 04:16:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82232 invoked by uid 99); 17 Jul 2012 04:16:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 04:16:11 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.84] (HELO nm21.bullet.mail.ne1.yahoo.com) (98.138.90.84)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 04:16:03 +0000
Received: from [98.138.90.57] by nm21.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 04:15:42 -0000
Received: from [98.138.89.165] by tm10.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 04:15:42 -0000
Received: from [127.0.0.1] by omp1021.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 04:15:42 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 404570.81598.bm@omp1021.mail.ne1.yahoo.com
Received: (qmail 44451 invoked by uid 60001); 17 Jul 2012 04:15:42 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342498542; bh=Kkwe5apUAEL5FDW9CX1AA/NoH4/stvzRx7zb2N562mY=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=yUYziEGC4wVBrPNG6N/q2xn91fc18GAUKHQURx7hnCVNK1Am/iRM3E/9VEAJtmecVv/TvIboQy9wxfGdfAL66USgLuozvSNDXd3ZH/f/2SRX8gcyZiFQkzVouT/9vRad+DyVpjnzConPd73x4dlgj+wLJWekABjX9/s7TcLP1MY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=3aaGWYjU1eKFvXEFg74emS61Kt0OP9PuXjaltQs8WWn+yzwdvyTq3U9+CyA4s9SNxPqtHfwzEpVzw3S+HQisPx9Ewc9xacKGxfACvZAgSWJXnRqDsxWLqoQhHr8h5rYBmFoOy3fsA9n23rY2/K3dUNiVFDpV5tD/dFHvK8SIcV0=;
X-YMail-OSG: mlmeJP0VM1nRKaUlodWUJxbcJov9l2vUH4xgmTPcfsLq3Kr
 6j56WPpEvd6v2VnPvNT.gVSPvlEiNjTogZa3Jtwerdyc_y9_Un0Ap.t7I0tU
 TB3s4sReTf.aVFfknd4xOQotCYql_dyEaAukwAuLYTsbDN.jGUXO3EQ7m9OA
 ieTBBPmSTDTAdSlRmDVlWFhwneb8ZOdBCv6yvD0cpfloJvbXlBUvjfgSpCw_
 Wc0d7QkIwoCUB2Fv0YIsDnvijO9bEY9Y8K48RaDudc7dxwmXhB1ZYRN0zw3f
 c7us2dR22_GP7b2gHJXzXgBROESNWXsvgpCG55fZORCl_ZJV3j13S0LKEJ1L
 B43LGYmcuVoHQFUVF_sLTZZf3rwKMCbcWxY6.QxPipx1kz13SLHszmxsDJIF
 NkcSQglhRHu7s2maSMIcwhNKuMqR15fdZd7R6kaKWNrCFj3_Z6cr9T23YQBu
 iQXsJtZ7nC5xCS2c2D_T2yuq618ssPRZlyeYEd7wK0QQx.3JrfQjJxo1eLBM
 IEE6Ahxn2aYx_meBsCVhwntExjCbD81YFzzC1idno1xxR.ThpSLaS_zvoSYX
 _WWE8Iw4zIWNU6DIjuG.FLIRaZiQykKfO3ze2i1.2I6lJvULXsksgajp7AHs
 CLO1b
Received: from [203.176.101.1] by web126004.mail.ne1.yahoo.com via HTTP; Mon, 16 Jul 2012 21:15:42 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com> <1342497970.30268.4315.camel@dellberry>
Message-ID: <1342498542.34821.YahooMailNeo@web126004.mail.ne1.yahoo.com>
Date: Mon, 16 Jul 2012 21:15:42 -0700 (PDT)
From: ann ramos <ramos_maryann@yahoo.com>
Reply-To: ann ramos <ramos_maryann@yahoo.com>
Subject: Re: service() failed with http error 413 - error log message from isapi_redirect.log file
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342497970.30268.4315.camel@dellberry>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1688457910-1606082768-1342498542=:34821"

--1688457910-1606082768-1342498542=:34821
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Tim for your quick reply.=A0 =0A=0A=0AI have already increased the m=
ax_packet_size to the maximum allowable value way way before and it still c=
omes up:=0A=0Aworker.wlb.max_packet_size=3D65536=0A=0AYeah, I noticed the m=
essage about the hacking thing.=A0 The website only runs =0Ainternally.=A0 =
I found a good explanation of that message on the net, =0Asomething about t=
he HP SM software trying to access a file(s) directly =0Aunder the WEB-INF =
folder.=A0 So I don't worry about that message for now.=0AJust the=A0 "Requ=
est Entity Too Large" error is the one that I want to concentrate on at the=
 moment.=0A=0A=0A________________________________=0A From: Tim Watts <tim@c=
liftonfarm.org>=0ATo: users@tomcat.apache.org =0ASent: Tuesday, 17 July 201=
2 2:06 PM=0ASubject: Re: service() failed with http error 413 - error log m=
essage from isapi_redirect.log file=0A =0AHi Ann,=0A=0AOn Mon, 2012-07-16 a=
t 19:18 -0700, ann ramos wrote:=0A> Hi, =0A> =0A> =0A> =0A> We are using HP=
 Service Manager 9.2 system.=A0 The web client tier was=0A> set up using Wi=
ndows 2008 R2 64-bit, IIS 7.5, Tomcat 6 and Isapi=0A> Redirector 1.2.30.=0A=
> The client is accessing the site by https because we had created a=0A> ce=
rtificate and binded it to the IIS.=A0 Here are the steps that I used:=0A> =
=0A>=A0 =A0 =A0 1. Go to IIS.=0A>=A0 =A0 =A0 2. Go to Server Certificate.=
=0A>=A0 =A0 =A0 3. Choose complete certificate request.=0A>=A0 =A0 =A0 4. U=
pload the certificate file with the cer extension.=0A>=A0 =A0 =A0 5. Go to =
Default Website.=0A>=A0 =A0 =A0 6. Bind it to HTTPS and point it to the cer=
tificate that you just=0A>=A0 =A0 =A0 =A0  uploaded in #4.=0A> Everything i=
s working fine.=A0 User can access the system through web.=0A> I noticed th=
e following messages (attached fle ) from the=0A> isapi_redirect.log file.=
=0A> =0A> =0A> Would appreciate it if someone can provide additional inform=
ation=0A> about the message and some ways/ideas on stopping them from occur=
ring.=0A> =0AAs the log message suggests, 413 is a standard HTTP error code=
.=A0 Quote=0Afrom http://www.faqs.org/rfcs/rfc2616.html:=0A=0A>>>>>>>>>>>>>=
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>=0A10.4.14 413 Request Entity Too L=
arge=0A=0A=A0  The server is refusing to process a request because the requ=
est=0A=A0  entity is larger than the server is willing or able to process. =
The=0A=A0  server MAY close the connection to prevent the client from conti=
nuing=0A=A0  the request.=0A=0A=A0  If the condition is temporary, the serv=
er SHOULD include a Retry-=0A=A0  After header field to indicate that it is=
 temporary and after what=0A=A0  time the client MAY try again.=0A<<<<<<<<<=
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<=0A=0ABased on messages like th=
is from the log you attached:=0A=0A=A0 =A0 =A0 =A0 ajp_marshal_into_msgb::j=
k_ajp_common.c (469): failed appending the header value=0A=0Ait sounds like=
 you might need to bump 'max_packet_size' in your=0Aworkers.properties.=A0 =
See =0A=0A=A0 =A0 =A0 =A0 http://tomcat.apache.org/connectors-doc/reference=
/workers.html=0A=0Afor details.=0A=0AHOWEVER, did you notice this in the lo=
g?=0A=0A=A0 =A0 =A0 =A0 [Mon Jul 16 15:19:37.365 2012] [3420:6708] [emerg]=
=0A=A0 =A0 =A0 =A0 HttpFilterProc::jk_isapi_plugin.c (1921):=0A=A0 =A0 =A0 =
=A0 [/sm9/dv/META-INF/services/javax.xml.transform.TransformerFactory] poin=
ts to the web-inf or meta-inf directory. Somebody tries to hack into the si=
te!!!=0A=0ASomeone may be trying to exploit buffer overruns on your site.=
=0A=0A=0A> =0A> My apologies if the information that I have provided is not=
 complete.=0A> Let me know so I can add some more details.=0A> =0A> =0A> =
=0A> Thanks and regards!=0A> =0A> =0A> Ann=0A> =0A> =0A> =0A> =0A> --------=
-------------------------------------------------------------=0A> To unsubs=
cribe, e-mail: users-unsubscribe@tomcat.apache.org=0A> For additional comma=
nds, e-mail: users-help@tomcat.apache.org
--1688457910-1606082768-1342498542=:34821--

From users-return-235507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 07:00:05 2012
Return-Path: <users-return-235507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CC9ADE3D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 07:00:05 +0000 (UTC)
Received: (qmail 2543 invoked by uid 500); 17 Jul 2012 07:00:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2410 invoked by uid 500); 17 Jul 2012 07:00:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2342 invoked by uid 99); 17 Jul 2012 07:00:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 07:00:00 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 06:59:51 +0000
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6H6xUhF019430
	for <users@tomcat.apache.org>; Tue, 17 Jul 2012 08:59:30 +0200 (CEST)
Message-ID: <50050D45.4030000@kippdata.de>
Date: Tue, 17 Jul 2012 08:59:17 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: service() failed with http error 413 - error log message from
 isapi_redirect.log file
References: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com> <1342497970.30268.4315.camel@dellberry> <1342498542.34821.YahooMailNeo@web126004.mail.ne1.yahoo.com>
In-Reply-To: <1342498542.34821.YahooMailNeo@web126004.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

On 17.07.2012 06:15, ann ramos wrote:
> Thanks Tim for your quick reply.
>
>
> I have already increased the max_packet_size to the maximum allowable value way way before and it still comes up:
>
> worker.wlb.max_packet_size=65536

You need to increase the size on the Tomcat side to.

> Just the  "Request Entity Too Large" error is the one that I want to concentrate on at the moment.

Can you try using http instead of https? This way we could decide 
whether it is more likely a problem of forwarding SSL info in the AJP 
header packet (the 8K resp. 64K thing) or whether some huge header or 
similar is actually coming from your client.

Regards,

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 07:07:27 2012
Return-Path: <users-return-235508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FEF2DE83
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 07:07:27 +0000 (UTC)
Received: (qmail 21673 invoked by uid 500); 17 Jul 2012 07:07:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21384 invoked by uid 500); 17 Jul 2012 07:07:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21368 invoked by uid 99); 17 Jul 2012 07:07:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 07:07:23 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.119] (HELO nm36-vm7.bullet.mail.ne1.yahoo.com) (98.138.229.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 07:07:13 +0000
Received: from [98.138.90.48] by nm36.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 07:06:51 -0000
Received: from [98.138.87.7] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 07:06:51 -0000
Received: from [127.0.0.1] by omp1007.mail.ne1.yahoo.com with NNFMP; 17 Jul 2012 07:06:51 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 325866.56764.bm@omp1007.mail.ne1.yahoo.com
Received: (qmail 57846 invoked by uid 60001); 17 Jul 2012 07:06:50 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342508810; bh=F5D6vSxIcl7mtjtzrAMhH43635FuUu7GKszOpthfVCo=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=D8AA50S/xiVE4uK2RzP5TFR9LmKS0/I4qcu2D0+DwmIGNDkjOJybwyi2Zn7ubFv6S1B/Ji079NnCjP8sAt5WGHrAhiPUD3HGFHTbUx42ieCUtLT7xJF1T6XnQigRfX+jXL/vDY/kiXenFF0JS8ccNLsFIifP8tr+TJiLxB0woHQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=45LrC9ewHgxaDMElDRafujAep0ZiPvIILkZ3Wwty+ty+OWPT2JeUqG5dD2iigAUYadr9CphZXHHyGjzkOkBjRNT3scrZ0dd7w1KFfijJlM/tenVEuGT92d/u86XtGSVfVZgB1gjhJdTXjqDSfCVLEJNGTIPPqsBSG3MPJyj8vw0=;
X-YMail-OSG: PRIG5ecVM1la3s7fCFPTiqZjambkiEjOkanTh9x5Cu7eT40
 wBOM-
Received: from [114.250.159.105] by web113313.mail.gq1.yahoo.com via HTTP; Tue, 17 Jul 2012 00:06:50 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1342497252.90918.YahooMailNeo@web113308.mail.gq1.yahoo.com> <1342505737.53353.YahooMailNeo@web113304.mail.gq1.yahoo.com>
Message-ID: <1342508810.55712.YahooMailNeo@web113313.mail.gq1.yahoo.com>
Date: Tue, 17 Jul 2012 00:06:50 -0700 (PDT)
From: Abduxkur Ablimit <sugar_xj@yahoo.com>
Reply-To: Abduxkur Ablimit <sugar_xj@yahoo.com>
Subject: can I disable tomat 7 web-socket?
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
In-Reply-To: <1342505737.53353.YahooMailNeo@web113304.mail.gq1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="511563997-1230988035-1342508810=:55712"

--511563997-1230988035-1342508810=:55712
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

By disable tomcat comet, I dont want tomcat create thread for web-socket,=
=0A=A0how do I do that?=0A=0A=0A=0ABest Regards,=0A=0AAbduxkur.Ablimit
--511563997-1230988035-1342508810=:55712--

From users-return-235509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 07:27:50 2012
Return-Path: <users-return-235509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63D8CD0A2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 07:27:50 +0000 (UTC)
Received: (qmail 74648 invoked by uid 500); 17 Jul 2012 07:27:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74587 invoked by uid 500); 17 Jul 2012 07:27:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74560 invoked by uid 99); 17 Jul 2012 07:27:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 07:27:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.212.184] (HELO nm25.bullet.mail.bf1.yahoo.com) (98.139.212.184)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 07:27:38 +0000
Received: from [98.139.212.148] by nm25.bullet.mail.bf1.yahoo.com with NNFMP; 17 Jul 2012 07:27:17 -0000
Received: from [98.139.212.205] by tm5.bullet.mail.bf1.yahoo.com with NNFMP; 17 Jul 2012 07:27:17 -0000
Received: from [127.0.0.1] by omp1014.mail.bf1.yahoo.com with NNFMP; 17 Jul 2012 07:27:17 -0000
X-Yahoo-Newman-Id: 407278.12525.bm@omp1014.mail.bf1.yahoo.com
Received: (qmail 40125 invoked from network); 17 Jul 2012 07:27:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=DKIM-Signature:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:References:In-Reply-To:Mime-Version:Content-Transfer-Encoding:Content-Type:Message-Id:Cc:X-Mailer:From:Subject:Date:To;
  b=jcBRLumJ5gOMPR5JShxj9KxV0hJeQcBAgceEXjwcDCUSgcHjnyiz3JuIO0U2O2ItQwHnPySHI20XP4+TGfHaHKR2txLZpJdzTP/QrXO9vhmDRRgCoizEyu5mFVDkRORPyVbfPphjV24mvhh26BxJPhNQewppPUAbl1XXG3MfgF4=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342510037; bh=kW0vPcj+YTc9GpgTSUzESuDMftRIveYZpzK8VUyK6F4=; h=X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:References:In-Reply-To:Mime-Version:Content-Transfer-Encoding:Content-Type:Message-Id:Cc:X-Mailer:From:Subject:Date:To; b=VKRwGlB4oSp1jtQPTYJB8Iy/VpU0px8GzU+7i+OfHEdaRLG67VdZBfhz/0pxdBFZaV/EFLq46XE1NLhZMOVIyj0hfwn45tb+G0O/Xwh7zDUDDotjKkHSoOvFv79ZBryVWPUOA08BYyVWkcSgyT6VUyCAXhNNoz3EPW3cmuqnEK8=
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: L27OWecVM1mkivGOgKWJzSzYg0gdQCs9LCh6mG6GnjUKTpK
 jCacyysHFySbc4L6hz5c03vCXPocNLht73avHcQSc_Umf40X1DGdEmkNi6cu
 5b.9yPoxhaDKeGFaIRZN97QGgCwKrH7OZhCWLUpG5Z5GCmfMA21r1msekdAp
 cv0H3CtohngYG_ZoFds5LHg_At1EpuerF7gtXTyJlbheJMR7JPMXGw7jeugg
 1OFfPTyxhoiPiH5p2fUOAoaWPlene8n4zJTts7HAI206Y8Y0ycMPU3ERGcyP
 TDkJ9kNep0gxsyVlu6.rDMPWPiuzkAAKlWEAXfibsLcOzzesV3GWlMz2aXWI
 9VqZcINmHMtv5ksVGCOe6Pj3nNANMimVK6oakKcoKXjYc8GRBqe0kErWj784
 _oNhpLrZGQ2s2spRxTPxYF.bZAu72pGVZFYfjvfnYrvlQ_sA9ur3wEu3mqp.
 Ey8CQGgSODpAc2g--
X-Yahoo-SMTP: a9Z5.caswBAovBr5VGkxaDUFhO2JW4JVT7I-
Received: from [10.6.83.25] (ramos_maryann@49.176.68.3 with xymcookie)
        by smtp117-mob.biz.mail.bf1.yahoo.com with SMTP; 17 Jul 2012 00:27:16 -0700 PDT
References: <1342491499.22700.YahooMailNeo@web126005.mail.ne1.yahoo.com> <1342497970.30268.4315.camel@dellberry> <1342498542.34821.YahooMailNeo@web126004.mail.ne1.yahoo.com> <50050D45.4030000@kippdata.de>
In-Reply-To: <50050D45.4030000@kippdata.de>
Mime-Version: 1.0 (1.0)
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii
Message-Id: <ED47B14D-14AB-41EB-9423-18E0D43D3585@yahoo.com>
Cc: "users@tomcat.apache.org" <users@tomcat.apache.org>
X-Mailer: iPhone Mail (9B206)
From: Ann Yahoo <ramos_maryann@yahoo.com>
Subject: Re: service() failed with http error 413 - error log message from isapi_redirect.log file
Date: Tue, 17 Jul 2012 17:27:16 +1000
To: Tomcat Users List <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, I have also increased the one in the server.xml of te tomcat instance.

Haven't tried using it as an http just to see if its going to make a differe=
nce. I'm going to ask the users. Thanks.



On 17/07/2012, at 4:59 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:

> On 17.07.2012 06:15, ann ramos wrote:
>> Thanks Tim for your quick reply.
>>=20
>>=20
>> I have already increased the max_packet_size to the maximum allowable val=
ue way way before and it still comes up:
>>=20
>> worker.wlb.max_packet_size=3D65536
>=20
> You need to increase the size on the Tomcat side to.
>=20
>> Just the  "Request Entity Too Large" error is the one that I want to conc=
entrate on at the moment.
>=20
> Can you try using http instead of https? This way we could decide whether i=
t is more likely a problem of forwarding SSL info in the AJP header packet (=
the 8K resp. 64K thing) or whether some huge header or similar is actually c=
oming from your client.
>=20
> Regards,
>=20
> Rainer
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 08:02:48 2012
Return-Path: <users-return-235510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2B74DDA8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 08:02:48 +0000 (UTC)
Received: (qmail 87605 invoked by uid 500); 17 Jul 2012 08:02:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87492 invoked by uid 500); 17 Jul 2012 08:02:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87464 invoked by uid 99); 17 Jul 2012 08:02:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 08:02:44 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ravikapoor101@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 08:02:35 +0000
Received: by yhpp34 with SMTP id p34so143837yhp.18
        for <users@tomcat.apache.org>; Tue, 17 Jul 2012 01:02:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        bh=GzhYbvg/wWm1IfgShYZ4fDXmPVbue6Ppo4x+o7UhX/w=;
        b=HUtLqqzppoUWRmYBhgIDttQMc51DnOx0dFgoXpzhJAyiImiVwEjgVeeg1SRnMaZHYa
         TyQUZsBNX75u+b2OZzByhId2fcElV30J1nmPuX1r6YKRdGx6HGwRKmhG5M1J4Q81siau
         ILMNqffuCNCVGBj7RFucTll0HesBM9h1R5ap2WODfKyWJNSBUbiVbCiz9QL7g7ogqGZa
         6baFt6dyIukMqpQFtaI8OhSL2eKWp1T37crtDSt7zWKv/oZNnCZ49qXRd6FkUj0xDBnb
         LX9l0EEcSkuNdtXIH3TGrsUm76ACSFNU5Sw0OHj6uybkFUU7dKXuZRGiWGAfe5GU1JIs
         V2UA==
Received: by 10.68.224.39 with SMTP id qz7mr4173367pbc.127.1342512133729;
        Tue, 17 Jul 2012 01:02:13 -0700 (PDT)
Received: from [192.168.1.2] (c-71-198-1-197.hsd1.ca.comcast.net. [71.198.1.197])
        by mx.google.com with ESMTPS id os9sm13571232pbb.62.2012.07.17.01.02.12
        (version=SSLv3 cipher=OTHER);
        Tue, 17 Jul 2012 01:02:12 -0700 (PDT)
Message-ID: <50051C03.6000106@gmail.com>
Date: Tue, 17 Jul 2012 01:02:11 -0700
From: Ravi <ravikapoor101@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: websockets: how to support most browsers that are using old version
 of websocket protocol
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


While latest websocket protocol is supported in Tomcat, a lot of 
browsers out there are using older versions of the protocol. It may take 
them years to phase out.

Considering this, I also need to support older protocol versions. I am 
not sure how to do this.

One route is I install jwebsocket. I am wondering if there is an easier 
way to make WebSocketServlet support older protocols.


thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 09:53:07 2012
Return-Path: <users-return-235511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6657BDCC8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 09:53:07 +0000 (UTC)
Received: (qmail 33897 invoked by uid 500); 17 Jul 2012 09:53:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33746 invoked by uid 500); 17 Jul 2012 09:53:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33711 invoked by uid 99); 17 Jul 2012 09:53:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 09:53:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 09:52:55 +0000
Received: by vbbfn1 with SMTP id fn1so207297vbb.18
        for <users@tomcat.apache.org>; Tue, 17 Jul 2012 02:52:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8cCi2OPG0hiPztKNn9w0cqHHhdpYqp3CKW1Oc7ICLyA=;
        b=EH4JdK3vG+8Gf4IWV+QWQ0yhLMPtC3RZHiZ+iDM/4zVa3Om8cU4mn9UI+gr5fGZ8zA
         2z9zo3zLIhR4sg0thncSYchngP1jEPm+nBMm6O2ryA8knEi7qkECPPxnLM6jfzJISy36
         5dhs7RJ1UpQWEyt2pnpCYmKXmZQmd2uvGQ10rmvZM5k2WlEFuj7XY/O6HYA11WNgTIUq
         BKUAAHByq5letSD5HJnvJeFgnekMGBj825RWLIwSQXwHVnNFyQ8Tme8QKb0aMDLw5vI/
         nJ6EwVMp0ZUN+aGOBlrJEGvcyyEZbE/Oce+Fa0FBzDzG+yI4G4YoC8ucRjN++ljAar1n
         iSqA==
MIME-Version: 1.0
Received: by 10.220.224.77 with SMTP id in13mr866020vcb.9.1342518753924; Tue,
 17 Jul 2012 02:52:33 -0700 (PDT)
Received: by 10.220.6.2 with HTTP; Tue, 17 Jul 2012 02:52:33 -0700 (PDT)
In-Reply-To: <1342508810.55712.YahooMailNeo@web113313.mail.gq1.yahoo.com>
References: <1342497252.90918.YahooMailNeo@web113308.mail.gq1.yahoo.com>
	<1342505737.53353.YahooMailNeo@web113304.mail.gq1.yahoo.com>
	<1342508810.55712.YahooMailNeo@web113313.mail.gq1.yahoo.com>
Date: Tue, 17 Jul 2012 13:52:33 +0400
Message-ID: <CABzHfVmpFzNeY9pRfDxQG6kc2zNXPvVnjApdFmZs+3=tf_UNcQ@mail.gmail.com>
Subject: Re: can I disable tomat 7 web-socket?
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/17 Abduxkur Ablimit <sugar_xj@yahoo.com>:
> By disable tomcat comet, I dont want tomcat create thread for web-socket,
>  how do I do that?

There is no such thing as "thread for web-socket".

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 10:06:42 2012
Return-Path: <users-return-235512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1ADADD32
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 10:06:41 +0000 (UTC)
Received: (qmail 75159 invoked by uid 500); 17 Jul 2012 10:06:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75001 invoked by uid 500); 17 Jul 2012 10:06:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74958 invoked by uid 99); 17 Jul 2012 10:06:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:06:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shutyaev@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:06:29 +0000
Received: by yenl1 with SMTP id l1so282748yen.18
        for <users@tomcat.apache.org>; Tue, 17 Jul 2012 03:06:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=JmrhVJCGROncUBWVINl7RrlY+IvvaTXvgz6P99zSVJo=;
        b=qHl5EaXodBCG1Mz3Rk+YUHkBppjVl7tVj3os8x6RJoPY4R8TitjtuR6iYKHuWGyJjm
         bz95KdolnseMWwxXqIStUtIfBdyBe1Xs9waBgnrRpyNeXnx0j1Nwu5lKPxYz/xwa7hqe
         zPvfTiqxWDtvPHGhwePy5rtWhfOdPH8gCIX24fuV/xMLJ+lQwPchqS/awtM0HfJFSrDp
         BRw7UjzhX6bjeRcUFf041onAP/EX/zYJwR1KkvVcvkRf+tH9s6tyo/MzJSgNqUo1ub1O
         MqqGvLMR8zYz/yiZeHnoaGkhEZKjJ2NrN1acaDm19NS/S8jnwrULvRsCBHoYZQNfIty7
         psCw==
MIME-Version: 1.0
Received: by 10.43.63.140 with SMTP id xe12mr899936icb.57.1342519568731; Tue,
 17 Jul 2012 03:06:08 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Tue, 17 Jul 2012 03:06:08 -0700 (PDT)
Date: Tue, 17 Jul 2012 14:06:08 +0400
Message-ID: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
Subject: force embedded tomcat 7 to listen on ALL adresses
From: Alexander Shutyaev <shutyaev@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=bcaec51b1e3bff8ca904c503b13f

--bcaec51b1e3bff8ca904c503b13f
Content-Type: text/plain; charset=UTF-8

Hi all!

I've embedded tomcat 7 using org.apache.catalina.startup.Tomcat class. It
seems that by default it listens on "localhost". I've noticed there is a
method org.apache.catalina.startup.Tomcat.setHostname(String) which I can
use to change this. But I can't find how I can tell tomcat to listen on ALL
addresses. I know how to do this in server.xml (just omit the address
attribute in connector), but as new embedded tomcat does not use config
file I'm not sure how to achieve this. Can anyone help me?

--bcaec51b1e3bff8ca904c503b13f--

From users-return-235513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 10:30:23 2012
Return-Path: <users-return-235513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB5C7CD5E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 10:30:23 +0000 (UTC)
Received: (qmail 38457 invoked by uid 500); 17 Jul 2012 10:30:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38292 invoked by uid 500); 17 Jul 2012 10:30:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38230 invoked by uid 99); 17 Jul 2012 10:30:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:30:17 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,URI_TRUNCATED
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.90.230] (HELO nm3-vm0.bullet.mail.sp2.yahoo.com) (98.139.90.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 10:30:08 +0000
Received: from [72.30.22.93] by nm3.bullet.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:29:47 -0000
Received: from [98.139.91.39] by tm15.bullet.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:29:47 -0000
Received: from [127.0.0.1] by omp1039.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:29:47 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 154471.46894.bm@omp1039.mail.sp2.yahoo.com
Received: (qmail 15099 invoked by uid 60001); 17 Jul 2012 10:29:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342520986; bh=k8DXistQIl2dSrqGmGtUnQsJdICKRikb1P+iGeC6G2U=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=6C94esXZp64ZoouUXocO3K1ftT7bdLBud3huw2o7j2ZAexXDJK3//DVm/OWnzeRqWEdPkI62gN/02CzVznziexfAlvm/W3Lhku30FunhpsDpj94sO2c0cRgJfCeaG0b6YjzBG9l/InF6+RbN5fEZ5bt9wSU1AdD3XUOKOJKJ7+A=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=em6qrBQAqVgBCSKNGqGoYmpAPLoVIQY7/6FXODEAK3csmS0TxQIjCfbarfflBTOgUEpRullRqSrun5EZYu6gJiYIfyCoZWPHWPKAhk6dulTiE4MDMjtSDQLrIZX4Bey9zr61ZIe3IK8FUaeSfDHdFewTi32EiYg9z+TV6g5Ofks=;
X-YMail-OSG: B5r4sEQVM1mq0M3v8lJHsPl0Qzc3zEGLHNnVBI.JbDphaN.
 czdfq9UULcoQcPZOXOULsOWSq0iqkJCQUIY7JBDD6ALW1BEuBN0faQXIi0.i
 s5Wju9agaHZslqES13DtUH8QuPWM6Bvyqe4DfC_iQ2XSfaW2R9r9Yc2Vs5Kq
 _RuL8G4Va81t3XiotRscUTThxFKDZs9sAsdg_fuMS9SSo7zpY3mv.WU39LDu
 4Ocuh_LgRO9zkcsT6W3ctYtROhx.FnG8ShwCCxP5xEJ8lXE8gBJyE_6Ka6LY
 9pLICkO8v1bN37D3FNr4Zs3cqKatgEklUHCtujOx1J7EiKHs._PUtU1mTTe_
 RxNcXpnT2I4riC7b.PncRkOuLa7.SVWtDFe5b5IXblfsJgAx5M1bJHUuyoTc
 ldg--
Received: from [114.250.159.105] by web113313.mail.gq1.yahoo.com via HTTP; Tue, 17 Jul 2012 03:29:46 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1342497252.90918.YahooMailNeo@web113308.mail.gq1.yahoo.com> <1342505737.53353.YahooMailNeo@web113304.mail.gq1.yahoo.com> <1342508810.55712.YahooMailNeo@web113313.mail.gq1.yahoo.com> <CABzHfVmpFzNeY9pRfDxQG6kc2zNXPvVnjApdFmZs+3=tf_UNcQ@mail.gmail.com>
Message-ID: <1342520986.15051.YahooMailNeo@web113313.mail.gq1.yahoo.com>
Date: Tue, 17 Jul 2012 03:29:46 -0700 (PDT)
From: Abduxkur Ablimit <sugar_xj@yahoo.com>
Reply-To: Abduxkur Ablimit <sugar_xj@yahoo.com>
Subject: Re: can I disable tomat 7 web-socket?
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABzHfVmpFzNeY9pRfDxQG6kc2zNXPvVnjApdFmZs+3=tf_UNcQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="511563997-710710472-1342520986=:15051"
X-Virus-Checked: Checked by ClamAV on apache.org

--511563997-710710472-1342520986=:15051
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Maybe I am wrong, I saw that tomcat 7.0.28 (didnt notice other version) cre=
ate Threads like in the picture, I thought that tomcat created thread named=
 http-apr-80-cometPoller-1.=0A=0Aif these threads are not created for web-s=
ocket ,then what is it for? I am confused.=0A=0A=0A=0A_____________________=
___________=0A From: Konstantin Kolinko <knst.kolinko@gmail.com>=0ATo: Tomc=
at Users List <users@tomcat.apache.org> =0ASent: Tuesday, July 17, 2012 5:5=
2 PM=0ASubject: Re: can I disable tomat 7 web-socket?=0A =0A2012/7/17 Abdux=
kur Ablimit <sugar_xj@yahoo.com>:=0A> By disable tomcat comet, I dont want =
tomcat create thread for web-socket,=0A>=A0 how do I do that?=0A=0AThere is=
 no such thing as "thread for web-socket".=0A=0A---------------------------=
------------------------------------------=0ATo unsubscribe, e-mail: users-=
unsubscribe@tomcat.apache.org=0AFor additional commands, e-mail: users-help=
@tomcat.apache.org
--511563997-710710472-1342520986=:15051--

From users-return-235514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 10:32:19 2012
Return-Path: <users-return-235514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F6A9CD6F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 10:32:19 +0000 (UTC)
Received: (qmail 45107 invoked by uid 500); 17 Jul 2012 10:32:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45067 invoked by uid 500); 17 Jul 2012 10:32:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45056 invoked by uid 99); 17 Jul 2012 10:32:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:32:15 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.91.208] (HELO nm15-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.208)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jul 2012 10:32:06 +0000
Received: from [98.139.91.69] by nm15.bullet.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:31:45 -0000
Received: from [98.139.91.37] by tm9.bullet.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:31:45 -0000
Received: from [127.0.0.1] by omp1037.mail.sp2.yahoo.com with NNFMP; 17 Jul 2012 10:31:45 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 825363.1205.bm@omp1037.mail.sp2.yahoo.com
Received: (qmail 9046 invoked by uid 60001); 17 Jul 2012 10:31:45 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342521105; bh=GOZYdksHNP1XwpbKyJnj6SMFazZcfJLxN8jp4Oad/aA=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=fKo1Ak4Wa5LCVigmOoJeyYNPQXpu5+gfN+FY8+qQgvXsJfi/n7O8YH+ua3L7p/8lprRjIukjn0owpL07aFmGE3DTL5ChfeDa/w8K0wo+QnEdKPbYcYuuwQyn7gOQmrLcuHRXXj3Tq4R7/gy63GOPUgyGO/oQK6NPNqyeB0niSiQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Xtnbc476ZEpiF9y88pFsW1DW2Pq0X3aNSCNPj8hd80To7X515O/iKM7x7ug28ZyvYGp4P0hrSHdLJUAwNJl77Zu8St5N/cTnio41vlIWIeldWISqSCZTbalcZYGBMYSzk+cFEIhXXqmEHmVcdCZhqnYejcPzsBzJKZ6KnY1QXy8=;
X-YMail-OSG: yYsrgecVM1m9RIrFjokgYCr20NTyd6hMtyNNeeDz9j.Mz5C
 DC7rxRilmItLWSCia0W0EjZwdxK1VYKb7qsxeX4oyQxIv8vL2pcmJ8c6c0qE
 agykiIAhJ2JeRPqrMX2ZYz3hmIKo38I4mqnNEIhQsDJoxR2W_Kaj4T.wKiw5
 xGSnXRSK1lhXzvZQlkQtpk9nwtzCdtd0P8pqJ2da_Pov_TsgDeQNpH2WjqIe
 FzdJUCInBBUCO0hrHblvmnNadBDYRYv7jVFKceCeMSSdugj2uVzpATj9ISKq
 P1c6Yt3qWcYkw6YUQUng9C2WgEONTZGZSNzJFffC5MpCanpaXSg8cJx4PKPC
 3F.vqulk2MMCpmmx9ptuwpiU6qw4RbxI_LDBIv23q7FnQKtYhZLY.WdbQFoT
 gFw--
Received: from [114.250.173.128] by web113307.mail.gq1.yahoo.com via HTTP; Tue, 17 Jul 2012 03:31:45 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1342497252.90918.YahooMailNeo@web113308.mail.gq1.yahoo.com> <1342505737.53353.YahooMailNeo@web113304.mail.gq1.yahoo.com> <1342508810.55712.YahooMailNeo@web113313.mail.gq1.yahoo.com> <CABzHfVmpFzNeY9pRfDxQG6kc2zNXPvVnjApdFmZs+3=tf_UNcQ@mail.gmail.com> <1342520986.15051.YahooMailNeo@web113313.mail.gq1.yahoo.com>
Message-ID: <1342521105.98053.YahooMailNeo@web113307.mail.gq1.yahoo.com>
Date: Tue, 17 Jul 2012 03:31:45 -0700 (PDT)
From: Abduxkur Ablimit <sugar_xj@yahoo.com>
Reply-To: Abduxkur Ablimit <sugar_xj@yahoo.com>
Subject: Re: can I disable tomat 7 web-socket?
To: Tomcat Users List <users@tomcat.apache.org>,
  Abduxkur Ablimit <sugar_xj@yahoo.com>
In-Reply-To: <1342520986.15051.YahooMailNeo@web113313.mail.gq1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1084031219-452039623-1342521105=:98053"
X-Virus-Checked: Checked by ClamAV on apache.org

---1084031219-452039623-1342521105=:98053
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

the Image did not show .so I paste what is in that image=0A=0A=0ADaemon Thr=
ead [http-apr-80-Poller-1] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80=
-Poller-0] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-Poller-2] (Runn=
ing)=A0=A0=A0 =0ADaemon Thread [http-apr-80-Poller-4] (Running)=A0=A0=A0 =
=0ADaemon Thread [http-apr-80-Poller-3] (Running)=A0=A0=A0 =0ADaemon Thread=
 [http-apr-80-Poller-6] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-Po=
ller-7] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-Poller-5] (Running=
)=A0=A0=A0 =0ADaemon Thread [http-apr-80-CometPoller-1] (Running)=A0=A0=A0 =
=0ADaemon Thread [http-apr-80-CometPoller-3] (Running)=A0=A0=A0 =0ADaemon T=
hread [http-apr-80-CometPoller-0] (Running)=A0=A0=A0 =0ADaemon Thread [http=
-apr-80-CometPoller-2] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-Com=
etPoller-4] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-CometPoller-5]=
 (Running)=A0=A0=A0 =0ADaemon Thread [http-apr-80-CometPoller-7] (Running)=
=A0=A0=A0 =0ADaemon Thread [http-apr-80-CometPoller-6] (Running)=A0=A0=A0 =
=0ADaemon Thread [http-apr-80-AsyncTimeout] (Running)=A0=A0=A0 =0ADaemon Th=
read [http-apr-80-Acceptor-0] (Running)=A0=A0=A0 =0ADaemon Thread [http-apr=
-80-Sendfile-0] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-8009-Poller-2]=
 (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-8009-Poller-0] (Running)=A0=
=A0=A0 =0ADaemon Thread [ajp-apr-8009-Poller-1] (Running)=A0=A0=A0 =0ADaemo=
n Thread [ajp-apr-8009-Poller-5] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-a=
pr-8009-Poller-4] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-8009-Poller-=
3] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-8009-Poller-6] (Running)=A0=
=A0=A0 =0ADaemon Thread [ajp-apr-8009-CometPoller-5] (Running)=A0=A0=A0 =0A=
Daemon Thread [ajp-apr-8009-CometPoller-1] (Running)=A0=A0=A0 =0ADaemon Thr=
ead [ajp-apr-8009-Poller-7] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-80=
09-CometPoller-0] (Running)=A0=A0=A0 =0ADaemon Thread [ajp-apr-8009-CometPo=
ller-2] (Suspended)=A0=A0=A0 =0A=A0=A0=A0 Object.wait(long) line: not avail=
able [native method]=A0=A0=A0 =0A=A0=A0=A0 AprEndpoint$Poller(Object).wait(=
) line: 485 [local variables unavailable]=A0=A0=A0 =0A=A0=A0=A0 AprEndpoint=
$Poller.run() line: 1213=A0=A0=A0 =0A=0A=0A=0A=0A__________________________=
______=0A From: Abduxkur Ablimit <sugar_xj@yahoo.com>=0ATo: Tomcat Users Li=
st <users@tomcat.apache.org> =0ASent: Tuesday, July 17, 2012 6:29 PM=0ASubj=
ect: Re: can I disable tomat 7 web-socket?=0A =0AMaybe I am wrong, I saw th=
at tomcat 7.0.28 (didnt notice other version) create Threads like in the pi=
cture, I thought that tomcat created thread named http-apr-80-cometPoller-1=
.=0A=0Aif these threads are not created for web-socket ,then what is it for=
? I am confused.=0A=0A=0A=0A________________________________=0AFrom: Konsta=
ntin Kolinko <knst.kolinko@gmail.com>=0ATo: Tomcat Users List <users@tomcat=
.apache.org> =0ASent: Tuesday, July 17, 2012 5:52 PM=0ASubject: Re: can I d=
isable tomat 7 web-socket?=0A=0A2012/7/17 Abduxkur Ablimit <sugar_xj@yahoo.=
com>:=0A> By disable tomcat comet, I dont want tomcat create thread for web=
-socket,=0A>=A0 how do I do that?=0A=0AThere is no such thing as "thread fo=
r web-socket".=0A=0A-------------------------------------------------------=
--------------=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache.or=
g=0AFor additional commands, e-mail: users-help@tomcat.apache.org
---1084031219-452039623-1342521105=:98053--

From users-return-235515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 10:43:09 2012
Return-Path: <users-return-235515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25F3ACDB0
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 10:43:09 +0000 (UTC)
Received: (qmail 73571 invoked by uid 500); 17 Jul 2012 10:43:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73524 invoked by uid 500); 17 Jul 2012 10:43:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73505 invoked by uid 99); 17 Jul 2012 10:43:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:43:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shutyaev@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 10:42:57 +0000
Received: by ggnp1 with SMTP id p1so319284ggn.18
        for <users@tomcat.apache.org>; Tue, 17 Jul 2012 03:42:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=T78QywHLzpbEFD2TcaRZe6CyF+aIHuicTTW3wknaaRY=;
        b=xvE3yNNwKwKDAI1mlMJifxb34oQuUzPLSJnvnpumcz5EqEbrod6K/llnoxV169Lht2
         DgTH67ycmIk2+Z0ScJYstbeKd1bigj9GYoEeEtC0XXXar0NBTdN2u7rpMHBlfJve4ulL
         H/vLTy28+99zYusn/xc5MJst6lsyDWGsKaAQTXiCgt1Oun+2EqEv0K/ToyK9hlVhx5jx
         dj/ZvN3L0EF11TNu+KRGud+gCJ0bXMyHHZhQ9n59TpDlG+3LPFAK7Aip0/JXQWJEJ6Hd
         9u92wrvlcqrfUnl9tD31d1WImUttbzRA1kSA3F3hQdBoyhFPayqFyaglfuQ/bzrmHWc2
         P8kQ==
MIME-Version: 1.0
Received: by 10.50.217.201 with SMTP id pa9mr850343igc.54.1342521756824; Tue,
 17 Jul 2012 03:42:36 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Tue, 17 Jul 2012 03:42:36 -0700 (PDT)
In-Reply-To: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
Date: Tue, 17 Jul 2012 14:42:36 +0400
Message-ID: <CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
From: Alexander Shutyaev <shutyaev@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=14dae93405cb6b35e904c50434a1

--14dae93405cb6b35e904c50434a1
Content-Type: text/plain; charset=UTF-8

Ok, I've figured out it DOES listen on ALL addresses no matter what
hostname is, but somehow requests only succeed if they have the hostname
matching with the one set by Tomcat.setHostname(...) (which is localhost by
default). I'm not sure where the requests fail, but they do.

2012/7/17 Alexander Shutyaev <shutyaev@gmail.com>

> Hi all!
>
> I've embedded tomcat 7 using org.apache.catalina.startup.Tomcat class. It
> seems that by default it listens on "localhost". I've noticed there is a
> method org.apache.catalina.startup.Tomcat.setHostname(String) which I can
> use to change this. But I can't find how I can tell tomcat to listen on ALL
> addresses. I know how to do this in server.xml (just omit the address
> attribute in connector), but as new embedded tomcat does not use config
> file I'm not sure how to achieve this. Can anyone help me?
>

--14dae93405cb6b35e904c50434a1--

From users-return-235516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 14:04:08 2012
Return-Path: <users-return-235516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D1E0D551
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 14:04:08 +0000 (UTC)
Received: (qmail 26238 invoked by uid 500); 17 Jul 2012 14:04:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25983 invoked by uid 500); 17 Jul 2012 14:04:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25793 invoked by uid 99); 17 Jul 2012 14:04:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:04:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:03:56 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id bNnH1j00B1c6gX854S3eDU; Tue, 17 Jul 2012 14:03:38 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id bS3S1j00N38FjT13jS3Txo; Tue, 17 Jul 2012 14:03:28 +0000
Message-ID: <500570B8.3030309@christopherschultz.net>
Date: Tue, 17 Jul 2012 10:03:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com> <CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
In-Reply-To: <CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alexander,

On 7/17/12 6:42 AM, Alexander Shutyaev wrote:
> Ok, I've figured out it DOES listen on ALL addresses no matter
> what hostname is, but somehow requests only succeed if they have
> the hostname matching with the one set by Tomcat.setHostname(...)
> (which is localhost by default). I'm not sure where the requests
> fail, but they do.

What happens when the requests don't "succeed"?

If you have a connector bound to 0.0.0.0 (or ::) then it should accept
connections on any interface.

If you have a Host defined that is the default, then it should respond
to all requests that don't match another Host.

As long as you set the hostname before calling any of the more
interesting methods, then the hostname you specify should be the
default. If you set no hostname, then it will default to "localhost"
and will be *the default Host* so everything should work.

Please describe in more detail what happens. Also, if you could post
your entire use of the Tomcat class, that would certainly help.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAFcLgACgkQ9CaO5/Lv0PCWCwCgidVx5uhVkpqk/rdSCnYeqbSl
wMcAnR3fk//7SHueaNwH5SLv8U+mGDnU
=C25J
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 14:14:30 2012
Return-Path: <users-return-235517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FAFDD5A8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 14:14:30 +0000 (UTC)
Received: (qmail 65637 invoked by uid 500); 17 Jul 2012 14:14:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65539 invoked by uid 500); 17 Jul 2012 14:14:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65524 invoked by uid 99); 17 Jul 2012 14:14:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:14:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:14:20 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id bNr41j0071GhbT851SE2vT; Tue, 17 Jul 2012 14:14:02 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id bSE51j00M38FjT13TSE8mA; Tue, 17 Jul 2012 14:14:08 +0000
Message-ID: <50057327.3020608@christopherschultz.net>
Date: Tue, 17 Jul 2012 10:13:59 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Client Authentication using SSL
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com> <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com> <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P> <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com> <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de> <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com> <5000D9A7.3060005@christopherschultz.net> <7215BA462D00D343B2837F9113F0131F0109D96267@POSTOFFICE02.polydyne.com>
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D96267@POSTOFFICE02.polydyne.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jeffrey,

On 7/16/12 10:01 AM, Jeffrey Janner wrote:
> Thanks Chris, I'd seen a lot of traffic on the topic over the
> years, so knew someone had real-world experience on the subject. 
> I'll check out what you did a little further. Of course, thinking
> on my proposed plan, a really uptight security admin might not
> think it all that more secure that basic-auth over server-only
> SSL. You know the type: the guy that insists the SSLPassword value
> in server.xml be encrypted.

Yup.

SSL client certificates are great because it's basically impossible to
fake them, and once they are installed, you don't have anything to
remember (like a passphrase). So, you can do super-high-grade
authentication one-time, then issue the SSL cert to avoid all that in
the future. Plus, they can be revoked.

They can, however, be trivially copied and moved elsewhere. So, you
might want to couple the SSL certificate with some other kind of
authentication like passphrase or even just remote IP address checking.

The other nice thing is that you don't need the original
issuing-certificate's key in order to verify the authenticity of the
client cert: you can install the CA (and subs) certs on the server and
verify the validity of the client certificate without revealing any
secrets on the server (like the secret for the server's key, for
instance). That allows you to keep your super-secret CA keys under
lock and key but still use them for authentication purposes.

The real question is whether or not it gives you anything more secure
than what you already have (I dunno what you already have). The SSL
connection takes care of the security of the information in-transit.
The client SSL cert takes care of one factor of authentication: it's
something the remote client "has". Any security expert will tell you
that multi-factor authentication is superior (and they'd be right) but
you still have the problem of distribution of the token *plus* the
authentication of the user before issuing the token. For example, if
your authentication is non-existent for client-cert issuance, then the
second "factor" for authentication into your primary system is
entirely useless.

Web-based authentication is difficult to do in a really good way.
Sure, there are good tools (GPG, X509, etc.) and tried-and-true
procedures (username/password/PIN/whatever) but when it comes down to
it, allowing remote access to sensitive data is inherently risky. When
it comes right down to it, even a very well-implemented system still
needs to be used by humans, who will invariably find a way to poke
holes in your security -- say, by putting their passwords on post-its
on their monitors. Really, it's the humans that really mess up
security for everyone ;)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAFcycACgkQ9CaO5/Lv0PAYHwCeI2V4++1mMCTRrqUpipBnswHV
cyAAn0rROWS47++js5IMM7iFg0BRgZAk
=zbGQ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 14:19:31 2012
Return-Path: <users-return-235518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1681FD5CD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 14:19:31 +0000 (UTC)
Received: (qmail 81969 invoked by uid 500); 17 Jul 2012 14:19:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81886 invoked by uid 500); 17 Jul 2012 14:19:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81826 invoked by uid 99); 17 Jul 2012 14:19:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:19:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 14:19:17 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id bNGG1j0040xGWP855SJyy5; Tue, 17 Jul 2012 14:18:58 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id bSJe1j00W38FjT13YSJht4; Tue, 17 Jul 2012 14:18:42 +0000
Message-ID: <5005744F.9020304@christopherschultz.net>
Date: Tue, 17 Jul 2012 10:18:55 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: "CRANFORD, CHRIS" <Chris.Cranford@setech.com>
Subject: Re: 7.0.29 Multi-threaded deployment
References: <415DBA0D5EE0C24D9197CC6063E7502901F2F6F8@shqsr15a.setechusa.com>
In-Reply-To: <415DBA0D5EE0C24D9197CC6063E7502901F2F6F8@shqsr15a.setechusa.com>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chris,

On 7/16/12 9:54 AM, CRANFORD, CHRIS wrote:
> When upgrading from 7.0.26 to 7.0.29, MyEclipse cannot start the
> Tomcat instance without reaching an OutOfMemoryError exception that
> results from a "GC overhead limit exceeded" when Tomcat begins
> it's multi-threaded deployment process.  MyEclipse is running with
> 1GB of maximum memory and still errors with this exception where-as
> reverting back to 7.0.26 and using only 512MB of memory, the
> instance starts without any issues with plenty of memory to spare.
> 
> 
> Have any others experienced this issue using Tomcat 7.0.29's 
> Multi-Thread deployment in UserConfig?
> 
> Is there anyway to disable this feature globally?

You got your question answered in another thread (the real problem is
JAR scanning and metadata cashing taking up way too much memory: using
metadata-complete="true" in web.xml should fix it) but I'll answer the
question you asked, here, anyway.

Globally, Tomcat's default is to use 1 deployment thread when starting
a Host's contexts. See
http://tomcat.apache.org/tomcat-7.0-doc/config/host.html, look for
"startStopThreads". Tomcat will only do "true" parallel deployment if
you explicitly set startStopThreads to some other value.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAFdE8ACgkQ9CaO5/Lv0PDzrwCghqXJHBFQg+/esZ8YsmPSglFj
NV4AoJNExUjs1oNtIO+XQTZCJGtknnX9
=nY3H
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 17:38:36 2012
Return-Path: <users-return-235519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53E42D76A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 17:38:36 +0000 (UTC)
Received: (qmail 21035 invoked by uid 500); 17 Jul 2012 17:38:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20157 invoked by uid 500); 17 Jul 2012 17:38:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20140 invoked by uid 99); 17 Jul 2012 17:38:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 17:38:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.160.196.165] (HELO arizona.hanik.com) (66.160.196.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 17:38:24 +0000
Received: from arizona.hanik.com (arizona.hanik.com [66.160.196.165])
	by arizona.hanik.com (Postfix) with ESMTP id 8DEF67830001
	for <users@tomcat.apache.org>; Tue, 17 Jul 2012 11:38:05 -0600 (MDT)
Date: Tue, 17 Jul 2012 11:38:04 -0600 (MDT)
From: Filip Hanik Mailing Lists <devlists@hanik.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Poller & CometPoller general questions
Message-ID: <287b1759-c7be-49a8-91e8-b43ec78e39a9@arizona.hanik.com>
In-Reply-To: <7215BA462D00D343B2837F9113F0131F0109D93E8B@POSTOFFICE02.polydyne.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Originating-IP: [173.113.151.43]
X-Mailer: Zimbra 7.1.1_GA_3196 (ZimbraWebClient - FF3.0 (Mac)/7.1.1_GA_3196)

In http://tomcat.apache.org/tomcat-7.0-doc/config/http.html
you can read about pollerThreadCount and useComet flags for the APR impleme=
ntation.
You don't need Comet unless you applications specifically are using it, mos=
t likely they are not.

Filip


----- Original Message -----
> From: "Jeffrey Janner" <Jeffrey.Janner@PolyDyne.com>
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Sent: Friday, July 13, 2012 9:53:14 AM
> Subject: Poller & CometPoller general questions
> 
> 
> 
> 
> I'm more curious here than there being a problem.
> 
> Are the Poller & CometPoller threads necessary for Tomcat operation?
> If not, how to turn them off, and do I want to turn them off.
> 
> Here's my scenario:
> 
> Tomcat 6.0.33 with APR on Windows Server 2008 (regular and R2).
> 
> Fairly normal server.xml, with generic <connector> implementation,
> i.e., not explicitly specifying the protocol:
> 
> <!--APR library loader. Documentation at /docs/apr.html -->
> 
> <Listener className=3D"org.apache.catalina.core.AprLifecycleListener"
> SSLEngine=3D"on" />
> 
> <Connector address=3D"172.16.1.1" port=3D"80" maxHttpHeaderSize=3D"8192"
> 
> maxThreads=3D"10" enableLookups=3D"false" redirectPort=3D"443"
> acceptCount=3D"100"
> 
> connectionTimeout=3D"20000" disableUploadTimeout=3D"true" />
> 
> <Connector address=3D"172.16.1.1" port=3D"443" maxHttpHeaderSize=3D"8192"=

> 
> maxThreads=3D"100" enableLookups=3D"false" acceptCount=3D"100"
> 
> connectionTimeout=3D"20000" disableUploadTimeout=3D"true"
> 
> scheme=3D"https" secure=3D"true" SSLEnabled=3D"true"
> 
> SSLCertificateFile=3D"path to server.crt"
> 
> SSLCertificateKeyFile=3D" path to server.key"
> 
> SSLCertificateChainFile=3D" path to _chain.crt"
> 
> SSLPassword=3D"password" />
> 
> Web.xml is set up to force everything to HTTPS:
> 
> <user-data-constraint>
> 
> <transport-guarantee>CONFIDENTIAL</transport-guarantee>
> 
> </user-data-constraint>
> 
> 
> 
> So Tomcat starts up and creates, in my case, 32 poller threads, 8
> poller and 8 cometpoller for each connector.
> 
> Now, I know these just sit around waiting on AprEndpoint$Poller,
> basically doing nothing and really causing no harm, other than
> taking up some threads out of my available threadpool.
> 
> I pretty sure we don=E2=80=99t use Comet, so I'd like to turn those off, =
but
> it's not clear in the documentation that I can, only looks like
> there are controls for the NIO connector.
> 
> What, if anything, would the standard Poller threads be used for?
> 
> Since everything gets forwarded to HTTPS, the HTTP poller threads
> seam exceptionally useless.
> 
> 
> 
> Jeffrey Janner
> 
> Sr. Network Administrator
> 
> jeffrey.janner@polydyne.com
> 
> PolyDyne Software Inc.
> 
> Main: 512.343.9100
> 
> Direct: 512.583.8930
> 
> 
> 
> cid:image002.png@01CC0FB7.4FF43CE0
> 
> 
> 
> Speed, Intelligence & Savings in Sourcing
> 
> 
> 
> 
> _________________________________________________________________________=
_
> 
> Confidentiality Notice: This Transmission (including any attachments)
> may contain information that is privileged, confidential, and exempt
> from disclosure under applicable law. If the reader of this message
> is not the intended recipient you are hereby notified that any
> dissemination, distribution, or copying of this communication is
> strictly prohibited.
> 
> If you have received this transmission in error, please immediately
> reply to the sender or telephone (512) 343-9100 and delete this
> transmission from your system.
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 17 18:31:39 2012
Return-Path: <users-return-235520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07B6E9885
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 17 Jul 2012 18:31:39 +0000 (UTC)
Received: (qmail 46925 invoked by uid 500); 17 Jul 2012 18:31:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46847 invoked by uid 500); 17 Jul 2012 18:31:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46837 invoked by uid 99); 17 Jul 2012 18:31:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 18:31:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shutyaev@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jul 2012 18:31:29 +0000
Received: by ghrr14 with SMTP id r14so990084ghr.18
        for <users@tomcat.apache.org>; Tue, 17 Jul 2012 11:31:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=CuTbi/HJYO0H5O5WTLy2dRKUnECRMhbCEmZxXkyluac=;
        b=HW3HCwTK18OJD90mMhnS4ZtYzQJSROFtT8FTq67HFzkmEM4jyhCrAgUz3vP/iKAPgp
         oPlh/A4sDRowtyMZeU4IgEvIEUA4ubOwRtwQRDe8rIXzl9tzMDfmZP1/2jGn7zrpR+RV
         +rUy1vpAp7X07tJSDkGT3jYmXIq4EnOpiz8X3sckuUBaYV90bPgMAQR2eVS7l/M+cVU1
         BXJr0IBOEhcssZRZ/KTTaANFGYCd6MCddMBQ93/an6BbJeLHTkAK2OE/H3trop2khVu8
         L325jiB+7IpPbsZB/Y7/e47hQWBUn4IybQ/1Si997SLVVNMCsRg6pe3hWhJCnBfuD5wq
         jOpg==
MIME-Version: 1.0
Received: by 10.50.237.71 with SMTP id va7mr2336778igc.6.1342549868842; Tue,
 17 Jul 2012 11:31:08 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Tue, 17 Jul 2012 11:31:08 -0700 (PDT)
In-Reply-To: <500570B8.3030309@christopherschultz.net>
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
	<CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
	<500570B8.3030309@christopherschultz.net>
Date: Tue, 17 Jul 2012 22:31:08 +0400
Message-ID: <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
From: Alexander Shutyaev <shutyaev@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0447a24306900004c50ac05e

--f46d0447a24306900004c50ac05e
Content-Type: text/plain; charset=UTF-8

Hi Christopher,

I've found a solution to my problem although I believe it's more accurate
to say I guessed it :) Maybe you'll be able to explain it to me. Here is
the complete code:

Tomcat tomcat = new Tomcat();
tomcat.setBaseDir(baseDir);
tomcat.getConnector().setPort(8080);
tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
tomcat.getEngine(); // (1)
tomcat.init();
tomcat.getHost().addAlias("127.0.0.1"); // (2)
tomcat.start();
tomcat.addWebapp("", path);

(1) - this seems like it should be called from somewhere within Tomcat
class during initialization, but somehow it isn't called, and without this
line I get a NullPointerException

(2) - this is my solution to the problem I've described before; without
this line my app is only served on http://localhost:8080 but if I include
this line my app is available on http://localhost:8080,
http://127.0.0.1:8080 and all other assigned addresses like
http://192.168.1.1:8080 etc

2012/7/17 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Alexander,
>
> On 7/17/12 6:42 AM, Alexander Shutyaev wrote:
> > Ok, I've figured out it DOES listen on ALL addresses no matter
> > what hostname is, but somehow requests only succeed if they have
> > the hostname matching with the one set by Tomcat.setHostname(...)
> > (which is localhost by default). I'm not sure where the requests
> > fail, but they do.
>
> What happens when the requests don't "succeed"?
>
> If you have a connector bound to 0.0.0.0 (or ::) then it should accept
> connections on any interface.
>
> If you have a Host defined that is the default, then it should respond
> to all requests that don't match another Host.
>
> As long as you set the hostname before calling any of the more
> interesting methods, then the hostname you specify should be the
> default. If you set no hostname, then it will default to "localhost"
> and will be *the default Host* so everything should work.
>
> Please describe in more detail what happens. Also, if you could post
> your entire use of the Tomcat class, that would certainly help.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAlAFcLgACgkQ9CaO5/Lv0PCWCwCgidVx5uhVkpqk/rdSCnYeqbSl
> wMcAnR3fk//7SHueaNwH5SLv8U+mGDnU
> =C25J
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d0447a24306900004c50ac05e--

From users-return-235521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 00:20:46 2012
Return-Path: <users-return-235521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2192D4FC
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 00:20:46 +0000 (UTC)
Received: (qmail 69606 invoked by uid 500); 18 Jul 2012 00:20:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69564 invoked by uid 500); 18 Jul 2012 00:20:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69554 invoked by uid 99); 18 Jul 2012 00:20:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 00:20:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of latha.sivasubramaniam@aspect.com)
Received: from [216.6.210.37] (HELO bos1sophos4.aspect.com) (216.6.210.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 00:20:34 +0000
Received: from bos1sophos4.aspect.com (localhost.localdomain [127.0.0.1])
	by localhost (Email Security Appliance) with SMTP id 1DC8D6FBAD6_060189B
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 00:21:29 +0000 (GMT)
Received: from IOrelay.aspect.com (bos1hub02.aspect.com [10.129.5.49])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	by bos1sophos4.aspect.com (Sophos Email Appliance) with ESMTPS id BDB296FBAB9_060188F
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 00:21:28 +0000 (GMT)
Received: from BOS1MDB03.aspect.com ([fe80::5512:31dc:e9ff:77dd]) by
 BOS1HUB02.aspect.com ([10.129.5.49]) with mapi id 14.01.0289.001; Tue, 17 Jul
 2012 20:20:12 -0400
From: "Sivasubramaniam, Latha" <latha.sivasubramaniam@aspect.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Certificate chain does not seem to work and no errors in the tomcat
 logs
Thread-Topic: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Index: Ac1keXBubkP6ngovSiuf3acjnItznA==
Date: Wed, 18 Jul 2012 00:20:11 +0000
Message-ID: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.129.5.129]
Content-Type: multipart/alternative;
	boundary="_000_E45D7E266D032B48806886CF55A691E11C417C45BOS1MDB03aspect_"
MIME-Version: 1.0

--_000_E45D7E266D032B48806886CF55A691E11C417C45BOS1MDB03aspect_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I am having issues with the SSL certificate chain the https requests from t=
he IE8 browser does not get any response.  Following are the details and an=
y help is appreciated. This is in one of our customer implementation.

Tomcat version: 6.0.29
OS: Windows 2008
Browser: IE8
Ceritificate key size: 2048 and the server certificate is 4th level in the =
chain.

I have tried following different things.


*         Imported chain and the server certificate to my keystore and set =
keystore properties in the server.xml

*         Imported certificate chain to cacerts and imported server certifi=
cate to my own keystore and speficied keystore properties in the server.xml

*         Imported certificate chain to my own trusted keystore in addition=
 to the cacerts and server certificate to another keystore, specified both =
trustkeystore and keystore properties in the server.xml

None of the above is working.

I generated selfsigned certificate and that is working.

We have windows based components using the same certificate on the same ser=
ver, certificates imported on to the windows certmgr and those components a=
re working. But the same certificate is not working on the Java based compo=
nents.

I do not see any errors in the tomcat logs.

How can I get additional logging to see what is happening? Is there any kno=
wn issue with the certificate chain ( I did not find any in the bug list)

Any help is appreciated.

Thanks,
Latha







--_000_E45D7E266D032B48806886CF55A691E11C417C45BOS1MDB03aspect_--

From users-return-235522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 01:19:00 2012
Return-Path: <users-return-235522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 595949547
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 01:19:00 +0000 (UTC)
Received: (qmail 97531 invoked by uid 500); 18 Jul 2012 01:18:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97488 invoked by uid 500); 18 Jul 2012 01:18:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97477 invoked by uid 99); 18 Jul 2012 01:18:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 01:18:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of benjamin.muschko@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 01:18:50 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <benjamin.muschko@gmail.com>)
	id 1SrIuL-0006cG-IU
	for users@tomcat.apache.org; Tue, 17 Jul 2012 18:18:29 -0700
Date: Tue, 17 Jul 2012 18:18:29 -0700 (PDT)
From: Benjamin Muschko <benjamin.muschko@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1342574309561-4984163.post@n6.nabble.com>
In-Reply-To: <CABzHfV=Surpc54U5L6_XB3B3jQK659qxHJAE4sXA1Y0EoPo3ig@mail.gmail.com>
References: <1342393031568-4984104.post@n6.nabble.com> <CABzHfV=Surpc54U5L6_XB3B3jQK659qxHJAE4sXA1Y0EoPo3ig@mail.gmail.com>
Subject: Re: Embedded Tomcat 6 & 7 logging to file
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for clarifying it. That helped.

--
View this message in context: http://tomcat.10.n6.nabble.com/Embedded-Tomcat-6-7-logging-to-file-tp4984104p4984163.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 02:01:52 2012
Return-Path: <users-return-235523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4255DD26A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 02:01:52 +0000 (UTC)
Received: (qmail 98670 invoked by uid 500); 18 Jul 2012 02:01:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98614 invoked by uid 500); 18 Jul 2012 02:01:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98605 invoked by uid 99); 18 Jul 2012 02:01:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 02:01:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.91.89] (HELO nm19.bullet.mail.sp2.yahoo.com) (98.139.91.89)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 18 Jul 2012 02:01:42 +0000
Received: from [98.139.91.61] by nm19.bullet.mail.sp2.yahoo.com with NNFMP; 18 Jul 2012 02:01:21 -0000
Received: from [98.139.91.43] by tm1.bullet.mail.sp2.yahoo.com with NNFMP; 18 Jul 2012 02:01:21 -0000
Received: from [127.0.0.1] by omp1043.mail.sp2.yahoo.com with NNFMP; 18 Jul 2012 02:01:21 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 603298.92772.bm@omp1043.mail.sp2.yahoo.com
Received: (qmail 96343 invoked by uid 60001); 18 Jul 2012 02:01:20 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342576880; bh=n3j0PqT2dF9IEsn1SwDDSfROjQx+apj6PkWHuombQS0=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=1D5+QuVoDQN/k595fmN7tc2cXnT0LbKw3VMgEunzDI2SI7g/h2A6bKP8xPfGy4FgDo1u+KQF56JuiMNiWWT5Ez8sC2bggvWLWdzBszx5hV7cRgW2onl2EeDJCm55TDREhye+OssKWioyBhIkjcJvKUkY9c38Gi+hgPxGWIoXzVA=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=NxA0lXSimz4QPlVDuPEjVc611o6Bpnc8Ci8M4unVd1Q6dGXkgnPxc44gFRWue6e7XZoxQhyIJG8SqVQBzvmU2dXEqpggnY2Lptc0Tummk8GersJLIpF5AInuCeDUtBV8V801ThO7r0e89MTPQiuLzYiF2VhkhOOVEdWV2GtiJxY=;
X-YMail-OSG: jnHsr2QVM1mngpeTagSKcXGSNRkm_PGOS.weH1Gyk00nbHn
 QGgbVUWpvPF8rTZt6Tc6dgfZn_QKUYuKrbDJVOExn1BvHtJIdzsUa.Jvok6l
 Qb8HuHo_wQeGXSbxUsC11MhlFHE63egr1c5IOemNKIJckBYAT.myUcKX4XR0
 RLb_1oX7IU9S9yam4IK0DKoekAZ2ceL8rEfufe6.ovgs0na3RzVcvFVY6Zsn
 fRBh1O1y5fWcG.gAnEBsNKAx8JJYXykCG03jn0qkVkA4lGUTXoBSS6Q_1Gxn
 AJpNvs5c_a4iQKWXrOc9.lo.nJJ0.Yig761gFZfCoHmJciVvwImpvlrepvPN
 d6LbY2n6RBYek17No3IdZFs46KbGKzavDFds6ARAB8EVsfroUXbInBjcLNdV
 fodK5HbgWBIyVWKvFwRAueoHe.RoghCsSOG2R0Q--
Received: from [114.250.157.160] by web113314.mail.gq1.yahoo.com via HTTP; Tue, 17 Jul 2012 19:01:20 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <7215BA462D00D343B2837F9113F0131F0109D93E8B@POSTOFFICE02.polydyne.com> <287b1759-c7be-49a8-91e8-b43ec78e39a9@arizona.hanik.com>
Message-ID: <1342576880.96079.YahooMailNeo@web113314.mail.gq1.yahoo.com>
Date: Tue, 17 Jul 2012 19:01:20 -0700 (PDT)
From: Abduxkur Ablimit <sugar_xj@yahoo.com>
Reply-To: Abduxkur Ablimit <sugar_xj@yahoo.com>
Subject: Re: Poller & CometPoller general questions
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <287b1759-c7be-49a8-91e8-b43ec78e39a9@arizona.hanik.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1569264851-648304830-1342576880=:96079"
X-Virus-Checked: Checked by ClamAV on apache.org

---1569264851-648304830-1342576880=:96079
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

I think what we are looking for is here :=0A=0Ahttp://tomcat.apache.org/tom=
cat-7.0-doc/config/http.html#NIO_specific_configuration=0A=0AuseComet (bool=
)Whether to allow comet servlets or not. Default value is true.=0A=0AI set =
connetor attribute to false useComet to false,but did not work as I expecte=
d,=0A=0Astill created those :=0A=0ADaemon Thread [http-apr-80-Poller-4] (Ru=
nning)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-CometPoller-3] (Runn=
ing)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-Poller-3] (Running)=C2=
=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-Poller-5] (Running)=C2=A0=C2=
=A0=C2=A0 =0ADaemon Thread [http-apr-80-Poller-7] (Running)=C2=A0=C2=A0=C2=
=A0 =0ADaemon Thread [http-apr-80-Poller-0] (Running)=C2=A0=C2=A0=C2=A0 =0A=
Daemon Thread [http-apr-80-Poller-2] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon =
Thread [http-apr-80-CometPoller-4] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Th=
read [http-apr-80-Poller-1] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [h=
ttp-apr-80-CometPoller-1] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [htt=
p-apr-80-CometPoller-6] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-=
apr-80-CometPoller-5] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-ap=
r-80-CometPoller-7] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-=
80-CometPoller-2] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80=
-CometPoller-0] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-P=
oller-6] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-AsyncTim=
eout] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-Acceptor-0]=
 (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [http-apr-80-Sendfile-0] (Run=
ning)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-Poller-0] (Running)=
=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-Poller-1] (Running)=C2=A0=
=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-Poller-6] (Running)=C2=A0=C2=A0=
=C2=A0 =0ADaemon Thread [ajp-apr-8009-Poller-2] (Running)=C2=A0=C2=A0=C2=A0=
 =0ADaemon Thread [ajp-apr-8009-Poller-7] (Running)=C2=A0=C2=A0=C2=A0 =0ADa=
emon Thread [ajp-apr-8009-Poller-5] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon T=
hread [ajp-apr-8009-Poller-3] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread =
[ajp-apr-8009-CometPoller-2] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [=
ajp-apr-8009-CometPoller-5] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [a=
jp-apr-8009-Poller-4] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr=
-8009-CometPoller-6] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-=
8009-CometPoller-4] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8=
009-CometPoller-0] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-80=
09-AsyncTimeout] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009=
-CometPoller-3] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-=
Acceptor-0] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-Come=
tPoller-7] (Running)=C2=A0=C2=A0=C2=A0 =0ADaemon Thread [ajp-apr-8009-Comet=
Poller-1] (Running)=C2=A0=C2=A0=C2=A0 =0A=0A=0A=0A=0A=0A=0A=0A_____________=
___________________=0A From: Filip Hanik Mailing Lists <devlists@hanik.com>=
=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Wednesday, July=
 18, 2012 1:38 AM=0ASubject: Re: Poller & CometPoller general questions=0A =
=0AIn http://tomcat.apache.org/tomcat-7.0-doc/config/http.html=0Ayou can re=
ad about pollerThreadCount and useComet flags for the APR implementation.=
=0AYou don't need Comet unless you applications specifically are using it, =
most likely they are not.=0A=0AFilip=0A=0A=0A----- Original Message -----=
=0A> From: "Jeffrey Janner" <Jeffrey.Janner@PolyDyne.com>=0A> To: "Tomcat U=
sers List" <users@tomcat.apache.org>=0A> Sent: Friday, July 13, 2012 9:53:1=
4 AM=0A> Subject: Poller & CometPoller general questions=0A>=0A>=0A>=0A>=0A=
> I'm more curious here than there being a problem.=0A>=0A> Are the Poller =
& CometPoller threads necessary for Tomcat operation?=0A> If not, how to tu=
rn them off, and do I want to turn them off.=0A>=0A> Here's my scenario:=0A=
>=0A> Tomcat 6.0.33 with APR on Windows Server 2008 (regular and R2).=0A>=
=0A> Fairly normal server.xml, with generic <connector> implementation,=0A>=
 i.e., not explicitly specifying the protocol:=0A>=0A> <!--APR library load=
er. Documentation at /docs/apr.html -->=0A>=0A> <Listener className=3D"org.=
apache.catalina.core.AprLifecycleListener"=0A> SSLEngine=3D"on" />=0A>=0A> =
<Connector address=3D"172.16.1.1" port=3D"80" maxHttpHeaderSize=3D"8192"=0A=
>=0A> maxThreads=3D"10" enableLookups=3D"false" redirectPort=3D"443"=0A> ac=
ceptCount=3D"100"=0A>=0A> connectionTimeout=3D"20000" disableUploadTimeout=
=3D"true" />=0A>=0A> <Connector address=3D"172.16.1.1" port=3D"443" maxHttp=
HeaderSize=3D"8192"=0A>=0A> maxThreads=3D"100" enableLookups=3D"false" acce=
ptCount=3D"100"=0A>=0A> connectionTimeout=3D"20000" disableUploadTimeout=3D=
"true"=0A>=0A> scheme=3D"https" secure=3D"true" SSLEnabled=3D"true"=0A>=0A>=
 SSLCertificateFile=3D"path to server.crt"=0A>=0A> SSLCertificateKeyFile=3D=
" path to server.key"=0A>=0A> SSLCertificateChainFile=3D" path to _chain.cr=
t"=0A>=0A> SSLPassword=3D"password" />=0A>=0A> Web.xml is set up to force e=
verything to HTTPS:=0A>=0A> <user-data-constraint>=0A>=0A> <transport-guara=
ntee>CONFIDENTIAL</transport-guarantee>=0A>=0A> </user-data-constraint>=0A>=
=0A>=0A>=0A> So Tomcat starts up and creates, in my case, 32 poller threads=
, 8=0A> poller and 8 cometpoller for each connector.=0A>=0A> Now, I know th=
ese just sit around waiting on AprEndpoint$Poller,=0A> basically doing noth=
ing and really causing no harm, other than=0A> taking up some threads out o=
f my available threadpool.=0A>=0A> I pretty sure we don=E2=80=99t use Comet=
, so I'd like to turn those off, but=0A> it's not clear in the documentatio=
n that I can, only looks like=0A> there are controls for the NIO connector.=
=0A>=0A> What, if anything, would the standard Poller threads be used for?=
=0A>=0A> Since everything gets forwarded to HTTPS, the HTTP poller threads=
=0A> seam exceptionally useless.=0A>=0A>=0A>=0A> Jeffrey Janner=0A>=0A> Sr.=
 Network Administrator=0A>=0A> jeffrey.janner@polydyne.com=0A>=0A> PolyDyne=
 Software Inc.=0A>=0A> Main: 512.343.9100=0A>=0A> Direct: 512.583.8930=0A>=
=0A>=0A>=0A> cid:image002.png@01CC0FB7.4FF43CE0=0A>=0A>=0A>=0A> Speed, Inte=
lligence & Savings in Sourcing=0A>=0A>=0A>=0A>=0A> ________________________=
__________________________________________________=0A>=0A> Confidentiality =
Notice: This Transmission (including any attachments)=0A> may contain infor=
mation that is privileged, confidential, and exempt=0A> from disclosure und=
er applicable law. If the reader of this message=0A> is not the intended re=
cipient you are hereby notified that any=0A> dissemination, distribution, o=
r copying of this communication is=0A> strictly prohibited.=0A>=0A> If you =
have received this transmission in error, please immediately=0A> reply to t=
he sender or telephone (512) 343-9100 and delete this=0A> transmission from=
 your system.=0A>=0A=0A----------------------------------------------------=
-----------------=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache=
.org=0AFor additional commands, e-mail: users-help@tomcat.apache.org
---1569264851-648304830-1342576880=:96079--

From users-return-235524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 09:34:28 2012
Return-Path: <users-return-235524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6908BD170
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 09:34:28 +0000 (UTC)
Received: (qmail 13659 invoked by uid 500); 18 Jul 2012 09:34:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13602 invoked by uid 500); 18 Jul 2012 09:34:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13580 invoked by uid 99); 18 Jul 2012 09:34:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 09:34:23 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=NORMAL_HTTP_TO_IP,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 09:34:14 +0000
Received: from [192.168.245.129] (p549E8DA4.dip0.t-ipconnect.de [84.158.141.164])
	by tor.combios.es (Postfix) with ESMTPA id 07C4EDA04AE
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 11:33:52 +0200 (CEST)
Message-ID: <500682FB.1020907@ice-sa.com>
Date: Wed, 18 Jul 2012 11:33:47 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>	<CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>	<500570B8.3030309@christopherschultz.net> <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
In-Reply-To: <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Alexander Shutyaev wrote:
> Hi Christopher,
> 
> I've found a solution to my problem although I believe it's more accurate
> to say I guessed it :) Maybe you'll be able to explain it to me. Here is
> the complete code:
> 
> Tomcat tomcat = new Tomcat();
> tomcat.setBaseDir(baseDir);
> tomcat.getConnector().setPort(8080);
> tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
> tomcat.getEngine(); // (1)
> tomcat.init();
> tomcat.getHost().addAlias("127.0.0.1"); // (2)
> tomcat.start();
> tomcat.addWebapp("", path);
> 
> (1) - this seems like it should be called from somewhere within Tomcat
> class during initialization, but somehow it isn't called, and without this
> line I get a NullPointerException
> 
> (2) - this is my solution to the problem I've described before; without
> this line my app is only served on http://localhost:8080 but if I include
> this line my app is available on http://localhost:8080,
> http://127.0.0.1:8080 and all other assigned addresses like
> http://192.168.1.1:8080 etc
> 
Hi.
I have absolutely no idea how this really works, but I note that in server.xml, the 
"default host" is an attribute of the <Engine> tag :
<Engine name="Catalina" defaultHost="localhost">
So maybe somehow by doing (1) above, the consequences are a bit deeper than just avoiding 
the NullPointerException.

I don't find in the on-line documentation a description of how Tomcat exactly matches HTTP 
requests to <Host> names, but the general logic in webservers is something like :
- consider the "Host:" header of the request
- try to match it to one of the defined hostnames in the server configuration
- if it matches, then handle this request as per the configuration of that (virtual) host
- if it doesn't match, then handle the request with the configuration of whatever <Host> 
is defined as the default Host.

In Apache httpd, if you have a single Host defined, it automatically becomes the default 
Host.  In Tomcat however, even if you have a single Host defined, it is not automatically 
the default Host.  You must explcitly name this default Host in the "defaultHost" 
attribute of the <Engine> tag.
So maybe your (1) above initialises some internal structure which fills in the "default 
host" value.

Anyway, if the Engine's defaultHost is set correctly (to "localhost" e.g.), then you 
should not normally need to add the "127.0.0.1" Alias (as all requests should default to 
that defaultHost anyway).
So to me, there is still something somewhat unsatisfactory in having to do (2) above.

(But I am definitely not saying this as a Java or Tomcat/Java expert)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 09:50:14 2012
Return-Path: <users-return-235525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1647BD1BF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 09:50:14 +0000 (UTC)
Received: (qmail 47455 invoked by uid 500); 18 Jul 2012 09:50:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47383 invoked by uid 500); 18 Jul 2012 09:50:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47345 invoked by uid 99); 18 Jul 2012 09:50:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 09:50:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shutyaev@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 09:50:04 +0000
Received: by yhpp34 with SMTP id p34so1769544yhp.18
        for <users@tomcat.apache.org>; Wed, 18 Jul 2012 02:49:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vWJDdrkB9p1B5aKZgn+BYBD1KOVVSKwqPlKv5UzDdP4=;
        b=ZOfhD/IXkyJWcg0Ae4LQGzlUMcbKblsUiwj7tjd8LG3qGL+Woi40GySjDH/QziVpyM
         fEFNh/p4cGT3SJva31mYfVT9UFkNI83Bj33Db/x8cVQYCvnh3yFG18YI5j50qF0g2em5
         kLk5mlnL2BTUy18vX2rcCpuzmY4Ol/clw73gUqo1TMyoT4HqqIoN2jY3ELTyzXt0jqqb
         ci2oRXFBOrm2AC4haNjYHjirNsODfGOz9yTO+Q1pEgQEt/OWOMX0IvUj6GlDlhClI843
         ygR6mzGvt1k0Q2VpVDKeKZoJIzRH4yUEz28qbQi9mFkrqAEedQxl5tg6jSc8ZeAR0jnF
         2fQA==
MIME-Version: 1.0
Received: by 10.50.188.131 with SMTP id ga3mr1306182igc.54.1342604984192; Wed,
 18 Jul 2012 02:49:44 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Wed, 18 Jul 2012 02:49:44 -0700 (PDT)
In-Reply-To: <500682FB.1020907@ice-sa.com>
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
	<CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
	<500570B8.3030309@christopherschultz.net>
	<CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
	<500682FB.1020907@ice-sa.com>
Date: Wed, 18 Jul 2012 13:49:44 +0400
Message-ID: <CAGBp8g_MgobkxcCBiVxQuTh1H-BQOOEyFn4W4LZ42j-owJ7R6w@mail.gmail.com>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
From: Alexander Shutyaev <shutyaev@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93411572810a104c51795a3
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae93411572810a104c51795a3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Andr=C3=A9,

Thanks for your suggestion. I've changed (1) to

tomcat.getEngine().setDefaultHost(tomcat.getHost().getName());

and removed (2). It also works this way and the code seems more adequate.
Thanks again!

2012/7/18 Andr=C3=A9 Warnier <aw@ice-sa.com>

> Alexander Shutyaev wrote:
>
>> Hi Christopher,
>>
>> I've found a solution to my problem although I believe it's more accurat=
e
>> to say I guessed it :) Maybe you'll be able to explain it to me. Here is
>> the complete code:
>>
>> Tomcat tomcat =3D new Tomcat();
>> tomcat.setBaseDir(baseDir);
>> tomcat.getConnector().setPort(**8080);
>> tomcat.getServer().**setParentClassLoader(getClass(**).getClassLoader())=
;
>> tomcat.getEngine(); // (1)
>> tomcat.init();
>> tomcat.getHost().addAlias("**127.0.0.1"); // (2)
>> tomcat.start();
>> tomcat.addWebapp("", path);
>>
>> (1) - this seems like it should be called from somewhere within Tomcat
>> class during initialization, but somehow it isn't called, and without th=
is
>> line I get a NullPointerException
>>
>> (2) - this is my solution to the problem I've described before; without
>> this line my app is only served on http://localhost:8080 but if I includ=
e
>> this line my app is available on http://localhost:8080,
>> http://127.0.0.1:8080 and all other assigned addresses like
>> http://192.168.1.1:8080 etc
>>
>>  Hi.
> I have absolutely no idea how this really works, but I note that in
> server.xml, the "default host" is an attribute of the <Engine> tag :
> <Engine name=3D"Catalina" defaultHost=3D"localhost">
> So maybe somehow by doing (1) above, the consequences are a bit deeper
> than just avoiding the NullPointerException.
>
> I don't find in the on-line documentation a description of how Tomcat
> exactly matches HTTP requests to <Host> names, but the general logic in
> webservers is something like :
> - consider the "Host:" header of the request
> - try to match it to one of the defined hostnames in the server
> configuration
> - if it matches, then handle this request as per the configuration of tha=
t
> (virtual) host
> - if it doesn't match, then handle the request with the configuration of
> whatever <Host> is defined as the default Host.
>
> In Apache httpd, if you have a single Host defined, it automatically
> becomes the default Host.  In Tomcat however, even if you have a single
> Host defined, it is not automatically the default Host.  You must explcit=
ly
> name this default Host in the "defaultHost" attribute of the <Engine> tag=
.
> So maybe your (1) above initialises some internal structure which fills i=
n
> the "default host" value.
>
> Anyway, if the Engine's defaultHost is set correctly (to "localhost"
> e.g.), then you should not normally need to add the "127.0.0.1" Alias (as
> all requests should default to that defaultHost anyway).
> So to me, there is still something somewhat unsatisfactory in having to d=
o
> (2) above.
>
> (But I am definitely not saying this as a Java or Tomcat/Java expert)
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae93411572810a104c51795a3--

From users-return-235526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 15:25:11 2012
Return-Path: <users-return-235526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27558D2DB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 15:25:11 +0000 (UTC)
Received: (qmail 47907 invoked by uid 500); 18 Jul 2012 15:25:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47812 invoked by uid 500); 18 Jul 2012 15:25:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47797 invoked by uid 99); 18 Jul 2012 15:25:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 15:25:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 15:24:59 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id bmFB1j00H17dt5G53rQgmG; Wed, 18 Jul 2012 15:24:40 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id brQn1j00J38FjT13ZrQqWS; Wed, 18 Jul 2012 15:24:50 +0000
Message-ID: <5006D536.1030409@christopherschultz.net>
Date: Wed, 18 Jul 2012 11:24:38 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>	<CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>	<500570B8.3030309@christopherschultz.net> <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com> <500682FB.1020907@ice-sa.com>
In-Reply-To: <500682FB.1020907@ice-sa.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

André,

On 7/18/12 5:33 AM, André Warnier wrote:
> I don't find in the on-line documentation a description of how
> Tomcat exactly matches HTTP requests to <Host> names, but the
> general logic in webservers is something like : - consider the
> "Host:" header of the request - try to match it to one of the
> defined hostnames in the server configuration - if it matches, then
> handle this request as per the configuration of that (virtual)
> host - if it doesn't match, then handle the request with the
> configuration of whatever <Host> is defined as the default Host.

This is correct.

> In Apache httpd, if you have a single Host defined, it
> automatically becomes the default Host.  In Tomcat however, even if
> you have a single Host defined, it is not automatically the default
> Host.  You must explcitly name this default Host in the
> "defaultHost" attribute of the <Engine> tag.

I'll have to check on this: I think there is a *default* default host
(which may be the only host, though it might be possible to specify
that there is no default Host and therefore requests that don't match
a Host are ... dropped? 400? I dunno: the OP still won't tell us what
the failure behavior is.

> So maybe your (1) above initialises some internal structure which
> fills in the "default host" value.

The default value for the host is "localhost". Calling getEngine()
ultimately calls getHost() which provides the default Host
("localhost") and the default hostname ("localhost"). The code for the
Tomcat class is very readable.

> Anyway, if the Engine's defaultHost is set correctly (to
> "localhost" e.g.), then you should not normally need to add the
> "127.0.0.1" Alias (as all requests should default to that
> defaultHost anyway). So to me, there is still something somewhat
> unsatisfactory in having to do (2) above.

I wonder if calling start() before calling addWebapp() is part of the
problem.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAG1TYACgkQ9CaO5/Lv0PBMiACePr+Bw01NwN5POGBJgCpa03n1
nesAn1cbQ8/8fsVWQuAfPFnmVZjTa9zu
=e0dw
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 15:40:06 2012
Return-Path: <users-return-235527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B790CD891
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 15:40:06 +0000 (UTC)
Received: (qmail 98999 invoked by uid 500); 18 Jul 2012 15:40:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98951 invoked by uid 500); 18 Jul 2012 15:40:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98939 invoked by uid 99); 18 Jul 2012 15:40:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 15:40:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 15:39:55 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id brV21j0011YDfWL5Arfdi8; Wed, 18 Jul 2012 15:39:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id brfQ1j00R38FjT13grfR0p; Wed, 18 Jul 2012 15:39:26 +0000
Message-ID: <5006D8B8.40203@christopherschultz.net>
Date: Wed, 18 Jul 2012 11:39:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Certificate chain does not seem to work and no errors in the
 tomcat logs
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
In-Reply-To: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Latha,

On 7/17/12 8:20 PM, Sivasubramaniam, Latha wrote:
> I am having issues with the SSL certificate chain the https
> requests from the IE8 browser does not get any response.  Following
> are the details and any help is appreciated. This is in one of our
> customer implementation.
> 
> Tomcat version: 6.0.29 OS: Windows 2008 Browser: IE8 Ceritificate
> key size: 2048 and the server certificate is 4th level in the
> chain.

What about other web browsers? Is it only MSIE8 that is giving you
problems, or can you not connect from any browser/client?

> I have tried following different things.
> 
> *         Imported chain and the server certificate to my keystore 
> and set keystore properties in the server.xml

Please post your <Connector> configuration. Also, are you using APR
for SSL?

When you imported the certificate chain, did you import all 4
certificates? (You may not need the top-level CA one, as it was
probably already trusted by the JVM).

> *         Imported certificate chain to cacerts and imported
> server certificate to my own keystore and speficied keystore
> properties in the server.xml
> 
> *         Imported certificate chain to my own trusted keystore in 
> addition to the cacerts and server certificate to another
> keystore, specified both trustkeystore and keystore properties in
> the server.xml
> 
> None of the above is working.
> 
> I generated selfsigned certificate and that is working.

That is good to know.

> We have windows based components using the same certificate on the 
> same server, certificates imported on to the windows certmgr and 
> those components are working. But the same certificate is not
> working on the Java based components.
> 
> I do not see any errors in the tomcat logs.

Do you get any output at all when you launch Tomcat?

> How can I get additional logging to see what is happening? Is
> there any known issue with the certificate chain ( I did not find
> any in the bug list)

You can change the log level from INFO to DEBUG or FINE. Look at
conf/logging.properties.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAG2LcACgkQ9CaO5/Lv0PCuNACaAq0VJe9jm9noc2CeLFrwqB/F
q/8AnieQE0bUS4mnooudOy79pGJWCzzJ
=wEtL
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 16:26:14 2012
Return-Path: <users-return-235528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59F499757
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 16:26:14 +0000 (UTC)
Received: (qmail 58986 invoked by uid 500); 18 Jul 2012 16:26:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58933 invoked by uid 500); 18 Jul 2012 16:26:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58922 invoked by uid 99); 18 Jul 2012 16:26:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 16:26:10 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of latha.sivasubramaniam@aspect.com)
Received: from [216.6.210.38] (HELO bos1sophos5.aspect.com) (216.6.210.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 16:26:04 +0000
Received: from bos1sophos5.aspect.com (localhost.localdomain [127.0.0.1])
	by localhost (Email Security Appliance) with SMTP id 7682B1511315_06E3D6B
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 16:27:02 +0000 (GMT)
Received: from IOrelay.aspect.com (bos1hub01.aspect.com [10.129.5.46])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	by bos1sophos5.aspect.com (Sophos Email Appliance) with ESMTPS id 3BA411511310_06E3D6F
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 16:27:02 +0000 (GMT)
Received: from BOS1MDB03.aspect.com ([fe80::5512:31dc:e9ff:77dd]) by
 BOS1HUB01.aspect.com ([10.129.5.46]) with mapi id 14.01.0289.001; Wed, 18 Jul
 2012 12:25:43 -0400
From: "Sivasubramaniam, Latha" <latha.sivasubramaniam@aspect.com>
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Samala, Praveen" <Praveen.Samala@Aspect.com>, Pandurangan Krishnakumar
	<krishnakumar.pandurangan@aspect.com>
Subject: RE: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Topic: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Index: Ac1keXBubkP6ngovSiuf3acjnItznAAo5+IAAAcMYmA=
Date: Wed, 18 Jul 2012 16:25:41 +0000
Message-ID: <E45D7E266D032B48806886CF55A691E11C418FAA@BOS1MDB03.aspect.com>
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
 <5006D8B8.40203@christopherschultz.net>
In-Reply-To: <5006D8B8.40203@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.129.5.129]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

VGhhbmtzIGZvciB5b3VyICByZXNwb25zZSBDaHJpc3RvcGhlci4gDQoNCldlIGhhdmUgcmVxdWVz
dGVkIGN1c3RvbWVyIHRvIGluc3RhbGwgZmlyZWZveC4gIFdlIGFyZSB1c2luZyBTU0wgYW5kIEkg
d2lsbCBnZXQgdGhlIGNvbm5lY3RvciBjb25maWd1cmF0aW9uIG9uY2UgSSBnZXQgYWNjZXNzIHRv
IHRoZSBzeXN0ZW0uIA0KTG9nIGxldmVsIGlzIGNoYW5nZWQgdG8gRklORSBpbiB0aGUgbG9nZ2lu
Zy5wcm9wZXJ0aWVzIGJ1dCB3ZSBkb24ndCBzZWVtIHRvIGdldCBhbnl0aGluZyByZWxhdGVkIHRv
IHRoZSBjZXJ0aWZpY2F0ZSBhbmQgdGhlIHNhbWUgd2hlbiB3ZSBzdGFydCB0b21jYXQuIEkgd2ls
bCBjaGVjayB0aGUgbG9nIGNvbnRlbnRzIGFuZCBwb3N0IGlmIHRoZSByZWxldmFudCBsaW5lcy4N
Cg0KVGhhbmtzLA0KTGF0aGENCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IENo
cmlzdG9waGVyIFNjaHVsdHogW21haWx0bzpjaHJpc0BjaHJpc3RvcGhlcnNjaHVsdHoubmV0XSAN
ClNlbnQ6IFdlZG5lc2RheSwgSnVseSAxOCwgMjAxMiA4OjQwIEFNDQpUbzogVG9tY2F0IFVzZXJz
IExpc3QNClN1YmplY3Q6IFJlOiBDZXJ0aWZpY2F0ZSBjaGFpbiBkb2VzIG5vdCBzZWVtIHRvIHdv
cmsgYW5kIG5vIGVycm9ycyBpbiB0aGUgdG9tY2F0IGxvZ3MNCg0KLS0tLS1CRUdJTiBQR1AgU0lH
TkVEIE1FU1NBR0UtLS0tLQ0KSGFzaDogU0hBMQ0KDQpMYXRoYSwNCg0KT24gNy8xNy8xMiA4OjIw
IFBNLCBTaXZhc3VicmFtYW5pYW0sIExhdGhhIHdyb3RlOg0KPiBJIGFtIGhhdmluZyBpc3N1ZXMg
d2l0aCB0aGUgU1NMIGNlcnRpZmljYXRlIGNoYWluIHRoZSBodHRwcyByZXF1ZXN0cyANCj4gZnJv
bSB0aGUgSUU4IGJyb3dzZXIgZG9lcyBub3QgZ2V0IGFueSByZXNwb25zZS4gIEZvbGxvd2luZyBh
cmUgdGhlIA0KPiBkZXRhaWxzIGFuZCBhbnkgaGVscCBpcyBhcHByZWNpYXRlZC4gVGhpcyBpcyBp
biBvbmUgb2Ygb3VyIGN1c3RvbWVyIA0KPiBpbXBsZW1lbnRhdGlvbi4NCj4gDQo+IFRvbWNhdCB2
ZXJzaW9uOiA2LjAuMjkgT1M6IFdpbmRvd3MgMjAwOCBCcm93c2VyOiBJRTggQ2VyaXRpZmljYXRl
IGtleSANCj4gc2l6ZTogMjA0OCBhbmQgdGhlIHNlcnZlciBjZXJ0aWZpY2F0ZSBpcyA0dGggbGV2
ZWwgaW4gdGhlIGNoYWluLg0KDQpXaGF0IGFib3V0IG90aGVyIHdlYiBicm93c2Vycz8gSXMgaXQg
b25seSBNU0lFOCB0aGF0IGlzIGdpdmluZyB5b3UgcHJvYmxlbXMsIG9yIGNhbiB5b3Ugbm90IGNv
bm5lY3QgZnJvbSBhbnkgYnJvd3Nlci9jbGllbnQ/DQoNCj4gSSBoYXZlIHRyaWVkIGZvbGxvd2lu
ZyBkaWZmZXJlbnQgdGhpbmdzLg0KPiANCj4gKiAgICAgICAgIEltcG9ydGVkIGNoYWluIGFuZCB0
aGUgc2VydmVyIGNlcnRpZmljYXRlIHRvIG15IGtleXN0b3JlIA0KPiBhbmQgc2V0IGtleXN0b3Jl
IHByb3BlcnRpZXMgaW4gdGhlIHNlcnZlci54bWwNCg0KUGxlYXNlIHBvc3QgeW91ciA8Q29ubmVj
dG9yPiBjb25maWd1cmF0aW9uLiBBbHNvLCBhcmUgeW91IHVzaW5nIEFQUiBmb3IgU1NMPw0KDQpX
aGVuIHlvdSBpbXBvcnRlZCB0aGUgY2VydGlmaWNhdGUgY2hhaW4sIGRpZCB5b3UgaW1wb3J0IGFs
bCA0IGNlcnRpZmljYXRlcz8gKFlvdSBtYXkgbm90IG5lZWQgdGhlIHRvcC1sZXZlbCBDQSBvbmUs
IGFzIGl0IHdhcyBwcm9iYWJseSBhbHJlYWR5IHRydXN0ZWQgYnkgdGhlIEpWTSkuDQoNCj4gKiAg
ICAgICAgIEltcG9ydGVkIGNlcnRpZmljYXRlIGNoYWluIHRvIGNhY2VydHMgYW5kIGltcG9ydGVk
DQo+IHNlcnZlciBjZXJ0aWZpY2F0ZSB0byBteSBvd24ga2V5c3RvcmUgYW5kIHNwZWZpY2llZCBr
ZXlzdG9yZSANCj4gcHJvcGVydGllcyBpbiB0aGUgc2VydmVyLnhtbA0KPiANCj4gKiAgICAgICAg
IEltcG9ydGVkIGNlcnRpZmljYXRlIGNoYWluIHRvIG15IG93biB0cnVzdGVkIGtleXN0b3JlIGlu
IA0KPiBhZGRpdGlvbiB0byB0aGUgY2FjZXJ0cyBhbmQgc2VydmVyIGNlcnRpZmljYXRlIHRvIGFu
b3RoZXIga2V5c3RvcmUsIA0KPiBzcGVjaWZpZWQgYm90aCB0cnVzdGtleXN0b3JlIGFuZCBrZXlz
dG9yZSBwcm9wZXJ0aWVzIGluIHRoZSBzZXJ2ZXIueG1sDQo+IA0KPiBOb25lIG9mIHRoZSBhYm92
ZSBpcyB3b3JraW5nLg0KPiANCj4gSSBnZW5lcmF0ZWQgc2VsZnNpZ25lZCBjZXJ0aWZpY2F0ZSBh
bmQgdGhhdCBpcyB3b3JraW5nLg0KDQpUaGF0IGlzIGdvb2QgdG8ga25vdy4NCg0KPiBXZSBoYXZl
IHdpbmRvd3MgYmFzZWQgY29tcG9uZW50cyB1c2luZyB0aGUgc2FtZSBjZXJ0aWZpY2F0ZSBvbiB0
aGUgDQo+IHNhbWUgc2VydmVyLCBjZXJ0aWZpY2F0ZXMgaW1wb3J0ZWQgb24gdG8gdGhlIHdpbmRv
d3MgY2VydG1nciBhbmQgdGhvc2UgDQo+IGNvbXBvbmVudHMgYXJlIHdvcmtpbmcuIEJ1dCB0aGUg
c2FtZSBjZXJ0aWZpY2F0ZSBpcyBub3Qgd29ya2luZyBvbiB0aGUgDQo+IEphdmEgYmFzZWQgY29t
cG9uZW50cy4NCj4gDQo+IEkgZG8gbm90IHNlZSBhbnkgZXJyb3JzIGluIHRoZSB0b21jYXQgbG9n
cy4NCg0KRG8geW91IGdldCBhbnkgb3V0cHV0IGF0IGFsbCB3aGVuIHlvdSBsYXVuY2ggVG9tY2F0
Pw0KDQo+IEhvdyBjYW4gSSBnZXQgYWRkaXRpb25hbCBsb2dnaW5nIHRvIHNlZSB3aGF0IGlzIGhh
cHBlbmluZz8gSXMgdGhlcmUgDQo+IGFueSBrbm93biBpc3N1ZSB3aXRoIHRoZSBjZXJ0aWZpY2F0
ZSBjaGFpbiAoIEkgZGlkIG5vdCBmaW5kIGFueSBpbiB0aGUgDQo+IGJ1ZyBsaXN0KQ0KDQpZb3Ug
Y2FuIGNoYW5nZSB0aGUgbG9nIGxldmVsIGZyb20gSU5GTyB0byBERUJVRyBvciBGSU5FLiBMb29r
IGF0IGNvbmYvbG9nZ2luZy5wcm9wZXJ0aWVzLg0KDQotIC1jaHJpcw0KLS0tLS1CRUdJTiBQR1Ag
U0lHTkFUVVJFLS0tLS0NClZlcnNpb246IEdudVBHL01hY0dQRzIgdjIuMC4xNyAoRGFyd2luKQ0K
Q29tbWVudDogR1BHVG9vbHMgLSBodHRwOi8vZ3BndG9vbHMub3JnDQpDb21tZW50OiBVc2luZyBH
bnVQRyB3aXRoIE1vemlsbGEgLSBodHRwOi8vZW5pZ21haWwubW96ZGV2Lm9yZy8NCg0KaUVZRUFS
RUNBQVlGQWxBRzJMY0FDZ2tROUNhTzUvTHYwUEN1TkFDYUFxMFZKZTlqbTlub2MyQ2VMRnJ3cUIv
Rg0KcS84QW5pZVFFMGJVUzRtbm9vdWRPeTc5cEdKV0N6ekoNCj13RXRMDQotLS0tLUVORCBQR1Ag
U0lHTkFUVVJFLS0tLS0NCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1
c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFu
ZHMsIGUtbWFpbDogdXNlcnMtaGVscEB0b21jYXQuYXBhY2hlLm9yZw0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 20:55:59 2012
Return-Path: <users-return-235529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8066DDA5C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 20:55:59 +0000 (UTC)
Received: (qmail 12009 invoked by uid 500); 18 Jul 2012 20:55:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11972 invoked by uid 500); 18 Jul 2012 20:55:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11963 invoked by uid 99); 18 Jul 2012 20:55:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 20:55:55 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of latha.sivasubramaniam@aspect.com)
Received: from [216.6.210.38] (HELO bos1sophos5.aspect.com) (216.6.210.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 20:55:49 +0000
Received: from bos1sophos5.aspect.com (localhost.localdomain [127.0.0.1])
	by localhost (Email Security Appliance) with SMTP id 624A013C250A_072310B
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 20:56:48 +0000 (GMT)
Received: from IOrelay.aspect.com (bos1hub02.aspect.com [10.129.5.49])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	by bos1sophos5.aspect.com (Sophos Email Appliance) with ESMTPS id 0C69E13C2505_072310F
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 20:56:48 +0000 (GMT)
Received: from BOS1MDB03.aspect.com ([fe80::5512:31dc:e9ff:77dd]) by
 BOS1HUB02.aspect.com ([10.129.5.49]) with mapi id 14.01.0289.001; Wed, 18 Jul
 2012 16:55:27 -0400
From: "Sivasubramaniam, Latha" <latha.sivasubramaniam@aspect.com>
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Samala, Praveen" <Praveen.Samala@Aspect.com>, Pandurangan Krishnakumar
	<krishnakumar.pandurangan@aspect.com>
Subject: RE: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Topic: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Index: Ac1keXBubkP6ngovSiuf3acjnItznAAo5+IAAAcMYmAABHOwEA==
Date: Wed, 18 Jul 2012 20:55:26 +0000
Message-ID: <E45D7E266D032B48806886CF55A691E11C41966C@BOS1MDB03.aspect.com>
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
 <5006D8B8.40203@christopherschultz.net> 
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.129.5.129]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

Q29ubmVjdG9yIHN0cmluZw0KDQoNCjxDb25uZWN0b3IgcG9ydD0iOTg4MyIgcHJvdG9jb2w9Im9y
Zy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFOaW9Qcm90b2NvbCIgbWF4SHR0cEhlYWRlclNp
emU9IjgxOTIiIFNTTEVuYWJsZWQ9InRydWUiIG1heFRocmVhZHM9IjgwMCIgZW5hYmxlTG9va3Vw
cz0iZmFsc2UiIGRpc2FibGVVcGxvYWRUaW1lb3V0PSJ0cnVlIiBhY2NlcHRDb3VudD0iMjAwIiBz
Y2hlbWU9Imh0dHBzIiBzZWN1cmU9InRydWUiIGNsaWVudEF1dGg9ImZhbHNlIiBVUklFbmNvZGlu
Zz0iVVRGLTgiIGtleXN0b3JlRmlsZT0iRDpcUHJvZ3JhbSBGaWxlcyAoeDg2KVxBc3BlY3QgU29m
dHdhcmVcUmVhbC1UaW1lIFJlcG9ydGluZyBTZXJ2ZXJcU3VuSlZNXGpyZVxsaWJcc2VjdXJpdHlc
a2V5c3RvcmVydHJzZWxmMjA0OC5qa3MiIGtleXN0b3JlUGFzcz0iY2hhbmdlaXQiIGtleXN0b3Jl
VHlwZT0iSktTIiAvPg0KDQpUaGFua3MsDQpMYXRoYQ0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2Ut
LS0tLQ0KRnJvbTogU2l2YXN1YnJhbWFuaWFtLCBMYXRoYSANClNlbnQ6IFdlZG5lc2RheSwgSnVs
eSAxOCwgMjAxMiA5OjI2IEFNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNCkNjOiBTYW1hbGEsIFBy
YXZlZW47IFBhbmR1cmFuZ2FuIEtyaXNobmFrdW1hcg0KU3ViamVjdDogUkU6IENlcnRpZmljYXRl
IGNoYWluIGRvZXMgbm90IHNlZW0gdG8gd29yayBhbmQgbm8gZXJyb3JzIGluIHRoZSB0b21jYXQg
bG9ncw0KDQpUaGFua3MgZm9yIHlvdXIgIHJlc3BvbnNlIENocmlzdG9waGVyLiANCg0KV2UgaGF2
ZSByZXF1ZXN0ZWQgY3VzdG9tZXIgdG8gaW5zdGFsbCBmaXJlZm94LiAgV2UgYXJlIHVzaW5nIFNT
TCBhbmQgSSB3aWxsIGdldCB0aGUgY29ubmVjdG9yIGNvbmZpZ3VyYXRpb24gb25jZSBJIGdldCBh
Y2Nlc3MgdG8gdGhlIHN5c3RlbS4gDQpMb2cgbGV2ZWwgaXMgY2hhbmdlZCB0byBGSU5FIGluIHRo
ZSBsb2dnaW5nLnByb3BlcnRpZXMgYnV0IHdlIGRvbid0IHNlZW0gdG8gZ2V0IGFueXRoaW5nIHJl
bGF0ZWQgdG8gdGhlIGNlcnRpZmljYXRlIGFuZCB0aGUgc2FtZSB3aGVuIHdlIHN0YXJ0IHRvbWNh
dC4gSSB3aWxsIGNoZWNrIHRoZSBsb2cgY29udGVudHMgYW5kIHBvc3QgaWYgdGhlIHJlbGV2YW50
IGxpbmVzLg0KDQpUaGFua3MsDQpMYXRoYQ0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0K
RnJvbTogQ2hyaXN0b3BoZXIgU2NodWx0eiBbbWFpbHRvOmNocmlzQGNocmlzdG9waGVyc2NodWx0
ei5uZXRdDQpTZW50OiBXZWRuZXNkYXksIEp1bHkgMTgsIDIwMTIgODo0MCBBTQ0KVG86IFRvbWNh
dCBVc2VycyBMaXN0DQpTdWJqZWN0OiBSZTogQ2VydGlmaWNhdGUgY2hhaW4gZG9lcyBub3Qgc2Vl
bSB0byB3b3JrIGFuZCBubyBlcnJvcnMgaW4gdGhlIHRvbWNhdCBsb2dzDQoNCi0tLS0tQkVHSU4g
UEdQIFNJR05FRCBNRVNTQUdFLS0tLS0NCkhhc2g6IFNIQTENCg0KTGF0aGEsDQoNCk9uIDcvMTcv
MTIgODoyMCBQTSwgU2l2YXN1YnJhbWFuaWFtLCBMYXRoYSB3cm90ZToNCj4gSSBhbSBoYXZpbmcg
aXNzdWVzIHdpdGggdGhlIFNTTCBjZXJ0aWZpY2F0ZSBjaGFpbiB0aGUgaHR0cHMgcmVxdWVzdHMg
DQo+IGZyb20gdGhlIElFOCBicm93c2VyIGRvZXMgbm90IGdldCBhbnkgcmVzcG9uc2UuICBGb2xs
b3dpbmcgYXJlIHRoZSANCj4gZGV0YWlscyBhbmQgYW55IGhlbHAgaXMgYXBwcmVjaWF0ZWQuIFRo
aXMgaXMgaW4gb25lIG9mIG91ciBjdXN0b21lciANCj4gaW1wbGVtZW50YXRpb24uDQo+IA0KPiBU
b21jYXQgdmVyc2lvbjogNi4wLjI5IE9TOiBXaW5kb3dzIDIwMDggQnJvd3NlcjogSUU4IENlcml0
aWZpY2F0ZSBrZXkNCj4gc2l6ZTogMjA0OCBhbmQgdGhlIHNlcnZlciBjZXJ0aWZpY2F0ZSBpcyA0
dGggbGV2ZWwgaW4gdGhlIGNoYWluLg0KDQpXaGF0IGFib3V0IG90aGVyIHdlYiBicm93c2Vycz8g
SXMgaXQgb25seSBNU0lFOCB0aGF0IGlzIGdpdmluZyB5b3UgcHJvYmxlbXMsIG9yIGNhbiB5b3Ug
bm90IGNvbm5lY3QgZnJvbSBhbnkgYnJvd3Nlci9jbGllbnQ/DQoNCj4gSSBoYXZlIHRyaWVkIGZv
bGxvd2luZyBkaWZmZXJlbnQgdGhpbmdzLg0KPiANCj4gKiAgICAgICAgIEltcG9ydGVkIGNoYWlu
IGFuZCB0aGUgc2VydmVyIGNlcnRpZmljYXRlIHRvIG15IGtleXN0b3JlIA0KPiBhbmQgc2V0IGtl
eXN0b3JlIHByb3BlcnRpZXMgaW4gdGhlIHNlcnZlci54bWwNCg0KUGxlYXNlIHBvc3QgeW91ciA8
Q29ubmVjdG9yPiBjb25maWd1cmF0aW9uLiBBbHNvLCBhcmUgeW91IHVzaW5nIEFQUiBmb3IgU1NM
Pw0KDQpXaGVuIHlvdSBpbXBvcnRlZCB0aGUgY2VydGlmaWNhdGUgY2hhaW4sIGRpZCB5b3UgaW1w
b3J0IGFsbCA0IGNlcnRpZmljYXRlcz8gKFlvdSBtYXkgbm90IG5lZWQgdGhlIHRvcC1sZXZlbCBD
QSBvbmUsIGFzIGl0IHdhcyBwcm9iYWJseSBhbHJlYWR5IHRydXN0ZWQgYnkgdGhlIEpWTSkuDQoN
Cj4gKiAgICAgICAgIEltcG9ydGVkIGNlcnRpZmljYXRlIGNoYWluIHRvIGNhY2VydHMgYW5kIGlt
cG9ydGVkDQo+IHNlcnZlciBjZXJ0aWZpY2F0ZSB0byBteSBvd24ga2V5c3RvcmUgYW5kIHNwZWZp
Y2llZCBrZXlzdG9yZSANCj4gcHJvcGVydGllcyBpbiB0aGUgc2VydmVyLnhtbA0KPiANCj4gKiAg
ICAgICAgIEltcG9ydGVkIGNlcnRpZmljYXRlIGNoYWluIHRvIG15IG93biB0cnVzdGVkIGtleXN0
b3JlIGluIA0KPiBhZGRpdGlvbiB0byB0aGUgY2FjZXJ0cyBhbmQgc2VydmVyIGNlcnRpZmljYXRl
IHRvIGFub3RoZXIga2V5c3RvcmUsIA0KPiBzcGVjaWZpZWQgYm90aCB0cnVzdGtleXN0b3JlIGFu
ZCBrZXlzdG9yZSBwcm9wZXJ0aWVzIGluIHRoZSBzZXJ2ZXIueG1sDQo+IA0KPiBOb25lIG9mIHRo
ZSBhYm92ZSBpcyB3b3JraW5nLg0KPiANCj4gSSBnZW5lcmF0ZWQgc2VsZnNpZ25lZCBjZXJ0aWZp
Y2F0ZSBhbmQgdGhhdCBpcyB3b3JraW5nLg0KDQpUaGF0IGlzIGdvb2QgdG8ga25vdy4NCg0KPiBX
ZSBoYXZlIHdpbmRvd3MgYmFzZWQgY29tcG9uZW50cyB1c2luZyB0aGUgc2FtZSBjZXJ0aWZpY2F0
ZSBvbiB0aGUgDQo+IHNhbWUgc2VydmVyLCBjZXJ0aWZpY2F0ZXMgaW1wb3J0ZWQgb24gdG8gdGhl
IHdpbmRvd3MgY2VydG1nciBhbmQgdGhvc2UgDQo+IGNvbXBvbmVudHMgYXJlIHdvcmtpbmcuIEJ1
dCB0aGUgc2FtZSBjZXJ0aWZpY2F0ZSBpcyBub3Qgd29ya2luZyBvbiB0aGUgDQo+IEphdmEgYmFz
ZWQgY29tcG9uZW50cy4NCj4gDQo+IEkgZG8gbm90IHNlZSBhbnkgZXJyb3JzIGluIHRoZSB0b21j
YXQgbG9ncy4NCg0KRG8geW91IGdldCBhbnkgb3V0cHV0IGF0IGFsbCB3aGVuIHlvdSBsYXVuY2gg
VG9tY2F0Pw0KDQo+IEhvdyBjYW4gSSBnZXQgYWRkaXRpb25hbCBsb2dnaW5nIHRvIHNlZSB3aGF0
IGlzIGhhcHBlbmluZz8gSXMgdGhlcmUgDQo+IGFueSBrbm93biBpc3N1ZSB3aXRoIHRoZSBjZXJ0
aWZpY2F0ZSBjaGFpbiAoIEkgZGlkIG5vdCBmaW5kIGFueSBpbiB0aGUgDQo+IGJ1ZyBsaXN0KQ0K
DQpZb3UgY2FuIGNoYW5nZSB0aGUgbG9nIGxldmVsIGZyb20gSU5GTyB0byBERUJVRyBvciBGSU5F
LiBMb29rIGF0IGNvbmYvbG9nZ2luZy5wcm9wZXJ0aWVzLg0KDQotIC1jaHJpcw0KLS0tLS1CRUdJ
TiBQR1AgU0lHTkFUVVJFLS0tLS0NClZlcnNpb246IEdudVBHL01hY0dQRzIgdjIuMC4xNyAoRGFy
d2luKQ0KQ29tbWVudDogR1BHVG9vbHMgLSBodHRwOi8vZ3BndG9vbHMub3JnDQpDb21tZW50OiBV
c2luZyBHbnVQRyB3aXRoIE1vemlsbGEgLSBodHRwOi8vZW5pZ21haWwubW96ZGV2Lm9yZy8NCg0K
aUVZRUFSRUNBQVlGQWxBRzJMY0FDZ2tROUNhTzUvTHYwUEN1TkFDYUFxMFZKZTlqbTlub2MyQ2VM
RnJ3cUIvRg0KcS84QW5pZVFFMGJVUzRtbm9vdWRPeTc5cEdKV0N6ekoNCj13RXRMDQotLS0tLUVO
RCBQR1AgU0lHTkFUVVJFLS0tLS0NCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwg
Y29tbWFuZHMsIGUtbWFpbDogdXNlcnMtaGVscEB0b21jYXQuYXBhY2hlLm9yZw0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 18 20:56:34 2012
Return-Path: <users-return-235530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2E3DDA6A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 18 Jul 2012 20:56:34 +0000 (UTC)
Received: (qmail 17459 invoked by uid 500); 18 Jul 2012 20:56:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17409 invoked by uid 500); 18 Jul 2012 20:56:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17400 invoked by uid 99); 18 Jul 2012 20:56:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 20:56:31 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (athena.apache.org: error in processing during lookup of latha.sivasubramaniam@aspect.com)
Received: from [216.6.210.37] (HELO bos1sophos4.aspect.com) (216.6.210.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jul 2012 20:56:26 +0000
Received: from bos1sophos4.aspect.com (localhost.localdomain [127.0.0.1])
	by localhost (Email Security Appliance) with SMTP id C25146BFF15_072335B
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 20:57:25 +0000 (GMT)
Received: from IOrelay.aspect.com (bos1hub02.aspect.com [10.129.5.49])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	by bos1sophos4.aspect.com (Sophos Email Appliance) with ESMTPS id 90D9C6BFF00_072335F
	for <users@tomcat.apache.org>; Wed, 18 Jul 2012 20:57:25 +0000 (GMT)
Received: from BOS1MDB03.aspect.com ([fe80::5512:31dc:e9ff:77dd]) by
 BOS1HUB02.aspect.com ([10.129.5.49]) with mapi id 14.01.0289.001; Wed, 18 Jul
 2012 16:56:05 -0400
From: "Sivasubramaniam, Latha" <latha.sivasubramaniam@aspect.com>
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Samala, Praveen" <Praveen.Samala@Aspect.com>, Pandurangan Krishnakumar
	<krishnakumar.pandurangan@aspect.com>
Subject: RE: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Topic: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Index: Ac1keXBubkP6ngovSiuf3acjnItznAAo5+IAAAcMYmAABHOwEAAI1wCg
Date: Wed, 18 Jul 2012 20:56:04 +0000
Message-ID: <E45D7E266D032B48806886CF55A691E11C41967E@BOS1MDB03.aspect.com>
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
 <5006D8B8.40203@christopherschultz.net>  
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.129.5.129]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

V2UgdHJpZWQgd2l0aCBGaXJlZm94LCB0aGF0IGRpZCBub3Qgd29yayBlaXRoZXIuDQoNCi0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBTaXZhc3VicmFtYW5pYW0sIExhdGhhIA0KU2Vu
dDogV2VkbmVzZGF5LCBKdWx5IDE4LCAyMDEyIDE6NTUgUE0NClRvOiAnVG9tY2F0IFVzZXJzIExp
c3QnDQpDYzogU2FtYWxhLCBQcmF2ZWVuOyBQYW5kdXJhbmdhbiBLcmlzaG5ha3VtYXINClN1Ympl
Y3Q6IFJFOiBDZXJ0aWZpY2F0ZSBjaGFpbiBkb2VzIG5vdCBzZWVtIHRvIHdvcmsgYW5kIG5vIGVy
cm9ycyBpbiB0aGUgdG9tY2F0IGxvZ3MNCg0KQ29ubmVjdG9yIHN0cmluZw0KDQoNCjxDb25uZWN0
b3IgcG9ydD0iOTg4MyIgcHJvdG9jb2w9Im9yZy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFO
aW9Qcm90b2NvbCIgbWF4SHR0cEhlYWRlclNpemU9IjgxOTIiIFNTTEVuYWJsZWQ9InRydWUiIG1h
eFRocmVhZHM9IjgwMCIgZW5hYmxlTG9va3Vwcz0iZmFsc2UiIGRpc2FibGVVcGxvYWRUaW1lb3V0
PSJ0cnVlIiBhY2NlcHRDb3VudD0iMjAwIiBzY2hlbWU9Imh0dHBzIiBzZWN1cmU9InRydWUiIGNs
aWVudEF1dGg9ImZhbHNlIiBVUklFbmNvZGluZz0iVVRGLTgiIGtleXN0b3JlRmlsZT0iRDpcUHJv
Z3JhbSBGaWxlcyAoeDg2KVxBc3BlY3QgU29mdHdhcmVcUmVhbC1UaW1lIFJlcG9ydGluZyBTZXJ2
ZXJcU3VuSlZNXGpyZVxsaWJcc2VjdXJpdHlca2V5c3RvcmVydHJzZWxmMjA0OC5qa3MiIGtleXN0
b3JlUGFzcz0iY2hhbmdlaXQiIGtleXN0b3JlVHlwZT0iSktTIiAvPg0KDQpUaGFua3MsDQpMYXRo
YQ0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogU2l2YXN1YnJhbWFuaWFtLCBM
YXRoYQ0KU2VudDogV2VkbmVzZGF5LCBKdWx5IDE4LCAyMDEyIDk6MjYgQU0NClRvOiBUb21jYXQg
VXNlcnMgTGlzdA0KQ2M6IFNhbWFsYSwgUHJhdmVlbjsgUGFuZHVyYW5nYW4gS3Jpc2huYWt1bWFy
DQpTdWJqZWN0OiBSRTogQ2VydGlmaWNhdGUgY2hhaW4gZG9lcyBub3Qgc2VlbSB0byB3b3JrIGFu
ZCBubyBlcnJvcnMgaW4gdGhlIHRvbWNhdCBsb2dzDQoNClRoYW5rcyBmb3IgeW91ciAgcmVzcG9u
c2UgQ2hyaXN0b3BoZXIuIA0KDQpXZSBoYXZlIHJlcXVlc3RlZCBjdXN0b21lciB0byBpbnN0YWxs
IGZpcmVmb3guICBXZSBhcmUgdXNpbmcgU1NMIGFuZCBJIHdpbGwgZ2V0IHRoZSBjb25uZWN0b3Ig
Y29uZmlndXJhdGlvbiBvbmNlIEkgZ2V0IGFjY2VzcyB0byB0aGUgc3lzdGVtLiANCkxvZyBsZXZl
bCBpcyBjaGFuZ2VkIHRvIEZJTkUgaW4gdGhlIGxvZ2dpbmcucHJvcGVydGllcyBidXQgd2UgZG9u
J3Qgc2VlbSB0byBnZXQgYW55dGhpbmcgcmVsYXRlZCB0byB0aGUgY2VydGlmaWNhdGUgYW5kIHRo
ZSBzYW1lIHdoZW4gd2Ugc3RhcnQgdG9tY2F0LiBJIHdpbGwgY2hlY2sgdGhlIGxvZyBjb250ZW50
cyBhbmQgcG9zdCBpZiB0aGUgcmVsZXZhbnQgbGluZXMuDQoNClRoYW5rcywNCkxhdGhhDQoNCi0t
LS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBDaHJpc3RvcGhlciBTY2h1bHR6IFttYWls
dG86Y2hyaXNAY2hyaXN0b3BoZXJzY2h1bHR6Lm5ldF0NClNlbnQ6IFdlZG5lc2RheSwgSnVseSAx
OCwgMjAxMiA4OjQwIEFNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJlOiBDZXJ0
aWZpY2F0ZSBjaGFpbiBkb2VzIG5vdCBzZWVtIHRvIHdvcmsgYW5kIG5vIGVycm9ycyBpbiB0aGUg
dG9tY2F0IGxvZ3MNCg0KLS0tLS1CRUdJTiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KSGFzaDog
U0hBMQ0KDQpMYXRoYSwNCg0KT24gNy8xNy8xMiA4OjIwIFBNLCBTaXZhc3VicmFtYW5pYW0sIExh
dGhhIHdyb3RlOg0KPiBJIGFtIGhhdmluZyBpc3N1ZXMgd2l0aCB0aGUgU1NMIGNlcnRpZmljYXRl
IGNoYWluIHRoZSBodHRwcyByZXF1ZXN0cyANCj4gZnJvbSB0aGUgSUU4IGJyb3dzZXIgZG9lcyBu
b3QgZ2V0IGFueSByZXNwb25zZS4gIEZvbGxvd2luZyBhcmUgdGhlIA0KPiBkZXRhaWxzIGFuZCBh
bnkgaGVscCBpcyBhcHByZWNpYXRlZC4gVGhpcyBpcyBpbiBvbmUgb2Ygb3VyIGN1c3RvbWVyIA0K
PiBpbXBsZW1lbnRhdGlvbi4NCj4gDQo+IFRvbWNhdCB2ZXJzaW9uOiA2LjAuMjkgT1M6IFdpbmRv
d3MgMjAwOCBCcm93c2VyOiBJRTggQ2VyaXRpZmljYXRlIGtleQ0KPiBzaXplOiAyMDQ4IGFuZCB0
aGUgc2VydmVyIGNlcnRpZmljYXRlIGlzIDR0aCBsZXZlbCBpbiB0aGUgY2hhaW4uDQoNCldoYXQg
YWJvdXQgb3RoZXIgd2ViIGJyb3dzZXJzPyBJcyBpdCBvbmx5IE1TSUU4IHRoYXQgaXMgZ2l2aW5n
IHlvdSBwcm9ibGVtcywgb3IgY2FuIHlvdSBub3QgY29ubmVjdCBmcm9tIGFueSBicm93c2VyL2Ns
aWVudD8NCg0KPiBJIGhhdmUgdHJpZWQgZm9sbG93aW5nIGRpZmZlcmVudCB0aGluZ3MuDQo+IA0K
PiAqICAgICAgICAgSW1wb3J0ZWQgY2hhaW4gYW5kIHRoZSBzZXJ2ZXIgY2VydGlmaWNhdGUgdG8g
bXkga2V5c3RvcmUgDQo+IGFuZCBzZXQga2V5c3RvcmUgcHJvcGVydGllcyBpbiB0aGUgc2VydmVy
LnhtbA0KDQpQbGVhc2UgcG9zdCB5b3VyIDxDb25uZWN0b3I+IGNvbmZpZ3VyYXRpb24uIEFsc28s
IGFyZSB5b3UgdXNpbmcgQVBSIGZvciBTU0w/DQoNCldoZW4geW91IGltcG9ydGVkIHRoZSBjZXJ0
aWZpY2F0ZSBjaGFpbiwgZGlkIHlvdSBpbXBvcnQgYWxsIDQgY2VydGlmaWNhdGVzPyAoWW91IG1h
eSBub3QgbmVlZCB0aGUgdG9wLWxldmVsIENBIG9uZSwgYXMgaXQgd2FzIHByb2JhYmx5IGFscmVh
ZHkgdHJ1c3RlZCBieSB0aGUgSlZNKS4NCg0KPiAqICAgICAgICAgSW1wb3J0ZWQgY2VydGlmaWNh
dGUgY2hhaW4gdG8gY2FjZXJ0cyBhbmQgaW1wb3J0ZWQNCj4gc2VydmVyIGNlcnRpZmljYXRlIHRv
IG15IG93biBrZXlzdG9yZSBhbmQgc3BlZmljaWVkIGtleXN0b3JlIA0KPiBwcm9wZXJ0aWVzIGlu
IHRoZSBzZXJ2ZXIueG1sDQo+IA0KPiAqICAgICAgICAgSW1wb3J0ZWQgY2VydGlmaWNhdGUgY2hh
aW4gdG8gbXkgb3duIHRydXN0ZWQga2V5c3RvcmUgaW4gDQo+IGFkZGl0aW9uIHRvIHRoZSBjYWNl
cnRzIGFuZCBzZXJ2ZXIgY2VydGlmaWNhdGUgdG8gYW5vdGhlciBrZXlzdG9yZSwgDQo+IHNwZWNp
ZmllZCBib3RoIHRydXN0a2V5c3RvcmUgYW5kIGtleXN0b3JlIHByb3BlcnRpZXMgaW4gdGhlIHNl
cnZlci54bWwNCj4gDQo+IE5vbmUgb2YgdGhlIGFib3ZlIGlzIHdvcmtpbmcuDQo+IA0KPiBJIGdl
bmVyYXRlZCBzZWxmc2lnbmVkIGNlcnRpZmljYXRlIGFuZCB0aGF0IGlzIHdvcmtpbmcuDQoNClRo
YXQgaXMgZ29vZCB0byBrbm93Lg0KDQo+IFdlIGhhdmUgd2luZG93cyBiYXNlZCBjb21wb25lbnRz
IHVzaW5nIHRoZSBzYW1lIGNlcnRpZmljYXRlIG9uIHRoZSANCj4gc2FtZSBzZXJ2ZXIsIGNlcnRp
ZmljYXRlcyBpbXBvcnRlZCBvbiB0byB0aGUgd2luZG93cyBjZXJ0bWdyIGFuZCB0aG9zZSANCj4g
Y29tcG9uZW50cyBhcmUgd29ya2luZy4gQnV0IHRoZSBzYW1lIGNlcnRpZmljYXRlIGlzIG5vdCB3
b3JraW5nIG9uIHRoZSANCj4gSmF2YSBiYXNlZCBjb21wb25lbnRzLg0KPiANCj4gSSBkbyBub3Qg
c2VlIGFueSBlcnJvcnMgaW4gdGhlIHRvbWNhdCBsb2dzLg0KDQpEbyB5b3UgZ2V0IGFueSBvdXRw
dXQgYXQgYWxsIHdoZW4geW91IGxhdW5jaCBUb21jYXQ/DQoNCj4gSG93IGNhbiBJIGdldCBhZGRp
dGlvbmFsIGxvZ2dpbmcgdG8gc2VlIHdoYXQgaXMgaGFwcGVuaW5nPyBJcyB0aGVyZSANCj4gYW55
IGtub3duIGlzc3VlIHdpdGggdGhlIGNlcnRpZmljYXRlIGNoYWluICggSSBkaWQgbm90IGZpbmQg
YW55IGluIHRoZSANCj4gYnVnIGxpc3QpDQoNCllvdSBjYW4gY2hhbmdlIHRoZSBsb2cgbGV2ZWwg
ZnJvbSBJTkZPIHRvIERFQlVHIG9yIEZJTkUuIExvb2sgYXQgY29uZi9sb2dnaW5nLnByb3BlcnRp
ZXMuDQoNCi0gLWNocmlzDQotLS0tLUJFR0lOIFBHUCBTSUdOQVRVUkUtLS0tLQ0KVmVyc2lvbjog
R251UEcvTWFjR1BHMiB2Mi4wLjE3IChEYXJ3aW4pDQpDb21tZW50OiBHUEdUb29scyAtIGh0dHA6
Ly9ncGd0b29scy5vcmcNCkNvbW1lbnQ6IFVzaW5nIEdudVBHIHdpdGggTW96aWxsYSAtIGh0dHA6
Ly9lbmlnbWFpbC5tb3pkZXYub3JnLw0KDQppRVlFQVJFQ0FBWUZBbEFHMkxjQUNna1E5Q2FPNS9M
djBQQ3VOQUNhQXEwVkplOWptOW5vYzJDZUxGcndxQi9GDQpxLzhBbmllUUUwYlVTNG1ub291ZE95
NzlwR0pXQ3p6Sg0KPXdFdEwNCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQ0KDQotLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRvbWNhdC5h
cGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRv
bWNhdC5hcGFjaGUub3JnDQoNCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 04:50:23 2012
Return-Path: <users-return-235531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 489D0D4B7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 04:50:23 +0000 (UTC)
Received: (qmail 47407 invoked by uid 500); 19 Jul 2012 04:50:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46888 invoked by uid 500); 19 Jul 2012 04:50:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46856 invoked by uid 99); 19 Jul 2012 04:50:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 04:50:17 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.3] (HELO nm12-vm3.bullet.mail.sg3.yahoo.com) (106.10.149.3)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jul 2012 04:50:07 +0000
Received: from [106.10.166.113] by nm12.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 04:49:46 -0000
Received: from [106.10.151.235] by tm2.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 04:49:46 -0000
Received: from [127.0.0.1] by omp1019.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 04:49:46 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 181589.90623.bm@omp1019.mail.sg3.yahoo.com
Received: (qmail 5903 invoked by uid 60001); 19 Jul 2012 04:49:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342673386; bh=ElZtcygBxvejFFIpuft2uOrBH9tSruVS+AP5y/QzR20=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=N0ejtUAevOwkU3e78qDTOtYhVpWxJZMmnfbmsgrqLQSkRpUJSe/kpQaQOz2gp3egTN5rbuP4fz1iIrfXHX7E48lx/0mNf7BIREBJMVJiJFMarS7ub5YxTn+5zM1yCmrFPVZ/iUMafztKlVpCuYZM7zV8xnsqELGgU16XX5s5Fsg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=nBHBvyeHDCN17Z8W62b3Fe7aiEyw5f76KwCXuJuWiYn+Nl3zE0Xj2HBzvPLK43fPbR6YCM42gmDMenSLRqk1Wk2CDxpzyF2sADX3TsE846nkx0QHfQ27y0N93P8iAyibvof2OGPSovM9ln93z7JuXqBYCBpVTHdZnLpTnXt/iNs=;
X-YMail-OSG: zob5NIEVM1lelW0pyx7NCpHQCPNi8Ye.m9wN0bM7OLj8tPZ
 XaKwYqfuQ584X0B60TI_BAvDf4MW1MI3VzWdllBsxbrZa49RQH_nTVRlyAGw
 AS8og2Pog3U9.67wrjoGFluw3y1J2nlnaMolutmFCRIl..BrHHOfz48erQYV
 LBGzRDbi0Vf28KC9_uouxYYGyntd4g0cQ.Q1xcJBqa7KhrTPf8NkbDzGFBfG
 NPld2y1ouUAGrDUCdCCl7w_iB.bSUy699KgTdysdr6L3U2kioqq8DAZ.v8U_
 EXLGE4G_eM3Xh76abywYpcLd6T2TVAWKnrHyzKIYPOAKgeK1dLyA8YICocdF
 hOeAvMZARUZVlIK8WS0Eu_OxDyLplvvoZprJjasxIKv8pL665yyoa5K3pAzQ
 MQkvO8MPxZxD1dHCnO6k_2DqMt8BpLJGpD8IABA--
Received: from [155.91.28.231] by web193504.mail.sg3.yahoo.com via HTTP; Thu, 19 Jul 2012 12:49:45 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
Date: Thu, 19 Jul 2012 12:49:45 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: java.sql.SQLException: No more data to read from socket
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

My application is using Tomcat 5.5 It works fine all the time however at ti=
mes when I try to login to the application I get the below exception
java.sql.SQLException: No more data to read from socket
=09at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.ja=
va:74)
=09at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:1=
10)
=09at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java=
:171)
Once restart , the application works fine.

How to fix this issue

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 07:50:36 2012
Return-Path: <users-return-235532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00654D30B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 07:50:36 +0000 (UTC)
Received: (qmail 39462 invoked by uid 500); 19 Jul 2012 07:50:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39271 invoked by uid 500); 19 Jul 2012 07:50:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39233 invoked by uid 99); 19 Jul 2012 07:50:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 07:50:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 07:50:22 +0000
Received: from [192.168.245.129] (p549E8CEC.dip0.t-ipconnect.de [84.158.140.236])
	by tor.combios.es (Postfix) with ESMTPA id 5F25ADA07FD
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 09:49:59 +0200 (CEST)
Message-ID: <5007BC1A.7070701@ice-sa.com>
Date: Thu, 19 Jul 2012 09:49:46 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
In-Reply-To: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

vijay mathew wrote:
> My application is using Tomcat 5.5 It works fine all the time however at times when I try to login to the application I get the below exception
> java.sql.SQLException: No more data to read from socket
> 	at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
> 	at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> 	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
> Once restart , the application works fine.
> 
> How to fix this issue...

sounds like a question to ask from Oracle, no ?

When the driver gets an error while reading from the socket, it must be the socket that 
connects it to the Oracle db.
Nothing that Tomcat can do about that, supposedly.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 07:58:54 2012
Return-Path: <users-return-235533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91CD4D33A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 07:58:54 +0000 (UTC)
Received: (qmail 63537 invoked by uid 500); 19 Jul 2012 07:58:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63344 invoked by uid 500); 19 Jul 2012 07:58:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63307 invoked by uid 99); 19 Jul 2012 07:58:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 07:58:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 07:58:43 +0000
Received: by obbta14 with SMTP id ta14so4908637obb.18
        for <users@tomcat.apache.org>; Thu, 19 Jul 2012 00:58:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=StAORwNNXqA0I3MbC3W3zlrPjBoZUTKbcieISaRnM+g=;
        b=NBCTMh0dl4pyON6wjqM2uoE4HCRFYqZqk/4sAO6fep47o4KasmbNA84XjM7mlrnTph
         aqMxyGX70+ZHuKcnKU4RI0ktHbXL8Tlu8tJqC1x9R9qazPZJNeKkWzZ3GdgHPI/k9Puu
         qKuQpuG2I2/3Ou/Gb89ldlKyvCAuHPLqwvvDKmXl22JgbPRDnG1O7H/IOIOmeuJopXfY
         9QX4RxMfV4J12p1F7zqzcFsqonhveISjBi/uU3u8/BfxuRDVmZqaPMF65xzaIR6tBGbf
         jU3JY+9PexlwwIw7copM557IlerpBI2z/lVMXt9nJpuIB1WNovTHclIJoDLwlQrGx3nk
         6NKw==
Received: by 10.182.72.9 with SMTP id z9mr1222772obu.5.1342684702922; Thu, 19
 Jul 2012 00:58:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Thu, 19 Jul 2012 00:58:02 -0700 (PDT)
In-Reply-To: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
References: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Thu, 19 Jul 2012 09:58:02 +0200
Message-ID: <CABOBwRjq22MsSXt7YNFih9yPuVwws893aTj2hhFhif4AO3Nb=g@mail.gmail.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> My application is using Tomcat 5.5 It works fine all the time however at times when I try to login to the application I get the below exception
> java.sql.SQLException: No more data to read from socket
>         at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
>         at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
>         at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
> Once restart , the application works fine.
>
> How to fix this issue
>

Looks like a JDBC driver issue . Are you try to upgrade it ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 11:14:27 2012
Return-Path: <users-return-235534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D162DE7F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 11:14:27 +0000 (UTC)
Received: (qmail 17094 invoked by uid 500); 19 Jul 2012 11:14:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16891 invoked by uid 500); 19 Jul 2012 11:14:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16840 invoked by uid 99); 19 Jul 2012 11:14:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 11:14:20 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.119] (HELO nm19-vm8.bullet.mail.sg3.yahoo.com) (106.10.149.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jul 2012 11:14:09 +0000
Received: from [106.10.166.112] by nm19.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 11:13:47 -0000
Received: from [106.10.151.171] by tm1.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 11:13:47 -0000
Received: from [127.0.0.1] by omp1011.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 11:13:47 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 836893.71481.bm@omp1011.mail.sg3.yahoo.com
Received: (qmail 10855 invoked by uid 60001); 19 Jul 2012 11:13:47 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342696427; bh=9e+0CB4NnQOuWAsanQgLax6D6ShgkEb8PY6o3Vk1OzE=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=SCmbqSBnA0e8G1lfhrGMp+ZUGtAGa2hw9HoSkA49pGYGcAza2P+rdFKIeAnTK37HUR0Qfx3VzY7iN3IG8Fl9/G/2Tf/PZP0k6xuN5bbsKIATHakoDdLYqMJChAdDyljTYeJrqOBvProM3F3V8sDNR4OAnaVkqUGyIS8JrxIBSgA=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pzifNjo1/5AhiDMPcX3zwu1se3SfpZKK8LPD0IpxYjxm9ukbKsyw6cvWoJoocAW+hSzLvkvYfsMMB/jkLobPEZGxBKVV7XfzjjiLfGdj1TGT6RJh3RjmHKeRFIvQMQL++DGzNguwQn1CizvBiPQNeQohuA317jnRkZjo9Dd6BeI=;
X-YMail-OSG: l95oskMVM1mmUW6tHT8GgaRYZqhASbz5sw4_Xb4nR9Zf4hH
 byiZtZvCK7StO2QWEbu66w.2mixskyPDlx4WGc33GPhm9yXk3uLMo7qfyoak
 tFphVzl07.Adlk2dj81H8NqoruxI1LpXpzpnAVGLyGRJ2Y.5jKwCZOyLfOoN
 gWREghcD2GoJa8BwxokIc3YzodfE0mwO_v4ma3oZvcrYJvqCvZnPQe5O8dVT
 gHcrjGo1MsGOqqbzBrOw8EK4JRgEtyAypIw2y8YTy7zQX4NkWfi7LjcYbU8k
 fNzikS.ec8NARMAzULEM1xCMdUUegP5RNCPaI3rgqnt0b5u8x12P.QCYKjeE
 3YfYDDSOOLm1Re0EO7LYb.60vHbboehujHwVfzbjm0AxdoMY.D1f2PwPDjUl
 6ZUoSRmuYDroXx0Li6FH.qgnqpeiD6F2o.31YCMb2GOOtYD1ZfxMOySw6yIr
 N6FksnAEAu9t7BswVWuQWCh8F5Lj3Tv89IM6PznBMMH2WE1zIlIc-
Received: from [155.91.28.231] by web193505.mail.sg3.yahoo.com via HTTP; Thu, 19 Jul 2012 19:13:47 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342696427.9109.YahooMailClassic@web193505.mail.sg3.yahoo.com>
Date: Thu, 19 Jul 2012 19:13:47 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABOBwRjq22MsSXt7YNFih9yPuVwws893aTj2hhFhif4AO3Nb=g@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Jose,
Tomcat is using JDK 1.5 and its JDBC driver.So I am not sure if I need to u=
pgrade the JDBC driver.
I suspect that whene DB is getting restarted, the idle connections are bein=
g removed. Not sure how we can avoid this situation

Thanks and Regards,
Vijay Mathew=20

--- On Thu, 19/7/12, Jose Mar=EDa Zaragoza <demablogia@gmail.com> wrote:

> From: Jose Mar=EDa Zaragoza <demablogia@gmail.com>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Thursday, 19 July, 2012, 1:28 PM
> 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > My application is using Tomcat 5.5 It works fine all
> the time however at times when I try to login to the
> application I get the below exception
> > java.sql.SQLException: No more data to read from
> socket
> >=A0 =A0 =A0 =A0=A0=A0at
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> >=A0 =A0 =A0 =A0=A0=A0at
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> >=A0 =A0 =A0 =A0=A0=A0at
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > Once restart , the application works fine.
> >
> > How to fix this issue
> >
>=20
> Looks like a JDBC driver issue . Are you try to upgrade it
> ?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 12:09:57 2012
Return-Path: <users-return-235535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A3779F7C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 12:09:57 +0000 (UTC)
Received: (qmail 59852 invoked by uid 500); 19 Jul 2012 12:09:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59605 invoked by uid 500); 19 Jul 2012 12:09:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59570 invoked by uid 99); 19 Jul 2012 12:09:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 12:09:51 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 12:09:42 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id B79072839B
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
Received: from zimbra-prod-mta-1.vmware.com (zimbra-prod-mta-1.vmware.com [10.113.160.173])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id B43B9B0393
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id AFFAF61554
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-1.vmware.com
Received: from zimbra-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I2O+vCECYJfI for <users@tomcat.apache.org>;
	Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id 9D610615C0
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
Date: Thu, 19 Jul 2012 05:09:20 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <31283416.83.1342699758807.JavaMail.daniel@cleveland>
In-Reply-To: <1342696427.9109.YahooMailClassic@web193505.mail.sg3.yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Jose,
> Tomcat is using JDK 1.5 and its JDBC driver.So I am not sure if I
> need to upgrade the JDBC driver.

>I suspect that whene DB is getting restarted,=20

Are you restarting the Oracle database without restarting your Tomcat insta=
nce?  Depending on how your application gets a database connection this cou=
ld be an issue.

> the idle connections are being removed.=20

Are you using Tomcat DataSource to manage your connections?  If so, please =
include your <Resource/> tag.

> Not sure how we can avoid this situation

If you are using a DataSource, you could try adding validation.  With DBCP =
this is done by adding a "validationQuery" option.  For more details, see t=
he following link.

  https://commons.apache.org/dbcp/configuration.html

Dan


>=20
> Thanks and Regards,
> Vijay Mathew
>=20
> --- On Thu, 19/7/12, Jose Mar=C3=ADa Zaragoza <demablogia@gmail.com>
> wrote:
>=20
> > From: Jose Mar=C3=ADa Zaragoza <demablogia@gmail.com>
> > Subject: Re: java.sql.SQLException: No more data to read from
> > socket
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Date: Thursday, 19 July, 2012, 1:28 PM
> > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > My application is using Tomcat 5.5 It works fine all
> > the time however at times when I try to login to the
> > application I get the below exception
> > > java.sql.SQLException: No more data to read from
> > socket
> > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java=
:74)
> > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110=
)
> > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:1=
71)
> > > Once restart , the application works fine.
> > >
> > > How to fix this issue
> > >
> >=20
> > Looks like a JDBC driver issue . Are you try to upgrade it
> > ?
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 12:37:48 2012
Return-Path: <users-return-235536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70E22C061
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 12:37:48 +0000 (UTC)
Received: (qmail 20046 invoked by uid 500); 19 Jul 2012 12:37:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19727 invoked by uid 500); 19 Jul 2012 12:37:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19680 invoked by uid 99); 19 Jul 2012 12:37:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 12:37:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 12:37:35 +0000
Received: by ggnp1 with SMTP id p1so3502647ggn.18
        for <users@tomcat.apache.org>; Thu, 19 Jul 2012 05:37:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=UQIcQ9q3lKSfVRu2DB11dK8gjq2aomXXJWEU2w3Voc4=;
        b=pclMtV96SqI3H55DeeOychH/WzYywRka3lLBCtikvO03ASglkt15ST7l4MBrhndxC3
         li9dPMenkBT2D6zxTTvjyg0FR6wAo2uq5LPm8mwOCHoxdguTmn+lqi5PotJ8ZFt/9Ewc
         +/WoXnHMsJdkM6vK+6AvekhvwdqzPuq+OSuyYcImmw16DkR8bWMM9S5wjf4SO2oN1Uv/
         lJHY6Q27SUUrPW+jOW6vjXK2YBoTEecjzhz3luwbD1feex60ynVrfUMc6MfKTzWdUqg3
         i62u6sGKT2xPCegiIBIubzhfJ3r6sMUvv2BII+ZZ6zHXDUVTFq4tGhbsrdxW1hC3dt5k
         Ze7w==
Received: by 10.60.2.131 with SMTP id 3mr2313224oeu.59.1342701434383; Thu, 19
 Jul 2012 05:37:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Thu, 19 Jul 2012 05:36:53 -0700 (PDT)
In-Reply-To: <1342696427.9109.YahooMailClassic@web193505.mail.sg3.yahoo.com>
References: <CABOBwRjq22MsSXt7YNFih9yPuVwws893aTj2hhFhif4AO3Nb=g@mail.gmail.com>
 <1342696427.9109.YahooMailClassic@web193505.mail.sg3.yahoo.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Thu, 19 Jul 2012 14:36:53 +0200
Message-ID: <CABOBwRhPkeqdMc53qX9i-XVEuKMMc2yzz6++jmLBUaQ=tWm23g@mail.gmail.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> Jose,
> Tomcat is using JDK 1.5 and its JDBC driver.So I am not sure if I need to upgrade the JDBC driver.
> I suspect that whene DB is getting restarted, the idle connections are being removed. Not sure how we can avoid this >situation

OK, so you are restarting the database ...
Maybe you could test a property called "validationQuery", but I don't
know if it exists in Tomcat 5.5's  DBCP

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 16:12:21 2012
Return-Path: <users-return-235537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E220CD5AC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 16:12:21 +0000 (UTC)
Received: (qmail 45761 invoked by uid 500); 19 Jul 2012 16:12:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45608 invoked by uid 500); 19 Jul 2012 16:12:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45548 invoked by uid 99); 19 Jul 2012 16:12:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 16:12:16 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.115] (HELO nm19-vm4.bullet.mail.sg3.yahoo.com) (106.10.149.115)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jul 2012 16:12:06 +0000
Received: from [106.10.166.113] by nm19.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 16:11:44 -0000
Received: from [106.10.150.25] by tm2.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 16:11:44 -0000
Received: from [127.0.0.1] by omp1026.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 16:11:44 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 2337.50594.bm@omp1026.mail.sg3.yahoo.com
Received: (qmail 77236 invoked by uid 60001); 19 Jul 2012 16:11:43 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342714303; bh=2pSKAWEm1gy6tMW8ecxct50qJ0glkGrPAaq8UgUA63o=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=ismxujC42JPjljiail5Gxo7IYucW2o6BoSFUtVggkOhy1cNvypQ0lRgFoqpodY3PVvqzeRFbsAayVlg5EU0kcdHTA3ccukDIhxifNZvvbSsLBWNJckkQEMghteoyxeq8w7ljfgFC5DTLIgOThld89FqFdAUAo+pe9M1LBrLOscE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=tYIJGPq1bo/Noqk/iPJHgugJ/wQJXwn4wu/0QKR9RSZ4MGA41XqvqBldNwBa8HQli9BRweXgxU6cBJrUlt5KwxoevWTefyjeelatpTogmZR2v8YVsLnDsDYtZmdrojkh8xaHkgOTrKvqJd7cXCVW2lh8K2HdycrduQJU3vPaMXA=;
X-YMail-OSG: CmXUgXEVM1lPo1mPrSgECKtJT8vvBTifxcWeuOjD3VgoZcP
 Deex4R6HFZRm.bNnDJltD_U8o1k.Vh4gTkhTJscUJWabAnZmm6ocp8IX3Heg
 a4WjD.aTEglFCueM5enPUlnM1CHeLRCq6.lLFbWyl0FFHqyNHIMQgyd6ps6R
 pS9v31_5guw_MMh9T5coYN5DxKdMaRl2cbheIWAoKmv78nVnEhxlHs5HFD_V
 PWVyOa_yZLoJjEmhRAailAEN9B__fxl7Si_SeAbcCMhhgJdI7zERCj5MX9LO
 8tFb7CZ.5gkfkexvgRIgya0RpG1ZPnnDeSzyNnntZTGsuuzUzqIl5tbZLh8u
 JTW4BgsoU2jukmDGOH9hE2GY0bHFavQELE5KYflL3v3uYWStxVJZSmVi.Sqd
 TWtGNakXT3HM3S0qTFSAzy.xryW7NYxAGnIwokQhS47omTBecs3uN4KjhXNh
 RLcIlLeHCTDiD_IHs7_A41T427hMWz03ylCs3DlYM0jAXBcsxC0A-
Received: from [155.91.45.231] by web193505.mail.sg3.yahoo.com via HTTP; Fri, 20 Jul 2012 00:11:43 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342714303.45547.YahooMailClassic@web193505.mail.sg3.yahoo.com>
Date: Fri, 20 Jul 2012 00:11:43 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <31283416.83.1342699758807.JavaMail.daniel@cleveland>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Daniel and Jose.
Do you knoe what is the root cause of this issue

--- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:

> From: Daniel Mikusa <dmikusa@vmware.com>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Thursday, 19 July, 2012, 5:39 PM
> ----- Original Message -----
> > Jose,
> > Tomcat is using JDK 1.5 and its JDBC driver.So I am not
> sure if I
> > need to upgrade the JDBC driver.
>=20
> >I suspect that whene DB is getting restarted,=20
>=20
> Are you restarting the Oracle database without restarting
> your Tomcat instance?=A0 Depending on how your
> application gets a database connection this could be an
> issue.
>=20
> > the idle connections are being removed.=20
>=20
> Are you using Tomcat DataSource to manage your
> connections?=A0 If so, please include your
> <Resource/> tag.
>=20
> > Not sure how we can avoid this situation
>=20
> If you are using a DataSource, you could try adding
> validation.=A0 With DBCP this is done by adding a
> "validationQuery" option.=A0 For more details, see the
> following link.
>=20
> =A0 https://commons.apache.org/dbcp/configuration.html
>=20
> Dan
>=20
>=20
> >=20
> > Thanks and Regards,
> > Vijay Mathew
> >=20
> > --- On Thu, 19/7/12, Jose Mar=EDa Zaragoza <demablogia@gmail.com>
> > wrote:
> >=20
> > > From: Jose Mar=EDa Zaragoza <demablogia@gmail.com>
> > > Subject: Re: java.sql.SQLException: No more data
> to read from
> > > socket
> > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > Date: Thursday, 19 July, 2012, 1:28 PM
> > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > My application is using Tomcat 5.5 It works
> fine all
> > > the time however at times when I try to login to
> the
> > > application I get the below exception
> > > > java.sql.SQLException: No more data to read
> from
> > > socket
> > > >=A0 =A0 =A0 =A0=A0=A0at
> > >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> > > >=A0 =A0 =A0 =A0=A0=A0at
> > >
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > >=A0 =A0 =A0 =A0=A0=A0at
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > > > Once restart , the application works fine.
> > > >
> > > > How to fix this issue
> > > >
> > >=20
> > > Looks like a JDBC driver issue . Are you try to
> upgrade it
> > > ?
> > >=20
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 16:24:09 2012
Return-Path: <users-return-235538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 723CAD685
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 16:24:09 +0000 (UTC)
Received: (qmail 88073 invoked by uid 500); 19 Jul 2012 16:24:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87890 invoked by uid 500); 19 Jul 2012 16:24:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87876 invoked by uid 99); 19 Jul 2012 16:24:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 16:24:06 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 16:23:58 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id BCB3328302
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
Received: from zimbra-prod-mta-2.vmware.com (zimbra-prod-mta-2.vmware.com [10.113.160.174])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id B78C6184EB
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id B3D7322B94
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-2.vmware.com
Received: from zimbra-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eaqHvN86WxqM for <users@tomcat.apache.org>;
	Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 9595022B7A
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
Date: Thu, 19 Jul 2012 09:23:36 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <25778164.277.1342715011967.JavaMail.daniel@cleveland>
In-Reply-To: <1342714303.45547.YahooMailClassic@web193505.mail.sg3.yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Thanks Daniel and Jose.
> Do you knoe what is the root cause of this issue

It's hard to say since you have not answered the questions from my previous=
 email, you have not posted your data source configuration and you have onl=
y posted a partial stack trace.

Nevertheless, I will venture a guess.  *If* you are in fact restarting your=
 Oracle database then that would disconnect any persistent connections main=
tained by the connection pool. =20

Given that your connection pool would contain a bunch of connections which =
have been disconnected, you would either need to restart Tomcat (which will=
 create a fresh connection pool) or configure your connection pool to find =
and replace the closed connections (hence the suggestion to use a validatio=
nQuery).

That's just a guess though, I do not believe that the amount of information=
 that you have provided is sufficient to give you an exact answer.

Dan



>=20
> --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:
>=20
> > From: Daniel Mikusa <dmikusa@vmware.com>
> > Subject: Re: java.sql.SQLException: No more data to read from
> > socket
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Date: Thursday, 19 July, 2012, 5:39 PM
> > ----- Original Message -----
> > > Jose,
> > > Tomcat is using JDK 1.5 and its JDBC driver.So I am not
> > sure if I
> > > need to upgrade the JDBC driver.
> >=20
> > >I suspect that whene DB is getting restarted,
> >=20
> > Are you restarting the Oracle database without restarting
> > your Tomcat instance?=C2=A0 Depending on how your
> > application gets a database connection this could be an
> > issue.
> >=20
> > > the idle connections are being removed.
> >=20
> > Are you using Tomcat DataSource to manage your
> > connections?=C2=A0 If so, please include your
> > <Resource/> tag.
> >=20
> > > Not sure how we can avoid this situation
> >=20
> > If you are using a DataSource, you could try adding
> > validation.=C2=A0 With DBCP this is done by adding a
> > "validationQuery" option.=C2=A0 For more details, see the
> > following link.
> >=20
> > =C2=A0 https://commons.apache.org/dbcp/configuration.html
> >=20
> > Dan
> >=20
> >=20
> > >=20
> > > Thanks and Regards,
> > > Vijay Mathew
> > >=20
> > > --- On Thu, 19/7/12, Jose Mar=C3=ADa Zaragoza <demablogia@gmail.com>
> > > wrote:
> > >=20
> > > > From: Jose Mar=C3=ADa Zaragoza <demablogia@gmail.com>
> > > > Subject: Re: java.sql.SQLException: No more data
> > to read from
> > > > socket
> > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > Date: Thursday, 19 July, 2012, 1:28 PM
> > > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > > My application is using Tomcat 5.5 It works
> > fine all
> > > > the time however at times when I try to login to
> > the
> > > > application I get the below exception
> > > > > java.sql.SQLException: No more data to read
> > from
> > > > socket
> > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > >
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java=
:74)
> > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > >
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110=
)
> > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:1=
71)
> > > > > Once restart , the application works fine.
> > > > >
> > > > > How to fix this issue
> > > > >
> > > >=20
> > > > Looks like a JDBC driver issue . Are you try to
> > upgrade it
> > > > ?
> > > >=20
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >=20
> > > >
> > >=20
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 17:06:17 2012
Return-Path: <users-return-235539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54CAF9638
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 17:06:17 +0000 (UTC)
Received: (qmail 25835 invoked by uid 500); 19 Jul 2012 17:06:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25735 invoked by uid 500); 19 Jul 2012 17:06:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25725 invoked by uid 99); 19 Jul 2012 17:06:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 17:06:13 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MIME_BASE64_BLANKS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 17:06:06 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Thu, 19 Jul 2012 12:10:48 -0500
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Thu, 19 Jul 2012 12:05:38 -0500
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>
Subject: RE: Client Authentication using SSL
Thread-Topic: Client Authentication using SSL
Thread-Index: Ac1fgy8zjR31/Q9TT/+rACTXLil6VgABUogQABaApoAACZ8C4AAFgc6AAAU9ryAAV6DSgAByFO4QAD1hIYAAX6MFYA==
Date: Thu, 19 Jul 2012 17:05:36 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F0109D9794B@POSTOFFICE02.polydyne.com>
References: <7215BA462D00D343B2837F9113F0131F0109D9343F@POSTOFFICE02.polydyne.com>
 <7215BA462D00D343B2837F9113F0131F0109D93481@POSTOFFICE02.polydyne.com>
 <F7CBC4BE201C447B83FCA4C5A9FEBF52@HP6910P>
 <7215BA462D00D343B2837F9113F0131F0109D9353C@POSTOFFICE02.polydyne.com>
 <021AC466-31DD-4A72-87E3-92D5FC5C16B0@charmides.in-berlin.de>
 <7215BA462D00D343B2837F9113F0131F0109D93688@POSTOFFICE02.polydyne.com>
 <5000D9A7.3060005@christopherschultz.net>
 <7215BA462D00D343B2837F9113F0131F0109D96267@POSTOFFICE02.polydyne.com>
 <50057327.3020608@christopherschultz.net>
In-Reply-To: <50057327.3020608@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_07_19_12_10_49

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogQ2hyaXN0b3BoZXIgU2No
dWx0eiBbbWFpbHRvOmNocmlzQGNocmlzdG9waGVyc2NodWx0ei5uZXRdDQo+IFNlbnQ6IFR1ZXNk
YXksIEp1bHkgMTcsIDIwMTIgOToxNCBBTQ0KPiBUbzogVG9tY2F0IFVzZXJzIExpc3QNCj4gU3Vi
amVjdDogUmU6IENsaWVudCBBdXRoZW50aWNhdGlvbiB1c2luZyBTU0wNCj4gDQo+IC0tLS0tQkVH
SU4gUEdQIFNJR05FRCBNRVNTQUdFLS0tLS0NCj4gSGFzaDogU0hBMQ0KPiANCj4gSmVmZnJleSwN
Cj4gDQo+IE9uIDcvMTYvMTIgMTA6MDEgQU0sIEplZmZyZXkgSmFubmVyIHdyb3RlOg0KPiA+IFRo
YW5rcyBDaHJpcywgSSdkIHNlZW4gYSBsb3Qgb2YgdHJhZmZpYyBvbiB0aGUgdG9waWMgb3ZlciB0
aGUgeWVhcnMsDQo+ID4gc28ga25ldyBzb21lb25lIGhhZCByZWFsLXdvcmxkIGV4cGVyaWVuY2Ug
b24gdGhlIHN1YmplY3QuDQo+ID4gSSdsbCBjaGVjayBvdXQgd2hhdCB5b3UgZGlkIGEgbGl0dGxl
IGZ1cnRoZXIuIE9mIGNvdXJzZSwgdGhpbmtpbmcgb24NCj4gPiBteSBwcm9wb3NlZCBwbGFuLCBh
IHJlYWxseSB1cHRpZ2h0IHNlY3VyaXR5IGFkbWluIG1pZ2h0IG5vdCB0aGluayBpdA0KPiA+IGFs
bCB0aGF0IG1vcmUgc2VjdXJlIHRoYXQgYmFzaWMtYXV0aCBvdmVyIHNlcnZlci1vbmx5IFNTTC4g
WW91IGtub3cNCj4gPiB0aGUgdHlwZTogdGhlIGd1eSB0aGF0IGluc2lzdHMgdGhlIFNTTFBhc3N3
b3JkIHZhbHVlIGluIHNlcnZlci54bWwgYmUNCj4gPiBlbmNyeXB0ZWQuDQo+IA0KPiBZdXAuDQo+
IA0KPiBTU0wgY2xpZW50IGNlcnRpZmljYXRlcyBhcmUgZ3JlYXQgYmVjYXVzZSBpdCdzIGJhc2lj
YWxseSBpbXBvc3NpYmxlIHRvDQo+IGZha2UgdGhlbSwgYW5kIG9uY2UgdGhleSBhcmUgaW5zdGFs
bGVkLCB5b3UgZG9uJ3QgaGF2ZSBhbnl0aGluZyB0bw0KPiByZW1lbWJlciAobGlrZSBhIHBhc3Nw
aHJhc2UpLiBTbywgeW91IGNhbiBkbyBzdXBlci1oaWdoLWdyYWRlDQo+IGF1dGhlbnRpY2F0aW9u
IG9uZS10aW1lLCB0aGVuIGlzc3VlIHRoZSBTU0wgY2VydCB0byBhdm9pZCBhbGwgdGhhdCBpbg0K
PiB0aGUgZnV0dXJlLiBQbHVzLCB0aGV5IGNhbiBiZSByZXZva2VkLg0KPiANCj4gVGhleSBjYW4s
IGhvd2V2ZXIsIGJlIHRyaXZpYWxseSBjb3BpZWQgYW5kIG1vdmVkIGVsc2V3aGVyZS4gU28sIHlv
dQ0KPiBtaWdodCB3YW50IHRvIGNvdXBsZSB0aGUgU1NMIGNlcnRpZmljYXRlIHdpdGggc29tZSBv
dGhlciBraW5kIG9mDQo+IGF1dGhlbnRpY2F0aW9uIGxpa2UgcGFzc3BocmFzZSBvciBldmVuIGp1
c3QgcmVtb3RlIElQIGFkZHJlc3MgY2hlY2tpbmcuDQo+IA0KPiBUaGUgb3RoZXIgbmljZSB0aGlu
ZyBpcyB0aGF0IHlvdSBkb24ndCBuZWVkIHRoZSBvcmlnaW5hbCBpc3N1aW5nLQ0KPiBjZXJ0aWZp
Y2F0ZSdzIGtleSBpbiBvcmRlciB0byB2ZXJpZnkgdGhlIGF1dGhlbnRpY2l0eSBvZiB0aGUgY2xp
ZW50DQo+IGNlcnQ6IHlvdSBjYW4gaW5zdGFsbCB0aGUgQ0EgKGFuZCBzdWJzKSBjZXJ0cyBvbiB0
aGUgc2VydmVyIGFuZCB2ZXJpZnkNCj4gdGhlIHZhbGlkaXR5IG9mIHRoZSBjbGllbnQgY2VydGlm
aWNhdGUgd2l0aG91dCByZXZlYWxpbmcgYW55IHNlY3JldHMgb24NCj4gdGhlIHNlcnZlciAobGlr
ZSB0aGUgc2VjcmV0IGZvciB0aGUgc2VydmVyJ3Mga2V5LCBmb3IgaW5zdGFuY2UpLiBUaGF0DQo+
IGFsbG93cyB5b3UgdG8ga2VlcCB5b3VyIHN1cGVyLXNlY3JldCBDQSBrZXlzIHVuZGVyIGxvY2sg
YW5kIGtleSBidXQNCj4gc3RpbGwgdXNlIHRoZW0gZm9yIGF1dGhlbnRpY2F0aW9uIHB1cnBvc2Vz
Lg0KPiANCj4gVGhlIHJlYWwgcXVlc3Rpb24gaXMgd2hldGhlciBvciBub3QgaXQgZ2l2ZXMgeW91
IGFueXRoaW5nIG1vcmUgc2VjdXJlDQo+IHRoYW4gd2hhdCB5b3UgYWxyZWFkeSBoYXZlIChJIGR1
bm5vIHdoYXQgeW91IGFscmVhZHkgaGF2ZSkuIFRoZSBTU0wNCj4gY29ubmVjdGlvbiB0YWtlcyBj
YXJlIG9mIHRoZSBzZWN1cml0eSBvZiB0aGUgaW5mb3JtYXRpb24gaW4tdHJhbnNpdC4NCj4gVGhl
IGNsaWVudCBTU0wgY2VydCB0YWtlcyBjYXJlIG9mIG9uZSBmYWN0b3Igb2YgYXV0aGVudGljYXRp
b246IGl0J3MNCj4gc29tZXRoaW5nIHRoZSByZW1vdGUgY2xpZW50ICJoYXMiLiBBbnkgc2VjdXJp
dHkgZXhwZXJ0IHdpbGwgdGVsbCB5b3UNCj4gdGhhdCBtdWx0aS1mYWN0b3IgYXV0aGVudGljYXRp
b24gaXMgc3VwZXJpb3IgKGFuZCB0aGV5J2QgYmUgcmlnaHQpIGJ1dA0KPiB5b3Ugc3RpbGwgaGF2
ZSB0aGUgcHJvYmxlbSBvZiBkaXN0cmlidXRpb24gb2YgdGhlIHRva2VuICpwbHVzKiB0aGUNCj4g
YXV0aGVudGljYXRpb24gb2YgdGhlIHVzZXIgYmVmb3JlIGlzc3VpbmcgdGhlIHRva2VuLiBGb3Ig
ZXhhbXBsZSwgaWYNCj4geW91ciBhdXRoZW50aWNhdGlvbiBpcyBub24tZXhpc3RlbnQgZm9yIGNs
aWVudC1jZXJ0IGlzc3VhbmNlLCB0aGVuIHRoZQ0KPiBzZWNvbmQgImZhY3RvciIgZm9yIGF1dGhl
bnRpY2F0aW9uIGludG8geW91ciBwcmltYXJ5IHN5c3RlbSBpcyBlbnRpcmVseQ0KPiB1c2VsZXNz
Lg0KPiANCj4gV2ViLWJhc2VkIGF1dGhlbnRpY2F0aW9uIGlzIGRpZmZpY3VsdCB0byBkbyBpbiBh
IHJlYWxseSBnb29kIHdheS4NCj4gU3VyZSwgdGhlcmUgYXJlIGdvb2QgdG9vbHMgKEdQRywgWDUw
OSwgZXRjLikgYW5kIHRyaWVkLWFuZC10cnVlDQo+IHByb2NlZHVyZXMgKHVzZXJuYW1lL3Bhc3N3
b3JkL1BJTi93aGF0ZXZlcikgYnV0IHdoZW4gaXQgY29tZXMgZG93biB0bw0KPiBpdCwgYWxsb3dp
bmcgcmVtb3RlIGFjY2VzcyB0byBzZW5zaXRpdmUgZGF0YSBpcyBpbmhlcmVudGx5IHJpc2t5LiBX
aGVuDQo+IGl0IGNvbWVzIHJpZ2h0IGRvd24gdG8gaXQsIGV2ZW4gYSB2ZXJ5IHdlbGwtaW1wbGVt
ZW50ZWQgc3lzdGVtIHN0aWxsDQo+IG5lZWRzIHRvIGJlIHVzZWQgYnkgaHVtYW5zLCB3aG8gd2ls
bCBpbnZhcmlhYmx5IGZpbmQgYSB3YXkgdG8gcG9rZQ0KPiBob2xlcyBpbiB5b3VyIHNlY3VyaXR5
IC0tIHNheSwgYnkgcHV0dGluZyB0aGVpciBwYXNzd29yZHMgb24gcG9zdC1pdHMNCj4gb24gdGhl
aXIgbW9uaXRvcnMuIFJlYWxseSwgaXQncyB0aGUgaHVtYW5zIHRoYXQgcmVhbGx5IG1lc3MgdXAg
c2VjdXJpdHkNCj4gZm9yIGV2ZXJ5b25lIDspDQo+IA0KPiAtIC1jaHJpcw0KDQpDaHJpcyAtDQpS
aWdodCBub3csIG15IGF1dGggaXMganVzdCBhIHVzZXIvcHcgZm9ybSBwdXQgdXAgb3ZlciBTU0wu
DQpJIGZpZ3VyZWQgYWRkaW5nIHRoZSBjbGllbnQtY2VydC1hdXRoIHRvIHRoZSBTU0wgY29ubmVj
dGlvbiBhbmQgdGhlbiB0aHJvd2luZyB1cCBteSBmb3JtIGFzIHVzdWFsIHdvdWxkIGJlIGEgZ29v
ZCBuZXh0IHN0ZXAuIFRoYXQgd2F5IEkndmUgdmVyaWZpZWQgdGhlIGNsaWVudCBzeXN0ZW0gaXMg
YXBwcm92ZWQsIGFuZCBzbyBpcyB0aGUgdXNlcnMuICBTdGlsbCBjb3VsZCBoYXZlIGEgZGlzY29u
bmVjdCBpbiB0aGF0IHRoZSBjZXJ0IGlzIGFwcHJvdmVkLCBidXQgbm90IG5lY2Vzc2FyaWx5IGZv
ciB0aGUgdXNlcmlkIGludm9sdmVkLiANCkkndmUgc2VlbiBzb21lIGhvdy10b3MgdGhhdCBzdWdn
ZXN0IHB1dHRpbmcgdGhlIHVzZXJpZCBhcyB0aGUgY25hbWUgb24gdGhlIGNlcnQgYW5kIHRoZW4g
cmVxdWlyaW5nIHRoZSBtYXRjaGluZyBwdy4gIEl0J3MgY2VydGFpbmx5IG1vcmUgc2VjdXJlLCBh
bmQgc29sdmVzIHRoZSBwcm9ibGVtIG9mIGFwcHJvdmVkIHVzZXIgQSBtYXNxdWVyYWRpbmcgYXMg
YXBwcm92ZWQgdXNlciBCIHRoYXQgaXMgYWxsb3dlZCBieSBteSBmaXJzdCBzdGVwLiAgSG93ZXZl
ciwgaXQgYWxzbyByZXF1aXJlcyByZXdvcmtpbmcgdGhlIGFwcCB0byBwdWxsIHRoZSB1aWQgZnJv
bSB0aGUgY2VydCwgYW5kIGlzIHByb2JhYmx5IGEgbGV2ZWwgb2Ygc2VjdXJpdHkgYWJvdmUgd2hh
dCBtb3N0IG9mIG15IGN1c3RvbWVyIGJhc2UgY2FyZXMgYWJvdXQuDQpJJ20gYmFzaWNhbGx5IGxv
b2tpbmcgYXQgYWx0ZXJuYXRpdmVzIGZvciBmdXR1cmUgYnVzaW5lc3MgaW50byBzaXRlcyB0aGF0
IHJlYWxseSB3YW50IHRoYXQgZXh0cmEgbGV2ZWwgb2Ygc2VjdXJpdHkuICBUaGVyZSBhcmUgcG90
ZW50aWFsbHkgb3RoZXIgbWV0aG9kcyBvZiBwcm92aWRpbmcgZm9yIHRoZSBoaWdoZXIgc2VjdXJp
dHkgYXQgdGhvc2UgaW5zdGFsbGF0aW9ucy4gIEZvciBleGFtcGxlLCBzb21lIGhhdmUgdGhlaXIg
b3duIGV4dHJhbmV0IHdoaWNoIGlzIGhlYXZpbHkgdGllZCBkb3duLCBhbmQgd2UgY291bGQgZ28g
aW4gYmVoaW5kIHRoYXQuIFRoZW4gSSBkb24ndCByZWFsbHkgY2FyZSBhbnltb3JlLCBhcyB0aGUg
aGlnaC1sZXZlbCBzdHVmZiB3YXMgYWxyZWFkeSBkb25lIGp1c3QgdG8gZ2V0IG9uIHRoZSBuZXR3
b3JrLg0KRm9yIGZ1dHVyZSBzYWxlcywgaXQncyBiYXNpY2FsbHkgZ29pbmcgdG8gcmVxdWlyZSBk
aXNjdXNzaW9ucyBvZiB3aGF0IHRoZXkgdGhpbmsgaXMgYXBwcm9wcmlhdGUuDQpUaGFua3MgYWdh
aW4gZm9yIHlvdXIgaGVscC4NCkplZmYNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQoNCkNvbmZpZGVudGlh
bGl0eSBOb3RpY2U6ICBUaGlzIFRyYW5zbWlzc2lvbiAoaW5jbHVkaW5nIGFueSBhdHRhY2htZW50
cykgbWF5IGNvbnRhaW4gaW5mb3JtYXRpb24gdGhhdCBpcyBwcml2aWxlZ2VkLCBjb25maWRlbnRp
YWwsIGFuZCBleGVtcHQgZnJvbSBkaXNjbG9zdXJlIHVuZGVyIGFwcGxpY2FibGUgbGF3LiAgSWYg
dGhlIHJlYWRlciBvZiB0aGlzIG1lc3NhZ2UgaXMgbm90IHRoZSBpbnRlbmRlZCByZWNpcGllbnQg
eW91IGFyZSBoZXJlYnkgbm90aWZpZWQgdGhhdCBhbnkgZGlzc2VtaW5hdGlvbiwgZGlzdHJpYnV0
aW9uLCBvciBjb3B5aW5nIG9mIHRoaXMgY29tbXVuaWNhdGlvbiBpcyBzdHJpY3RseSBwcm9oaWJp
dGVkLiAgDQoNCklmIHlvdSBoYXZlIHJlY2VpdmVkIHRoaXMgdHJhbnNtaXNzaW9uIGluIGVycm9y
LCBwbGVhc2UgaW1tZWRpYXRlbHkgcmVwbHkgdG8gdGhlIHNlbmRlciBvciB0ZWxlcGhvbmUgKDUx
MikgMzQzLTkxMDAgYW5kIGRlbGV0ZSB0aGlzIHRyYW5zbWlzc2lvbiBmcm9tIHlvdXIgc3lzdGVt
Lg0K

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 18:55:59 2012
Return-Path: <users-return-235540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76B72D4CF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 18:55:59 +0000 (UTC)
Received: (qmail 45631 invoked by uid 500); 19 Jul 2012 18:55:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45587 invoked by uid 500); 19 Jul 2012 18:55:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45578 invoked by uid 99); 19 Jul 2012 18:55:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 18:55:55 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.16] (HELO nm13-vm1.bullet.mail.sg3.yahoo.com) (106.10.149.16)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jul 2012 18:55:48 +0000
Received: from [106.10.166.115] by nm13.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 18:55:26 -0000
Received: from [106.10.151.186] by tm4.bullet.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 18:55:26 -0000
Received: from [127.0.0.1] by omp1012.mail.sg3.yahoo.com with NNFMP; 19 Jul 2012 18:55:26 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 533641.19090.bm@omp1012.mail.sg3.yahoo.com
Received: (qmail 10080 invoked by uid 60001); 19 Jul 2012 18:55:26 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342724126; bh=Zveig8OTMhSL7bTUGpW+1dotfn2z8dgMHdPi5B1CBEQ=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=erXNn/fPtFX5nP9V7yNb0+MEXcFQVveprZcCiUXOUThrEToPbYHTtxGM0dhpXAuHor0Vu9NWF7h8ZRDR2bqo/INL+ptACmK3mV1ODBU3dSIln2Fn7JUhqJUlyWnTeoSOzZ9zXcVQEWYcLW30AMtsuYvmSP2GcHNbCiioEvQ0IG0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=gI+JGw7P5UYQtElH5soV204O5T+OBNqhOpCqVrCDN8/lTTI7WNdJGupeZH+Ptw2cMHR4XAc7duy5v93tbdAYF2l/RsbKt1ANCb5QxsayUJbp0AzS80ZF5AkLDTr4M4AFwMKtlEfkhIpN5aJoJ3ubUKOamUitO/UOeADYHlNrZ7c=;
X-YMail-OSG: fQUENQEVM1kAiS4ha3Fd8EX6u8cS3c4VOPTriQ0hviBt3pZ
 X76Cxb9CLqVNcbQEFYJhobdbhv8J1FBGgKBALe8491v_R_roBvVMt7jCKXAb
 NG.PyoNgPZoOv3ApaPMbObWnGP8j.FEuFtXOb0K_sYSeRqWpDtsQJSTVxVeZ
 1apMPZNMnn8Uhp7rNnlePQClQfjwVJy1GFNBUlXyIVzMPdAERItR40cx3pOs
 eFgCFpk7HRs5HVC1rdyRxjJqbRtWF5woUeV7IFmutGMwQ9LHsNcmxIR7hoCH
 Mq7ICEhrkfY79Jya9pn0C2kPW43j7pNGPj6v0vs6K4vvTyEaSS.TK02vTaQc
 arTSdyY4qrcrqgm.L0_e_av8Q4tpm7oMj2IxqdEY1ZvInuRlD.UvojNDMsQ1
 m_IlhMMzmtejo_pi2rGR8GIFXm0tqjCEnEmhxAzHrXW4oWYoVmsS4HptwjWd
 nXmSwjDaNwsbkf21r3t.agaQlnSQdwB8B3zeVYGFXuBxS8dwEt.dltUeGug6
 95jDqwAzmWMPdVc_W7QAjg1P3Li5Z7noWc5hpcbk-
Received: from [155.91.28.231] by web193502.mail.sg3.yahoo.com via HTTP; Fri, 20 Jul 2012 02:55:26 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342724126.8462.YahooMailClassic@web193502.mail.sg3.yahoo.com>
Date: Fri, 20 Jul 2012 02:55:26 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="-507039889-1808694917-1342724126=:8462"
X-Virus-Checked: Checked by ClamAV on apache.org

---507039889-1808694917-1342724126=:8462
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Daniel.

-> DB is getting restarted every weekend but tomcat is not getting restarte=
d at the same time.
just fyi this issue doesnt happen every time. It happens once every month e=
ven if the DB is getting restarted every week.
So not sure wat is the exact root cause
->I have attached the server.xml. I dont find the Resource tag here..
>From java code, a data source is created using PoolableConnectionFactory an=
d GenericObjectPool and then a connection is retrieved from this datasource=
.

Let me know if you have any questions

--- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:

> From: Daniel Mikusa <dmikusa@vmware.com>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Thursday, 19 July, 2012, 9:53 PM
> ----- Original Message -----
> > Thanks Daniel and Jose.
> > Do you knoe what is the root cause of this issue
>=20
> It's hard to say since you have not answered the questions
> from my previous email, you have not posted your data source
> configuration and you have only posted a partial stack
> trace.
>=20
> Nevertheless, I will venture a guess.=A0 *If* you are in
> fact restarting your Oracle database then that would
> disconnect any persistent connections maintained by the
> connection pool.=A0=20
>=20
> Given that your connection pool would contain a bunch of
> connections which have been disconnected, you would either
> need to restart Tomcat (which will create a fresh connection
> pool) or configure your connection pool to find and replace
> the closed connections (hence the suggestion to use a
> validationQuery).
>=20
> That's just a guess though, I do not believe that the amount
> of information that you have provided is sufficient to give
> you an exact answer.
>=20
> Dan
>=20
>=20
>=20
> >=20
> > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> wrote:
> >=20
> > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > Subject: Re: java.sql.SQLException: No more data
> to read from
> > > socket
> > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > Date: Thursday, 19 July, 2012, 5:39 PM
> > > ----- Original Message -----
> > > > Jose,
> > > > Tomcat is using JDK 1.5 and its JDBC
> driver.So I am not
> > > sure if I
> > > > need to upgrade the JDBC driver.
> > >=20
> > > >I suspect that whene DB is getting restarted,
> > >=20
> > > Are you restarting the Oracle database without
> restarting
> > > your Tomcat instance?=A0 Depending on how your
> > > application gets a database connection this could
> be an
> > > issue.
> > >=20
> > > > the idle connections are being removed.
> > >=20
> > > Are you using Tomcat DataSource to manage your
> > > connections?=A0 If so, please include your
> > > <Resource/> tag.
> > >=20
> > > > Not sure how we can avoid this situation
> > >=20
> > > If you are using a DataSource, you could try
> adding
> > > validation.=A0 With DBCP this is done by adding a
> > > "validationQuery" option.=A0 For more details, see
> the
> > > following link.
> > >=20
> > > =A0 https://commons.apache.org/dbcp/configuration.html
> > >=20
> > > Dan
> > >=20
> > >=20
> > > >=20
> > > > Thanks and Regards,
> > > > Vijay Mathew
> > > >=20
> > > > --- On Thu, 19/7/12, Jose Mar=EDa Zaragoza
> <demablogia@gmail.com>
> > > > wrote:
> > > >=20
> > > > > From: Jose Mar=EDa Zaragoza <demablogia@gmail.com>
> > > > > Subject: Re: java.sql.SQLException: No
> more data
> > > to read from
> > > > > socket
> > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > Date: Thursday, 19 July, 2012, 1:28 PM
> > > > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > > > My application is using Tomcat 5.5
> It works
> > > fine all
> > > > > the time however at times when I try to
> login to
> > > the
> > > > > application I get the below exception
> > > > > > java.sql.SQLException: No more data
> to read
> > > from
> > > > > socket
> > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > >
> > >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > >
> > >
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > > > > > Once restart , the application
> works fine.
> > > > > >
> > > > > > How to fix this issue
> > > > > >
> > > > >=20
> > > > > Looks like a JDBC driver issue . Are you
> try to
> > > upgrade it
> > > > > ?
> > > > >=20
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > >=20
> > > > >
> > > >=20
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >=20
> > > >
> > >=20
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>
---507039889-1808694917-1342724126=:8462
Content-Type: text/xml; name="server.xml"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="server.xml"

ICA8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCIgPz4gDQog
PFNlcnZlciBwb3J0PSI4MDc3IiBzaHV0ZG93bj0iU0hVVERPV04iIGRlYnVn
PSIwIj4NCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRh
bGluYS5tYmVhbnMuU2VydmVyTGlmZWN5Y2xlTGlzdGVuZXIiIGRlYnVnPSIw
IiAvPiANCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRh
bGluYS5tYmVhbnMuR2xvYmFsUmVzb3VyY2VzTGlmZWN5Y2xlTGlzdGVuZXIi
IGRlYnVnPSIwIiAvPiANCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFw
YWNoZS5jYXRhbGluYS5zdG9yZWNvbmZpZy5TdG9yZUNvbmZpZ0xpZmVjeWNs
ZUxpc3RlbmVyIiBkZWJ1Zz0iMCIgLz4gDQogPFNlcnZpY2UgbmFtZT0iQWdl
bnQ4MDc3Ij4NCiAgPENvbm5lY3RvciBwb3J0PSI4MDc5IiBtYXhUaHJlYWRz
PSIxNTAiIG1pblNwYXJlVGhyZWFkcz0iMjUiIG1heFNwYXJlVGhyZWFkcz0i
NzUiIGVuYWJsZUxvb2t1cHM9ImZhbHNlIiByZWRpcmVjdFBvcnQ9Ijg0NDMi
IGFjY2VwdENvdW50PSIxMDAiIGRlYnVnPSIwIiBjb25uZWN0aW9uVGltZW91
dD0iMjAwMDAiIGRpc2FibGVVcGxvYWRUaW1lb3V0PSJ0cnVlIiAvPiANCiAg
PENvbm5lY3RvciBwb3J0PSI4MDc4IiBlbmFibGVMb29rdXBzPSJmYWxzZSIg
dG9tY2F0QXV0aGVudGljYXRpb249ImZhbHNlIiByZWRpcmVjdFBvcnQ9Ijg0
NDMiIG1pblByb2Nlc3NvcnM9IjEwIiBtYXhQcm9jZXNzb3JzPSI1MDAwIiBh
Y2NlcHRDb3VudD0iMTAwIiBkZWJ1Zz0iMCIgcHJvdG9jb2w9IkFKUC8xLjMi
IGNvbm5lY3Rpb25UaW1lb3V0PSIzMDAwMDAiIC8+IA0KIDxFbmdpbmUganZt
Um91dGU9InN0MjQ4OSIgbmFtZT0iQWdlbnQ4MDc3IiBkZWZhdWx0SG9zdD0i
bG9jYWxob3N0IiBkZWJ1Zz0iMCI+DQogPE1hbmFnZXIgY2xhc3NOYW1lPSJv
cmcuYXBhY2hlLmNhdGFsaW5hLnNlc3Npb24uUGVyc2lzdGVudE1hbmFnZXIi
IGRlYnVnPSIwIiBzYXZlT25SZXN0YXJ0PSJ0cnVlIiBtYXhBY3RpdmVTZXNz
aW9ucz0iLTEiIG1pbklkbGVTd2FwPSIzMTUiIG1heElkbGVTd2FwPSIzOTAi
IG1heElkbGVCYWNrdXA9IjMwMCI+DQogIDxTdG9yZSBjbGFzc05hbWU9Im9y
Zy5hcGFjaGUuY2F0YWxpbmEuc2Vzc2lvbi5GaWxlU3RvcmUiIC8+IA0KICA8
L01hbmFnZXI+DQogPEhvc3QgbmFtZT0ibG9jYWxob3N0IiBkZWJ1Zz0iMCIg
YXBwQmFzZT0id2ViYXBwcyIgdW5wYWNrV0FScz0iZmFsc2UiIGF1dG9EZXBs
b3k9InRydWUiIHhtbFZhbGlkYXRpb249ImZhbHNlIiB4bWxOYW1lc3BhY2VB
d2FyZT0iZmFsc2UiPg0KIDxEZWZhdWx0Q29udGV4dD4NCiAgPFBhcmFtZXRl
ciBuYW1lPSJNcmtKdm1IdHRwIiB2YWx1ZT0iODA3OSIgb3ZlcnJpZGU9ImZh
bHNlIiAvPiANCiAgPC9EZWZhdWx0Q29udGV4dD4NCiAgPENvbnRleHQgcGF0
aD0iL21ybCIgZG9jQmFzZT0iL3dlYnNpdGVzL21ybC5pbnQuY29tL2phdmEv
bXJsIiBkZWJ1Zz0iMCIgcHJpdmlsZWdlZD0iZmFsc2UiIC8+IA0KICA8L0hv
c3Q+DQogIDwvRW5naW5lPg0KICA8L1NlcnZpY2U+DQogIDwvU2VydmVyPg==



---507039889-1808694917-1342724126=:8462
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
---507039889-1808694917-1342724126=:8462--

From users-return-235541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 20:03:04 2012
Return-Path: <users-return-235541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D0718D1B7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 20:03:04 +0000 (UTC)
Received: (qmail 17886 invoked by uid 500); 19 Jul 2012 20:03:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 17836 invoked by uid 500); 19 Jul 2012 20:03:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 17825 invoked by uid 99); 19 Jul 2012 20:03:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:03:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:02:54 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id cAjT1j0060xGWP851L2aFX; Thu, 19 Jul 2012 20:02:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id cL2F1j00T38FjT13YL2Hbc; Thu, 19 Jul 2012 20:02:17 +0000
Message-ID: <500867D4.5090905@christopherschultz.net>
Date: Thu, 19 Jul 2012 16:02:28 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
In-Reply-To: <1342673385.5390.YahooMailClassic@web193504.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vijar,

On 7/19/12 12:49 AM, vijay mathew wrote:
> My application is using Tomcat 5.5 It works fine all the time

Great.

> however at times when I try to login to the application I get the 
> below exception

Oh, I thought you said it works fine all the time. Hrmph.

> java.sql.SQLException: No more data to read from socket at
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
>
> 
at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> at
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
>
> 
Once restart , the application works fine.

It looks like you are trying to read data from a socket that doesn't
have any more data left to read.

> How to fix this issue

Stop reading when you run out of data?

Post the rest of the stack trace.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAIZ9QACgkQ9CaO5/Lv0PAS/ACdHTPt2o2EJioZ1KbpjVFTfDFv
fD4AoJOkjkOvgIKupYPtr9gye3NAiUGi
=sxHq
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 20:03:16 2012
Return-Path: <users-return-235542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A37C3D1BA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 20:03:16 +0000 (UTC)
Received: (qmail 21544 invoked by uid 500); 19 Jul 2012 20:03:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21498 invoked by uid 500); 19 Jul 2012 20:03:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21489 invoked by uid 99); 19 Jul 2012 20:03:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:03:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:03:05 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id cBhs1j0030vyq2s51L2nLs; Thu, 19 Jul 2012 20:02:47 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id cL2q1j00D38FjT13RL2rd1; Thu, 19 Jul 2012 20:02:52 +0000
Message-ID: <500867E1.4020802@christopherschultz.net>
Date: Thu, 19 Jul 2012 16:02:41 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <CABOBwRjq22MsSXt7YNFih9yPuVwws893aTj2hhFhif4AO3Nb=g@mail.gmail.com> <1342696427.9109.YahooMailClassic@web193505.mail.sg3.yahoo.com> <CABOBwRhPkeqdMc53qX9i-XVEuKMMc2yzz6++jmLBUaQ=tWm23g@mail.gmail.com>
In-Reply-To: <CABOBwRhPkeqdMc53qX9i-XVEuKMMc2yzz6++jmLBUaQ=tWm23g@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jose,

On 7/19/12 8:36 AM, Jose María Zaragoza wrote:
> 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
>> Jose, Tomcat is using JDK 1.5 and its JDBC driver.So I am not
>> sure if I need to upgrade the JDBC driver. I suspect that whene
>> DB is getting restarted, the idle connections are being removed.
>> Not sure how we can avoid this >situation
> 
> OK, so you are restarting the database ... Maybe you could test a
> property called "validationQuery", but I don't know if it exists in
> Tomcat 5.5's  DBCP

It does.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAIZ+EACgkQ9CaO5/Lv0PDksQCeOpFDZ+fmXAXXIYBhkrGWfHnD
HboAnjBG7IWusw731sBItliQFgnZssuY
=Wztu
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 20:29:50 2012
Return-Path: <users-return-235543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0C2BC50A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 20:29:49 +0000 (UTC)
Received: (qmail 91049 invoked by uid 500); 19 Jul 2012 20:29:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90992 invoked by uid 500); 19 Jul 2012 20:29:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90982 invoked by uid 99); 19 Jul 2012 20:29:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:29:30 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 20:29:23 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id A0449284AF
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
Received: from zimbra-prod-mta-2.vmware.com (zimbra-prod-mta-2.vmware.com [10.113.160.174])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id 9B759B0292
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 953D822DD7
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-2.vmware.com
Received: from zimbra-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id csNXSi71N6NS for <users@tomcat.apache.org>;
	Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 7406322D52
	for <users@tomcat.apache.org>; Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
Date: Thu, 19 Jul 2012 13:29:03 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <27930095.457.1342729741763.JavaMail.daniel@cleveland>
In-Reply-To: <1342724126.8462.YahooMailClassic@web193502.mail.sg3.yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----
> Thanks Daniel.
>=20
> -> DB is getting restarted every weekend but tomcat is not getting
> restarted at the same time.
> just fyi this issue doesnt happen every time. It happens once every
> month even if the DB is getting restarted every week.
> So not sure wat is the exact root cause

> ->I have attached the server.xml. I dont find the Resource tag here..

Is the <Resource/> tag defined somewhere else?  Perhaps in a <Context/> tag=
?  conf/context.xml, conf/Catalina/localhost/<app>.xml or META-INF/context.=
xml?

> From java code, a data source is created using
> PoolableConnectionFactory and GenericObjectPool and then a
> connection is retrieved from this datasource.

What Java code?  Your web application?  Are you manually creating the DataS=
ource and connection pool?

Dan



>=20
> --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:
>=20
> > From: Daniel Mikusa <dmikusa@vmware.com>
> > Subject: Re: java.sql.SQLException: No more data to read from
> > socket
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Date: Thursday, 19 July, 2012, 9:53 PM
> > ----- Original Message -----
> > > Thanks Daniel and Jose.
> > > Do you knoe what is the root cause of this issue
> >=20
> > It's hard to say since you have not answered the questions
> > from my previous email, you have not posted your data source
> > configuration and you have only posted a partial stack
> > trace.
> >=20
> > Nevertheless, I will venture a guess.=C2=A0 *If* you are in
> > fact restarting your Oracle database then that would
> > disconnect any persistent connections maintained by the
> > connection pool.
> >=20
> > Given that your connection pool would contain a bunch of
> > connections which have been disconnected, you would either
> > need to restart Tomcat (which will create a fresh connection
> > pool) or configure your connection pool to find and replace
> > the closed connections (hence the suggestion to use a
> > validationQuery).
> >=20
> > That's just a guess though, I do not believe that the amount
> > of information that you have provided is sufficient to give
> > you an exact answer.
> >=20
> > Dan
> >=20
> >=20
> >=20
> > >=20
> > > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> > wrote:
> > >=20
> > > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > > Subject: Re: java.sql.SQLException: No more data
> > to read from
> > > > socket
> > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > Date: Thursday, 19 July, 2012, 5:39 PM
> > > > ----- Original Message -----
> > > > > Jose,
> > > > > Tomcat is using JDK 1.5 and its JDBC
> > driver.So I am not
> > > > sure if I
> > > > > need to upgrade the JDBC driver.
> > > >=20
> > > > >I suspect that whene DB is getting restarted,
> > > >=20
> > > > Are you restarting the Oracle database without
> > restarting
> > > > your Tomcat instance?=C2=A0 Depending on how your
> > > > application gets a database connection this could
> > be an
> > > > issue.
> > > >=20
> > > > > the idle connections are being removed.
> > > >=20
> > > > Are you using Tomcat DataSource to manage your
> > > > connections?=C2=A0 If so, please include your
> > > > <Resource/> tag.
> > > >=20
> > > > > Not sure how we can avoid this situation
> > > >=20
> > > > If you are using a DataSource, you could try
> > adding
> > > > validation.=C2=A0 With DBCP this is done by adding a
> > > > "validationQuery" option.=C2=A0 For more details, see
> > the
> > > > following link.
> > > >=20
> > > > =C2=A0 https://commons.apache.org/dbcp/configuration.html
> > > >=20
> > > > Dan
> > > >=20
> > > >=20
> > > > >=20
> > > > > Thanks and Regards,
> > > > > Vijay Mathew
> > > > >=20
> > > > > --- On Thu, 19/7/12, Jose Mar=C3=ADa Zaragoza
> > <demablogia@gmail.com>
> > > > > wrote:
> > > > >=20
> > > > > > From: Jose Mar=C3=ADa Zaragoza <demablogia@gmail.com>
> > > > > > Subject: Re: java.sql.SQLException: No
> > more data
> > > > to read from
> > > > > > socket
> > > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > > Date: Thursday, 19 July, 2012, 1:28 PM
> > > > > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > > > > My application is using Tomcat 5.5
> > It works
> > > > fine all
> > > > > > the time however at times when I try to
> > login to
> > > > the
> > > > > > application I get the below exception
> > > > > > > java.sql.SQLException: No more data
> > to read
> > > > from
> > > > > > socket
> > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > >
> > > >
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java=
:74)
> > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110=
)
> > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:1=
71)
> > > > > > > Once restart , the application
> > works fine.
> > > > > > >
> > > > > > > How to fix this issue
> > > > > > >
> > > > > >=20
> > > > > > Looks like a JDBC driver issue . Are you
> > try to
> > > > upgrade it
> > > > > > ?
> > > > > >=20
> > > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > For additional commands, e-mail:
> > > > > > users-help@tomcat.apache.org
> > > > > >=20
> > > > > >
> > > > >=20
> > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > >=20
> > > > >
> > > >=20
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >=20
> > > >
> > >=20
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >=20
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 22:11:14 2012
Return-Path: <users-return-235544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10886D0DC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 22:11:14 +0000 (UTC)
Received: (qmail 81925 invoked by uid 500); 19 Jul 2012 22:11:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81721 invoked by uid 500); 19 Jul 2012 22:11:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81706 invoked by uid 99); 19 Jul 2012 22:11:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 22:11:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 22:10:24 +0000
Received: by ggnp1 with SMTP id p1so4318530ggn.18
        for <users@tomcat.apache.org>; Thu, 19 Jul 2012 15:10:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=0gFbjMOD7aFEELDXQUWnCn5Sq2ROi13M9TQM809lgy4=;
        b=RKufJCGZclCBEe+kWBe/eN79s2dYqQ00jXG2kYTqEWoOrOrJa3z40NRo4jwJiyTesE
         zmz0FpLIf1Nbu73yKFRmFzBsh233R5m6GOtPcuIQvTnkLE3Ko7vOlm+3/s2EcRckmE3/
         qars+vW4JXKHs/KO7OL6W3XDAVrq5whAv9NpeqW5MJg4+oH2Dm27P/18QeMSFKqGl/AQ
         rWp4LxR6e2B8IzR3QxP0zPi/d/O3tAaETPvs7yJm5ogptZ/bwnEYnE2HDbThsZ3+e0ie
         MsvR2k6am8e00mFomhe8TFiSI4a+BsDcgEQ3Bpaw2d7cMOCXpX8/Lwg8Rkxju6JdRsp7
         5G5Q==
Received: by 10.236.147.5 with SMTP id s5mr3569464yhj.87.1342735800440;
        Thu, 19 Jul 2012 15:10:00 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id z42sm6106861yhd.1.2012.07.19.15.09.58
        (version=SSLv3 cipher=OTHER);
        Thu, 19 Jul 2012 15:09:59 -0700 (PDT)
Message-ID: <500885BE.9000904@touchtonecorp.com>
Date: Thu, 19 Jul 2012 15:10:06 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQlauEhB7U+VzkP+Ad2jg7ASVwRKSVc5SvGsl2HHnYyvSOhzvuv4lYwqunrRWrWL75g14jzM
X-Virus-Checked: Checked by ClamAV on apache.org

Theoretically, I've ironed out the bugs concerning which JVMs Tomcat 
will run under, but it still isn't coming up.

The STDOUT from attempting to start Tomcat is as follows:

> /wintouch/tomcat/bin/catalina.sh: 001-0019 Error found searching for command tty. No such path or directory.
> Using CATALINA_BASE:   /wintouch/tomcat                                                                     
> Using CATALINA_HOME:   /wintouch/tomcat                                                                     
> Using CATALINA_TMPDIR: /wintouch/tomcat/temp                                                                
> Using JRE_HOME:        /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit                                           
> Using CLASSPATH:       /wintouch/tomcat/bin/bootstrap.jar:/wintouch/tomcat/bin/tomcat-juli.jar              


Which is to say, /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit/jre is a JVM 
that, so far as I'm aware, doesn't have any problems with Tomcat. 
Everything above is exactly the same as in a successful launch on our 
V6R1 box.

And Catalina.out is mercifully short this time:

> java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina
> at java.net.URLClassLoader.findClass(URLClassLoader.java:432)        
> at java.lang.ClassLoader.loadClass(ClassLoader.java:642)             
> at java.lang.ClassLoader.loadClass(ClassLoader.java:608)             
> at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:236)    
> at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)    


It's obviously trying to tell me SOMETHING, but I can't determine WHAT 
it's trying to tell me.

Any ideas? I don't see the class it's complaining about in either of the 
two JARs listed on the classpath dumped to STDOUT, but if that were the 
problem, it wouldn't work here, either.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 23:26:38 2012
Return-Path: <users-return-235545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8AF4DCEA0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 23:26:38 +0000 (UTC)
Received: (qmail 85611 invoked by uid 500); 19 Jul 2012 23:26:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85566 invoked by uid 500); 19 Jul 2012 23:26:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85556 invoked by uid 99); 19 Jul 2012 23:26:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 23:26:35 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.67] (HELO elasmtp-scoter.atl.sa.earthlink.net) (209.86.89.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 23:26:27 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-scoter.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Ss06g-000076-6v
	for users@tomcat.apache.org; Thu, 19 Jul 2012 19:26:06 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500885BE.9000904@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-Kfhub4uCjuDsOmX/iaQl"
Organization: Clifton Farm
Date: Thu, 19 Jul 2012 19:28:04 -0400
Message-ID: <1342740484.27712.11.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b76430b255944c24bfcd12b07bc47b65cfebd7350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-Kfhub4uCjuDsOmX/iaQl
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Thu, 2012-07-19 at 15:10 -0700, James Lampert wrote:
> Theoretically, I've ironed out the bugs concerning which JVMs Tomcat=20
> will run under, but it still isn't coming up.
>=20
> The STDOUT from attempting to start Tomcat is as follows:
>=20
> > /wintouch/tomcat/bin/catalina.sh: 001-0019 Error found searching for co=
mmand tty. No such path or directory.
> > Using CATALINA_BASE:   /wintouch/tomcat                                =
                                    =20
> > Using CATALINA_HOME:   /wintouch/tomcat                                =
                                    =20
> > Using CATALINA_TMPDIR: /wintouch/tomcat/temp                           =
                                    =20
> > Using JRE_HOME:        /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit      =
                                    =20
> > Using CLASSPATH:       /wintouch/tomcat/bin/bootstrap.jar:/wintouch/tom=
cat/bin/tomcat-juli.jar             =20
>=20
>=20
> Which is to say, /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit/jre is a JVM=20
> that, so far as I'm aware, doesn't have any problems with Tomcat.=20
> Everything above is exactly the same as in a successful launch on our=20
> V6R1 box.
>=20
> And Catalina.out is mercifully short this time:
>=20
> > java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina
> > =05at java.net.URLClassLoader.findClass(URLClassLoader.java:432)       =
=20
> > =05at java.lang.ClassLoader.loadClass(ClassLoader.java:642)            =
=20
> > =05at java.lang.ClassLoader.loadClass(ClassLoader.java:608)            =
=20
> > =05at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:236)   =
=20
> > =05at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)   =
=20
>=20
>=20
> It's obviously trying to tell me SOMETHING, but I can't determine WHAT=20
> it's trying to tell me.
>=20
It's trying to tell you it can't find the class o.a.c.startup.Catalina.
This is normally in <TC_HOME>/lib/catalina.jar.
     A. Does it exist there?
     B. Does the user the process is running as have permission to read
        that file and directory?
     C. If yes to A & B, is the file corrupt?

> Any ideas? I don't see the class it's complaining about in either of the=20
> two JARs listed on the classpath dumped to STDOUT, but if that were the=20
> problem, it wouldn't work here, either.
>=20
> --
> JHHL
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-Kfhub4uCjuDsOmX/iaQl
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQCJf4AAoJEAfDBXDHBQilVmYH/1LuWkUCKok1gx9qeF8F7Dcj
cGBNeh9/9VqmUCD5WeY5JL0ApFWpT/x1psYuBRNWjraRdhMoc68CORkgTfu9ZGMm
y43wQwXVGbT68GsK7UdkaI/1t9AWPYZAA3ZI0OiKlGcRWtXPaXYvHxk0K8Pf3txm
VR1NLpCTUru8HdAGXtawLyvygvQx7dV5NGlip0Etp3iR9dT+eY+y16+/8QTOlox7
Gb6miOicu8jdTfh7AL9AWtgtenWDY77Sdrlh1viA1Q57e0Bsc52LnkKFxqXeHaqT
D/dUmtEFiJlmQ13YeJOrsXw/aJoeVWpVT+zkjgy4UbHoMNN37m0Jjvd1Jzbasbk=
=Pyie
-----END PGP SIGNATURE-----

--=-Kfhub4uCjuDsOmX/iaQl--


From users-return-235546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 19 23:51:54 2012
Return-Path: <users-return-235546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DFCDFC0E1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 19 Jul 2012 23:51:53 +0000 (UTC)
Received: (qmail 54735 invoked by uid 500); 19 Jul 2012 23:51:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54693 invoked by uid 500); 19 Jul 2012 23:51:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54683 invoked by uid 99); 19 Jul 2012 23:51:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 23:51:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jul 2012 23:51:43 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6JNpLbU008378
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 01:51:21 +0200 (CEST)
Message-ID: <50089D6E.9020602@kippdata.de>
Date: Fri, 20 Jul 2012 01:51:10 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>
In-Reply-To: <500885BE.9000904@touchtonecorp.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 20.07.2012 00:10, James Lampert wrote:
> Theoretically, I've ironed out the bugs concerning which JVMs Tomcat
> will run under, but it still isn't coming up.
>
> The STDOUT from attempting to start Tomcat is as follows:
>
>> /wintouch/tomcat/bin/catalina.sh: 001-0019 Error found searching for
>> command tty. No such path or directory.
>> Using CATALINA_BASE:   /wintouch/tomcat Using CATALINA_HOME:
>> /wintouch/tomcat Using CATALINA_TMPDIR: /wintouch/tomcat/temp Using
>> JRE_HOME:        /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit Using
>> CLASSPATH:
>> /wintouch/tomcat/bin/bootstrap.jar:/wintouch/tomcat/bin/tomcat-juli.jar
>
>
> Which is to say, /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit/jre is a JVM
> that, so far as I'm aware, doesn't have any problems with Tomcat.
> Everything above is exactly the same as in a successful launch on our
> V6R1 box.
>
> And Catalina.out is mercifully short this time:
>
>> java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina
>> at java.net.URLClassLoader.findClass(URLClassLoader.java:432) at
>> java.lang.ClassLoader.loadClass(ClassLoader.java:642) at
>> java.lang.ClassLoader.loadClass(ClassLoader.java:608) at
>> org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:236) at
>> org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)
>
>
> It's obviously trying to tell me SOMETHING, but I can't determine WHAT
> it's trying to tell me.
>
> Any ideas? I don't see the class it's complaining about in either of the
> two JARs listed on the classpath dumped to STDOUT, but if that were the
> problem, it wouldn't work here, either.

The Catalina class is loaded in Bootstrap using the server classloader:

         Class<?> startupClass =
             catalinaLoader.loadClass
             ("org.apache.catalina.startup.Catalina");

This Tomcat class loaders use a configuration file, which by default is 
(using your path) /wintouch/tomcat/conf/catalina.properties.

By Default the search oath for the server loader is empty (entry 
server.loader in the file). But the server loader delegates to the 
so-called common loader. That one looks for the entry common.loader in 
catalina.properties which by default is

${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar

Here catalina.base and catalina.out are set by the startup script as 
system properties on the commandloine and in your case should both point 
to /wintouch/tomcat/. The common loader will then find the class 
Catalina in /wintouch/tomcat/lib/catalina.jar.

All this works by default in an untampered Tomcat installation. It can 
break:

- if catalina.jar is not in /wintouch/tomcat/lib or it is not readable

- if catalina.properties is not in /wintouch/tomcat/conf, or it is not 
readable, or the entries for the server.loader or common.loader are broken

- the start scripts do not set -Dcatalina.base=/wintouch/tomcat/ and 
-Dcatalina.home=/wintouch/tomcat/ when starting the JVM

- you are changing the place of the used properties file by giving a 
non-default value in the system property -Dcatalina.config during startup.

Regards,

Rainer

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 00:25:32 2012
Return-Path: <users-return-235547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C3C3CAD5
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 00:25:32 +0000 (UTC)
Received: (qmail 31762 invoked by uid 500); 20 Jul 2012 00:25:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31709 invoked by uid 500); 20 Jul 2012 00:25:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31699 invoked by uid 99); 20 Jul 2012 00:25:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:25:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:25:19 +0000
Received: by ghrr14 with SMTP id r14so4440681ghr.18
        for <users@tomcat.apache.org>; Thu, 19 Jul 2012 17:24:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=jT9YiqXtcm9yBH5hYzJUPCBl4lEOYCgETnKNkOUQs7I=;
        b=SHiG+mLVjvrAqt+sRWTIYMSy8mQLJTpuzoJ3eIIbXvUnJdE5xXTroAIZycIkSRvnDv
         s0LMs8bbo4sABAIQDBBwHD+bGds2wJ6FmcOfWITP6DpIOa1UM1bm/wquILSsddP67HGG
         MzvgV7brQjR//w5L/w6ON1kIC5yKMUBJ43LfarldNOtQRpmJm3tFqBZ3yakFc99S6lpV
         0arcow69PI6p39jFeerd4t1CRT3cyW5iul9Vm0ksBvetpcp0psL+4AfuDAt+983PSti8
         9lcRqqNYr2dDPJOaXW4k97FVLSz9B2NFnwvzXjyCAYVD1DM7IwIqtmnlnUtg0pTznFWN
         uLCg==
Received: by 10.236.165.102 with SMTP id d66mr4040105yhl.54.1342743898254;
        Thu, 19 Jul 2012 17:24:58 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id c64sm6706934yhj.17.2012.07.19.17.24.56
        (version=SSLv3 cipher=OTHER);
        Thu, 19 Jul 2012 17:24:57 -0700 (PDT)
Message-ID: <5008A560.6090808@touchtonecorp.com>
Date: Thu, 19 Jul 2012 17:25:04 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com> <50089D6E.9020602@kippdata.de>
In-Reply-To: <50089D6E.9020602@kippdata.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQlU9W2NK51NBWMeUpLIT3rm1EeIoQjlZJGsNKFkBJCyYeo5iPNnwrn6qvfezib8A+6fPUdy

Tim:
> This is normally in <TC_HOME>/lib/catalina.jar.
>      A. Does it exist there?
>      B. Does the user the process is running as have permission to read
>         that file and directory?
>      C. If yes to A & B, is the file corrupt?

/wintouch/tomcat/lib/catalina.jar exists. I had to FTP it elsewhere to 
check its validity, but it seems valid. And the authorities for it look 
exactly the same as those for /wintouch/tomcat/bin/bootstrap.jar.

Rainer:

> - if catalina.jar is not in /wintouch/tomcat/lib or it is not readable
> 
> - if catalina.properties is not in /wintouch/tomcat/conf, or it is not readable, or the entries for the server.loader or common.loader are broken
> 
> - the start scripts do not set -Dcatalina.base=/wintouch/tomcat/ and -Dcatalina.home=/wintouch/tomcat/ when starting the JVM
> 
> - you are changing the place of the used properties file by giving a non-default value in the system property -Dcatalina.config during startup.

Everything looks like it's in the right place, undamaged, and without 
authority issues.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 00:26:06 2012
Return-Path: <users-return-235548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD162CE26
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 00:26:06 +0000 (UTC)
Received: (qmail 36040 invoked by uid 500); 20 Jul 2012 00:26:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35950 invoked by uid 500); 20 Jul 2012 00:26:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35940 invoked by uid 99); 20 Jul 2012 00:26:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:26:03 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [106.10.149.85] (HELO nm17-vm6.bullet.mail.sg3.yahoo.com) (106.10.149.85)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 20 Jul 2012 00:25:55 +0000
Received: from [106.10.166.125] by nm17.bullet.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:25:33 -0000
Received: from [106.10.151.203] by tm14.bullet.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:25:33 -0000
Received: from [127.0.0.1] by omp1015.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:25:33 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 737866.40478.bm@omp1015.mail.sg3.yahoo.com
Received: (qmail 72749 invoked by uid 60001); 20 Jul 2012 00:25:33 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342743933; bh=wOvCADEnwWs3kKaWaM3YRezmGYmT8Azts4GZYsY6Bfk=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=6VoAqOh2NI7KempyQE3e7dXkCmMoUKrdXf544pIkc5ZgfamkWNhnx3Uct7JyhQY7v7WYYrErENr7A7P1pM++X+OurYSLiClq3wS1AU5vSZ6gl7ROjsdNAO85W2AEJav2RL8/NjeGTqJbOGILRhBxrCGWMY/LUbKYsYSHtN+BS00=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zD8nkEi4jYU1QEjMVPm6EH+/v5tjXPrxJh2wcDdNR2TtOY2j6jdryMH1KFu0c3pEQn2d+sHO3oC7ae57hMfG1BMcVF8HvPoAQo6WGsbbFcQXN3sX/Gf2eZxDmNou/nICRQ6Rv2UWe9Pu1ti0OktihWavF0UrmFh9r7OP4/PzNPg=;
X-YMail-OSG: KUBcWw8VM1nkdY7GffD6aNV9HVgN8ARu6UdBLP2PzbWl3A5
 cWSBZv3AqORx1j5DbYaFArUGa3k4mRZgwq.nRNItWiHUKwaZDvMlJvopz..s
 5WykROo3NGCY9.m78VAQN_pxlXUmUFwYUQfcGkNOT9dRv_TXUfPzWBvlBmH7
 VOYvCXghNAZ8OAo8Yi4BK6sIRVGng7vJyN1MhHBXf9.S67zi0TlytIkb4idA
 MSbpz28PvlDQGN0coxFzleI5WeEsqrcstAK9O24v_sc7qBRmmGkypXHLJq6q
 TvxjoxpmuD.I7ImqHiv946zTKdFvXGlgAp4fGehzS3V6s4YU5WPduUBuPqhD
 LpzhVG0Upw.C.NXGAH9WKgzn3sxEVHm6Ub_cqrbdQoiemk7zRXGfDMpUo6bv
 ZKrZfrgr6waQrXzqpr7n5GTmhAFSCYcPJTmxpxKNxnx0s0ojmII25KpOfs.S
 RxpxCtRurh6WfDQgxututhNXeW_5qzjaCtX8DEDIgSNB_CzM_Xq2LArP_5R4
 5JYXyVkpESFR8TGnJGianinaQAiHtDrIeK1jdaEJmu5Q4G1_U5N0-
Received: from [155.91.28.231] by web193503.mail.sg3.yahoo.com via HTTP; Fri, 20 Jul 2012 08:25:33 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342743933.65571.YahooMailClassic@web193503.mail.sg3.yahoo.com>
Date: Fri, 20 Jul 2012 08:25:33 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500867D4.5090905@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

The entire stacktrace is as below
java.sql.SQLException: No more data to read from socket
=09at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.ja=
va:74)
=09at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:1=
10)
=09at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java=
:171)
=09at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java=
:227)
=09at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java=
:439)
=09at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
=09at oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
=09at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
=09at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
=09at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:=
774)
=09at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.jav=
a:849)
=09at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStateme=
nt.java:1186)
=09at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:=
1377)
=09at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatemen=
tWrapper.java:386)
=09at com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:12=
4)
=09at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
=09at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl=
icationFilterChain.java:252)
=09at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF=
ilterChain.java:173)
=09at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV=
alve.java:213)
=09at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV=
alve.java:178)
=09at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j=
ava:126)
=09at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j=
ava:105)
=09at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal=
ve.java:107)
=09at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav=
a:151)
=09at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:199)
=09at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:282)
=09at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:754)
=09at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.ja=
va:684)
=09at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSock=
et.java:876)
=09at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP=
ool.java:684)
=09at java.lang.Thread.run(Thread.java:595)

--- On Fri, 20/7/12, Christopher Schultz <chris@christopherschultz.net> wro=
te:

> From: Christopher Schultz <chris@christopherschultz.net>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Friday, 20 July, 2012, 1:32 AM
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Vijar,
>=20
> On 7/19/12 12:49 AM, vijay mathew wrote:
> > My application is using Tomcat 5.5 It works fine all
> the time
>=20
> Great.
>=20
> > however at times when I try to login to the application
> I get the=20
> > below exception
>=20
> Oh, I thought you said it works fine all the time. Hrmph.
>=20
> > java.sql.SQLException: No more data to read from socket
> at
> >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> >
> >=20
> at
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > at
> >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> >
> >=20
> Once restart , the application works fine.
>=20
> It looks like you are trying to read data from a socket that
> doesn't
> have any more data left to read.
>=20
> > How to fix this issue
>=20
> Stop reading when you run out of data?
>=20
> Post the rest of the stack trace.
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEYEARECAAYFAlAIZ9QACgkQ9CaO5/Lv0PAS/ACdHTPt2o2EJioZ1KbpjVFTfDFv
> fD4AoJOkjkOvgIKupYPtr9gye3NAiUGi
> =3DsxHq
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 00:31:30 2012
Return-Path: <users-return-235549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CCAE91E0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 00:31:30 +0000 (UTC)
Received: (qmail 52415 invoked by uid 500); 20 Jul 2012 00:31:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52349 invoked by uid 500); 20 Jul 2012 00:31:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52340 invoked by uid 99); 20 Jul 2012 00:31:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:31:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [173.165.135.210] (HELO valadd.com) (173.165.135.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:31:22 +0000
Received: from [10.0.10.18] ([10.0.10.18]) by valadd.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 19 Jul 2012 18:29:46 -0600
Message-ID: <5008A679.2090103@valadd.com>
Date: Thu, 19 Jul 2012 18:29:45 -0600
From: Pete Helgren <pete@valadd.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com> <50089D6E.9020602@kippdata.de> <5008A560.6090808@touchtonecorp.com>
In-Reply-To: <5008A560.6090808@touchtonecorp.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 20 Jul 2012 00:29:46.0750 (UTC) FILETIME=[C3FFA9E0:01CD660E]
X-Virus-Checked: Checked by ClamAV on apache.org

The error might be a red herring or a show stopper but I also have:

export -s JAVA_OPTS="-Dos400.awt.native=true -Djava.awt.headless=true  
-Xms256m -Xmx512m"

In my catalina.sh script.  That took care of a tty error I had (although 
I don't know if that is the issue in your case).

Pete Helgren
Value Added Software, Inc
www.petesworkshop.com
GIAC Secure Software Programmer-Java

On 7/19/2012 6:25 PM, James Lampert wrote:
> Tim:
>> This is normally in <TC_HOME>/lib/catalina.jar.
>>      A. Does it exist there?
>>      B. Does the user the process is running as have permission to read
>>         that file and directory?
>>      C. If yes to A & B, is the file corrupt?
>
> /wintouch/tomcat/lib/catalina.jar exists. I had to FTP it elsewhere to 
> check its validity, but it seems valid. And the authorities for it 
> look exactly the same as those for /wintouch/tomcat/bin/bootstrap.jar.
>
> Rainer:
>
>> - if catalina.jar is not in /wintouch/tomcat/lib or it is not readable
>>
>> - if catalina.properties is not in /wintouch/tomcat/conf, or it is 
>> not readable, or the entries for the server.loader or common.loader 
>> are broken
>>
>> - the start scripts do not set -Dcatalina.base=/wintouch/tomcat/ and 
>> -Dcatalina.home=/wintouch/tomcat/ when starting the JVM
>>
>> - you are changing the place of the used properties file by giving a 
>> non-default value in the system property -Dcatalina.config during 
>> startup.
>
> Everything looks like it's in the right place, undamaged, and without 
> authority issues.
>
> -- 
> JHHL
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 00:34:36 2012
Return-Path: <users-return-235550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46ABE91FF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 00:34:36 +0000 (UTC)
Received: (qmail 61551 invoked by uid 500); 20 Jul 2012 00:34:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61443 invoked by uid 500); 20 Jul 2012 00:34:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61434 invoked by uid 99); 20 Jul 2012 00:34:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 00:34:33 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.84] (HELO nm17-vm5.bullet.mail.sg3.yahoo.com) (106.10.149.84)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 20 Jul 2012 00:34:25 +0000
Received: from [106.10.166.60] by nm17.bullet.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:34:03 -0000
Received: from [106.10.151.219] by tm17.bullet.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:34:03 -0000
Received: from [127.0.0.1] by omp1017.mail.sg3.yahoo.com with NNFMP; 20 Jul 2012 00:34:03 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 110229.69864.bm@omp1017.mail.sg3.yahoo.com
Received: (qmail 20412 invoked by uid 60001); 20 Jul 2012 00:34:03 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342744443; bh=o+dxtSlqArgFikKwkaEMf7YJTR76GLOp0hvo/LCn3Cg=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=heKTYf5r739KNpjXIy3qKhFpj9EnHhdD1NdbpKo4FEFhQ9yeiUpV28o4TWw1fGR/NOLcXMJZ1WYGu8gE0XR1Fhax5Ch10aMu7v1JPVWPJXNw24w2kCWctqFlSfUe/8EBxtGm/SdOyFwn36yGyETMXK7J5G1kEgW9O/k7g2PdD8M=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=UFFmBZVue2/4F9j9suhGcWAXUemT1uxDyDE/gJqLfVwz25rxg7cHfDqtHB/UYdGsNNhZBVH8J83YuVgNHpEbRHt/7BYgC9907eB2YjcTS8UVVmfcrWBmQ45ksG9BpRE900glK7R4xk8BxSW9wl7JuNOG6XHcriMCKsRvyroQQxQ=;
X-YMail-OSG: 9AzT5nEVM1kx1WcGLmUlFxCOpAigXuVCZjQStWaArzvjanE
 TuiGBD5EC9MLpsOwHEGiYGZVJSFM3MSw._3.X4f9RHheBQf0FxW4.RmFSGEf
 5b49ZvFhpSXpWGzTtzvzS809QB1WPTyUnUxMpFd9OnsZ1T3H3I11hXQgGObP
 0pFCbFtjEtn6HZpkcZJ_OmxILKvBysJ9pihlSybhw6G2zPBSvamUULZjxBxu
 P6W5Dyukm5186ch4awRmvkw7Z58dWrJLZuCWo98drY1M3_k2OVosyNGxPi3r
 idpCHWebCmAN4rzbWGLGjKS38t.9DYf07alLoJFrLZwmCQVkK.7GZq2SJZWm
 illqk2qIvCFgvdRrQoOvtuq925GAHnj8ytX09ovK3ls5GkWvFOlxbjSdWK2Y
 dWt2UrIO8zSf5mMlaRRgO8fP_e0YcUw_Ds1L3O6010N7kTuXLDayV7gpzMg6
 2uvhviZKEXyM7.6jhGvvKri8NnATaW3lPz5DwBh8AEENU6RAClyQ-
Received: from [155.91.28.231] by web193504.mail.sg3.yahoo.com via HTTP; Fri, 20 Jul 2012 08:34:02 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342744442.14527.YahooMailClassic@web193504.mail.sg3.yahoo.com>
Date: Fri, 20 Jul 2012 08:34:02 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <27930095.457.1342729741763.JavaMail.daniel@cleveland>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Daniel,
      It is a web application. I was just referring to the java code in the=
 webapplication.
This is how we retrieve the connection=20
Class.forName(driver);
ObjectPool connectionPool =3D new GenericObjectPool(null);
ConnectionFactory connectionFactory =3D new DriverManagerConnectionFactory(=
connectionURI,userName,password);
PoolableConnectionFactory poolableConnectionFactory =3D new PoolableConnect=
ionFactory(connectionFactory,connectionPool,null,null,defaultReadOnly,defau=
ltAutoCommit);
coDataSource =3D new PoolingDataSource(connectionPool);
}=20

coDataSource  is a static object and a connection is obtained whenever need=
ed ,using coDataSource.getConnection()


--- On Fri, 20/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:

> From: Daniel Mikusa <dmikusa@vmware.com>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Friday, 20 July, 2012, 1:59 AM
> ----- Original Message -----
> > Thanks Daniel.
> >=20
> > -> DB is getting restarted every weekend but tomcat
> is not getting
> > restarted at the same time.
> > just fyi this issue doesnt happen every time. It
> happens once every
> > month even if the DB is getting restarted every week.
> > So not sure wat is the exact root cause
>=20
> > ->I have attached the server.xml. I dont find the
> Resource tag here..
>=20
> Is the <Resource/> tag defined somewhere else?=A0
> Perhaps in a <Context/> tag?=A0 conf/context.xml,
> conf/Catalina/localhost/<app>.xml or
> META-INF/context.xml?
>=20
> > From java code, a data source is created using
> > PoolableConnectionFactory and GenericObjectPool and
> then a
> > connection is retrieved from this datasource.
>=20
> What Java code?=A0 Your web application?=A0 Are you
> manually creating the DataSource and connection pool?
>=20
> Dan
>=20
>=20
>=20
> >=20
> > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> wrote:
> >=20
> > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > Subject: Re: java.sql.SQLException: No more data
> to read from
> > > socket
> > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > Date: Thursday, 19 July, 2012, 9:53 PM
> > > ----- Original Message -----
> > > > Thanks Daniel and Jose.
> > > > Do you knoe what is the root cause of this
> issue
> > >=20
> > > It's hard to say since you have not answered the
> questions
> > > from my previous email, you have not posted your
> data source
> > > configuration and you have only posted a partial
> stack
> > > trace.
> > >=20
> > > Nevertheless, I will venture a guess.=A0 *If* you
> are in
> > > fact restarting your Oracle database then that
> would
> > > disconnect any persistent connections maintained
> by the
> > > connection pool.
> > >=20
> > > Given that your connection pool would contain a
> bunch of
> > > connections which have been disconnected, you
> would either
> > > need to restart Tomcat (which will create a fresh
> connection
> > > pool) or configure your connection pool to find
> and replace
> > > the closed connections (hence the suggestion to
> use a
> > > validationQuery).
> > >=20
> > > That's just a guess though, I do not believe that
> the amount
> > > of information that you have provided is
> sufficient to give
> > > you an exact answer.
> > >=20
> > > Dan
> > >=20
> > >=20
> > >=20
> > > >=20
> > > > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> > > wrote:
> > > >=20
> > > > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > > > Subject: Re: java.sql.SQLException: No
> more data
> > > to read from
> > > > > socket
> > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > Date: Thursday, 19 July, 2012, 5:39 PM
> > > > > ----- Original Message -----
> > > > > > Jose,
> > > > > > Tomcat is using JDK 1.5 and its
> JDBC
> > > driver.So I am not
> > > > > sure if I
> > > > > > need to upgrade the JDBC driver.
> > > > >=20
> > > > > >I suspect that whene DB is getting
> restarted,
> > > > >=20
> > > > > Are you restarting the Oracle database
> without
> > > restarting
> > > > > your Tomcat instance?=A0 Depending on how
> your
> > > > > application gets a database connection
> this could
> > > be an
> > > > > issue.
> > > > >=20
> > > > > > the idle connections are being
> removed.
> > > > >=20
> > > > > Are you using Tomcat DataSource to
> manage your
> > > > > connections?=A0 If so, please include
> your
> > > > > <Resource/> tag.
> > > > >=20
> > > > > > Not sure how we can avoid this
> situation
> > > > >=20
> > > > > If you are using a DataSource, you could
> try
> > > adding
> > > > > validation.=A0 With DBCP this is done by
> adding a
> > > > > "validationQuery" option.=A0 For more
> details, see
> > > the
> > > > > following link.
> > > > >=20
> > > > > =A0 https://commons.apache.org/dbcp/configuration.html
> > > > >=20
> > > > > Dan
> > > > >=20
> > > > >=20
> > > > > >=20
> > > > > > Thanks and Regards,
> > > > > > Vijay Mathew
> > > > > >=20
> > > > > > --- On Thu, 19/7/12, Jose Mar=EDa
> Zaragoza
> > > <demablogia@gmail.com>
> > > > > > wrote:
> > > > > >=20
> > > > > > > From: Jose Mar=EDa Zaragoza
> <demablogia@gmail.com>
> > > > > > > Subject: Re:
> java.sql.SQLException: No
> > > more data
> > > > > to read from
> > > > > > > socket
> > > > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > > > Date: Thursday, 19 July, 2012,
> 1:28 PM
> > > > > > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > > > > > My application is using
> Tomcat 5.5
> > > It works
> > > > > fine all
> > > > > > > the time however at times when
> I try to
> > > login to
> > > > > the
> > > > > > > application I get the below
> exception
> > > > > > > > java.sql.SQLException: No
> more data
> > > to read
> > > > > from
> > > > > > > socket
> > > > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > > > >
> > > > >
> > >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> > > > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > > > >
> > > > >
> > >
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > > > > > >=A0 =A0 =A0 =A0=A0=A0at
> > > > > > >
> > > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > > > > > > > Once restart , the
> application
> > > works fine.
> > > > > > > >
> > > > > > > > How to fix this issue
> > > > > > > >
> > > > > > >=20
> > > > > > > Looks like a JDBC driver issue
> . Are you
> > > try to
> > > > > upgrade it
> > > > > > > ?
> > > > > > >=20
> > > > > > >
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > > For additional commands,
> e-mail:
> > > > > > > users-help@tomcat.apache.org
> > > > > > >=20
> > > > > > >
> > > > > >=20
> > > > > >
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > > >=20
> > > > > >
> > > > >=20
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > >=20
> > > > >
> > > >=20
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >=20
> > > >=20
> > >=20
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 02:38:05 2012
Return-Path: <users-return-235551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A13629EB8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 02:38:05 +0000 (UTC)
Received: (qmail 19888 invoked by uid 500); 20 Jul 2012 02:38:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19699 invoked by uid 500); 20 Jul 2012 02:38:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19670 invoked by uid 99); 20 Jul 2012 02:38:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 02:38:00 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 02:37:55 +0000
Received: by vcbfl15 with SMTP id fl15so3448887vcb.18
        for <users@tomcat.apache.org>; Thu, 19 Jul 2012 19:37:34 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :x-gm-message-state;
        bh=c6jhiJAU8BkLY+eh4I3td/Tq8hQnFjV2zIC6eB/fIFQ=;
        b=MMeGKCZYnRJ88VtyTzUgKUyPMUijnFBqtZYYoZHk1jdJC2BPapT5rPelNju0+5VH4M
         YL8CWxaCDmt6j6sAsKy/SF+A6oPe4kZJ6NHw0SZkUT6Z+AaLLBbb1NNwRShQHBEqYPoR
         E512uUR7PEL+UdKWyx1Tjif3t58o6VSdlfAtCjR6LZA3t3Io6nFeUEtFAkcVlkVCxu9D
         ErCLm7OxBBvER86QZLs2BLZ0JzBfokaJEJ0VvItx8nuq5OTXden6M9EYd9rj+zu+4D9J
         gbMLybmvH+MLV+ibDFXczkbPvtwEvY5aNt1hOXtB7fe3rOiZOFDhlyov6Sgh8X+K9w0B
         TXAQ==
MIME-Version: 1.0
Received: by 10.52.93.202 with SMTP id cw10mr2626117vdb.1.1342751854067; Thu,
 19 Jul 2012 19:37:34 -0700 (PDT)
Received: by 10.52.66.165 with HTTP; Thu, 19 Jul 2012 19:37:33 -0700 (PDT)
Date: Fri, 20 Jul 2012 14:37:33 +1200
Message-ID: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
Subject: Forms authentication without cookies in 6.0.33
From: Brett Mason <b.mason@adinstruments.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf307cfe7c487e7404c539c7ef
X-Gm-Message-State: ALoCoQlPuwFZK95JdV42YowssdDXIh8l38SNlCr1fjVa9bn1zIdS2LuUA42uXapf/zakCn2tW5rZ
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf307cfe7c487e7404c539c7ef
Content-Type: text/plain; charset=UTF-8

Hi there,

We have an application which uses the forms authentication provided by
Servlet specification and is configured store session IDs in the URL rather
than using cookies. This configuration has been working as expected under
Tomcat 6.0.32 and earlier.

On upgrading to Tomcat 6.0.33 or 6.0.35 this combination no longer works as
expected. Specifically, when a user initially submits the login form they
are immediately returned back to the form-login-page. Submitting the login
form a second time allows them to log in. The only difference I have been
able to spot between the first and second form submission is for the second
submission the request attribute "javax.servlet.forward.request_uri" now
has the jsessionid appended to the URL.

After a bit of reading I'm not sure if this change is a bug, perhaps
introduced by the changes to path parameter handling as mentioned in these
threads:
  http://markmail.org/thread/2yzusfukitalkhyx
  http://tomcat.markmail.org/thread/ykx72wcuzcmiyujz

Or if we are using an unsupported configuration which is suggested by
section SRV.12.5.3.1 of the Servlet specification v2.5.


Could someone please clarify if Tomcat supports forms authentication
without cookies? If it is intended to be a supported configuration I'm
happy to submit a bug report and can provided a simple standalone test app
to reproduce the problem.

Thanks,
Brett.


Environment details:
- Windows 7 64-bit, Oracle JVM 1.6.0u32 & 1.7.0u4.
- Debian 5 32-bit, Oracle JVM 1.6.0u32.

--20cf307cfe7c487e7404c539c7ef--

From users-return-235552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 07:07:47 2012
Return-Path: <users-return-235552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E62BDEEC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 07:07:47 +0000 (UTC)
Received: (qmail 33131 invoked by uid 500); 20 Jul 2012 07:07:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32917 invoked by uid 500); 20 Jul 2012 07:07:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32872 invoked by uid 99); 20 Jul 2012 07:07:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 07:07:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 07:07:35 +0000
Received: by obbta14 with SMTP id ta14so6591551obb.18
        for <users@tomcat.apache.org>; Fri, 20 Jul 2012 00:07:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=4K962JQIVzppyegqc7/kNwhucJfdWrQSvgFDqru5vkA=;
        b=QtR/CbabQeKikIXwbbJSmk6HFj7sTbc0yHqtQeYjtO70jW8Fzeew5tbUKzYXc99tXL
         x9cF3yXzl2rfnX7ax0TpZIB7o3ICxvAjyB+rg1hOziGPeHRq9mMBeFwDdAmRJzbz0o/0
         rCmDzo+tp3ty3Xhoh9YS1NBopZSTwrc/CZEXQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=4K962JQIVzppyegqc7/kNwhucJfdWrQSvgFDqru5vkA=;
        b=gjDOXUlZ4TJTQzb7fpCiwbtXrwpMVF0vol1vUYSVrOMkGWIVZ3JFFPuGwgfe/a6zd3
         7hV+BjE++H6zgNwz63uSaZqhJLap+zkZJg+ieEavwAkBYauZ4lEPXsXkVcWeMPntd+Cj
         tiDWSrAyzeBHl6RRcv6kEfyvc/POyCoDSkXiUv+PcaCxRfzrme4+Gad04vpNQeefxkpd
         6faKBz5w8X7ohCY3yY5oXJPOekhwc9eYGv78Da2HulM4JDwxivlkpXaJkah1e6miz6O/
         Ly99lmDFETnA5JkBT4DzT5Zl5q2SUNAQmS5hcXcUuxJAaUrzk+IJmKTjZ3GzXV7qZkmK
         bv6Q==
Received: by 10.60.18.168 with SMTP id x8mr5593783oed.18.1342768034172; Fri,
 20 Jul 2012 00:07:14 -0700 (PDT)
References: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Fri, 20 Jul 2012 08:06:40 +0100
Message-ID: <3544675132897956750@unknownmsgid>
Subject: Re: Forms authentication without cookies in 6.0.33
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQkH5thzqUaq+MNVPx+6M5ASRA3+2Vzo4xK620w9fp9arOtxvGx/LN/snfi7ie94YGKgUQuR

On 20 Jul 2012, at 03:38, Brett Mason <b.mason@adinstruments.com> wrote:

> Hi there,
>
> We have an application which uses the forms authentication provided by
> Servlet specification and is configured store session IDs in the URL rather
> than using cookies. This configuration has been working as expected under
> Tomcat 6.0.32 and earlier.
>
> On upgrading to Tomcat 6.0.33 or 6.0.35 this combination no longer works as
> expected. Specifically, when a user initially submits the login form they
> are immediately returned back to the form-login-page. Submitting the login
> form a second time allows them to log in. The only difference I have been
> able to spot between the first and second form submission is for the second
> submission the request attribute "javax.servlet.forward.request_uri" now
> has the jsessionid appended to the URL.
>
> After a bit of reading I'm not sure if this change is a bug, perhaps
> introduced by the changes to path parameter handling as mentioned in these
> threads:
>  http://markmail.org/thread/2yzusfukitalkhyx
>  http://tomcat.markmail.org/thread/ykx72wcuzcmiyujz
>
> Or if we are using an unsupported configuration which is suggested by
> section SRV.12.5.3.1 of the Servlet specification v2.5.
>
>
> Could someone please clarify if Tomcat supports forms authentication
> without cookies? If it is intended to be a supported configuration I'm
> happy to submit a bug report and can provided a simple standalone test app
> to reproduce the problem.

Form auth should work regardless of where the session id lives.

Is the login form an HTML or JSP page? A session must be created
before you can login, it sounds like Tomcat isn't seeing one during
the first login.


p



>
> Thanks,
> Brett.
>
>
> Environment details:
> - Windows 7 64-bit, Oracle JVM 1.6.0u32 & 1.7.0u4.
> - Debian 5 32-bit, Oracle JVM 1.6.0u32.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 07:24:38 2012
Return-Path: <users-return-235553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48574D293
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 07:24:38 +0000 (UTC)
Received: (qmail 77379 invoked by uid 500); 20 Jul 2012 07:24:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77162 invoked by uid 500); 20 Jul 2012 07:24:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77094 invoked by uid 99); 20 Jul 2012 07:24:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 07:24:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 07:24:23 +0000
Received: from mail.homeinbox.net ([2.24.223.44])
	by mwinf5d53 with ME
	id cXQ11j00G0y5G9e03XQ1Np; Fri, 20 Jul 2012 09:24:02 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 50A7AB22001
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 08:24:01 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bjKZ+pEQ1DAS for <users@tomcat.apache.org>;
	Fri, 20 Jul 2012 08:23:47 +0100 (BST)
Received: from [10.180.134.95] (unknown [213.205.233.120])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id BF26FEAB731
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 08:23:42 +0100 (BST)
References: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
User-Agent: K-9 Mail for Android
In-Reply-To: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Forms authentication without cookies in 6.0.33
From: Mark Thomas <markt@apache.org>
Date: Fri, 20 Jul 2012 08:20:56 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <980a3aff-a361-46dc-a40d-221336a45a85@email.android.com>

Brett Mason <b.mason@adinstruments.com> wrote:
>Could someone please clarify if Tomcat supports forms authentication
>without cookies?

It should.

> If it is intended to be a supported configuration I'm
>happy to submit a bug report and can provided a simple standalone test
>app
>to reproduce the problem.

Please. The best standalone test apps are those supplied as WARs with the source for any classes (if any - ideally none) included in the WAR. Source trees we have to build are usually a pain as we rarely have the right combination of build tools and settings immediately to hand.

Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 13:44:25 2012
Return-Path: <users-return-235554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58F0DDE80
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 13:44:25 +0000 (UTC)
Received: (qmail 18828 invoked by uid 500); 20 Jul 2012 13:44:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18586 invoked by uid 500); 20 Jul 2012 13:44:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18557 invoked by uid 99); 20 Jul 2012 13:44:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 13:44:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.70] (HELO elasmtp-banded.atl.sa.earthlink.net) (209.86.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 13:44:09 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-banded.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SsDUi-0006fw-2d
	for users@tomcat.apache.org; Fri, 20 Jul 2012 09:43:48 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <5008A560.6090808@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
	 <50089D6E.9020602@kippdata.de>  <5008A560.6090808@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-J6GahEvAGI5wfWUmVt5g"
Organization: Clifton Farm
Date: Fri, 20 Jul 2012 09:45:47 -0400
Message-ID: <1342791947.27712.133.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b764302402e84169ac2d36248fcd420f6edff2350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-J6GahEvAGI5wfWUmVt5g
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Thu, 2012-07-19 at 17:25 -0700, James Lampert wrote:
> Tim:
> > This is normally in <TC_HOME>/lib/catalina.jar.
> >      A. Does it exist there?
> >      B. Does the user the process is running as have permission to
> read
> >         that file and directory?
> >      C. If yes to A & B, is the file corrupt?
>=20
> /wintouch/tomcat/lib/catalina.jar exists. I had to FTP it elsewhere
> to=20
> check its validity, but it seems valid. And the authorities for it
> look=20
> exactly the same as those for /wintouch/tomcat/bin/bootstrap.jar.
>=20
> Rainer:
>=20
> > - if catalina.jar is not in /wintouch/tomcat/lib or it is not
> readable
> >=20
> > - if catalina.properties is not in /wintouch/tomcat/conf, or it is
> not readable, or the entries for the server.loader or common.loader
> are broken
> >=20
> > - the start scripts do not set -Dcatalina.base=3D/wintouch/tomcat/ and
> -Dcatalina.home=3D/wintouch/tomcat/ when starting the JVM
> >=20
> > - you are changing the place of the used properties file by giving a
> non-default value in the system property -Dcatalina.config during
> startup.
>=20
> Everything looks like it's in the right place, undamaged, and without=20
> authority issues.
>=20
Perhaps the IBM JDK6 has some bugs running on V5R4?

Some other things you might do to shed more light on this:

- Add these lines to the end of conf/logging.properties:

        org.apache.catalina.startup.Bootstrap.level =3D ALL
        org.apache.catalina.startup.ClassLoaderFactory.level =3D ALL
       =20
        Then stop/start Tomcat.  You should see a log entry like:
          location X is file:/wintouch/tomcat/lib/catalina.jar
       =20
       =20
- If you do see an entry as above try compiling and running the
following from /wintouch/tomcat which tests finding a class:

>>>>>>>>>>>>>>>>>>>>>>>>>BEGIN
import java.io.File;
import java.net.URL;
import java.net.URLClassLoader;

public class FindClass {
	public static void main(String[] args) {
		try {
			URLClassLoader loader =3D new URLClassLoader(
				new URL[] {new File("/wintouch/tomcat/lib/catalina.jar").toURI().toURL(=
)});
			loader.loadClass(args[0]);
			System.out.println("URLClassLoader found class '" +args[0] +"'");
		}
		catch (Exception e) {
			e.printStackTrace();
		}
	}
}
<<<<<<<<<<<<<<<<<<<<<<<<<END
      * Save this to FindClass.java in /wintouch/tomcat
      * Compile it: javac FindClass.java (or compile on another machine
        and copy the resulting .class file)
  * Run it: java -cp . FindClass org.apache.catalina.startup.Catalina

If this fails then my guess would be that there's a JDK6 problem on V5R4
or there's a problem with your catalina.jar.  If it succeeds then some
Tomcat file(s) aren't as correct and/or authorized as you think they are
-- or you're leaving out some other important factor.

> --
> JHHL
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-J6GahEvAGI5wfWUmVt5g
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQCWDuAAoJEAfDBXDHBQillQEH/3YjNPhsscU03haD3nysycc4
f76Wv7tcAypWqvJHH7G5UGLlEEhBUvklZWC/aIffIRP1VQps+dNbqpIeV4WuUIJZ
YM2z4GDxzsGWqVfFNQLf+umSzELp4hI7aKZ/ByPPKGB7TtYABcMVdYpFlTW14MKL
+RwBiX4giDOQjwj0ZSmWS4j7k9efy6DogZFvdCB/8Tl+rljrpR+4mgPuarn/CFjG
bLk83ocwGjO1mM0BWN9YO4G0kCK3j6UKw8aRM+zB/4d4lFjsjkVvX+9BUd+0Zpe+
h0GKbvfzXqMIhr9pMedX0lfjQ7pGKWucy9FaSPjTx/jBrkMWu7pQP3/M7Wpdjnw=
=ZaWK
-----END PGP SIGNATURE-----

--=-J6GahEvAGI5wfWUmVt5g--


From users-return-235555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 13:50:44 2012
Return-Path: <users-return-235555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B773DEB5
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 13:50:44 +0000 (UTC)
Received: (qmail 46322 invoked by uid 500); 20 Jul 2012 13:50:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46168 invoked by uid 500); 20 Jul 2012 13:50:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46151 invoked by uid 99); 20 Jul 2012 13:50:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 13:50:39 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 13:50:31 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id C56D9281B8
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
Received: from zimbra-prod-mta-2.vmware.com (zimbra-prod-mta-2.vmware.com [10.113.160.174])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id C2EB018284
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id BE1FB20217
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-2.vmware.com
Received: from zimbra-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UAko6Dd5uX0O for <users@tomcat.apache.org>;
	Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 9D3BC20191
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
Date: Fri, 20 Jul 2012 06:50:09 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <10753522.139.1342792207059.JavaMail.daniel@cleveland>
In-Reply-To: <1342744442.14527.YahooMailClassic@web193504.mail.sg3.yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Daniel,
>       It is a web application. I was just referring to the java code
>       in the webapplication.
> This is how we retrieve the connection
> Class.forName(driver);
> ObjectPool connectionPool =3D new GenericObjectPool(null);
> ConnectionFactory connectionFactory =3D new
> DriverManagerConnectionFactory(connectionURI,userName,password);
> PoolableConnectionFactory poolableConnectionFactory =3D new
> PoolableConnectionFactory(connectionFactory,connectionPool,null,null,defa=
ultReadOnly,defaultAutoCommit);
> coDataSource =3D new PoolingDataSource(connectionPool);
> }
>=20
> coDataSource  is a static object and a connection is obtained
> whenever needed ,using coDataSource.getConnection()

This doesn't look like a Tomcat issue.  Your app is maintaining its own con=
nection pool, it is not using one provided by Tomcat.  I would suggest that=
 you talk with your developers and see if they can help you.

Dan


=20
> --- On Fri, 20/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:
>=20
> > From: Daniel Mikusa <dmikusa@vmware.com>
> > Subject: Re: java.sql.SQLException: No more data to read from
> > socket
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Date: Friday, 20 July, 2012, 1:59 AM
> > ----- Original Message -----
> > > Thanks Daniel.
> > >=20
> > > -> DB is getting restarted every weekend but tomcat
> > is not getting
> > > restarted at the same time.
> > > just fyi this issue doesnt happen every time. It
> > happens once every
> > > month even if the DB is getting restarted every week.
> > > So not sure wat is the exact root cause
> >=20
> > > ->I have attached the server.xml. I dont find the
> > Resource tag here..
> >=20
> > Is the <Resource/> tag defined somewhere else?
> > Perhaps in a <Context/> tag?=C2=A0 conf/context.xml,
> > conf/Catalina/localhost/<app>.xml or
> > META-INF/context.xml?
> >=20
> > > From java code, a data source is created using
> > > PoolableConnectionFactory and GenericObjectPool and
> > then a
> > > connection is retrieved from this datasource.
> >=20
> > What Java code?=C2=A0 Your web application?=C2=A0 Are you
> > manually creating the DataSource and connection pool?
> >=20
> > Dan
> >=20
> >=20
> >=20
> > >=20
> > > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> > wrote:
> > >=20
> > > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > > Subject: Re: java.sql.SQLException: No more data
> > to read from
> > > > socket
> > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > Date: Thursday, 19 July, 2012, 9:53 PM
> > > > ----- Original Message -----
> > > > > Thanks Daniel and Jose.
> > > > > Do you knoe what is the root cause of this
> > issue
> > > >=20
> > > > It's hard to say since you have not answered the
> > questions
> > > > from my previous email, you have not posted your
> > data source
> > > > configuration and you have only posted a partial
> > stack
> > > > trace.
> > > >=20
> > > > Nevertheless, I will venture a guess.=C2=A0 *If* you
> > are in
> > > > fact restarting your Oracle database then that
> > would
> > > > disconnect any persistent connections maintained
> > by the
> > > > connection pool.
> > > >=20
> > > > Given that your connection pool would contain a
> > bunch of
> > > > connections which have been disconnected, you
> > would either
> > > > need to restart Tomcat (which will create a fresh
> > connection
> > > > pool) or configure your connection pool to find
> > and replace
> > > > the closed connections (hence the suggestion to
> > use a
> > > > validationQuery).
> > > >=20
> > > > That's just a guess though, I do not believe that
> > the amount
> > > > of information that you have provided is
> > sufficient to give
> > > > you an exact answer.
> > > >=20
> > > > Dan
> > > >=20
> > > >=20
> > > >=20
> > > > >=20
> > > > > --- On Thu, 19/7/12, Daniel Mikusa <dmikusa@vmware.com>
> > > > wrote:
> > > > >=20
> > > > > > From: Daniel Mikusa <dmikusa@vmware.com>
> > > > > > Subject: Re: java.sql.SQLException: No
> > more data
> > > > to read from
> > > > > > socket
> > > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > > Date: Thursday, 19 July, 2012, 5:39 PM
> > > > > > ----- Original Message -----
> > > > > > > Jose,
> > > > > > > Tomcat is using JDK 1.5 and its
> > JDBC
> > > > driver.So I am not
> > > > > > sure if I
> > > > > > > need to upgrade the JDBC driver.
> > > > > >=20
> > > > > > >I suspect that whene DB is getting
> > restarted,
> > > > > >=20
> > > > > > Are you restarting the Oracle database
> > without
> > > > restarting
> > > > > > your Tomcat instance?=C2=A0 Depending on how
> > your
> > > > > > application gets a database connection
> > this could
> > > > be an
> > > > > > issue.
> > > > > >=20
> > > > > > > the idle connections are being
> > removed.
> > > > > >=20
> > > > > > Are you using Tomcat DataSource to
> > manage your
> > > > > > connections?=C2=A0 If so, please include
> > your
> > > > > > <Resource/> tag.
> > > > > >=20
> > > > > > > Not sure how we can avoid this
> > situation
> > > > > >=20
> > > > > > If you are using a DataSource, you could
> > try
> > > > adding
> > > > > > validation.=C2=A0 With DBCP this is done by
> > adding a
> > > > > > "validationQuery" option.=C2=A0 For more
> > details, see
> > > > the
> > > > > > following link.
> > > > > >=20
> > > > > > =C2=A0 https://commons.apache.org/dbcp/configuration.html
> > > > > >=20
> > > > > > Dan
> > > > > >=20
> > > > > >=20
> > > > > > >=20
> > > > > > > Thanks and Regards,
> > > > > > > Vijay Mathew
> > > > > > >=20
> > > > > > > --- On Thu, 19/7/12, Jose Mar=C3=ADa
> > Zaragoza
> > > > <demablogia@gmail.com>
> > > > > > > wrote:
> > > > > > >=20
> > > > > > > > From: Jose Mar=C3=ADa Zaragoza
> > <demablogia@gmail.com>
> > > > > > > > Subject: Re:
> > java.sql.SQLException: No
> > > > more data
> > > > > > to read from
> > > > > > > > socket
> > > > > > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > > > > > Date: Thursday, 19 July, 2012,
> > 1:28 PM
> > > > > > > > 2012/7/19 vijay mathew <vijaymathew2001@yahoo.com>:
> > > > > > > > > My application is using
> > Tomcat 5.5
> > > > It works
> > > > > > fine all
> > > > > > > > the time however at times when
> > I try to
> > > > login to
> > > > > > the
> > > > > > > > application I get the below
> > exception
> > > > > > > > > java.sql.SQLException: No
> > more data
> > > > to read
> > > > > > from
> > > > > > > > socket
> > > > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > > > >
> > > > > >
> > > >
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java=
:74)
> > > > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > > > >
> > > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110=
)
> > > > > > > > >=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0at
> > > > > > > >
> > > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:1=
71)
> > > > > > > > > Once restart , the
> > application
> > > > works fine.
> > > > > > > > >
> > > > > > > > > How to fix this issue
> > > > > > > > >
> > > > > > > >=20
> > > > > > > > Looks like a JDBC driver issue
> > . Are you
> > > > try to
> > > > > > upgrade it
> > > > > > > > ?
> > > > > > > >=20
> > > > > > > >
> > > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > > > > To unsubscribe, e-mail:
> > > > > > > > users-unsubscribe@tomcat.apache.org
> > > > > > > > For additional commands,
> > e-mail:
> > > > > > > > users-help@tomcat.apache.org
> > > > > > > >=20
> > > > > > > >
> > > > > > >=20
> > > > > > >
> > > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail:
> > > > > > > users-unsubscribe@tomcat.apache.org
> > > > > > > For additional commands, e-mail:
> > > > > > > users-help@tomcat.apache.org
> > > > > > >=20
> > > > > > >
> > > > > >=20
> > > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > > For additional commands, e-mail:
> > > > > > users-help@tomcat.apache.org
> > > > > >=20
> > > > > >
> > > > >=20
> > > > >
> > > >
> > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > >=20
> > > > >=20
> > > >=20
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >=20
> > > >
> > >=20
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 15:09:11 2012
Return-Path: <users-return-235556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6AC34DBE2
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 15:09:11 +0000 (UTC)
Received: (qmail 52329 invoked by uid 500); 20 Jul 2012 15:09:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52049 invoked by uid 500); 20 Jul 2012 15:09:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52024 invoked by uid 99); 20 Jul 2012 15:09:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 15:09:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 15:08:59 +0000
Received: from [192.168.245.129] (p549E8D37.dip0.t-ipconnect.de [84.158.141.55])
	by tor.combios.es (Postfix) with ESMTPA id D3CDFDA0677
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 17:08:36 +0200 (CEST)
Message-ID: <50097471.8080402@ice-sa.com>
Date: Fri, 20 Jul 2012 17:08:33 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <10753522.139.1342792207059.JavaMail.daniel@cleveland>
In-Reply-To: <10753522.139.1342792207059.JavaMail.daniel@cleveland>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Daniel Mikusa wrote:
...

> 
> This doesn't look like a Tomcat issue.  Your app is maintaining its own connection pool, it is not using one provided by Tomcat.  I would suggest that you talk with your developers and see if they can help you.
> 
Which, after a very long detour, seems to bring us back to the very first answer to this 
thread, doesn't it ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 16:04:32 2012
Return-Path: <users-return-235557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 56560D8C1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 16:04:32 +0000 (UTC)
Received: (qmail 11803 invoked by uid 500); 20 Jul 2012 16:04:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11762 invoked by uid 500); 20 Jul 2012 16:04:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11749 invoked by uid 99); 20 Jul 2012 16:04:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:04:28 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:04:21 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 6FE7328400
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
Received: from zimbra-prod-mta-2.vmware.com (zimbra-prod-mta-2.vmware.com [10.113.160.174])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id 6D3F2B0498
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 6984B2305C
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-2.vmware.com
Received: from zimbra-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dySa5oQ0R9kU for <users@tomcat.apache.org>;
	Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 4ADD921448
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
Date: Fri, 20 Jul 2012 09:04:00 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <6743165.203.1342800237884.JavaMail.daniel@cleveland>
In-Reply-To: <50097471.8080402@ice-sa.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----
> Daniel Mikusa wrote:
> ...
> 
> > 
> > This doesn't look like a Tomcat issue.  Your app is maintaining its
> > own connection pool, it is not using one provided by Tomcat.  I
> > would suggest that you talk with your developers and see if they
> > can help you.
> > 
> Which, after a very long detour, seems to bring us back to the very
> first answer to this
> thread, doesn't it ?

Perhaps.  While the exception is showing Oracle, which certainly appears to be the culprit, the user might be able to mitigate the issue with a configuration option like "validationQuery".

Unfortunately the user is not defining a resource in Tomcat, so it makes it difficult to instruct him how to try adding such an option.  The user would need to check with the app developer to see about altering the configuration.

Dan



> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 16:50:44 2012
Return-Path: <users-return-235558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6323A9954
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 16:50:44 +0000 (UTC)
Received: (qmail 56390 invoked by uid 500); 20 Jul 2012 16:50:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56188 invoked by uid 500); 20 Jul 2012 16:50:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56178 invoked by uid 99); 20 Jul 2012 16:50:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:50:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.27.227] (HELO qmta12.emeryville.ca.mail.comcast.net) (76.96.27.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:50:35 +0000
Received: from omta09.emeryville.ca.mail.comcast.net ([76.96.30.20])
	by qmta12.emeryville.ca.mail.comcast.net with comcast
	id ccp11j0030S2fkCACgqEoF; Fri, 20 Jul 2012 16:50:14 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.emeryville.ca.mail.comcast.net with comcast
	id cgqA1j00d38FjT18VgqDJY; Fri, 20 Jul 2012 16:50:14 +0000
Message-ID: <50098C42.5090203@christopherschultz.net>
Date: Fri, 20 Jul 2012 12:50:10 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re:[OT] Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com> <50089D6E.9020602@kippdata.de> <5008A560.6090808@touchtonecorp.com> <5008A679.2090103@valadd.com>
In-Reply-To: <5008A679.2090103@valadd.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Pete,

On 7/19/12 8:29 PM, Pete Helgren wrote:
> The error might be a red herring or a show stopper but I also
> have:
> 
> export -s JAVA_OPTS="-Dos400.awt.native=true
> -Djava.awt.headless=true -Xms256m -Xmx512m"
> 
> In my catalina.sh script.

FYI it is recommended to customize catalina.sh by creating a setenv.sh
script and using that. That way, you don't have to play games with
updating catalina.sh when a new release comes out.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAJjEIACgkQ9CaO5/Lv0PBkHwCffRU2hg1jNcy/zJ9sO7xopbVj
w70AniiXt0bgQjWS4WKpjR58J0Ts/nmb
=DZJb
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 16:52:16 2012
Return-Path: <users-return-235559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F30C9959
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 16:52:16 +0000 (UTC)
Received: (qmail 64174 invoked by uid 500); 20 Jul 2012 16:52:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64125 invoked by uid 500); 20 Jul 2012 16:52:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64116 invoked by uid 99); 20 Jul 2012 16:52:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:52:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.27.211] (HELO qmta11.emeryville.ca.mail.comcast.net) (76.96.27.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 16:52:06 +0000
Received: from omta20.emeryville.ca.mail.comcast.net ([76.96.30.87])
	by qmta11.emeryville.ca.mail.comcast.net with comcast
	id cgNj1j0041smiN4ABgrm5y; Fri, 20 Jul 2012 16:51:46 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.emeryville.ca.mail.comcast.net with comcast
	id cgrk1j00D38FjT18ggrlH3; Fri, 20 Jul 2012 16:51:46 +0000
Message-ID: <50098CA0.7060404@christopherschultz.net>
Date: Fri, 20 Jul 2012 12:51:44 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <1342743933.65571.YahooMailClassic@web193503.mail.sg3.yahoo.com>
In-Reply-To: <1342743933.65571.YahooMailClassic@web193503.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vijay,

On 7/19/12 8:25 PM, vijay mathew wrote:

> java.sql.SQLException: No more data to read from socket at 
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
>
>
>
> 
at
oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> at 
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
>
>
>
> 
at
oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227)
> at 
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439)
>
>
>
> 
at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> at 
> oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
>
>
>
> 
at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183) 
> at 
> oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
>
>
>
> 
at
oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)
> at 
> oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)
>
>
>
> 
at
oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377)
> at 
> oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:386)
>
>
>
> 
at com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)

So, when this happens, it always happens alongside an Oracle restart,
but an Oracle restart does not always mean you'll get one of these errors?

- - -chris
- -----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=
=pXsE
- -----END PGP SIGNATURE-----
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
=ckQ+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 17:30:11 2012
Return-Path: <users-return-235560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C96CCD61A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 17:30:11 +0000 (UTC)
Received: (qmail 63712 invoked by uid 500); 20 Jul 2012 17:30:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63636 invoked by uid 500); 20 Jul 2012 17:30:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63624 invoked by uid 99); 20 Jul 2012 17:30:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 17:30:08 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.91.93] (HELO nm23.bullet.mail.sp2.yahoo.com) (98.139.91.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 20 Jul 2012 17:29:57 +0000
Received: from [98.139.91.62] by nm23.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 17:29:35 -0000
Received: from [98.139.91.54] by tm2.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 17:29:35 -0000
Received: from [127.0.0.1] by omp1054.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 17:29:35 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 654616.11237.bm@omp1054.mail.sp2.yahoo.com
Received: (qmail 46516 invoked by uid 60001); 20 Jul 2012 17:29:35 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342805375; bh=xDdI79N266ohNLdsSQ3HRv+TQHfdzlaP1QTHZ+S+H08=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=aI1Qsr+2PO5zf1BWCtfGIUzVg9urv5LOLBdr8/HiZE9cirPQ09Ds1T8PboEoSkuPWVCc1v4TJ0Qr3RkHp7M7R3AQkdDUiq+pHyceD2keRuBjf4NhZHtguF4Bsa7rcyeySyFiYohDnAd5ayNfec50CnrtnU1pJgEdrcqRuqyQK7Y=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=r5TuWuoN/B6l89yBKwCGLu8oO+ok5eugpUuwz7n4zm6ssC7h7DKaI31U7ni9ijyKrVtYSdQSdvleIExbZrbsfeE7UIUHF7ScUsvZTB+3CJGt4siW1xSWyuzxdD+zjJB0IlZdYr0jnADLhUO0bGfrajtDF68P0dKeCpomPMtkcso=;
X-YMail-OSG: 2KTvDmEVM1nDVwPNPUqZLWNA5.VfDTxF_76xa0vjYs80.hx
 r70XwTt0SUY_tFLoicnXadKVSMG4fPj3N_ki.Z2CSHgZCv_oG8kL6z4o_Hym
 EOXUPYnizNARVez4HgaTrL6nNqAx1FEZDLcLEU42VzhfDNX5mCwoeGR.qhZv
 ATP0uNyFpRj2hnn2Ff7GBaTnVk.8Tu8V0mntnE4LFZmTyu.pOKP3nXmvX6L4
 GbEb8rF66379aDlb0ShD425t7CvTQ6M7wgyShCs3I9nED.bj7CK63RlEIOC0
 9HNYgiL8d_NXQZzKAKfxdL_CtGVS3tw..AQYQtyryL2j0RUFaoRwjdyT1chx
 FIdCpFMRORfVu88zBYX_Za6FYjBrF6_2cNlfC3AVeYO4gfk4bIPqDJkL49ob
 3qEp9nv2M.ZSTciu6D1X3IQc6LE6vOK4C8fvHbf71eboCNdZrf2xSAvD6.ue
 xB5tQWw--
Received: from [167.234.14.241] by web113603.mail.gq1.yahoo.com via HTTP; Fri, 20 Jul 2012 10:29:35 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342805375.42244.YahooMailClassic@web113603.mail.gq1.yahoo.com>
Date: Fri, 20 Jul 2012 10:29:35 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users Group <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-850505836-784795146-1342805375=:42244"

---850505836-784795146-1342805375=:42244
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi All,

Does anyone know the location of the default jvm settings for Tomcat 7 if t=
he JAVA_OPTS env variable for windows is not specified?
=A0
Also, does anyone know what the recommended settings to start with for say =
Oracle 64-bit jvm and Tomcat 7? For -Xss it used to be -Xss126k for 32-bit =
jvm but I am wondering for 64-bit if I should startout with -Xss256k instea=
d.
=A0
Is there an updated document for Tomcat 7 performance tuning somewhere espe=
cially for 64-bit jvm since that is quickly becoming the standard for serve=
r side servlet containers.
=A0
Thanks,
-Tony
---850505836-784795146-1342805375=:42244--

From users-return-235561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 18:16:33 2012
Return-Path: <users-return-235561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04DEAD7A4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 18:16:33 +0000 (UTC)
Received: (qmail 91708 invoked by uid 500); 20 Jul 2012 18:16:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91517 invoked by uid 500); 20 Jul 2012 18:16:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91507 invoked by uid 99); 20 Jul 2012 18:16:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 18:16:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 18:16:23 +0000
Received: by ggnp1 with SMTP id p1so5489773ggn.18
        for <users@tomcat.apache.org>; Fri, 20 Jul 2012 11:16:01 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=FjvEPH6VVwCy7iOJyXZBSATMnoWt0VIzcUPd5lTW9j0=;
        b=YDL0XvqX1PYOA2zaubmzdWeNJzHvcQtQ4hEPDmebO/P7WkmAXAUMcqVJe7/Fog7co2
         nOYVyMAzMijW8UiujlwzpVGRtPBbLsDvtvHhwU+TVZFcJqD0whs3osjMejxCv6amCv0/
         bPW2FpoaUR3gnXBzmscVZ0COiAAlG0ClJ1+1N0o74VRs7kTQ1Y7X1qcjKdAi/me+LsjD
         hcVl/xpqwqx+7R/3adzUvLfpzYRh9o/mwfyX4lBEwYzXAeBPdjfMOww6SYZ0aOjBHwIc
         UcPKXpNsRdxUvQdMdZh972+5JZHz1o2g22I4FRbfMkF+fnoIMruowiBMVAOB17VVQj2z
         2lQg==
Received: by 10.236.173.34 with SMTP id u22mr6442773yhl.100.1342808161606;
        Fri, 20 Jul 2012 11:16:01 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id y10sm9795970yhd.6.2012.07.20.11.16.00
        (version=SSLv3 cipher=OTHER);
        Fri, 20 Jul 2012 11:16:00 -0700 (PDT)
Message-ID: <5009A062.5000700@touchtonecorp.com>
Date: Fri, 20 Jul 2012 11:16:02 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com> <50089D6E.9020602@kippdata.de> <5008A560.6090808@touchtonecorp.com> <5008A679.2090103@valadd.com> <50098C42.5090203@christopherschultz.net>
In-Reply-To: <50098C42.5090203@christopherschultz.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQktqpUJNO1Y4Zkqdnh5pp4Ydf8+vzbr9/1zbuAQSGy1y9RHz/4vwHSooP4l/TZivcHYQ7e0
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
>> export -s JAVA_OPTS="-Dos400.awt.native=true
>> -Djava.awt.headless=true -Xms256m -Xmx512m"
>>
>> In my catalina.sh script.
> 
> FYI it is recommended to customize catalina.sh by creating a setenv.sh
> script and using that. That way, you don't have to play games with
> updating catalina.sh when a new release comes out.

We're doing the equivalent with ADDENVVAR statements (and 
CPYENVVAR(*YES) on the SBMJOB statement) in the CL program that launches 
the script (that way, we don't even have to bother with a setenv.sh).

And I agree, Tomcat won't run at all on an AS/400 without those 
environment variables being set *somewhere* for the CATALINA job.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 19:06:36 2012
Return-Path: <users-return-235562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC5309876
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 19:06:35 +0000 (UTC)
Received: (qmail 36079 invoked by uid 500); 20 Jul 2012 19:06:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36021 invoked by uid 500); 20 Jul 2012 19:06:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36011 invoked by uid 99); 20 Jul 2012 19:06:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 19:06:32 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.132 as permitted sender)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 19:06:21 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-7.tower-45.messagelabs.com!1342811159!28561331!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 28315 invoked from network); 20 Jul 2012 19:05:59 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-7.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 20 Jul 2012 19:05:59 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 20 Jul 2012 14:05:57 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 20 Jul
 2012 14:05:57 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 20 Jul 2012 14:05:52 -0500
Subject: RE: Location of Tomcat 7 jvm defualt settings...
Thread-Topic: Location of Tomcat 7 jvm defualt settings...
Thread-Index: Ac1mnVKW5zYsS2EXRLGOJthpQh1eFQADNvag
Message-ID: <99C8B2929B39C24493377AC7A121E21FB035680FFE@USEA-EXCH8.na.uis.unisys.com>
References: <1342805375.42244.YahooMailClassic@web113603.mail.gq1.yahoo.com>
In-Reply-To: <1342805375.42244.YahooMailClassic@web113603.mail.gq1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: Location of Tomcat 7 jvm defualt settings...


> Does anyone know the location of the default jvm settings for Tomcat 7
> if the JAVA_OPTS env variable for windows is not specified?

There are none.  Tomcat uses whatever the JVM defaults are for your platfor=
m.
=A0
> Also, does anyone know what the recommended settings to start with=20
> for say Oracle 64-bit jvm and Tomcat 7?

No such suggestions can possibly exist, since they are dependent on the beh=
avior of the webapps running inside Tomcat, not Tomcat itself.
=A0
> Is there an updated document for Tomcat 7 performance tuning somewhere=20
> especially for 64-bit jvm since that is quickly becoming the standard=20
> for server side servlet containers.

No - for the same reason as above.  When necessary (and other than heap siz=
e, it rarely is), tuning has to be done for the webapps, not Tomcat.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 20:42:41 2012
Return-Path: <users-return-235563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13196D438
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 20:42:41 +0000 (UTC)
Received: (qmail 26055 invoked by uid 500); 20 Jul 2012 20:42:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25993 invoked by uid 500); 20 Jul 2012 20:42:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25984 invoked by uid 99); 20 Jul 2012 20:42:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 20:42:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.91.190] (HELO nm4-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.190)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 20 Jul 2012 20:42:28 +0000
Received: from [98.139.91.66] by nm4.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 20:42:03 -0000
Received: from [98.139.91.4] by tm6.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 20:42:03 -0000
Received: from [127.0.0.1] by omp1004.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 20:42:02 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 989290.49788.bm@omp1004.mail.sp2.yahoo.com
Received: (qmail 1569 invoked by uid 60001); 20 Jul 2012 20:42:02 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342816922; bh=8KK3l7sgIUbpQ+iCHTv2XpydfFtNxaYULufIEfPOP6Y=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=OixRLBiz9imL4B3bIPywxmwVHKAG1ZuWR2PVTmf5GdnRkQkLEke2o9sfSM/+SvPDrJDDgd/rWTYweSJVZLHrqYCiZ+hTRRYbfCiTlH2TqMmtQS0V3fYiHlXnCyT01u3GDhJgw5kuNuyGfSSbl1TjtmUl1fRGbdxRBSS+EHOlzPk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=cCFmmXR9UQQEmF8MCfMJWuOf171eedzqYYsTzGul0XsUckjL4PGgU52e6OYIoqBerO2WljnwbIXKKP4/EPbj+bCLjYr508cRYvD7mxZ+SDD28yWLHwKds9pOEwCDpyN1TUFtYexBsG9gw1e2Lq7uS7YPHNkjiOj+y4KDrBjp4cs=;
X-YMail-OSG: D26OMp0VM1nqYizvhbNOYU9A6IPni5EBzmHlW_dw1URzCV3
 Q4GCIjS6zsMVWb9BbKSryJNvt7Fx7H7C5HKptazsXjBjRAkD_v1BOCs2c0LL
 RriMh3lZRAtadqOoo80.LdeIFDAbVYhUDoj87L9li6Iff7fqFhcO34yn5Ckh
 J2ELstarKgooULhdCiO_YksQx2eAYu7Qlz9i1MJE5OE3D3NeBvMfrvIYhncZ
 7bxUHNdbtNbdbPNc_Sz3.Fp1sol4tflVizcuUX2WAaL.LDAdp9V6Rtz9jkHb
 ySvdHOv3YwZRaw3LYYg5h60wpw0g92lBGA5wbSOPVJ3rJFeBcJS2aTXG78TW
 jlU_stn_17JSvbuQiO54XMGpxJRt7FyoWcRMdjQdlyoMhkJnnkmUfax2b.G4
 1rPtYHDwBnzRuBr2bMF5PyEZEKkMt.3LHuEcbX3dlpWYVq9Yux2H9LLtg3Ye
 NZYO5kSh2r.DydEIVXFRz_HwdDKP7Pj.p28Z3nXXzFhOeH.WhUo3SVYPk1nI
 MMJEFh2Jn7ZC8vdj2qc9.AMudbB4M7PnpwuRwpz7D8AyAeljuAGAOKYbm3JD
 obX673LxixoTu.9dUr4q.
Received: from [167.234.14.241] by web113619.mail.gq1.yahoo.com via HTTP; Fri, 20 Jul 2012 13:42:02 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342816922.88785.YahooMailClassic@web113619.mail.gq1.yahoo.com>
Date: Fri, 20 Jul 2012 13:42:02 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: RE: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB035680FFE@USEA-EXCH8.na.uis.unisys.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1559127025-780090618-1342816922=:88785"

--1559127025-780090618-1342816922=:88785
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Charles I have found documention for all the below from the Tomcat g=
roup but seemed somewhat outdated. Mark Thomas's name seemed dominant in mo=
st of the presentations I have seen there is even sections dealing with Tom=
cat in various Tomcat books I have seen.

True the tuning is dependent somewhat upon the app but even Mark mentioned =
logging levels, threads that run contineously that might best be tuned off =
(like checking for new deploys ect). He also mentioned the xmx xms java tun=
ing and what Tomcat without apps (WARs) loaded needs although not sure if h=
e mentioned xss parimeters. I am using the G1 GC by default since that is s=
etup in 1.7.0_05 and the compressed pointers is also setup by default for t=
hat version of 1.7.0_05. I am also looking at the OS level to remove uneede=
d services. I alreadt tuned the network transport parameters as best as pos=
sible.

FYI I currently am down to the 1-2msec response times as measured=A0at the =
exposed web services methods inside of Tomcat 7 using 64-bit Oracle 1.7.0_0=
5 JDK and that includes database calls to SQL Server 2012 Express. I have u=
sed some of the standard things mentioned by Mark Thomas which has helped a=
lot and looking for more current tips.
I am using the latest JAX_WS Metro release and my next step is to go to JAX=
-RS and look at the size of the request/response and new total response tim=
e as=A0recorded in the Apache logs and the client side measurements where c=
urrently I am seeing 5-7msec over a 1Gb/s ethernet.
=A0
Every 6 months or so I do a non-functional tuning exercise that includes co=
de updates like the last one where I eliminated the EJB calls to JBoss and =
went to jdbc calls from within Tomcat a more "bare metal" appraoch. That al=
one reduced my web method round trip time from 6-7msec down to 1-2msec.
=A0
Thanks for the advice.
-Tony

--- On Fri, 7/20/12, Caldarale, Charles R <Chuck.Caldarale@unisys.com> wrot=
e:


From: Caldarale, Charles R <Chuck.Caldarale@unisys.com>
Subject: RE: Location of Tomcat 7 jvm defualt settings...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Friday, 20 Jul 2012, 1:05 PM


> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: Location of Tomcat 7 jvm defualt settings...


> Does anyone know the location of the default jvm settings for Tomcat 7
> if the JAVA_OPTS env variable for windows is not specified?

There are none.=A0 Tomcat uses whatever the JVM defaults are for your platf=
orm.
=A0
> Also, does anyone know what the recommended settings to start with=20
> for say Oracle 64-bit jvm and Tomcat 7?

No such suggestions can possibly exist, since they are dependent on the beh=
avior of the webapps running inside Tomcat, not Tomcat itself.
=A0
> Is there an updated document for Tomcat 7 performance tuning somewhere=20
> especially for 64-bit jvm since that is quickly becoming the standard=20
> for server side servlet containers.

No - for the same reason as above.=A0 When necessary (and other than heap s=
ize, it rarely is), tuning has to be done for the webapps, not Tomcat.

- Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--1559127025-780090618-1342816922=:88785--

From users-return-235564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 20:54:05 2012
Return-Path: <users-return-235564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60320D48B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 20:54:05 +0000 (UTC)
Received: (qmail 65238 invoked by uid 500); 20 Jul 2012 20:54:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65038 invoked by uid 500); 20 Jul 2012 20:54:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65028 invoked by uid 99); 20 Jul 2012 20:54:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 20:54:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.29] (HELO smtpout.wanadoo.co.uk) (80.12.242.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 20:53:54 +0000
Received: from mail.homeinbox.net ([2.24.223.44])
	by mwinf5d01 with ME
	id cktX1j0090y5G9e03ktXpw; Fri, 20 Jul 2012 22:53:32 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 3B704EAB732
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 21:53:31 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xbKjqRtMd7Lt for <users@tomcat.apache.org>;
	Fri, 20 Jul 2012 21:53:26 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id B524AEAB71E
	for <users@tomcat.apache.org>; Fri, 20 Jul 2012 21:53:26 +0100 (BST)
Message-ID: <5009C53F.8020800@apache.org>
Date: Fri, 20 Jul 2012 21:53:19 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
References: <1342816922.88785.YahooMailClassic@web113619.mail.gq1.yahoo.com>
In-Reply-To: <1342816922.88785.YahooMailClassic@web113619.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 20/07/2012 21:42, Tony Anecito wrote:
> Thanks Charles I have found documention for all the below from the
> Tomcat group but seemed somewhat outdated. Mark Thomas's name seemed
> dominant in most of the presentations I have seen there is even
> sections dealing with Tomcat in various Tomcat books I have seen.
> 
> True the tuning is dependent somewhat upon the app but even Mark
> mentioned logging levels, threads that run contineously that might
> best be tuned off (like checking for new deploys ect). He also
> mentioned the xmx xms java tuning and what Tomcat without apps (WARs)
> loaded needs although not sure if he mentioned xss parimeters. I am
> using the G1 GC by default since that is setup in 1.7.0_05 and the
> compressed pointers is also setup by default for that version of
> 1.7.0_05. I am also looking at the OS level to remove uneeded
> services. I alreadt tuned the network transport parameters as best as
> possible.
> 
> FYI I currently am down to the 1-2msec response times as measured at
> the exposed web services methods inside of Tomcat 7 using 64-bit
> Oracle 1.7.0_05 JDK and that includes database calls to SQL Server
> 2012 Express. I have used some of the standard things mentioned by
> Mark Thomas which has helped alot and looking for more current tips.

I'm pretty sure that I will have said somewhere in each of those
presentations words to the effect of "Don't guess where the bottlenecks
are. Get yourself a profiler, profile your application and find out
where they really are."

If the profiler highlights any Tomcat internal code, let us know and
we'll take a look.

I'll also add something that I picked up at JavaOne a few years ago.
Pick any two of "high throughput, small heap, low GC pause times".
Whichever two you pick, the other one will suffer. In an ideal world,
the GC needs plenty of manoeuvring room and you should aim to provide
roughly 5 times the minimum memory your app needs (minimum being defined
as the lowest heap usage you can force with lots of manual GC).

HTH,

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 20 21:32:15 2012
Return-Path: <users-return-235565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65BE0930D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 20 Jul 2012 21:32:15 +0000 (UTC)
Received: (qmail 96962 invoked by uid 500); 20 Jul 2012 21:32:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96913 invoked by uid 500); 20 Jul 2012 21:32:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96901 invoked by uid 99); 20 Jul 2012 21:32:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jul 2012 21:32:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FRT_PROFILE1,T_FRT_PROFILE2
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.91.196] (HELO nm9-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.196)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 20 Jul 2012 21:32:02 +0000
Received: from [98.139.91.67] by nm9.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 21:31:42 -0000
Received: from [98.139.91.46] by tm7.bullet.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 21:31:42 -0000
Received: from [127.0.0.1] by omp1046.mail.sp2.yahoo.com with NNFMP; 20 Jul 2012 21:31:42 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 143848.9813.bm@omp1046.mail.sp2.yahoo.com
Received: (qmail 1711 invoked by uid 60001); 20 Jul 2012 21:31:41 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342819901; bh=9F+3hy7tjWJ31QmU57uIT9EI7GxbrfjsAb+qsdMLCw8=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=V/dO/zvb5aR7bAJNSVTTbQs9CzmCllVO/T3WzIM4qsVMfmCEKftF67FYOWZTul2wF3YLkANLdT5xnH2M33kQFe8zEF7b3Bruge5O46ABUuA5IJzIJGAS3CiQe1VSD7sVQoosIqAAwIqnNhcYKyO6oWQa313DnW2jnQ2lBVQ8byE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=yQz4NhJ4oajLLnyB+T05xdDeIcV9xSe25LB6xCiX0FnmeZhF3uX5YsaO+MwRPbwkzxv+fWEscE9oUStbnxU7wUhQQwdqaBXj6u3nizTCfiM+MbBuv6jTZBFvwz7g3Zknt6rpRRnBmrwyP0V9chLjuiU0xqfEIwXySgG8PsaY4+A=;
X-YMail-OSG: Tv01OVgVM1nG4SGhBhvVswjEwuP7IrgqeiSSJat.YS49mDy
 004slom74Ku58MYhff4zFEraCbvj4tjTHFnK2Kk4kHU2cyDu85NT0LXTLkqc
 4KhIfhrsiS0OQHHvj3zdL1ETbVIbgExas8PqrYWVkSNAoaRINVrNOHtdf1C7
 fR4tjsjcodl2CqLJvVJBoTeB6nzeFF3Tyd5YbuOa6O8iZjaZwcqtE.x1F1bM
 Rm7MqwgYcKhpFM0eSj2Woh4AZEXB4hr1pJzuLnfvlD0dXzAVyscXsfzGJgme
 kKC4KsnJJCJZYQWPiB7CJFnLD2eZXdl8.xtCfKSzbay.GiijFgDhVAXXlQyz
 nu.bgNqx1GgOhgE3U9JwFlFq2ovgyTPmzJIFNVG5Oo.SPPdJeWOzPMIyftFX
 .5bESFiEN3CqHDwTxGPxCilB5cn5QLPe6cc6eQ0SymkFv80AnczihyIkYISZ
 pSrVlVxxVrnF2s3s4D2uImR5oMBDFH7JkuM6s0ACIBrhOPDZ40c7.jVaVVxW
 1V30Iz8jEByD41SEJ1M46ER0EEGXZ33DaCmlZ97xMu7.XjnND2IbGzc1GcVm
 AprlQW79BFolQTyK1fPcnjIIGXioBZK9C
Received: from [167.234.14.241] by web113603.mail.gq1.yahoo.com via HTTP; Fri, 20 Jul 2012 14:31:41 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342819901.1598.YahooMailClassic@web113603.mail.gq1.yahoo.com>
Date: Fri, 20 Jul 2012 14:31:41 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <5009C53F.8020800@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-850505836-864762297-1342819901=:1598"
X-Virus-Checked: Checked by ClamAV on apache.org

---850505836-864762297-1342819901=:1598
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks for the quick reply Mark.=20
Yes I saw your comments in one of your presentations about profilier and I =
am a fan of visualvm and have profiled Tomcat in the past but when down to =
1-2msec not sure how much the profilier can pick up. I did notice that as t=
he hotspot engine "warms up" the response times start to see improvement. I=
 did adjust the -Xss256k from the default of 1M and I am looking forward to=
 when I get home to see the results since the response times quickly went t=
o 3msec after that was set and hope to see 1msec or below after running for=
 1 day if that change really helps. I did start out profiling the SQL and t=
hat helped and switching to the jtds jdbc driver which seem to help even mo=
re and of course eliminating the interprocess communication (Tomcat - JBoss=
). I made sure my data types in SQL server were unicode so the jdbc drive d=
id not do extra conversion work to unicode. I am slowly moving to the front=
 (JAX-WS to JAX-RS) and then a deep dive into OS tuning. After that
 I will stop tuning for another 6 months I guess.
=A0
Best Regards,
-Tony

--- On Fri, 7/20/12, Mark Thomas <markt@apache.org> wrote:


From: Mark Thomas <markt@apache.org>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Friday, 20 Jul 2012, 2:53 PM


On 20/07/2012 21:42, Tony Anecito wrote:
> Thanks Charles I have found documention for all the below from the
> Tomcat group but seemed somewhat outdated. Mark Thomas's name seemed
> dominant in most of the presentations I have seen there is even
> sections dealing with Tomcat in various Tomcat books I have seen.
>=20
> True the tuning is dependent somewhat upon the app but even Mark
> mentioned logging levels, threads that run contineously that might
> best be tuned off (like checking for new deploys ect). He also
> mentioned the xmx xms java tuning and what Tomcat without apps (WARs)
> loaded needs although not sure if he mentioned xss parimeters. I am
> using the G1 GC by default since that is setup in 1.7.0_05 and the
> compressed pointers is also setup by default for that version of
> 1.7.0_05. I am also looking at the OS level to remove uneeded
> services. I alreadt tuned the network transport parameters as best as
> possible.
>=20
> FYI I currently am down to the 1-2msec response times as measured at
> the exposed web services methods inside of Tomcat 7 using 64-bit
> Oracle 1.7.0_05 JDK and that includes database calls to SQL Server
> 2012 Express. I have used some of the standard things mentioned by
> Mark Thomas which has helped alot and looking for more current tips.

I'm pretty sure that I will have said somewhere in each of those
presentations words to the effect of "Don't guess where the bottlenecks
are. Get yourself a profiler, profile your application and find out
where they really are."

If the profiler highlights any Tomcat internal code, let us know and
we'll take a look.

I'll also add something that I picked up at JavaOne a few years ago.
Pick any two of "high throughput, small heap, low GC pause times".
Whichever two you pick, the other one will suffer. In an ideal world,
the GC needs plenty of manoeuvring room and you should aim to provide
roughly 5 times the minimum memory your app needs (minimum being defined
as the lowest heap usage you can force with lots of manual GC).

HTH,

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---850505836-864762297-1342819901=:1598--

From users-return-235566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 00:44:41 2012
Return-Path: <users-return-235566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B06919F12
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 00:44:41 +0000 (UTC)
Received: (qmail 73839 invoked by uid 500); 21 Jul 2012 00:44:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73777 invoked by uid 500); 21 Jul 2012 00:44:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73766 invoked by uid 99); 21 Jul 2012 00:44:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 00:44:38 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [106.10.148.214] (HELO nm9-vm7.bullet.mail.sg3.yahoo.com) (106.10.148.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 21 Jul 2012 00:44:29 +0000
Received: from [106.10.166.126] by nm9.bullet.mail.sg3.yahoo.com with NNFMP; 21 Jul 2012 00:44:08 -0000
Received: from [106.10.151.154] by tm15.bullet.mail.sg3.yahoo.com with NNFMP; 21 Jul 2012 00:44:08 -0000
Received: from [127.0.0.1] by omp1008.mail.sg3.yahoo.com with NNFMP; 21 Jul 2012 00:44:08 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 189413.16861.bm@omp1008.mail.sg3.yahoo.com
Received: (qmail 82737 invoked by uid 60001); 21 Jul 2012 00:44:08 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342831448; bh=D26BAdaarNoBL9kiUsI46NgE7AOpOHLSQNLhrU0/qxA=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=ujxuY84oQRR3gOfiVMkLRphNYBVH0QWYg12QlDX8LxbwytYf3wzi9/iDQpN+DF7facQfG0WeFw47edCxkJ4rSSuLcR0nniL64zsHbTviiosaqPcD1Mk2AMv9c+A942FMPJM+1IzKd4ulnkzYHNLXgTG2IlwzvSbfk7/PKCJhgIg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1srI3QNJjV/FP4/hZvStrCjraBSXs/sjm7/N4vPLNAph+9rmWiiSeBxIeU9tEHKQguNsEgJapDR746O9MkwIxIQfvkbVDvJ9zUTnpwlLsMO1KPbrZbc415uuA6/0L6bXDgtEfldYXPkqd5T1pt+OvwzzNY08Ey4FedkiGOapa9k=;
X-YMail-OSG: UU1_gOYVM1mtFaKZu_KV1KsTjVhoDaDgKKHWXwRBHBc8CYY
 yYdkwl7DZ5y6ZgWmGdNlM1jhZwyHq_Oi2Riiy9kHDLc1K4AVr8Ng937VH2V6
 F04le6.KLNf.hXov3Kze.9ZYiqEfmpH0j.zcoNbDMu5WkX7mb3jcJSY2KJLJ
 7tiqhyXCIwF8HeUav6jMytTV53AzYvW8P8_J.SA4AU9YT1Ag_zgw7Kb9n4BA
 w3LG2PwcqsDMRj4RdTYeKrjnYJRyEGuuI9WEhHmNxSF.Ut5989YBto6xo48M
 6McOfgagiGjCbE_zTk.DFe9UZjjqe6O1B4DE0dh3sY3frvveMM11XjlXBOL6
 qGRMUcVeDVSzVnngYZGUC77okWW9TQd1r2HBlCjm2CPvFsEb3SzXTrC0dQIQ
 szhtLrk.aE60ZB0y5KMykZ7bhv9Rz7urS.FCX9JKaY4j65IWJz.7aeCpNoRG
 s9yjdUDznjIGDA4zhrMK1lD2Anf8UUZWC7zDBaXSd5LUfEnmHi9XVXyEG31A
 f0a5kKYfUqCbiOEiUCaNIuvRDdebirsxyuu77YMurFXvOqjz_n5M-
Received: from [155.91.28.231] by web193502.mail.sg3.yahoo.com via HTTP; Sat, 21 Jul 2012 08:44:07 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342831447.77544.YahooMailClassic@web193502.mail.sg3.yahoo.com>
Date: Sat, 21 Jul 2012 08:44:07 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50098CA0.7060404@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

For the last 2 failures, this issue appeared on  Monday and DB gets restart=
ed every Saturday. So I assume that this issue has to do something with the=
 DB restart for the last 2 failures.

However 1 months back, the same issue appeared on a Wednesday.

So I was not able find a real pattern for this issue when I compare the las=
t 3 failures.


--- On Fri, 20/7/12, Christopher Schultz <chris@christopherschultz.net> wro=
te:

> From: Christopher Schultz <chris@christopherschultz.net>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Friday, 20 July, 2012, 10:21 PM
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> - -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Vijay,
>=20
> On 7/19/12 8:25 PM, vijay mathew wrote:
>=20
> > java.sql.SQLException: No more data to read from socket
> at=20
> >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> >
> >
> >
> >=20
> at
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > at=20
> >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> >
> >
> >
> >=20
> at
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227=
)
> > at=20
> >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439=
)
> >
> >
> >
> >=20
> at
> oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> > at=20
> >
> oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
> >
> >
> >
> >=20
> at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> > at
> oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
>=20
> > at=20
> >
> oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
> >
> >
> >
> >=20
> at
> oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:84=
9)
> > at=20
> >
> oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.j=
ava:1186)
> >
> >
> >
> >=20
> at
> oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377=
)
> > at=20
> >
> oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWra=
pper.java:386)
> >
> >
> >
> >=20
> at
> com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> > at
> javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>=20
> So, when this happens, it always happens alongside an Oracle
> restart,
> but an Oracle restart does not always mean you'll get one of
> these errors?
>=20
> - - -chris
> - -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
> SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=3D
> =3DpXsE
> - -----END PGP SIGNATURE-----
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
> PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
> =3DckQ+
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 13:11:44 2012
Return-Path: <users-return-235567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C49EEDB00
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 13:11:44 +0000 (UTC)
Received: (qmail 10967 invoked by uid 500); 21 Jul 2012 13:11:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10784 invoked by uid 500); 21 Jul 2012 13:11:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10755 invoked by uid 99); 21 Jul 2012 13:11:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 13:11:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [81.169.162.220] (HELO h1611079.stratoserver.net) (81.169.162.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 13:11:33 +0000
Received: from [192.168.178.22] (pD9E80A4F.dip0.t-ipconnect.de [217.232.10.79])
	(using SSLv3 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h1611079.stratoserver.net (Postfix) with ESMTPSA id 0FA3C494801D
	for <users@tomcat.apache.org>; Sat, 21 Jul 2012 15:11:09 +0200 (CEST)
Message-ID: <1342876267.25585.28.camel@cat>
Subject: Re: java.sql.SQLException: No more data to read from socket
From: Felix Schumacher <felix.schumacher@internetallee.de>
To: users@tomcat.apache.org
Date: Sat, 21 Jul 2012 15:11:07 +0200
In-Reply-To: <1342831447.77544.YahooMailClassic@web193502.mail.sg3.yahoo.com>
References: <1342831447.77544.YahooMailClassic@web193502.mail.sg3.yahoo.com>
Organization: 
Content-Type: text/plain; charset="ISO-8859-15"
X-Mailer: Evolution 3.2.3-0ubuntu6 
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Am Samstag, den 21.07.2012, 08:44 +0800 schrieb vijay mathew:
> For the last 2 failures, this issue appeared on  Monday and DB gets restarted every Saturday. So I assume that this issue has to do something with the DB restart for the last 2 failures.
> 
> However 1 months back, the same issue appeared on a Wednesday.
> 
> So I was not able find a real pattern for this issue when I compare the last 3 failures.
You are using a pool of connections. The pool maintains at least three
different types of connections:

 * alive connections, which are borrowed to a client
 * alive connections, which are idling in the pool
 * closed connections, which wait to be opened by the pool

When you restart the database, all alive connections will (probably) be
broken. If you ask the pool for a new connection, it can give you a
previously closed one and open it, or a previously alive (and probably
broken) one.

So you might be lucky by getting a newly opened one, or have bad luck
and get a broken connection. The pool should prefer to give one of the
"alive" connections to you, though.

To mitigate the problem of handing out broken connections the pool often
has functionality to check a connection, before it hands it to the
client. When using the tomcat database connection pool, that feature can
be configured by setting validationQuery to a valid SQL-query (e.g
"select 1 from dual" for oracle) and testOnBorrow to true.

On the other hand, your code could store the connection somewhere and
use it after a long period of time again. If the database was restarted
in the meantime, you would get that error, but the validation query in
the pool would not be able to help you.

Regards
 Felix
> 
> 
> --- On Fri, 20/7/12, Christopher Schultz <chris@christopherschultz.net> wrote:
> 
> > From: Christopher Schultz <chris@christopherschultz.net>
> > Subject: Re: java.sql.SQLException: No more data to read from socket
> > To: "Tomcat Users List" <users@tomcat.apache.org>
> > Date: Friday, 20 July, 2012, 10:21 PM
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> > 
> > - -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> > 
> > Vijay,
> > 
> > On 7/19/12 8:25 PM, vijay mathew wrote:
> > 
> > > java.sql.SQLException: No more data to read from socket
> > at 
> > >
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
> > >
> > >
> > >
> > > 
> > at
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > at 
> > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
> > >
> > >
> > >
> > > 
> > at
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227)
> > > at 
> > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439)
> > >
> > >
> > >
> > > 
> > at
> > oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> > > at 
> > >
> > oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
> > >
> > >
> > >
> > > 
> > at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> > > at
> > oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
> > 
> > > at 
> > >
> > oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
> > >
> > >
> > >
> > > 
> > at
> > oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)
> > > at 
> > >
> > oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)
> > >
> > >
> > >
> > > 
> > at
> > oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377)
> > > at 
> > >
> > oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:386)
> > >
> > >
> > >
> > > 
> > at
> > com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> > > at
> > javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> > 
> > So, when this happens, it always happens alongside an Oracle
> > restart,
> > but an Oracle restart does not always mean you'll get one of
> > these errors?
> > 
> > - - -chris
> > - -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > 
> > iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
> > SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=
> > =pXsE
> > - -----END PGP SIGNATURE-----
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > 
> > iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
> > PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
> > =ckQ+
> > -----END PGP SIGNATURE-----
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 15:10:11 2012
Return-Path: <users-return-235568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C232D96DF
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 15:10:11 +0000 (UTC)
Received: (qmail 16942 invoked by uid 500); 21 Jul 2012 15:10:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16661 invoked by uid 500); 21 Jul 2012 15:10:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16611 invoked by uid 99); 21 Jul 2012 15:10:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 15:10:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_FRT_PROFILE1,T_FRT_PROFILE2
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cjderham@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 15:09:57 +0000
Received: by lbok6 with SMTP id k6so8711066lbo.18
        for <users@tomcat.apache.org>; Sat, 21 Jul 2012 08:09:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=/TDCaNN0LEHjm9R+F7oc3HN9UVBaPs6O9f3cI5psw1o=;
        b=lvCFhRfWqn5TYkaR65by5m6ZzaP/Gi3XNaT+Bs+2BnZxG1kIJJLju/mqqhEbj1MOUS
         c/wD/juUqX+brEnmiDbNPvFtT8aBDOyBFWko7oVGDeVrbnikWtDrNPQaV9f2e+uwtT4e
         nm0WW0k+0uwT2vsmqAFjIfMREM/HjhZiIC7dHqiYJ8y9f2Kk3xLqcuGXYNxqRQ9ExRyo
         Rl5eE2OgnDL9JWQuXPg3CbzOZSwXfXpp5LfgnLyJRiZJtjZm4y7UBc7/mTrlRzovGjzv
         c4fXMa2egBosGivgmS7I6k+OK3MiScKdC6oS32BsPuAf65YIAFJn08nPx9D6SpaFXo9B
         I1xQ==
Received: by 10.112.24.229 with SMTP id x5mr4846236lbf.23.1342883375462; Sat,
 21 Jul 2012 08:09:35 -0700 (PDT)
MIME-Version: 1.0
Reply-To: chris@derham.me.uk
Sender: cjderham@gmail.com
Received: by 10.112.96.16 with HTTP; Sat, 21 Jul 2012 08:09:15 -0700 (PDT)
In-Reply-To: <1342819901.1598.YahooMailClassic@web113603.mail.gq1.yahoo.com>
References: <5009C53F.8020800@apache.org> <1342819901.1598.YahooMailClassic@web113603.mail.gq1.yahoo.com>
From: chris derham <chris@derham.me.uk>
Date: Sat, 21 Jul 2012 12:09:15 -0300
X-Google-Sender-Auth: YKTbNwlDbZS52xF_GvpL5NNAWM8
Message-ID: <CAG6aRdX11Wea9UYNk3KAz7a6TKH3MpopFOxWqVHfyhRwzW2BjQ@mail.gmail.com>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e0cb4efe323c91ba3b04c558664d
X-Virus-Checked: Checked by ClamAV on apache.org

--e0cb4efe323c91ba3b04c558664d
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Jul 20, 2012 at 6:31 PM, Tony Anecito <adanecito@yahoo.com> wrote:

> Thanks for the quick reply Mark.
> Yes I saw your comments in one of your presentations about profilier and I
> am a fan of visualvm and have profiled Tomcat in the past but when down to
> 1-2msec not sure how much the profilier can pick up. I did notice that as
> the hotspot engine "warms up" the response times start to see improvement.
> I did adjust the -Xss256k from the default of 1M and I am looking forward
> to when I get home to see the results since the response times quickly went
> to 3msec after that was set and hope to see 1msec or below after running
> for 1 day if that change really helps. I did start out profiling the SQL
> and that helped and switching to the jtds jdbc driver which seem to help
> even more and of course eliminating the interprocess communication (Tomcat
> - JBoss). I made sure my data types in SQL server were unicode so the jdbc
> drive did not do extra conversion work to unicode. I am slowly moving to
> the front (JAX-WS to JAX-RS) and then a deep dive into OS tuning. After that
>  I will stop tuning for another 6 months I guess.
>

Tony,

With all due respect, you sound like you are fiddling with settings to
learn rather than tuning. What I understand by tuning a webapp is that you

   1. Create a automated test script to simulate some load
   2. You increase the load until the bring the webapp to its knees -
   either >80% CPU or responses taking >1/2 sec to return
   3. Critical step - you tell your bosses the maximum level that the app
   can currently support, e.g. X concurrent users performing A and B and C
   routes through the app.
   4. If they say that's all they need, then stop
   5. Otherwise use a profiler to establish where the bottle neck is
   6. Fix it
   7. Repeat from step 2

Using this technique you make sure that you don't waste time fixing issues
that aren't really issues. As a programmer, its kind of hurts to admit it,
but programmers are wrong when thy guess where the performance issues are.
Always. This isn't my idea - read the performance tuning books. You'll just
make code more complicated, and less maintainable.

IMO there is nothing wrong with fiddling with settings to see what they do.
However unless you have a repeatable (read automated) test script that
allows you to test after each individual change, you're just whistling in
the wind.

Now it is possible that I have all this wrong. Perhaps you have an
automated script, and you are doing all the above. It doesn't sound from
your description that this is the case, but if it is then I apologise

HTH

Chris

--e0cb4efe323c91ba3b04c558664d--

From users-return-235569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 16:12:10 2012
Return-Path: <users-return-235569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E594D394
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 16:12:10 +0000 (UTC)
Received: (qmail 32626 invoked by uid 500); 21 Jul 2012 16:12:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32586 invoked by uid 500); 21 Jul 2012 16:12:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32570 invoked by uid 99); 21 Jul 2012 16:12:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 16:12:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.19 as permitted sender)
Received: from [206.46.173.19] (HELO vms173019pub.verizon.net) (206.46.173.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 16:11:57 +0000
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173019.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M7I001I7QAQIJL0@vms173019.mailsrvcs.net> for
 users@tomcat.apache.org; Sat, 21 Jul 2012 11:11:17 -0500 (CDT)
Message-id: <500AD4A1.7000606@verizon.net>
Date: Sat, 21 Jul 2012 12:11:13 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
References: <5009C53F.8020800@apache.org>
 <1342819901.1598.YahooMailClassic@web113603.mail.gq1.yahoo.com>
 <CAG6aRdX11Wea9UYNk3KAz7a6TKH3MpopFOxWqVHfyhRwzW2BjQ@mail.gmail.com>
In-reply-to:
 <CAG6aRdX11Wea9UYNk3KAz7a6TKH3MpopFOxWqVHfyhRwzW2BjQ@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit

On 7/21/2012 11:09 AM, chris derham wrote:

...

>     1. Create a automated test script to simulate some load
>     2. You increase the load until the bring the webapp to its knees -
>     either>80% CPU or responses taking>1/2 sec to return
>     3. Critical step - you tell your bosses the maximum level that the app
>     can currently support, e.g. X concurrent users performing A and B and C
>     routes through the app.
>     4. If they say that's all they need, then stop
>     5. Otherwise use a profiler to establish where the bottle neck is
>     6. Fix it
>     7. Repeat from step 2
>
> Using this technique you make sure that you don't waste time fixing issues
> that aren't really issues. As a programmer, its kind of hurts to admit it,
> but programmers are wrong when thy guess where the performance issues are.
> Always. This isn't my idea - read the performance tuning books. You'll just
> make code more complicated, and less maintainable.

I disagree here.  Once in a great while (maybe 10% of the time), I think 
I know where my bottlenecks are going to be, and testing proves me 
right.  Of course the other 90% of the time...

D

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 19:11:58 2012
Return-Path: <users-return-235570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8489D96F
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 19:11:58 +0000 (UTC)
Received: (qmail 69056 invoked by uid 500); 21 Jul 2012 19:11:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68999 invoked by uid 500); 21 Jul 2012 19:11:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68990 invoked by uid 99); 21 Jul 2012 19:11:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 19:11:55 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,LOTS_OF_MONEY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.91.198] (HELO nm10-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.198)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 21 Jul 2012 19:11:45 +0000
Received: from [98.139.91.62] by nm10.bullet.mail.sp2.yahoo.com with NNFMP; 21 Jul 2012 19:11:25 -0000
Received: from [98.139.91.1] by tm2.bullet.mail.sp2.yahoo.com with NNFMP; 21 Jul 2012 19:11:25 -0000
Received: from [127.0.0.1] by omp1001.mail.sp2.yahoo.com with NNFMP; 21 Jul 2012 19:11:25 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 110026.54601.bm@omp1001.mail.sp2.yahoo.com
Received: (qmail 14378 invoked by uid 60001); 21 Jul 2012 19:11:24 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342897884; bh=sTC63mgpVboKjuHVijhWuCnMJxwiaI+qXT8BMpSbzPE=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=GOZsGSRTizY2rNu29biO2BowLNyKVBQD202JQT9FESOXwAKWL+IthY8JtDsg9S57hzluBTo0Mp3imvNfI3ziAXI6an9xjoxdL3kgOCfIPO/U/qLNRAiUqwMVCGdc4VyjBO+JhvDPOixMbwAbAg/n7w8ihNhJbb8hzCY35TME4HM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=cEwoVu7I1c4xBK50fbzZiSlgDThUZhb8vsnrFIwHkjsmxA4JfLUhEIMlOQk/0q/weAWbyXrcYYCKFafd80kUJuTzgBEhvI418eAmQFCVNqdbGjHEIwBUuNPikbzRXIUXscCMBtZ8h9J5NZxg9hl/q0S2JAsvfbdXxG0LqMVuXXQ=;
X-YMail-OSG: BKtLdCUVM1kbyC6HEPNp.9KJP5qq74xyoo2ZmZE0XIP5nA9
 Ll8W_qJVz7hQZtXHxjvd8MXCXVvH7UBNwP_ZImN2SFL6n5y2wieBaXLwUnf7
 ZY0wo3aP1PTWyHb8tm_JwLBxWD0FF3tKmpzb6m9HOXHO06h_T_oryuSfcrno
 2aLHrrIKuG3RtnojGAz0gjagHH5dK7hKvDgW5R235wS3tI6ch3YlbTKhfIDi
 Thr4ggMzei_rdHPLqdSBMAnZam34tQsz7MBrDJO0lbrVKDLajHVkdzQcEDVA
 CKa_SotW3PWQM.CsKxkXtrGw1VFiU3JwrOtjYMVZwqAMZF9TlOuv.uXWA_PK
 3BMx17FLlpq8JHfj3MU.lJHAHO5jiQweSblyrczbJDJBuOoJ2acw5JfswrdZ
 YJWXqLFMsaPejt16zVuDt6FPxnIwKH.F1wy9xmfhC3nVFn9DLcUN5l21TgAK
 N3agjJKCBy1wce4xIOBBqL8WE_bXLOqFkcQVASEx4tA8z9JYo1Fv8XaAp320
 P1LYA0xejQaSWmPR.G0vsDSd_ZjHCJP7.OaoSn0zcaTQFmawWj..wCwb5lmg
 wQJQH.5WS4LMIG8vrrXQd_aE1Q0uPsKggEg--
Received: from [204.228.207.218] by web113611.mail.gq1.yahoo.com via HTTP; Sat, 21 Jul 2012 12:11:24 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342897884.14179.YahooMailClassic@web113611.mail.gq1.yahoo.com>
Date: Sat, 21 Jul 2012 12:11:24 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500AD4A1.7000606@verizon.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1312186821-1265045823-1342897884=:14179"
X-Virus-Checked: Checked by ClamAV on apache.org

---1312186821-1265045823-1342897884=:14179
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Lots of time I apply best practices that I learn over time or are recommend=
ed by experts (Like Mark Thomas). You do that first as early in the develop=
ment life cycle as possible. Funny I guess how these best practices come fr=
om developers, vendors (like Sun and now Oracle) and DBA's ect. If you can =
not get your performance to be the best with light load or expected load (a=
ctual users) then the tests you menton are a waste of time and too late in =
the solution life cycle.
Some of us do not have million dollar test systems like HP Performance Cent=
er (which I use since I lead a performance Testing team) or open source too=
ls that support JAX-WS. So being proactive where you can rather than later =
is my motto.
My goal was simple and achieved and usage in production was what I mentione=
d (1-2msec) and a combination of using leading edge techniques combined wit=
h the old fashioned way of doing things.
=A0
Best Regards,
Tony Anecito
JavaOne 2010 Dukes Award winner for Innovation
JavaOne 2010 Future of Java Winner
Currently #1 App Store Download for 3D Mapping and #2 for video app


--- On Sat, 7/21/12, David kerber <dckerber@verizon.net> wrote:


From: David kerber <dckerber@verizon.net>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Saturday, 21 Jul 2012, 10:11 AM


On 7/21/2012 11:09 AM, chris derham wrote:

...

>=A0 =A0=A0=A01. Create a automated test script to simulate some load
>=A0 =A0=A0=A02. You increase the load until the bring the webapp to its kn=
ees -
>=A0 =A0=A0=A0either>80% CPU or responses taking>1/2 sec to return
>=A0 =A0=A0=A03. Critical step - you tell your bosses the maximum level tha=
t the app
>=A0 =A0=A0=A0can currently support, e.g. X concurrent users performing A a=
nd B and C
>=A0 =A0=A0=A0routes through the app.
>=A0 =A0=A0=A04. If they say that's all they need, then stop
>=A0 =A0=A0=A05. Otherwise use a profiler to establish where the bottle nec=
k is
>=A0 =A0=A0=A06. Fix it
>=A0 =A0=A0=A07. Repeat from step 2
>=20
> Using this technique you make sure that you don't waste time fixing issue=
s
> that aren't really issues. As a programmer, its kind of hurts to admit it=
,
> but programmers are wrong when thy guess where the performance issues are=
.
> Always. This isn't my idea - read the performance tuning books. You'll ju=
st
> make code more complicated, and less maintainable.

I disagree here.=A0 Once in a great while (maybe 10% of the time), I think =
I know where my bottlenecks are going to be, and testing proves me right.=
=A0 Of course the other 90% of the time...

D

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---1312186821-1265045823-1342897884=:14179--

From users-return-235571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 21 23:00:31 2012
Return-Path: <users-return-235571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F41E39714
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 21 Jul 2012 23:00:30 +0000 (UTC)
Received: (qmail 61280 invoked by uid 500); 21 Jul 2012 23:00:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61140 invoked by uid 500); 21 Jul 2012 23:00:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61129 invoked by uid 99); 21 Jul 2012 23:00:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 23:00:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jul 2012 23:00:19 +0000
Received: from mail.homeinbox.net ([2.24.200.22])
	by mwinf5d24 with ME
	id dAzx1j00i0VVW1e03Azxu2; Sun, 22 Jul 2012 00:59:58 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 1A8C0EAB739
	for <users@tomcat.apache.org>; Sat, 21 Jul 2012 23:59:57 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JiddjmsMRsdg for <users@tomcat.apache.org>;
	Sat, 21 Jul 2012 23:59:40 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id D550EEAB738
	for <users@tomcat.apache.org>; Sat, 21 Jul 2012 23:59:39 +0100 (BST)
Message-ID: <500B3453.7040308@apache.org>
Date: Sat, 21 Jul 2012 23:59:31 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com> <CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com> <500570B8.3030309@christopherschultz.net> <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
In-Reply-To: <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 17/07/2012 19:31, Alexander Shutyaev wrote:
> Hi Christopher,
> 
> I've found a solution to my problem although I believe it's more 
> accurate to say I guessed it :) Maybe you'll be able to explain it 
> to me. Here is the complete code:
> 
> Tomcat tomcat = new Tomcat(); tomcat.setBaseDir(baseDir); 
> tomcat.getConnector().setPort(8080); 
> tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
>
>
> 
tomcat.getEngine(); // (1)
> tomcat.init(); tomcat.getHost().addAlias("127.0.0.1"); // (2) 
> tomcat.start(); tomcat.addWebapp("", path);
> 
> (1) - this seems like it should be called from somewhere within 
> Tomcat class during initialization, but somehow it isn't called, 
> and without this line I get a NullPointerException
> 
> (2) - this is my solution to the problem I've described before; 
> without this line my app is only served on http://localhost:8080 
> but if I include this line my app is available on 
> http://localhost:8080, http://127.0.0.1:8080 and all other
> assigned addresses like http://192.168.1.1:8080 etc

The problems you are seeing are caused by the order you are calling
the methods.

1. addWebapp() will create the necessary Engine and Host but these
need to be in place before you call start().

2. There is no need to call init(). Calling start() will call init()
if it hasn't already been called.

The following should work:
Tomcat tomcat = new Tomcat();
tomcat.setBaseDir(baseDir);
tomcat.getConnector().setPort(8080);
tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
tomcat.addWebapp("", path);
tomcat.start();

Patches for improvements to the Tomcat Javadoc welcome.

The Tomcat unit tests are a good source of examples of using the
Tomcat class.

Mark
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJQCzRTAAoJEBDAHFovYFnnpAcP/R0V7GzR7IRzBGQlbXugNkpJ
7GEiEi+8RZCm5gDv8w4Ap5v/dQg23O5QeLrZaWZf+3S91omql7wpavBqeYz9H0I6
VjgcXk7n/iNB8qsWCtZ/42SFH61VI8vqwjWgiuCzDtfWODIkyp+uZpDJPLvUHzQj
BicYz6Ya1r2NUCzTRQzCB1ewcQgSJsBoiiHR6bxKZvZlW+LZKSCwnnPa0xIq9M90
101Hidr3FYzvQWSNmTvWeXQd7u7q5VnPnOvKz+GdoC1T5EcZberPTXyh5bmqEzTk
USearjM26VoMPH8GxSmY4Sq3BZxn8cZZM9lBZ4onBaH4wM4ea8PfPuUrDn1AHqoO
K/g5erElXM9PGkPE8rQdLws0pU8XxMIXdbjHcC/amYjGmG1tfOd0Kxrq+xCuEes3
Qzl6t9g+Q2pKV/tqJSmoaZszZfXLVX4cr9KHwoU5Hq83WJSvaKsDwMvWRT8+hZAt
j9DGsIgurCtk3TxACgG73NdGLO1y96f1vOQNRb53zSOOjG6FhWeFxU1o+TijIJGL
fuAF1zSqLC9Tro+iZNKfzQvK8hTymzTLORmtlWrQmvAwaIdFzlJM4Ut4qoRyGGiL
g26HUjqord/nDG2xZ0CgMb/HjaZHxDnTLEh+iOGO5/pmdMciENw10GfF0snJyQht
Kd5VRqQ7JpAbDgHxXClR
=4xDL
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 05:43:07 2012
Return-Path: <users-return-235572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FC489DBB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 05:43:07 +0000 (UTC)
Received: (qmail 76115 invoked by uid 500); 22 Jul 2012 05:43:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76025 invoked by uid 500); 22 Jul 2012 05:43:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75991 invoked by uid 99); 22 Jul 2012 05:43:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 05:43:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shutyaev@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 05:42:55 +0000
Received: by obbta14 with SMTP id ta14so10667767obb.18
        for <users@tomcat.apache.org>; Sat, 21 Jul 2012 22:42:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=h68VNXWty/F6ghDOao/Z/J0pSRpTLfsYG+WkIMwiXOo=;
        b=WW4fvYImGaYZy253WZ/takRa42/HugX/t4vkhsh88FLcBL+cuOm+aqNdP2Qh+a3uLs
         tiXBo3kYAJC++fkEej7l2kVjQ8+tHeOPXGBsiNpc3cykPk8KzRMIbAQOJLIV+be105qk
         f1fBGLdEBGOXMCFxQnhZmJbhjyLRkheIuHApWyoewKgaJJkcDk79w5tTmdEzD6UZSNKd
         TInww9XiFVQVJre1xWtEQol3u31cx7/FOEoROBTeYYJ5rJTQzBcO3SS+kTCTODHmNxu0
         pbC7gFPQemARyJPkRvGKw5z2ARiaVjRAkFDwoVVYDGQJRDK6DbntXU0s6/nBfZ9Z9IWU
         Rhsw==
MIME-Version: 1.0
Received: by 10.50.237.1 with SMTP id uy1mr11926691igc.18.1342935754279; Sat,
 21 Jul 2012 22:42:34 -0700 (PDT)
Received: by 10.231.196.22 with HTTP; Sat, 21 Jul 2012 22:42:34 -0700 (PDT)
In-Reply-To: <500B3453.7040308@apache.org>
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com>
	<CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com>
	<500570B8.3030309@christopherschultz.net>
	<CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com>
	<500B3453.7040308@apache.org>
Date: Sun, 22 Jul 2012 09:42:34 +0400
Message-ID: <CAGBp8g8-_rxh_2R6hhncBOd0ET4E-HbTjRW_7x8Nv3tNKYxTFw@mail.gmail.com>
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
From: Alexander Shutyaev <shutyaev@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044787539709fa04c564981a
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044787539709fa04c564981a
Content-Type: text/plain; charset=UTF-8

Hi Mark,

The problem is that I have a dynamic app where webapps come and go, so I
can't call addWebapp() before calling start(). The best I can do is a
delayed start() - in my method that calls addWebapp() I can make a check -
and if this is the first time - call start() after addWebapp(). Will this
help? Can I safely call addWebapp() for 2nd and all other webapps after
start() ?

2012/7/22 Mark Thomas <markt@apache.org>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 17/07/2012 19:31, Alexander Shutyaev wrote:
> > Hi Christopher,
> >
> > I've found a solution to my problem although I believe it's more
> > accurate to say I guessed it :) Maybe you'll be able to explain it
> > to me. Here is the complete code:
> >
> > Tomcat tomcat = new Tomcat(); tomcat.setBaseDir(baseDir);
> > tomcat.getConnector().setPort(8080);
> > tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
> >
> >
> >
> tomcat.getEngine(); // (1)
> > tomcat.init(); tomcat.getHost().addAlias("127.0.0.1"); // (2)
> > tomcat.start(); tomcat.addWebapp("", path);
> >
> > (1) - this seems like it should be called from somewhere within
> > Tomcat class during initialization, but somehow it isn't called,
> > and without this line I get a NullPointerException
> >
> > (2) - this is my solution to the problem I've described before;
> > without this line my app is only served on http://localhost:8080
> > but if I include this line my app is available on
> > http://localhost:8080, http://127.0.0.1:8080 and all other
> > assigned addresses like http://192.168.1.1:8080 etc
>
> The problems you are seeing are caused by the order you are calling
> the methods.
>
> 1. addWebapp() will create the necessary Engine and Host but these
> need to be in place before you call start().
>
> 2. There is no need to call init(). Calling start() will call init()
> if it hasn't already been called.
>
> The following should work:
> Tomcat tomcat = new Tomcat();
> tomcat.setBaseDir(baseDir);
> tomcat.getConnector().setPort(8080);
> tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
> tomcat.addWebapp("", path);
> tomcat.start();
>
> Patches for improvements to the Tomcat Javadoc welcome.
>
> The Tomcat unit tests are a good source of examples of using the
> Tomcat class.
>
> Mark
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (MingW32)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iQIcBAEBAgAGBQJQCzRTAAoJEBDAHFovYFnnpAcP/R0V7GzR7IRzBGQlbXugNkpJ
> 7GEiEi+8RZCm5gDv8w4Ap5v/dQg23O5QeLrZaWZf+3S91omql7wpavBqeYz9H0I6
> VjgcXk7n/iNB8qsWCtZ/42SFH61VI8vqwjWgiuCzDtfWODIkyp+uZpDJPLvUHzQj
> BicYz6Ya1r2NUCzTRQzCB1ewcQgSJsBoiiHR6bxKZvZlW+LZKSCwnnPa0xIq9M90
> 101Hidr3FYzvQWSNmTvWeXQd7u7q5VnPnOvKz+GdoC1T5EcZberPTXyh5bmqEzTk
> USearjM26VoMPH8GxSmY4Sq3BZxn8cZZM9lBZ4onBaH4wM4ea8PfPuUrDn1AHqoO
> K/g5erElXM9PGkPE8rQdLws0pU8XxMIXdbjHcC/amYjGmG1tfOd0Kxrq+xCuEes3
> Qzl6t9g+Q2pKV/tqJSmoaZszZfXLVX4cr9KHwoU5Hq83WJSvaKsDwMvWRT8+hZAt
> j9DGsIgurCtk3TxACgG73NdGLO1y96f1vOQNRb53zSOOjG6FhWeFxU1o+TijIJGL
> fuAF1zSqLC9Tro+iZNKfzQvK8hTymzTLORmtlWrQmvAwaIdFzlJM4Ut4qoRyGGiL
> g26HUjqord/nDG2xZ0CgMb/HjaZHxDnTLEh+iOGO5/pmdMciENw10GfF0snJyQht
> Kd5VRqQ7JpAbDgHxXClR
> =4xDL
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044787539709fa04c564981a--

From users-return-235573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 07:31:54 2012
Return-Path: <users-return-235573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 99245D55E
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 07:31:54 +0000 (UTC)
Received: (qmail 57546 invoked by uid 500); 22 Jul 2012 07:31:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57356 invoked by uid 500); 22 Jul 2012 07:31:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57325 invoked by uid 99); 22 Jul 2012 07:31:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 07:31:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.80] (HELO smtpout.wanadoo.co.uk) (80.12.242.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 07:31:41 +0000
Received: from mail.homeinbox.net ([2.24.200.22])
	by mwinf5d67 with ME
	id dKXL1j0030VVW1e03KXLZj; Sun, 22 Jul 2012 09:31:21 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id B13DAB22001
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 08:31:19 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lqM3LoSfPHD9 for <users@tomcat.apache.org>;
	Sun, 22 Jul 2012 08:31:12 +0100 (BST)
Received: from [192.168.23.207] (unknown [2.24.200.22])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id BCA4FEAB739
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 08:31:12 +0100 (BST)
References: <CAGBp8g-avG=648Bx1ZZjMXMZdgG+Q=u8XTkD0BiNzi7623+7wA@mail.gmail.com> <CAGBp8g_=3N_WoaKe+Q0wT_eJQ=0GJxMYtzTN6Rm5-3S1r=UrtA@mail.gmail.com> <500570B8.3030309@christopherschultz.net> <CAGBp8g9czvXobE77gwtni5deFaL=azZ8mw82-Jvo9wSFp0GJ1w@mail.gmail.com> <500B3453.7040308@apache.org> <CAGBp8g8-_rxh_2R6hhncBOd0ET4E-HbTjRW_7x8Nv3tNKYxTFw@mail.gmail.com>
User-Agent: K-9 Mail for Android
In-Reply-To: <CAGBp8g8-_rxh_2R6hhncBOd0ET4E-HbTjRW_7x8Nv3tNKYxTFw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: force embedded tomcat 7 to listen on ALL adresses
From: Mark Thomas <markt@apache.org>
Date: Sun, 22 Jul 2012 08:31:13 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <d7c75011-2f8d-4c6e-9601-d368900e6878@email.android.com>



Alexander Shutyaev <shutyaev@gmail.com> wrote:

>Hi Mark,
>
>The problem is that I have a dynamic app where webapps come and go, so
>I
>can't call addWebapp() before calling start(). The best I can do is a
>delayed start() - in my method that calls addWebapp() I can make a
>check -
>and if this is the first time - call start() after addWebapp(). Will
>this
>help? Can I safely call addWebapp() for 2nd and all other webapps after
>start() ?

That should work. Another option that should work is (in my example below) use getHost(), start(), addWebapp() instead of addWebapp(), start().

The important thing is to get the Tomcat internals lined up before you call start() because adding them after start requires a little more work to get everything configured correctly. Calling getHost() automatically creates the parent objects (engine, service, server) and Connector as required and also sets up the default host. 

As I said before, patches to improve the documentation of the Tomcat class are welcome.

Mark


>
>2012/7/22 Mark Thomas <markt@apache.org>
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> On 17/07/2012 19:31, Alexander Shutyaev wrote:
>> > Hi Christopher,
>> >
>> > I've found a solution to my problem although I believe it's more
>> > accurate to say I guessed it :) Maybe you'll be able to explain it
>> > to me. Here is the complete code:
>> >
>> > Tomcat tomcat = new Tomcat(); tomcat.setBaseDir(baseDir);
>> > tomcat.getConnector().setPort(8080);
>> >
>tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
>> >
>> >
>> >
>> tomcat.getEngine(); // (1)
>> > tomcat.init(); tomcat.getHost().addAlias("127.0.0.1"); // (2)
>> > tomcat.start(); tomcat.addWebapp("", path);
>> >
>> > (1) - this seems like it should be called from somewhere within
>> > Tomcat class during initialization, but somehow it isn't called,
>> > and without this line I get a NullPointerException
>> >
>> > (2) - this is my solution to the problem I've described before;
>> > without this line my app is only served on http://localhost:8080
>> > but if I include this line my app is available on
>> > http://localhost:8080, http://127.0.0.1:8080 and all other
>> > assigned addresses like http://192.168.1.1:8080 etc
>>
>> The problems you are seeing are caused by the order you are calling
>> the methods.
>>
>> 1. addWebapp() will create the necessary Engine and Host but these
>> need to be in place before you call start().
>>
>> 2. There is no need to call init(). Calling start() will call init()
>> if it hasn't already been called.
>>
>> The following should work:
>> Tomcat tomcat = new Tomcat();
>> tomcat.setBaseDir(baseDir);
>> tomcat.getConnector().setPort(8080);
>> tomcat.getServer().setParentClassLoader(getClass().getClassLoader());
>> tomcat.addWebapp("", path);
>> tomcat.start();
>>
>> Patches for improvements to the Tomcat Javadoc welcome.
>>
>> The Tomcat unit tests are a good source of examples of using the
>> Tomcat class.
>>
>> Mark
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v1.4.9 (MingW32)
>> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>>
>> iQIcBAEBAgAGBQJQCzRTAAoJEBDAHFovYFnnpAcP/R0V7GzR7IRzBGQlbXugNkpJ
>> 7GEiEi+8RZCm5gDv8w4Ap5v/dQg23O5QeLrZaWZf+3S91omql7wpavBqeYz9H0I6
>> VjgcXk7n/iNB8qsWCtZ/42SFH61VI8vqwjWgiuCzDtfWODIkyp+uZpDJPLvUHzQj
>> BicYz6Ya1r2NUCzTRQzCB1ewcQgSJsBoiiHR6bxKZvZlW+LZKSCwnnPa0xIq9M90
>> 101Hidr3FYzvQWSNmTvWeXQd7u7q5VnPnOvKz+GdoC1T5EcZberPTXyh5bmqEzTk
>> USearjM26VoMPH8GxSmY4Sq3BZxn8cZZM9lBZ4onBaH4wM4ea8PfPuUrDn1AHqoO
>> K/g5erElXM9PGkPE8rQdLws0pU8XxMIXdbjHcC/amYjGmG1tfOd0Kxrq+xCuEes3
>> Qzl6t9g+Q2pKV/tqJSmoaZszZfXLVX4cr9KHwoU5Hq83WJSvaKsDwMvWRT8+hZAt
>> j9DGsIgurCtk3TxACgG73NdGLO1y96f1vOQNRb53zSOOjG6FhWeFxU1o+TijIJGL
>> fuAF1zSqLC9Tro+iZNKfzQvK8hTymzTLORmtlWrQmvAwaIdFzlJM4Ut4qoRyGGiL
>> g26HUjqord/nDG2xZ0CgMb/HjaZHxDnTLEh+iOGO5/pmdMciENw10GfF0snJyQht
>> Kd5VRqQ7JpAbDgHxXClR
>> =4xDL
>> -----END PGP SIGNATURE-----
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 08:20:43 2012
Return-Path: <users-return-235574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A25B7D5D5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 08:20:43 +0000 (UTC)
Received: (qmail 45345 invoked by uid 500); 22 Jul 2012 08:20:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45206 invoked by uid 500); 22 Jul 2012 08:20:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45137 invoked by uid 99); 22 Jul 2012 08:20:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 08:20:37 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [77.246.130.91] (HELO gen0lxsm01.citco.com) (77.246.130.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 08:20:30 +0000
X-AuditID: 4df6825b-b7f566d000003d8d-b0-500bb7b9e79a
From: "Genibre, Nicolas    (Citco)" <NGenibre@citco.com>
To: "'users@tomcat.apache.org'" <users@tomcat.apache.org>
Date: Sun, 22 Jul 2012 09:20:06 +0100
Subject: Re: Location of Tomcat 7 jvm defualt ysettings...
Thread-Topic: Location of Tomcat 7 jvm defualt ysettings...
Thread-Index: Ac1mucxhqhF1KR1nSli1Fzy3SCt6hwBKQC/9
Message-ID: <AE4E2221F5B80B498364BEEBA3A5B57802249B00341A@CRK2MSEXM01.ad.ent.citco.com>
In-Reply-To: <5009C53F.8020800@apache.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
content-transfer-encoding: quoted-printable
MIME-Version: 1.0
X-CFilter-Loop: Reflected
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFlrIKsWRmVeSWpSXmKPExsVyRXqfj+7O7dwBBp075Cy2fvzK6MDosfFZ
	N3MAY1QDo01iXl5+SWJJqkJKanGyrZJzZklyvl5yfq6Cf1paZnJmYo6CS2Zxck5iZm5qkZJC
	ZoqtkpGSQkFOYnJqbmpeia1SYkFBal6Kkh2XAgawASrLzFNIzUvOT8nMS7dV8gz217WwMLXU
	NVSyg5qasJMpo3diUcEV4YqPK7ewNjD+4u9i5OCQEDCRaP+f0MXICWSKSVy4t54NxGYTsJDY
	0nEBzBYRsJSYv+YlI4jNIqAqce7AShaQVmEBK4k1v40hSqwlmm6+ZoewjST6lm4Ca+UVCJdY
	vvMPE4jNKaAlseHBchYQmxFo1fdTa8DizALiEreezGeCOEFAYsme88wQtqjEy8f/WCHqRSXu
	tK9nhKjXk7gxdQobhK0tsWzha2aIXYISJ2c+AZsvJCAv8epQL9QcSYmDK26wTGAUmYVk3Swk
	o2YhGTULyagFjCyrGEXSU/MMciqKcw0M9ZJhkbaJERjhvt+aoncw7mmSPMQowMGoxMNr6M4d
	IMSaWFZcmXuIUYKDWUmEt7MHKMSbklhZlVqUH19UmpNafIgxGRiOE5mlRJPzgcknryTe0MjI
	0tTcyNLS1NTcmDRhJXFeYy2OACGBdGDSyk5NLUgtgtnCxMEpBUx3uuZ98WdCHTRmTq5sMw9u
	e7p+0RfuBsWth9euDE3lKXjDdEr/UqTudGm3pWw2nfNNT2jrb778d4fDz4glc+/OYCnoY9x8
	54gQi5Jfsv/3zrBbH97/Mnrcv+uQeqDDjLClTn5ir3eEMN2PZH/6egXblKuHm35MWcagvDiE
	f4X/wVw5sz28XluVWIozEg21mIuKEwEgTSnDNAMAAA==

U

----- Original Message -----
From: Mark Thomas [mailto:markt@apache.org]
Sent: Friday, July 20, 2012 10:53 PM=0A=
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Location of Tomcat 7 jvm defualt settings...

On 20/07/2012 21:42, Tony Anecito wrote:
> Thanks Charles I have found documention for all the below from the
> Tomcat group but seemed somewhat outdated. Mark Thomas's name seemed
> dominant in most of the presentations I have seen there is even
> sections dealing with Tomcat in various Tomcat books I have seen.
> 
> True the tuning is dependent somewhat upon the app but even Mark
> mentioned logging levels, threads that run contineously that might
> best be tuned off (like checking for new deploys ect). He also
> mentioned the xmx xms java tuning and what Tomcat without apps (WARs)
> loaded needs although not sure if he mentioned xss parimeters. I am
> using the G1 GC by default since that is setup in 1.7.0_05 and the
> compressed pointers is also setup by default for that version of
> 1.7.0_05. I am also looking at the OS level to remove uneeded
> services. I alreadt tuned the network transport parameters as best as
> possible.
> 
> FYI I currently am down to the 1-2msec response times as measured at
> the exposed web services methods inside of Tomcat 7 using 64-bit
> Oracle 1.7.0_05 JDK and that includes database calls to SQL Server
> 2012 Express. I have used some of the standard things mentioned by
> Mark Thomas which has helped alot and looking for more current tips.

I'm pretty sure that I will have said somewhere in each of those
presentations words to the effect of "Don't guess where the bottlenecks
are. Get yourself a profiler, profile your application and find out
where they really are."

If the profiler highlights any Tomcat internal code, let us know and
we'll take a look.

I'll also add something that I picked up at JavaOne a few years ago.
Pick any two of "high throughput, small heap, low GC pause times".
Whichever two you pick, the other one will suffer. In an ideal world,
the GC needs plenty of manoeuvring room and you should aim to provide
roughly 5 times the minimum memory your app needs (minimum being defined
as the lowest heap usage you can force with lots of manual GC).

HTH,

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


Disclaimer link.  To see it, click the link below, or copy and paste it into=
 your browser's address line.
http://www.citco.com/emaildisclaimer.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 13:12:38 2012
Return-Path: <users-return-235575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22A04D123
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 13:12:38 +0000 (UTC)
Received: (qmail 61452 invoked by uid 500); 22 Jul 2012 13:12:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61169 invoked by uid 500); 22 Jul 2012 13:12:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61123 invoked by uid 99); 22 Jul 2012 13:12:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 13:12:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 13:12:24 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id dRBd1j0091vXlb855RC5oX; Sun, 22 Jul 2012 13:12:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id dRC41j00d38FjT13dRC6H5; Sun, 22 Jul 2012 13:12:07 +0000
Message-ID: <500BFC25.50401@christopherschultz.net>
Date: Sun, 22 Jul 2012 09:12:05 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: java.sql.SQLException: No more data to read from socket
References: <1342831447.77544.YahooMailClassic@web193502.mail.sg3.yahoo.com> <1342876267.25585.28.camel@cat>
In-Reply-To: <1342876267.25585.28.camel@cat>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Felix,

On 7/21/12 9:11 AM, Felix Schumacher wrote:
> To mitigate the problem of handing out broken connections the pool
> often has functionality to check a connection, before it hands it
> to the client. When using the tomcat database connection pool, that
> feature can be configured by setting validationQuery to a valid
> SQL-query (e.g "select 1 from dual" for oracle) and testOnBorrow to
> true.

+1

Note that this has already been suggested to the OP a few times.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAL/CUACgkQ9CaO5/Lv0PAGeQCgrURA/oXISg/km2PNekk5fZ8u
tGUAn0OgPvcjVRKvzF5miurDm5cixYIg
=P97M
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 13:17:40 2012
Return-Path: <users-return-235576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 408AFD158
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 13:17:40 +0000 (UTC)
Received: (qmail 73607 invoked by uid 500); 22 Jul 2012 13:17:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73461 invoked by uid 500); 22 Jul 2012 13:17:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73439 invoked by uid 99); 22 Jul 2012 13:17:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 13:17:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=LOTS_OF_MONEY,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 13:17:29 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id dRCW1j0020bG4ec51RHCES; Sun, 22 Jul 2012 13:17:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id dRH71j00C38FjT13PRH9tt; Sun, 22 Jul 2012 13:17:10 +0000
Message-ID: <500BFD58.5040906@christopherschultz.net>
Date: Sun, 22 Jul 2012 09:17:12 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
References: <1342897884.14179.YahooMailClassic@web113611.mail.gq1.yahoo.com>
In-Reply-To: <1342897884.14179.YahooMailClassic@web113611.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 7/21/12 3:11 PM, Tony Anecito wrote:
> Lots of time I apply best practices that I learn over time or are 
> recommended by experts (Like Mark Thomas). You do that first as
> early in the development life cycle as possible. Funny I guess how
> these best practices come from developers, vendors (like Sun and
> now Oracle) and DBA's ect. If you can not get your performance to
> be the best with light load or expected load (actual users) then
> the tests you menton are a waste of time and too late in the
> solution life cycle. Some of us do not have million dollar test
> systems like HP Performance Center (which I use since I lead a
> performance Testing team) or open source tools that support JAX-WS.
> So being proactive where you can rather than later is my motto. My
> goal was simple and achieved and usage in production was what I
> mentioned (1-2msec) and a combination of using leading edge
> techniques combined with the old fashioned way of doing things.

I'm not sure how you are improving performance by changing the thread
stack size. It really sounds like you are grasping at straws at this
point.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAL/VgACgkQ9CaO5/Lv0PC1lQCfaQn/NK9zz4vhRqRoSR89tT1T
w1oAoLYyCaj6LskZ6V4pJnTSzt9h1fsW
=PpV7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 15:03:56 2012
Return-Path: <users-return-235577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F7319DE9
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 15:03:56 +0000 (UTC)
Received: (qmail 84884 invoked by uid 500); 22 Jul 2012 15:03:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84831 invoked by uid 500); 22 Jul 2012 15:03:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84790 invoked by uid 99); 22 Jul 2012 15:03:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 15:03:52 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 15:03:47 +0000
Received: from compute5.internal (compute5.nyi.mail.srv.osa [10.202.2.45])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id C814921734
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 11:03:26 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute5.internal (MEProxy); Sun, 22 Jul 2012 11:03:26 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date; s=mesmtp; bh=H6dxMkYWABZiTpY4bS5iM19
	02E0=; b=HMDY4leWM5NhUoijMnTxHbmeCyfXve87V9l3wmOngpm8Y3PY3UPuBU3
	3kC5PREkLeGL76JrxErzEpQIczbKqlmNVI9oF6gKu8G0/WbfTVpq9N5GtM5FmgP6
	o4qe1EvKhbccTWqgGGozG1xdO2pDZKDz7e0ITh9F4UTKtDGokP8Q=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date; s=smtpout;
	 bh=H6dxMkYWABZiTpY4bS5iM1902E0=; b=Ev6r6quO9vZY58nkMELp3aeDELNy
	4kA3cUdZ2xyKJUOUh0ZESUgLnVk50bwGvtF8XzuAmTGsonwftScFqZLcMz/BthFf
	3DKEbb2TIFt1jXqvML332R34Aa8PjacuuEROy2uYI5WkQRAfljU+9BDjZfIVAagh
	XX8yfv4IqK1ppbo=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 816DAA00154; Sun, 22 Jul 2012 11:03:26 -0400 (EDT)
Message-Id: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
X-Sasl-Enc: 1VjfniEhKxGFosb9R/dtoex9QI3/gPesAS+0qD16QcPz 1342969406
From: k9157@operamail.com
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 08:03:26 -0700
X-Virus-Checked: Checked by ClamAV on apache.org


I've installed

	rpm -qa | grep -i ^tomcat
		tomcat-lib-7.0.27-7.1.noarch
		tomcat-docs-webapp-7.0.27-7.1.noarch
		tomcat-javadoc-7.0.27-7.1.noarch
		tomcat-webapps-7.0.27-7.1.noarch
		tomcat-admin-webapps-7.0.27-7.1.noarch
		tomcat-servlet-3_0-api-7.0.27-7.1.noarch
		tomcat-7.0.27-7.1.noarch
		tomcat-el-2_2-api-7.0.27-7.1.noarch
		tomcat-jsp-2_2-api-7.0.27-7.1.noarch


with

  update-alternatives --config java
  There are 2 choices for the alternative java (providing
  /usr/bin/java).
  
    Selection    Path                                       Priority  
    Status
  ------------------------------------------------------------
    0            /usr/lib64/jvm/jre-1.7.0-openjdk/bin/java   17147    
    auto mode
  * 1            /usr/lib64/jvm/jre-1.7.0-openjdk/bin/java   17147    
  manual mode
    2            /usr/lib64/jvm/jre-1.7.0-sun/bin/java       1700     
    manual mode

on

	uname -a
		Linux svr 3.1.10-1.16-desktop #1 SMP PREEMPT Wed Jun 27
		05:21:40 UTC 2012 (d016078) x86_64 x86_64 x86_64
		GNU/Linux

IPv4 is enabled on the server.  The IPv6 stack is also enabled, and
necessarily configured as,

	grep bindv6only /etc/sysctl.conf
		net.ipv6.bindv6only = 1

I want Tomcat listening on the IPv4 localhost @ 127.0.0.1.

So, reading here -
http://tomcat.10.n6.nabble.com/Tomcat-uses-IPv6-td2164369.html#a2164371
- and elsewhere, I set

	vi /etc/tomcat/tomcat.conf
		...
		JAVA_OPTS="Djava.net.preferIPv4Stack=true
		-Djava.net.preferIPv4Addresses=true"
		CATALINA_OPTS="Djava.net.preferIPv4Stack=true
		-Djava.net.preferIPv4Addresses=true"
		...

now, @ tomcat start,

	ps ax | grep tomcat
	 6530 ?        Sl     0:03 /etc/alternatives/jre/bin/java
	 -Djava.net.preferIPv4Stack=true
	 -Djava.net.preferIPv4Addresses=true
	 -Djava.net.preferIPv4Stack=true
	 -Djava.net.preferIPv4Addresses=true -classpath
	 :/usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar
	 -Dcatalina.base=/usr/share/tomcat
	 -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs=
	 -Djava.io.tmpdir=/var/cache/tomcat/temp
	 -Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties
	 -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
	 org.apache.catalina.startup.Bootstrap start

but, Tomcat still listens only on IPv6

	netstat -pan --tcp | grep 8080
		tcp        0      0 :::8080                 :::*        
		           LISTEN      6530/java

and is unavailable/unreachable @ 127.0.0.1

	telnet 127.0.0.1 8080
		Trying 127.0.0.1...
		telnet: connect to address 127.0.0.1: Connection refused

	telnet ::1 8080
		Trying ::1...
		Connected to ::1.
		Escape character is '^]'.
		telnet>

has the method for getting Tomcat to listen only @ IPv4 changed for v7?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 16:27:18 2012
Return-Path: <users-return-235578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD836DB61
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 16:27:18 +0000 (UTC)
Received: (qmail 54932 invoked by uid 500); 22 Jul 2012 16:27:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54876 invoked by uid 500); 22 Jul 2012 16:27:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54864 invoked by uid 99); 22 Jul 2012 16:27:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 16:27:15 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,LOTS_OF_MONEY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.91.234] (HELO nm28-vm0.bullet.mail.sp2.yahoo.com) (98.139.91.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 22 Jul 2012 16:27:08 +0000
Received: from [98.139.91.64] by nm28.bullet.mail.sp2.yahoo.com with NNFMP; 22 Jul 2012 16:26:48 -0000
Received: from [98.139.91.58] by tm4.bullet.mail.sp2.yahoo.com with NNFMP; 22 Jul 2012 16:26:48 -0000
Received: from [127.0.0.1] by omp1058.mail.sp2.yahoo.com with NNFMP; 22 Jul 2012 16:26:48 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 450403.48129.bm@omp1058.mail.sp2.yahoo.com
Received: (qmail 89698 invoked by uid 60001); 22 Jul 2012 16:26:48 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342974407; bh=9W+VEyDs8HXRBb2MFjkO5rkg6pi18FeJrjdeq+1Tbr0=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=CEbdcNOk9ET8qvmDOzRzdvGUDeAKlfVP68HaDqDfHIu9gSUOlFiLlkfMMzZAR0x2OytnSELZgiE1PukCXqkAfZFCXgH/wHardqsqSuSSH3v1jFRRPOSik/wMiS2EsGYyj5R1bWSnaakg9lHT6zdrJaxzbs+fAFh6QeeoFB+M7rU=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=cQ+OmLkQSPlfWdaeUsrGL71cD1dcb0z4tALOT899gykGyfYE/jUh5ovuEDNiFsm6EpZPN/r6sG9COFRiBUwMwZCoLlUsg/b0mvMOg+b0aQqa0qwgX0FraB5CwIlxnqeb/zH73EJkYXAdUUO9hxDkuTOfanw10l2KdEsmdpoE9Rg=;
X-YMail-OSG: gZnwAD4VM1k1I2seNkIgG3Sd5.ivORcT2SrriQ4xNtrLjcr
 ZOVUycx5YN4xEDIJjVUS4MRA9KXQoCgpnI0.0EBlBEVn5PDR557Iz8uMpD8g
 gGmec5DIk2J5Mt..UGthdIXbOLEFTtkYYWScMBhKJKUaDLcHxIVxdyTs1foJ
 oGMoaEzvfTZzQGsT3olA2fF1rtakrjsmtq5nmiEMk6LWWiECZ0KfVcCbKilt
 0zI2LDHsRa66.iWk2shVHyOlehxQ42HGCQx93mLJBm0HmDAggPKmVh3Y97cH
 eWL_k_7nt0OqUbORlzBVk.7KDScG4OqbLECnKuk6XCLNB2.9rKKbw0fryJg4
 EeJRCAyXKytZ1wMxUPS5OpQMpExPyynNLKFFK2ovxCB9qIXGmYFX85sARexI
 1jpsIW5SQQlv2EKm_qUCt1XXU1YhbMdSEMY0mjFs6nyzy6k9QjEz9_gvnYDm
 4nPtIhEYZiaMnEh5bpxq2SQfAVEdr0Nou_UVKoRSGGNbwUIlJsSeXaprxrpE
 cbYyz.sqspZr6i9HN7zIRgbok_eS82IvGAD.Le0G1TUy7PkcYAg_mFMIIAaB
 K5WXbzMMSsBh6P5iscHXCJyRzJJ7J6Q7T6Axw46Z3oMZcJFCJ5kR.tFkXtCv
 3fY.fHoKdkSnQ.goLSQQqgxuP8eqdXQlGuNojK_UNW48WLOMfl0S67bv55SP
 wQb64y9m6iw--
Received: from [204.228.207.218] by web113619.mail.gq1.yahoo.com via HTTP; Sun, 22 Jul 2012 09:26:47 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342974407.82266.YahooMailClassic@web113619.mail.gq1.yahoo.com>
Date: Sun, 22 Jul 2012 09:26:47 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500BFD58.5040906@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1559127025-24928404-1342974407=:82266"
X-Virus-Checked: Checked by ClamAV on apache.org

--1559127025-24928404-1342974407=:82266
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Good question. What I read it has to do with scalability. The smaller the t=
hread stack size the more threads you can scale to and the smaller the over=
all memory footprint that has to be managed. That is what I thought I read =
someplace.You could say performance and scalability go hand in hand and som=
etimes one can be misunderstood to mean response time but the question is f=
rom a single thread standpoint or from the whole container scalability stan=
dpoint? I try to look at both wth the understanding the user experience imp=
roves as load increases with the recommended changes.
=A0
That is how I treat things and I first try in the QA instance the changes a=
nd then migrate to production and over a period of a day look for improveme=
nts. I have not looked at thread count but then the number of servlets I us=
e is fixed due to the servlet model and the only thread count changes would=
 be what Tomcat provides for incoming requests.
=A0
Hope that helps and thanks for asking.
-Tony

--- On Sun, 7/22/12, Christopher Schultz <chris@christopherschultz.net> wro=
te:


From: Christopher Schultz <chris@christopherschultz.net>
Subject: Re: Location of Tomcat 7 jvm defualt settings...
To: "Tomcat Users List" <users@tomcat.apache.org>
Cc: "Tony Anecito" <adanecito@yahoo.com>
Date: Sunday, 22 Jul 2012, 7:17 AM


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tony,

On 7/21/12 3:11 PM, Tony Anecito wrote:
> Lots of time I apply best practices that I learn over time or are=20
> recommended by experts (Like Mark Thomas). You do that first as
> early in the development life cycle as possible. Funny I guess how
> these best practices come from developers, vendors (like Sun and
> now Oracle) and DBA's ect. If you can not get your performance to
> be the best with light load or expected load (actual users) then
> the tests you menton are a waste of time and too late in the
> solution life cycle. Some of us do not have million dollar test
> systems like HP Performance Center (which I use since I lead a
> performance Testing team) or open source tools that support JAX-WS.
> So being proactive where you can rather than later is my motto. My
> goal was simple and achieved and usage in production was what I
> mentioned (1-2msec) and a combination of using leading edge
> techniques combined with the old fashioned way of doing things.

I'm not sure how you are improving performance by changing the thread
stack size. It really sounds like you are grasping at straws at this
point.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAL/VgACgkQ9CaO5/Lv0PC1lQCfaQn/NK9zz4vhRqRoSR89tT1T
w1oAoLYyCaj6LskZ6V4pJnTSzt9h1fsW
=3DPpV7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--1559127025-24928404-1342974407=:82266--

From users-return-235579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 16:30:16 2012
Return-Path: <users-return-235579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AD3DD611
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 16:30:16 +0000 (UTC)
Received: (qmail 65532 invoked by uid 500); 22 Jul 2012 16:30:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65300 invoked by uid 500); 22 Jul 2012 16:30:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65290 invoked by uid 99); 22 Jul 2012 16:30:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 16:30:13 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.57] (HELO nm23-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 22 Jul 2012 16:30:05 +0000
Received: from [98.138.90.50] by nm23.bullet.mail.ne1.yahoo.com with NNFMP; 22 Jul 2012 16:29:45 -0000
Received: from [98.138.87.5] by tm3.bullet.mail.ne1.yahoo.com with NNFMP; 22 Jul 2012 16:29:45 -0000
Received: from [127.0.0.1] by omp1005.mail.ne1.yahoo.com with NNFMP; 22 Jul 2012 16:29:45 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 18953.19085.bm@omp1005.mail.ne1.yahoo.com
Received: (qmail 20639 invoked by uid 60001); 22 Jul 2012 16:29:44 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1342974583; bh=zZJqrM3xCm92R+YzRAL3G4KxFQMZYly314YerlPqJmo=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=oL/hjxq8USDPPtINfOhp1nQW4vpO4ktYyLVDS5zfASmqKw6RRZERqj6hzAGDQSoTDXUKLA9EnZJ0ou0l8mcfQtimU2XQN+K8e+vrNgxgnzV7G2HsuECRjxK6wJMrjIoitzdxf933eInkGzms0VnFtpyfdANsGppIupDdYlKZU8Q=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=wi0DNOf9/2eCpEQd9VRN1ZQ2o7bT4/0Wf3q+Ddz86ZB2O8BAZ5u/U1DSfzQ0zakulG/phkqd5oELDf3X5ZILTfwllPhbBkJJRX//L7UfzMSrT7nURXvTRC7qCGKhfMXNm1P6QKPkbE6RuwLOU2TBWhJQ75i6PWHQt6NVvjPYSuk=;
X-YMail-OSG: yC4RwZkVM1lfT9eGZKJAP7r_LeGRwcukMnOst8HosrN2J72
 jtVWCyo2TEnqQBbPxPU6ztx_NyJgc2o.57qkp3rvK5zdjxgEtaz6TjE8z6V7
 GcwRoUk7..wTy6z5mmG1jjwWXGTs0aHIop800zR6nw.aep2NX5Q3NA3XVc6k
 Ez3KQcod.BiYezsTYvXiZyOXeOeSmW9QTHsUEXtafegejFAa4qet.fGAj112
 jAYqYE9s2jLHF50smX5X2l9Iz0Ry3NV.hz2hgWPJkiQ0mxziPfCf_0DaWbQs
 oDpGhdFpTqA7KvpIOfpQMaHEnN5VC0sgUIyc49ddysvNCY1rcALxTPspYvlt
 z6uu_GLFcdIfX5p9pKIjvxUA4QCATDAeUS72mMoeFU2gdl06A2Sd80onJqhp
 lUFXlmE4_oAAG8RLQRWJuTOxeVlqTN04d05YAhFGtvG3A7iKKHFmtbfGN_5q
 8lGjTfarJvoZzIz7FjR4jICe0CSvKIUHuuY6JSfr_hMDGYfIeZ2.mSZt8R.9
 fuYyMU9KyuN1wHRVmd_3PU56iRc8ynE1CXWIv9aV4wfGx7CslqDdTFPCGS8_
 sfGtE8qzMYtjHuVaeXwgAvh88kTQgyMn8uF.6TiiW97_ciie3eFQhfdnBOwu
 2qv5BBbLXGIUBgJ40gRIHWA.gFOReUCn74gH17z5sRppVGzAXeE0Kyry4tU2
 vektDxxMA7PKpB.wZ02FjnmCw8LLuvk_QnY_LxQ_EURj_r4KffwrAEHa8byB
 clSvKktI0Bu978lmvOHiNH3FJc54rAWqQD2nzolizQMK.H9GnG_9s8VJwZoF
 jS1VU0MMOoohw05PtIGSz4HNDIAffWwkKRr9Cx4O_X8sLHkLC5v1uSnYQqg9
 CJ3itS3l8UQp1UnDg..Oxie3tmFaUzmYxPhb1_J8mD287k4x.WQcs
Received: from [204.228.207.218] by web113606.mail.gq1.yahoo.com via HTTP; Sun, 22 Jul 2012 09:29:43 PDT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1342974583.20452.YahooMailClassic@web113606.mail.gq1.yahoo.com>
Date: Sun, 22 Jul 2012 09:29:43 -0700 (PDT)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="10690055-1067357838-1342974583=:20452"
X-Virus-Checked: Checked by ClamAV on apache.org

--10690055-1067357838-1342974583=:20452
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I do it at the OS level via the adaptor properties for windows. If your net=
work does not support IPv6 I would disable it else you will get errors in y=
our logs about IPv6 for like say DHCP assignment.
=A0
Regards,
-Tony

--- On Sun, 7/22/12, k9157@operamail.com <k9157@operamail.com> wrote:


From: k9157@operamail.com <k9157@operamail.com>
Subject: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4' JAV=
A_OPTS in tomcat.conf. How to correctly force IPv4?
To: users@tomcat.apache.org
Date: Sunday, 22 Jul 2012, 9:03 AM



I've installed

=A0=A0=A0 rpm -qa | grep -i ^tomcat
=A0=A0=A0 =A0=A0=A0 tomcat-lib-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-docs-webapp-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-javadoc-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-webapps-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-admin-webapps-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-servlet-3_0-api-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-el-2_2-api-7.0.27-7.1.noarch
=A0=A0=A0 =A0=A0=A0 tomcat-jsp-2_2-api-7.0.27-7.1.noarch


with

=A0 update-alternatives --config java
=A0 There are 2 choices for the alternative java (providing
=A0 /usr/bin/java).
=A0=20
=A0 =A0 Selection=A0 =A0 Path=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=A0=A0Priority=A0=20
=A0 =A0 Status
=A0 ------------------------------------------------------------
=A0 =A0 0=A0 =A0 =A0 =A0 =A0 =A0 /usr/lib64/jvm/jre-1.7.0-openjdk/bin/java=
=A0=A0=A017147=A0 =A0=20
=A0 =A0 auto mode
=A0 * 1=A0 =A0 =A0 =A0 =A0 =A0 /usr/lib64/jvm/jre-1.7.0-openjdk/bin/java=A0=
=A0=A017147=A0 =A0=20
=A0 manual mode
=A0 =A0 2=A0 =A0 =A0 =A0 =A0 =A0 /usr/lib64/jvm/jre-1.7.0-sun/bin/java=A0 =
=A0 =A0=A0=A01700=A0 =A0=A0=A0
=A0 =A0 manual mode

on

=A0=A0=A0 uname -a
=A0=A0=A0 =A0=A0=A0 Linux svr 3.1.10-1.16-desktop #1 SMP PREEMPT Wed Jun 27
=A0=A0=A0 =A0=A0=A0 05:21:40 UTC 2012 (d016078) x86_64 x86_64 x86_64
=A0=A0=A0 =A0=A0=A0 GNU/Linux

IPv4 is enabled on the server.=A0 The IPv6 stack is also enabled, and
necessarily configured as,

=A0=A0=A0 grep bindv6only /etc/sysctl.conf
=A0=A0=A0 =A0=A0=A0 net.ipv6.bindv6only =3D 1

I want Tomcat listening on the IPv4 localhost @ 127.0.0.1.

So, reading here -
http://tomcat.10.n6.nabble.com/Tomcat-uses-IPv6-td2164369.html#a2164371
- and elsewhere, I set

=A0=A0=A0 vi /etc/tomcat/tomcat.conf
=A0=A0=A0 =A0=A0=A0 ...
=A0=A0=A0 =A0=A0=A0 JAVA_OPTS=3D"Djava.net.preferIPv4Stack=3Dtrue
=A0=A0=A0 =A0=A0=A0 -Djava.net.preferIPv4Addresses=3Dtrue"
=A0=A0=A0 =A0=A0=A0 CATALINA_OPTS=3D"Djava.net.preferIPv4Stack=3Dtrue
=A0=A0=A0 =A0=A0=A0 -Djava.net.preferIPv4Addresses=3Dtrue"
=A0=A0=A0 =A0=A0=A0 ...

now, @ tomcat start,

=A0=A0=A0 ps ax | grep tomcat
=A0=A0=A0=A0=A06530 ?=A0 =A0 =A0 =A0 Sl=A0 =A0=A0=A00:03 /etc/alternatives/=
jre/bin/java
=A0=A0=A0=A0=A0-Djava.net.preferIPv4Stack=3Dtrue
=A0=A0=A0=A0=A0-Djava.net.preferIPv4Addresses=3Dtrue
=A0=A0=A0=A0=A0-Djava.net.preferIPv4Stack=3Dtrue
=A0=A0=A0=A0=A0-Djava.net.preferIPv4Addresses=3Dtrue -classpath
=A0=A0=A0=A0=A0:/usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/t=
omcat-juli.jar:/usr/share/java/commons-daemon.jar
=A0=A0=A0=A0=A0-Dcatalina.base=3D/usr/share/tomcat
=A0=A0=A0=A0=A0-Dcatalina.home=3D/usr/share/tomcat -Djava.endorsed.dirs=3D
=A0=A0=A0=A0=A0-Djava.io.tmpdir=3D/var/cache/tomcat/temp
=A0=A0=A0=A0=A0-Djava.util.logging.config.file=3D/usr/share/tomcat/conf/log=
ging.properties
=A0=A0=A0=A0=A0-Djava.util.logging.manager=3Dorg.apache.juli.ClassLoaderLog=
Manager
=A0=A0=A0=A0=A0org.apache.catalina.startup.Bootstrap start

but, Tomcat still listens only on IPv6

=A0=A0=A0 netstat -pan --tcp | grep 8080
=A0=A0=A0 =A0=A0=A0 tcp=A0 =A0 =A0 =A0 0=A0 =A0 =A0 0 :::8080=A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0=A0=A0:::*=A0 =A0 =A0 =A0=20
=A0=A0=A0 =A0=A0=A0 =A0 =A0 =A0 =A0 =A0=A0=A0LISTEN=A0 =A0 =A0 6530/java

and is unavailable/unreachable @ 127.0.0.1

=A0=A0=A0 telnet 127.0.0.1 8080
=A0=A0=A0 =A0=A0=A0 Trying 127.0.0.1...
=A0=A0=A0 =A0=A0=A0 telnet: connect to address 127.0.0.1: Connection refuse=
d

=A0=A0=A0 telnet ::1 8080
=A0=A0=A0 =A0=A0=A0 Trying ::1...
=A0=A0=A0 =A0=A0=A0 Connected to ::1.
=A0=A0=A0 =A0=A0=A0 Escape character is '^]'.
=A0=A0=A0 =A0=A0=A0 telnet>

has the method for getting Tomcat to listen only @ IPv4 changed for v7?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--10690055-1067357838-1342974583=:20452--

From users-return-235580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 16:42:30 2012
Return-Path: <users-return-235580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3122D640
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 16:42:29 +0000 (UTC)
Received: (qmail 99244 invoked by uid 500); 22 Jul 2012 16:42:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99101 invoked by uid 500); 22 Jul 2012 16:42:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99092 invoked by uid 99); 22 Jul 2012 16:42:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 16:42:26 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 16:42:20 +0000
Received: from compute6.internal (compute6.nyi.mail.srv.osa [10.202.2.46])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 08E342047E
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 12:42:00 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute6.internal (MEProxy); Sun, 22 Jul 2012 12:42:00 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	HbPEPIWzcKN9dgR5ov9nbn4pCd0=; b=UAY2K4oA8EGwNoI+wEXX6BeBcYzpICg9
	koyv+/eZXvA4cyYZhp3QHzldXedNjYCGOKafa4xiR8IB/+bw4bu6/Z1P4g8Nt0bx
	oyZ0lI3G3UVmjM0uRwufRXWoaIFg3nOYHjywHzhKPldbiGLBGk22m7s4VayTZezl
	BP/owJ0EZZY=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=HbPEPIWzcKN9dgR5ov9nbn4pCd0=; b=HvS
	6AZeOhWMzVvj2qNUULzyXZGc8Fw2NPrGTMjvHUl5qLwRJ27I9ZZMUlC/3hcwyRRP
	kglQEeR0pI3SPpERADIEriFr4hVI0uFo68RTElLTm/b+YqtJHNNIkeczuYYNavJJ
	wJQyjMeXpEpkZEP3wv1OVDVrn732NygZA3AoBeKw=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id D1955A00154; Sun, 22 Jul 2012 12:41:59 -0400 (EDT)
Message-Id: <1342975319.23695.140661105199733.106F6AF6@webmail.messagingengine.com>
X-Sasl-Enc: OwzacTXi9g4itA+gOqgw6ensOrzlButt7iD1sBk0mLp1 1342975319
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <1342974583.20452.YahooMailClassic@web113606.mail.gq1.yahoo.com>
References: <1342974583.20452.YahooMailClassic@web113606.mail.gq1.yahoo.com>
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 09:41:59 -0700

Hi,

On Sun, Jul 22, 2012, at 09:29 AM, Tony Anecito wrote:
> I do it at the OS level via the adaptor properties for windows. If your
> network does not support IPv6 I would disable it else you will get errors
> in your logs about IPv6 for like say DHCP assignment.

My network supports IPv6 just fine.

This server is configured for dual-stack, with separate sockets
specified for IPv4 & IPv6 as defined at:

	https://www.kernel.org/doc/man-pages/online/pages/man7/ipv6.7.html

		IPV6_V6ONLY (since Linux 2.4.21 and 2.6)
		              If this flag is set to true (nonzero),
		              then the socket is restricted to
		              sending and receiving IPv6 packets only. 
		              In this case, an IPv4 and an
		              IPv6 application can bind to a single port
		              at the same time.

		              If this flag is set to false (zero), then
		              the socket can be used to
		              send and receive packets to and from an
		              IPv6 address or an IPv4-mapped
		              IPv6 address.

		              The argument is a pointer to a boolean
		              value in an integer.

		              The default value for this flag is defined
		              by the contents of the file
		              /proc/sys/net/ipv6/bindv6only.  The
		              default value for that file is 0
		              (false).

In this config, any/all other apps on the box can be easily configured
to listen on IPv4 &/or IPv6.

I need Tomcat to listen/respond on IPv4 localhost @ 127.0.0.1.

Atm, it appears to be ignoring instructions to do so.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:10:55 2012
Return-Path: <users-return-235581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E729FD6B5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:10:54 +0000 (UTC)
Received: (qmail 55024 invoked by uid 500); 22 Jul 2012 17:10:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54973 invoked by uid 500); 22 Jul 2012 17:10:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54963 invoked by uid 99); 22 Jul 2012 17:10:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:10:51 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:10:31 +0000
Received: from compute2.internal (compute2.nyi.mail.srv.osa [10.202.2.42])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 905FF213DE
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 13:10:10 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute2.internal (MEProxy); Sun, 22 Jul 2012 13:10:10 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date:in-reply-to:references; s=mesmtp; bh=
	uh3omaNU08Md1DwsKpf6yAGusmU=; b=k6xrxfRPmT+D/YhVzio7Qbe5Yegn2vqt
	qm4KezAOOkukx0plEgQxl8uJz7+IXtVE5XyqdaO+FWsTUyIQCALSj925iqh1mn6W
	iuazD8TpVJnHhxp3JA/nLPS05xobdkqARasKxlm8jGS6mzsIVM4iS8KhbBocSNIS
	8Xy2ztVpTdE=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date:in-reply-to
	:references; s=smtpout; bh=uh3omaNU08Md1DwsKpf6yAGusmU=; b=TFlEc
	+TO+q3qsDMe4NcZFJSmVs8eUp97gn3Kmdz7SZ3yMKrakDlAkACDpjYZ/FF3VQipr
	MOCoozdth8Lhb/UCXSAoSsp5PKpJEYd9LfkG2tdWDel/hN1BiTi1md5nvYbR1kaU
	L4xV3d7GhucO8z8HddE/KgTGpuOGbw6gopGrxM=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 62850A00154; Sun, 22 Jul 2012 13:10:10 -0400 (EDT)
Message-Id: <1342977010.28165.140661105207965.1CEEAE9A@webmail.messagingengine.com>
X-Sasl-Enc: FUpP8HX1BhdO9a1Si2K+eCRZfpNSU0EPCmg3j3sv3DNV 1342977010
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 10:10:10 -0700
In-Reply-To: <1342975319.23695.140661105199733.106F6AF6@webmail.messagingengine.com>
References: <1342974583.20452.YahooMailClassic@web113606.mail.gq1.yahoo.com>
 <1342975319.23695.140661105199733.106F6AF6@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

reading here on this issue:

	"Re: Tomcat is only listening with ip6 and not ip4"
	http://linux.derkeiler.com/Mailing-Lists/Debian/2009-12/msg01262.html

		" ... Thus you should report a bug against Tomcat. Also
		you can replace "net.ipv6.bindv6only=1" with
		"net.ipv6.bindv6only=0" in your /etc/sysctl.d/ as a
		temporary solution. ..."

filed -> 

Bug 53583 - Tomcat 7.0.27 ignores 'use IPv4' JAVA_OPTS in tomcat.conf,
listens only @IPv6 localhost when separate IPv4/IPv6 sockets are
specified
https://issues.apache.org/bugzilla/show_bug.cgi?id=53583

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:14:29 2012
Return-Path: <users-return-235582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 070D1D6C6
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:14:29 +0000 (UTC)
Received: (qmail 65157 invoked by uid 500); 22 Jul 2012 17:14:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64978 invoked by uid 500); 22 Jul 2012 17:14:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64969 invoked by uid 99); 22 Jul 2012 17:14:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:14:25 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.250.179 as permitted sender)
Received: from [216.82.250.179] (HELO mail210.messagelabs.com) (216.82.250.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:14:16 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-15.tower-210.messagelabs.com!1342977232!7387334!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 3918 invoked from network); 22 Jul 2012 17:13:52 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-15.tower-210.messagelabs.com with RC4-SHA encrypted SMTP; 22 Jul 2012 17:13:52 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 22 Jul 2012 12:13:51 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sun, 22 Jul
 2012 12:13:51 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 22 Jul 2012 12:13:46 -0500
Subject: RE: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Topic: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Index: Ac1oGzhI5ouctSKwRk6PaA2bSCn5/QAENkEg
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0356815F3@USEA-EXCH8.na.uis.unisys.com>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
In-Reply-To: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: k9157@operamail.com [mailto:k9157@operamail.com]=20
> Subject: Tomcat 7.0.27 listens only @IPv6 localhost, ignores=20
> 'use IPv4' JAVA_OPTS in tomcat.conf. How to correctly force IPv4?

> I've installed
>	rpm -qa | grep -i ^tomcat
>		tomcat-lib-7.0.27-7.1.noarch
>		tomcat-docs-webapp-7.0.27-7.1.noarch
>		tomcat-javadoc-7.0.27-7.1.noarch
>		tomcat-webapps-7.0.27-7.1.noarch
>		tomcat-admin-webapps-7.0.27-7.1.noarch
>		tomcat-servlet-3_0-api-7.0.27-7.1.noarch
>		tomcat-7.0.27-7.1.noarch
>		tomcat-el-2_2-api-7.0.27-7.1.noarch
>		tomcat-jsp-2_2-api-7.0.27-7.1.noarch

What happens if you install a real Tomcat from tomcat.apache.org, rather th=
an a mangled 3rd-party version?

What do your <Connector> elements in your server.xml file look like?

Have you installed APR?

What's in the Tomcat logs (assuming you can even find them with a 3rd-party=
 installation)?

BTW. it's not necessary to set both CATALINA_OPTS and JAVA_OPTS.  JAVA_OPTS=
 is used for both Tomcat startup and shutdown, CATALINA_OPTS only for start=
up.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:22:45 2012
Return-Path: <users-return-235583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 049E2D6FC
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:22:45 +0000 (UTC)
Received: (qmail 88222 invoked by uid 500); 22 Jul 2012 17:22:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88169 invoked by uid 500); 22 Jul 2012 17:22:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88160 invoked by uid 99); 22 Jul 2012 17:22:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:22:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.61] (HELO elasmtp-galgo.atl.sa.earthlink.net) (209.86.89.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:22:35 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-galgo.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SszrD-0003Ri-6l
	for users@tomcat.apache.org; Sun, 22 Jul 2012 13:22:15 -0400
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
References:
	 <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-21/9KmrjLIG6Lp1aPZ4Z"
Organization: Clifton Farm
Date: Sun, 22 Jul 2012 13:24:22 -0400
Message-ID: <1342977862.27712.191.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b764303fbfa9bc57da98a7f579bba983132caf350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-21/9KmrjLIG6Lp1aPZ4Z
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Sun, 2012-07-22 at 08:03 -0700, k9157@operamail.com wrote:
> 		Linux svr 3.1.10-1.16-desktop #1 SMP PREEMPT Wed Jun 27
> 		05:21:40 UTC 2012 (d016078) x86_64 x86_64 x86_64
> 		GNU/Linux
>=20
> IPv4 is enabled on the server.  The IPv6 stack is also enabled, and
> necessarily configured as,
>=20
> 	grep bindv6only /etc/sysctl.conf
> 		net.ipv6.bindv6only =3D 1
>=20
> I want Tomcat listening on the IPv4 localhost @ 127.0.0.1.

So you want Tomcat to listen on all IPv6 addresses plus the IPv4
loopback address but no other IPv4 addresses?

Since you've told the OS to not allow IPv4 connections on IPv6 sockets,
I believe you would need to configure a separate <Connector> on the same
port for the IPv4 loopback address.


>=20
> So, reading here -
> http://tomcat.10.n6.nabble.com/Tomcat-uses-IPv6-td2164369.html#a2164371
> - and elsewhere, I set
>=20
> 	vi /etc/tomcat/tomcat.conf
> 		...
> 		JAVA_OPTS=3D"Djava.net.preferIPv4Stack=3Dtrue
> 		-Djava.net.preferIPv4Addresses=3Dtrue"
> 		CATALINA_OPTS=3D"Djava.net.preferIPv4Stack=3Dtrue
> 		-Djava.net.preferIPv4Addresses=3Dtrue"
> 		...
>=20
> now, @ tomcat start,
>=20
> 	ps ax | grep tomcat
> 	 6530 ?        Sl     0:03 /etc/alternatives/jre/bin/java
> 	 -Djava.net.preferIPv4Stack=3Dtrue
> 	 -Djava.net.preferIPv4Addresses=3Dtrue
> 	 -Djava.net.preferIPv4Stack=3Dtrue
> 	 -Djava.net.preferIPv4Addresses=3Dtrue -classpath
> 	 :/usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.=
jar:/usr/share/java/commons-daemon.jar
> 	 -Dcatalina.base=3D/usr/share/tomcat
> 	 -Dcatalina.home=3D/usr/share/tomcat -Djava.endorsed.dirs=3D
> 	 -Djava.io.tmpdir=3D/var/cache/tomcat/temp
> 	 -Djava.util.logging.config.file=3D/usr/share/tomcat/conf/logging.proper=
ties
> 	 -Djava.util.logging.manager=3Dorg.apache.juli.ClassLoaderLogManager
> 	 org.apache.catalina.startup.Bootstrap start
>=20
> but, Tomcat still listens only on IPv6
>=20
> 	netstat -pan --tcp | grep 8080
> 		tcp        0      0 :::8080                 :::*       =20
> 		           LISTEN      6530/java
>=20
> and is unavailable/unreachable @ 127.0.0.1
>=20
> 	telnet 127.0.0.1 8080
> 		Trying 127.0.0.1...
> 		telnet: connect to address 127.0.0.1: Connection refused
>=20
> 	telnet ::1 8080
> 		Trying ::1...
> 		Connected to ::1.
> 		Escape character is '^]'.
> 		telnet>
>=20
> has the method for getting Tomcat to listen only @ IPv4 changed for v7?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-21/9KmrjLIG6Lp1aPZ4Z
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDDdGAAoJEAfDBXDHBQilRZAH/03HPMlqq8q1YyMnNZY4y4ke
mbnldtd18pTN8Spz0ojl/zPnVXO3SNUjq/gSk6yhkQfK5UivJ3990htGQswIYoWe
gBT1hQd5MerDm4TObfyKajbQFItrQWue+qYiCK5NiYCvSFvI2gng5ZuYXAOHJwNs
6HF95vFgGAcl1CbmNZeP0UCO4o5Eqt+Z++qLF6LPxZJcs0hWz6ROp0ivWlEUdlao
+Ozw54XgSKOUiOM5rArzyh7q+Gc0KP4+kNlahk5rj9Vwdv7pH5V2QY9Ws31nTVvj
fDf8bwyPAy+bFlaFI8y7X/9n6MTzkETQIDC2p5S/kqPc7gIOarov3gotNUSSLIg=
=vJg6
-----END PGP SIGNATURE-----

--=-21/9KmrjLIG6Lp1aPZ4Z--


From users-return-235584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:32:52 2012
Return-Path: <users-return-235584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2E04D22C
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:32:52 +0000 (UTC)
Received: (qmail 8622 invoked by uid 500); 22 Jul 2012 17:32:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8406 invoked by uid 500); 22 Jul 2012 17:32:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8397 invoked by uid 99); 22 Jul 2012 17:32:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:32:49 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:32:43 +0000
Received: from compute3.internal (compute3.nyi.mail.srv.osa [10.202.2.43])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 08E7820482
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 13:32:22 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute3.internal (MEProxy); Sun, 22 Jul 2012 13:32:23 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date:in-reply-to:references; s=mesmtp; bh=
	yql+ZJ6NNc2wQRpnJA14MM8r0cA=; b=glU/7CL2fql063nU7zdd+Qf3+c7r9SE8
	Wm7GqWYhyfgQxdhPal/ZzbIo1MD4DyatxDh+8uOEPS7vlAn7sS277OD1itBn4ycp
	ViZrQYcOM+5Yu+tSb9m8xNFM0WqeyiPXHI4lfgREvWc5VpkMqj41eYb51rr/DryS
	5SAOKWAIQwg=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date:in-reply-to
	:references; s=smtpout; bh=yql+ZJ6NNc2wQRpnJA14MM8r0cA=; b=YFDwB
	fM4RsPQmMCXKDVO841WxCeEubRE52eeUtxm0epL8UiCeUvt7Ly/WJsfqkM58p1XB
	rvnBHe4kkpNIiTiBYT8NworaiA+TC+fBVViTki5J4UVM0/7xSn25KTNZvbfLuN6C
	PyU8bjwt4wp+Aim4CQCi4zjPaet1WDx/sbXEjM=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id C3FDBA00154; Sun, 22 Jul 2012 13:32:22 -0400 (EDT)
Message-Id: <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
X-Sasl-Enc: 3rJFnxQ6FdO1ujC0NCDio3hPTcLKnCgAHwYzNqDL7I/t 1342978342
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 10:32:22 -0700
In-Reply-To: <1342977862.27712.191.camel@dellberry>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <1342977862.27712.191.camel@dellberry>

Hi,

On Sun, Jul 22, 2012, at 01:24 PM, Tim Watts wrote:
> On Sun, 2012-07-22 at 08:03 -0700, k9157@operamail.com wrote:
> > 		Linux svr 3.1.10-1.16-desktop #1 SMP PREEMPT Wed Jun 27
> > 		05:21:40 UTC 2012 (d016078) x86_64 x86_64 x86_64
> > 		GNU/Linux
> > 
> > IPv4 is enabled on the server.  The IPv6 stack is also enabled, and
> > necessarily configured as,
> > 
> > 	grep bindv6only /etc/sysctl.conf
> > 		net.ipv6.bindv6only = 1
> > 
> > I want Tomcat listening on the IPv4 localhost @ 127.0.0.1.
> 
> So you want Tomcat to listen on all IPv6 addresses plus the IPv4
> loopback address but no other IPv4 addresses?

No.  I want Tomcat7 to listen ONLY on one address: the IPv4 loopback @
127.0.0.1.  No other IPv4 addresses, and no IPv6 addresses at all.

Specifying a listener proptocol, address & port should be a fairly
commonplace undertaking ...

> Since you've told the OS to not allow IPv4 connections on IPv6 sockets,
> I believe you would need to configure a separate <Connector> on the same
> port for the IPv4 loopback address.

Not sure if this, then, still holds.

I'd understaood that those 'use IPv4' -D options should do exactly what
I intend to here.   Apparently not, though ...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:35:59 2012
Return-Path: <users-return-235585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28C67D23A
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:35:59 +0000 (UTC)
Received: (qmail 19671 invoked by uid 500); 22 Jul 2012 17:35:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19497 invoked by uid 500); 22 Jul 2012 17:35:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19488 invoked by uid 99); 22 Jul 2012 17:35:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:35:56 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.83 as permitted sender)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:35:45 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-37.messagelabs.com!1342978521!20798504!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 10274 invoked from network); 22 Jul 2012 17:35:22 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-10.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 22 Jul 2012 17:35:22 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 22 Jul 2012 12:35:20 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sun, 22 Jul
 2012 12:35:20 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 22 Jul 2012 12:35:15 -0500
Subject: RE: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Topic: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Index: Ac1oLqvvCZRxWQDCRjGzSg7Ca203qwAATeZQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FB035681602@USEA-EXCH8.na.uis.unisys.com>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <1342977862.27712.191.camel@dellberry>
In-Reply-To: <1342977862.27712.191.camel@dellberry>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: Tim Watts [mailto:tim@cliftonfarm.org]=20
> Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores=20
> 'use IPv4' JAVA_OPTS in tomcat.conf. How to correctly force IPv4?

> Since you've told the OS to not allow IPv4 connections on IPv6 sockets,
> I believe you would need to configure a separate <Connector> on the same
> port for the IPv4 loopback address.

That shouldn't be necessary.  But since the OP hasn't told us what his <Con=
nector> configuration is, we can only speculate.  An address setting of "0.=
0.0.0" in the sole <Connector> might be adequate.  Need real information.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 17:55:28 2012
Return-Path: <users-return-235586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38F9BD27E
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 17:55:28 +0000 (UTC)
Received: (qmail 61700 invoked by uid 500); 22 Jul 2012 17:55:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61544 invoked by uid 500); 22 Jul 2012 17:55:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61534 invoked by uid 99); 22 Jul 2012 17:55:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:55:24 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 17:55:18 +0000
Received: from compute6.internal (compute6.nyi.mail.srv.osa [10.202.2.46])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 1D1C62145D
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 13:54:57 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute6.internal (MEProxy); Sun, 22 Jul 2012 13:54:57 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date:in-reply-to:references; s=mesmtp; bh=
	DgO7kpLtscDPJLqFi9Lr3cnRRx4=; b=vYobzpPWNwwd/Yy8rV6/bXv4p/tXS63d
	RDlp9LBgSapkmHzg4JG9J3rs4gozKaqB58rMyC4jmJgHo4dDsykWrG12UbtLQnKl
	yIEjQ8cbpArfX06QN6GEg1TSwNkHlexJnqlZKGaGemiQyghrscLEqVoMe6ZxSW7S
	m8XRt/XdgbU=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date:in-reply-to
	:references; s=smtpout; bh=DgO7kpLtscDPJLqFi9Lr3cnRRx4=; b=lBZln
	BGM8OK+L4xDiaMyfBBtHZCrZgUBFw7ZhZfCKWMYQjQwwFJxtdMqA0df1f29G9Y3S
	u0Fl/0zLkWWcmhHj1D3JlnO+cpN1oDGrtbKYAxFKymtl7lBYyAD2oJeWufHlpITM
	mVkIraXy94e5wLSEs2ANgG3YJkzjnPP4wgbBmI=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id E3C98A00154; Sun, 22 Jul 2012 13:54:56 -0400 (EDT)
Message-Id: <1342979696.3381.140661105218949.7652EDAB@webmail.messagingengine.com>
X-Sasl-Enc: ZrGI4qZKKUbZt33g0YjCH/zyzfvS4xTj2OUAa1ZxGqu1 1342979696
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 10:54:56 -0700
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB0356815F3@USEA-EXCH8.na.uis.unisys.com>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <99C8B2929B39C24493377AC7A121E21FB0356815F3@USEA-EXCH8.na.uis.unisys.com>

> What happens if you install a real Tomcat from tomcat.apache.org

same issue

> What do your <Connector> elements in your server.xml file look like?

It's out-of-the-box:

  ...
  <Service name="Catalina">
    <Connector port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443" />
    <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
    <Engine name="Catalina" defaultHost="localhost">
  ...

> Have you installed APR?

yes.

	apr-2-config --version
		2.0.0
	svn info `apr-2-config --srcdir` | egrep "URL|Revision"
		URL: https://svn.apache.org/repos/asf/apr/apr/trunk
		Revision: 1363601

> What's in the Tomcat logs

@ start,

	ps ax | grep -i java
		21972 ?        Sl     0:03
		/etc/alternatives/jre/bin/java
		-Djava.net.preferIPv4Stack=true
		-Djava.net.preferIPv4Addresses=true -classpath
		:/usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar
		-Dcatalina.base=/usr/share/tomcat
		-Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs=
		-Djava.io.tmpdir=/var/cache/tomcat/temp
		-Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties
		-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
		org.apache.catalina.startup.Bootstrap start

logs:

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.AprLifecycleListener init
	INFO: Loaded APR based Apache Tomcat Native library 1.1.23.

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.AprLifecycleListener init
	INFO: Loaded APR based Apache Tomcat Native library 1.1.23.

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.AprLifecycleListener init
	INFO: APR capabilities: IPv6 [true], sendfile [true], accept
	filters [false], random [true].

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.AprLifecycleListener init
	INFO: APR capabilities: IPv6 [true], sendfile [true], accept
	filters [false], random [true].

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.coyote.AbstractProtocol init
	INFO: Initializing ProtocolHandler ["http-apr-8080"]

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.coyote.AbstractProtocol init
	INFO: Initializing ProtocolHandler ["http-apr-8080"]

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.coyote.AbstractProtocol init
	INFO: Initializing ProtocolHandler ["ajp-apr-8009"]

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.coyote.AbstractProtocol init
	INFO: Initializing ProtocolHandler ["ajp-apr-8009"]

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.Catalina
	load
	INFO: Initialization processed in 667 ms

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.Catalina
	load
	INFO: Initialization processed in 667 ms

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.StandardService startInternal
	INFO: Starting service Catalina

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.StandardService startInternal
	INFO: Starting service Catalina

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.core.StandardEngine
	startInternal
	INFO: Starting Servlet Engine: Apache Tomcat/7.0.27

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.core.StandardEngine
	startInternal
	INFO: Starting Servlet Engine: Apache Tomcat/7.0.27

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/manager

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/manager

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/examples

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/examples

	==> localhost.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.ApplicationContext log
	INFO: ContextListener: contextInitialized()
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.ApplicationContext log
	INFO: SessionListener: contextInitialized()
	Jul 22, 2012 10:46:04 AM
	org.apache.catalina.core.ApplicationContext log
	INFO: ContextListener:
	attributeAdded('org.apache.jasper.compiler.TldLocationsCache',
	'org.apache.jasper.compiler.TldLocationsCache@304e5770')

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/ROOT

	==> catalina.out <==
	Jul 22, 2012 10:46:04 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/ROOT

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/docs

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/docs

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/host-manager

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/host-manager

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/sample

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.HostConfig
	deployDirectory
	INFO: Deploying web application directory
	/srv/tomcat/webapps/sample

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.coyote.AbstractProtocol
	start
	INFO: Starting ProtocolHandler ["http-apr-8080"]

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.coyote.AbstractProtocol
	start
	INFO: Starting ProtocolHandler ["http-apr-8080"]

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.coyote.AbstractProtocol
	start
	INFO: Starting ProtocolHandler ["ajp-apr-8009"]

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.coyote.AbstractProtocol
	start
	INFO: Starting ProtocolHandler ["ajp-apr-8009"]

	==> catalina.2012-07-22.log <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.Catalina
	start
	INFO: Server startup in 760 ms

	==> catalina.out <==
	Jul 22, 2012 10:46:05 AM org.apache.catalina.startup.Catalina
	start
	INFO: Server startup in 760 ms


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 18:03:14 2012
Return-Path: <users-return-235587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C000FD2B6
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 18:03:14 +0000 (UTC)
Received: (qmail 79142 invoked by uid 500); 22 Jul 2012 18:03:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79093 invoked by uid 500); 22 Jul 2012 18:03:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79080 invoked by uid 99); 22 Jul 2012 18:03:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:03:11 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.250.179 as permitted sender)
Received: from [216.82.250.179] (HELO mail210.messagelabs.com) (216.82.250.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:03:03 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-9.tower-210.messagelabs.com!1342980161!7381131!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 24774 invoked from network); 22 Jul 2012 18:02:42 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-9.tower-210.messagelabs.com with RC4-SHA encrypted SMTP; 22 Jul 2012 18:02:42 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 22 Jul 2012 13:01:48 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sun, 22 Jul
 2012 13:01:47 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 22 Jul 2012 13:01:42 -0500
Subject: RE: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Topic: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
Thread-Index: Ac1oMy6vzdYze8CcQJyBA/BuHfBUGgAAD4nw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB03568160E@USEA-EXCH8.na.uis.unisys.com>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <99C8B2929B39C24493377AC7A121E21FB0356815F3@USEA-EXCH8.na.uis.unisys.com>
 <1342979696.3381.140661105218949.7652EDAB@webmail.messagingengine.com>
In-Reply-To: <1342979696.3381.140661105218949.7652EDAB@webmail.messagingengine.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: k9157@operamail.com [mailto:k9157@operamail.com]=20
> Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores=20
> 'use IPv4' JAVA_OPTS in tomcat.conf. How to correctly force IPv4?

>   <Service name=3D"Catalina">
>     <Connector port=3D"8080" protocol=3D"HTTP/1.1"
>                connectionTimeout=3D"20000"
>                redirectPort=3D"8443" />
>     <Connector port=3D"8009" protocol=3D"AJP/1.3" redirectPort=3D"8443" /=
>

> > Have you installed APR?

> yes.

Let's try two things, one at a time.  First, turn off APR by setting the po=
rt 8080 protocol to:
	"org.apache.coyote.http11.Http11NioProtocol"

Second (even if the above works), set the protocol back to the default and =
add address=3D"0.0.0.0" and see what happens.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 18:08:33 2012
Return-Path: <users-return-235588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8ED69D2C8
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 18:08:33 +0000 (UTC)
Received: (qmail 92108 invoked by uid 500); 22 Jul 2012 18:08:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91931 invoked by uid 500); 22 Jul 2012 18:08:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91921 invoked by uid 99); 22 Jul 2012 18:08:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:08:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.66] (HELO elasmtp-spurfowl.atl.sa.earthlink.net) (209.86.89.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:08:23 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-spurfowl.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1St0ZV-0003SI-KL
	for users@tomcat.apache.org; Sun, 22 Jul 2012 14:08:01 -0400
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
References:
	 <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
	 <1342977862.27712.191.camel@dellberry>
	 <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-RjpcAVxM/jbDx94Ekjc+"
Organization: Clifton Farm
Date: Sun, 22 Jul 2012 14:08:00 -0400
Message-ID: <1342980480.3018.28.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b764309d0bf45a149ff75920322842261d1662350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-RjpcAVxM/jbDx94Ekjc+
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Sun, 2012-07-22 at 10:32 -0700, k9157@operamail.com wrote:
> Hi,
>=20
> On Sun, Jul 22, 2012, at 01:24 PM, Tim Watts wrote:
> > On Sun, 2012-07-22 at 08:03 -0700, k9157@operamail.com wrote:
> > > 		Linux svr 3.1.10-1.16-desktop #1 SMP PREEMPT Wed Jun 27
> > > 		05:21:40 UTC 2012 (d016078) x86_64 x86_64 x86_64
> > > 		GNU/Linux
> > >=20
> > > IPv4 is enabled on the server.  The IPv6 stack is also enabled, and
> > > necessarily configured as,
> > >=20
> > > 	grep bindv6only /etc/sysctl.conf
> > > 		net.ipv6.bindv6only =3D 1
> > >=20
> > > I want Tomcat listening on the IPv4 localhost @ 127.0.0.1.
> >=20
> > So you want Tomcat to listen on all IPv6 addresses plus the IPv4
> > loopback address but no other IPv4 addresses?
>=20
> No.  I want Tomcat7 to listen ONLY on one address: the IPv4 loopback @
> 127.0.0.1.  No other IPv4 addresses, and no IPv6 addresses at all.
>=20
Oh, that's easy: specify address=3D"127.0.0.1" on your <Connector>. =20

By default, Tomcat will listen on port 8080 on all available addresses
(IPv6 and 4, barring configuration settings at the OS level).  The key
"word" in those java.net properties is "prefer" (i.e. not "require").
So the door is still open to IPv6 even with these properties.

BTW, not that it will impact you, but it's java.net.preferIPv6Addreses
(defaults to false):
>         -Djava.net.preferIPv4Addresses=3Dtrue

> Specifying a listener proptocol, address & port should be a fairly
> commonplace undertaking ...
>=20
> > Since you've told the OS to not allow IPv4 connections on IPv6 sockets,
> > I believe you would need to configure a separate <Connector> on the sam=
e
> > port for the IPv4 loopback address.
>=20
> Not sure if this, then, still holds.
>=20
Sounds like you don't need an additional <Connector>.  Just modify the
existing one.

> I'd understaood that those 'use IPv4' -D options should do exactly what
> I intend to here.   Apparently not, though ...
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-RjpcAVxM/jbDx94Ekjc+
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDEFzAAoJEAfDBXDHBQilzWcIAKol23g+tXPBh1xuvmwPHZT/
TNI0r1j7c9BbV3LVQwZcWZczo5f128T4rOATBbOxIEleszFfN1fhJJnXjJUrntcW
PjOpDXczpxrbHr5wPMfsGXqkSCTNY6/sNdvwqb2lkK0lwRXSq+bgPYJIeoJsGcTS
vgEl/dbKDDbdeaFFr/XCwnSdPKMoLPX86Kp/FReXFet2pPy2xQCD2Bdp0+Y9NWy7
GHf1RUcJpZdmoF5XtwMWOm3NIlrXtyH38R56M7F9pedIatSWV+ZkS6/XKMRK4rg1
ZBiq30BWALUi/1NEjERWdmWB3wmhrlRgsAH98VyQQ8sfkVJ3flTk0kkM9268Ncs=
=ouD0
-----END PGP SIGNATURE-----

--=-RjpcAVxM/jbDx94Ekjc+--


From users-return-235589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 18:21:53 2012
Return-Path: <users-return-235589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8033CD300
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 18:21:53 +0000 (UTC)
Received: (qmail 22400 invoked by uid 500); 22 Jul 2012 18:21:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22243 invoked by uid 500); 22 Jul 2012 18:21:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22234 invoked by uid 99); 22 Jul 2012 18:21:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:21:50 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:21:44 +0000
Received: from compute6.internal (compute6.nyi.mail.srv.osa [10.202.2.46])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 810642165D
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 14:21:24 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute6.internal (MEProxy); Sun, 22 Jul 2012 14:21:24 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	sGkunPLdEXXJAqQTJTuUMjVvOL8=; b=M8XKk756xsHGOGIE7WPPrzLEWJZMTbQG
	ukXDXMl2zc5706LlaQMFZyhpLMrubPcZwBzdEuhl0+7/3UaNjlYVQXzK0BOviev0
	D9jKTkthS5t1xOLVJ8oeI17uNx9r3p/sJhj8dzhlbfpEq6N+oWpBsN5h6P2g+Sn8
	FHDy2/MUfG8=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=sGkunPLdEXXJAqQTJTuUMjVvOL8=; b=Jko
	eSDo7ZiQiW6ueHYG95g1oORO8UOVd7Y6VLaoGt2UXjfqSOHalsD3d7aO/4gvgJ21
	/2vtsMVHVlK8dGaWfc+/xH2NhJ5vWCbKGqZ9WeZOr+rgGQ6YA1wLAa6bM38K6EIB
	eo82Uy5g37+B8yw8RWDflRvzg3eI28ktwFL6i7L0=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 3FDA8A00154; Sun, 22 Jul 2012 14:21:24 -0400 (EDT)
Message-Id: <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
X-Sasl-Enc: xq1+0u2ChAPNpwmDQS1177RW0aBFp6OhVChqHZkC/+b7 1342981284
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <1342980480.3018.28.camel@dellberry>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <1342977862.27712.191.camel@dellberry>
 <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
 <1342980480.3018.28.camel@dellberry>
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 11:21:24 -0700

Hi,

On Sun, Jul 22, 2012, at 02:08 PM, Tim Watts wrote:
> > No.  I want Tomcat7 to listen ONLY on one address: the IPv4 loopback @
> > 127.0.0.1.  No other IPv4 addresses, and no IPv6 addresses at all.
> > 
> Oh, that's easy: specify address="127.0.0.1" on your <Connector>.  

it certainly appears to be:

vi /etc/tomcat/server.xml

	...
	  <Connector port="8080" protocol="HTTP/1.1"
+                      address="127.0.0.1"
	               connectionTimeout="20000"
	               redirectPort="8443" />
	...


service tomcat start
netstat -pan --tcp | grep java
	tcp        0      0 127.0.0.1:8080          0.0.0.0:*           
	   LISTEN      25254/java
	tcp        0      0 127.0.0.1:8005          :::*                
	   LISTEN      25254/java
	tcp        0      0 :::8009                 :::*                
	   LISTEN      25254/java

Thanks!

> By default, Tomcat will listen on port 8080 on all available addresses
> (IPv6 and 4, barring configuration settings at the OS level).  The key
> "word" in those java.net properties is "prefer" (i.e. not "require").
> So the door is still open to IPv6 even with these properties.


I still would presume that, given the specification of "prefer", when
localhost is referenced, given the choice of either IPv4 or IPv6 in a
functional dual-stack, that it *would* prefer and select IPv4, i.e.,
127.0.0.1.

apparently, not the case.

clarification noted.

cheers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 18:42:56 2012
Return-Path: <users-return-235590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7414B90AD
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 18:42:56 +0000 (UTC)
Received: (qmail 68323 invoked by uid 500); 22 Jul 2012 18:42:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68272 invoked by uid 500); 22 Jul 2012 18:42:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68259 invoked by uid 99); 22 Jul 2012 18:42:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:42:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:42:46 +0000
Received: from [192.168.245.129] (p549E02B8.dip0.t-ipconnect.de [84.158.2.184])
	by tor.combios.es (Postfix) with ESMTPA id 0956BDA0648
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 20:42:22 +0200 (CEST)
Message-ID: <500C498A.4030405@ice-sa.com>
Date: Sun, 22 Jul 2012 20:42:18 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com> <1342977862.27712.191.camel@dellberry> <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com> <1342980480.3018.28.camel@dellberry> <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
In-Reply-To: <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

By the way,

k9157@operamail.com wrote:
 >
(previously) :
No.  I want Tomcat7 to listen ONLY on one address: the IPv4 loopback @
127.0.0.1.  No other IPv4 addresses, and no IPv6 addresses at all.
---

and

> netstat -pan --tcp | grep java
> 	tcp        0      0 127.0.0.1:8080          0.0.0.0:*           
> 	   LISTEN      25254/java
> 	tcp        0      0 127.0.0.1:8005          :::*                
> 	   LISTEN      25254/java
> 	tcp        0      0 :::8009                 :::*                
> 	   LISTEN      25254/java
> 

You still have a Connector listening on port 8009 (and IPv6). You may want to disable that 
one too (the AJP connector), to match your above desires.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 18:58:49 2012
Return-Path: <users-return-235591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CA1390C8
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 18:58:49 +0000 (UTC)
Received: (qmail 98203 invoked by uid 500); 22 Jul 2012 18:58:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98147 invoked by uid 500); 22 Jul 2012 18:58:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98138 invoked by uid 99); 22 Jul 2012 18:58:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:58:45 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 18:58:39 +0000
Received: from compute1.internal (compute1.nyi.mail.srv.osa [10.202.2.41])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 2B78A21188
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 14:58:19 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute1.internal (MEProxy); Sun, 22 Jul 2012 14:58:19 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date:in-reply-to:references; s=mesmtp; bh=
	TKlWNvMnHFZoC35bdBFUTU+VbLc=; b=BKhBkBUkpgrCaBOjBnx0EOS4Ev/BVYPY
	m3JsFNotXJbdkf+NeMztxiVMkX8eQaYBB31+i9vnHFg+G3fPYQwukfWp/sExoIjc
	BRl5/10ZS0RtJZiZ5HKIxe9v135wyhqFbQ9Wulp4UI6mqPAt7rrP4gR7LY4r7XJ3
	4/YSJmhle7g=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date:in-reply-to
	:references; s=smtpout; bh=TKlWNvMnHFZoC35bdBFUTU+VbLc=; b=YSBMt
	tEKw6Bt3NqMVxEq6dGKlFvt+fd2LaoQdevEvKjhrxqQZtocKXyQPyrEFZZiTx34F
	hca+bn8m8urIgyomagzYM9wercnSNT/hTbgbgGJ8ysX5C8sL/bn2Y9wJ1YXSvaIQ
	kbC5roCGzCxLUZ1lISVSfIw0Yyl9x6q0blqlxM=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id F1162A00154; Sun, 22 Jul 2012 14:58:18 -0400 (EDT)
Message-Id: <1342983498.13471.140661105234381.60FA4010@webmail.messagingengine.com>
X-Sasl-Enc: WUc3LDmUyDx1lSVZfD/pYGpHXMJl5UK3qc02QitWFIvY 1342983498
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="ISO-8859-1"
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 11:58:18 -0700
In-Reply-To: <500C498A.4030405@ice-sa.com>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <1342977862.27712.191.camel@dellberry>
 <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
 <1342980480.3018.28.camel@dellberry>
 <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
 <500C498A.4030405@ice-sa.com>



On Sun, Jul 22, 2012, at 08:42 PM, Andr=E9 Warnier wrote:
> You still have a Connector listening on port 8009 (and IPv6). You may
> want to disable that  one too (the AJP connector), to match your above de=
sires.

Of course.  Now at,

netstat -pan --tcp | grep java
tcp        0      0 127.0.0.1:8080          0.0.0.0:*=20=20=20=20=20=20=20=
=20=20=20=20=20=20=20
LISTEN      29141/java=20=20=20=20=20=20=20=20=20=20
tcp        0      0 127.0.0.1:8005          0.0.0.0:*=20=20=20=20=20=20=20=
=20=20=20=20=20=20=20
LISTEN      29141/java=20=20=20=20=20=20=20=20=20=20
tcp        0      0 127.0.0.1:8009          0.0.0.0:*=20=20=20=20=20=20=20=
=20=20=20=20=20=20=20
LISTEN      29141/java=20=20=20=20=20=20=20=20=20=20

thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 19:58:28 2012
Return-Path: <users-return-235592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 67C85DF75
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 19:58:28 +0000 (UTC)
Received: (qmail 18983 invoked by uid 500); 22 Jul 2012 19:58:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18914 invoked by uid 500); 22 Jul 2012 19:58:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18904 invoked by uid 99); 22 Jul 2012 19:58:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 19:58:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.67] (HELO elasmtp-scoter.atl.sa.earthlink.net) (209.86.89.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 19:58:18 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-scoter.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1St2Ht-0003Gu-KV
	for users@tomcat.apache.org; Sun, 22 Jul 2012 15:57:57 -0400
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost, ignores 'use IPv4'
 JAVA_OPTS in tomcat.conf.  How to correctly force IPv4?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
References:
	 <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
	 <1342977862.27712.191.camel@dellberry>
	 <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
	 <1342980480.3018.28.camel@dellberry>
	 <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-DP12ZpZZ5+eLsxdGdr2r"
Organization: Clifton Farm
Date: Sun, 22 Jul 2012 15:57:56 -0400
Message-ID: <1342987077.3018.130.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d4786d8d458a35b76430509f421f9ab636c90235a94478fb3669350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-DP12ZpZZ5+eLsxdGdr2r
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Sun, 2012-07-22 at 11:21 -0700, k9157@operamail.com wrote:
> On Sun, Jul 22, 2012, at 02:08 PM, Tim Watts wrote:
> > By default, Tomcat will listen on port 8080 on all available addresses
> > (IPv6 and 4, barring configuration settings at the OS level).  The key
> > "word" in those java.net properties is "prefer" (i.e. not "require").
> > So the door is still open to IPv6 even with these properties.
>=20
>=20
> I still would presume that, given the specification of "prefer", when
> localhost is referenced, given the choice of either IPv4 or IPv6 in a
> functional dual-stack, that it *would* prefer and select IPv4, i.e.,
> 127.0.0.1.
>=20
But doing so would close the door on ::1, turning "prefer" into
"require".  Whereas binding on ::* allows both IPv6 & 4 in.  I guess
what's confusing in all this is that the "preferences" just deal with
"outbound" addresses and connections (e.g. preferIPv4Stack means the JVM
will send out IPv4 packets etc.).

It's worth noting that, even if it did behave this way, you would still
have needed to specify the loopback address.  Otherwise Tomcat would
have been accessible on any IPv4 address configured on the node.  Just
setting those properties would never have been sufficient for what you
were really after.

> apparently, not the case.
>=20
> clarification noted.
>=20
> cheers.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-DP12ZpZZ5+eLsxdGdr2r
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDFtEAAoJEAfDBXDHBQil8qYH/A6C1p2XM1j2saDv77uRbABg
Jz6RKwWTmudELUiPzDimr93PPei4tNGf5BBKLxdz2uGBdPg+w3y6LeWqCHZ+solU
JtqVY08AvZ+2pJKig5AR4nVdmZiUOUH+GKG7BzbTYqePMlwoc8CapLNAtecH3UF1
sj61Pw+5u3HAHoKkDxag+0aOdK/uKW4H005FkPX2+Y8ewoq2ZNMXmFoO1mqOe6rf
o4c1OCc35+4ww13CWM2JySEVNw8/IWykhJE1Czy4fN4d3u5Yxm+Cx/qUgpuKCB9M
K5b6BCTJszuHXDjT31YoMmyQqLSm1eYYexYxTbc5wHC4Sl2FAvj9wvvWJDvbPtw=
=I5Sk
-----END PGP SIGNATURE-----

--=-DP12ZpZZ5+eLsxdGdr2r--


From users-return-235593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 20:18:23 2012
Return-Path: <users-return-235593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44887DFEB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 20:18:23 +0000 (UTC)
Received: (qmail 63804 invoked by uid 500); 22 Jul 2012 20:18:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63760 invoked by uid 500); 22 Jul 2012 20:18:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63751 invoked by uid 99); 22 Jul 2012 20:18:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 20:18:20 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 20:18:15 +0000
Received: from compute3.internal (compute3.nyi.mail.srv.osa [10.202.2.43])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id C5E7221704
	for <users@tomcat.apache.org>; Sun, 22 Jul 2012 16:17:54 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute3.internal (MEProxy); Sun, 22 Jul 2012 16:17:54 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	3S/dYeIhU/re4Mmri6q+EMTUexs=; b=d7r5wePp2Q+rLh5jFqEsiquOYNoKw4PK
	Vf6vLAwYxTD4zNHO1O+nh0SJoxGxInBPDZA8gLh1Nw4siEJgdvWte+9AM9v1UFEt
	9J596yrGWWXSq88DprCl70WP/XKEgPP5+Tbk1Rbb8kaJBm2N1QI1cftwb/D42di4
	o5BP9I/f5dU=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=3S/dYeIhU/re4Mmri6q+EMTUexs=; b=bhp
	EjPHxKFfAMjzNHkmNRIox+h0xSelt8cq0GH3jlX9U40XPPJLdrC3b3VcJrnQAOQC
	pESG3U0tIwj5N9xmppBOfbHmB/033Z3nSSLWvexS+5PzDNvHhCXrzB7eengF9LPH
	Qo9aRu4B1c/H9h1H4BL2gmd/haR54ftr83a5Q6C4=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 9AE94A00154; Sun, 22 Jul 2012 16:17:54 -0400 (EDT)
Message-Id: <1342988274.26395.140661105253025.5884F62A@webmail.messagingengine.com>
X-Sasl-Enc: JPkeM2Gc2/926i7Cao5Vwz+AuxE2f+PBaUIbXbfCbaTb 1342988274
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <1342987077.3018.130.camel@dellberry>
References: <1342969406.7245.140661105177361.3D5DC52C@webmail.messagingengine.com>
 <1342977862.27712.191.camel@dellberry>
 <1342978342.32303.140661105212521.1B753A9F@webmail.messagingengine.com>
 <1342980480.3018.28.camel@dellberry>
 <1342981284.7851.140661105225293.28E90E96@webmail.messagingengine.com>
 <1342987077.3018.130.camel@dellberry>
Subject: Re: Tomcat 7.0.27 listens only @IPv6 localhost,
 ignores 'use IPv4' JAVA_OPTS in tomcat.conf.  How to correctly force
 IPv4?
Date: Sun, 22 Jul 2012 13:17:54 -0700
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

On Sun, Jul 22, 2012, at 03:57 PM, Tim Watts wrote:
> But doing so would close the door on ::1, turning "prefer" into
> "require".  Whereas binding on ::* allows both IPv6 & 4 in.  I guess
> what's confusing in all this is that the "preferences" just deal with
> "outbound" addresses and connections (e.g. preferIPv4Stack means the JVM
> will send out IPv4 packets etc.).
> 
> It's worth noting that, even if it did behave this way, you would still
> have needed to specify the loopback address.  Otherwise Tomcat would
> have been accessible on any IPv4 address configured on the node.  Just
> setting those properties would never have been sufficient for what you
> were really after.

I've read a bunch trying to get this straight.  Lots of noise, and I was
still off track on the outbound vs inbound behavior.

"@ bug" insist that the behavior as is - which has managed to confuse
quite a few others as well, resulting in numerous suggestions to 'file a
bug' - is simply "a config problem" on my end,   It seems they're happy
with that, and that this is expected/clear behavior.  To each their own
...

Thanks for being patient and taking the time to clarify.  Again, noted &
appreciated!

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 23:37:21 2012
Return-Path: <users-return-235594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 30B59D410
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 23:37:21 +0000 (UTC)
Received: (qmail 55708 invoked by uid 500); 22 Jul 2012 23:37:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55660 invoked by uid 500); 22 Jul 2012 23:37:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55648 invoked by uid 99); 22 Jul 2012 23:37:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 23:37:17 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 23:37:11 +0000
Received: by vbbfn1 with SMTP id fn1so5621526vbb.18
        for <users@tomcat.apache.org>; Sun, 22 Jul 2012 16:36:50 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=y48SpIsEDfVxhjlF/I+bn/i3hJSloord1wHoJ2bgl4k=;
        b=Ra+TYC4Z9PgUyW9s9tp0QTMvyObOnASKIEOXB+Pc+Ep+la15cZkat0ynKa4nWPYVNl
         XK81rMKmFG0l2hHvA2ZjGO6JFbpnuOqOHbt25Xd+MLK879KdnZxxLeAHq/uHndXSqQL6
         fIfplQJbjuMTVgiTS0xALErNrKDvhiE27TzWcsvTTy/sHT15kNjy/SGotoFtWre5BBdx
         6Nwp3gZxCej0kl1NswZM3To+Qn4oW1TvI9WcekNO2+kXftVdSQcT/KE42jc5OUcULVRm
         Wfqlu5flhSY9sXE2DfakSUTipcl9p+0v5b2wb27E7C2MFjAFFX7eTDTJ70DfgOMo5dDf
         cR0A==
MIME-Version: 1.0
Received: by 10.52.33.47 with SMTP id o15mr9497386vdi.73.1343000210020; Sun,
 22 Jul 2012 16:36:50 -0700 (PDT)
Received: by 10.52.112.230 with HTTP; Sun, 22 Jul 2012 16:36:49 -0700 (PDT)
In-Reply-To: <3544675132897956750@unknownmsgid>
References: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
	<3544675132897956750@unknownmsgid>
Date: Mon, 23 Jul 2012 11:36:49 +1200
Message-ID: <CAEPmq7DxJLkYXaoz7PqSWDU=S9=0E3rF=_4boARmULopoqusLw@mail.gmail.com>
Subject: Re: Forms authentication without cookies in 6.0.33
From: Brett Mason <b.mason@adinstruments.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf307ca18473989604c5739a2f
X-Gm-Message-State: ALoCoQlkemMQbiynllw4CJ5iWLmlQR5OrcnfqLBhYMFeTlb2QdloyCC/Xm5/wzBRXMesE5KCqI/I

--20cf307ca18473989604c5739a2f
Content-Type: text/plain; charset=UTF-8

On Fri, Jul 20, 2012 at 7:06 PM, Pid * <pid@pidster.com> wrote:

> On 20 Jul 2012, at 03:38, Brett Mason <b.mason@adinstruments.com> wrote:
> > Could someone please clarify if Tomcat supports forms authentication
> > without cookies? If it is intended to be a supported configuration I'm
> > happy to submit a bug report and can provided a simple standalone test
> app
> > to reproduce the problem.
>
> Form auth should work regardless of where the session id lives.
>
> Is the login form an HTML or JSP page? A session must be created
> before you can login, it sounds like Tomcat isn't seeing one during
> the first login.
>
>
The login page is a JSP (via a Servlet). We use the JSTL <c:url> tag to
generate the post URL which appears to be adding a valid sessionID:

<form method="post" action="<c:url value="j_security_check"/>">

Thanks,
Brett.

--20cf307ca18473989604c5739a2f--

From users-return-235595-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 22 23:44:48 2012
Return-Path: <users-return-235595-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1ACB2D419
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 22 Jul 2012 23:44:48 +0000 (UTC)
Received: (qmail 69788 invoked by uid 500); 22 Jul 2012 23:44:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69732 invoked by uid 500); 22 Jul 2012 23:44:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69723 invoked by uid 99); 22 Jul 2012 23:44:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 23:44:44 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jul 2012 23:44:38 +0000
Received: by vcbfl15 with SMTP id fl15so5603271vcb.18
        for <users@tomcat.apache.org>; Sun, 22 Jul 2012 16:44:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=wtksf9up0Ydu1dZKk020ugj3yqg4Bt8kC93RaxCTrNA=;
        b=WOiQaSBRWo2uernmRIITgqrZUuCrzq25DyCy6hITz191XEmRyZk0ECC025WWQm17Dh
         +ElEztxlEL2oYFsJQR2VSbR/RXD5HLfZMd3phrI9QGjb3kYGQjvO2Aau4evdB7yAvvGM
         54030skAHvbych/003BdRy2B9qjyEj8BQ1CLlyKlXFwL3UazUk6oILHDNyzxZuQWudLz
         3+gV1KSOMDfugSphq0zHN22UvritSCB8YxvfXsXU5g7nQAJJ+2q0NRYXFT69Z4HwsBd+
         Bcv6J+T+EwSTuvNi4SAoTukA2DutLfVRkGk6mEU4TOvgThptBxTTtBaXH4TbDDYB8fHO
         9VmQ==
MIME-Version: 1.0
Received: by 10.220.239.209 with SMTP id kx17mr2242150vcb.41.1343000657039;
 Sun, 22 Jul 2012 16:44:17 -0700 (PDT)
Received: by 10.52.112.230 with HTTP; Sun, 22 Jul 2012 16:44:17 -0700 (PDT)
In-Reply-To: <980a3aff-a361-46dc-a40d-221336a45a85@email.android.com>
References: <CAEPmq7B_8==Q=iuLxwdZHe6Z7oyqVcPRo_=ivrKQTOO1H-kGaw@mail.gmail.com>
	<980a3aff-a361-46dc-a40d-221336a45a85@email.android.com>
Date: Mon, 23 Jul 2012 11:44:17 +1200
Message-ID: <CAEPmq7D3fKAOqke662jb1ZBqzNQc5S9sR1O8vM4FHoC3rX-5xg@mail.gmail.com>
Subject: Re: Forms authentication without cookies in 6.0.33
From: Brett Mason <b.mason@adinstruments.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9cdbefb1890d804c573b526
X-Gm-Message-State: ALoCoQkF0lgIlrxd3K3BDhengtaVYm4/sYBOGlnDIl7DHh9K/sg0ZS7pPiM8jnTV59i11ABB0N4e

--14dae9cdbefb1890d804c573b526
Content-Type: text/plain; charset=UTF-8

On Fri, Jul 20, 2012 at 7:20 PM, Mark Thomas <markt@apache.org> wrote:

> Brett Mason <b.mason@adinstruments.com> wrote:
> >Could someone please clarify if Tomcat supports forms authentication
> >without cookies?
>
> It should.
>
> > If it is intended to be a supported configuration I'm
> >happy to submit a bug report and can provided a simple standalone test
> >app
> >to reproduce the problem.
>
> Please. The best standalone test apps are those supplied as WARs with the
> source for any classes (if any - ideally none) included in the WAR. Source
> trees we have to build are usually a pain as we rarely have the right
> combination of build tools and settings immediately to hand.


Thanks for the confirmation.

I've submitted the bug and test app as:
https://issues.apache.org/bugzilla/show_bug.cgi?id=53584 . I've kept it to
pure JSPs with no additional libraries so it will hopefully be easy to
reproduce.

Thanks,
Brett.

--14dae9cdbefb1890d804c573b526--

From users-return-235596-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 03:01:42 2012
Return-Path: <users-return-235596-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE602D11B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 03:01:42 +0000 (UTC)
Received: (qmail 13841 invoked by uid 500); 23 Jul 2012 03:01:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13617 invoked by uid 500); 23 Jul 2012 03:01:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13407 invoked by uid 99); 23 Jul 2012 03:01:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 03:01:36 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [106.10.148.182] (HELO nm7-vm7.bullet.mail.sg3.yahoo.com) (106.10.148.182)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jul 2012 03:01:27 +0000
Received: from [106.10.166.116] by nm7.bullet.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:01:05 -0000
Received: from [106.10.151.251] by tm5.bullet.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:01:05 -0000
Received: from [127.0.0.1] by omp1022.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:01:05 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 593751.98372.bm@omp1022.mail.sg3.yahoo.com
Received: (qmail 84245 invoked by uid 60001); 23 Jul 2012 03:01:05 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343012465; bh=QBYzzGL/ttoOxlf0clO06YO3WiRNC7Yp/xYyWyLUfgw=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=yVni6QRYgyf9Usnp6evO3pkAlRBGQW3vNkHc2BCl4/DqaQWCf84ecmmsKIV+h+LcUBEf5a+SIvHB++iVK37f4JXj3KCws2t51hPUlzsYUD9DNQ2K5pBVL8m/ZrQcN0evlX5sH/clPGO0fQlJEnl3Mo6v2OwlkA6kPhgaxACGqdE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gRVioBb8AFGqWY7izC4r5mkX/mUOZlw55YhwLsZbbqtEL22Q7S3C/Bl3o0biFudnE1vIOTQFYxAp0wt2dldVVVPaxjOYorx4jAh3IC/j0tYDcmRvGEX8Kn66n3/wNu6QKzBADU5kNVM3dP0d2aH1xFvYJTP/tUpm2xPjTD2do3w=;
X-YMail-OSG: L6qJ3E4VM1nPkxfJC_Lqk5aihRUhvyN_EBPz6LRkoJ28zmx
 qYrPEbx8jhJqoK_OFWlMGmdmgkRRzkQUriUsvnVbti_zQt1aOVX.UtV5n6sL
 LBSlYpyGep3GpjebqI6oYQGXM6x7MI4zsb1fS08IMFggHW57tSDFExIbw1hL
 ilQKX8bD7_1LfBnnor.tlTHBK4FlZ22y9UXt_3UdsqhRwrUQ.mZn8QX7ufSt
 j5YJvnwxLHTkr0N2t8fd2AghEy.ay3oMe5Vzz28_kQIWRNdUGQDUD4lUoI.G
 g65UJ7eiskddRPMGE_8_ENGmpwQSFBf_GWLxl6gdiIZn7naJ0sMgKF3fvQA4
 cxcRTEpCuXWM7KcvMgDuBm6ygfAqoL2CNBCjbbkCup4QrNtKqhkD4OkQREJM
 hVQ0nRnHcgVz4pyguvabpFQTd1CXd9V9ZkqazA5FeSdJJQfdO.fR2brxQAgt
 Dj1vALmMLvt7bTX.tN8U_DTDRw2ENkygQR7gBT0cFcnKZO1XlMD0riK2_Odg
 mCs.IYWtxr_Y65nF.bimfVe0yo4gyJEgqRKUR4UHOvS6SfVHNoVI-
Received: from [155.91.28.231] by web193504.mail.sg3.yahoo.com via HTTP; Mon, 23 Jul 2012 11:01:05 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1343012465.25913.YahooMailClassic@web193504.mail.sg3.yahoo.com>
Date: Mon, 23 Jul 2012 11:01:05 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342876267.25585.28.camel@cat>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Felix for your great explaination.

--- On Sat, 21/7/12, Felix Schumacher <felix.schumacher@internetallee.de> w=
rote:

> From: Felix Schumacher <felix.schumacher@internetallee.de>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: users@tomcat.apache.org
> Date: Saturday, 21 July, 2012, 6:41 PM
> Am Samstag, den 21.07.2012, 08:44
> +0800 schrieb vijay mathew:
> > For the last 2 failures, this issue appeared on=A0
> Monday and DB gets restarted every Saturday. So I assume
> that this issue has to do something with the DB restart for
> the last 2 failures.
> >=20
> > However 1 months back, the same issue appeared on a
> Wednesday.
> >=20
> > So I was not able find a real pattern for this issue
> when I compare the last 3 failures.
> You are using a pool of connections. The pool maintains at
> least three
> different types of connections:
>=20
>  * alive connections, which are borrowed to a client
>  * alive connections, which are idling in the pool
>  * closed connections, which wait to be opened by the pool
>=20
> When you restart the database, all alive connections will
> (probably) be
> broken. If you ask the pool for a new connection, it can
> give you a
> previously closed one and open it, or a previously alive
> (and probably
> broken) one.
>=20
> So you might be lucky by getting a newly opened one, or have
> bad luck
> and get a broken connection. The pool should prefer to give
> one of the
> "alive" connections to you, though.
>=20
> To mitigate the problem of handing out broken connections
> the pool often
> has functionality to check a connection, before it hands it
> to the
> client. When using the tomcat database connection pool, that
> feature can
> be configured by setting validationQuery to a valid
> SQL-query (e.g
> "select 1 from dual" for oracle) and testOnBorrow to true.
>=20
> On the other hand, your code could store the connection
> somewhere and
> use it after a long period of time again. If the database
> was restarted
> in the meantime, you would get that error, but the
> validation query in
> the pool would not be able to help you.
>=20
> Regards
>  Felix
> >=20
> >=20
> > --- On Fri, 20/7/12, Christopher Schultz <chris@christopherschultz.net>
> wrote:
> >=20
> > > From: Christopher Schultz <chris@christopherschultz.net>
> > > Subject: Re: java.sql.SQLException: No more data
> to read from socket
> > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > Date: Friday, 20 July, 2012, 10:21 PM
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >=20
> > > - -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >=20
> > > Vijay,
> > >=20
> > > On 7/19/12 8:25 PM, vijay mathew wrote:
> > >=20
> > > > java.sql.SQLException: No more data to read
> from socket
> > > at=20
> > > >
> > >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227=
)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439=
)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> > > > at
> > >
> oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
> > >=20
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:84=
9)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.j=
ava:1186)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377=
)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWra=
pper.java:386)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> > > > at
> > >
> javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> > >=20
> > > So, when this happens, it always happens alongside
> an Oracle
> > > restart,
> > > but an Oracle restart does not always mean you'll
> get one of
> > > these errors?
> > >=20
> > > - - -chris
> > > - -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > >=20
> > >
> iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
> > > SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=3D
> > > =3DpXsE
> > > - -----END PGP SIGNATURE-----
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > >=20
> > >
> iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
> > > PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
> > > =3DckQ+
> > > -----END PGP SIGNATURE-----
> > >=20
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >=20
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235597-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 03:04:57 2012
Return-Path: <users-return-235597-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ECD52D143
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 03:04:56 +0000 (UTC)
Received: (qmail 22720 invoked by uid 500); 23 Jul 2012 03:04:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22532 invoked by uid 500); 23 Jul 2012 03:04:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22518 invoked by uid 99); 23 Jul 2012 03:04:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 03:04:53 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [106.10.151.207] (HELO nm40-vm4.bullet.mail.sg3.yahoo.com) (106.10.151.207)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jul 2012 03:04:44 +0000
Received: from [106.10.166.119] by nm40.bullet.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:04:22 -0000
Received: from [106.10.150.24] by tm8.bullet.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:04:22 -0000
Received: from [127.0.0.1] by omp1025.mail.sg3.yahoo.com with NNFMP; 23 Jul 2012 03:04:22 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 725872.4996.bm@omp1025.mail.sg3.yahoo.com
Received: (qmail 52018 invoked by uid 60001); 23 Jul 2012 03:04:22 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343012662; bh=y0DxjrWjat9pnpPtr3hA2ngPPiLImyryRA/Sh2Xny0s=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=E/aZRg2aPaFZPMIDQ+jEb5B1LehIFQQO0OB3lgPstV6E8lh3USDrTM1P0NvbVh4Vm/BJDd8fmNroFsWZoJb4wrls9ObsUovwwFQCl+hCrT/QCnwcOGOCOWvdCFHlUoK5uBrY2MvwhpggGhombpNGX4NoYbcoKx75E6MK0YUU3Aw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=n/UbVq0MvVwQ1xMzM0isZmPyFOzE+176F5Ywjn2wn0fyuIUACx4odJ8Tq1aFaV7WTtssvSgIBnXDwVQHpY67ctDaJtxAoBHZJNAjVFL8ukBingoc3CUbCeJ/T/90y+gcZ4Rmmu28hzdEM/zM64D4h5T8a6LqNHn45q2p9Wca0eM=;
X-YMail-OSG: nGXYKBkVM1lfCm1dhIiGJVVa7OiwW05ohCrT5oYH0hDqu59
 5yuLdp2XJLzjAU0i8l0bFQX02JYICOkZ9QQCCQ96fg8CO339Y6VpDGfYi2U9
 uqN5iT6Oc9o6HvaFvTzZXnZDCNbOHoM8RCsiJgJ64k5b5.I3yEAXQot1yTpu
 E3wT4X_5pA_McEI_tm211ZIeqWPzTsOna8LrhfFddhaL1sAGo8TtThQvYGzb
 xIXWoThXukk1685Zadu4o5qKP6EGHZc2eITdcoEDgKV_IflBufmF1eBRljL8
 w3Hl_ntfmotu6DEAEwuccxfYXm1A7WaCfZ1eMkSwmkjS_UI9N8v4mqYEEaHf
 Y5O5nOjH1BFueZcdW.tkOal0VLicIjK.vBrvPu4D69DpuIIGMBpfznR291il
 6KezWM6B5mKQOmyqu97FIszR3jhjU7akVcRuqJ_4qGEDncDdRBQDPdQ9i4fa
 JY5giJ.GP_qpxB.hNxQ--
Received: from [155.91.28.231] by web193502.mail.sg3.yahoo.com via HTTP; Mon, 23 Jul 2012 11:04:22 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1343012662.50060.YahooMailClassic@web193502.mail.sg3.yahoo.com>
Date: Mon, 23 Jul 2012 11:04:22 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <6743165.203.1342800237884.JavaMail.daniel@cleveland>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks a bunch Daniel for your help. Also for the patience in answering my =
question.=20
The solution to this issue to make Tomcat handle the connection pooling ins=
tead of the application code OR to restart the application servers along wi=
th the DB.

--- On Fri, 20/7/12, Daniel Mikusa <dmikusa@vmware.com> wrote:

> From: Daniel Mikusa <dmikusa@vmware.com>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: "Tomcat Users List" <users@tomcat.apache.org>
> Date: Friday, 20 July, 2012, 9:34 PM
> ----- Original Message -----
> > Daniel Mikusa wrote:
> > ...
> >=20
> > >=20
> > > This doesn't look like a Tomcat issue.=A0 Your
> app is maintaining its
> > > own connection pool, it is not using one provided
> by Tomcat.=A0 I
> > > would suggest that you talk with your developers
> and see if they
> > > can help you.
> > >=20
> > Which, after a very long detour, seems to bring us back
> to the very
> > first answer to this
> > thread, doesn't it ?
>=20
> Perhaps.=A0 While the exception is showing Oracle, which
> certainly appears to be the culprit, the user might be able
> to mitigate the issue with a configuration option like
> "validationQuery".
>=20
> Unfortunately the user is not defining a resource in Tomcat,
> so it makes it difficult to instruct him how to try adding
> such an option.=A0 The user would need to check with the
> app developer to see about altering the configuration.
>=20
> Dan
>=20
>=20
>=20
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
> >=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235598-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 07:59:38 2012
Return-Path: <users-return-235598-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89B73D7CC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 07:59:38 +0000 (UTC)
Received: (qmail 5624 invoked by uid 500); 23 Jul 2012 07:59:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5301 invoked by uid 500); 23 Jul 2012 07:59:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5271 invoked by uid 99); 23 Jul 2012 07:59:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 07:59:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kavya.heggere@gmail.com designates 209.85.212.169 as permitted sender)
Received: from [209.85.212.169] (HELO mail-wi0-f169.google.com) (209.85.212.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 07:59:25 +0000
Received: by wibhm2 with SMTP id hm2so2320123wib.0
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 00:59:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XYLwN0cNoVpWuqDuemVxz4qldHLTD7U1umzpiu1Sz54=;
        b=Ncgz4vcoTep703+tdmVpNcOZ0I4T6WuSQBeKCaPCGM1+XA3ODJgsqiOmSl6rDwPCqj
         ntoI+YKMjCxOd1uKNmeeodgb8np1Fg0xQ+TfwxC5nQPbrH+05XJvA9ctPudLuUwFJLhB
         fNQRQ0lezvT76Q+o/7Lr8W4uS1v1A4/ial6g53+q/1nIUNA1t4rVsmx/Banah4PR4djG
         eCTvX51xLfoEwR93Tjc1+RZwleJTFydLFxodRz0Pu4oTAKL7ksSQ0P+0EJ6lG/1z3yVd
         a6tjMbGfN2xY4XC49tmha7Sa/Lt9/YbXUp1NejIKDvAomvyCTsj6moFfhjPeI8DUYCQd
         s/hA==
MIME-Version: 1.0
Received: by 10.180.86.106 with SMTP id o10mr27643544wiz.22.1343030345486;
 Mon, 23 Jul 2012 00:59:05 -0700 (PDT)
Received: by 10.216.241.130 with HTTP; Mon, 23 Jul 2012 00:59:05 -0700 (PDT)
In-Reply-To: <CAEBM2D1Jv8MrfgTP9bC2cx9WnfUGX7GfQNeaTWD3AZz-ThP=-g@mail.gmail.com>
References: <CAEBM2D1Jv8MrfgTP9bC2cx9WnfUGX7GfQNeaTWD3AZz-ThP=-g@mail.gmail.com>
Date: Mon, 23 Jul 2012 13:29:05 +0530
Message-ID: <CAEBM2D22s9cE4yBjJ6RJsNVZo7T31wDw2Yg+2Rs8Yw0zAHg51Q@mail.gmail.com>
Subject: Re: Tomcat error -54
From: Kavya C B <kavya.heggere@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d04182752aa537204c57a9ee4

--f46d04182752aa537204c57a9ee4
Content-Type: text/plain; charset=ISO-8859-1

>
> Can you tell, why this error is coming :
>
>  can't receive the response message from tomcat, network
> >> problems or tomcat is down (10.182.18.2:8009), err=-54
>
>
>

--f46d04182752aa537204c57a9ee4--

From users-return-235599-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 08:51:44 2012
Return-Path: <users-return-235599-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26552988F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 08:51:44 +0000 (UTC)
Received: (qmail 50280 invoked by uid 500); 23 Jul 2012 08:51:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50240 invoked by uid 500); 23 Jul 2012 08:51:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50158 invoked by uid 99); 23 Jul 2012 08:51:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 08:51:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 08:51:31 +0000
Received: from [192.168.245.129] (p549E90BB.dip0.t-ipconnect.de [84.158.144.187])
	by tor.combios.es (Postfix) with ESMTPA id 403FDDA060A
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 10:51:08 +0200 (CEST)
Message-ID: <500D107A.6060207@ice-sa.com>
Date: Mon, 23 Jul 2012 10:51:06 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat error -54
References: <CAEBM2D1Jv8MrfgTP9bC2cx9WnfUGX7GfQNeaTWD3AZz-ThP=-g@mail.gmail.com> <CAEBM2D22s9cE4yBjJ6RJsNVZo7T31wDw2Yg+2Rs8Yw0zAHg51Q@mail.gmail.com>
In-Reply-To: <CAEBM2D22s9cE4yBjJ6RJsNVZo7T31wDw2Yg+2Rs8Yw0zAHg51Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Kavya C B wrote:
>> Can you tell, why this error is coming :
>>
>>  can't receive the response message from tomcat, network
>>>> problems or tomcat is down (10.182.18.2:8009), err=-54
>>
>>
> 

Despite the total lack of information provided, and thus borrowing Pid's crystal ball for 
a moment, I would guess that this is a message written to a logfile, by some 
webserver-to-Tomcat AJP connector.
As to what it means, I believe it is quite explicit.
What part of it do you not understand ?

If you'd like more information and less guesses, may I suggest that you provide at least 
some details about your configuration, about where you found the above message, and a few 
additional lines of the logfile prior to the above ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235600-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 10:01:08 2012
Return-Path: <users-return-235600-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6081AC94B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 10:01:08 +0000 (UTC)
Received: (qmail 10079 invoked by uid 500); 23 Jul 2012 10:01:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9865 invoked by uid 500); 23 Jul 2012 10:01:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9832 invoked by uid 99); 23 Jul 2012 10:01:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 10:01:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of niknoiks@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 10:00:57 +0000
Received: by yhpp34 with SMTP id p34so6625375yhp.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 03:00:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wI+ECUB3ByYVCiv3OTV+TnYvM/LUi9Ha9vQufkEXCeU=;
        b=jvMKGVvnGf+Cp85xTXhCjytbC5GlFcBSR9MezAga5fkwT/sDn5B9RWAG9CM3o/RILg
         wut+SuDx+bU1rQ70q1Qi6QNyje4FMG6roYxrFQkHEaWaD3lrpj7Plw1HRfvajFM+eUvn
         Zw5sMhLlbxmZSX6i69qu8lrf/J4zJI1rJ12JZ++Bd4ere0lcBDad+7u8soOGzpUT2tjK
         GXZwaSM2WkJC9CEfqDKiCTjIQtBe6DBzOVrARDBxE+cGHiTI8qfu4DmkPuXieBshlQFP
         ui4QMPTiXLfKYTVKe1TfiUaVEwvyhO/+jfcT2w3A6+egdp1NPGpZjDBPjlicEBf85lXq
         W/gg==
MIME-Version: 1.0
Received: by 10.60.2.99 with SMTP id 3mr19893857oet.20.1343037636765; Mon, 23
 Jul 2012 03:00:36 -0700 (PDT)
Received: by 10.76.97.239 with HTTP; Mon, 23 Jul 2012 03:00:36 -0700 (PDT)
In-Reply-To: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com>
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com>
Date: Mon, 23 Jul 2012 15:30:36 +0530
Message-ID: <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com>
Subject: Configure CSRFPreventionFilter in 6.0.35
From: Nikhil Dhankani <niknoiks@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8fb2033842672f04c57c51e0
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb2033842672f04c57c51e0
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am trying to configure CSRFPreventionFilter with the below code in my
web.xml.

<filter>
    <filter-name>CSRF</filter-name>

 <filter-class>org.apache.catalina.filters.CsrfPreventionFilter</filter-class>
</filter>

<filter-mapping>
    <filter-name>CSRF</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping>

But tomcat fails to start with below error,

Jul 22, 2012 11:57:17 PM org.apache.catalina.core.StandardWrapperValve
invoke
SEVERE: Servlet.service() for servlet CXFServlet threw exception
java.lang.IllegalArgumentException: setAttribute: Non-serializable
attribute org.apache.catalina.filters.CSRF_NONCE
at
org.apache.catalina.session.StandardSession.setAttribute(StandardSession.java:1351)
 at
org.apache.catalina.ha.session.DeltaSession.setAttribute(DeltaSession.java:647)
at
org.apache.catalina.ha.session.DeltaSession.setAttribute(DeltaSession.java:631)
 at
org.apache.catalina.session.StandardSessionFacade.setAttribute(StandardSessionFacade.java:130)
at
org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:173)
 at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
 at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
 at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
at
org.apache.catalina.ha.session.JvmRouteBinderValve.invoke(JvmRouteBinderValve.java:227)
 at
org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:347)
at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
 at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
 at
org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
at
org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
 at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
at java.lang.Thread.run(Unknown Source)

Can anybody please help as to what am I missing or what am I doing wrong?

Thanks,
Nikhil

--e89a8fb2033842672f04c57c51e0--

From users-return-235601-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 10:10:56 2012
Return-Path: <users-return-235601-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9CCE9C988
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 10:10:56 +0000 (UTC)
Received: (qmail 41588 invoked by uid 500); 23 Jul 2012 10:10:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41333 invoked by uid 500); 23 Jul 2012 10:10:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41293 invoked by uid 99); 23 Jul 2012 10:10:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 10:10:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 10:10:41 +0000
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6NAAKh3023113
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 12:10:20 +0200 (CEST)
Message-ID: <500D22F8.8090409@kippdata.de>
Date: Mon, 23 Jul 2012 12:10:00 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Configure CSRFPreventionFilter in 6.0.35
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com> <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com>
In-Reply-To: <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

On 23.07.2012 12:00, Nikhil Dhankani wrote:
> Hi,
>
> I am trying to configure CSRFPreventionFilter with the below code in my
> web.xml.
>
> <filter>
>      <filter-name>CSRF</filter-name>
>
>   <filter-class>org.apache.catalina.filters.CsrfPreventionFilter</filter-class>
> </filter>
>
> <filter-mapping>
>      <filter-name>CSRF</filter-name>
> <url-pattern>/*</url-pattern>
> </filter-mapping>
>
> But tomcat fails to start with below error,
>
> Jul 22, 2012 11:57:17 PM org.apache.catalina.core.StandardWrapperValve
> invoke
> SEVERE: Servlet.service() for servlet CXFServlet threw exception
> java.lang.IllegalArgumentException: setAttribute: Non-serializable
> attribute org.apache.catalina.filters.CSRF_NONCE
> at
> org.apache.catalina.session.StandardSession.setAttribute(StandardSession.java:1351)
>   at
> org.apache.catalina.ha.session.DeltaSession.setAttribute(DeltaSession.java:647)
> at
> org.apache.catalina.ha.session.DeltaSession.setAttribute(DeltaSession.java:631)
>   at
> org.apache.catalina.session.StandardSessionFacade.setAttribute(StandardSessionFacade.java:130)
> at
> org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:173)
>   at
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
> at
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
>   at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
> at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
>   at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
> at
> org.apache.catalina.ha.session.JvmRouteBinderValve.invoke(JvmRouteBinderValve.java:227)
>   at
> org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:347)
> at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
>   at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
> at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
>   at
> org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
> at
> org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
>   at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675)
> at java.lang.Thread.run(Unknown Source)
>
> Can anybody please help as to what am I missing or what am I doing wrong?

It seems you are doing clustering?

The cluster needs to be able to serialize sessions in order to replicate 
them over the network. The message indicates, that the sesison attribute 
org.apache.catalina.filters.CSRF_NONCE used by the CSRF filter is not 
serializable.

You might

- open an issue in the Tomcat bugzilla in order to get that fixed or 
documented (cluster compatibility of the filter)

- disable replication for that special attribute. This might limit your 
ability to actual fail over in the cluster, but maybe you would need to 
attribute in the session only for special use cases.

To disable replication of the attribute 
"org.apache.catalina.filters.CSRF_NONCE":

Since 7.0.22 and 6.0.34 you can configure, which session attributes you
want to distribute via a regular expression matched against the
attribute names. By default all attributes are replicated (and thus must
be serializable).

See "sessionAttributeFilter" in

http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-manager.html#Common_Attributes

Regards,

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235602-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 11:38:09 2012
Return-Path: <users-return-235602-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E21B96FA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 11:38:09 +0000 (UTC)
Received: (qmail 64252 invoked by uid 500); 23 Jul 2012 11:38:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64194 invoked by uid 500); 23 Jul 2012 11:38:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64143 invoked by uid 99); 23 Jul 2012 11:38:03 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 11:38:03 +0000
Received: from localhost (HELO s2laptop.dev.local) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 11:38:03 +0000
Message-ID: <500D3799.7000800@apache.org>
Date: Mon, 23 Jul 2012 12:38:01 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20120428 Thunderbird/12.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Configure CSRFPreventionFilter in 6.0.35
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com> <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com> <500D22F8.8090409@kippdata.de>
In-Reply-To: <500D22F8.8090409@kippdata.de>
X-Enigmail-Version: 1.4.2
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 7bit

On 23/07/2012 11:10, Rainer Jung wrote:
> The cluster needs to be able to serialize sessions in order to replicate
> them over the network. The message indicates, that the sesison attribute
> org.apache.catalina.filters.CSRF_NONCE used by the CSRF filter is not
> serializable.
> 
> You might
> 
> - open an issue in the Tomcat bugzilla in order to get that fixed or
> documented (cluster compatibility of the filter)

This is already fixed in 7.0.x and trunk. I have proposed the same fix
for 6.0.x.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235603-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 12:45:47 2012
Return-Path: <users-return-235603-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D64DD4ED
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 12:45:47 +0000 (UTC)
Received: (qmail 38376 invoked by uid 500); 23 Jul 2012 12:45:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38171 invoked by uid 500); 23 Jul 2012 12:45:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38142 invoked by uid 99); 23 Jul 2012 12:45:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 12:45:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of niknoiks@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 12:45:36 +0000
Received: by obbta14 with SMTP id ta14so13405127obb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 05:45:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ugoPo8zKfP4J8+dga9ECoV4AOvfdFFUoO/gSLbrzse8=;
        b=dXlv9TgNybVzMRI9CgCx228AV13VyFxhsbIErDWApcrpPs4f4kr3trKd02PGbRCnf0
         bxmZgdulpk+c0G0qK7pFgQz9ltnVJFJ5gBwshcR01uvrBp/nyVAw6c/F3xwadou7rYeH
         07EcmKQKRFdLdTOVkdAAL4uWO2Mcd90i+zmib0XYSHgCExniFLJVwRs9NkmyDNGZjmLp
         CNnUTXPlJZZUqgFef3rvT8RJS81HpKhXJwnEEJV9/8bzo/OOhqf7wSyZbyl7D4GUHb2F
         lK2UONkX2OlXFbROS9mqYtUVi4fWdVck2RbyEOtr5y6balXVC5y2d+94njANj90CIgMS
         t/yg==
MIME-Version: 1.0
Received: by 10.182.121.72 with SMTP id li8mr4129247obb.76.1343047514956; Mon,
 23 Jul 2012 05:45:14 -0700 (PDT)
Received: by 10.76.97.239 with HTTP; Mon, 23 Jul 2012 05:45:14 -0700 (PDT)
In-Reply-To: <500D22F8.8090409@kippdata.de>
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com>
	<CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com>
	<500D22F8.8090409@kippdata.de>
Date: Mon, 23 Jul 2012 18:15:14 +0530
Message-ID: <CACeZ_MdGCqVSpd2phCD1-_e3RJoOnAgPtp1gK1ix9S9frEM9Fg@mail.gmail.com>
Subject: Re: Configure CSRFPreventionFilter in 6.0.35
From: Nikhil Dhankani <niknoiks@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93994970ba39204c57e9e9e

--14dae93994970ba39204c57e9e9e
Content-Type: text/plain; charset=ISO-8859-1

Yes my environment is a clustered one.

Thanks Rainer for the quick response, this was really helpful.

On Mon, Jul 23, 2012 at 3:40 PM, Rainer Jung <rainer.jung@kippdata.de>wrote:
>
>
> It seems you are doing clustering?
>
> The cluster needs to be able to serialize sessions in order to replicate
> them over the network. The message indicates, that the sesison attribute
> org.apache.catalina.filters.**CSRF_NONCE used by the CSRF filter is not
> serializable.
>
> You might
>
> - open an issue in the Tomcat bugzilla in order to get that fixed or
> documented (cluster compatibility of the filter)
>
> - disable replication for that special attribute. This might limit your
> ability to actual fail over in the cluster, but maybe you would need to
> attribute in the session only for special use cases.
>
> To disable replication of the attribute "org.apache.catalina.filters.**
> CSRF_NONCE":
>
> Since 7.0.22 and 6.0.34 you can configure, which session attributes you
> want to distribute via a regular expression matched against the
> attribute names. By default all attributes are replicated (and thus must
> be serializable).
>
> See "sessionAttributeFilter" in
>
> http://tomcat.apache.org/**tomcat-7.0-doc/config/cluster-**
> manager.html#Common_Attributes<http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-manager.html#Common_Attributes>
>
> Regards,
>
> Rainer
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsubscribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae93994970ba39204c57e9e9e--

From users-return-235604-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 13:15:13 2012
Return-Path: <users-return-235604-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36454D5B9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 13:15:13 +0000 (UTC)
Received: (qmail 20331 invoked by uid 500); 23 Jul 2012 13:15:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19934 invoked by uid 500); 23 Jul 2012 13:15:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19911 invoked by uid 99); 23 Jul 2012 13:15:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 13:15:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kavya.heggere@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 13:15:03 +0000
Received: by wgbdr1 with SMTP id dr1so5038233wgb.0
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 06:14:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vglbj30HCARVrPpjuBsBKQB85lvQUQbiIcobZfSu2TI=;
        b=Xg9ftg6b+aqaEfo559lJ83SSC7fvmNPMCruuVvS5RuaVUMroWzeIDgY+A0ckZLw8CX
         YP+uVwvvAiTofFDNODGkCiv+6IAVQdo4m9e7ig/YYxG/91jFp1incnK+B+R4x6HcUcZO
         nvu8PXvc5S49uV43P76G5nqw82iyB6/xMjh2K17BqUa4B5k/KK5IoPQKsIy0F9aSHyql
         JR/oILvdkkiBY6LfvRgGuq4hJGPdqhCE3YINQJqG+LQNr5vTp5Y4ZOCj7XFeNvaSddI5
         RLjHmwfLUwhQdi9949sHAyLnoQkAGwP2np4F7RhmHaBzqiYj2m1FqxmKDcph9pXI67G/
         q2pA==
MIME-Version: 1.0
Received: by 10.216.131.205 with SMTP id m55mr8309058wei.49.1343049279881;
 Mon, 23 Jul 2012 06:14:39 -0700 (PDT)
Received: by 10.216.241.130 with HTTP; Mon, 23 Jul 2012 06:14:39 -0700 (PDT)
In-Reply-To: <500D107A.6060207@ice-sa.com>
References: <CAEBM2D1Jv8MrfgTP9bC2cx9WnfUGX7GfQNeaTWD3AZz-ThP=-g@mail.gmail.com>
	<CAEBM2D22s9cE4yBjJ6RJsNVZo7T31wDw2Yg+2Rs8Yw0zAHg51Q@mail.gmail.com>
	<500D107A.6060207@ice-sa.com>
Date: Mon, 23 Jul 2012 18:44:39 +0530
Message-ID: <CAEBM2D3-7_b935+BDr70q3TTHx3PcbdSwTt9p3aF2KT0Bf0oCQ@mail.gmail.com>
Subject: Re: Tomcat error -54
From: Kavya C B <kavya.heggere@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6d647b63e41f904c57f07a4
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d647b63e41f904c57f07a4
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

While checking the logs i got the following error :

Following error is seen in the tomcat log files.

" [Mon Feb 28 06:33:29 2011] [jk_ajp_common.c (1146)]: ERROR sending data
to client. Connection aborted or network problems [Mon Feb 28 06:33:29
2011] [jk_ajp_common.c (1462)]: ERROR: Client connection aborted or network
problems ".

On Mon, Jul 23, 2012 at 2:21 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Kavya C B wrote:
>
>> Can you tell, why this error is coming :
>>>
>>>  can't receive the response message from tomcat, network
>>>
>>>> problems or tomcat is down (10.182.18.2:8009), err=3D-54
>>>>>
>>>>
>>>
>>>
>>
> Despite the total lack of information provided, and thus borrowing Pid's
> crystal ball for a moment, I would guess that this is a message written t=
o
> a logfile, by some webserver-to-Tomcat AJP connector.
> As to what it means, I believe it is quite explicit.
> What part of it do you not understand ?
>
> If you'd like more information and less guesses, may I suggest that you
> provide at least some details about your configuration, about where you
> found the above message, and a few additional lines of the logfile prior =
to
> the above ?
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--0016e6d647b63e41f904c57f07a4--

From users-return-235605-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 14:50:55 2012
Return-Path: <users-return-235605-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1A5F9030
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 14:50:55 +0000 (UTC)
Received: (qmail 8611 invoked by uid 500); 23 Jul 2012 14:50:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8232 invoked by uid 500); 23 Jul 2012 14:50:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8201 invoked by uid 99); 23 Jul 2012 14:50:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 14:50:51 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 14:50:42 +0000
Received: from [10.0.110.6] ([192.168.10.29])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6NEoKGT008691
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:50:21 +0200 (CEST)
Message-ID: <500D649D.3060408@kippdata.de>
Date: Mon, 23 Jul 2012 16:50:05 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Configure CSRFPreventionFilter in 6.0.35
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com> <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com>  <500D22F8.8090409@kippdata.de> <500D3799.7000800@apache.org>
In-Reply-To: <500D3799.7000800@apache.org>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

On 23.07.2012 13:38, Mark Thomas wrote:
> On 23/07/2012 11:10, Rainer Jung wrote:
>> The cluster needs to be able to serialize sessions in order to replicate
>> them over the network. The message indicates, that the sesison attribute
>> org.apache.catalina.filters.CSRF_NONCE used by the CSRF filter is not
>> serializable.
>>
>> You might
>>
>> - open an issue in the Tomcat bugzilla in order to get that fixed or
>> documented (cluster compatibility of the filter)
>
> This is already fixed in 7.0.x and trunk. I have proposed the same fix
> for 6.0.x.

Tnanks and sorry Mark, hadn't looked that up and somehow forgot about 
it. Thought it would be a good opportunity for propaganda for the 
session attribute replication filter ;)

Regards,

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235606-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 15:04:49 2012
Return-Path: <users-return-235606-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA42E90B6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 15:04:49 +0000 (UTC)
Received: (qmail 51268 invoked by uid 500); 23 Jul 2012 15:04:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51094 invoked by uid 500); 23 Jul 2012 15:04:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51067 invoked by uid 99); 23 Jul 2012 15:04:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 15:04:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 15:04:37 +0000
Received: from [192.168.245.129] (p549E90BB.dip0.t-ipconnect.de [84.158.144.187])
	by tor.combios.es (Postfix) with ESMTPA id D1E21DA06E7
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 17:04:04 +0200 (CEST)
Message-ID: <500D67E3.6040207@ice-sa.com>
Date: Mon, 23 Jul 2012 17:04:03 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat error -54
References: <CAEBM2D1Jv8MrfgTP9bC2cx9WnfUGX7GfQNeaTWD3AZz-ThP=-g@mail.gmail.com>	<CAEBM2D22s9cE4yBjJ6RJsNVZo7T31wDw2Yg+2Rs8Yw0zAHg51Q@mail.gmail.com>	<500D107A.6060207@ice-sa.com> <CAEBM2D3-7_b935+BDr70q3TTHx3PcbdSwTt9p3aF2KT0Bf0oCQ@mail.gmail.com>
In-Reply-To: <CAEBM2D3-7_b935+BDr70q3TTHx3PcbdSwTt9p3aF2KT0Bf0oCQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Kavya C B wrote:
> While checking the logs i got the following error :
> 
> Following error is seen in the tomcat log files.
> 
> " [Mon Feb 28 06:33:29 2011] [jk_ajp_common.c (1146)]: ERROR sending data
> to client. Connection aborted or network problems [Mon Feb 28 06:33:29
> 2011] [jk_ajp_common.c (1462)]: ERROR: Client connection aborted or network
> problems ".

Unless you have a very slow server and very patient clients, I doubt that this line has 
anything to do with the present issue.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235607-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 15:38:16 2012
Return-Path: <users-return-235607-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37360DF60
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 15:38:16 +0000 (UTC)
Received: (qmail 59719 invoked by uid 500); 23 Jul 2012 15:38:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59395 invoked by uid 500); 23 Jul 2012 15:38:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58953 invoked by uid 99); 23 Jul 2012 15:38:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 15:38:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 15:38:04 +0000
Received: from mail.homeinbox.net ([2.24.200.92])
	by mwinf5d55 with ME
	id drdi1j00H206ZgJ03rdiQ9; Mon, 23 Jul 2012 17:37:43 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 73ACAEAB74A
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:37:42 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Hlx-8mNzs5H5 for <users@tomcat.apache.org>;
	Mon, 23 Jul 2012 16:37:28 +0100 (BST)
Received: from [192.168.23.205] (unknown [2.24.200.92])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 6532BEAB739
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:37:28 +0100 (BST)
References: <CACeZ_Me=XowUMMqWVwnJKzeM6BAuE3zOsAbP1xdxzHENgpkxwQ@mail.gmail.com> <CACeZ_MdK=PoMstNi14Yphq0hi=3EWMMxfSV7NJ4WGt7z8jN_kg@mail.gmail.com> <500D22F8.8090409@kippdata.de> <500D3799.7000800@apache.org> <500D649D.3060408@kippdata.de>
User-Agent: K-9 Mail for Android
In-Reply-To: <500D649D.3060408@kippdata.de>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Configure CSRFPreventionFilter in 6.0.35
From: Mark Thomas <markt@apache.org>
Date: Mon, 23 Jul 2012 16:37:27 +0100
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <97ee3805-a77b-4262-9c6e-f340507431ec@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Rainer Jung <rainer.jung@kippdata.de> wrote:

>On 23.07.2012 13:38, Mark Thomas wrote:
>> On 23/07/2012 11:10, Rainer Jung wrote:
>>> The cluster needs to be able to serialize sessions in order to
>replicate
>>> them over the network. The message indicates, that the sesison
>attribute
>>> org.apache.catalina.filters.CSRF_NONCE used by the CSRF filter is
>not
>>> serializable.
>>>
>>> You might
>>>
>>> - open an issue in the Tomcat bugzilla in order to get that fixed or
>>> documented (cluster compatibility of the filter)
>>
>> This is already fixed in 7.0.x and trunk. I have proposed the same
>fix
>> for 6.0.x.
>
>Tnanks and sorry Mark, hadn't looked that up and somehow forgot about 
>it. Thought it would be a good opportunity for propaganda for the 
>session attribute replication filter ;)
>
>Regards,
>
>Rainer
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org

No need to apologise. The filter is a useful one and it is good to increase awareness.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235608-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 16:13:04 2012
Return-Path: <users-return-235608-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FD98D0D0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 16:13:04 +0000 (UTC)
Received: (qmail 76158 invoked by uid 500); 23 Jul 2012 16:13:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76112 invoked by uid 500); 23 Jul 2012 16:13:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76102 invoked by uid 99); 23 Jul 2012 16:13:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:13:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of obimikenobi@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:12:53 +0000
Received: by wgbdr1 with SMTP id dr1so5200103wgb.0
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 09:12:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=llmNq7gsgmz7oS67hXBpZt6GbMjOHdXVIAGmU57NT9E=;
        b=kKC9LWNFsYktc1KO483KLjzDhSDMEZKY8LiLGQLigRjwbkXcDR+jt58ZJAoUWJBlEN
         jQXqewSDiIrdyi0tK/uoAh5nn9PeEcmQLznEdIR8T0O3CSdMvZmH+vD/1tnJqglEjPHn
         bqh3OWJUpcyhU+f9N2dpwsVyiTmEGmE/hvoc64Pa0to3rG5d+0vaNvRZsCLX49xmt3N6
         b37uJUPpIReUScbrUBEMm9GvKME0t53tWGOJfSbE1PrMVW1liE20NwIVgEQACJUNl4qi
         vytbojmG1hYCtqwUrjSalBMNZy2UwhiBL3ARbqbW+HSMKZ68Xb92B+obfOcQIVumpaEI
         aixg==
MIME-Version: 1.0
Received: by 10.216.139.15 with SMTP id b15mr8708706wej.169.1343059953043;
 Mon, 23 Jul 2012 09:12:33 -0700 (PDT)
Received: by 10.216.231.231 with HTTP; Mon, 23 Jul 2012 09:12:33 -0700 (PDT)
Date: Mon, 23 Jul 2012 11:12:33 -0500
Message-ID: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
Subject: Run TomEE as a daemon
From: Miguel Bandala <obimikenobi@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=0016e6d58d9269c9ac04c58183da

--0016e6d58d9269c9ac04c58183da
Content-Type: text/plain; charset=ISO-8859-1

Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've been trying
lots of times and havent success.
Does anyone knows how to do this procedure step by step.
I've follow this tutorial:
http://openejb.apache.org/unix-daemon.html

but at the end, i got the follow results:

Cannot locate Java Home
The most curious is that I previously "set" the java home with ./configure
--with- java="/usr/lib/jvm/..."
And I really dont know why, I got the result above.

--0016e6d58d9269c9ac04c58183da--

From users-return-235609-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 16:25:28 2012
Return-Path: <users-return-235609-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4100D86C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 16:25:28 +0000 (UTC)
Received: (qmail 16939 invoked by uid 500); 23 Jul 2012 16:25:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16812 invoked by uid 500); 23 Jul 2012 16:25:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16784 invoked by uid 99); 23 Jul 2012 16:25:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:25:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.7 as permitted sender)
Received: from [206.46.173.7] (HELO vms173007pub.verizon.net) (206.46.173.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:25:13 +0000
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173007.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M7M001YLG8QE3P0@vms173007.mailsrvcs.net> for
 users@tomcat.apache.org; Mon, 23 Jul 2012 11:24:27 -0500 (CDT)
Message-id: <500D7AB9.5010200@verizon.net>
Date: Mon, 23 Jul 2012 12:24:25 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Run TomEE as a daemon
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
In-reply-to:
 <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 7/23/2012 12:12 PM, Miguel Bandala wrote:
> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've been trying

What is TomEE?


> lots of times and havent success.
> Does anyone knows how to do this procedure step by step.
> I've follow this tutorial:
> http://openejb.apache.org/unix-daemon.html
>
> but at the end, i got the follow results:
>
> Cannot locate Java Home
> The most curious is that I previously "set" the java home with ./configure
> --with- java="/usr/lib/jvm/..."
> And I really dont know why, I got the result above.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235610-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 16:42:46 2012
Return-Path: <users-return-235610-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A92629EF8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 16:42:46 +0000 (UTC)
Received: (qmail 73649 invoked by uid 500); 23 Jul 2012 16:42:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73587 invoked by uid 500); 23 Jul 2012 16:42:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73576 invoked by uid 99); 23 Jul 2012 16:42:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:42:43 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of latha.sivasubramaniam@aspect.com)
Received: from [216.6.210.37] (HELO bos1sophos4.aspect.com) (216.6.210.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 16:42:37 +0000
Received: from bos1sophos4.aspect.com (localhost.localdomain [127.0.0.1])
	by localhost (Email Security Appliance) with SMTP id 8625C6D0778_0D7F4CB
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:43:56 +0000 (GMT)
Received: from IOrelay.aspect.com (bos1hub02.aspect.com [10.129.5.49])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(Client did not present a certificate)
	by bos1sophos4.aspect.com (Sophos Email Appliance) with ESMTPS id 68CE66D06B5_0D7F4BF
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:43:55 +0000 (GMT)
Received: from BOS1MDB03.aspect.com ([fe80::5512:31dc:e9ff:77dd]) by
 BOS1HUB02.aspect.com ([10.129.5.49]) with mapi id 14.01.0289.001; Mon, 23 Jul
 2012 12:42:14 -0400
From: "Sivasubramaniam, Latha" <latha.sivasubramaniam@aspect.com>
To: Tomcat Users List <users@tomcat.apache.org>
CC: "Samala, Praveen" <Praveen.Samala@Aspect.com>, Pandurangan Krishnakumar
	<krishnakumar.pandurangan@aspect.com>
Subject: RE: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Topic: Certificate chain does not seem to work and no errors in the
 tomcat logs
Thread-Index: Ac1keXBubkP6ngovSiuf3acjnItznAAo5+IAAAcMYmAABHOwEAAI1wCgAODDOLA=
Date: Mon, 23 Jul 2012 16:42:13 +0000
Message-ID: <E45D7E266D032B48806886CF55A691E11C41AEA8@BOS1MDB03.aspect.com>
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com>
 <5006D8B8.40203@christopherschultz.net>   
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.129.5.129]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

VGhpcyBpc3N1ZSBnb3QgcmVzb2x2ZWQsIHRoZSBwcml2YXRlIGtleSB3YXMgbm90IHByZXNlbnQg
aW4gdGhlIEpLUyBmaWxlLiBPbmNlIHdlIGdvdCB0aGUgcGZ4IGZpbGUgZnJvbSB0aGUgY3VzdG9t
ZXIgYW5kIHBvaW50ZWQgdG8gdGhhdCBpbiB0aGUgc2VydmVyLnhtbCBmaWxlLCBhcHBsaWNhdGlv
biBzdGFydGVkIHdvcmtpbmcuIFdoZW4gd2UgaW1wb3J0ZWQgdGhlIGNlcnRpZmljYXRlICguY2Vy
IGZpbGUpLCBrZXl0b29sIHV0aWxpdHkgZGlkIG5vdCBjb21wbGFpbiB0aGUgcHJpdmF0ZSBrZXkg
aXMgbm90IHByZXNlbnQuIEFsc28gd2hlbiBicm93c2VyIG1ha2VzIGEgcmVxdWVzdCB0aGVyZSB3
YXMgbm8gZXJyb3IgbWVzc2FnZXMvbm8gaW5kaWNhdGlvbiBpbiB0aGUgdG9tY2F0LCB0aGVyZSB3
YXMgbm8gcmVzcG9uc2UgZnJvbSB0aGUgdG9tY2F0IHNlcnZlci4gIEFueSBjb21tZW50cyBvbiB0
aGlzIHBsZWFzZS4NCg0KLUxhdGhhDQoNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZy
b206IFNpdmFzdWJyYW1hbmlhbSwgTGF0aGEgDQpTZW50OiBXZWRuZXNkYXksIEp1bHkgMTgsIDIw
MTIgMTo1NiBQTQ0KVG86ICdUb21jYXQgVXNlcnMgTGlzdCcNCkNjOiBTYW1hbGEsIFByYXZlZW47
IFBhbmR1cmFuZ2FuIEtyaXNobmFrdW1hcg0KU3ViamVjdDogUkU6IENlcnRpZmljYXRlIGNoYWlu
IGRvZXMgbm90IHNlZW0gdG8gd29yayBhbmQgbm8gZXJyb3JzIGluIHRoZSB0b21jYXQgbG9ncw0K
DQpXZSB0cmllZCB3aXRoIEZpcmVmb3gsIHRoYXQgZGlkIG5vdCB3b3JrIGVpdGhlci4NCg0KLS0t
LS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFNpdmFzdWJyYW1hbmlhbSwgTGF0aGENClNl
bnQ6IFdlZG5lc2RheSwgSnVseSAxOCwgMjAxMiAxOjU1IFBNDQpUbzogJ1RvbWNhdCBVc2VycyBM
aXN0Jw0KQ2M6IFNhbWFsYSwgUHJhdmVlbjsgUGFuZHVyYW5nYW4gS3Jpc2huYWt1bWFyDQpTdWJq
ZWN0OiBSRTogQ2VydGlmaWNhdGUgY2hhaW4gZG9lcyBub3Qgc2VlbSB0byB3b3JrIGFuZCBubyBl
cnJvcnMgaW4gdGhlIHRvbWNhdCBsb2dzDQoNCkNvbm5lY3RvciBzdHJpbmcNCg0KDQo8Q29ubmVj
dG9yIHBvcnQ9Ijk4ODMiIHByb3RvY29sPSJvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDEx
TmlvUHJvdG9jb2wiIG1heEh0dHBIZWFkZXJTaXplPSI4MTkyIiBTU0xFbmFibGVkPSJ0cnVlIiBt
YXhUaHJlYWRzPSI4MDAiIGVuYWJsZUxvb2t1cHM9ImZhbHNlIiBkaXNhYmxlVXBsb2FkVGltZW91
dD0idHJ1ZSIgYWNjZXB0Q291bnQ9IjIwMCIgc2NoZW1lPSJodHRwcyIgc2VjdXJlPSJ0cnVlIiBj
bGllbnRBdXRoPSJmYWxzZSIgVVJJRW5jb2Rpbmc9IlVURi04IiBrZXlzdG9yZUZpbGU9IkQ6XFBy
b2dyYW0gRmlsZXMgKHg4NilcQXNwZWN0IFNvZnR3YXJlXFJlYWwtVGltZSBSZXBvcnRpbmcgU2Vy
dmVyXFN1bkpWTVxqcmVcbGliXHNlY3VyaXR5XGtleXN0b3JlcnRyc2VsZjIwNDguamtzIiBrZXlz
dG9yZVBhc3M9ImNoYW5nZWl0IiBrZXlzdG9yZVR5cGU9IkpLUyIgLz4NCg0KVGhhbmtzLA0KTGF0
aGENCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFNpdmFzdWJyYW1hbmlhbSwg
TGF0aGENClNlbnQ6IFdlZG5lc2RheSwgSnVseSAxOCwgMjAxMiA5OjI2IEFNDQpUbzogVG9tY2F0
IFVzZXJzIExpc3QNCkNjOiBTYW1hbGEsIFByYXZlZW47IFBhbmR1cmFuZ2FuIEtyaXNobmFrdW1h
cg0KU3ViamVjdDogUkU6IENlcnRpZmljYXRlIGNoYWluIGRvZXMgbm90IHNlZW0gdG8gd29yayBh
bmQgbm8gZXJyb3JzIGluIHRoZSB0b21jYXQgbG9ncw0KDQpUaGFua3MgZm9yIHlvdXIgIHJlc3Bv
bnNlIENocmlzdG9waGVyLiANCg0KV2UgaGF2ZSByZXF1ZXN0ZWQgY3VzdG9tZXIgdG8gaW5zdGFs
bCBmaXJlZm94LiAgV2UgYXJlIHVzaW5nIFNTTCBhbmQgSSB3aWxsIGdldCB0aGUgY29ubmVjdG9y
IGNvbmZpZ3VyYXRpb24gb25jZSBJIGdldCBhY2Nlc3MgdG8gdGhlIHN5c3RlbS4gDQpMb2cgbGV2
ZWwgaXMgY2hhbmdlZCB0byBGSU5FIGluIHRoZSBsb2dnaW5nLnByb3BlcnRpZXMgYnV0IHdlIGRv
bid0IHNlZW0gdG8gZ2V0IGFueXRoaW5nIHJlbGF0ZWQgdG8gdGhlIGNlcnRpZmljYXRlIGFuZCB0
aGUgc2FtZSB3aGVuIHdlIHN0YXJ0IHRvbWNhdC4gSSB3aWxsIGNoZWNrIHRoZSBsb2cgY29udGVu
dHMgYW5kIHBvc3QgaWYgdGhlIHJlbGV2YW50IGxpbmVzLg0KDQpUaGFua3MsDQpMYXRoYQ0KDQot
LS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogQ2hyaXN0b3BoZXIgU2NodWx0eiBbbWFp
bHRvOmNocmlzQGNocmlzdG9waGVyc2NodWx0ei5uZXRdDQpTZW50OiBXZWRuZXNkYXksIEp1bHkg
MTgsIDIwMTIgODo0MCBBTQ0KVG86IFRvbWNhdCBVc2VycyBMaXN0DQpTdWJqZWN0OiBSZTogQ2Vy
dGlmaWNhdGUgY2hhaW4gZG9lcyBub3Qgc2VlbSB0byB3b3JrIGFuZCBubyBlcnJvcnMgaW4gdGhl
IHRvbWNhdCBsb2dzDQoNCi0tLS0tQkVHSU4gUEdQIFNJR05FRCBNRVNTQUdFLS0tLS0NCkhhc2g6
IFNIQTENCg0KTGF0aGEsDQoNCk9uIDcvMTcvMTIgODoyMCBQTSwgU2l2YXN1YnJhbWFuaWFtLCBM
YXRoYSB3cm90ZToNCj4gSSBhbSBoYXZpbmcgaXNzdWVzIHdpdGggdGhlIFNTTCBjZXJ0aWZpY2F0
ZSBjaGFpbiB0aGUgaHR0cHMgcmVxdWVzdHMgDQo+IGZyb20gdGhlIElFOCBicm93c2VyIGRvZXMg
bm90IGdldCBhbnkgcmVzcG9uc2UuICBGb2xsb3dpbmcgYXJlIHRoZSANCj4gZGV0YWlscyBhbmQg
YW55IGhlbHAgaXMgYXBwcmVjaWF0ZWQuIFRoaXMgaXMgaW4gb25lIG9mIG91ciBjdXN0b21lciAN
Cj4gaW1wbGVtZW50YXRpb24uDQo+IA0KPiBUb21jYXQgdmVyc2lvbjogNi4wLjI5IE9TOiBXaW5k
b3dzIDIwMDggQnJvd3NlcjogSUU4IENlcml0aWZpY2F0ZSBrZXkNCj4gc2l6ZTogMjA0OCBhbmQg
dGhlIHNlcnZlciBjZXJ0aWZpY2F0ZSBpcyA0dGggbGV2ZWwgaW4gdGhlIGNoYWluLg0KDQpXaGF0
IGFib3V0IG90aGVyIHdlYiBicm93c2Vycz8gSXMgaXQgb25seSBNU0lFOCB0aGF0IGlzIGdpdmlu
ZyB5b3UgcHJvYmxlbXMsIG9yIGNhbiB5b3Ugbm90IGNvbm5lY3QgZnJvbSBhbnkgYnJvd3Nlci9j
bGllbnQ/DQoNCj4gSSBoYXZlIHRyaWVkIGZvbGxvd2luZyBkaWZmZXJlbnQgdGhpbmdzLg0KPiAN
Cj4gKiAgICAgICAgIEltcG9ydGVkIGNoYWluIGFuZCB0aGUgc2VydmVyIGNlcnRpZmljYXRlIHRv
IG15IGtleXN0b3JlIA0KPiBhbmQgc2V0IGtleXN0b3JlIHByb3BlcnRpZXMgaW4gdGhlIHNlcnZl
ci54bWwNCg0KUGxlYXNlIHBvc3QgeW91ciA8Q29ubmVjdG9yPiBjb25maWd1cmF0aW9uLiBBbHNv
LCBhcmUgeW91IHVzaW5nIEFQUiBmb3IgU1NMPw0KDQpXaGVuIHlvdSBpbXBvcnRlZCB0aGUgY2Vy
dGlmaWNhdGUgY2hhaW4sIGRpZCB5b3UgaW1wb3J0IGFsbCA0IGNlcnRpZmljYXRlcz8gKFlvdSBt
YXkgbm90IG5lZWQgdGhlIHRvcC1sZXZlbCBDQSBvbmUsIGFzIGl0IHdhcyBwcm9iYWJseSBhbHJl
YWR5IHRydXN0ZWQgYnkgdGhlIEpWTSkuDQoNCj4gKiAgICAgICAgIEltcG9ydGVkIGNlcnRpZmlj
YXRlIGNoYWluIHRvIGNhY2VydHMgYW5kIGltcG9ydGVkDQo+IHNlcnZlciBjZXJ0aWZpY2F0ZSB0
byBteSBvd24ga2V5c3RvcmUgYW5kIHNwZWZpY2llZCBrZXlzdG9yZSANCj4gcHJvcGVydGllcyBp
biB0aGUgc2VydmVyLnhtbA0KPiANCj4gKiAgICAgICAgIEltcG9ydGVkIGNlcnRpZmljYXRlIGNo
YWluIHRvIG15IG93biB0cnVzdGVkIGtleXN0b3JlIGluIA0KPiBhZGRpdGlvbiB0byB0aGUgY2Fj
ZXJ0cyBhbmQgc2VydmVyIGNlcnRpZmljYXRlIHRvIGFub3RoZXIga2V5c3RvcmUsIA0KPiBzcGVj
aWZpZWQgYm90aCB0cnVzdGtleXN0b3JlIGFuZCBrZXlzdG9yZSBwcm9wZXJ0aWVzIGluIHRoZSBz
ZXJ2ZXIueG1sDQo+IA0KPiBOb25lIG9mIHRoZSBhYm92ZSBpcyB3b3JraW5nLg0KPiANCj4gSSBn
ZW5lcmF0ZWQgc2VsZnNpZ25lZCBjZXJ0aWZpY2F0ZSBhbmQgdGhhdCBpcyB3b3JraW5nLg0KDQpU
aGF0IGlzIGdvb2QgdG8ga25vdy4NCg0KPiBXZSBoYXZlIHdpbmRvd3MgYmFzZWQgY29tcG9uZW50
cyB1c2luZyB0aGUgc2FtZSBjZXJ0aWZpY2F0ZSBvbiB0aGUgDQo+IHNhbWUgc2VydmVyLCBjZXJ0
aWZpY2F0ZXMgaW1wb3J0ZWQgb24gdG8gdGhlIHdpbmRvd3MgY2VydG1nciBhbmQgdGhvc2UgDQo+
IGNvbXBvbmVudHMgYXJlIHdvcmtpbmcuIEJ1dCB0aGUgc2FtZSBjZXJ0aWZpY2F0ZSBpcyBub3Qg
d29ya2luZyBvbiB0aGUgDQo+IEphdmEgYmFzZWQgY29tcG9uZW50cy4NCj4gDQo+IEkgZG8gbm90
IHNlZSBhbnkgZXJyb3JzIGluIHRoZSB0b21jYXQgbG9ncy4NCg0KRG8geW91IGdldCBhbnkgb3V0
cHV0IGF0IGFsbCB3aGVuIHlvdSBsYXVuY2ggVG9tY2F0Pw0KDQo+IEhvdyBjYW4gSSBnZXQgYWRk
aXRpb25hbCBsb2dnaW5nIHRvIHNlZSB3aGF0IGlzIGhhcHBlbmluZz8gSXMgdGhlcmUgDQo+IGFu
eSBrbm93biBpc3N1ZSB3aXRoIHRoZSBjZXJ0aWZpY2F0ZSBjaGFpbiAoIEkgZGlkIG5vdCBmaW5k
IGFueSBpbiB0aGUgDQo+IGJ1ZyBsaXN0KQ0KDQpZb3UgY2FuIGNoYW5nZSB0aGUgbG9nIGxldmVs
IGZyb20gSU5GTyB0byBERUJVRyBvciBGSU5FLiBMb29rIGF0IGNvbmYvbG9nZ2luZy5wcm9wZXJ0
aWVzLg0KDQotIC1jaHJpcw0KLS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0NClZlcnNpb246
IEdudVBHL01hY0dQRzIgdjIuMC4xNyAoRGFyd2luKQ0KQ29tbWVudDogR1BHVG9vbHMgLSBodHRw
Oi8vZ3BndG9vbHMub3JnDQpDb21tZW50OiBVc2luZyBHbnVQRyB3aXRoIE1vemlsbGEgLSBodHRw
Oi8vZW5pZ21haWwubW96ZGV2Lm9yZy8NCg0KaUVZRUFSRUNBQVlGQWxBRzJMY0FDZ2tROUNhTzUv
THYwUEN1TkFDYUFxMFZKZTlqbTlub2MyQ2VMRnJ3cUIvRg0KcS84QW5pZVFFMGJVUzRtbm9vdWRP
eTc5cEdKV0N6ekoNCj13RXRMDQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0NCg0KLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQu
YXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogdXNlcnMtaGVscEB0
b21jYXQuYXBhY2hlLm9yZw0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235611-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 18:26:21 2012
Return-Path: <users-return-235611-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66B3499E6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 18:26:21 +0000 (UTC)
Received: (qmail 94867 invoked by uid 500); 23 Jul 2012 18:26:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94815 invoked by uid 500); 23 Jul 2012 18:26:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94806 invoked by uid 99); 23 Jul 2012 18:26:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:26:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:26:09 +0000
X-Envelope-From: bubi@charmides.in-berlin.de
X-Envelope-To: <users@tomcat.apache.org>
Received: from [192.168.2.101] (p5B3D443B.dip.t-dialin.net [91.61.68.59])
	(authenticated bits=0)
	by einhorn.in-berlin.de (8.13.6/8.13.6/Debian-1) with ESMTP id q6NIPk7R029764
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 20:25:46 +0200
Subject: Re: Run TomEE as a daemon
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
From: "burghard.britzke" <bubi@charmides.in-berlin.de>
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPhone Mail (9B206)
In-Reply-To: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
Message-Id: <4E92C06F-2C10-448C-BF6A-65B670A96D1B@charmides.in-berlin.de>
Date: Mon, 23 Jul 2012 20:25:46 +0200
To: Tomcat Users List <users@tomcat.apache.org>
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
X-Scanned-By: MIMEDefang_at_IN-Berlin_e.V. on 192.109.42.8
X-Virus-Checked: Checked by ClamAV on apache.org

export JAVA_HOME=[Location of Java installaation] (for bash-like shell)
or
setenv ${JAVA_HOME} [Location of Java installaation]  (for csh or tcsh)

Then Rey again.

Is Java installed on your machine?

burghard@iSir

Am 23.07.2012 um 18:12 schrieb Miguel Bandala <obimikenobi@gmail.com>:

> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've been trying
> lots of times and havent success.
> Does anyone knows how to do this procedure step by step.
> I've follow this tutorial:
> http://openejb.apache.org/unix-daemon.html
> 
> but at the end, i got the follow results:
> 
> Cannot locate Java Home
> The most curious is that I previously "set" the java home with ./configure
> --with- java="/usr/lib/jvm/..."
> And I really dont know why, I got the result above.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235612-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 18:44:54 2012
Return-Path: <users-return-235612-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8AB09D23
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 18:44:54 +0000 (UTC)
Received: (qmail 67481 invoked by uid 500); 23 Jul 2012 18:44:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67397 invoked by uid 500); 23 Jul 2012 18:44:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67388 invoked by uid 99); 23 Jul 2012 18:44:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:44:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:44:45 +0000
Received: by vbbfn1 with SMTP id fn1so6649374vbb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 11:44:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FcRju4FBL2oIbxx/hNn6HOhlcuusJ/KEHX+sgHXy3z4=;
        b=iGDzmkhYST4/lm2TaEU7im/ef1esrmVIXHYulCmj66dKzlXWBdMUrsKhxtf+Tn0eVR
         HjSz8/iiy/spxiPHXolWcb5wWHtgDbOQ1oZuPNuqjffk8UEyl0UYry+03BiEk2TFlbuI
         O9VPE+4gZj+wXOwa6rZgaC/bLXwGON8pTzybCvS7zgmmQ2Kdqs56eAlN4Zhu8o5hjl8d
         Frg89VOnq5zRuL9dMPYBT+iIq0PrrLFDGqsfEveLy5N9AT1HZ84MHuwxYq0UNGvUWcac
         nguEcLnSfArXVsFdIiqUy+LJafjZaGZyFLCzEr+l+kffseodKQtMXA0SYDpKF2oN511P
         sJuQ==
MIME-Version: 1.0
Received: by 10.220.220.78 with SMTP id hx14mr12856697vcb.23.1343069064154;
 Mon, 23 Jul 2012 11:44:24 -0700 (PDT)
Received: by 10.58.125.99 with HTTP; Mon, 23 Jul 2012 11:44:24 -0700 (PDT)
In-Reply-To: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
Date: Mon, 23 Jul 2012 22:44:24 +0400
Message-ID: <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com>
Subject: Re: Run TomEE as a daemon
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/23 Miguel Bandala <obimikenobi@gmail.com>:
> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've been trying
> lots of times and havent success.
> Does anyone knows how to do this procedure step by step.
> I've follow this tutorial:
> http://openejb.apache.org/unix-daemon.html
>
> but at the end, i got the follow results:
>
> Cannot locate Java Home
> The most curious is that I previously "set" the java home with ./configure
> --with- java="/usr/lib/jvm/..."
> And I really dont know why, I got the result above.

See proper Apache Commons-Daemon jsvc documentation, at
http://commons.apache.org/daemon/jsvc.html

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235613-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 18:46:56 2012
Return-Path: <users-return-235613-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9938D9D2F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 18:46:56 +0000 (UTC)
Received: (qmail 75289 invoked by uid 500); 23 Jul 2012 18:46:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75224 invoked by uid 500); 23 Jul 2012 18:46:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75215 invoked by uid 99); 23 Jul 2012 18:46:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:46:53 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 18:46:47 +0000
Received: from compute3.internal (compute3.nyi.mail.srv.osa [10.202.2.43])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 4EC5E20CCB
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 14:46:26 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute3.internal (MEProxy); Mon, 23 Jul 2012 14:46:26 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date; s=mesmtp; bh=9P07iiCXC4ocH7x38Aqzywt
	g0hQ=; b=hPlFSV1T6p1aM1l1Y2/L2+G4Wbivl9G8RXwfBeTFKTcuPPoXbn7Mb74
	uKYjudFJV0oGGCIWYGb6GsmADgOTkJReEPtEI4/ci/sLXdIRpaJ/zGpWUaIAdoFo
	/5FHXFprYYd0p0HeRURLhz1QKGenLR+8tRA5SWapxxFB/DmhsmiQ=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date; s=smtpout;
	 bh=9P07iiCXC4ocH7x38Aqzywtg0hQ=; b=pVuUHEBzx7MdL1XoNCcCzLFVghOo
	ns1cT8TW2evwmxgyfKZOn3Ljbvfa8ZD4FN2ssk036HpHL6DWzmzaDpTv0QnUl8ON
	hMZjJ9T1lT5I50PYZ6bkFAud0CN1r5jjPhBf1bf5pIDTTWECOcfkqR8KAeBGH4kn
	Y7kOuBRLkal1s+A=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 213C5A0022E; Mon, 23 Jul 2012 14:46:26 -0400 (EDT)
Message-Id: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
X-Sasl-Enc: Syx7IsaoA8eFMFS+jFvnV7HgLaIdpxhPvFfNFn8axejk 1343069186
From: k9157@operamail.com
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: launching Tomcat7 with jsvc.  Want only one Tomcat instance,
 but 'ps' shows two -- or does it? 
Date: Mon, 23 Jul 2012 11:46:26 -0700

I've built/installed Tomcat 7.0.29 from source on linux/64.

I've setup an init.d using jsvc launch, loosely based on the src-bundled
daemon.sh script.

@ tomcat service launch, using out-of-the-box config for now, I see two
listeners on ONE pid,

	netstat -pan --tcp | grep jsvc
		tcp        0      0 :::8080                 :::*        
		           LISTEN      30891/jsvc.exec
		tcp        0      0 :::8009                 :::*        
		           LISTEN      30891/jsvc.exec

but note that actually TWO procs/pids exist,

	ps ax | grep jsvc
		30890 ?        Ss     0:00 jsvc.exec -user tomcat
		-java-home /etc/alternatives/java_sdk -pidfile
		/var/run/tomcat7/tomcat7.pid -classpath
		/usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
		-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
		-Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
		-Djava.endorsed.dirs=
		-Dcatalina.base=/usr/local/tomcat7/build
		-Dcatalina.home=/usr/local/tomcat7/build
		-Djava.io.tmpdir=/var/tmp/tomcat7 -outfile
		/var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10
		org.apache.catalina.startup.Bootstrap

		30891 ?        Sl     0:03 jsvc.exec -user tomcat
		-java-home /etc/alternatives/java_sdk -pidfile
		/var/run/tomcat7/tomcat7.pid -classpath
		/usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
		-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
		-Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
		-Djava.endorsed.dirs=
		-Dcatalina.base=/usr/local/tomcat7/build
		-Dcatalina.home=/usr/local/tomcat7/build
		-Djava.io.tmpdir=/var/tmp/tomcat7 -outfile
		/var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10
		org.apache.catalina.startup.Bootstrap

I want only a *single* instance of tomcat running.

Seeing these TWO pids, is that actually TWO instaces?

Reading @ https://commons.apache.org/daemon/jsvc.html

	How jsvc works
	Jsvc uses 3 processes: a launcher process, a controller process
	and a controlled process. ...

I suspect it's not, and I'm just seeing those ^^^, but wanted to get
some clarification.

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235614-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 19:10:35 2012
Return-Path: <users-return-235614-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7AD69DE5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 19:10:35 +0000 (UTC)
Received: (qmail 38877 invoked by uid 500); 23 Jul 2012 19:10:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38841 invoked by uid 500); 23 Jul 2012 19:10:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38832 invoked by uid 99); 23 Jul 2012 19:10:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:10:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: unknown ~alla (nike.apache.org: encountered unrecognized mechanism during SPF processing of domain of jeffb@cyberxape.com)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:10:26 +0000
Received: by vbbfn1 with SMTP id fn1so6677739vbb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 12:10:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=kLhzYwj14i1kownpm7byQkkFyfN5zmKRBUB+TqBNjlU=;
        b=afeLCq0yPnMQdlTkeuxiwk6cYiz7gXWVH1WV8yK9WsVRMwHg7lia6GXupC3UELDnPL
         9YlmCPlpSKwwfZS3TVOrJhwWCn+si2TyGSLnqhrMG7Cf/Vlsn3MVbXwdX8E1EcTwCUJe
         gefN/MnrgCCqeqKx7dJeSyOVUCAVN8EhwA6U0xtB/z+NA7DCECDQlgbb8Bu56kpJTHkr
         MPu+4vRGtwKtF90XSl5Rd5GriOX7RUDJMacZDj+dj3b+zYVAdD8hvEnjgNPL2nNiQ5j5
         K/0vbXbFQm9cTR9uFhOznzSrGj4z51KUSIXNhHkFWOXPVOysU9xBjyVpYonuwjJsjxWd
         mUFQ==
MIME-Version: 1.0
Received: by 10.220.220.201 with SMTP id hz9mr13348622vcb.30.1343070605007;
 Mon, 23 Jul 2012 12:10:05 -0700 (PDT)
Received: by 10.52.107.196 with HTTP; Mon, 23 Jul 2012 12:10:04 -0700 (PDT)
In-Reply-To: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
Date: Mon, 23 Jul 2012 13:10:04 -0600
Message-ID: <CAMf3F8GrhdLPf1fuDZV7JfaXpAg7_A8qKZQhHE0mg2Vx7E1cAA@mail.gmail.com>
Subject: Re: launching Tomcat7 with jsvc. Want only one Tomcat instance, but
 'ps' shows two -- or does it?
From: Jeff Beard <jeffb@cyberxape.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9cfcd1651dc8004c583feca
X-Gm-Message-State: ALoCoQlX6dxiADHSQCURx39uvGBCpf9+AcfDARe9CxVAsIiJJyfOSr4x5G/R76Apc1RmlvRkvslq

--14dae9cfcd1651dc8004c583feca
Content-Type: text/plain; charset=ISO-8859-1

ps is showing threads as processes, which occurs with some versions of
Linux kernel. The listeners are 2 different threads: an AJP on 8009 and an
HTTP on 8080.



On Mon, Jul 23, 2012 at 12:46 PM, <k9157@operamail.com> wrote:

> I've built/installed Tomcat 7.0.29 from source on linux/64.
>
> I've setup an init.d using jsvc launch, loosely based on the src-bundled
> daemon.sh script.
>
> @ tomcat service launch, using out-of-the-box config for now, I see two
> listeners on ONE pid,
>
>         netstat -pan --tcp | grep jsvc
>                 tcp        0      0 :::8080                 :::*
>                            LISTEN      30891/jsvc.exec
>                 tcp        0      0 :::8009                 :::*
>                            LISTEN      30891/jsvc.exec
>
> but note that actually TWO procs/pids exist,
>
>         ps ax | grep jsvc
>                 30890 ?        Ss     0:00 jsvc.exec -user tomcat
>                 -java-home /etc/alternatives/java_sdk -pidfile
>                 /var/run/tomcat7/tomcat7.pid -classpath
>
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
>
> -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
>
> -Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
>                 -Djava.endorsed.dirs=
>                 -Dcatalina.base=/usr/local/tomcat7/build
>                 -Dcatalina.home=/usr/local/tomcat7/build
>                 -Djava.io.tmpdir=/var/tmp/tomcat7 -outfile
>                 /var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10
>                 org.apache.catalina.startup.Bootstrap
>
>                 30891 ?        Sl     0:03 jsvc.exec -user tomcat
>                 -java-home /etc/alternatives/java_sdk -pidfile
>                 /var/run/tomcat7/tomcat7.pid -classpath
>
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
>
> -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
>
> -Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
>                 -Djava.endorsed.dirs=
>                 -Dcatalina.base=/usr/local/tomcat7/build
>                 -Dcatalina.home=/usr/local/tomcat7/build
>                 -Djava.io.tmpdir=/var/tmp/tomcat7 -outfile
>                 /var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10
>                 org.apache.catalina.startup.Bootstrap
>
> I want only a *single* instance of tomcat running.
>
> Seeing these TWO pids, is that actually TWO instaces?
>
> Reading @ https://commons.apache.org/daemon/jsvc.html
>
>         How jsvc works
>         Jsvc uses 3 processes: a launcher process, a controller process
>         and a controlled process. ...
>
> I suspect it's not, and I'm just seeing those ^^^, but wanted to get
> some clarification.
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9cfcd1651dc8004c583feca--

From users-return-235615-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 19:16:17 2012
Return-Path: <users-return-235615-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD2F89E33
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 19:16:16 +0000 (UTC)
Received: (qmail 63620 invoked by uid 500); 23 Jul 2012 19:16:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63562 invoked by uid 500); 23 Jul 2012 19:16:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63553 invoked by uid 99); 23 Jul 2012 19:16:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:16:13 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:16:07 +0000
Received: from compute5.internal (compute5.nyi.mail.srv.osa [10.202.2.45])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 97F0920CF5
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 15:15:46 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute5.internal (MEProxy); Mon, 23 Jul 2012 15:15:46 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	ncm/2MfJbqmfi+b84Z3AZjlojOQ=; b=KFdfaDOLB19Vh3bbKQupjoQOUvin2Bgr
	0lDehsjeSXBGqZVUJVte5WON/FBENLEW4EPy4aI4cZjNdfxCD5nWWlJl6q1mZXr3
	6ETjsTeECHXQ2EOBtct1gv7hDVcq4/giRCJk/GAxt27TG4xwVk4dCbu6aFDGDhQY
	2URl/aIAnEM=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=ncm/2MfJbqmfi+b84Z3AZjlojOQ=; b=sIO
	RfCp4UmDdg7rD3uO+fin3t60NN3NcoKTrEGOeGXHH1+TwQ5vrM4S9shUrZf7uORt
	+y8uSvgl7xil9ZRgF93JzPdAtjnWJuxgsnMs1mlLOmlD649EwCQrtnckAHKFU+Bp
	hHjz0vI/h8tjtjPUdm8cHonc3l49Go2RFZCkFhNs=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 59F6AA0022E; Mon, 23 Jul 2012 15:15:46 -0400 (EDT)
Message-Id: <1343070946.24786.140661105669805.69830334@webmail.messagingengine.com>
X-Sasl-Enc: 3oI3u+emr9TMbxGY+Ln2zwmRatGI41eC3Raz6CQ7H8wt 1343070946
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <CAMf3F8GrhdLPf1fuDZV7JfaXpAg7_A8qKZQhHE0mg2Vx7E1cAA@mail.gmail.com>
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
 <CAMf3F8GrhdLPf1fuDZV7JfaXpAg7_A8qKZQhHE0mg2Vx7E1cAA@mail.gmail.com>
Subject: Re: launching Tomcat7 with jsvc. Want only one Tomcat instance,
 but 'ps' shows two -- or does it?
Date: Mon, 23 Jul 2012 12:15:46 -0700

Hi

On Mon, Jul 23, 2012, at 01:10 PM, Jeff Beard wrote:
> ps is showing threads as processes, which occurs with some versions of
> Linux kernel. The listeners are 2 different threads: an AJP on 8009 and
> an
> HTTP on 8080.

Ok, so that sounds like one PID per thread, at least according to ps on
this kernel?

If the listeners are on 2 *different* threads, wouldn't they appear
'attached' to two *different* pids, then?

Rather than the same?

> >         netstat -pan --tcp | grep jsvc
> >                 tcp        0      0 :::8080                 :::*  LISTEN      30891/jsvc.exec
> >                 tcp        0      0 :::8009                 :::*  LISTEN      30891/jsvc.exec

I'll admit not being certain of the real import of this displayed info,
if any ...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235616-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 19:40:11 2012
Return-Path: <users-return-235616-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B6A0DA5A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 19:40:11 +0000 (UTC)
Received: (qmail 44248 invoked by uid 500); 23 Jul 2012 19:40:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44105 invoked by uid 500); 23 Jul 2012 19:40:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44095 invoked by uid 99); 23 Jul 2012 19:40:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:40:07 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:40:03 +0000
Received: from compute4.internal (compute4.nyi.mail.srv.osa [10.202.2.44])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 31BE920C53
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 15:39:42 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute4.internal (MEProxy); Mon, 23 Jul 2012 15:39:42 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date; s=mesmtp; bh=cBov6pq4SMXszit7UGLLIn6
	K+AE=; b=EiS0dGJyeabYWv03YeCR3aEtxR4+1n+J/ssTlQijxGLNOyPkxsqyY9o
	NW9EgjNLrLYBlJkt450d1p2J1CEjCsK1snuG4ClIBRWA+Q/3KLUqJm8w2X18KsQ9
	HQATXJX5ZXpdss6va3Ag3aQhWe3XI/ylzLuzpis32bY+Lb9kPhrI=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date; s=smtpout;
	 bh=cBov6pq4SMXszit7UGLLIn6K+AE=; b=qzETh1byQJnQ/sqK6swnm8+HCxfb
	asNRwpYsdhDZCQ4czzk2jgopE4TAWvySu63jfEQ8dJRr7De18oaI1zlu0989/hTZ
	vXn0lp4IJ+4V01uuJwYvVFz6cT99vxZgPdT11Dsc0/ELzGn3t5U6SlgEkDdWg7lJ
	28gwUxXK5pCNk1I=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 0435DA0022E; Mon, 23 Jul 2012 15:39:41 -0400 (EDT)
Message-Id: <1343072381.29218.140661105678213.2C5A4D09@webmail.messagingengine.com>
X-Sasl-Enc: 6MKmmwTqC2e6I07hzjeLMIGgYOZtc52KKQXPV1RfbAkn 1343072381
From: k9157@operamail.com
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: @ Tomcat 7.0.29 shutdown,
 WARNING -> " Acceptor thread [null] failed to unlock. Forcing hard
 socket shutdown".  It the warning a problem, or ignorable?
Date: Mon, 23 Jul 2012 12:39:41 -0700
X-Virus-Checked: Checked by ClamAV on apache.org

I've Tomcat 7.0.29 installed on linux/64.

@ service shutdown,

	sh /etc/init.d/tomcat7 stop

I see in my logs two "WARNING: Acceptor thread [null] failed to unlock.
Forcing hard socket shutdown":

		INFO: Deploying web application directory
		/usr/local/tomcat7/build/webapps/examples
		Jul 23, 2012 11:18:35 AM
		org.apache.catalina.core.ApplicationContext log
		INFO: ContextListener: contextInitialized()
		Jul 23, 2012 11:18:35 AM
		org.apache.catalina.core.ApplicationContext log
		INFO: SessionListener: contextInitialized()
		Jul 23, 2012 11:18:35 AM
		org.apache.catalina.core.ApplicationContext log
		INFO: ContextListener:
		attributeAdded('org.apache.jasper.compiler.TldLocationsCache',
		'org.apache.jasper.compiler.TldLocationsCache@14d6cc5e')
		Jul 23, 2012 11:18:35 AM
		org.apache.catalina.startup.HostConfig deployDirectory
		INFO: Deploying web application directory
		/usr/local/tomcat7/build/webapps/ROOT
		Jul 23, 2012 11:18:35 AM
		org.apache.catalina.startup.HostConfig deployDirectory
		INFO: Deploying web application directory
		/usr/local/tomcat7/build/webapps/host-manager
		Jul 23, 2012 11:18:36 AM
		org.apache.catalina.startup.HostConfig deployDirectory
		INFO: Deploying web application directory
		/usr/local/tomcat7/build/webapps/manager
		Jul 23, 2012 11:18:36 AM
		org.apache.catalina.startup.HostConfig deployDirectory
		INFO: Deploying web application directory
		/usr/local/tomcat7/build/webapps/docs
		Jul 23, 2012 11:18:36 AM
		org.apache.coyote.AbstractProtocol start
		INFO: Starting ProtocolHandler ["http-apr-8080"]
		Jul 23, 2012 11:18:36 AM
		org.apache.coyote.AbstractProtocol start
		INFO: Starting ProtocolHandler ["ajp-apr-8009"]
		Jul 23, 2012 11:18:36 AM
		org.apache.catalina.startup.Catalina start
		INFO: Server startup in 743 ms
		Jul 23, 2012 12:24:12 PM
		org.apache.coyote.AbstractProtocol pause
		INFO: Pausing ProtocolHandler ["http-apr-8080"]
		Jul 23, 2012 12:24:12 PM
		org.apache.coyote.AbstractProtocol pause
		INFO: Pausing ProtocolHandler ["ajp-apr-8009"]
		Jul 23, 2012 12:24:12 PM
		org.apache.catalina.core.StandardService stopInternal
		INFO: Stopping service Catalina
		Jul 23, 2012 12:24:12 PM
		org.apache.catalina.core.ApplicationContext log
		INFO: SessionListener: contextDestroyed()
		Jul 23, 2012 12:24:12 PM
		org.apache.catalina.core.ApplicationContext log
		INFO: ContextListener: contextDestroyed()
		Jul 23, 2012 12:24:12 PM
		org.apache.coyote.AbstractProtocol stop
		INFO: Stopping ProtocolHandler ["http-apr-8080"]
===>            Jul 23, 2012 12:24:22 PM
org.apache.tomcat.util.net.AprEndpoint stopInternal
		WARNING: Acceptor thread [null] failed to unlock.
		Forcing hard socket shutdown.
		Jul 23, 2012 12:24:22 PM
		org.apache.coyote.AbstractProtocol stop
		INFO: Stopping ProtocolHandler ["ajp-apr-8009"]
===>            Jul 23, 2012 12:24:32 PM
org.apache.tomcat.util.net.AprEndpoint stopInternal
		WARNING: Acceptor thread [null] failed to unlock.
		Forcing hard socket shutdown.
		Jul 23, 2012 12:24:32 PM
		org.apache.coyote.AbstractProtocol destroy
		INFO: Destroying ProtocolHandler ["http-apr-8080"]
		Jul 23, 2012 12:24:32 PM
		org.apache.coyote.AbstractProtocol destroy
		INFO: Destroying ProtocolHandler ["ajp-apr-8009"]


I'm not sure how much weight to give these warnings.

Can/should they be ignored?

Or does their cause need to be hunted down and fixed?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235617-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 19:59:45 2012
Return-Path: <users-return-235617-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5B53DAE9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 19:59:45 +0000 (UTC)
Received: (qmail 488 invoked by uid 500); 23 Jul 2012 19:59:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 421 invoked by uid 500); 23 Jul 2012 19:59:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 411 invoked by uid 99); 23 Jul 2012 19:59:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:59:42 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: unknown ~alla (nike.apache.org: encountered unrecognized mechanism during SPF processing of domain of jeffb@cyberxape.com)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 19:59:35 +0000
Received: by vbbfn1 with SMTP id fn1so6728067vbb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 12:59:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=0mkc2RAtGUPQMQ8q6/WsF0mpoISWd3HR+rhQFY/sj50=;
        b=fp65u+NAl07YZpaUx6NhWMs75Sw2DxY50EdbB8vKooIdnjbhKQLl30nQZk7MR4QUEJ
         4kqjzh0FyVKPxg1/8xmorWLdXvYPwKUFmyh5uYd7XBM+VipwwoxUbqGUoxRfdgHZQNt7
         ssz+tfZc6k4w6oLmTO5StGPlJAVzyE/WPW/t6DkmOOTxd7T+A4vN3O+krV09fNdQeeJ+
         ZF4gGGj2khUO+9por3sq5NW7Eqrf0G2jOg5uZ+p1711QfpPF5yiqJ49WDtt3rpTiUOQ7
         EkpT2ERw4XETItnTWhamTmSPMWO2sbNF0uCz+GFO5NSrofgJN/E2Hu0awt3nxb0iW9I0
         9JZw==
MIME-Version: 1.0
Received: by 10.52.70.46 with SMTP id j14mr11899518vdu.111.1343073554381; Mon,
 23 Jul 2012 12:59:14 -0700 (PDT)
Received: by 10.52.107.196 with HTTP; Mon, 23 Jul 2012 12:59:14 -0700 (PDT)
In-Reply-To: <1343070946.24786.140661105669805.69830334@webmail.messagingengine.com>
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
	<CAMf3F8GrhdLPf1fuDZV7JfaXpAg7_A8qKZQhHE0mg2Vx7E1cAA@mail.gmail.com>
	<1343070946.24786.140661105669805.69830334@webmail.messagingengine.com>
Date: Mon, 23 Jul 2012 13:59:14 -0600
Message-ID: <CAMf3F8H6JAixL+1q38GD=1JgwXbqTmTsohandch--aTourBB-w@mail.gmail.com>
Subject: Re: launching Tomcat7 with jsvc. Want only one Tomcat instance, but
 'ps' shows two -- or does it?
From: Jeff Beard <jeffb@cyberxape.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf307f39aa1dbb8604c584ae5b
X-Gm-Message-State: ALoCoQm0+ZkwUJKV4MSrjYmakeARNxsddYW5PbGBLTFuRNgjITkvjQMHieiTnsv3wmsCdNXEM179

--20cf307f39aa1dbb8604c584ae5b
Content-Type: text/plain; charset=ISO-8859-1

Sorry, I didn't read you email close enough and said something stupid. It
appears that you are not seeing multiple threads as procs rather I think
it's a jsvc parent/child pair. It looks like the output of 'ps ax' it
doesn't show the parent PID. I use ps -ef which shows the parent ID. Try
that and see if that's not the case.



On Mon, Jul 23, 2012 at 1:15 PM, <k9157@operamail.com> wrote:

> Hi
>
> On Mon, Jul 23, 2012, at 01:10 PM, Jeff Beard wrote:
> > ps is showing threads as processes, which occurs with some versions of
> > Linux kernel. The listeners are 2 different threads: an AJP on 8009 and
> > an
> > HTTP on 8080.
>
> Ok, so that sounds like one PID per thread, at least according to ps on
> this kernel?
>
> If the listeners are on 2 *different* threads, wouldn't they appear
> 'attached' to two *different* pids, then?
>
> Rather than the same?
>
> > >         netstat -pan --tcp | grep jsvc
> > >                 tcp        0      0 :::8080                 :::*
>  LISTEN      30891/jsvc.exec
> > >                 tcp        0      0 :::8009                 :::*
>  LISTEN      30891/jsvc.exec
>
> I'll admit not being certain of the real import of this displayed info,
> if any ...
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
Jeff Beard
tel: 303 829 0105
fax: 320 923 0105
web: http://jeffbeard.org

--20cf307f39aa1dbb8604c584ae5b--

From users-return-235618-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:06:59 2012
Return-Path: <users-return-235618-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D919DB32
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:06:59 +0000 (UTC)
Received: (qmail 23295 invoked by uid 500); 23 Jul 2012 20:06:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23241 invoked by uid 500); 23 Jul 2012 20:06:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23231 invoked by uid 99); 23 Jul 2012 20:06:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:06:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:06:47 +0000
Received: by bkcji1 with SMTP id ji1so6445692bkc.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 13:06:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=UOwcipbyc6ze4avEkUesX3lzURvzCqKSykKmtJjmqyc=;
        b=FDJiV7fdj4LJtbIUdJARmVYlTEgI3SZy8rSNODs8z7NxWNznhNW9m4kntED38hqhc9
         r3jy9zlnYuj+SpNy+IoziIZbJ6NTVm/c6o2sIOhLARVW0wW4sJPPR2bzyBT65rBBHxBZ
         zK9ZbFr0y8pGk7szNnvZg8CeNynWqVPxpOyMk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=UOwcipbyc6ze4avEkUesX3lzURvzCqKSykKmtJjmqyc=;
        b=N5Lx7eVenWh5kdr6pqyDA553mjcv2XfVJhSEfMjTubx5U8D8Bt92O9NBIoFKbLuezW
         uOxLoBCyF86YEycn5oINj4TCZWG8O3QAFlRlQOWr/jeQ5OCkfZ1STdYKeCMe8nscehHd
         myysbLCUgJYV7bXbaK/+RxOTRZAZwa0oEFKj+1khVfzsrFNylu4FSyILerGQ7pdGVBlX
         SCiyUBwc1O4z8VzUBQ4gvtQEovzcW+PGiiNuyi7Zgb5fSQBbbQYroctRHSWVZZad4xI6
         arMc6AWs40f7eFZsGbWabk/IJOc2+uiWewLdpkqEVhbA4me0rBk1CECm2VD+f4NjIeqp
         ir0g==
Received: by 10.205.132.6 with SMTP id hs6mr8551253bkc.26.1343073986769;
        Mon, 23 Jul 2012 13:06:26 -0700 (PDT)
Received: from [192.168.125.196] (82.166.253.125.fix.netvision.net.il. [82.166.253.125])
        by mx.google.com with ESMTPS id 14sm8935849bkq.12.2012.07.23.13.06.23
        (version=SSLv3 cipher=OTHER);
        Mon, 23 Jul 2012 13:06:25 -0700 (PDT)
Message-ID: <500DAEBF.9000509@pidster.com>
Date: Mon, 23 Jul 2012 23:06:23 +0300
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Certificate chain does not seem to work and no errors in the
 tomcat logs
References: <E45D7E266D032B48806886CF55A691E11C417C45@BOS1MDB03.aspect.com> <5006D8B8.40203@christopherschultz.net> <E45D7E266D032B48806886CF55A691E11C41AEA8@BOS1MDB03.aspect.com>
In-Reply-To: <E45D7E266D032B48806886CF55A691E11C41AEA8@BOS1MDB03.aspect.com>
X-Enigmail-Version: 1.4.3
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigEA2A2CCA2EBC7BC9C3FBF41D"
X-Gm-Message-State: ALoCoQl6dyviKSID4NqGXJKnRcqH2UE3cuHCT7rghzMpflY8VH92V+i6Yh/CyTtlZ28P2O5rVi7i

--------------enigEA2A2CCA2EBC7BC9C3FBF41D
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 23/07/2012 19:42, Sivasubramaniam, Latha wrote:
> This issue got resolved, the private key was not present in the JKS fil=
e. Once we got the pfx file from the customer and pointed to that in the =
server.xml file, application started working. When we imported the certif=
icate (.cer file), keytool utility did not complain the private key is no=
t present. Also when browser makes a request there was no error messages/=
no indication in the tomcat, there was no response from the tomcat server=
=2E  Any comments on this please.

Was Tomcat running?


p

> -Latha
>=20
>=20
> -----Original Message-----
> From: Sivasubramaniam, Latha=20
> Sent: Wednesday, July 18, 2012 1:56 PM
> To: 'Tomcat Users List'
> Cc: Samala, Praveen; Pandurangan Krishnakumar
> Subject: RE: Certificate chain does not seem to work and no errors in t=
he tomcat logs
>=20
> We tried with Firefox, that did not work either.
>=20
> -----Original Message-----
> From: Sivasubramaniam, Latha
> Sent: Wednesday, July 18, 2012 1:55 PM
> To: 'Tomcat Users List'
> Cc: Samala, Praveen; Pandurangan Krishnakumar
> Subject: RE: Certificate chain does not seem to work and no errors in t=
he tomcat logs
>=20
> Connector string
>=20
>=20
> <Connector port=3D"9883" protocol=3D"org.apache.coyote.http11.Http11Nio=
Protocol" maxHttpHeaderSize=3D"8192" SSLEnabled=3D"true" maxThreads=3D"80=
0" enableLookups=3D"false" disableUploadTimeout=3D"true" acceptCount=3D"2=
00" scheme=3D"https" secure=3D"true" clientAuth=3D"false" URIEncoding=3D"=
UTF-8" keystoreFile=3D"D:\Program Files (x86)\Aspect Software\Real-Time R=
eporting Server\SunJVM\jre\lib\security\keystorertrself2048.jks" keystore=
Pass=3D"changeit" keystoreType=3D"JKS" />
>=20
> Thanks,
> Latha
>=20
> -----Original Message-----
> From: Sivasubramaniam, Latha
> Sent: Wednesday, July 18, 2012 9:26 AM
> To: Tomcat Users List
> Cc: Samala, Praveen; Pandurangan Krishnakumar
> Subject: RE: Certificate chain does not seem to work and no errors in t=
he tomcat logs
>=20
> Thanks for your  response Christopher.=20
>=20
> We have requested customer to install firefox.  We are using SSL and I =
will get the connector configuration once I get access to the system.=20
> Log level is changed to FINE in the logging.properties but we don't see=
m to get anything related to the certificate and the same when we start t=
omcat. I will check the log contents and post if the relevant lines.
>=20
> Thanks,
> Latha
>=20
> -----Original Message-----
> From: Christopher Schultz [mailto:chris@christopherschultz.net]
> Sent: Wednesday, July 18, 2012 8:40 AM
> To: Tomcat Users List
> Subject: Re: Certificate chain does not seem to work and no errors in t=
he tomcat logs
>=20
> Latha,
>=20
> On 7/17/12 8:20 PM, Sivasubramaniam, Latha wrote:
>> I am having issues with the SSL certificate chain the https requests=20
>> from the IE8 browser does not get any response.  Following are the=20
>> details and any help is appreciated. This is in one of our customer=20
>> implementation.
>=20
>> Tomcat version: 6.0.29 OS: Windows 2008 Browser: IE8 Ceritificate key
>> size: 2048 and the server certificate is 4th level in the chain.
>=20
> What about other web browsers? Is it only MSIE8 that is giving you prob=
lems, or can you not connect from any browser/client?
>=20
>> I have tried following different things.
>=20
>> *         Imported chain and the server certificate to my keystore=20
>> and set keystore properties in the server.xml
>=20
> Please post your <Connector> configuration. Also, are you using APR for=
 SSL?
>=20
> When you imported the certificate chain, did you import all 4 certifica=
tes? (You may not need the top-level CA one, as it was probably already t=
rusted by the JVM).
>=20
>> *         Imported certificate chain to cacerts and imported
>> server certificate to my own keystore and speficied keystore=20
>> properties in the server.xml
>=20
>> *         Imported certificate chain to my own trusted keystore in=20
>> addition to the cacerts and server certificate to another keystore,=20
>> specified both trustkeystore and keystore properties in the server.xml=

>=20
>> None of the above is working.
>=20
>> I generated selfsigned certificate and that is working.
>=20
> That is good to know.
>=20
>> We have windows based components using the same certificate on the=20
>> same server, certificates imported on to the windows certmgr and those=
=20
>> components are working. But the same certificate is not working on the=
=20
>> Java based components.
>=20
>> I do not see any errors in the tomcat logs.
>=20
> Do you get any output at all when you launch Tomcat?
>=20
>> How can I get additional logging to see what is happening? Is there=20
>> any known issue with the certificate chain ( I did not find any in the=
=20
>> bug list)
>=20
> You can change the log level from INFO to DEBUG or FINE. Look at conf/l=
ogging.properties.
>=20
> -chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enigEA2A2CCA2EBC7BC9C3FBF41D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJQDa7EAAoJEGoM2OGpOvr9ZB0P/RT4wwzmIsYjhX4iMlgHHiD1
9sdoIiuleJg0KzIFRUCf2I56u1Y44Y+YvX2qrxhj0nap2V7wZGhybeRuKnfmwjPo
m6bSNR0yCLLWOvmYfl5FIaYNR6exx+7wMSrGeqLL5eMtsUspwNqPrBG+QvHR8WTd
iq4ah4XK3aIr1UUPpuv6Lr+pj7By/l4xIkNXRXeY6riGFgnqEf9vJ2KtyU8uqrOv
JYQvto8YUwNGIjgiO1I1ktaClePvK4FSh28tpQi4iNw4XnKUQJdCgVfthyXnFPzC
bDl8F1UM4Zq8TfraB9rmQVO377WWoDaai6/yb8oHpdUCgEscZZpJZOzUhEtV/PLH
ZT7eoifQVtb31ejAlJcGl5aCaEKtUqwl9iKrJRKK1L22WUItRsuHZ0GbV7GzpgVk
TXE75r+rumvPVUGz2jaZiNLAv4gQvp5OKI2r1xaTxf8qt4Xt26VLD0UmU3zE0HZh
vIVr55QANk2Wm4DX9jquDm8lSz9UiwOvTuY+7Sv+FpWkPay8KNkS/a/agjQz9kze
tmc1I1OusMfpaSd1AcTY6TPKPHU1uvuLmCLvrwCGGpXWuamlcx1ZPiBZWB05rvqu
SaglE0oBtVI1kiTzHr1dd9YHgA/y+IafO4BkFFFmP7KVbjsvOnYhDCuIBoB77XCx
TMpVQRg+jq/Q+MPZnlVk
=CwZ1
-----END PGP SIGNATURE-----

--------------enigEA2A2CCA2EBC7BC9C3FBF41D--

From users-return-235619-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:15:57 2012
Return-Path: <users-return-235619-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55F99DB69
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:15:57 +0000 (UTC)
Received: (qmail 57099 invoked by uid 500); 23 Jul 2012 20:15:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56983 invoked by uid 500); 23 Jul 2012 20:15:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56974 invoked by uid 99); 23 Jul 2012 20:15:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:15:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:15:44 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id dw9o1j00A1uE5Es5FwFZLS; Mon, 23 Jul 2012 20:15:33 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id dwFW1j00f38FjT13cwFXWe; Mon, 23 Jul 2012 20:15:33 +0000
Message-ID: <500DB0D8.8080706@christopherschultz.net>
Date: Mon, 23 Jul 2012 16:15:20 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: launching Tomcat7 with jsvc.  Want only one Tomcat instance,
 but 'ps' shows two -- or does it?
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
In-Reply-To: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

To whom it mat concern,

On 7/23/12 2:46 PM, k9157@operamail.com wrote:
> I've built/installed Tomcat 7.0.29 from source on linux/64.

Why did you bother to build Tomcat at all? I can see building the
daemon component, but building Tomcat itself is just a waste of time.

> I've setup an init.d using jsvc launch, loosely based on the
> src-bundled daemon.sh script.
> 
> @ tomcat service launch, using out-of-the-box config for now, I see
> two listeners on ONE pid,
> 
> netstat -pan --tcp | grep jsvc tcp        0      0 :::8080
> :::* LISTEN      30891/jsvc.exec tcp        0      0 :::8009
> :::* LISTEN      30891/jsvc.exec

jsvc's job is to allow the controlled process to open ports, so all
ports will owned by the controlling process.

> but note that actually TWO procs/pids exist,
> 
> ps ax | grep jsvc 30890 ?        Ss     0:00 jsvc.exec -user
> tomcat -java-home /etc/alternatives/java_sdk -pidfile 
> /var/run/tomcat7/tomcat7.pid -classpath 
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
>
> 
- -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
> -Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
>
> 
- -Djava.endorsed.dirs=
> -Dcatalina.base=/usr/local/tomcat7/build 
> -Dcatalina.home=/usr/local/tomcat7/build 
> -Djava.io.tmpdir=/var/tmp/tomcat7 -outfile 
> /var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10 
> org.apache.catalina.startup.Bootstrap
> 
> 30891 ?        Sl     0:03 jsvc.exec -user tomcat -java-home
> /etc/alternatives/java_sdk -pidfile /var/run/tomcat7/tomcat7.pid
> -classpath 
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/local/tomcat7/build/bin/tomcat-juli.jar
>
> 
- -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
> -Djava.util.logging.config.file=/usr/local/etc/tomcat7/conf/logging.properties
>
> 
- -Djava.endorsed.dirs=
> -Dcatalina.base=/usr/local/tomcat7/build 
> -Dcatalina.home=/usr/local/tomcat7/build 
> -Djava.io.tmpdir=/var/tmp/tomcat7 -outfile 
> /var/log/tomcat7/tomcat-initd.log -errfile &1 -wait 10 
> org.apache.catalina.startup.Bootstrap
> 
> I want only a *single* instance of tomcat running.

Don't worry, you only have a single instance of Tomcat running. If you
had multiple instances running, you'd have a port conflict, right?

Try this:

$ ps afx

Then, look at the output for 'jsvc' and you should see *three* linked
processes. Since you only looked for 'jsvc' you aren't seeing the
expected 3rd process (which is actually the instance of Tomcat you are
so worried about).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlANsNgACgkQ9CaO5/Lv0PCa3QCfR9gyw6HLIG/FhbB08qHNGInK
FBAAoIXqMtjjaHf8FPWqbGGnSZqc3o8L
=VFcM
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235620-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:17:54 2012
Return-Path: <users-return-235620-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B75E2DB73
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:17:54 +0000 (UTC)
Received: (qmail 65038 invoked by uid 500); 23 Jul 2012 20:17:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64903 invoked by uid 500); 23 Jul 2012 20:17:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64894 invoked by uid 99); 23 Jul 2012 20:17:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:17:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:17:45 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id dw8n1j0040xGWP85EwHTPR; Mon, 23 Jul 2012 20:17:27 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id dwH51j00D38FjT13YwH75P; Mon, 23 Jul 2012 20:17:08 +0000
Message-ID: <500DB151.4000100@christopherschultz.net>
Date: Mon, 23 Jul 2012 16:17:21 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Run TomEE as a daemon
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com> <500D7AB9.5010200@verizon.net>
In-Reply-To: <500D7AB9.5010200@verizon.net>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 7/23/12 12:24 PM, David kerber wrote:
> On 7/23/2012 12:12 PM, Miguel Bandala wrote:
>> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've
>> been trying
> 
> What is TomEE?

Tomcat + EE

http://openejb.apache.org/apache-tomee.html

The TomEE user's list is users@openejb.apache.org and would have been
a better choice for the OP to post a question.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlANsVEACgkQ9CaO5/Lv0PD5AwCcDmu0vNYdlDbVc26V8PU3YI1Y
QfIAoJCMj/n1j1Y8/b/blEzTpdSXX0Tr
=VIg1
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235621-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:21:44 2012
Return-Path: <users-return-235621-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9E52DB9B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:21:43 +0000 (UTC)
Received: (qmail 77030 invoked by uid 500); 23 Jul 2012 20:21:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76829 invoked by uid 500); 23 Jul 2012 20:21:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76573 invoked by uid 99); 23 Jul 2012 20:21:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:21:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:21:28 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id dumU1j00l0vyq2s53wMALi; Mon, 23 Jul 2012 20:21:10 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id dwMC1j00K38FjT13RwMFb2; Mon, 23 Jul 2012 20:21:16 +0000
Message-ID: <500DB22F.4000003@christopherschultz.net>
Date: Mon, 23 Jul 2012 16:21:03 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Run TomEE as a daemon
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com> <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com>
In-Reply-To: <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/23/12 2:44 PM, Konstantin Kolinko wrote:
> 2012/7/23 Miguel Bandala <obimikenobi@gmail.com>:
>> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've
>> been trying lots of times and havent success. Does anyone knows
>> how to do this procedure step by step. I've follow this
>> tutorial: http://openejb.apache.org/unix-daemon.html
>> 
>> but at the end, i got the follow results:
>> 
>> Cannot locate Java Home The most curious is that I previously
>> "set" the java home with ./configure --with-
>> java="/usr/lib/jvm/..." And I really dont know why, I got the
>> result above.
> 
> See proper Apache Commons-Daemon jsvc documentation, at 
> http://commons.apache.org/daemon/jsvc.html

If the TomEE documentation is incorrect, we should help them correct
it. Was this just a knee-jerk reaction to the OP's use of something
other than the super-official commons-daemon jsvc documentation, or is
there a problem with the TomEE stuff?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlANsi8ACgkQ9CaO5/Lv0PDNwQCfdSUhjJKRC2ZAhMRap9ATVEpZ
JZAAoI6PlJrGwsNVYRG8sCsKgzpn9D2E
=zS3i
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235622-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:30:12 2012
Return-Path: <users-return-235622-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48C519B0F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:30:12 +0000 (UTC)
Received: (qmail 12710 invoked by uid 500); 23 Jul 2012 20:30:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12644 invoked by uid 500); 23 Jul 2012 20:30:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12635 invoked by uid 99); 23 Jul 2012 20:30:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:30:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of obimikenobi@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:30:02 +0000
Received: by weyz53 with SMTP id z53so6484641wey.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 13:29:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=I6GEb/oEm+ASiApmpej77xKANNzlAaJFg3qoOK8dhi4=;
        b=zujGt+DYsoW//SczNdJSfhd+8ZJLexetD4OtRKQZr5zcnsssmEl/Fwfxsw+pRGtAUd
         BwfQHAvC9jEk6WGGfT2mR6FOykVra8AWYtvdbWtJmpI6NEQHOdVC6MhsaZRGPwOtsQWD
         Yhma5Nhe/9+yRTrMQCUJvR/gxmAj39Hb9Ps6m45I7NnE+Wv6ubL6HtZ462gXVdOGDS6w
         WKHrq6C0QccrSybKXYRu0cpPk9TvE/3/OtuIoNTqtE76grzY8xqHOK6BqlrvrwKihed9
         l998YovX5HXHqQddSUkfsY56hPE/N8j5CHMwwWrbQO9wR6C3r3IUIhCmaWjmJKtDb2By
         zG5w==
MIME-Version: 1.0
Received: by 10.216.237.193 with SMTP id y43mr9445747weq.75.1343075382329;
 Mon, 23 Jul 2012 13:29:42 -0700 (PDT)
Received: by 10.216.231.231 with HTTP; Mon, 23 Jul 2012 13:29:42 -0700 (PDT)
In-Reply-To: <4E92C06F-2C10-448C-BF6A-65B670A96D1B@charmides.in-berlin.de>
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
	<4E92C06F-2C10-448C-BF6A-65B670A96D1B@charmides.in-berlin.de>
Date: Mon, 23 Jul 2012 15:29:42 -0500
Message-ID: <CAGjs8qShjdsOd3Lmpv6+djWKpzzXGA6FMkVF1_50ysaxJC+XHA@mail.gmail.com>
Subject: Re: Run TomEE as a daemon
From: Miguel Bandala <obimikenobi@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0015175774fe1202d904c5851be0

--0015175774fe1202d904c5851be0
Content-Type: text/plain; charset=ISO-8859-1

Thank you very much, I forgot to add that line the script.

2012/7/23 burghard.britzke <bubi@charmides.in-berlin.de>

> export JAVA_HOME=[Location of Java installaation] (for bash-like shell)
> or
> setenv ${JAVA_HOME} [Location of Java installaation]  (for csh or tcsh)
>
> Then Rey again.
>
> Is Java installed on your machine?
>
> burghard@iSir
>
> Am 23.07.2012 um 18:12 schrieb Miguel Bandala <obimikenobi@gmail.com>:
>
> > Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've been
> trying
> > lots of times and havent success.
> > Does anyone knows how to do this procedure step by step.
> > I've follow this tutorial:
> > http://openejb.apache.org/unix-daemon.html
> >
> > but at the end, i got the follow results:
> >
> > Cannot locate Java Home
> > The most curious is that I previously "set" the java home with
> ./configure
> > --with- java="/usr/lib/jvm/..."
> > And I really dont know why, I got the result above.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--0015175774fe1202d904c5851be0--

From users-return-235623-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 20:37:32 2012
Return-Path: <users-return-235623-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8F599B30
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 20:37:32 +0000 (UTC)
Received: (qmail 37164 invoked by uid 500); 23 Jul 2012 20:37:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37104 invoked by uid 500); 23 Jul 2012 20:37:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37095 invoked by uid 99); 23 Jul 2012 20:37:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:37:29 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 20:37:24 +0000
Received: from compute1.internal (compute1.nyi.mail.srv.osa [10.202.2.41])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id CD443207C7
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 16:37:03 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute1.internal (MEProxy); Mon, 23 Jul 2012 16:37:03 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date:in-reply-to:references; s=mesmtp; bh=
	+kWkc6IzKxWcc91ykvzfxoygtOw=; b=tg4OHNrvOUlzhLXF5gfmdrOdGwtBdGQk
	0ejTLDPjWBbhLLjQnM/IP3CreGKrMGW6yAhn9Cv+sM8c7SL8w4Qgdjj7XJixfMWh
	XYInVxxOTSka7hNAM+LE1HP+LZLzKoVfAK42jfaLFK+dze+bTFxESakfwfGeiriQ
	AIA05wptu8k=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date:in-reply-to
	:references; s=smtpout; bh=+kWkc6IzKxWcc91ykvzfxoygtOw=; b=o/H14
	YnFGjZG7ZaFt7bV79ywUA3g3mQolwe2cVFZ+U/UOF/S8xtMe5FhnNvuZR8fRxHgE
	EKiNXyPMWeTldBohGSw9q2rjXhkBnnwrc4B0Unzld8lX0O4GGGkOu71qlsy3+hsG
	kzeg+LDl7ZcI0d2mSBEXjT4+cBInODxBWI2wBo=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id A1110A0022E; Mon, 23 Jul 2012 16:37:03 -0400 (EDT)
Message-Id: <1343075823.9697.140661105702301.5CAC94CB@webmail.messagingengine.com>
X-Sasl-Enc: +0m8PwwsoyF/IqAE7PHVERlzUiZ/sw3WqbjLolowN+tn 1343075823
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: launching Tomcat7 with jsvc.  Want only one Tomcat instance,
 but 'ps' shows two -- or does it?
Date: Mon, 23 Jul 2012 13:37:03 -0700
In-Reply-To: <500DB0D8.8080706@christopherschultz.net>
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
 <500DB0D8.8080706@christopherschultz.net>
X-Virus-Checked: Checked by ClamAV on apache.org



On Mon, Jul 23, 2012, at 04:15 PM, Christopher Schultz wrote:
> > netstat -pan --tcp | grep jsvc tcp        0      0 :::8080
> > :::* LISTEN      30891/jsvc.exec tcp        0      0 :::8009
> > :::* LISTEN      30891/jsvc.exec
> 
> jsvc's job is to allow the controlled process to open ports, so all
> ports will owned by the controlling process.

Clear, now.

> > I want only a *single* instance of tomcat running.
> 
> Don't worry, you only have a single instance of Tomcat running. If you
> had multiple instances running, you'd have a port conflict, right?
> 
> Try this:
> 
> $ ps afx
> 
> Then, look at the output for 'jsvc' and you should see *three* linked
> processes. Since you only looked for 'jsvc' you aren't seeing the
> expected 3rd process (which is actually the instance of Tomcat you are
> so worried about).

I still see only two:

ps afx 
 20334 ?        Ss     0:00 jsvc.exec -user tomcat -java-home
 /etc/alternatives/java_sdk -pidfile /var/run/tomcat7/tomcat7.pid
 -classpath
 /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/loca
 ...
 20335 ?        Sl     0:03  \_ jsvc.exec -user tomcat -java-home
 /etc/alternatives/java_sdk -pidfile /var/run/tomcat7/tomcat7.pid
 -classpath
 /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/
 ...

No other instance of 'java', 'jsvc' or 'tomcat' in the output.

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235624-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 21:18:50 2012
Return-Path: <users-return-235624-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EDEE9C25
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 21:18:50 +0000 (UTC)
Received: (qmail 47589 invoked by uid 500); 23 Jul 2012 21:18:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47371 invoked by uid 500); 23 Jul 2012 21:18:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47353 invoked by uid 99); 23 Jul 2012 21:18:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:18:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:18:39 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id drbx1j0061ap0As53xJMdk; Mon, 23 Jul 2012 21:18:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id dxJW1j00u38FjT13ixJY7V; Mon, 23 Jul 2012 21:18:33 +0000
Message-ID: <500DBF97.9000806@christopherschultz.net>
Date: Mon, 23 Jul 2012 17:18:15 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: launching Tomcat7 with jsvc.  Want only one Tomcat instance,
 but 'ps' shows two -- or does it?
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com> <500DB0D8.8080706@christopherschultz.net> <1343075823.9697.140661105702301.5CAC94CB@webmail.messagingengine.com>
In-Reply-To: <1343075823.9697.140661105702301.5CAC94CB@webmail.messagingengine.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

To whom it may concern,

On 7/23/12 4:37 PM, k9157@operamail.com wrote:
>> Try this:
>> 
>> $ ps afx
>> 
>> Then, look at the output for 'jsvc' and you should see *three*
>> linked processes. Since you only looked for 'jsvc' you aren't
>> seeing the expected 3rd process (which is actually the instance
>> of Tomcat you are so worried about).
> 
> I still see only two:
> 
> ps afx 20334 ?        Ss     0:00 jsvc.exec -user tomcat
> -java-home /etc/alternatives/java_sdk -pidfile
> /var/run/tomcat7/tomcat7.pid -classpath 
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/loca
>
> 
...
> 20335 ?        Sl     0:03  \_ jsvc.exec -user tomcat -java-home 
> /etc/alternatives/java_sdk -pidfile /var/run/tomcat7/tomcat7.pid 
> -classpath 
> /usr/local/tomcat7/build/bin/bootstrap.jar:/usr/local/tomcat7/build/bin/commons-daemon.jar:/usr/
>
> 
...
> 
> No other instance of 'java', 'jsvc' or 'tomcat' in the output.

Hm. Re-reading the commons-daemon page, it looks like maybe the
launcher process exits shortly after launch, leaving only two
long-running processes: the controlling process (the one in the
fork()/wait() loop) and the controlled process (the one that actually
launches the JVM).

At any rate, there is no concern, here, that two instances of Tomcat
have been launched.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlANv5cACgkQ9CaO5/Lv0PAv5QCgg147wMKReJsc6L6oHZa4iNUQ
YrsAn1UXN6du4wh5/p0rrLpPR0KcYE1j
=+9QX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235625-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 21:24:54 2012
Return-Path: <users-return-235625-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36A03C143
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 21:24:54 +0000 (UTC)
Received: (qmail 71261 invoked by uid 500); 23 Jul 2012 21:24:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71197 invoked by uid 500); 23 Jul 2012 21:24:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71187 invoked by uid 99); 23 Jul 2012 21:24:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:24:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:24:45 +0000
Received: by vbbfn1 with SMTP id fn1so6814676vbb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 14:24:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=NcJ6VWWlRexlNcb07QBjFNgPN9BwKHGhb5a0obQcgz4=;
        b=cg3xLagJz9L7jv6FG14B1rwD91ZU4zP7DwH7hhoPtT8FM2zniQ08dMyZIbr22xSvpL
         HEmAVEDNsulF31c0h3TPTBqB1kwu591QfK/bAOMl/0FZ3GybOp51vyIoQaRWuG4tgPXs
         jtcX2mxW2Qk1MiODPwBA59gr/tBPW57x5k6uQPFhwI/YA5voDiHYSMURBhdeDCRWCP3k
         XdBYTkvyRrik5pqGaZTPDaAK7rz3cR03k+wA1UikVPscFL8vq8mrTDyy69RHHsldQOAu
         12HXJoV5esExi94WVK9/RnzHI8/Qr8Ya9db+27ibYSyFAN4IlhLp8fHwNLLo26+9rEjP
         YYyg==
MIME-Version: 1.0
Received: by 10.220.155.3 with SMTP id q3mr2688199vcw.11.1343078664737; Mon,
 23 Jul 2012 14:24:24 -0700 (PDT)
Received: by 10.58.125.99 with HTTP; Mon, 23 Jul 2012 14:24:24 -0700 (PDT)
In-Reply-To: <500DB22F.4000003@christopherschultz.net>
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com>
	<CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com>
	<500DB22F.4000003@christopherschultz.net>
Date: Tue, 24 Jul 2012 01:24:24 +0400
Message-ID: <CABzHfV=Q-7Mmq8agnwwhiaLuuUuV6jtJqtiwr2Rpw+do6pvELw@mail.gmail.com>
Subject: Re: Run TomEE as a daemon
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/24 Christopher Schultz <chris@christopherschultz.net>:
>
> On 7/23/12 2:44 PM, Konstantin Kolinko wrote:
>> 2012/7/23 Miguel Bandala <obimikenobi@gmail.com>:
>>> Hi, I'm trying to run TomEE as a daemon on Debian Squeeze, I've
>>> been trying lots of times and havent success. Does anyone knows
>>> how to do this procedure step by step. I've follow this
>>> tutorial: http://openejb.apache.org/unix-daemon.html
>>>
>>> but at the end, i got the follow results:
>>>
>>> Cannot locate Java Home The most curious is that I previously
>>> "set" the java home with ./configure --with-
>>> java="/usr/lib/jvm/..." And I really dont know why, I got the
>>> result above.
>>
>> See proper Apache Commons-Daemon jsvc documentation, at
>> http://commons.apache.org/daemon/jsvc.html
>
> If the TomEE documentation is incorrect, we should help them correct
> it. Was this just a knee-jerk reaction to the OP's use of something
> other than the super-official commons-daemon jsvc documentation, or is
> there a problem with the TomEE stuff?

It is not "super-official". It is the official one and naturally the
primary source of information regarding jsvc. The others are partial
reflections of the original.

The problems with TomEE documentation:

1) It should properly reference the project, it is *Apache* Commons Daemon.

2) The "./configure --with-java" phrase in TomEE doc is misplaced.

It is part of the "Building jsvc" step only (to find the C API header
files in JDK). It should not be in the introductory section - that is
why OP was fooled. It has nothing to do with running jsvc.


Note, that jsvc doc mentions the following useful options:
a) the "-home" argument to jsvc can be used to specify location of the
home directory of JDK/JRE.

b) the option to enable debug-level logging to get more information
for troubleshooting. IIRC, the debug logging should show what paths
are tried looking for java executable.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235626-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 21:29:03 2012
Return-Path: <users-return-235626-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA411C983
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 21:29:03 +0000 (UTC)
Received: (qmail 83348 invoked by uid 500); 23 Jul 2012 21:29:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83291 invoked by uid 500); 23 Jul 2012 21:29:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83282 invoked by uid 99); 23 Jul 2012 21:29:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:29:00 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:28:55 +0000
Received: from compute1.internal (compute1.nyi.mail.srv.osa [10.202.2.41])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 1538720D00
	for <users@tomcat.apache.org>; Mon, 23 Jul 2012 17:28:34 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute1.internal (MEProxy); Mon, 23 Jul 2012 17:28:35 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	y3uIBp9l3dTBKnVeoJMEFMRUFaY=; b=Y2TbWJU3s7Lpt7bESuYo47dqk5HW2jrQ
	5nn2oZLILHiwQenYJuaFOw2dUGx63+izJrAhMe9A+IWtJoQmIusNH02FsHsJ/nlh
	AxQQ23XEuibipLqpnxnlQrHZAeKlXcEbFWPrBwKPYa1GDbau4XWQD0gScaTXV29u
	E9faTVFGAqo=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=y3uIBp9l3dTBKnVeoJMEFMRUFaY=; b=Dn9
	LiiVDcPmKhRR1zhn5ZUzUBZono5685c0aVt+qDCQV0qvLCeivj7At1fGQo0xthER
	DJjNHW2eH+o3Fk42XPGYmgM3361CReL/wojt55MqVjSyB4YdrYs2zlRkSLHhoxgU
	1Y7XacS2Ut6f+ra0R+KuYPyPa6SR6o2f2+E33VTs=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id C8428A0022E; Mon, 23 Jul 2012 17:28:34 -0400 (EDT)
Message-Id: <1343078914.20594.140661105722813.18EAE31F@webmail.messagingengine.com>
X-Sasl-Enc: J4eoVcouYljAipDkztvfJ/hNnur+F2NGI+W8amvlDGlu 1343078914
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <500DBF97.9000806@christopherschultz.net>
References: <1343069186.18410.140661105653789.602F09F7@webmail.messagingengine.com>
 <500DB0D8.8080706@christopherschultz.net>
 <1343075823.9697.140661105702301.5CAC94CB@webmail.messagingengine.com>
 <500DBF97.9000806@christopherschultz.net>
Subject: Re: launching Tomcat7 with jsvc.  Want only one Tomcat instance,
 but 'ps' shows two -- or does it?
Date: Mon, 23 Jul 2012 14:28:34 -0700
X-Virus-Checked: Checked by ClamAV on apache.org



> > No other instance of 'java', 'jsvc' or 'tomcat' in the output.
> 
> Hm. Re-reading the commons-daemon page, it looks like maybe the
> launcher process exits shortly after launch, leaving only two
> long-running processes: the controlling process (the one in the
> fork()/wait() loop) and the controlled process (the one that actually
> launches the JVM).
> 
> At any rate, there is no concern, here, that two instances of Tomcat
> have been launched.

Clear enough.  Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235627-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 21:40:30 2012
Return-Path: <users-return-235627-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28052CC49
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 21:40:30 +0000 (UTC)
Received: (qmail 13709 invoked by uid 500); 23 Jul 2012 21:40:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13652 invoked by uid 500); 23 Jul 2012 21:40:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13642 invoked by uid 99); 23 Jul 2012 21:40:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:40:26 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 21:40:20 +0000
Received: by ghrr14 with SMTP id r14so7555230ghr.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 14:40:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=from:content-type:subject:date:message-id:cc:to:mime-version
         :x-mailer:x-gm-message-state;
        bh=5PjzadAaeHp25jIQV9MB+w69pvmD7VccJ6rEiRjORO4=;
        b=FLMP0m0KfZB7bEoCOUu0sRQfs7ngyjVtSuMke4TY8/DKklqlvO1/kWze7h507yilkI
         mUSAZMPzOEHZvcNxDWCvgKFnOiuhryROkV0bxmZoA3XN14O+c6aPSJG385SgC9JiLTT1
         j9ZCRFIB4W0OYn9Ef/8jz80Gowcqdef+ZK5T73/Ut99Ybl6pYMe5hJ8WzlpofiKgO9HM
         6/6txSmydjXjXn4+3nbTyq5eEz5EbuHBRgBX07eYpnJHMfs2e9pA2Cok2nE0Wkh8CzW1
         rQiNf2TXOjVF0z1EjIh2P5VYuP4AvBQVQEJEZx4x6XISexFXJVxCHHmz1aFsgaGZyHlA
         hH+g==
Received: by 10.68.242.168 with SMTP id wr8mr38851653pbc.44.1343079599614;
        Mon, 23 Jul 2012 14:39:59 -0700 (PDT)
Received: from [149.175.18.151] ([149.175.18.151])
        by mx.google.com with ESMTPS id hf5sm10700222pbc.4.2012.07.23.14.39.58
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 23 Jul 2012 14:39:58 -0700 (PDT)
From: Jim Proctor <jproctor@lclark.edu>
Content-Type: multipart/alternative; boundary="Apple-Mail=_0E2C3320-616A-4641-95A0-DE4F7A5A0D5C"
Subject: problems installing app on tomcat v.7.0.26
Date: Mon, 23 Jul 2012 14:39:55 -0700
Message-Id: <A93B551E-118D-4BE9-88EB-2B354FF64729@lclark.edu>
Cc: Pamela Rooney <prooney@lclark.edu>,
 Sarah Clement <sclement@lclark.edu>
To: users@tomcat.apache.org
Mime-Version: 1.0 (Apple Message framework v1278)
X-Mailer: Apple Mail (2.1278)
X-Gm-Message-State: ALoCoQk2uOHo/OmfeHKkThTFVVieyKlnwR1bwRF7ZezsgvutS7RZyDH/VtvnljaJ7iPLQW5/KXpO
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail=_0E2C3320-616A-4641-95A0-DE4F7A5A0D5C
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252

Greetings =97 I'm running into errors installing a Java app called =
GeoServer (latest stable v2.1.4) on my Tomcat server at =
sge.lclark.edu:8080 (Tomcat v.7.0.26, JVM v.1.6.0_20-b20). I downloaded =
the .war.zip file, expanded it, and uploaded the .war file into a =
root-level directory (/geoserver) in Tomcat's webapps folder. Then, =
using the Tomcat manager, I tried both clicking "Start" for this =
directory, and used the Deploy menu below. The Deploy option results in =
Tomcat error "Application already exists at path," and the "Start" =
option results in Tomcat error "Application at context path /geoserver =
could not be started." A full catalina.log output for the latter error =
is below. I'm no Tomcat expert, but I have successfully installed one =
other app on this Tomcat server so don't expect the below to be purely a =
Tomcat issue=85maybe it is?

Would sure appreciate help; thanks.

Jim P.

***
Jul 23, 2012 12:22:18 PM org.apache.tomcat.util.scan.StandardJarScanner =
scan
WARNING: Failed to scan =
[file:/usr/lib/jvm/java-6-openjdk/jre/lib/ext/gnome-java-bridge.jar] =
from classloader hierarchy
java.util.zip.ZipException: error in opening zip file
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.<init>(ZipFile.java:131)
	at java.util.jar.JarFile.<init>(JarFile.java:150)
	at java.util.jar.JarFile.<init>(JarFile.java:87)
	at =
sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:90)
	at =
sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:66)
	at =
sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:86)
	at =
sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:12=
2)
	at =
sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java=
:89)
	at =
org.apache.tomcat.util.scan.FileUrlJar.<init>(FileUrlJar.java:40)
	at =
org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)
	at =
org.apache.catalina.startup.ContextConfig$FragmentJarScannerCallback.scan(=
ContextConfig.java:2566)
	at =
org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.=
java:241)
	at =
org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.jav=
a:204)
	at =
org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(Conte=
xtConfig.java:1864)
	at =
org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:121=
1)
	at =
org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.jav=
a:855)
	at =
org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.jav=
a:345)
	at =
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupp=
ort.java:119)
	at =
org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.ja=
va:90)
	at =
org.apache.catalina.core.StandardContext.startInternal(StandardContext.jav=
a:5161)
	at =
org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at =
org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1247)=

	at =
org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.ja=
va:747)
	at =
org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.j=
ava:222)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:305)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFi=
lter.java:187)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:243)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharact=
erEncodingFilter.java:108)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:243)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.=
java:224)
	at =
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.=
java:169)
	at =
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBa=
se.java:581)
	at =
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:1=
68)
	at =
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:9=
8)
	at =
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
	at =
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.ja=
va:118)
	at =
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407=
)
	at =
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Pro=
cessor.java:987)
	at =
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Abstr=
actProtocol.java:579)
	at =
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.jav=
a:307)
	at =
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:=
1110)
	at =
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java=
:603)
	at java.lang.Thread.run(Thread.java:636)
Jul 23, 2012 12:22:18 PM org.apache.catalina.startup.ContextConfig =
processServletContainerInitializers
SEVERE: Failed to process JAR found at URL =
[jar:file:/usr/lib/jvm/java-6-openjdk/jre/lib/ext/gnome-java-bridge.jar!/]=
 for ServletContainerInitializers for context with name [/geoserver]
Jul 23, 2012 12:22:18 PM org.apache.catalina.startup.ContextConfig =
configureStart
SEVERE: Marking this application unavailable due to previous error(s)
Jul 23, 2012 12:22:18 PM org.apache.catalina.startup.TldConfig =
tldScanJar
WARNING: Failed to process JAR =
[jar:file:/usr/lib/jvm/java-6-openjdk/jre/lib/ext/gnome-java-bridge.jar!/]=
 for TLD files
java.util.zip.ZipException: error in opening zip file
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.<init>(ZipFile.java:131)
	at java.util.jar.JarFile.<init>(JarFile.java:150)
	at java.util.jar.JarFile.<init>(JarFile.java:87)
	at =
sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:90)
	at =
sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:66)
	at =
sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:86)
	at =
sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:12=
2)
	at =
sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java=
:89)
	at =
org.apache.tomcat.util.scan.FileUrlJar.<init>(FileUrlJar.java:40)
	at =
org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:34)
	at =
org.apache.catalina.startup.TldConfig.tldScanJar(TldConfig.java:460)
	at =
org.apache.catalina.startup.TldConfig.access$100(TldConfig.java:58)
	at =
org.apache.catalina.startup.TldConfig$TldJarScannerCallback.scan(TldConfig=
.java:276)
	at =
org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.=
java:241)
	at =
org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.jav=
a:204)
	at =
org.apache.catalina.startup.TldConfig.execute(TldConfig.java:250)
	at =
org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:540)
	at =
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupp=
ort.java:119)
	at =
org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.ja=
va:90)
	at =
org.apache.catalina.core.StandardContext.startInternal(StandardContext.jav=
a:5161)
	at =
org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at =
org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1247)=

	at =
org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.ja=
va:747)
	at =
org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.j=
ava:222)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:305)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFi=
lter.java:187)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:243)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharact=
erEncodingFilter.java:108)
	at =
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicati=
onFilterChain.java:243)
	at =
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilter=
Chain.java:210)
	at =
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.=
java:224)
	at =
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.=
java:169)
	at =
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBa=
se.java:581)
	at =
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:1=
68)
	at =
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:9=
8)
	at =
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
	at =
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.ja=
va:118)
	at =
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407=
)
	at =
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Pro=
cessor.java:987)
	at =
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Abstr=
actProtocol.java:579)
	at =
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.jav=
a:307)
	at =
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:=
1110)
	at =
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java=
:603)
	at java.lang.Thread.run(Thread.java:636)
Jul 23, 2012 12:22:18 PM org.apache.catalina.core.StandardContext =
startInternal
SEVERE: Error getConfigured
Jul 23, 2012 12:22:18 PM org.apache.catalina.core.StandardContext =
startInternal
SEVERE: Context [/geoserver] startup failed due to previous errors

--Apple-Mail=_0E2C3320-616A-4641-95A0-DE4F7A5A0D5C--

From users-return-235628-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 23 23:17:36 2012
Return-Path: <users-return-235628-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96C75DA4F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 23 Jul 2012 23:17:36 +0000 (UTC)
Received: (qmail 63886 invoked by uid 500); 23 Jul 2012 23:17:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63726 invoked by uid 500); 23 Jul 2012 23:17:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63715 invoked by uid 99); 23 Jul 2012 23:17:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 23:17:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.64] (HELO elasmtp-curtail.atl.sa.earthlink.net) (209.86.89.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jul 2012 23:17:25 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-curtail.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1StRs6-0008Ij-Pn
	for users@tomcat.apache.org; Mon, 23 Jul 2012 19:17:03 -0400
Subject: Re: problems installing app on tomcat v.7.0.26
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <A93B551E-118D-4BE9-88EB-2B354FF64729@lclark.edu>
References: <A93B551E-118D-4BE9-88EB-2B354FF64729@lclark.edu>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-Ax+OFVcWvefQTsICe6AV"
Organization: Clifton Farm
Date: Mon, 23 Jul 2012 19:17:03 -0400
Message-ID: <1343085423.3018.330.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a0a7168e3ff99acf4932624695ec48516a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-Ax+OFVcWvefQTsICe6AV
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Mon, 2012-07-23 at 14:39 -0700, Jim Proctor wrote:
> Greetings =E2=80=94 I'm running into errors installing a Java app called
> GeoServer (latest stable v2.1.4) on my Tomcat server at
> sge.lclark.edu:8080 (Tomcat v.7.0.26, JVM v.1.6.0_20-b20). I
> downloaded the .war.zip file, expanded it, and uploaded the .war file
> into a root-level directory (/geoserver) in Tomcat's webapps folder.
> Then, using the Tomcat manager, I tried both clicking "Start" for this
> directory, and used the Deploy menu below. The Deploy option results
> in Tomcat error "Application already exists at path," and the "Start"
> option results in Tomcat error "Application at context path /geoserver
> could not be started."=20

Huh?  Are you saying you uploaded geoserver.war to the directory
<TC_HOME>/webapps/geoserver/ and tried to deploy it from there using the
Manager?  If so, don't do that.  Stop Tomcat, move the .war file to
webapps/, remove the webapps/geoserver/ directory and restart.  Unless
autodeploy is disabled it should deploy automatically.



--=-Ax+OFVcWvefQTsICe6AV
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDdtvAAoJEAfDBXDHBQilnmYH/3jasm5LvssBgR0MxVz2vWR8
3yINusH7BQry4s+N5toL41W1bYm3FQyDytk69npqxJixmgvQYSHPZUUxUcTh9sUw
hq9fNROFfE413WjQo9msgRNVN8DqkywCRib+cu2vvlsiW4JMeKmpzxVleM9Cwgmt
eYEBnm/UKYrGG6/6zUZDwpkBSD4LPcH7m2+9cWWJOIEPBY2LG/FcAhvg8czzCR/Y
M87CEKcT0zFSrXGXZm/3VA97+GSWNwgMfCMng8FTmXFdErNHGlW3YHAPHzavkuze
vRFJMKS5vY0Em4BhCXtthAqRxIaHl/JAUzVPVmSHCH+82omrlh6f4LkZ27ItgrI=
=Jq09
-----END PGP SIGNATURE-----

--=-Ax+OFVcWvefQTsICe6AV--


From users-return-235629-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 00:30:02 2012
Return-Path: <users-return-235629-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3F84956F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 00:30:02 +0000 (UTC)
Received: (qmail 20203 invoked by uid 500); 24 Jul 2012 00:29:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19986 invoked by uid 500); 24 Jul 2012 00:29:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19975 invoked by uid 99); 24 Jul 2012 00:29:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 00:29:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of david.blevins@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 00:29:53 +0000
Received: by pbbro12 with SMTP id ro12so13966603pbb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 17:29:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=wXvaLU2BWk6d6pg0poD+2wOp+BisW6IlDsLPx75Wb9g=;
        b=Ef5khkWsL0MhWvbP/SNkzG4qosowMKUn6i1azkmdLF7ZnGRAImdKd3lp3NR++se12w
         ATk+D+DRl2G2stbCW8wxYLb9cyx5UMJYRAEtiKt4NbJTCxiy97TQ0T6uH84LB43TbGB6
         Y5lzeHP1OiLKWPdPKlteI+kgatw6IXHguyOZ9iXjgrYmElOnJCgFRCVMCtiOW2Dw2ArI
         BYErBre5LQ0FagSCLpPmBzJn0/H/PY21XUMTq4H5r/lujVcGO6K23ISynwfFnXr6pYHH
         T6P4dVhB4yavgV30PTmXdUQrki78wS0Rn0dP8+HpyJWMiFb30Zr81ik7+LRhsWSx7Vv+
         CqPw==
Received: by 10.68.195.202 with SMTP id ig10mr39866577pbc.37.1343089772772;
        Mon, 23 Jul 2012 17:29:32 -0700 (PDT)
Received: from [192.168.0.106] (cpe-76-166-177-239.socal.res.rr.com. [76.166.177.239])
        by mx.google.com with ESMTPS id of4sm10937465pbb.51.2012.07.23.17.29.31
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 23 Jul 2012 17:29:32 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: Run TomEE as a daemon
From: David Blevins <david.blevins@gmail.com>
In-Reply-To: <CABzHfV=Q-7Mmq8agnwwhiaLuuUuV6jtJqtiwr2Rpw+do6pvELw@mail.gmail.com>
Date: Mon, 23 Jul 2012 17:29:30 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <11A4A1F6-E5DE-4011-90D8-60D0DAE46B75@gmail.com>
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com> <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com> <500DB22F.4000003@christopherschultz.net> <CABzHfV=Q-7Mmq8agnwwhiaLuuUuV6jtJqtiwr2Rpw+do6pvELw@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)
X-Virus-Checked: Checked by ClamAV on apache.org


On Jul 23, 2012, at 2:24 PM, Konstantin Kolinko wrote:

> 2012/7/24 Christopher Schultz <chris@christopherschultz.net>:
>>=20
>> On 7/23/12 2:44 PM, Konstantin Kolinko wrote:
>>> See proper Apache Commons-Daemon jsvc documentation, at
>>> http://commons.apache.org/daemon/jsvc.html
>>=20
>> If the TomEE documentation is incorrect, we should help them correct
>> it. Was this just a knee-jerk reaction to the OP's use of something
>> other than the super-official commons-daemon jsvc documentation, or =
is
>> there a problem with the TomEE stuff?
>=20
> It is not "super-official". It is the official one and naturally the
> primary source of information regarding jsvc. The others are partial
> reflections of the original.
>=20
> The problems with TomEE documentation:
>=20
> 1) It should properly reference the project, it is *Apache* Commons =
Daemon.
>=20
> 2) The "./configure --with-java" phrase in TomEE doc is misplaced.
>=20
> It is part of the "Building jsvc" step only (to find the C API header
> files in JDK). It should not be in the introductory section - that is
> why OP was fooled. It has nothing to do with running jsvc.
>=20
>=20
> Note, that jsvc doc mentions the following useful options:
> a) the "-home" argument to jsvc can be used to specify location of the
> home directory of JDK/JRE.
>=20
> b) the option to enable debug-level logging to get more information
> for troubleshooting. IIRC, the debug logging should show what paths
> are tried looking for java executable.

Thanks for the notes!  I've attempted a rewrite of that page using the =
above feedback:

  http://openejb.apache.org/unix-daemon.html

It may not yet be perfect.  In particular I didn't add the `-home` note =
-- more because I didn't want to get it wrong.  The page can be edited =
by anyone by clicking the blue pencil icon in the upper right, so =
contributions are highly encouraged.  All changes are reviewed before =
going live, so don't worry about messing anything up.

Thanks again!


-David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235630-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 02:07:48 2012
Return-Path: <users-return-235630-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83471D2FB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 02:07:48 +0000 (UTC)
Received: (qmail 23164 invoked by uid 500); 24 Jul 2012 02:07:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23011 invoked by uid 500); 24 Jul 2012 02:07:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22998 invoked by uid 99); 24 Jul 2012 02:07:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 02:07:44 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mikeshugar@hotmail.com designates 65.55.111.101 as permitted sender)
Received: from [65.55.111.101] (HELO blu0-omc2-s26.blu0.hotmail.com) (65.55.111.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 02:07:34 +0000
Received: from BLU0-SMTP148 ([65.55.111.72]) by blu0-omc2-s26.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 23 Jul 2012 19:07:14 -0700
X-Originating-IP: [173.9.214.9]
X-Originating-Email: [mikeshugar@hotmail.com]
Message-ID: <BLU0-SMTP1480E0C81C4120F50994538DFDC0@phx.gbl>
Received: from KDVOEXP ([173.9.214.9]) by BLU0-SMTP148.phx.gbl over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 23 Jul 2012 19:07:13 -0700
From: mike shugar <MikeShugar@hotmail.com>
To: <users@tomcat.apache.org>
Subject: Minimum Java Version question
Date: Mon, 23 Jul 2012 21:06:55 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_495C_01CD6917.17445190"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.6157
X-OriginalArrivalTime: 24 Jul 2012 02:07:13.0095 (UTC) FILETIME=[0A581D70:01CD6941]

------=_NextPart_000_495C_01CD6917.17445190
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Hi,

Looking at the versions table here - does "Minimum Java Version" mean =
the lowest required version to run the Tomcat version, or does it mean =
the lowest version that can run on the Tomcat version?
http://tomcat.apache.org/whichversion.html

So can Java 1.3 JARs run on Apache 7 as long Java 1.6 is also installed?

If so, would you expect Java 1.3 to be able to run on all future =
versions of Tomcat?


Thanks,

Mike


------=_NextPart_000_495C_01CD6917.17445190--

From users-return-235631-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 03:49:42 2012
Return-Path: <users-return-235631-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BD46DF60
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 03:49:42 +0000 (UTC)
Received: (qmail 48163 invoked by uid 500); 24 Jul 2012 03:49:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47840 invoked by uid 500); 24 Jul 2012 03:49:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47781 invoked by uid 99); 24 Jul 2012 03:49:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 03:49:34 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.83 as permitted sender)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 03:49:24 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-13.tower-37.messagelabs.com!1343101739!21473048!14
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 4154 invoked from network); 24 Jul 2012 03:49:01 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-13.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 24 Jul 2012 03:49:01 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Mon, 23 Jul 2012 22:48:43 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Mon, 23 Jul
 2012 22:48:44 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 23 Jul 2012 22:48:37 -0500
Subject: RE: Minimum Java Version question
Thread-Topic: Minimum Java Version question
Thread-Index: Ac1pQShFBuRjUQRSTTih++DDjLMyIAADTpQw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0358ACF44@USEA-EXCH8.na.uis.unisys.com>
References: <BLU0-SMTP1480E0C81C4120F50994538DFDC0@phx.gbl>
In-Reply-To: <BLU0-SMTP1480E0C81C4120F50994538DFDC0@phx.gbl>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

> From: mike shugar [mailto:MikeShugar@hotmail.com]=20
> Subject: Minimum Java Version question

> Looking at the versions table here - does "Minimum Java Version"=20
> mean the lowest required version to run the Tomcat version

Yes.

> or does it mean the lowest version that can run on the Tomcat version?

That part of the question makes no sense.  The JVM, not Tomcat, runs Java c=
ode.

> So can Java 1.3 JARs run on Apache 7 as long Java 1.6 is also installed?

I'll assume that by "Java 1.3 JARs" you mean Java code compiled with a 1.3 =
JRE.  The answer, unfortunately, is maybe.  Sun/Oracle have changed some JR=
E and servlet APIs since 1.3 in an incompatible fashion, so code built on o=
lder levels may not be loadable by the JVM.  (Tomcat doesn't care, the JVM =
does.)

> If so, would you expect Java 1.3 to be able to run on all future=20
> versions of Tomcat?

That's not up to Tomcat, but rather the JVM.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235632-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 04:59:33 2012
Return-Path: <users-return-235632-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CC7CDB91
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 04:59:33 +0000 (UTC)
Received: (qmail 73583 invoked by uid 500); 24 Jul 2012 04:59:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73169 invoked by uid 500); 24 Jul 2012 04:59:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73124 invoked by uid 99); 24 Jul 2012 04:59:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 04:59:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 04:59:21 +0000
Received: by ggnp1 with SMTP id p1so7839150ggn.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 21:59:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer
         :x-gm-message-state;
        bh=m5Yjr5VMjNFwymh5Ru7IQIXb3f0fGO/tmFgJbj2ZrFM=;
        b=mshfqzIAJ0zKjZXjD28AKrqLMyqyBDe/v099lUxSEEE3wGIkQUBx91acGnQbzNH/hn
         /nugURe+bnI0U1c4m9X5Wl4IR25/GQlqOqHPXCYhyarteChSun5/xe6kKRruY7JFzCih
         UjevIxULC8kAyImL+C+ekbbrt6DKMx5csiTTgJ8TAIY+IFWaj13QRM0sVepF/i/qWtgu
         rtd7kjehsTfH+EuRFPccG45WIuLsuPLSa7DJLsclqRiGQzaAtcKpKE+70Ye9VhhTuTM4
         zECcnLdfh0bs5Mc9Lt9H8BoY/v5XDNwj9AGelbYFgvgZAZ0ui48Dq39OBB7rSM2k5NLr
         kLmA==
Received: by 10.66.76.227 with SMTP id n3mr1852711paw.53.1343105939873;
        Mon, 23 Jul 2012 21:58:59 -0700 (PDT)
Received: from [149.175.54.151] (vpn.lclark.edu. [149.175.254.20])
        by mx.google.com with ESMTPS id qx9sm11378385pbc.8.2012.07.23.21.58.58
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 23 Jul 2012 21:58:58 -0700 (PDT)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: problems installing app on tomcat v.7.0.26
From: Jim Proctor <jproctor@lclark.edu>
In-Reply-To: <1343085423.3018.330.camel@dellberry>
Date: Mon, 23 Jul 2012 21:58:56 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <246B000B-D6C5-410B-977E-44B0DDC85308@lclark.edu>
References: <A93B551E-118D-4BE9-88EB-2B354FF64729@lclark.edu> <1343085423.3018.330.camel@dellberry>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)
X-Gm-Message-State: ALoCoQlcLAQ2JZ+pB7yzptobyJ5y25OQB9gf07gwlYH7TcJbeSyv4jlJImloPtE2ux4BW48QmNfp
X-Virus-Checked: Checked by ClamAV on apache.org

Tim, thanks=85I was going on the basis of other apps (all of which have =
root folders), but apparently GeoServer creates its own root folder upon =
installation.  All seems to work now.

Regards,

Jim P.

On Jul 23, 2012, at 4:17 PM, Tim Watts wrote:

> On Mon, 2012-07-23 at 14:39 -0700, Jim Proctor wrote:
>> Greetings =97 I'm running into errors installing a Java app called
>> GeoServer (latest stable v2.1.4) on my Tomcat server at
>> sge.lclark.edu:8080 (Tomcat v.7.0.26, JVM v.1.6.0_20-b20). I
>> downloaded the .war.zip file, expanded it, and uploaded the .war file
>> into a root-level directory (/geoserver) in Tomcat's webapps folder.
>> Then, using the Tomcat manager, I tried both clicking "Start" for =
this
>> directory, and used the Deploy menu below. The Deploy option results
>> in Tomcat error "Application already exists at path," and the "Start"
>> option results in Tomcat error "Application at context path =
/geoserver
>> could not be started."=20
>=20
> Huh?  Are you saying you uploaded geoserver.war to the directory
> <TC_HOME>/webapps/geoserver/ and tried to deploy it from there using =
the
> Manager?  If so, don't do that.  Stop Tomcat, move the .war file to
> webapps/, remove the webapps/geoserver/ directory and restart.  Unless
> autodeploy is disabled it should deploy automatically.
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235633-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 05:11:37 2012
Return-Path: <users-return-235633-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CF62DBDF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 05:11:37 +0000 (UTC)
Received: (qmail 573 invoked by uid 500); 24 Jul 2012 05:11:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 428 invoked by uid 500); 24 Jul 2012 05:11:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 399 invoked by uid 99); 24 Jul 2012 05:11:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 05:11:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 05:11:25 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: issue with iis 7.5 ajpconnector
Thread-Topic: issue with iis 7.5 ajpconnector
Thread-Index: Ac1lPJAxtJ3Fma78QUmqpeWZaz/GYwEHhSew
Date: Tue, 24 Jul 2012 05:11:01 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com>
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com>
In-Reply-To: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.32.20.101]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

 Hi
=20
 I have II 7.5 setup and currently 2 vhosts each vhost has its own applicat=
i=3D on
 pool and it's on copy of the ajp connector
=20
 We did this so that we can say run prod and uat at different version and a=
l=3D
 so make sure that bringing one down doesn't affect the other !
=20
 Now I went to add another vhost with another ajp connector and  when I
 went=3D  to try and access it... it locked up my other ajp application poo=
ls.
 Almo=3D st like there was a locking issue.
=20
 So my new application pool / ajp connect never ever started !
 My uat threw lots of time outs
 My prd threw some time outs.
=20
 Is there an issue with the locking ?
=20
 Alex


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235634-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 05:29:06 2012
Return-Path: <users-return-235634-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D4E398BC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 05:29:06 +0000 (UTC)
Received: (qmail 37853 invoked by uid 500); 24 Jul 2012 05:29:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37683 invoked by uid 500); 24 Jul 2012 05:29:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37649 invoked by uid 99); 24 Jul 2012 05:29:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 05:29:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rahul.raviz@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 05:28:56 +0000
Received: by obbta14 with SMTP id ta14so14737566obb.18
        for <users@tomcat.apache.org>; Mon, 23 Jul 2012 22:28:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=LfFBV8OnGyNhlRSnbwWBJP/OBtSjQyK7T1P/0RbqLKw=;
        b=KRdT55fEqVGzGbXqkjVXaMFfPwFSxNCbfvxOTQ+qz98XG7bg2JjHcUec1fodIEcn3l
         fg4jp0JWzY9Y2eQAdIu0JV5dKn541TxVKYz1udZ2Uz3MCE8KwYCmpRufrO/Hpf/BSG9L
         WtJeVeOE+KeQgSfk3WNOoEISyVqwjTxbfrirZHtV7kFa2wS+DZ7XVMvmTviSRctqjWcj
         VMRi1FeyPGlH38NrMB7HHg4xAKMV4YKneStIvhnEEpbi62MiQKUkmKFX9Xzh+eI7kE0L
         M6O/lB16MpwAznQyiXVdTkkfUYvC9LuV2oy0Fcs5951s8y2uHhqAchHoRB6DE4wsfb2C
         Qm4Q==
MIME-Version: 1.0
Received: by 10.182.164.103 with SMTP id yp7mr24702766obb.26.1343107715632;
 Mon, 23 Jul 2012 22:28:35 -0700 (PDT)
Received: by 10.182.108.71 with HTTP; Mon, 23 Jul 2012 22:28:35 -0700 (PDT)
Date: Tue, 24 Jul 2012 10:58:35 +0530
Message-ID: <CAHo_sfhwX6Wbcm825kJTQQk1KNu9Y=-W+6eLS_9BvL2eTWTN-A@mail.gmail.com>
Subject: server.xml for ldap connection
From: Rahul R <rahul.raviz@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f643556490f1c04c58ca20e
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f643556490f1c04c58ca20e
Content-Type: text/plain; charset=ISO-8859-1

Hi All,


This is the snippet from my server.xml of my tomcat which takes care of
ldap connection.

<Realm className="org.apache.catalina.realm.JNDIRealm"
                debug="99"
                authentication="simple"
                referrals="follow"
                userSubtree="true"
                roleSubtree="true"
                *connectionName="GLOBAL\UserName"*
                *connectionPassword="Secret"*
                connectionURL="ldap://global.ad.myCompany.com:389"
                userBase="dc=Global,dc=ad,dc=myCompany,dc=com"
                userSearch="(sAMAccountName={0})"

roleBase="OU=Groups,OU=PROD,DC=Global,DC=ad,DC=myCompany,DC=com"
                roleName="cn"
                roleSearch="(&amp;(objectClass=group)(member={0}))"
         />

But I have different environments like development, qa, staging etc. Hence
the functional a/c which connects to the ldap changes accordingly. Is there
any way to use some variable which reads the username/password from a file?
So that who ever owns that environment can simply change the
username/password in that file. There is already a property file in the
conf folder of the tomcat which is used for taking some environment
specific values by a jsp file, which is under webapps folder. Can I make
use of that for having these values? It would be a great help if some one
can help me here.


Regards,
Rahul R

--e89a8f643556490f1c04c58ca20e--

From users-return-235635-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 07:14:51 2012
Return-Path: <users-return-235635-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47CC5D8FC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 07:14:51 +0000 (UTC)
Received: (qmail 72480 invoked by uid 500); 24 Jul 2012 07:14:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72395 invoked by uid 500); 24 Jul 2012 07:14:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72355 invoked by uid 99); 24 Jul 2012 07:14:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 07:14:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 07:14:35 +0000
Received: from [192.168.245.129] (p549E8EBD.dip0.t-ipconnect.de [84.158.142.189])
	by tor.combios.es (Postfix) with ESMTPA id 51C6BDA0573
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 09:14:13 +0200 (CEST)
Message-ID: <500E4B42.2060205@ice-sa.com>
Date: Tue, 24 Jul 2012 09:14:10 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: issue with iis 7.5 ajpconnector
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com> <A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com>
In-Reply-To: <A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Alex Samad - Yieldbroker wrote:
>  Hi
>  
>  I have II 7.5 setup and currently 2 vhosts each vhost has its own applicati= on
>  pool and it's on copy of the ajp connector
>  
>  We did this so that we can say run prod and uat at different version and al=
>  so make sure that bringing one down doesn't affect the other !
>  
>  Now I went to add another vhost with another ajp connector and  when I
>  went=  to try and access it... it locked up my other ajp application pools.
>  Almo= st like there was a locking issue.
>  
>  So my new application pool / ajp connect never ever started !
>  My uat threw lots of time outs
>  My prd threw some time outs.
>  
>  Is there an issue with the locking ?
>  

Just to avoid any future misunderstandings and (additional) loss of time :
When you write "II 7.5", you mean the IIS webserver version 7.5, under Windows, right ?
And exactly which "AJP connector" are you using, downloaded from where, and which precise 
version ?
And while you are at it, you may want to add the precise OS and Java and Tomcat versions 
too, rather than forcing other people to pry this information out of you.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235636-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 10:38:18 2012
Return-Path: <users-return-235636-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 951329021
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 10:38:18 +0000 (UTC)
Received: (qmail 56026 invoked by uid 500); 24 Jul 2012 10:38:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55775 invoked by uid 500); 24 Jul 2012 10:38:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55731 invoked by uid 99); 24 Jul 2012 10:38:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 10:38:11 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pietro54@wp.pl designates 212.77.101.8 as permitted sender)
Received: from [212.77.101.8] (HELO mx4.wp.pl) (212.77.101.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 10:38:04 +0000
Received: (wp-smtpd smtp.wp.pl 12218 invoked from network); 24 Jul 2012 12:37:43 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=wp.pl; s=1024a;
          t=1343126263; bh=zDvk1IKojRwOh5LPNnRo6oOpvQ3RZUDE5o6Vhs3NgYg=;
          h=From:To:Subject;
          b=mO1TkdXyjNYqn/UwqqqVUquDooAmLHNZpcUPULZPsifakGxWM3lWdU/Ah1Y9xdl1l
           njItDkaQ7nnJi2MPrYSO+8xeLLUSQ5VK88sGWG3+8EJ/obcYayKCY78MYgoYNH3xk1
           2ARWwB5bzir4bsT/Xb0XAk2yPL7EmgVq8vSLhx90=
Received: from out.poczta.wp.pl (HELO localhost) ([212.77.101.240])
          (envelope-sender <pietro54@wp.pl>)
          by smtp.wp.pl (WP-SMTPD) with SMTP
          for <users@tomcat.apache.org>; 24 Jul 2012 12:37:43 +0200
Date: Tue, 24 Jul 2012 12:37:43 +0200
From: =?ISO-8859-2?Q?Piotr_W=B1cha=B3a?= <pietro54@wp.pl>
To: users@tomcat.apache.org
Subject: Problem with tomcat and jk module
Message-ID: <500e7af71d2117.66857428@wp.pl>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-2
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Mailer: Interfejs WWW nowej poczty Wirtualnej Polski
X-User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0.1
Organization: Poznaj Poczte WP http://poczta.wp.pl/info-start.html
X-WP-IP: 195.234.16.20
X-WP-AV: skaner antywirusowy poczty Wirtualnej Polski S. A.
X-WP-SPAM: NO 0000000 [4cNU]                               
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
Maybe someone can help me with my tomcat problem.
Hope that wont be a big problem for you.

Im observing that our client are disconnected from server, that is very bad situation.

In jklogfile.log
[Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=loadbalancer
[Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
[Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
[Tue Jul 24 08:43:40 2012] [17349:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.1:8009
[Tue Jul 24 08:43:40 2012] [17349:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
[Tue Jul 24 08:43:40 2012] [17349:47245693265248] [info] ajp_maintain::jk_ajp_common.c (3225): (worker2) failed sending request, socket -1 keepalive cping/cpong failure (errno=0)
[Tue Jul 24 08:43:52 2012] [16605:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.1:8009
[Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
[Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_send_request::jk_ajp_common.c (1511): (worker2) failed sending request, socket -1 prepost cping/cpong failure (errno=0)
[Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_send_request::jk_ajp_common.c (1567): (worker2) all endpoints are disconnected, detected by connect check (0), cping (1), send (0)
[Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
[Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
[Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
[Tue Jul 24 08:48:16 2012] [16987:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.2:8009
[Tue Jul 24 08:48:16 2012] [16987:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
[Tue Jul 24 08:48:16 2012] [16987:47245693265248] [info] ajp_maintain::jk_ajp_common.c (3225): (worker3) failed sending request, socket -1 keepalive cping/cpong failure (errno=0)
[Tue Jul 24 08:48:18 2012] [32038:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
[Tue Jul 24 08:48:18 2012] [32038:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker3) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
[Tue Jul 24 08:48:21 2012] [32038:47245693265248] [info] service::jk_lb_worker.c (1388): service failed, worker worker3 is in local error state
[Tue Jul 24 08:48:21 2012] [32038:47245693265248] [info] service::jk_lb_worker.c (1407): unrecoverable error 200, request failed. Client failed in the middle of request, we can't recover to another instance.

In apache error log, there isn&#8217;t any errors attached to the jk module.

In catalina log:

2012-07-24 09:01:19 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:01:21 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:01:45 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:03:37 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:05:35 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:06:43 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers
java.net.SocketException: Socket closed
        at java.net.SocketOutputStream.socketWrite(Unknown Source)
        at java.net.SocketOutputStream.write(Unknown Source)
        at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
        at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
        at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
        at org.apache.coyote.Response.action(Response.java:183)
        at org.apache.coyote.Response.sendHeaders(Response.java:379)
        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
        at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
        at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
        at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
        at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
        at java.lang.Thread.run(Unknown Source)
2012-07-24 09:09:50 org.apache.jk.core.MsgContext action
WARNING: Unable to send headers


I attached file with dump of working tomcat.

My config is something like that:
worker.list=worker1,worker2,worker3,loadbalancer

# Common worker properties
worker.template.port=8009
worker.template.type=ajp13
worker.template.connection_pool_timeout=600
worker.template.socket_timeout=60
#worker.template.socket_timeout=120
worker.template.ping_mode=A

# Set properties for worker1 by referencing worker templates above
# Connection to local Tomcat (Trade Client)
worker.worker1.reference=worker.template
worker.worker1.host=localhost
worker.worker1.connect_timeout=10000
worker.worker1.prepost_timeout=10000


# Set properties for worker2 and worker3 by referencing worker templates above
# Connection to remote JBOSS (ATE - Condico Clearing Station)
worker.worker2.reference=worker.template
worker.worker2.host=ate1
worker.worker2.lbfactor=1
worker.worker2.connect_timeout=10000
worker.worker2.prepost_timeout=10000

worker.worker3.reference=worker.template
worker.worker3.host=ate2
worker.worker3.lbfactor=1

# Load Balancer worker
worker.loadbalancer.type=lb
worker.loadbalancer.balance_workers=worker2,worker3

for now i dont know what log, or what information can be helpful.
Iam trying to resolve problem for few days, but unfurtunately i cant.

Piotr



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235637-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 13:13:39 2012
Return-Path: <users-return-235637-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50513DCA4
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 13:13:39 +0000 (UTC)
Received: (qmail 39474 invoked by uid 500); 24 Jul 2012 13:13:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39103 invoked by uid 500); 24 Jul 2012 13:13:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39077 invoked by uid 99); 24 Jul 2012 13:13:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 13:13:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 13:13:25 +0000
Received: from [192.168.245.129] (p549E8EBD.dip0.t-ipconnect.de [84.158.142.189])
	by tor.combios.es (Postfix) with ESMTPA id 3E987DA05D6
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 15:13:02 +0200 (CEST)
Message-ID: <500E9F5B.8020805@ice-sa.com>
Date: Tue, 24 Jul 2012 15:12:59 +0200
From: =?ISO-8859-2?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem with tomcat and jk module
References: <500e7af71d2117.66857428@wp.pl>
In-Reply-To: <500e7af71d2117.66857428@wp.pl>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi.

Thanks for the very complete information about your environment.

Piotr Wchaa wrote:
> Hi,
> Maybe someone can help me with my tomcat problem.
> Hope that wont be a big problem for you.
> 
> Im observing that our client are disconnected from server, that is very bad situation.
> 
In my experience, this kind of message :

> In jklogfile.log
> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=loadbalancer
> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)

in 99% of the cases, indicates a problem that is NOT with Apache httpd or mod_jk or Tomcat.
It is that by the time (tomcat+mod_jk+apache) want to send a response back to the client 
(the user's browser), the eonnection to that user's browser does not exist anymore, so 
they cannot send it. (And all the other messages after that, are because after this error, 
things kind of get out of sync.)

This can happen
- either because the user in front of that browser decides that he has waited long enough, 
and clicks on another link (or closes the browser)
- or because some piece of equipment or software closes that connection before 
(tomcat+mod_jk+apache) had a chance to send back the response

(It happens that in-between routers/firewalls/gatewaysw/proxies, if they do not see 
anything happen on a client connection for a while, will close that connection - to gain 
on the number of connections that they must manage).

(Both either/or causes above are also more likely if your Tomcat requests are so that they 
take a long time to be processed and generate a response)

So the first place to look, is the link between your client (presumably a user browser) 
and the front-end Apache.  What is causing that connection to close, before the response 
can be sent ?



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235638-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 14:12:04 2012
Return-Path: <users-return-235638-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D341D9E2E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 14:12:04 +0000 (UTC)
Received: (qmail 18524 invoked by uid 500); 24 Jul 2012 14:12:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18214 invoked by uid 500); 24 Jul 2012 14:12:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18164 invoked by uid 99); 24 Jul 2012 14:11:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:11:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:11:52 +0000
Received: from omta10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id eBwJ1j0070cZkys59EBaYi; Tue, 24 Jul 2012 14:11:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta10.westchester.pa.mail.comcast.net with comcast
	id eEBY1j00q38FjT13WEBZwp; Tue, 24 Jul 2012 14:11:35 +0000
Message-ID: <500EAD13.1010308@christopherschultz.net>
Date: Tue, 24 Jul 2012 10:11:31 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Tomcat and "JDK Compatibility"
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

The Tomcat documentation says somewhat tangentially that Tomcat
requires a JDK (instead of a JRE). I believe this has not been true
for quite some time.

Check the very first "requirement" for installation on these pages:

http://tomcat.apache.org/tomcat-6.0-doc/appdev/installation.html
http://tomcat.apache.org/tomcat-7.0-doc/appdev/installation.html

Is there any reason not to change "JDK" to "JRE" (and probably mention
that a JDK in fact contains a JRE)?

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAOrRMACgkQ9CaO5/Lv0PDBmwCfTzSSHKMyVOP/DVSLR1qWgnbv
XmcAnRIWpkEnAz2NGujt5Mk+lE1sfaU+
=Fe44
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235639-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 14:18:18 2012
Return-Path: <users-return-235639-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BE869E55
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 14:18:18 +0000 (UTC)
Received: (qmail 39376 invoked by uid 500); 24 Jul 2012 14:18:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39328 invoked by uid 500); 24 Jul 2012 14:18:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39316 invoked by uid 99); 24 Jul 2012 14:18:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:18:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:18:08 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id eCjP1j0071uE5Es51EHq3L; Tue, 24 Jul 2012 14:17:50 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id eEHt1j00T38FjT13cEHv2Q; Tue, 24 Jul 2012 14:17:57 +0000
Message-ID: <500EAE8A.9080508@christopherschultz.net>
Date: Tue, 24 Jul 2012 10:17:46 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Run TomEE as a daemon
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com> <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com> <500DB22F.4000003@christopherschultz.net> <CABzHfV=Q-7Mmq8agnwwhiaLuuUuV6jtJqtiwr2Rpw+do6pvELw@mail.gmail.com> <11A4A1F6-E5DE-4011-90D8-60D0DAE46B75@gmail.com>
In-Reply-To: <11A4A1F6-E5DE-4011-90D8-60D0DAE46B75@gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 7/23/12 8:29 PM, David Blevins wrote:
> The page can be edited by anyone by clicking the blue pencil icon
> in the upper right, so contributions are highly encouraged.  All
> changes are reviewed before going live, so don't worry about
> messing anything up.

I made an edit to include a link to the commons-daemon documentation
but figured that "publish site" was an action probably best done by
someone on the TomEE team ;)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAOrooACgkQ9CaO5/Lv0PCLNgCePOF9bbJV2aY2IaPN51HZUDkR
WO4AnjBW9A8wtAOxW351malsMar/68e5
=o/62
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235640-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 14:21:24 2012
Return-Path: <users-return-235640-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F21C09E64
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 14:21:23 +0000 (UTC)
Received: (qmail 49731 invoked by uid 500); 24 Jul 2012 14:21:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49507 invoked by uid 500); 24 Jul 2012 14:21:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49491 invoked by uid 99); 24 Jul 2012 14:21:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:21:20 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:21:12 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id eCky1j0031swQuc5BELuT9; Tue, 24 Jul 2012 14:20:54 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id eELh1j00V38FjT13bELkgA; Tue, 24 Jul 2012 14:20:44 +0000
Message-ID: <500EAF43.7010103@christopherschultz.net>
Date: Tue, 24 Jul 2012 10:20:51 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: [OT] MySQL Replication Problems: can't establish connection to the
 master
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All,

Apologies for the completely off-topic post, but I know there are some
experienced MySQL folks lurking around here. Please post followups
off-list so we don't pollute too much.

I'm having a bit of difficulty with my MySQL replication setup. If
anyone might be willing to give me some help, please email me directly.

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAOr0MACgkQ9CaO5/Lv0PAbSACgi2lTT5g8xecaFc3hdFcu+QPp
PM4AnR41/9kkKLto3NodxrqwCwdC2Yvp
=uU4s
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235641-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 14:22:59 2012
Return-Path: <users-return-235641-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B29B9E7B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 14:22:59 +0000 (UTC)
Received: (qmail 60565 invoked by uid 500); 24 Jul 2012 14:22:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60510 invoked by uid 500); 24 Jul 2012 14:22:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60487 invoked by uid 99); 24 Jul 2012 14:22:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:22:54 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.49.146.77] (HELO smtpksrv1.mitre.org) (198.49.146.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 14:22:45 +0000
Received: from smtpksrv1.mitre.org (localhost.localdomain [127.0.0.1])
	by localhost (Postfix) with SMTP id A574421B08B5
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 10:22:24 -0400 (EDT)
Received: from IMCCAS04.MITRE.ORG (imccas04.mitre.org [129.83.29.81])
	by smtpksrv1.mitre.org (Postfix) with ESMTP id 8D4EA21B086B
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 10:22:24 -0400 (EDT)
Received: from IMCMBX04.MITRE.ORG ([169.254.4.228]) by IMCCAS04.MITRE.ORG
 ([129.83.29.81]) with mapi id 14.02.0309.002; Tue, 24 Jul 2012 10:22:24 -0400
From: "Carlucci, Tony" <acarlucci@mitre.org>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Intermittent mod_proxy_ajp error - APR does not understand this
 error code: proxy: dialog
Thread-Topic: Intermittent mod_proxy_ajp error - APR does not understand
 this error code: proxy: dialog
Thread-Index: Ac1pp7tXt71uXRVsQym87vao+I8m2w==
Date: Tue, 24 Jul 2012 14:22:23 +0000
Message-ID: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [129.83.31.51]
Content-Type: multipart/alternative;
	boundary="_000_8CEEFC4412261D4AA6EF373F59C5FEDE019B64FAIMCMBX04MITREOR_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_8CEEFC4412261D4AA6EF373F59C5FEDE019B64FAIMCMBX04MITREOR_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Cross-posting this to the tomcat users list (also posted to users@httpd)...

Hello, I've been trying to track down an intermittent problem with a Java w=
eb application that is running on tcServer fronted by Apache HTTP Server.  =
  We get intermittent "Server Unavailable / HTTP 500" errors, and when we d=
o see them, there is the same set of log statements written to the Apache H=
TTP Server error log:

[Mon Jul 23 10:03:15 2012] [error] (70014)End of file found: ajp_ilink_rece=
ive() can't receive header
[Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this err=
or code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed

We are not seeing any error messages in the tcServer logs.

I believe the issue is with the mod_proxy_ajp module but it's been very dif=
ficult tracking down what exactly the problem is.   What's interesting is t=
hat this Apache / tcServer configuration is used with other applications th=
at work just fine and never have the intermittent 500 error.   We also can =
run our application strictly in Tomcat (no Apache front) without any interm=
ittent errors.

We haven't ruled out that there could be something in our Java application =
code that is causing this, in combination with the mod_proxy_ajp module, bu=
t we have hit a wall as to what this issue could be.  Has anyone else exper=
ienced a similar intermittent issue combined with the above error messages?=
  Below is a copy of the error log and some configuration settings.

Thanks, Tony

---------------------
Apache HTTP Error Log
---------------------
[Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(141): Adding CACHE_SAVE filt=
er for /myapp/
[Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(148): Adding CACHE_REMOVE_UR=
L filter for /myapp/
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(45): proxy: AJP: canonic=
alising URL //127.0.0.1:7071/myapp/
[Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(1506): [client ***cleansed*=
**] proxy: ajp: found worker ajp://127.0.0.1:7071/myapp for ajp://127.0.0.1=
:7071/myapp/
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy.c(1020): Running scheme ajp ha=
ndler (attempt 0)
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_http.c(1963): proxy: HTTP: dec=
lining URL ajp://127.0.0.1:7071/myapp/
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(681): proxy: AJP: servin=
g URL ajp://127.0.0.1:7071/myapp/
[Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2011): proxy: AJP: has acqu=
ired connection for (127.0.0.1)
[Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2067): proxy: connecting aj=
p://127.0.0.1:7071/myapp/ to 127.0.0.1:7071
[Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2193): proxy: connected /my=
app/ to 127.0.0.1:7071
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(224): Into ajp_marshal_into=
_msgb
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[0] [x-forwarded-for] =3D [***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[1] [Host] =3D [***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[2] [Connection] =3D [keep-alive]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[3] [User-Agent] =3D [Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebK=
it/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[4] [Accept] =3D [text/html,application/xhtml+xml,application/xml;q=
=3D0.9,*/*;q=3D0.8]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[5] [Accept-Encoding] =3D [gzip,deflate,sdch]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[6] [Accept-Language] =3D [en-US,en;q=3D0.8]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[7] [Accept-Charset] =3D [ISO-8859-1,utf-8;q=3D0.7,*;q=3D0.3]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[8] [Cookie] =3D [SSOTOKEN=3D***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[9] [SSO_LOGIN] =3D [***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[10] [SSO_ID] =3D [***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290): ajp_marshal_into_msgb=
: Header[11] [SSO_EMAIL] =3D [***cleansed***]
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(450): ajp_marshal_into_msgb=
: Done
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(268): proxy: APR_BUCKET_=
IS_EOS
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(273): proxy: data to rea=
d (max 8186 at 4)
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(288): proxy: got 0 bytes=
 of data
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(687): ajp_read_header: ajp_=
ilink_received 03
[Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(697): ajp_parse_type: got 0=
3
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(460): Ignoring flush mes=
sage received before headers
[Mon Jul 23 10:03:15 2012] [error] (70014)End of file found: ajp_ilink_rece=
ive() can't receive header
[Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive faile=
d
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(549): (120006)APR does n=
ot understand this error code: ajp_read_header failed
[Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(564): proxy: Processing =
of request failed backend: 1, output: 0
[Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this err=
or code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
[Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2029): proxy: AJP: has rele=
ased connection for (127.0.0.1)
[Mon Jul 23 10:03:15 2012] [debug] mod_deflate.c(615): [***cleansed***] Zli=
b: Compressed 323 to 218 : URL /myapp/

---------------------------------
Apache HTTP Server (apachectl -V)
---------------------------------
Server version: Apache/2.2.22 (Unix)
Server built:   Jul 17 2012 17:20:28
Server's Module Magic Number: 20051115:30
Server loaded:  APR 1.4.5, APR-Util 1.4.1
Compiled using: APR 1.4.5, APR-Util 1.4.1
Architecture:   64-bit
Server MPM:     Worker
  threaded:     yes (fixed thread count)
    forked:     yes (variable process count)
Server compiled with....
-D APACHE_MPM_DIR=3D"server/mpm/worker"
-D APR_HAS_SENDFILE
-D APR_HAS_MMAP
-D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
-D APR_USE_SYSVSEM_SERIALIZE
-D APR_USE_PTHREAD_SERIALIZE
-D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
-D APR_HAS_OTHER_CHILD
-D AP_HAVE_RELIABLE_PIPED_LOGS
-D DYNAMIC_MODULE_LIMIT=3D128
-D HTTPD_ROOT=3D"/apps/apache2"
-D SUEXEC_BIN=3D"/apps/apache2/bin/suexec"
-D DEFAULT_SCOREBOARD=3D"logs/apache_runtime_status"
-D DEFAULT_ERRORLOG=3D"logs/error_log"
-D AP_TYPES_CONFIG_FILE=3D"conf/mime.types"
-D SERVER_CONFIG_FILE=3D"conf/httpd.conf"

-------------------------------
httpd.conf (relevant settings):
-------------------------------
<IfModule worker.c>
StartServers 2
MaxClients 400
MinSpareThreads 25
MaxSpareThreads 75
ThreadsPerChild 25
MaxRequestsPerChild 10000
</IfModule>

ProxyRequests Off
ProxyPreserveHost on
ProxyReceiveBufferSize 0
ProxyErrorOverride Off
RewriteEngine on

ProxyPass /myapp ajp://127.0.0.1:7071/myapp
ProxyPassReverse /myapp ajp://127.0.0.1:7071/myapp

-----------------------------------------------
tcServer 2.0.4.RELEASE (Tomcat 6.0.29 binaries)
-----------------------------------------------
server.xml:

<Executor name=3D"tomcatThreadPool" namePrefix=3D"tomcat-ajp--" maxThreads=
=3D"300" minSpareThreads=3D"50"/>
<Connector executor=3D"tomcatThreadPool"
               address=3D"127.0.0.1"
               port=3D"7071"
               protocol=3D"org.apache.coyote.ajp.AjpAprProtocol"
               connectionTimeout=3D"60000"
               redirectPort=3D"8443"
               backlog=3D"100"
               tcpNoDelay=3D"true"
               enableLookups=3D"false"
               URIEncoding=3D"UTF-8" />







--_000_8CEEFC4412261D4AA6EF373F59C5FEDE019B64FAIMCMBX04MITREOR_--

From users-return-235642-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 15:14:26 2012
Return-Path: <users-return-235642-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EFE85DB9F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 15:14:25 +0000 (UTC)
Received: (qmail 31235 invoked by uid 500); 24 Jul 2012 15:14:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31178 invoked by uid 500); 24 Jul 2012 15:14:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31135 invoked by uid 99); 24 Jul 2012 15:14:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 15:14:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.250.139 is neither permitted nor denied by domain of sandyperezglz@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 15:14:14 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <sandyperezglz@gmail.com>)
	id 1Stgo6-0008TG-6M
	for users@tomcat.apache.org; Tue, 24 Jul 2012 08:13:54 -0700
Date: Tue, 24 Jul 2012 08:13:54 -0700 (PDT)
From: sandy <sandyperezglz@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1343142834174-4984394.post@n6.nabble.com>
In-Reply-To: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil>
References: <7C09ACE3A0893249B9F0CDF48B723BB233D26D@nawespscez08v.nadsuswe.nads.navy.mil>
Subject: Re: log4j to write Tomcat logs to Windows Event Log
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello, 

Did you install Tomcat as a Windows service using the installer for windows?
If that's the case, review your configuration. The same occurred to me and I
solved it by configuring the service. Right-click on tomcat icon at the
systray and then click on "Configure...". In the "Java" tab, in the field
"Java Options", I have the following properties defined:

...
-Djava.endorsed.dirs=C:\Program Files\Apache Software Foundation\Tomcat
7.0\endorsed
...
-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
-Djava.util.logging.config.file=C:\Program Files\Apache Software
Foundation\Tomcat 7.0\lib\log4j.properties
...

Finally, I created the C:\Program Files\Apache Software Foundation\Tomcat
7.0\endorsed because I didn't exist and then I copied log4j.jar inside it.
By doing this, the warning message disappeared, at least that was my case.

I hope my solution works for you as well. Good luck. 
  Sandy




--
View this message in context: http://tomcat.10.n6.nabble.com/log4j-to-write-Tomcat-logs-to-Windows-Event-Log-tp4983672p4984394.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235643-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 15:47:07 2012
Return-Path: <users-return-235643-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82EE0D75E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 15:47:07 +0000 (UTC)
Received: (qmail 14134 invoked by uid 500); 24 Jul 2012 15:47:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14066 invoked by uid 500); 24 Jul 2012 15:47:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14042 invoked by uid 99); 24 Jul 2012 15:47:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 15:47:03 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.139] (HELO nm9-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.139)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jul 2012 15:46:55 +0000
Received: from [98.138.90.55] by nm9.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 15:46:34 -0000
Received: from [98.138.226.162] by tm8.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 15:46:34 -0000
Received: from [127.0.0.1] by omp1063.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 15:46:34 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 183136.11424.bm@omp1063.mail.ne1.yahoo.com
Received: (qmail 19576 invoked by uid 60001); 24 Jul 2012 15:46:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343144794; bh=g4wuNpJUapgUPv83IWPaPCdt/wVqQRopsernDeC+Df8=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=jcZPCEaUVzBJR/RALZW3jN+6uEsXenosLPE3zZEswvL+hWJ4GpcGFK39HBiP1eIjwY9Pd7hV10LyZFker0xcph26//EkSe8eu3WDjZsYRrPMbgDhoOV+qZw+U3D1hauHpm+gbanhNYHEmrUy1h/Q6Mj4jmYFel0WycbI39vp4gk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=sWiIzzaJ/bc19Y7ly5j6MvvE0/YrLNIEkUJdKCs413xLbpD0T/YQ+KVW2N8uX0oTHGAwWdcrW6P5h9gT1c5oPy62IeEPIaehW3hOmNqD9vq6OzHBlA4cXcrm9gvVsg/1+MWrloZQK8NR1eg9OHaHCyb+K9Mj9L1ym6HrRtMTBSM=;
X-YMail-OSG: DA5n0nAVM1lhdBb0Y0U7dTRrSnmWE23xcZwB49OUH5SV_Jm
 b00ihdsGAF6grbdA.cAdobY.QtuAY5BDGE_KBEP24NREFkkcva73aPFMbuef
 lhrqnB7__eLwVi0mnHiXUSK6s93V4WhAn.Q3e27psgG2T3k3ijZt8etyUPZs
 N83xdyi_6Zodoi3cT7ixZF4XWXRKZab1WqEVYsV7yakPTLu4NS62CeZcfEHy
 qtn4dzq42dnxT4NOurJd0v1r7lEOwk675pqsOUbtS6mkCxYJe6E9GbMH6xGX
 ABQHRf3VUVUlLUjzvSM44qjkiN.kUW3HZeLjtU8vEKYapGlzx1VNnBmTTcMv
 WBpEqsohz.gshRN0jVSP4KYHTBaRinXeJ1.v6mGYerFsQ6iavr7K2KiH7q0a
 2k.O9lXLdpx83c6jWeqxvkfBJQ8Li6mMaIsYU44TH680oYfur7J8gER5BX_S
 wPrvcWvHwzeJIgMkppAEBTuePlIbUex.NEM25MGhhklIn7qLMoKvhmOZGLt1
 CXMEChk6R7CgKF4_FL7B.SSPhbKWUb_QKr_23P7976JVXnQmNhz.YTWtQ9dD
 eRq.RWXt6EWNLTwzqcN.SB4FlmAxuEN2y2eyLwMYATPFmKXR9lCcdnjYtpCs
 yZvlmQ8Gv
Received: from [71.129.38.81] by web125502.mail.ne1.yahoo.com via HTTP; Tue, 24 Jul 2012 08:46:33 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CAHo_sfhwX6Wbcm825kJTQQk1KNu9Y=-W+6eLS_9BvL2eTWTN-A@mail.gmail.com>
Message-ID: <1343144793.18061.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Tue, 24 Jul 2012 08:46:33 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: server.xml for ldap connection
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAHo_sfhwX6Wbcm825kJTQQk1KNu9Y=-W+6eLS_9BvL2eTWTN-A@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----=0A=0A> From: Rahul R <rahul.raviz@gmail.com>=
=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> Cc: =0A> Sent: Mon=
day, July 23, 2012 10:28 PM=0A> Subject: server.xml for ldap connection=0A>=
 =0A> Hi All,=0A> =0A> =0A> This is the snippet from my server.xml of my to=
mcat which takes care of=0A> ldap connection.=0A> =0A> <Realm className=3D"=
org.apache.catalina.realm.JNDIRealm"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 de=
bug=3D"99"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 authentication=3D"simple"=0A=
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 referrals=3D"follow"=0A> =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 userSubtree=3D"true"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 ro=
leSubtree=3D"true"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 *connectionName=3D"G=
LOBAL\UserName"*=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 *connectionPassword=3D=
"Secret"*=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 connectionURL=3D"ldap://globa=
l.ad.myCompany.com:389"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 userBase=3D"dc=
=3DGlobal,dc=3Dad,dc=3DmyCompany,dc=3Dcom"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 userSearch=3D"(sAMAccountName=3D{0})"=0A> =0A> roleBase=3D"OU=3DGroups,=
OU=3DPROD,DC=3DGlobal,DC=3Dad,DC=3DmyCompany,DC=3Dcom"=0A> =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 roleName=3D"cn"=0A> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 roleSea=
rch=3D"(&(objectClass=3Dgroup)(member=3D{0}))"=0A> =A0 =A0 =A0 =A0  />=0A> =
=0A> But I have different environments like development, qa, staging etc. H=
ence=0A> the functional a/c which connects to the ldap changes accordingly.=
 Is there=0A> any way to use some variable which reads the username/passwor=
d from a file?=0A> So that who ever owns that environment can simply change=
 the=0A> username/password in that file. There is already a property file i=
n the=0A> conf folder of the tomcat which is used for taking some environme=
nt=0A> specific values by a jsp file, which is under webapps folder. Can I =
make=0A> use of that for having these values? It would be a great help if s=
ome one=0A> can help me here.=0A=0A=0AUnless you have multiple web applicat=
ions using the same Realm, it's more convenient if you place your Realm und=
er the <Context> element.=0A=0AYou can put your <Context> element in either=
 META-INF/context.xml (which will get copied on deployment) or directly in =
CATALINA_BASE/conf/[hostname]/[app-name].xml. [hostname] is usually localho=
st, and [app-name] is the name of your application.=0A=0AYou can then have =
build targets (for example, if you're using ant) to create a development, q=
a, and staging war file by inserting the right elements (xmltask works well=
) into the context.xml file.=0A=0A. . . . just my two cents.=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235644-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 16:14:29 2012
Return-Path: <users-return-235644-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 614F1D80B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 16:14:29 +0000 (UTC)
Received: (qmail 86920 invoked by uid 500); 24 Jul 2012 16:14:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86740 invoked by uid 500); 24 Jul 2012 16:14:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86728 invoked by uid 99); 24 Jul 2012 16:14:25 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:14:25 +0000
Received: from localhost (HELO s2laptop.local) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:14:25 +0000
Message-ID: <500EC9DF.6000508@apache.org>
Date: Tue, 24 Jul 2012 18:14:23 +0200
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat and "JDK Compatibility"
References: <500EAD13.1010308@christopherschultz.net>
In-Reply-To: <500EAD13.1010308@christopherschultz.net>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 24/07/2012 16:11, Christopher Schultz wrote:
> All,
> 
> The Tomcat documentation says somewhat tangentially that Tomcat 
> requires a JDK (instead of a JRE). I believe this has not been
> true for quite some time.
> 
> Check the very first "requirement" for installation on these
> pages:
> 
> http://tomcat.apache.org/tomcat-6.0-doc/appdev/installation.html 
> http://tomcat.apache.org/tomcat-7.0-doc/appdev/installation.html
> 
> Is there any reason not to change "JDK" to "JRE" (and probably
> mention that a JDK in fact contains a JRE)?

Yes. That is the application development section for which a JDK is
required.

Mark
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBAgAGBQJQDsneAAoJEBDAHFovYFnn/soQAL+iwZzDD/Ve1nm9vPON2DTC
996Y//xmvICk1Z0n31MwzJOq3h/nzSpeRKb41xE+Dj8PqefGGsSzFWKy1/bpj+V/
zd0yYi9AfLKoxdK2w7S3tmHa4EWRVB85BI2NDcJVyB18INMOpWwkoVTxHPOKdwL2
rMk3CiwYg1NAyArQWPUhQDvtKuGShZdgaqo8oxulZu+vRu15wdo0MLrNsieOrJHH
MDL1Tw05NsFBKraxpt7vILoet4z92lKJYK8pxiPp7Co8X6K/6MZ81eg5dmFd+jSu
K/HaIo1AFZJjuvytxPyTybgA9h17h78weuhCh3wSXZWZfM1CzfdB4B7rN7RmGPSD
5CMpOY2Foyv4u5fL9YrLoaaBWxeIV6ld+5hRXfXjQXrFn3B2eRDHq5yT0EnU/zbw
a0UdDZ3LK3mHpNeWx7Ub1S8IPD7YympLoj7C/M/aMtoTUSSNIfrnsPr6Vx+V/zgi
WkYP+3csNLsiPsbv8ah4cXJSks8IRrK1anbpi47i9aTUGm9Dv4ftVI2ZXqQlvfMB
geTMYecZDbAm76FR9s1uxhhQaHXnhYhJ3v5vwGBAcYajXhaniV2lSebCiGkB+4ng
jINoaUGzlxiyaaivARU4l1aaUm24YRc8RB+EMlcJ1273Nha6oGl4PmIhu83I76P3
vs+9M8jmZBd54JvFrkBY
=7KHz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235645-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 16:18:03 2012
Return-Path: <users-return-235645-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AF37D82D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 16:18:03 +0000 (UTC)
Received: (qmail 2457 invoked by uid 500); 24 Jul 2012 16:18:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2383 invoked by uid 500); 24 Jul 2012 16:18:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2373 invoked by uid 99); 24 Jul 2012 16:18:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:18:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:17:52 +0000
Received: by obbta14 with SMTP id ta14so15797891obb.18
        for <users@tomcat.apache.org>; Tue, 24 Jul 2012 09:17:30 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=b0yy5TN5IsLkO1MNsY1Twq5EpP7FGOrUYupUyJgGYc0=;
        b=Ctxav6DnpOdiMKDeww/fGWSDSuZ2hm5nnEfE718cfkl2O7bRWBUB9OB5+KTfgsR9zs
         pHWJ7uGfOUWMfss1p8CtgOBnESd3UE8R0RH4WtrWLW9Q7nStvXKiAug5CERBXrsaARvJ
         X1dxEBGRiAV1YpicMQn5NP0ksXFIVUUZT3HVpVo97l1NDnQ4zSYCJaqHpkWxuHUgSTUq
         QUXgk8tuG58S75ZXweYPBXG+U0Y+BzSk2Hlcnzjr78mlEdCCWfBx+hhgMEZiVRfw1zEZ
         CK8cVw8Wc6FAyA2E7lo9UrDxfFtwGz+bU3w9+bmSKRnRUm4+Mq6HUr6oqxQtnVPgtqwC
         EWoQ==
Received: by 10.182.2.233 with SMTP id 9mr5731951obx.11.1343146650763;
        Tue, 24 Jul 2012 09:17:30 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id hc9sm13694073obc.15.2012.07.24.09.17.29
        (version=SSLv3 cipher=OTHER);
        Tue, 24 Jul 2012 09:17:30 -0700 (PDT)
Message-ID: <500ECA9A.6000600@touchtonecorp.com>
Date: Tue, 24 Jul 2012 09:17:30 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com> <50089D6E.9020602@kippdata.de>
In-Reply-To: <50089D6E.9020602@kippdata.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQkyYux3jQfwEmHMWstGkefXj7qpPkfUDhhqdhKmzRrsCi22E/8rGn5+JGPYJyuucmRANva1
X-Virus-Checked: Checked by ClamAV on apache.org

To recap, I've got a situation where Tomcat is crashing on takeoff, on a 
V5R4 AS/400, with what appears to be the same setup that works fine on a 
V6 box, and showing correct environment variables in the STDOUT spool 
file, and leaving this in Catalina.out.
>>> java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina
>>>   at java.net.URLClassLoader.findClass(URLClassLoader.java:432)
>>>   at java.lang.ClassLoader.loadClass(ClassLoader.java:642)
>>>   at java.lang.ClassLoader.loadClass(ClassLoader.java:608)
>>>   at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:236)
>>>   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)


to which Rainer Jung replied:
. . .
> All this works by default in an untampered Tomcat installation. It can 
> break:
> 
> - if catalina.jar is not in /wintouch/tomcat/lib or it is not readable
> 
> - if catalina.properties is not in /wintouch/tomcat/conf, or it is not 
> readable, or the entries for the server.loader or common.loader are broken
> 
> - the start scripts do not set -Dcatalina.base=/wintouch/tomcat/ and 
> -Dcatalina.home=/wintouch/tomcat/ when starting the JVM
> 
> - you are changing the place of the used properties file by giving a 
> non-default value in the system property -Dcatalina.config during startup.

I can find, so far, no evidence to indicate any of these possibilities. 
But is there some diagnostic I could enable, that would allow me to find 
out more detail about the problem? Or maybe something I could try from a 
QShell command line in a terminal session?

--
James H. H. Lampert
Touchtone Corporation

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235646-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 16:30:41 2012
Return-Path: <users-return-235646-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 426AE97BE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 16:30:41 +0000 (UTC)
Received: (qmail 35820 invoked by uid 500); 24 Jul 2012 16:30:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35677 invoked by uid 500); 24 Jul 2012 16:30:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35668 invoked by uid 99); 24 Jul 2012 16:30:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:30:37 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pietro54@wp.pl designates 212.77.101.8 as permitted sender)
Received: from [212.77.101.8] (HELO mx4.wp.pl) (212.77.101.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 16:30:32 +0000
Received: (wp-smtpd smtp.wp.pl 9461 invoked from network); 24 Jul 2012 18:30:10 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=wp.pl; s=1024a;
          t=1343147410; bh=IY2tcsPIWD7V3QutqGfnYB2q4irhUjzQt5XWDAdgyCk=;
          h=From:To:CC:Subject;
          b=eKNkQu86eEm4aBlB0t6dJ7Ih8x5u3tGUGjJb08H+E0mCcAWGLFpL85kEmfNo53Sc+
           FGk01BmzqTLw9l2ydT/qjFtMm1ISCsel6CWhCxYHTRjFGupZwBaNO1CRDX7ufPooVs
           xrhdgp4LYrpt1hcJqcFuGtwki0jxQY4m5leTSNOg=
Received: from cnz72.neoplus.adsl.tpnet.pl (HELO [192.168.11.11]) (pietro54@[83.31.179.72])
          (envelope-sender <pietro54@wp.pl>)
          by smtp.wp.pl (WP-SMTPD) with SMTP
          for <users@tomcat.apache.org>; 24 Jul 2012 18:30:10 +0200
Message-ID: <500ECD8F.4010302@wp.pl>
Date: Tue, 24 Jul 2012 18:30:07 +0200
From: =?ISO-8859-2?Q?Piotr_W=B1cha=B3a?= <pietro54@wp.pl>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120614 Thunderbird/13.0.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: =?ISO-8859-2?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Subject: Re: Problem with tomcat and jk module
References: <500e7af71d2117.66857428@wp.pl> <500E9F5B.8020805@ice-sa.com>
In-Reply-To: <500E9F5B.8020805@ice-sa.com>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 8bit
X-WP-AV: skaner antywirusowy poczty Wirtualnej Polski S. A.
X-WP-SPAM: NO 0000000 [odOU]                               
X-Virus-Checked: Checked by ClamAV on apache.org

ok, thanks for advice, but I checked my "front end" enviroment.
Before connection goes to front end apache, must go to firewall and next 
to load balancer.
I remove from this chain load balancer, and it was still the same.
In firewall I dont observe teardown connecion or sth. like that. (I 
can`t quit the firewall from this chain)
I try to attach pid and tid form tomcat to apache(adding %P %{tid}P %D 
to apache LogFormat) and search the problem, but I think it isent good 
clue. I cant exactly correkate problem in jklogfile and apache access.log
The funny thing is the whole system works ok. for over 2y and in last 
week just from day to another day it starts to work terrible.
I even change my isp, still no progress.

Q: What is causing that connection to close, before the response can be 
sent ?
A: I will try to answer to this after 9pm.

Piotr

W dniu 2012-07-24 15:12, Andr Warnier pisze:
> Hi.
>
> Thanks for the very complete information about your environment.
>
> Piotr Wchaa wrote:
>> Hi,
>> Maybe someone can help me with my tomcat problem.
>> Hope that wont be a big problem for you.
>>
>> Im observing that our client are disconnected from server, that is 
>> very bad situation.
>>
> In my experience, this kind of message :
>
>> In jklogfile.log
>> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] 
>> jk_handler::mod_jk.c (2620): Aborting connection for worker=loadbalancer
>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>> ajp_process_callback::jk_ajp_common.c (1885): Writing to client 
>> aborted or client network problems
>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>> ajp_service::jk_ajp_common.c (2543): (worker1) sending request to 
>> tomcat failed (unrecoverable), because of client write error (attempt=1)
>
> in 99% of the cases, indicates a problem that is NOT with Apache httpd 
> or mod_jk or Tomcat.
> It is that by the time (tomcat+mod_jk+apache) want to send a response 
> back to the client (the user's browser), the eonnection to that user's 
> browser does not exist anymore, so they cannot send it. (And all the 
> other messages after that, are because after this error, things kind 
> of get out of sync.)
>
> This can happen
> - either because the user in front of that browser decides that he has 
> waited long enough, and clicks on another link (or closes the browser)
> - or because some piece of equipment or software closes that 
> connection before (tomcat+mod_jk+apache) had a chance to send back the 
> response
>
> (It happens that in-between routers/firewalls/gatewaysw/proxies, if 
> they do not see anything happen on a client connection for a while, 
> will close that connection - to gain on the number of connections that 
> they must manage).
>
> (Both either/or causes above are also more likely if your Tomcat 
> requests are so that they take a long time to be processed and 
> generate a response)
>
> So the first place to look, is the link between your client 
> (presumably a user browser) and the front-end Apache.  What is causing 
> that connection to close, before the response can be sent ?
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235647-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 17:50:30 2012
Return-Path: <users-return-235647-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CAE8DD7D6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 17:50:30 +0000 (UTC)
Received: (qmail 49934 invoked by uid 500); 24 Jul 2012 17:50:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49748 invoked by uid 500); 24 Jul 2012 17:50:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49739 invoked by uid 99); 24 Jul 2012 17:50:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 17:50:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.63] (HELO elasmtp-junco.atl.sa.earthlink.net) (209.86.89.63)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 17:50:19 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-junco.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1StjF7-0006IA-RM
	for users@tomcat.apache.org; Tue, 24 Jul 2012 13:49:57 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500ECA9A.6000600@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-S7D0TqjVsH4CB44ufmKb"
Organization: Clifton Farm
Date: Tue, 24 Jul 2012 13:49:59 -0400
Message-ID: <1343152199.3018.340.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a0d5b003e33d289a81bcf5ef48df0ccd8a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-S7D0TqjVsH4CB44ufmKb
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Tue, 2012-07-24 at 09:17 -0700, James Lampert wrote:
> To recap, I've got a situation where Tomcat is crashing on takeoff, on a=20
> V5R4 AS/400, with what appears to be the same setup that works fine on a=20
> V6 box, and showing correct environment variables in the STDOUT spool=20
> file, and leaving this in Catalina.out.
> >>> java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalin=
a
> >>>   at java.net.URLClassLoader.findClass(URLClassLoader.java:432)
> >>>   at java.lang.ClassLoader.loadClass(ClassLoader.java:642)
> >>>   at java.lang.ClassLoader.loadClass(ClassLoader.java:608)
> >>>   at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:236)
> >>>   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)
>=20
>=20
> to which Rainer Jung replied:
> . . .
> > All this works by default in an untampered Tomcat installation. It can=20
> > break:
> >=20
> > - if catalina.jar is not in /wintouch/tomcat/lib or it is not readable
> >=20
> > - if catalina.properties is not in /wintouch/tomcat/conf, or it is not=20
> > readable, or the entries for the server.loader or common.loader are bro=
ken
> >=20
> > - the start scripts do not set -Dcatalina.base=3D/wintouch/tomcat/ and=20
> > -Dcatalina.home=3D/wintouch/tomcat/ when starting the JVM
> >=20
> > - you are changing the place of the used properties file by giving a=20
> > non-default value in the system property -Dcatalina.config during start=
up.
>=20
> I can find, so far, no evidence to indicate any of these possibilities.=20
> But is there some diagnostic I could enable, that would allow me to find=20
> out more detail about the problem? Or maybe something I could try from a=20
> QShell command line in a terminal session?
>=20
I made some suggestions to this effect the other day:

http://tomcat.10.n6.nabble.com/Tomcat-7-0-25-on-an-AS-400-V5R4-Another-try-=
Help-td4984199.html#a4984215

Maybe you already tried them or didn't get the email.


> --
> James H. H. Lampert
> Touchtone Corporation
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-S7D0TqjVsH4CB44ufmKb
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDuBHAAoJEAfDBXDHBQilITAIAKBg9SAI0/I3Js1QKcHuKrBs
+q928Z/aFDX7QJK+oqOnEKtoag9+5Wkw/am4J3tUOTGKe1jdu0GWjJGt89Puj85b
yhKN1zryS3A7MYHxNDam2azO3GB+KURwHIACJjVE+/u9eUPDT1s1SviKSz53NoRV
a0u1XPJ55jgzhwDWvpKJ0liWXcI4SWD/vWskZPZPBJ3qnd/yF6VCEMh/CFk6vHBd
goqXYjMKyzSWGXANFujioTYjOaibcOVHcIcz+xGt9Pgj8QLXbhAxZzrCmy0XE3fC
RXE2NWK3h7T3E5kSv+g1UDwhcCcmGVHKhYKqYP5Agbke0PaypUbgOlySTzTfmhA=
=g/RF
-----END PGP SIGNATURE-----

--=-S7D0TqjVsH4CB44ufmKb--


From users-return-235648-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 17:55:41 2012
Return-Path: <users-return-235648-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B9ACD7E9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 17:55:41 +0000 (UTC)
Received: (qmail 68597 invoked by uid 500); 24 Jul 2012 17:55:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68529 invoked by uid 500); 24 Jul 2012 17:55:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68520 invoked by uid 99); 24 Jul 2012 17:55:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 17:55:36 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.148.110] (HELO nm2-vm7.bullet.mail.sg3.yahoo.com) (106.10.148.110)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jul 2012 17:55:31 +0000
Received: from [106.10.166.126] by nm2.bullet.mail.sg3.yahoo.com with NNFMP; 24 Jul 2012 17:55:09 -0000
Received: from [106.10.151.253] by tm15.bullet.mail.sg3.yahoo.com with NNFMP; 24 Jul 2012 17:55:09 -0000
Received: from [127.0.0.1] by omp1002.mail.sg3.yahoo.com with NNFMP; 24 Jul 2012 17:55:09 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 264749.57381.bm@omp1002.mail.sg3.yahoo.com
Received: (qmail 13475 invoked by uid 60001); 24 Jul 2012 17:55:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343152508; bh=U2MkU4ALP/fgbJ6GSQi2miIpIykvkteb7OgITvBWHDw=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=WArexr2qMJF24vhAhEmFUo4itUxMttfAhqx1IH7xtq53XeE4PifD/qLLLx5kCo93yY1Fk75ZoCC5vB+BJAm7ss9KJO/gsrJnKgNhML7RRa2hX2VS3MENsh3jJAXSZKlFv69IKj8Qm/R94WxCr6MtSqLDtl2iKy1UetsTfMVaRu0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6fHiTSffHSeI16vo+Dsoirk1fhARZ1xmmIbh2kVDRRVtbein11yVRiUxwr1c3SX2BRXgjVX2Eko97hztFvKD96DFyXTc5mHlQfdH7obgO5xiFz1UEoI4hLcNohAzeWoom/uO3+L1LSJbKHCYVNG1xDifgk5izK5dh77R0BDzMCY=;
X-YMail-OSG: crnm59wVM1nbRPRg_OxsTD9rQMSiIbY26EsV9TX8jvOmZ_3
 ynGeuPq9nftUmMILm4eoV6iFiVAboo_5ntDjADZRByUT20ffLtMYl5G5B6AF
 WfRonRx5gyfvPPx5By_YJob0AJ2TQcC7M0Vp8xmoaH.qx_EyC.N.0yoDpNpS
 iTT.jGZ4cvNMYcJ1UkAhgcTV1j6AtuUEqK8GH1mrYwDZ_zDtg27IeacA5hBG
 We3ut3qG86vlRTNlkKztlIf1TobJmX0O46sumIuLKGBJ9pRb1cbIBJUSlfzY
 ZnFigbQ3JYWvKzM7jsuaDdF.SViWIppcOP2lvFYxgHkkJC3nLTHiwFwgJTAo
 i4sE4mJJNjtiVqCS8ppvpXowxPtHD7hgkLCp10Ngr2dbCg5pqtqRe_YLCgCS
 wXey63VvQrrSkwNcyd.akEv3bZz7pyRjS0KohAbW7YlxuzHpWdTHGz7j4Ulh
 perh_amS3UrOCOwUqcihYIcuwiuIFgYxWgveW6PjRMFw8HZkkSx8AGl9Vg6v
 anYgHcmjk8RWSVpF0uxKWIBV7W5N1MH.OAoNH3z5Ey3t2n_hFZMs-
Received: from [155.91.28.231] by web190806.mail.sg3.yahoo.com via HTTP; Wed, 25 Jul 2012 01:55:08 SGT
X-Mailer: YahooMailClassic/15.0.8 YahooMailWebService/0.8.120.356233
Message-ID: <1343152508.13305.YahooMailClassic@web190806.mail.sg3.yahoo.com>
Date: Wed, 25 Jul 2012 01:55:08 +0800 (SGT)
From: vijay mathew <vijaymathew2001@yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1342876267.25585.28.camel@cat>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org


Felix/Daniel,
I have a question on your solution.=20
To mitigate the problem of handing out broken connections
> the pool often
> has functionality to check a connection, before it hands it
> to the
> client. When using the tomcat database connection pool, that
> feature can
> be configured by setting validationQuery to a valid
> SQL-query (e.g
> "select 1 from dual" for oracle) and testOnBorrow to true.

Suppose the client tries to get a connection from the pool, and if the conn=
ection is broken , the validation fails. If the validation fails, does the =
client gets a new connection from the pool.





--- On Sat, 21/7/12, Felix Schumacher <felix.schumacher@internetallee.de> w=
rote:

> From: Felix Schumacher <felix.schumacher@internetallee.de>
> Subject: Re: java.sql.SQLException: No more data to read from socket
> To: users@tomcat.apache.org
> Date: Saturday, 21 July, 2012, 6:41 PM
> Am Samstag, den 21.07.2012, 08:44
> +0800 schrieb vijay mathew:
> > For the last 2 failures, this issue appeared on=A0
> Monday and DB gets restarted every Saturday. So I assume
> that this issue has to do something with the DB restart for
> the last 2 failures.
> >=20
> > However 1 months back, the same issue appeared on a
> Wednesday.
> >=20
> > So I was not able find a real pattern for this issue
> when I compare the last 3 failures.
> You are using a pool of connections. The pool maintains at
> least three
> different types of connections:
>=20
>  * alive connections, which are borrowed to a client
>  * alive connections, which are idling in the pool
>  * closed connections, which wait to be opened by the pool
>=20
> When you restart the database, all alive connections will
> (probably) be
> broken. If you ask the pool for a new connection, it can
> give you a
> previously closed one and open it, or a previously alive
> (and probably
> broken) one.
>=20
> So you might be lucky by getting a newly opened one, or have
> bad luck
> and get a broken connection. The pool should prefer to give
> one of the
> "alive" connections to you, though.
>=20
> To mitigate the problem of handing out broken connections
> the pool often
> has functionality to check a connection, before it hands it
> to the
> client. When using the tomcat database connection pool, that
> feature can
> be configured by setting validationQuery to a valid
> SQL-query (e.g
> "select 1 from dual" for oracle) and testOnBorrow to true.
>=20
> On the other hand, your code could store the connection
> somewhere and
> use it after a long period of time again. If the database
> was restarted
> in the meantime, you would get that error, but the
> validation query in
> the pool would not be able to help you.
>=20
> Regards
>  Felix
> >=20
> >=20
> > --- On Fri, 20/7/12, Christopher Schultz <chris@christopherschultz.net>
> wrote:
> >=20
> > > From: Christopher Schultz <chris@christopherschultz.net>
> > > Subject: Re: java.sql.SQLException: No more data
> to read from socket
> > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > Date: Friday, 20 July, 2012, 10:21 PM
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >=20
> > > - -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >=20
> > > Vijay,
> > >=20
> > > On 7/19/12 8:25 PM, vijay mathew wrote:
> > >=20
> > > > java.sql.SQLException: No more data to read
> from socket
> > > at=20
> > > >
> > >
> oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:7=
4)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171=
)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227=
)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439=
)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> > > > at
> > >
> oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
> > >=20
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:84=
9)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.j=
ava:1186)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377=
)
> > > > at=20
> > > >
> > >
> oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWra=
pper.java:386)
> > > >
> > > >
> > > >
> > > >=20
> > > at
> > >
> com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> > > > at
> > >
> javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> > >=20
> > > So, when this happens, it always happens alongside
> an Oracle
> > > restart,
> > > but an Oracle restart does not always mean you'll
> get one of
> > > these errors?
> > >=20
> > > - - -chris
> > > - -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > >=20
> > >
> iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
> > > SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=3D
> > > =3DpXsE
> > > - -----END PGP SIGNATURE-----
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > >=20
> > >
> iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
> > > PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
> > > =3DckQ+
> > > -----END PGP SIGNATURE-----
> > >=20
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >=20
> > >=20
> >=20
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235649-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 18:07:35 2012
Return-Path: <users-return-235649-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2241AD83F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 18:07:35 +0000 (UTC)
Received: (qmail 3400 invoked by uid 500); 24 Jul 2012 18:07:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3341 invoked by uid 500); 24 Jul 2012 18:07:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3331 invoked by uid 99); 24 Jul 2012 18:07:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:07:31 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:07:25 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 1159C28247
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 11:07:03 -0700 (PDT)
Received: from zimbra-prod-mta-2.vmware.com (zimbra-prod-mta-2.vmware.com [10.113.160.174])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 0D6F318547
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 11:07:03 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id 08F7F22194
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 11:07:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-2.vmware.com
Received: from zimbra-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 98FWT+3XG4+K for <users@tomcat.apache.org>;
	Tue, 24 Jul 2012 11:07:02 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-2.vmware.com (Postfix) with ESMTP id E36412214D
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 11:07:02 -0700 (PDT)
Date: Tue, 24 Jul 2012 11:07:02 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <9411749.437.1343153220840.JavaMail.daniel@cleveland>
In-Reply-To: <1343152508.13305.YahooMailClassic@web190806.mail.sg3.yahoo.com>
Subject: Re: java.sql.SQLException: No more data to read from socket
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> 
> Felix/Daniel,
> I have a question on your solution.
> To mitigate the problem of handing out broken connections
> > the pool often
> > has functionality to check a connection, before it hands it
> > to the
> > client. When using the tomcat database connection pool, that
> > feature can
> > be configured by setting validationQuery to a valid
> > SQL-query (e.g
> > "select 1 from dual" for oracle) and testOnBorrow to true.
> 
> Suppose the client tries to get a connection from the pool, and if
> the connection is broken , the validation fails. If the validation
> fails, does the client gets a new connection from the pool.

When you define your connection pool in Tomcat (i.e. using a <Resource/> tag), if you have "testOnBorrow" set to true and a "validationQuery" specified then the connection pool will test connections before it distributes them to your application.  If a test fails the connection that failed the test will be removed from the connection pool.  The pool will then attempt to borrow another connection from the pool.  This does not mean it will be a "new" connection though.  It will just go back to the pool and try again.

>From the DBCP documentation...

"The indication of whether objects will be validated before being borrowed from the pool. **If the object fails to validate, it will be dropped from the pool, and we will attempt to borrow another.**
NOTE - for a true value to have any effect, the validationQuery parameter must be set to a non-null string."

  https://commons.apache.org/dbcp/configuration.html

Dan

 
> 
> 
> 
> 
> --- On Sat, 21/7/12, Felix Schumacher
> <felix.schumacher@internetallee.de> wrote:
> 
> > From: Felix Schumacher <felix.schumacher@internetallee.de>
> > Subject: Re: java.sql.SQLException: No more data to read from
> > socket
> > To: users@tomcat.apache.org
> > Date: Saturday, 21 July, 2012, 6:41 PM
> > Am Samstag, den 21.07.2012, 08:44
> > +0800 schrieb vijay mathew:
> > > For the last 2 failures, this issue appeared on
> > Monday and DB gets restarted every Saturday. So I assume
> > that this issue has to do something with the DB restart for
> > the last 2 failures.
> > > 
> > > However 1 months back, the same issue appeared on a
> > Wednesday.
> > > 
> > > So I was not able find a real pattern for this issue
> > when I compare the last 3 failures.
> > You are using a pool of connections. The pool maintains at
> > least three
> > different types of connections:
> > 
> >  * alive connections, which are borrowed to a client
> >  * alive connections, which are idling in the pool
> >  * closed connections, which wait to be opened by the pool
> > 
> > When you restart the database, all alive connections will
> > (probably) be
> > broken. If you ask the pool for a new connection, it can
> > give you a
> > previously closed one and open it, or a previously alive
> > (and probably
> > broken) one.
> > 
> > So you might be lucky by getting a newly opened one, or have
> > bad luck
> > and get a broken connection. The pool should prefer to give
> > one of the
> > "alive" connections to you, though.
> > 
> > To mitigate the problem of handing out broken connections
> > the pool often
> > has functionality to check a connection, before it hands it
> > to the
> > client. When using the tomcat database connection pool, that
> > feature can
> > be configured by setting validationQuery to a valid
> > SQL-query (e.g
> > "select 1 from dual" for oracle) and testOnBorrow to true.
> > 
> > On the other hand, your code could store the connection
> > somewhere and
> > use it after a long period of time again. If the database
> > was restarted
> > in the meantime, you would get that error, but the
> > validation query in
> > the pool would not be able to help you.
> > 
> > Regards
> >  Felix
> > > 
> > > 
> > > --- On Fri, 20/7/12, Christopher Schultz
> > > <chris@christopherschultz.net>
> > wrote:
> > > 
> > > > From: Christopher Schultz <chris@christopherschultz.net>
> > > > Subject: Re: java.sql.SQLException: No more data
> > to read from socket
> > > > To: "Tomcat Users List" <users@tomcat.apache.org>
> > > > Date: Friday, 20 July, 2012, 10:21 PM
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > > 
> > > > - -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > > 
> > > > Vijay,
> > > > 
> > > > On 7/19/12 8:25 PM, vijay mathew wrote:
> > > > 
> > > > > java.sql.SQLException: No more data to read
> > from socket
> > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:74)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:110)
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:171)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227)
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:439)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1042)
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:999)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:584)
> > > > > at
> > > >
> > oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)
> > > > 
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:774)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:849)
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1186)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1377)
> > > > > at
> > > > >
> > > >
> > oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:386)
> > > > >
> > > > >
> > > > >
> > > > > 
> > > > at
> > > >
> > com.merck.mrl.pcisrr.mrlsos.loginservlet.service(loginservlet.java:124)
> > > > > at
> > > >
> > javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> > > > 
> > > > So, when this happens, it always happens alongside
> > an Oracle
> > > > restart,
> > > > but an Oracle restart does not always mean you'll
> > get one of
> > > > these errors?
> > > > 
> > > > - - -chris
> > > > - -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > Comment: GPGTools - http://gpgtools.org
> > > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > > > 
> > > >
> > iEUEARECAAYFAlAJixAACgkQ9CaO5/Lv0PDr8wCY2P8stZkV5AmvW28eYVf2wAYQ
> > > > SACeJBVjBTrLzWTTtkH1Hcnsh5IPKLI=
> > > > =pXsE
> > > > - -----END PGP SIGNATURE-----
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > Comment: GPGTools - http://gpgtools.org
> > > > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
> > > > 
> > > >
> > iEYEARECAAYFAlAJjJ8ACgkQ9CaO5/Lv0PBKQgCcCQPPTZaSCmug5EBYrXhONKXv
> > > > PskAn2hQ4zG+gQGK+9t7IyRqWO/0z2AM
> > > > =ckQ+
> > > > -----END PGP SIGNATURE-----
> > > > 
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > > 
> > > > 
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > 
> > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235650-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 18:36:36 2012
Return-Path: <users-return-235650-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5880FD48B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 18:36:36 +0000 (UTC)
Received: (qmail 87359 invoked by uid 500); 24 Jul 2012 18:36:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87214 invoked by uid 500); 24 Jul 2012 18:36:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87205 invoked by uid 99); 24 Jul 2012 18:36:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:36:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:36:25 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id eCtB1j0021ei1Bg55Jc6LU; Tue, 24 Jul 2012 18:36:06 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id eJc91j00t38FjT13kJcBPq; Tue, 24 Jul 2012 18:36:12 +0000
Message-ID: <500EEB10.8070806@christopherschultz.net>
Date: Tue, 24 Jul 2012 14:36:00 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat and "JDK Compatibility"
References: <500EAD13.1010308@christopherschultz.net> <500EC9DF.6000508@apache.org>
In-Reply-To: <500EC9DF.6000508@apache.org>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mark,

On 7/24/12 12:14 PM, Mark Thomas wrote:
> On 24/07/2012 16:11, Christopher Schultz wrote:
>> All,
> 
>> The Tomcat documentation says somewhat tangentially that Tomcat 
>> requires a JDK (instead of a JRE). I believe this has not been 
>> true for quite some time.
> 
>> Check the very first "requirement" for installation on these 
>> pages:
> 
>> http://tomcat.apache.org/tomcat-6.0-doc/appdev/installation.html
>>  
>> http://tomcat.apache.org/tomcat-7.0-doc/appdev/installation.html
> 
>> Is there any reason not to change "JDK" to "JRE" (and probably 
>> mention that a JDK in fact contains a JRE)?
> 
> Yes. That is the application development section for which a JDK
> is required.

Surely a (simple) web application can be developed without a JDK,
right? If you work entirely in JSP (a nightmare scenario IMO), then
you don't need a JDK.

I'm asking because these pages (specifically) have been used to
justify the rumor that Tomcat requires (or even prefers) the JDK to
the JRE. Honestly, when I read it, I was surprised to see that it said
JDK even though that page is, as you say, just for application
development. It's obvious to me that, though the page mentions CVS, it
is certainly not required to develop (nor deploy) web applications for
use on Tomcat. The same can be said for JDK versus JRE.

Do you think there would be any objections to clarifying this point on
that page? I'd be happy to provide a documentation patch.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAO6xAACgkQ9CaO5/Lv0PAZsgCgl9YfIqdJu7NxgIrbmLkli74b
LuoAn21yQPP95NwzKWeTp60R8P5U48Zv
=KD3J
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235651-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 18:59:25 2012
Return-Path: <users-return-235651-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63D08D530
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 18:59:25 +0000 (UTC)
Received: (qmail 66546 invoked by uid 500); 24 Jul 2012 18:59:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66350 invoked by uid 500); 24 Jul 2012 18:59:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66337 invoked by uid 99); 24 Jul 2012 18:59:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:59:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 18:59:16 +0000
Received: from [192.168.245.129] (p549E09E0.dip0.t-ipconnect.de [84.158.9.224])
	by tor.combios.es (Postfix) with ESMTPA id 0A021DA0533
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 20:58:50 +0200 (CEST)
Message-ID: <500EF066.8070503@ice-sa.com>
Date: Tue, 24 Jul 2012 20:58:46 +0200
From: =?ISO-8859-2?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem with tomcat and jk module
References: <500e7af71d2117.66857428@wp.pl> <500E9F5B.8020805@ice-sa.com> <500ECD8F.4010302@wp.pl>
In-Reply-To: <500ECD8F.4010302@wp.pl>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Piotr Wchaa wrote:
> ok, thanks for advice, but I checked my "front end" enviroment.
> Before connection goes to front end apache, must go to firewall and next 
> to load balancer.
> I remove from this chain load balancer, and it was still the same.
> In firewall I dont observe teardown connecion or sth. like that. (I 
> can`t quit the firewall from this chain)
> I try to attach pid and tid form tomcat to apache(adding %P %{tid}P %D 
> to apache LogFormat) and search the problem, but I think it isent good 
> clue. I cant exactly correkate problem in jklogfile and apache access.log

I think that's normal.  The Apache access-log line only gets written when the request is 
complete (and the response sent, at least partially). But since here the client connection 
is broken, there is no way to send anything to the client, and probably the access log 
line does not even get written then.
You may have more success with the error log, setting the LogLevel to "info" or so.

> The funny thing is the whole system works ok. for over 2y and in last 
> week just from day to another day it starts to work terrible.

That would then tend to indicate that the problem is due to some (new) element outside of 
(apache+mod_jk+tomcat), no ?
If you cannot remove the firewall, can you look at the firewall logs ?

Alternatively, can you install some program like wget or curl, to simulate a client 
somewhere and tell you when the client connection is dropped ?
(This being an alternative to doing a real network trace at the client level)

Also maybe check this archived thread, there are some suggestions to try out : 
http://www.mail-archive.com/users@tomcat.apache.org/msg55780.html
(sound similar ? download the perl script that is mentioned and try it out as a client)

> I even change my isp, still no progress.
But the firewall remained the same ?

> 
> Q: What is causing that connection to close, before the response can be 
> sent ?
> A: I will try to answer to this after 9pm.
> 
> Piotr
> 
> W dniu 2012-07-24 15:12, Andr Warnier pisze:
>> Hi.
>>
>> Thanks for the very complete information about your environment.
>>
>> Piotr Wchaa wrote:
>>> Hi,
>>> Maybe someone can help me with my tomcat problem.
>>> Hope that wont be a big problem for you.
>>>
>>> Im observing that our client are disconnected from server, that is 
>>> very bad situation.
>>>
>> In my experience, this kind of message :
>>
>>> In jklogfile.log
>>> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] 
>>> jk_handler::mod_jk.c (2620): Aborting connection for worker=loadbalancer
>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>>> ajp_process_callback::jk_ajp_common.c (1885): Writing to client 
>>> aborted or client network problems
>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>>> ajp_service::jk_ajp_common.c (2543): (worker1) sending request to 
>>> tomcat failed (unrecoverable), because of client write error (attempt=1)
>>
>> in 99% of the cases, indicates a problem that is NOT with Apache httpd 
>> or mod_jk or Tomcat.
>> It is that by the time (tomcat+mod_jk+apache) want to send a response 
>> back to the client (the user's browser), the eonnection to that user's 
>> browser does not exist anymore, so they cannot send it. (And all the 
>> other messages after that, are because after this error, things kind 
>> of get out of sync.)
>>
>> This can happen
>> - either because the user in front of that browser decides that he has 
>> waited long enough, and clicks on another link (or closes the browser)
>> - or because some piece of equipment or software closes that 
>> connection before (tomcat+mod_jk+apache) had a chance to send back the 
>> response
>>
>> (It happens that in-between routers/firewalls/gatewaysw/proxies, if 
>> they do not see anything happen on a client connection for a while, 
>> will close that connection - to gain on the number of connections that 
>> they must manage).
>>
>> (Both either/or causes above are also more likely if your Tomcat 
>> requests are so that they take a long time to be processed and 
>> generate a response)
>>
>> So the first place to look, is the link between your client 
>> (presumably a user browser) and the front-end Apache.  What is causing 
>> that connection to close, before the response can be sent ?
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>>
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235652-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 19:12:11 2012
Return-Path: <users-return-235652-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91B5ED5BE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 19:12:11 +0000 (UTC)
Received: (qmail 21868 invoked by uid 500); 24 Jul 2012 19:12:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21815 invoked by uid 500); 24 Jul 2012 19:12:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21804 invoked by uid 99); 24 Jul 2012 19:12:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:12:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [167.102.133.208] (HELO emx1.dpscs.state.md.us) (167.102.133.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:12:01 +0000
X-IronPort-AV: E=Sophos;i="4.77,647,1336363200"; 
   d="scan'208";a="4458383"
Received: from svrmspimx01.dpscs.mdstate (HELO svrmspimx01.dpscs.ad.icj.mdstate) ([10.20.140.151])
  by emx1.dpscs.state.md.us with ESMTP; 24 Jul 2012 15:10:23 -0400
Received: from SVRMSPEVS21.dpscs.ad.icj.mdstate ([10.20.140.51]) by svrmspimx01.dpscs.ad.icj.mdstate with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 24 Jul 2012 15:11:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Project will not build
Date: Tue, 24 Jul 2012 15:11:40 -0400
Message-ID: <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
In-Reply-To: <4FECE81D.1010001@tmbsw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Project will not build
Thread-Index: Ac1VhUVaJEYzXJEgR2WF+lXg8OC1MAUSLrsw
References: <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate> <4FECE81D.1010001@tmbsw.com>
From: "Cotton, Joseph B" <bcotton@dpscs.state.md.us>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 24 Jul 2012 19:11:40.0876 (UTC) FILETIME=[27FF28C0:01CD69D0]
X-Virus-Checked: Checked by ClamAV on apache.org

This question concerns a Project that used to work nicely.  Now it will
not build. =20
I am using NetBeans IDE 7.1.1 with Apache Tomcat 7.0.22
I left this project alone for a few months. =20

Now when I come back and try to build or run, it errors with this
message:
Copying 1 file to D:\Documents and Settings\cottonjb\My
Documents\NetBeansProjects\MAFSS2\build\web\WEB-INF\lib
D:\Documents and Settings\cottonjb\My
Documents\NetBeansProjects\MAFSS2\nbproject\build-impl.xml:687: Warning:
Could not find file D:\Documents and Settings\cottonjb\My
Documents\Downloads\javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to
copy.
BUILD FAILED (total time: 0 seconds)

It refers to this in build-impl.xml:
    <target depends=3D"init" name=3D"library-inclusion-in-archive"
unless=3D"dist.ear.dir">
        <copyfiles files=3D"${file.reference.winzipaes-20100321.jar}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
        <copyfiles
files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
        <copyfiles
files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-sources.jar}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
        <copyfiles
files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1.jar}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
        <copyfiles files=3D"${file.reference.jstl-1.2.jar}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
        <copyfiles files=3D"${libs.JSP121.classpath}"
todir=3D"${build.web.dir}/WEB-INF/lib"/>
    </target>


I manually added the javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to the
NetBeans library and the Project library.=20

The winzip jar is found.  The jsp jars are not found.  Am I reading this
correctly?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235653-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 19:36:56 2012
Return-Path: <users-return-235653-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCA55D156
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 19:36:55 +0000 (UTC)
Received: (qmail 96462 invoked by uid 500); 24 Jul 2012 19:36:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96303 invoked by uid 500); 24 Jul 2012 19:36:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96294 invoked by uid 99); 24 Jul 2012 19:36:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:36:52 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.68] (HELO elasmtp-masked.atl.sa.earthlink.net) (209.86.89.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:36:44 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-masked.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Stku7-0006VD-L9
	for users@tomcat.apache.org; Tue, 24 Jul 2012 15:36:23 -0400
Subject: Re: Project will not build
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
References:
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate>
	 <4FECE81D.1010001@tmbsw.com>
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-G6iE1PGhTk/KiNtWkQUm"
Organization: Clifton Farm
Date: Tue, 24 Jul 2012 15:36:25 -0400
Message-ID: <1343158585.3018.351.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a00b49ee5cb3ef67b0f201ffd3f4d26955350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-G6iE1PGhTk/KiNtWkQUm
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<hint> Are you asking here because you got no answers on the NetBeans
list?  Nor the Ant list? </hint>


On Tue, 2012-07-24 at 15:11 -0400, Cotton, Joseph B wrote:
> This question concerns a Project that used to work nicely.  Now it will
> not build. =20
> I am using NetBeans IDE 7.1.1 with Apache Tomcat 7.0.22
> I left this project alone for a few months. =20
>=20
> Now when I come back and try to build or run, it errors with this
> message:
> Copying 1 file to D:\Documents and Settings\cottonjb\My
> Documents\NetBeansProjects\MAFSS2\build\web\WEB-INF\lib
> D:\Documents and Settings\cottonjb\My
> Documents\NetBeansProjects\MAFSS2\nbproject\build-impl.xml:687: Warning:
> Could not find file D:\Documents and Settings\cottonjb\My
> Documents\Downloads\javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to
> copy.
> BUILD FAILED (total time: 0 seconds)
>=20
> It refers to this in build-impl.xml:
>     <target depends=3D"init" name=3D"library-inclusion-in-archive"
> unless=3D"dist.ear.dir">
>         <copyfiles files=3D"${file.reference.winzipaes-20100321.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-sources.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles files=3D"${file.reference.jstl-1.2.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles files=3D"${libs.JSP121.classpath}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>     </target>
>=20
>=20
> I manually added the javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to the
> NetBeans library and the Project library.=20
>=20
> The winzip jar is found.  The jsp jars are not found.  Am I reading this
> correctly?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-G6iE1PGhTk/KiNtWkQUm
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDvk5AAoJEAfDBXDHBQilGjkH/15s9P8+vKK8anZ0neqDiv2e
U0emyLsc2rpESHpJAOv3a09WG39vn+6St1yoNCkKukPlZrCe/xomfbIB/WRJ+Bzf
uBC8rvft6AXn5SmV2lmJYxTZR4yJpMjQ9e9zmn+TrEaMZgQjJz7BVev7BlatkKoO
LpHEv2L18I7PEstl/uxvmhHmd8m8xwR9Txd4BGfAnkXm2qwuxj57oKViLpcYMXSI
tYarmxY2PtlUylVonI2cNXpIDSMa8S2cR6IRe1bHkO6JrOOSVRIfDFrDeAanRI4D
XSnw2cksLpnOB5bO/vO2m/fWH90u6gOjJeUt1/y2DbANwFG2EuonlV/P3hFN5m4=
=DosZ
-----END PGP SIGNATURE-----

--=-G6iE1PGhTk/KiNtWkQUm--


From users-return-235654-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 19:47:23 2012
Return-Path: <users-return-235654-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA80AD22A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 19:47:23 +0000 (UTC)
Received: (qmail 30074 invoked by uid 500); 24 Jul 2012 19:47:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30005 invoked by uid 500); 24 Jul 2012 19:47:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29996 invoked by uid 99); 24 Jul 2012 19:47:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:47:20 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.110 as permitted sender)
Received: from [65.55.111.110] (HELO blu0-omc2-s35.blu0.hotmail.com) (65.55.111.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 19:47:12 +0000
Received: from BLU142-W28 ([65.55.111.71]) by blu0-omc2-s35.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 24 Jul 2012 12:46:51 -0700
Message-ID: <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_b6c1c0ad-6ba0-40b8-b392-253161f2e4d2_"
X-Originating-IP: [190.155.13.74]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Project will not build
Date: Tue, 24 Jul 2012 15:46:50 -0400
Importance: Normal
In-Reply-To:
 <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
References:
 <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate>
 <4FECE81D.1010001@tmbsw.com>,<9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
MIME-Version: 1.0
X-OriginalArrivalTime: 24 Jul 2012 19:46:51.0397 (UTC) FILETIME=[11F71B50:01CD69D5]

--_b6c1c0ad-6ba0-40b8-b392-253161f2e4d2_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


http://grepcode.com/snapshot/repo1.maven.org/maven2/javax.servlet.jsp.jstl/=
javax.servlet.jsp.jstl-api/1.2.1

This is what youre looking for ..if the ant guy is looking the other way yo=
u can easily integrate this depdency with maven3 and insert this dependency=
 into your depdendency list:
<dependencies>
 <dependency>
  <groupId>javax.servlet.jsp.jstl</groupId>
  <artifactId>javax.servlet.jsp.jstl-api</artifactId>
  <version>1.2.1</version>
 </dependency>
...........................other dependencies..................
</dependencies>

if the ant guy is on top of you or has sufficient power to stop the project=
 then copy the jar from the liunk above to the location pointed by=20
${file.reference.winzipaes-20100321.jar}=20
(you should see the exact location from the reference of file.reference.win=
zipaes-20100321.jar located somewhere at the top of the build.xml)
then rerun the ant script and make sure the init target is executed e.g.
ant init

Martin Gainty=20
______________________________________________=20
"I know a little about Orson's childhood and seriously doubt if he ever was=
 a child..." - Joseph Cotton


> Subject: Project will not build
> Date: Tue=2C 24 Jul 2012 15:11:40 -0400
> From: bcotton@dpscs.state.md.us
> To: users@tomcat.apache.org
>=20
> This question concerns a Project that used to work nicely.  Now it will
> not build. =20
> I am using NetBeans IDE 7.1.1 with Apache Tomcat 7.0.22
> I left this project alone for a few months. =20
>=20
> Now when I come back and try to build or run=2C it errors with this
> message:
> Copying 1 file to D:\Documents and Settings\cottonjb\My
> Documents\NetBeansProjects\MAFSS2\build\web\WEB-INF\lib
> D:\Documents and Settings\cottonjb\My
> Documents\NetBeansProjects\MAFSS2\nbproject\build-impl.xml:687: Warning:
> Could not find file D:\Documents and Settings\cottonjb\My
> Documents\Downloads\javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to
> copy.
> BUILD FAILED (total time: 0 seconds)
>=20
> It refers to this in build-impl.xml:
>     <target depends=3D"init" name=3D"library-inclusion-in-archive"
> unless=3D"dist.ear.dir">
>         <copyfiles files=3D"${file.reference.winzipaes-20100321.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-sources.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles
> files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles files=3D"${file.reference.jstl-1.2.jar}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>         <copyfiles files=3D"${libs.JSP121.classpath}"
> todir=3D"${build.web.dir}/WEB-INF/lib"/>
>     </target>
>=20
>=20
> I manually added the javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to the
> NetBeans library and the Project library.=20
>=20
> The winzip jar is found.  The jsp jars are not found.  Am I reading this
> correctly?
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_b6c1c0ad-6ba0-40b8-b392-253161f2e4d2_--

From users-return-235655-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 20:01:00 2012
Return-Path: <users-return-235655-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAACDD2C7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 20:01:00 +0000 (UTC)
Received: (qmail 79883 invoked by uid 500); 24 Jul 2012 20:00:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79696 invoked by uid 500); 24 Jul 2012 20:00:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79687 invoked by uid 99); 24 Jul 2012 20:00:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:00:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [167.102.133.208] (HELO emx1.dpscs.state.md.us) (167.102.133.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:00:49 +0000
X-IronPort-AV: E=Sophos;i="4.77,648,1336363200"; 
   d="scan'208";a="4459493"
Received: from svrmspimx02.dpscs.mdstate (HELO svrmspimx02.dpscs.ad.icj.mdstate) ([10.20.140.152])
  by emx1.dpscs.state.md.us with ESMTP; 24 Jul 2012 15:59:11 -0400
Received: from SVRMSPEVS21.dpscs.ad.icj.mdstate ([10.20.140.51]) by svrmspimx02.dpscs.ad.icj.mdstate with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 24 Jul 2012 16:00:28 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: Project will not build
Date: Tue, 24 Jul 2012 16:00:27 -0400
Message-ID: <9628CAB20B0A8F4D933E1B9245BD4C5205975809@SVRMSPEVS21.dpscs.ad.icj.mdstate>
In-Reply-To: <1343158585.3018.351.camel@dellberry>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Project will not build
Thread-Index: Ac1p0667EtlY8G76T2CHpA349g8ThgAASuXA
References: <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate> <4FECE81D.1010001@tmbsw.com> <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate> <1343158585.3018.351.camel@dellberry>
From: "Cotton, Joseph B" <bcotton@dpscs.state.md.us>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 24 Jul 2012 20:00:28.0498 (UTC) FILETIME=[F8FED320:01CD69D6]

QWN0dWFsbHksIG5vLiAgQnV0IGEgbGl0dGxlIG1vcmUgcG9raW5nIGFyb3VuZCBmaXhlZCBpdC4g
DQpCeSB0aGUgd2F5LCBpcyB0aGVyZSBhbnkgcmVhbGx5IGdvb2QgcmVmZXJlbmNlIGZvciBUb21j
YXQ/ICBJIGhhdmUgdGhyZWUgTydyZWlsZXkgYm9va3MgYW5kIHRoZXkgZG9u4oCZdCBzZWVtIHRv
IGhlbHAgbXVjaC4gSSBjYW4gcmVhZCB0aGUgSG93LVRvIHBhZ2VzIGFsbCBkYXkgYW5kIG5vdGhp
bmcgc2VlbXMgdG8gc3RpY2suICBJIGFtIGxvb2tpbmcgZm9yIHNvbWVodGluZyB0aGF0IGRlY3Jp
YmVzIHdoYXQgaGFwcGVucyB3aGVuIC4uLi4gQW5kIHdoYXQgIGVhY2ggb2YgdGhlIHhtbCBmaWxl
cyBhcmUgZm9yLiAgSXMgdGhlcmUgYSBjb21wb25lbnQgbGlzdD8gIA0KDQotLS0tLU9yaWdpbmFs
IE1lc3NhZ2UtLS0tLQ0KRnJvbTogVGltIFdhdHRzIFttYWlsdG86dGltQGNsaWZ0b25mYXJtLm9y
Z10gDQpTZW50OiBUdWVzZGF5LCBKdWx5IDI0LCAyMDEyIDM6MzYgUE0NClRvOiBUb21jYXQgVXNl
cnMgTGlzdA0KU3ViamVjdDogUmU6IFByb2plY3Qgd2lsbCBub3QgYnVpbGQNCg0KPGhpbnQ+IEFy
ZSB5b3UgYXNraW5nIGhlcmUgYmVjYXVzZSB5b3UgZ290IG5vIGFuc3dlcnMgb24gdGhlIE5ldEJl
YW5zIGxpc3Q/ICBOb3IgdGhlIEFudCBsaXN0PyA8L2hpbnQ+DQoNCg0KT24gVHVlLCAyMDEyLTA3
LTI0IGF0IDE1OjExIC0wNDAwLCBDb3R0b24sIEpvc2VwaCBCIHdyb3RlOg0KPiBUaGlzIHF1ZXN0
aW9uIGNvbmNlcm5zIGEgUHJvamVjdCB0aGF0IHVzZWQgdG8gd29yayBuaWNlbHkuICBOb3cgaXQg
DQo+IHdpbGwgbm90IGJ1aWxkLg0KPiBJIGFtIHVzaW5nIE5ldEJlYW5zIElERSA3LjEuMSB3aXRo
IEFwYWNoZSBUb21jYXQgNy4wLjIyIEkgbGVmdCB0aGlzIA0KPiBwcm9qZWN0IGFsb25lIGZvciBh
IGZldyBtb250aHMuDQo+IA0KPiBOb3cgd2hlbiBJIGNvbWUgYmFjayBhbmQgdHJ5IHRvIGJ1aWxk
IG9yIHJ1biwgaXQgZXJyb3JzIHdpdGggdGhpcw0KPiBtZXNzYWdlOg0KPiBDb3B5aW5nIDEgZmls
ZSB0byBEOlxEb2N1bWVudHMgYW5kIFNldHRpbmdzXGNvdHRvbmpiXE15IA0KPiBEb2N1bWVudHNc
TmV0QmVhbnNQcm9qZWN0c1xNQUZTUzJcYnVpbGRcd2ViXFdFQi1JTkZcbGliDQo+IEQ6XERvY3Vt
ZW50cyBhbmQgU2V0dGluZ3NcY290dG9uamJcTXkNCj4gRG9jdW1lbnRzXE5ldEJlYW5zUHJvamVj
dHNcTUFGU1MyXG5icHJvamVjdFxidWlsZC1pbXBsLnhtbDo2ODc6IFdhcm5pbmc6DQo+IENvdWxk
IG5vdCBmaW5kIGZpbGUgRDpcRG9jdW1lbnRzIGFuZCBTZXR0aW5nc1xjb3R0b25qYlxNeSANCj4g
RG9jdW1lbnRzXERvd25sb2Fkc1xqYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS1qYXZh
ZG9jLmphciB0byANCj4gY29weS4NCj4gQlVJTEQgRkFJTEVEICh0b3RhbCB0aW1lOiAwIHNlY29u
ZHMpDQo+IA0KPiBJdCByZWZlcnMgdG8gdGhpcyBpbiBidWlsZC1pbXBsLnhtbDoNCj4gICAgIDx0
YXJnZXQgZGVwZW5kcz0iaW5pdCIgbmFtZT0ibGlicmFyeS1pbmNsdXNpb24taW4tYXJjaGl2ZSIN
Cj4gdW5sZXNzPSJkaXN0LmVhci5kaXIiPg0KPiAgICAgICAgIDxjb3B5ZmlsZXMgZmlsZXM9IiR7
ZmlsZS5yZWZlcmVuY2Uud2luemlwYWVzLTIwMTAwMzIxLmphcn0iDQo+IHRvZGlyPSIke2J1aWxk
LndlYi5kaXJ9L1dFQi1JTkYvbGliIi8+DQo+ICAgICAgICAgPGNvcHlmaWxlcw0KPiBmaWxlcz0i
JHtmaWxlLnJlZmVyZW5jZS5qYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS1qYXZhZG9j
Lmphcn0iDQo+IHRvZGlyPSIke2J1aWxkLndlYi5kaXJ9L1dFQi1JTkYvbGliIi8+DQo+ICAgICAg
ICAgPGNvcHlmaWxlcw0KPiBmaWxlcz0iJHtmaWxlLnJlZmVyZW5jZS5qYXZheC5zZXJ2bGV0Lmpz
cC5qc3RsLWFwaS0xLjIuMS1zb3VyY2VzLmphcn0iDQo+IHRvZGlyPSIke2J1aWxkLndlYi5kaXJ9
L1dFQi1JTkYvbGliIi8+DQo+ICAgICAgICAgPGNvcHlmaWxlcw0KPiBmaWxlcz0iJHtmaWxlLnJl
ZmVyZW5jZS5qYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS5qYXJ9Ig0KPiB0b2Rpcj0i
JHtidWlsZC53ZWIuZGlyfS9XRUItSU5GL2xpYiIvPg0KPiAgICAgICAgIDxjb3B5ZmlsZXMgZmls
ZXM9IiR7ZmlsZS5yZWZlcmVuY2UuanN0bC0xLjIuamFyfSINCj4gdG9kaXI9IiR7YnVpbGQud2Vi
LmRpcn0vV0VCLUlORi9saWIiLz4NCj4gICAgICAgICA8Y29weWZpbGVzIGZpbGVzPSIke2xpYnMu
SlNQMTIxLmNsYXNzcGF0aH0iDQo+IHRvZGlyPSIke2J1aWxkLndlYi5kaXJ9L1dFQi1JTkYvbGli
Ii8+DQo+ICAgICA8L3RhcmdldD4NCj4gDQo+IA0KPiBJIG1hbnVhbGx5IGFkZGVkIHRoZSBqYXZh
eC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS1qYXZhZG9jLmphciB0byANCj4gdGhlIE5ldEJl
YW5zIGxpYnJhcnkgYW5kIHRoZSBQcm9qZWN0IGxpYnJhcnkuDQo+IA0KPiBUaGUgd2luemlwIGph
ciBpcyBmb3VuZC4gIFRoZSBqc3AgamFycyBhcmUgbm90IGZvdW5kLiAgQW0gSSByZWFkaW5nIA0K
PiB0aGlzIGNvcnJlY3RseT8NCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwg
ZS1tYWlsOiB1c2Vycy11bnN1YnNjcmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRp
b25hbCBjb21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQo+IA0K
DQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235656-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 20:04:30 2012
Return-Path: <users-return-235656-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BFB8D36C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 20:04:30 +0000 (UTC)
Received: (qmail 93027 invoked by uid 500); 24 Jul 2012 20:04:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92959 invoked by uid 500); 24 Jul 2012 20:04:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92949 invoked by uid 99); 24 Jul 2012 20:04:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:04:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.65] (HELO elasmtp-kukur.atl.sa.earthlink.net) (209.86.89.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:04:21 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-kukur.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1StlKq-0003G0-Vr
	for users@tomcat.apache.org; Tue, 24 Jul 2012 16:04:01 -0400
Subject: RE: Project will not build
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl>
References:
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate>
	 <4FECE81D.1010001@tmbsw.com>
	 ,<9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
	 <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-N0PCjP2Cf0sqNuSRdYiv"
Organization: Clifton Farm
Date: Tue, 24 Jul 2012 16:04:02 -0400
Message-ID: <1343160242.3018.363.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a0d3fbe7d719acdc0275b89bcadad4eb3b350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-N0PCjP2Cf0sqNuSRdYiv
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Tue, 2012-07-24 at 15:46 -0400, Martin Gainty wrote:
> http://grepcode.com/snapshot/repo1.maven.org/maven2/javax.servlet.jsp.jst=
l/javax.servlet.jsp.jstl-api/1.2.1
>=20
> This is what youre looking for ..if the ant guy is looking the other
> way you can easily integrate this depdency with maven3 and insert this
> dependency into your depdendency list:
> <dependencies>
>  <dependency>
>   <groupId>javax.servlet.jsp.jstl</groupId>
>   <artifactId>javax.servlet.jsp.jstl-api</artifactId>
>   <version>1.2.1</version>
>  </dependency>
> ...........................other dependencies..................
> </dependencies>
>=20
1. I don't think he's using Maven.

> if the ant guy is on top of you or has sufficient power to stop the
> project then copy the jar from the liunk above to the location pointed
> by=20
> ${file.reference.winzipaes-20100321.jar}=20

2. Red Herring.  That could be an entirely different location.

> (you should see the exact location from the reference of
> file.reference.winzipaes-20100321.jar located somewhere at the top of
> the build.xml)
> then rerun the ant script and make sure the init target is executed
> e.g.
> ant init
>=20
> Martin Gainty=20
> ______________________________________________=20
> "I know a little about Orson's childhood and seriously doubt if he
> ever was a child..." - Joseph Cotton
>=20
3. That's Joseph Cotten

>=20
> > Subject: Project will not build
> > Date: Tue, 24 Jul 2012 15:11:40 -0400
> > From: bcotton@dpscs.state.md.us
> > To: users@tomcat.apache.org
> >=20
> > This question concerns a Project that used to work nicely.  Now it will
> > not build. =20
> > I am using NetBeans IDE 7.1.1 with Apache Tomcat 7.0.22
> > I left this project alone for a few months. =20
> >=20
> > Now when I come back and try to build or run, it errors with this
> > message:
> > Copying 1 file to D:\Documents and Settings\cottonjb\My
> > Documents\NetBeansProjects\MAFSS2\build\web\WEB-INF\lib
> > D:\Documents and Settings\cottonjb\My
> > Documents\NetBeansProjects\MAFSS2\nbproject\build-impl.xml:687: Warning=
:
> > Could not find file D:\Documents and Settings\cottonjb\My
> > Documents\Downloads\javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to
> > copy.
> > BUILD FAILED (total time: 0 seconds)
> >=20
> > It refers to this in build-impl.xml:
> >     <target depends=3D"init" name=3D"library-inclusion-in-archive"
> > unless=3D"dist.ear.dir">
> >         <copyfiles files=3D"${file.reference.winzipaes-20100321.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar}=
"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-sources.jar}=
"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles files=3D"${file.reference.jstl-1.2.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles files=3D"${libs.JSP121.classpath}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >     </target>
> >=20
> >=20
> > I manually added the javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to th=
e
> > NetBeans library and the Project library.=20
> >=20
> > The winzip jar is found.  The jsp jars are not found.  Am I reading thi=
s
> > correctly?
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>  		 	   		 =20


--=-N0PCjP2Cf0sqNuSRdYiv
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDv+yAAoJEAfDBXDHBQil6ssH/1N64tBOvGsTj21uJO+x8rWz
MiO+J/hNQOQSQq6+cBFk/oeSVKDY5HhLKn4f22kfKwb1n+wcdk/8bBl7i7m50sj8
0whHLh+EHpp42id/Eefi4kAyvkMLmeshz++pX1lq5ZGTKjZQrIM34T1E45KeaN6t
T+9X9yAjhFjx128boumU/15+OfKp0IBWhSk3JcPTcND/KFxJEQg7nqEmsuHB2wVf
DgFOiB9KX+luEEMcHvGnM/LavF0BO4KZ8/t7JwTz6Q7SbioLUOje7dffUy3UN41c
9+MqWAntkl9Qdno+lM3ltPSpLmGrx/XcUKxrniKy1smU10Rw9iCocpbbqHiH0H8=
=/Qjf
-----END PGP SIGNATURE-----

--=-N0PCjP2Cf0sqNuSRdYiv--


From users-return-235657-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 20:16:11 2012
Return-Path: <users-return-235657-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 580B9D439
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 20:16:11 +0000 (UTC)
Received: (qmail 23537 invoked by uid 500); 24 Jul 2012 20:16:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23366 invoked by uid 500); 24 Jul 2012 20:16:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23356 invoked by uid 99); 24 Jul 2012 20:16:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:16:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [167.102.133.208] (HELO emx1.dpscs.state.md.us) (167.102.133.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:16:03 +0000
X-IronPort-AV: E=Sophos;i="4.77,648,1336363200"; 
   d="scan'208";a="4459789"
Received: from svrmspimx02.dpscs.mdstate (HELO svrmspimx02.dpscs.ad.icj.mdstate) ([10.20.140.152])
  by emx1.dpscs.state.md.us with ESMTP; 24 Jul 2012 16:14:24 -0400
Received: from SVRMSPEVS21.dpscs.ad.icj.mdstate ([10.20.140.51]) by svrmspimx02.dpscs.ad.icj.mdstate with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 24 Jul 2012 16:15:42 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: Project will not build
Date: Tue, 24 Jul 2012 16:15:41 -0400
Message-ID: <9628CAB20B0A8F4D933E1B9245BD4C520597580A@SVRMSPEVS21.dpscs.ad.icj.mdstate>
In-Reply-To: <1343160242.3018.363.camel@dellberry>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Project will not build
Thread-Index: Ac1p14ktrs9lCeyHR4uoRcPWpJmnDQAADWKQ
References: <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate> <4FECE81D.1010001@tmbsw.com> ,<9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate> <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl> <1343160242.3018.363.camel@dellberry>
From: "Cotton, Joseph B" <bcotton@dpscs.state.md.us>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 24 Jul 2012 20:15:42.0027 (UTC) FILETIME=[198049B0:01CD69D9]
X-Virus-Checked: Checked by ClamAV on apache.org

VGhhbmtzIGFsbCAtIGl0IGlzIGJ1aWxkaW5nIG5vdy4gIA0KDQpIZXJlIGlzIHdoYXQgSSBkaWQ6
DQpSaWdodCBjbGljayBvbiB0aGUgcHJvamVjdA0KU2VsZWN0IFByb3BlcnRpZXMNClNlbGVjdCBM
aWJyYXJpZXMNClNlbGVjdCBjb21waWxlIHRhYg0KUmVtb3ZlZCB0aGUgbGlicmFyaWVzIHRoYXQg
Y291bGQgbm90IGJlIGZvdW5kDQpBZGRlZCB0aGUgbGlicmFyeSB0byBiZSBmb3VuZA0KT0sNCg0K
UXVlc3Rpb24gZm9yIHRoZSBUb21jYXQgbGlzdDogIElzbnQgL1dFQi1JTkYvbGliIGEgVG9tY2F0
IGZvbGRlcj8gIEl0IGlzIHJlZmVyZWQgdG8gaW4gdGhlIFRvbWNhdCBkb2N1bWVudGF0aW9uLCBy
aWdodD8gKGNvbmZ1c2VkIGxvb2spDQoNCk15IHF1ZXN0aW9uIGZvciB0aGUgTmV0QmVhbnMgbGlz
dCB3b3VsZCBiZSB3aHkgZGlkbuKAmXQgaXQgZmluZCBteSBsaWJyYXJpZXMgYWZ0ZXIgSSBhZGRl
ZCB0aGUgbGlicmFyaWVzIHRvIHRoZSBwcm9qZWN0IHVuZGVyIHRoZSBMaWJyYXJpZXMgZm9sZGVy
PyAgQnV0IGFzIFRpbSBoaW50ZWQsIHRoaXMgcXVlc3Rpb24gaXMgb2ZmIHRvcGljIGhlcmUuDQoN
ClVuZm9ydHVuYXRlbHksIGluIG15IGhhc3RlLCBJIHJlc3RvcmVkIHRoZSBjb2RlIGZyb20gYSBi
YWNrdXAsIHdoaWNoIG5vdyBuZWVkcyB0byBiZSB1cGRhdGVkLi4uDQoNCldoaWNoIGxlYWRzIHRv
IG15IG90aGVyIHF1ZXN0aW9uLCBpZiBJIG1ha2UgYSBiYWNrdXAgb2YgdGhlIGZvbGRlcnMsIHdo
eSBkaWRuJ3QganVzdCBjb3B5aW5nIHRoZSB0aGUgZm9sZGVycyBiYWNrIGluICBmaXggaXQ/ICBU
aGVyZSBzZWVtcyB0byBiZSBtdWx0aXBsZSBwbGFjZXMgdG8gY29uZmlndXJlLi4uDQoNClRoYW5r
cyBhbmQgcmVnYXJkcw0KSm9lDQoNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206
IFRpbSBXYXR0cyBbbWFpbHRvOnRpbUBjbGlmdG9uZmFybS5vcmddIA0KU2VudDogVHVlc2RheSwg
SnVseSAyNCwgMjAxMiA0OjA0IFBNDQpUbzogVG9tY2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJF
OiBQcm9qZWN0IHdpbGwgbm90IGJ1aWxkDQoNCk9uIFR1ZSwgMjAxMi0wNy0yNCBhdCAxNTo0NiAt
MDQwMCwgTWFydGluIEdhaW50eSB3cm90ZToNCj4gaHR0cDovL2dyZXBjb2RlLmNvbS9zbmFwc2hv
dC9yZXBvMS5tYXZlbi5vcmcvbWF2ZW4yL2phdmF4LnNlcnZsZXQuanNwLg0KPiBqc3RsL2phdmF4
LnNlcnZsZXQuanNwLmpzdGwtYXBpLzEuMi4xDQo+IA0KPiBUaGlzIGlzIHdoYXQgeW91cmUgbG9v
a2luZyBmb3IgLi5pZiB0aGUgYW50IGd1eSBpcyBsb29raW5nIHRoZSBvdGhlciANCj4gd2F5IHlv
dSBjYW4gZWFzaWx5IGludGVncmF0ZSB0aGlzIGRlcGRlbmN5IHdpdGggbWF2ZW4zIGFuZCBpbnNl
cnQgdGhpcyANCj4gZGVwZW5kZW5jeSBpbnRvIHlvdXIgZGVwZGVuZGVuY3kgbGlzdDoNCj4gPGRl
cGVuZGVuY2llcz4NCj4gIDxkZXBlbmRlbmN5Pg0KPiAgIDxncm91cElkPmphdmF4LnNlcnZsZXQu
anNwLmpzdGw8L2dyb3VwSWQ+DQo+ICAgPGFydGlmYWN0SWQ+amF2YXguc2VydmxldC5qc3AuanN0
bC1hcGk8L2FydGlmYWN0SWQ+DQo+ICAgPHZlcnNpb24+MS4yLjE8L3ZlcnNpb24+DQo+ICA8L2Rl
cGVuZGVuY3k+DQo+IC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm90aGVyIGRlcGVuZGVuY2ll
cy4uLi4uLi4uLi4uLi4uLi4uLg0KPiA8L2RlcGVuZGVuY2llcz4NCj4gDQoxLiBJIGRvbid0IHRo
aW5rIGhlJ3MgdXNpbmcgTWF2ZW4uDQoNCj4gaWYgdGhlIGFudCBndXkgaXMgb24gdG9wIG9mIHlv
dSBvciBoYXMgc3VmZmljaWVudCBwb3dlciB0byBzdG9wIHRoZSANCj4gcHJvamVjdCB0aGVuIGNv
cHkgdGhlIGphciBmcm9tIHRoZSBsaXVuayBhYm92ZSB0byB0aGUgbG9jYXRpb24gcG9pbnRlZCAN
Cj4gYnkgJHtmaWxlLnJlZmVyZW5jZS53aW56aXBhZXMtMjAxMDAzMjEuamFyfQ0KDQoyLiBSZWQg
SGVycmluZy4gIFRoYXQgY291bGQgYmUgYW4gZW50aXJlbHkgZGlmZmVyZW50IGxvY2F0aW9uLg0K
DQo+ICh5b3Ugc2hvdWxkIHNlZSB0aGUgZXhhY3QgbG9jYXRpb24gZnJvbSB0aGUgcmVmZXJlbmNl
IG9mIA0KPiBmaWxlLnJlZmVyZW5jZS53aW56aXBhZXMtMjAxMDAzMjEuamFyIGxvY2F0ZWQgc29t
ZXdoZXJlIGF0IHRoZSB0b3Agb2YgDQo+IHRoZSBidWlsZC54bWwpIHRoZW4gcmVydW4gdGhlIGFu
dCBzY3JpcHQgYW5kIG1ha2Ugc3VyZSB0aGUgaW5pdCB0YXJnZXQgDQo+IGlzIGV4ZWN1dGVkIGUu
Zy4NCj4gYW50IGluaXQNCj4gDQo+IE1hcnRpbiBHYWludHkNCj4gX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiAiSSBrbm93IGEgbGl0dGxlIGFib3V0IE9y
c29uJ3MgY2hpbGRob29kIGFuZCBzZXJpb3VzbHkgZG91YnQgaWYgaGUgDQo+IGV2ZXIgd2FzIGEg
Y2hpbGQuLi4iIC0gSm9zZXBoIENvdHRvbg0KPiANCjMuIFRoYXQncyBKb3NlcGggQ290dGVuDQoN
Cj4gDQo+ID4gU3ViamVjdDogUHJvamVjdCB3aWxsIG5vdCBidWlsZA0KPiA+IERhdGU6IFR1ZSwg
MjQgSnVsIDIwMTIgMTU6MTE6NDAgLTA0MDANCj4gPiBGcm9tOiBiY290dG9uQGRwc2NzLnN0YXRl
Lm1kLnVzDQo+ID4gVG86IHVzZXJzQHRvbWNhdC5hcGFjaGUub3JnDQo+ID4gDQo+ID4gVGhpcyBx
dWVzdGlvbiBjb25jZXJucyBhIFByb2plY3QgdGhhdCB1c2VkIHRvIHdvcmsgbmljZWx5LiAgTm93
IGl0IA0KPiA+IHdpbGwgbm90IGJ1aWxkLg0KPiA+IEkgYW0gdXNpbmcgTmV0QmVhbnMgSURFIDcu
MS4xIHdpdGggQXBhY2hlIFRvbWNhdCA3LjAuMjIgSSBsZWZ0IHRoaXMgDQo+ID4gcHJvamVjdCBh
bG9uZSBmb3IgYSBmZXcgbW9udGhzLg0KPiA+IA0KPiA+IE5vdyB3aGVuIEkgY29tZSBiYWNrIGFu
ZCB0cnkgdG8gYnVpbGQgb3IgcnVuLCBpdCBlcnJvcnMgd2l0aCB0aGlzDQo+ID4gbWVzc2FnZToN
Cj4gPiBDb3B5aW5nIDEgZmlsZSB0byBEOlxEb2N1bWVudHMgYW5kIFNldHRpbmdzXGNvdHRvbmpi
XE15IA0KPiA+IERvY3VtZW50c1xOZXRCZWFuc1Byb2plY3RzXE1BRlNTMlxidWlsZFx3ZWJcV0VC
LUlORlxsaWINCj4gPiBEOlxEb2N1bWVudHMgYW5kIFNldHRpbmdzXGNvdHRvbmpiXE15DQo+ID4g
RG9jdW1lbnRzXE5ldEJlYW5zUHJvamVjdHNcTUFGU1MyXG5icHJvamVjdFxidWlsZC1pbXBsLnht
bDo2ODc6IFdhcm5pbmc6DQo+ID4gQ291bGQgbm90IGZpbmQgZmlsZSBEOlxEb2N1bWVudHMgYW5k
IFNldHRpbmdzXGNvdHRvbmpiXE15IA0KPiA+IERvY3VtZW50c1xEb3dubG9hZHNcamF2YXguc2Vy
dmxldC5qc3AuanN0bC1hcGktMS4yLjEtamF2YWRvYy5qYXIgdG8gDQo+ID4gY29weS4NCj4gPiBC
VUlMRCBGQUlMRUQgKHRvdGFsIHRpbWU6IDAgc2Vjb25kcykNCj4gPiANCj4gPiBJdCByZWZlcnMg
dG8gdGhpcyBpbiBidWlsZC1pbXBsLnhtbDoNCj4gPiAgICAgPHRhcmdldCBkZXBlbmRzPSJpbml0
IiBuYW1lPSJsaWJyYXJ5LWluY2x1c2lvbi1pbi1hcmNoaXZlIg0KPiA+IHVubGVzcz0iZGlzdC5l
YXIuZGlyIj4NCj4gPiAgICAgICAgIDxjb3B5ZmlsZXMgZmlsZXM9IiR7ZmlsZS5yZWZlcmVuY2Uu
d2luemlwYWVzLTIwMTAwMzIxLmphcn0iDQo+ID4gdG9kaXI9IiR7YnVpbGQud2ViLmRpcn0vV0VC
LUlORi9saWIiLz4NCj4gPiAgICAgICAgIDxjb3B5ZmlsZXMNCj4gPiBmaWxlcz0iJHtmaWxlLnJl
ZmVyZW5jZS5qYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS1qYXZhZG9jLmphcn0iDQo+
ID4gdG9kaXI9IiR7YnVpbGQud2ViLmRpcn0vV0VCLUlORi9saWIiLz4NCj4gPiAgICAgICAgIDxj
b3B5ZmlsZXMNCj4gPiBmaWxlcz0iJHtmaWxlLnJlZmVyZW5jZS5qYXZheC5zZXJ2bGV0LmpzcC5q
c3RsLWFwaS0xLjIuMS1zb3VyY2VzLmphcn0iDQo+ID4gdG9kaXI9IiR7YnVpbGQud2ViLmRpcn0v
V0VCLUlORi9saWIiLz4NCj4gPiAgICAgICAgIDxjb3B5ZmlsZXMNCj4gPiBmaWxlcz0iJHtmaWxl
LnJlZmVyZW5jZS5qYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS5qYXJ9Ig0KPiA+IHRv
ZGlyPSIke2J1aWxkLndlYi5kaXJ9L1dFQi1JTkYvbGliIi8+DQo+ID4gICAgICAgICA8Y29weWZp
bGVzIGZpbGVzPSIke2ZpbGUucmVmZXJlbmNlLmpzdGwtMS4yLmphcn0iDQo+ID4gdG9kaXI9IiR7
YnVpbGQud2ViLmRpcn0vV0VCLUlORi9saWIiLz4NCj4gPiAgICAgICAgIDxjb3B5ZmlsZXMgZmls
ZXM9IiR7bGlicy5KU1AxMjEuY2xhc3NwYXRofSINCj4gPiB0b2Rpcj0iJHtidWlsZC53ZWIuZGly
fS9XRUItSU5GL2xpYiIvPg0KPiA+ICAgICA8L3RhcmdldD4NCj4gPiANCj4gPiANCj4gPiBJIG1h
bnVhbGx5IGFkZGVkIHRoZSBqYXZheC5zZXJ2bGV0LmpzcC5qc3RsLWFwaS0xLjIuMS1qYXZhZG9j
LmphciB0byANCj4gPiB0aGUgTmV0QmVhbnMgbGlicmFyeSBhbmQgdGhlIFByb2plY3QgbGlicmFy
eS4NCj4gPiANCj4gPiBUaGUgd2luemlwIGphciBpcyBmb3VuZC4gIFRoZSBqc3AgamFycyBhcmUg
bm90IGZvdW5kLiAgQW0gSSByZWFkaW5nIA0KPiA+IHRoaXMgY29ycmVjdGx5Pw0KPiA+IA0KPiA+
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tDQo+ID4gLSBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiB1c2Vycy11bnN1YnNj
cmliZUB0b21jYXQuYXBhY2hlLm9yZw0KPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCj4gPiANCj4gIAkJIAkgICAJCSAgDQoN
Cg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235658-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 20:18:51 2012
Return-Path: <users-return-235658-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 11B73D441
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 20:18:50 +0000 (UTC)
Received: (qmail 30497 invoked by uid 500); 24 Jul 2012 20:18:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30274 invoked by uid 500); 24 Jul 2012 20:18:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30265 invoked by uid 99); 24 Jul 2012 20:18:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:18:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.42] (HELO smtpout.wanadoo.co.uk) (80.12.242.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:18:42 +0000
Received: from mail.homeinbox.net ([2.24.222.242])
	by mwinf5d20 with ME
	id eLJL1j0015EQ4qA03LJLsj; Tue, 24 Jul 2012 22:18:20 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 07CA6EAB757
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 21:18:20 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QfCjU8YL81Vy for <users@tomcat.apache.org>;
	Tue, 24 Jul 2012 21:18:11 +0100 (BST)
Received: from [192.168.4.16] (net203-139-173.mclink.it [213.203.139.173])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id DB3F1EAB755
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 21:18:10 +0100 (BST)
References: <500EAD13.1010308@christopherschultz.net> <500EC9DF.6000508@apache.org> <500EEB10.8070806@christopherschultz.net>
User-Agent: K-9 Mail for Android
In-Reply-To: <500EEB10.8070806@christopherschultz.net>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Tomcat and "JDK Compatibility"
From: Mark Thomas <markt@apache.org>
Date: Tue, 24 Jul 2012 22:17:55 +0200
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <7ebcfe2a-70cf-470a-b894-b1e97c1093a9@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz <chris@christopherschultz.net> wrote:

>-----BEGIN PGP SIGNED MESSAGE-----
>Hash: SHA1
>
>Mark,
>
>On 7/24/12 12:14 PM, Mark Thomas wrote:
>> On 24/07/2012 16:11, Christopher Schultz wrote:
>>> All,
>> 
>>> The Tomcat documentation says somewhat tangentially that Tomcat 
>>> requires a JDK (instead of a JRE). I believe this has not been 
>>> true for quite some time.
>> 
>>> Check the very first "requirement" for installation on these 
>>> pages:
>> 
>>> http://tomcat.apache.org/tomcat-6.0-doc/appdev/installation.html
>>>  
>>> http://tomcat.apache.org/tomcat-7.0-doc/appdev/installation.html
>> 
>>> Is there any reason not to change "JDK" to "JRE" (and probably 
>>> mention that a JDK in fact contains a JRE)?
>> 
>> Yes. That is the application development section for which a JDK
>> is required.
>
>Surely a (simple) web application can be developed without a JDK,
>right? If you work entirely in JSP (a nightmare scenario IMO), then
>you don't need a JDK.
>
>I'm asking because these pages (specifically) have been used to
>justify the rumor that Tomcat requires (or even prefers) the JDK to
>the JRE. Honestly, when I read it, I was surprised to see that it said
>JDK even though that page is, as you say, just for application
>development. It's obvious to me that, though the page mentions CVS, it
>is certainly not required to develop (nor deploy) web applications for
>use on Tomcat. The same can be said for JDK versus JRE.
>
>Do you think there would be any objections to clarifying this point on
>that page? I'd be happy to provide a documentation patch.
>
>- -chris
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
>Comment: GPGTools - http://gpgtools.org
>Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
>iEYEARECAAYFAlAO6xAACgkQ9CaO5/Lv0PAZsgCgl9YfIqdJu7NxgIrbmLkli74b
>LuoAn21yQPP95NwzKWeTp60R8P5U48Zv
>=KD3J
>-----END PGP SIGNATURE-----
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org

Clarify away.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235659-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 20:31:15 2012
Return-Path: <users-return-235659-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 463F5DF69
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 20:31:15 +0000 (UTC)
Received: (qmail 66651 invoked by uid 500); 24 Jul 2012 20:31:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66485 invoked by uid 500); 24 Jul 2012 20:31:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66475 invoked by uid 99); 24 Jul 2012 20:31:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:31:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.61] (HELO elasmtp-galgo.atl.sa.earthlink.net) (209.86.89.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 20:31:02 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-galgo.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Stlke-0005Ha-Jx
	for users@tomcat.apache.org; Tue, 24 Jul 2012 16:30:40 -0400
Subject: RE: Project will not build
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <9628CAB20B0A8F4D933E1B9245BD4C5205975809@SVRMSPEVS21.dpscs.ad.icj.mdstate>
References:
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate>
	 <4FECE81D.1010001@tmbsw.com>
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
	 <1343158585.3018.351.camel@dellberry>
	 <9628CAB20B0A8F4D933E1B9245BD4C5205975809@SVRMSPEVS21.dpscs.ad.icj.mdstate>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-FKmPlbE9s1YjYKcz0Y4g"
Organization: Clifton Farm
Date: Tue, 24 Jul 2012 16:30:42 -0400
Message-ID: <1343161842.3018.383.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a03401ccb681b62b17d2ac2a078d88eb1e350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-FKmPlbE9s1YjYKcz0Y4g
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Tue, 2012-07-24 at 16:00 -0400, Cotton, Joseph B wrote:
> Actually, no.  But a little more poking around fixed it.=20

Glad you worked it out.

> By the way, is there any really good reference for Tomcat?  I have
> three O'reiley books and they don=E2=80=99t seem to help much. I can read=
 the
> How-To pages all day and nothing seems to stick.  I am looking for
> somehting that decribes what happens when .... And what  each of the
> xml files are for.  Is there a component list? =20
>=20

Well, as far as an actual *Reference* it's hard to get more
authoritative than the online docs.  Based on some of the traffic here,
there seem to be a number of dubious "tutorials" floating around the
'net but I'm sure there are quality ones as well.  Perhaps you would
find the wiki helpful:

http://wiki.apache.org/tomcat/FrontPage

It has a link for suggested books although some look pretty outdated.

HTH


> -----Original Message-----
> From: Tim Watts [mailto:tim@cliftonfarm.org]=20
> Sent: Tuesday, July 24, 2012 3:36 PM
> To: Tomcat Users List
> Subject: Re: Project will not build
>=20
> <hint> Are you asking here because you got no answers on the NetBeans lis=
t?  Nor the Ant list? </hint>
>=20
>=20
> On Tue, 2012-07-24 at 15:11 -0400, Cotton, Joseph B wrote:
> > This question concerns a Project that used to work nicely.  Now it=20
> > will not build.
> > I am using NetBeans IDE 7.1.1 with Apache Tomcat 7.0.22 I left this=20
> > project alone for a few months.
> >=20
> > Now when I come back and try to build or run, it errors with this
> > message:
> > Copying 1 file to D:\Documents and Settings\cottonjb\My=20
> > Documents\NetBeansProjects\MAFSS2\build\web\WEB-INF\lib
> > D:\Documents and Settings\cottonjb\My
> > Documents\NetBeansProjects\MAFSS2\nbproject\build-impl.xml:687: Warning=
:
> > Could not find file D:\Documents and Settings\cottonjb\My=20
> > Documents\Downloads\javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to=20
> > copy.
> > BUILD FAILED (total time: 0 seconds)
> >=20
> > It refers to this in build-impl.xml:
> >     <target depends=3D"init" name=3D"library-inclusion-in-archive"
> > unless=3D"dist.ear.dir">
> >         <copyfiles files=3D"${file.reference.winzipaes-20100321.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar}=
"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1-sources.jar}=
"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles
> > files=3D"${file.reference.javax.servlet.jsp.jstl-api-1.2.1.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles files=3D"${file.reference.jstl-1.2.jar}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >         <copyfiles files=3D"${libs.JSP121.classpath}"
> > todir=3D"${build.web.dir}/WEB-INF/lib"/>
> >     </target>
> >=20
> >=20
> > I manually added the javax.servlet.jsp.jstl-api-1.2.1-javadoc.jar to=20
> > the NetBeans library and the Project library.
> >=20
> > The winzip jar is found.  The jsp jars are not found.  Am I reading=20
> > this correctly?
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


--=-FKmPlbE9s1YjYKcz0Y4g
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQDwXxAAoJEAfDBXDHBQil5XgH/32VkR5e3huAnMlkhH76okv3
2cuJenmnzTx+xKSNs9wIKOxgfy0lYgwvUfSxNtSx8zAAatDFA4Mo/5utI/Kk13NO
9PSTHdi4fm1CtjHEniWAsLMeHifmiuh3aOJpNYQr9XwMubFYWApk+7YcJvqSmPev
bDYDiVfgUP5dXWMIRGF37wuEZK3HfD+ocLCPd3p+eiZK4UNVaZqOsFpMw0BXJCEc
bqsxnEaEvVZwx/5lbXmbVahlc9F4TEzZCsADna0j7L3RcDfaHoPjMPUPOIh1gsQa
Ut4mnzbOQuxLRK6M7sdyQvWiRBfAfawuoC0qf4CGlxsQ9ZTYjirA2822OT5Ji0k=
=ZMSh
-----END PGP SIGNATURE-----

--=-FKmPlbE9s1YjYKcz0Y4g--


From users-return-235660-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 21:00:19 2012
Return-Path: <users-return-235660-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DABFD03F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 21:00:19 +0000 (UTC)
Received: (qmail 49971 invoked by uid 500); 24 Jul 2012 21:00:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49849 invoked by uid 500); 24 Jul 2012 21:00:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49839 invoked by uid 99); 24 Jul 2012 21:00:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 21:00:15 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.56] (HELO nm19-vm1.bullet.mail.ne1.yahoo.com) (98.138.91.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jul 2012 21:00:06 +0000
Received: from [98.138.90.51] by nm19.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 20:59:45 -0000
Received: from [98.138.89.175] by tm4.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 20:59:45 -0000
Received: from [127.0.0.1] by omp1031.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 20:59:45 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 110606.13254.bm@omp1031.mail.ne1.yahoo.com
Received: (qmail 63045 invoked by uid 60001); 24 Jul 2012 20:59:45 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343163585; bh=3G63qZD0/+15y9031bpXL7/eycJ4DtCLgxhIPil3NFg=; h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=jPT1OQT+pxIX2tX8G2r8Tj87HBMayCIs4uiQyZOwdve3KqLhZ7vWEwBDdUF6kAhiSxuUulTvhwFQy4evyMptw9OumceiPqDEkUjqXPkJMvKasbcBKWahvSoTihZWOtVMwJ0LhLfb5zoo7iMfjwf47yy83aoodmfc4o0w9JJnki8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=CoYwZTGmSale84l/ueTdbkqdiLe3tDzA0YWGcTffH+6xu7547hDsa33s4Gu2njF4VH2WTyROPrwvEvN3+CoZztvtOeEbShIrFM1SvT1ezGY+IRdyRPgyn5+adzsG+wXFh/Kk5T/UHRkfeY2RyLWS3WoEj6fg/rsSfMdTS5T5CpM=;
X-YMail-OSG: TEn1.HcVM1nqZH0.oDAPV6.22IW5Vfqh8CGEUGvQPQmmsxW
 Ozcwd85utwB5ObSZe9rGTpN3f18s7HbHUTxelWsX95cQfLjOx3JLuN7XBaW5
 HOM4kKtWx_cwoubPUThPZsufkQQIS6.2MqbIzxa6hcGkjYePjkpLv7ZDFsrB
 7BZEL3WCeK1F_Y0vhS3mEQPlqGLcOmrAYBfQA_TKExgBPSa4wQQxT82GA3.L
 eRUne1zls.eirCiXn4WTn0Pymq_ud7nVdLm635uhjCrjrG3FV_VmKd2AyGFk
 FhUc4EinxdwlmZcgRMmXbpNvn9y2MVLfbJ7gtb2oDgSo2rOpkG3Aw5Cru35m
 I1kbCFLDJ64C3aVCt6Shx6nsIkjTrLkVFJetTcC5F3GyBfSTlO6kB5BVkJvl
 jJJCQ
Received: from [208.91.156.11] by web125003.mail.ne1.yahoo.com via HTTP; Tue, 24 Jul 2012 13:59:44 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
Message-ID: <1343163584.30724.YahooMailNeo@web125003.mail.ne1.yahoo.com>
Date: Tue, 24 Jul 2012 13:59:44 -0700 (PDT)
From: Phineas Dole <phineasdole@yahoo.com>
Reply-To: Phineas Dole <phineasdole@yahoo.com>
Subject: Default configuration; Connection reset by peer
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-723168630-662907369-1343163584=:30724"
X-Virus-Checked: Checked by ClamAV on apache.org

---723168630-662907369-1343163584=:30724
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I am currently benchmarking tomcat to see what sort of performance I can ex=
pect.=0A=0AI setup tomcat with the default configuration and then run "ab -=
c 1000 -n 1000000=A0http://localhost:8080/examples/servlets/servlet/HelloWo=
rldExample"=0A=0AOccasionally, ab will terminate prematurely with error suc=
h as "apr_socket_recv: Connection reset by peer (104)"=0A=0AThis happens wi=
th bio, nio, and apr connectors.=0A=0AHow do I configure tomcat or my OS to=
 handle this workload? I have not experienced this problem with other webse=
rvers or Jetty... what is happening?=0A=0AVersions:=0ATomcat 7.0.29=0Aab 2.=
3
---723168630-662907369-1343163584=:30724--

From users-return-235661-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 21:05:37 2012
Return-Path: <users-return-235661-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA1CFD0BE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 21:05:37 +0000 (UTC)
Received: (qmail 71578 invoked by uid 500); 24 Jul 2012 21:05:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71514 invoked by uid 500); 24 Jul 2012 21:05:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71505 invoked by uid 99); 24 Jul 2012 21:05:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 21:05:34 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 21:05:29 +0000
Received: from compute3.internal (compute3.nyi.mail.srv.osa [10.202.2.43])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id 2A81520208
	for <users@tomcat.apache.org>; Tue, 24 Jul 2012 17:05:09 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute3.internal (MEProxy); Tue, 24 Jul 2012 17:05:09 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:subject:date; s=mesmtp; bh=Jc0emYJ7FFlR1ydGEuJgJXe
	DPMY=; b=ftU+6DOij/yTjJJDnmD1C5GfC+kCnMOZZ5s4NWNIGcIovw0B7Wl+lBx
	3AtyKPbKBcPOXUyrgYU5Y+ATHVF6mvxmf0U/QGAot9y+k5QYz1JkYo95l1jZFCwV
	YpQA860NalVMUr9lepsdwuJ1yIX5U914NoziPZW5ZCjsfCRDdnBk=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:subject:date; s=smtpout;
	 bh=Jc0emYJ7FFlR1ydGEuJgJXeDPMY=; b=BxtPVA1SSYWKl3BbB4NniTvF/RVm
	M7sb13YCQUzvmlXEW37saHgLVA7ij2GFzTGGfVhB4hKMQulz0vKuxx8DaOmM/mBT
	Pzu7QOcXzobatNKZ5digFghxSU9nRJNr7nxAM+BkNosYktuzHC1Ov03jsge62dYy
	F8qv1lr+Xaye7cE=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id EC854A00192; Tue, 24 Jul 2012 17:05:08 -0400 (EDT)
Message-Id: <1343163908.4252.140661106182841.688D3FFB@webmail.messagingengine.com>
X-Sasl-Enc: f4kyGmtnmJqEfzqwM+D8EWjhKOEbi1v6Ppw1SxrpFLU3 1343163908
From: k9157@operamail.com
To: users@tomcat.apache.org
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
Subject: tomcat 7.0.29 build fails with dbcp target enabled; ok if disabled.
Date: Tue, 24 Jul 2012 14:05:08 -0700
X-Virus-Checked: Checked by ClamAV on apache.org

building Tomcat7 from src (apache-tomcat-7.0.29-src) with

	java -version
		java version "1.7.0_b147-icedtea"
		OpenJDK Runtime Environment (suse-27.1-x86_64)
		OpenJDK 64-Bit Server VM (build 23.0-b21, mixed mode)

from Opensuse 12.1's repos
(http://download.opensuse.org/repositories/Java:/openjdk6:/Factory/openSUSE_12.1/x86_64/),
&

	ant -version
		Apache Ant(TM) version 1.8.4 compiled on July 22 2012

works fine with 'dbcp' target disabled,

	ant clean clean-depend
	ant -Dno.build.dbcp=true

		...
		BUILD SUCCESSFUL
		Total time: 16 seconds

but FAILs when it's enabled,

	ant clean clean-depend
	ant

		...
		build-tomcat-dbcp:
		     [copy] Copying 68 files to
		     /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp
		    [mkdir] Created dir:
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp
		     [move] Moving 64 files to
		     /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp
		    [mkdir] Created dir:
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/classes
		    [javac] Compiling 64 source files to
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/classes
		    [javac] warning: [options] bootstrap class path not
		    set in conjunction with -source 1.6
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/BasicDataSource.java:53:
		    error: BasicDataSource is not abstract and does not
		    override abstract method getParentLogger() in
		    CommonDataSource
		    [javac] public class BasicDataSource implements
		    DataSource {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingStatement.java:46:
		    error: DelegatingStatement is not abstract and does
		    not override abstract method isCloseOnCompletion()
		    in Statement
		    [javac] public class DelegatingStatement extends
		    AbandonedTrace implements Statement {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingPreparedStatement.java:57:
		    error: DelegatingPreparedStatement is not abstract
		    and does not override abstract method
		    isCloseOnCompletion() in Statement
		    [javac] public class DelegatingPreparedStatement
		    extends DelegatingStatement
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingCallableStatement.java:58:
		    error: DelegatingCallableStatement is not abstract
		    and does not override abstract method
		    <T>getObject(String,Class<T>) in CallableStatement
		    [javac] public class DelegatingCallableStatement
		    extends DelegatingPreparedStatement
		    [javac]        ^
		    [javac]   where T is a type-variable:
		    [javac]     T extends Object declared in method
		    <T>getObject(String,Class<T>)
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingConnection.java:65:
		    error: DelegatingConnection is not abstract and does
		    not override abstract method getNetworkTimeout() in
		    Connection
		    [javac] public class DelegatingConnection extends
		    AbandonedTrace
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingDatabaseMetaData.java:41:
		    error: DelegatingDatabaseMetaData is not abstract
		    and does not override abstract method
		    generatedKeyAlwaysReturned() in DatabaseMetaData
		    [javac] public class DelegatingDatabaseMetaData
		    extends AbandonedTrace
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/DelegatingResultSet.java:61:
		    error: DelegatingResultSet is not abstract and does
		    not override abstract method
		    <T>getObject(String,Class<T>) in ResultSet
		    [javac] public class DelegatingResultSet extends
		    AbandonedTrace implements ResultSet {
		    [javac]        ^
		    [javac]   where T is a type-variable:
		    [javac]     T extends Object declared in method
		    <T>getObject(String,Class<T>)
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolableCallableStatement.java:38:
		    error: PoolableCallableStatement is not abstract and
		    does not override abstract method
		    <T>getObject(String,Class<T>) in CallableStatement
		    [javac] public class PoolableCallableStatement
		    extends DelegatingCallableStatement implements
		    CallableStatement {
		    [javac]        ^
		    [javac]   where T is a type-variable:
		    [javac]     T extends Object declared in method
		    <T>getObject(String,Class<T>)
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolablePreparedStatement.java:41:
		    error: PoolablePreparedStatement is not abstract and
		    does not override abstract method
		    isCloseOnCompletion() in Statement
		    [javac] public class PoolablePreparedStatement
		    extends DelegatingPreparedStatement implements
		    PreparedStatement {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingConnection.java:45:
		    error: PoolingConnection is not abstract and does
		    not override abstract method getNetworkTimeout() in
		    Connection
		    [javac] public class PoolingConnection extends
		    DelegatingConnection implements Connection,
		    KeyedPoolableObjectFactory {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingDataSource.java:45:
		    error: PoolingDataSource is not abstract and does
		    not override abstract method getParentLogger() in
		    CommonDataSource
		    [javac] public class PoolingDataSource implements
		    DataSource {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/PoolingDriver.java:52:
		    error: PoolingDriver is not abstract and does not
		    override abstract method getParentLogger() in Driver
		    [javac] public class PoolingDriver implements Driver
		    {
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/cpdsadapter/DriverAdapterCPDS.java:87:
		    error: DriverAdapterCPDS is not abstract and does
		    not override abstract method getParentLogger() in
		    CommonDataSource
		    [javac] public class DriverAdapterCPDS
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/datasources/PerUserPoolDataSource.java:60:
		    error: PerUserPoolDataSource is not abstract and
		    does not override abstract method getParentLogger()
		    in CommonDataSource
		    [javac] public class PerUserPoolDataSource
		    [javac]        ^
		    [javac]
		    /usr/local/src/tomcat-build-dls/tomcat7-deps/dbcp/src/java/org/apache/tomcat/dbcp/dbcp/datasources/SharedPoolDataSource.java:52:
		    error: SharedPoolDataSource is not abstract and does
		    not override abstract method getParentLogger() in
		    CommonDataSource
		    [javac] public class SharedPoolDataSource
		    [javac]        ^
		    [javac] Note: Some input files use or override a
		    deprecated API.
		    [javac] Note: Recompile with -Xlint:deprecation for
		    details.
		    [javac] Note: Some input files use unchecked or
		    unsafe operations.
		    [javac] Note: Recompile with -Xlint:unchecked for
		    details.
		    [javac] 15 errors
		    [javac] 1 warning

		BUILD FAILED
		/usr/local/src/apache-tomcat-7.0.29-src/build.xml:2332:
		The following error occurred while executing this line:
		/usr/local/src/apache-tomcat-7.0.29-src/build.xml:2420:
		Compile failed; see the compiler error output for
		details.

		Total time: 3 seconds

The ok build with dbcp disabled seems otherwise healthy & fully
functional.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235662-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 21:34:50 2012
Return-Path: <users-return-235662-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44483DD2C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 21:34:50 +0000 (UTC)
Received: (qmail 65093 invoked by uid 500); 24 Jul 2012 21:34:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65038 invoked by uid 500); 24 Jul 2012 21:34:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65029 invoked by uid 99); 24 Jul 2012 21:34:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 21:34:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 21:34:39 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id eCxv1j00l1YDfWL55MaMyj; Tue, 24 Jul 2012 21:34:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id eMa41j00q38FjT13gMa72t; Tue, 24 Jul 2012 21:34:08 +0000
Message-ID: <500F14D6.6090500@christopherschultz.net>
Date: Tue, 24 Jul 2012 17:34:14 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Default configuration; Connection reset by peer
References: <1343163584.30724.YahooMailNeo@web125003.mail.ne1.yahoo.com>
In-Reply-To: <1343163584.30724.YahooMailNeo@web125003.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Phineas,

On 7/24/12 4:59 PM, Phineas Dole wrote:
> I am currently benchmarking tomcat to see what sort of performance
> I can expect.
> 
> I setup tomcat with the default configuration and then run "ab -c 
> 1000 -n 1000000 
> http://localhost:8080/examples/servlets/servlet/HelloWorldExample"

Note that the default configuration of Tomcat's Connector has
maxThreads=200 and acceptCount=100 meaning that Tomcat will only
actively process 200 simultaneous connections and the OS is expected to
accept 100 connections and queue them until Tomcat is ready to actively
handle them.

I suspect you will very quickly fill-up the accept queue and start
getting connections dropped, unless your test servlet runs very quickly.

> Occasionally, ab will terminate prematurely with error such as 
> "apr_socket_recv: Connection reset by peer (104)"
> 
> This happens with bio, nio, and apr connectors.
> 
> How do I configure tomcat or my OS to handle this workload? I have 
> not experienced this problem with other webservers or Jetty...
> what is happening?

What was their configuration in terms of request processors, etc.?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAPFNYACgkQ9CaO5/Lv0PC0LACgrUikOLHu3LBmwZap9ZzwG0Ap
B6IAnA+ze3YX2a4elffzB3cHsxLmwKgY
=UKxo
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235663-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 23:20:32 2012
Return-Path: <users-return-235663-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 176079FFD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 23:20:32 +0000 (UTC)
Received: (qmail 58024 invoked by uid 500); 24 Jul 2012 23:20:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57962 invoked by uid 500); 24 Jul 2012 23:20:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57949 invoked by uid 99); 24 Jul 2012 23:20:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 23:20:27 +0000
X-ASF-Spam-Status: No, hits=4.7 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.89] (HELO nm26.bullet.mail.ne1.yahoo.com) (98.138.90.89)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jul 2012 23:20:18 +0000
Received: from [98.138.90.49] by nm26.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 23:19:57 -0000
Received: from [98.138.87.8] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 23:19:57 -0000
Received: from [127.0.0.1] by omp1008.mail.ne1.yahoo.com with NNFMP; 24 Jul 2012 23:19:57 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 236831.25919.bm@omp1008.mail.ne1.yahoo.com
Received: (qmail 1281 invoked by uid 60001); 24 Jul 2012 23:19:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343171997; bh=GgYnJkIsprsBdnySh5R97b0ki3vLefpyowhWHcthqJU=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=xHH6SNYvNKXiCRkFfPYRETaVMJitzr38txnZfd3+pdZsekqIltZOVD5k00TqEptwZ4W7xd45wJCWFiWNG2jXIo+sy7NniohiLUe3ckdIP4yALXMjIb3kWRI2sJWQdGlas3iE90zlc858ELukVOgmuWdvuNbIQCvihaPMO30cnnc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Uhb1eITdXDXvY4UGXUcqZ78PBaTinUZRxAx2h/naJ4E+9W3TFCmN/mm5KYVqYboCXtRim+ukeHufBFpsFk4mQ4XHmzLXkJ3IftIeuu/DrwdHkZSoTIdJKRCQVCwKYr8P0Qvj0LkzmI2niAyWFAjPUJELl8yEaIy11MvKWNYDdEA=;
X-YMail-OSG: YHNvUEwVM1nS4HAMKwjd9RydPwssf.Ae.4p.aBznt9jTw21
 8AJgy5IR7NyV_TnRv423BnMXqG.8lCwhV2YQ2PWb8zCuQ259HDndxY7NBALV
 AeRUglHicZkxFtrut4MHwgjCFwy5VPlvEDw8TSEkMdvu5Du4tnlOfQZ_0Yoy
 hTr_.yIiEk6BqTmuEZkbO1fpH2GvL.zKNM1E2zStB_epGFUImrNPAwTzV_wV
 BEgP4JwAygHJ8R71tTML.A1srtldoTZOc3RbYYy7CcUiOznY3IsDX6d74kQW
 JVvZX0NhR6DO5AkxARgOCeplWgiUmNuR3nYWkvaxc2akCSD7o5oS.bsb3dvA
 .lUum3tnKdrlZVP47dIPe5oIi1uIAJPtV30lG1fXb5oVRNvn.Qz3_iAasfK6
 _jqicYuAT2TPbroYGSYIBNCI8IQ04R.3iV69L.l7U6Y_agBsQKXePnb7rXMp
 QzaoGoYtEpIJ_Hy5_SI5crT9Iujwp76z4Kde4TkVT9CEvuir.hzHQnYSZE4D
 7S2z2iuJjVk.QGfqrYumS0GbLyO.hTPbT
Received: from [208.91.156.11] by web125003.mail.ne1.yahoo.com via HTTP; Tue, 24 Jul 2012 16:19:57 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <1343163584.30724.YahooMailNeo@web125003.mail.ne1.yahoo.com> <500F14D6.6090500@christopherschultz.net>
Message-ID: <1343171997.82400.YahooMailNeo@web125003.mail.ne1.yahoo.com>
Date: Tue, 24 Jul 2012 16:19:57 -0700 (PDT)
From: Phineas Dole <phineasdole@yahoo.com>
Reply-To: Phineas Dole <phineasdole@yahoo.com>
Subject: Re: Default configuration; Connection reset by peer
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <500F14D6.6090500@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-723168630-1385560270-1343171997=:82400"
X-Virus-Checked: Checked by ClamAV on apache.org

---723168630-1385560270-1343171997=:82400
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Test configuration:=0A<Connector port=3D"8080" protocol=3D"org.apache.coyot=
e.http11.Http11NioProtocol"=0A=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0acceptCount=3D=
"10240"=0A=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0numThreads=3D"1024"=0A=A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0connectionTimeout=3D"20000"=0A=A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0redirectPort=3D"8443" />=0A=0AI have increased somaxconn.=0A=0AThe e=
rror has become very consistent. I can trigger it by restarting tomcat and =
then running the test. Typically it takes <5s for ab to terminate. (Though =
ab states that several thousand requests have completed by that point, whic=
h appears true from the access logs).=0A=0AThe high (10240) acceptCount see=
ms to be the reason for the consistent error. Decreasing it seems to make t=
hings more stable. In fact, setting acceptCount=3D"5" and connectionTimeout=
=3D"-1" seems to delay the error by a huge amount, but it still occurs. Als=
o, the connectionTimeout resolves "length" and "exception" errors occasiona=
lly reported by ab. I presume this is related more to how the client (ab) o=
perates and not tomcat itself.=0A=0AThe acceptCount is counter-intuitive to=
 me. Was this the intended solution you had in mind.=0A=0AThanks for the in=
sight!=0A=0A=0A________________________________=0A From: Christopher Schult=
z <chris@christopherschultz.net>=0ATo: Tomcat Users List <users@tomcat.apac=
he.org> =0ASent: Tuesday, July 24, 2012 2:34 PM=0ASubject: Re: Default conf=
iguration; Connection reset by peer=0A =0A-----BEGIN PGP SIGNED MESSAGE----=
-=0AHash: SHA1=0A=0APhineas,=0A=0AOn 7/24/12 4:59 PM, Phineas Dole wrote:=
=0A> I am currently benchmarking tomcat to see what sort of performance=0A>=
 I can expect.=0A> =0A> I setup tomcat with the default configuration and t=
hen run "ab -c =0A> 1000 -n 1000000 =0A> http://localhost:8080/examples/ser=
vlets/servlet/HelloWorldExample"=0A=0ANote that the default configuration o=
f Tomcat's Connector has=0AmaxThreads=3D200 and acceptCount=3D100 meaning t=
hat Tomcat will only=0Aactively process 200 simultaneous connections and th=
e OS is expected to=0Aaccept 100 connections and queue them until Tomcat is=
 ready to actively=0Ahandle them.=0A=0AI suspect you will very quickly fill=
-up the accept queue and start=0Agetting connections dropped, unless your t=
est servlet runs very quickly.=0A=0A> Occasionally, ab will terminate prema=
turely with error such as =0A> "apr_socket_recv: Connection reset by peer (=
104)"=0A> =0A> This happens with bio, nio, and apr connectors.=0A> =0A> How=
 do I configure tomcat or my OS to handle this workload? I have =0A> not ex=
perienced this problem with other webservers or Jetty...=0A> what is happen=
ing?=0A=0AWhat was their configuration in terms of request processors, etc.=
?=0A=0A- -chris=0A-----BEGIN PGP SIGNATURE-----=0AVersion: GnuPG/MacGPG2 v2=
.0.17 (Darwin)=0AComment: GPGTools - http://gpgtools.org=0AComment: Using G=
nuPG with Mozilla - http://enigmail.mozdev.org/=0A=0AiEYEARECAAYFAlAPFNYACg=
kQ9CaO5/Lv0PC0LACgrUikOLHu3LBmwZap9ZzwG0Ap=0AB6IAnA+ze3YX2a4elffzB3cHsxLmwK=
gY=0A=3DUKxo=0A-----END PGP SIGNATURE-----=0A=0A---------------------------=
------------------------------------------=0ATo unsubscribe, e-mail: users-=
unsubscribe@tomcat.apache.org=0AFor additional commands, e-mail: users-help=
@tomcat.apache.org
---723168630-1385560270-1343171997=:82400--

From users-return-235664-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 24 23:29:17 2012
Return-Path: <users-return-235664-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D09BDAB8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 24 Jul 2012 23:29:17 +0000 (UTC)
Received: (qmail 83424 invoked by uid 500); 24 Jul 2012 23:29:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83366 invoked by uid 500); 24 Jul 2012 23:29:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83356 invoked by uid 99); 24 Jul 2012 23:29:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 23:29:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of brett.dellegrazie@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jul 2012 23:29:07 +0000
Received: by pbbro12 with SMTP id ro12so389607pbb.18
        for <users@tomcat.apache.org>; Tue, 24 Jul 2012 16:28:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        bh=f4T7IVlP6DZu7p4UA95IgNBL79Qr7BwPh2kbCGhtB4A=;
        b=TTjK/0kcDKXYaKtWT78qC5OtZC4D/fGCPdd6aP/zurTjzO8RdgTQRE1EX6kq3M4Qba
         WJc91Apn0P9ufQaxV3RngZ1Z+inl1lQRcodYnh1GobX5DCryaL9ZqwRVRv/1gzzBKS5i
         iOvIJAvFX2rbqKXPyuJwa/BEZnZD0JqfOY8oi03DqHwdQiuxhSfuJA/LzU45Ex4FtZ2Q
         zQzDtN5x+7QC63z3lnhalqWXuHdvfGCU1jWy8k6rHeR7HuVAGmAdh9evEgswdYrgTGXP
         qkD80p9rJRW4W0icyi2heSEmDUmL8aRlu/PxXayMsfe6D+VW6W80FpPMlYKmrGoBob4G
         uYYw==
MIME-Version: 1.0
Received: by 10.68.130.9 with SMTP id oa9mr48441914pbb.95.1343172526201; Tue,
 24 Jul 2012 16:28:46 -0700 (PDT)
Received: by 10.142.231.20 with HTTP; Tue, 24 Jul 2012 16:28:46 -0700 (PDT)
Received: by 10.142.231.20 with HTTP; Tue, 24 Jul 2012 16:28:46 -0700 (PDT)
Reply-To: bdellegrazie@iee.org
In-Reply-To: <500EF066.8070503@ice-sa.com>
References: <500e7af71d2117.66857428@wp.pl>
	<500E9F5B.8020805@ice-sa.com>
	<500ECD8F.4010302@wp.pl>
	<500EF066.8070503@ice-sa.com>
Date: Wed, 25 Jul 2012 00:28:46 +0100
Message-ID: <CACLD0=5qaqgOwL-xeV7gJcmcdeHV4XxCiP-+W9bUQ=cO5DPcBw@mail.gmail.com>
Subject: Re: Problem with tomcat and jk module
From: Brett Delle Grazie <brett.dellegrazie@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ffbaec54bdce304c59bb951

--e89a8ffbaec54bdce304c59bb951
Content-Type: text/plain; charset=ISO-8859-2
Content-Transfer-Encoding: quoted-printable

On 24 Jul 2012 19:59, "Andr=E9 Warnier" <aw@ice-sa.com> wrote:
>
> Piotr W=B1cha=B3a wrote:
>>
>> ok, thanks for advice, but I checked my "front end" enviroment.
>> Before connection goes to front end apache, must go to firewall and next
to load balancer.
>> I remove from this chain load balancer, and it was still the same.
>> In firewall I dont observe teardown connecion or sth. like that. (I
can`t quit the firewall from this chain)
>> I try to attach pid and tid form tomcat to apache(adding %P %{tid}P %D
to apache LogFormat) and search the problem, but I think it isent good
clue. I cant exactly correkate problem in jklogfile and apache access.log
>
>
> I think that's normal.  The Apache access-log line only gets written when
the request is complete (and the response sent, at least partially). But
since here the client connection is broken, there is no way to send
anything to the client, and probably the access log line does not even get
written then.
> You may have more success with the error log, setting the LogLevel to
"info" or so.
>
>
>> The funny thing is the whole system works ok. for over 2y and in last
week just from day to another day it starts to work terrible.
>

Check that your network equipment (firewalls / switches etc.) isn't
flapping due to mixed/wrong auto negotiation settings. It can cause odd
problems like this.

>
> That would then tend to indicate that the problem is due to some (new)
element outside of (apache+mod_jk+tomcat), no ?
> If you cannot remove the firewall, can you look at the firewall logs ?
>
> Alternatively, can you install some program like wget or curl, to
simulate a client somewhere and tell you when the client connection is
dropped ?
> (This being an alternative to doing a real network trace at the client
level)
>
> Also maybe check this archived thread, there are some suggestions to try
out : http://www.mail-archive.com/users@tomcat.apache.org/msg55780.html
> (sound similar ? download the perl script that is mentioned and try it
out as a client)
>
>
>> I even change my isp, still no progress.
>
> But the firewall remained the same ?
>
>
>>
>> Q: What is causing that connection to close, before the response can be
sent ?
>> A: I will try to answer to this after 9pm.
>>
>> Piotr
>>
>> W dniu 2012-07-24 15:12, Andr=E9 Warnier pisze:
>>>
>>> Hi.
>>>
>>> Thanks for the very complete information about your environment.
>>>
>>> Piotr W=B1cha=B3a wrote:
>>>>
>>>> Hi,
>>>> Maybe someone can help me with my tomcat problem.
>>>> Hope that wont be a big problem for you.
>>>>
>>>> Im observing that our client are disconnected from server, that is
very bad situation.
>>>>
>>> In my experience, this kind of message :
>>>
>>>> In jklogfile.log
>>>> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info]
jk_handler::mod_jk.c (2620): Aborting connection for worker=3Dloadbalancer
>>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info]
ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or
client network problems
>>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info]
ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat
failed (unrecoverable), because of client write error (attempt=3D1)
>>>
>>>
>>> in 99% of the cases, indicates a problem that is NOT with Apache httpd
or mod_jk or Tomcat.
>>> It is that by the time (tomcat+mod_jk+apache) want to send a response
back to the client (the user's browser), the eonnection to that user's
browser does not exist anymore, so they cannot send it. (And all the other
messages after that, are because after this error, things kind of get out
of sync.)
>>>
>>> This can happen
>>> - either because the user in front of that browser decides that he has
waited long enough, and clicks on another link (or closes the browser)
>>> - or because some piece of equipment or software closes that connection
before (tomcat+mod_jk+apache) had a chance to send back the response
>>>
>>> (It happens that in-between routers/firewalls/gatewaysw/proxies, if
they do not see anything happen on a client connection for a while, will
close that connection - to gain on the number of connections that they must
manage).
>>>
>>> (Both either/or causes above are also more likely if your Tomcat
requests are so that they take a long time to be processed and generate a
response)
>>>
>>> So the first place to look, is the link between your client (presumably
a user browser) and the front-end Apache.  What is causing that connection
to close, before the response can be sent ?
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

--e89a8ffbaec54bdce304c59bb951--

From users-return-235665-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 01:06:26 2012
Return-Path: <users-return-235665-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE4CAD964
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 01:06:25 +0000 (UTC)
Received: (qmail 98525 invoked by uid 500); 25 Jul 2012 01:06:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98471 invoked by uid 500); 25 Jul 2012 01:06:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98462 invoked by uid 99); 25 Jul 2012 01:06:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 01:06:22 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.131 as permitted sender)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 01:06:12 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-8.tower-28.messagelabs.com!1343178348!23661134!10
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 6152 invoked from network); 25 Jul 2012 01:05:50 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-8.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 25 Jul 2012 01:05:50 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 24 Jul 2012 20:05:40 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Tue, 24 Jul
 2012 20:05:40 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 24 Jul 2012 20:05:33 -0500
Subject: RE: Project will not build
Thread-Topic: Project will not build
Thread-Index: Ac1p14ktrs9lCeyHR4uoRcPWpJmnDQAADWKQAApHGeA=
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0359E86DA@USEA-EXCH8.na.uis.unisys.com>
References: <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate>
 <4FECE81D.1010001@tmbsw.com>
 ,<9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate>
 <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl>
 <1343160242.3018.363.camel@dellberry>
 <9628CAB20B0A8F4D933E1B9245BD4C520597580A@SVRMSPEVS21.dpscs.ad.icj.mdstate>
In-Reply-To: <9628CAB20B0A8F4D933E1B9245BD4C520597580A@SVRMSPEVS21.dpscs.ad.icj.mdstate>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Cotton, Joseph B [mailto:bcotton@dpscs.state.md.us]=20
> Subject: RE: Project will not build

> Isnt /WEB-INF/lib a Tomcat folder?

Not really.  It's usage is defined in the servlet spec; the Tomcat doc avoi=
ds duplicating information from the spec, since that's required reading bef=
ore embarking on a servlet project.

> Which leads to my other question, if I make a backup of the folders,=20
> why didn't just copying the the folders back in  fix it?  There seems
> to be multiple places to configure...

Again, you're asking NetBeans questions, not Tomcat ones.  The IDEs often h=
ave ideas of their own about how to set up and configure a project, to the =
point that some of them completely ignore and override the configuration in=
 the Tomcat .xml files.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235666-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 01:12:59 2012
Return-Path: <users-return-235666-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A17AD984
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 01:12:59 +0000 (UTC)
Received: (qmail 15421 invoked by uid 500); 25 Jul 2012 01:12:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15364 invoked by uid 500); 25 Jul 2012 01:12:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15353 invoked by uid 99); 25 Jul 2012 01:12:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 01:12:55 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.211 as permitted sender)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 01:12:47 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-9.tower-201.messagelabs.com!1343178743!11427840!9
X-Originating-IP: [192.61.61.104]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1144 invoked from network); 25 Jul 2012 01:12:24 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-9.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 25 Jul 2012 01:12:24 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 24 Jul 2012 20:11:59 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Tue, 24 Jul
 2012 20:11:59 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 24 Jul 2012 20:11:52 -0500
Subject: RE: tomcat 7.0.29 build fails with dbcp target enabled; ok if
 disabled.
Thread-Topic: tomcat 7.0.29 build fails with dbcp target enabled; ok if
 disabled.
Thread-Index: Ac1p4BQaZ6eV4mxrTDKU7YCUiwumiwAIfRIw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB0359E86DF@USEA-EXCH8.na.uis.unisys.com>
References: <1343163908.4252.140661106182841.688D3FFB@webmail.messagingengine.com>
In-Reply-To: <1343163908.4252.140661106182841.688D3FFB@webmail.messagingengine.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: k9157@operamail.com [mailto:k9157@operamail.com]=20
> Subject: tomcat 7.0.29 build fails with dbcp target enabled; ok if disabl=
ed.

> building Tomcat7 from src

Why?

> java version "1.7.0_b147-icedtea"

Tomcat 7 must be built with JDK 6 due to incompatibilities introduced by Su=
n/Oracle in JRE 7.  Once built, you may run Tomcat 7 under JRE/JDK 7.  Tomc=
at 8 will be buildable with JDK 7.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235667-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 02:40:49 2012
Return-Path: <users-return-235667-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3E51D182
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 02:40:49 +0000 (UTC)
Received: (qmail 1028 invoked by uid 500); 25 Jul 2012 02:40:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 942 invoked by uid 500); 25 Jul 2012 02:40:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 927 invoked by uid 99); 25 Jul 2012 02:40:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 02:40:46 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.158] (HELO nm28-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 25 Jul 2012 02:40:39 +0000
Received: from [98.138.90.55] by nm28.bullet.mail.ne1.yahoo.com with NNFMP; 25 Jul 2012 02:40:18 -0000
Received: from [98.138.87.9] by tm8.bullet.mail.ne1.yahoo.com with NNFMP; 25 Jul 2012 02:40:18 -0000
Received: from [127.0.0.1] by omp1009.mail.ne1.yahoo.com with NNFMP; 25 Jul 2012 02:40:18 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 86805.54786.bm@omp1009.mail.ne1.yahoo.com
Received: (qmail 46246 invoked by uid 60001); 25 Jul 2012 02:40:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343184017; bh=jmhuUf0IxjgJe3WgHttwVaKQ7/h6FkSH9UzSe3PQS+o=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=0C4gd9npGpFqpc+ceQG0QZ+mYKbjxUVAOnHAbRd59B70ozuoafEVBBIDKZMtQF6vNb3B2TDOoj5IV4tRLwUtB1a9e+ZchUMIOlDFwJnsAMgdmfrPn3NjkC04ymG1LZW5NqZSSG4bWjzeUGwIWj6/+9XTZHVTfF0nM7T+Qa4Nj38=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=m8NUiLifqYAcXH2WxofSIx/otkKRuv12y9l4lBkivW7DFQIZPfL5Ra1+BuenmJOri1FJJG3H9bxE1BSIBi4eEToAzxqeD9fr4HDRq8zq8a/IKzT/2H1XQ2Bc/J5RqZPzJ/uUeVOPyXxSddfj8AD22Ma+C9wRnlfmJEyJK+qRchs=;
X-YMail-OSG: djajJ.AVM1nf2Oh48r6W065fGk9ucpL.Hu1kSouNfUaN_2X
 K.xmWTifeY1a3XBYnJqw.BROcQ87wkvHysSL3JMGNA_bWtPscegNWYwcc9rz
 60HnC23kBGJmyv79cakzgPrNFhg9KqBw0kWyyP1RLT0l_DqJD5.JOh1L8aQM
 R6X1RLsG_JP0AtK7izWoobC4Op5mldW9vTP2Z9CAVJSTqplPeFDwE2iv8pAM
 k9aYGO19dTwwihQH8meys70aXrUNPXrTMEAYxjUFEQFo22FJSnNO1FZokplZ
 ftLfbCEoeoQiBGB79yxlmgOp1jbElmGX4Is3Yvj5fvXeBHq64CzcQ68pimzv
 f7LMg29KfICy8P4JzKx8jIRR479CUMTra4P7BJFMk4OV3RWeofboD2EYUl7G
 OreRYYRLS1yaZhOZM99AxnryAyF9G2cQJ9CBG.1fdtDMXeW75bG2p.9ywSnJ
 NmCaG3mnH35NCjkiXtZon9Tjs3tiUSu5yx.o8ihmXF7n91yySmAk0ZYpgH0W
 j5Efh86iBQNkKv9TTmyCZ.wDCb66NFUNCWr8-
Received: from [71.129.38.81] by web125502.mail.ne1.yahoo.com via HTTP; Tue, 24 Jul 2012 19:40:17 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <9628CAB20B0A8F4D933E1B9245BD4C5205975746@SVRMSPEVS21.dpscs.ad.icj.mdstate> <4FECE81D.1010001@tmbsw.com> ,<9628CAB20B0A8F4D933E1B9245BD4C5205975807@SVRMSPEVS21.dpscs.ad.icj.mdstate> <BLU142-W287283AAAFE4179CFECE68AEDC0@phx.gbl> <1343160242.3018.363.camel@dellberry> <9628CAB20B0A8F4D933E1B9245BD4C520597580A@SVRMSPEVS21.dpscs.ad.icj.mdstate> <99C8B2929B39C24493377AC7A121E21FB0359E86DA@USEA-EXCH8.na.uis.unisys.com>
Message-ID: <1343184017.33178.YahooMailNeo@web125502.mail.ne1.yahoo.com>
Date: Tue, 24 Jul 2012 19:40:17 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Project will not build
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB0359E86DA@USEA-EXCH8.na.uis.unisys.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

----- Original Message -----=0A=0A> From: "Caldarale, Charles R" <Chuck.Cal=
darale@unisys.com>=0A> To: Tomcat Users List <users@tomcat.apache.org>=0A> =
Cc: =0A> Sent: Tuesday, July 24, 2012 6:05 PM=0A> Subject: RE: Project will=
 not build=0A> =0A>>  From: Cotton, Joseph B [mailto:bcotton@dpscs.state.md=
.us] =0A>>  Subject: RE: Project will not build=0A> =0A>>  Isnt /WEB-INF/li=
b a Tomcat folder?=0A> =0A> Not really.=A0 It's usage is defined in the ser=
vlet spec; the Tomcat doc =0A> avoids duplicating information from the spec=
, since that's required reading =0A> before embarking on a servlet project.=
=0A> =0A>>  Which leads to my other question, if I make a backup of the fol=
ders, =0A>>  why didn't just copying the the folders back in=A0 fix it?=A0 =
There seems=0A>>  to be multiple places to configure...=0A> =0A> Again, you=
're asking NetBeans questions, not Tomcat ones.=A0 The IDEs often =0A> have=
 ideas of their own about how to set up and configure a project, to the =0A=
> point that some of them completely ignore and override the configuration =
in the =0A> Tomcat .xml files.=0A> =0A> - Chuck=0A=0A=0AIn my experience, N=
etBeans is really good about not doing the wrong thing.=0A=0A1. You define =
a dependency in your project on the server you've registered with the IDE=
=0A=0ANetBeans will then add all of the jars found in CATALINA_BASE. This i=
ncludes not only the standard jars, but things like JDBC drivers that you'v=
e added in there.=0A=0A2. Do NOT make a WEB-INF/lib in your project=0A=0ANe=
tBeans will create that in the war file. If you need to add third party jar=
s in your project, put them somewhere else and add the jars in Project->Pro=
perties->Libraries.=0A=0ABetter yet, use Ivy or Maven . . . . NetBeans supp=
orts both.=0A=0AYou can also add libraries / jars solely for testing, as we=
ll as adding them solely for compilation (but not packaging in the war file=
).=0A=0A3. Netbeans offers lots of standard jars as packages (the standards=
.jar and taglibs.jar is one)=0A=0AUse those instead of copying your own aro=
und.=0A=0A4. NetBeans uses startup.bat / startup.sh=0A=0AThis means it beha=
ves and uses setenv.bat / setenv.bat if found. Basically it's just like run=
ning Tomcat from the batch files / shell files.=0A=0AIn short, I've found t=
hat NetBeans is quite amenable to running stock Tomcat installations. I jus=
t untar or unzip a distribution, add the appropriate manager roles and user=
 names (NetBeans will complain if you do not), edit setenv.[bat/sh] to gene=
rate JMX, and register it with NetBeans.=0A=0ALog files end up where you ex=
pect, with the exception of catalina.out / catalina.[date].out, which is sc=
rolled in two separate output windows.=0A=0A. . . . just my two cents.=0A/m=
de/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235668-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 05:06:15 2012
Return-Path: <users-return-235668-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CBB0DA3F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 05:06:15 +0000 (UTC)
Received: (qmail 95592 invoked by uid 500); 25 Jul 2012 05:06:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95398 invoked by uid 500); 25 Jul 2012 05:06:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95322 invoked by uid 99); 25 Jul 2012 05:06:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 05:06:08 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of k9157@operamail.com designates 66.111.4.27 as permitted sender)
Received: from [66.111.4.27] (HELO out3-smtp.messagingengine.com) (66.111.4.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 05:06:02 +0000
Received: from compute3.internal (compute3.nyi.mail.srv.osa [10.202.2.43])
	by gateway1.nyi.mail.srv.osa (Postfix) with ESMTP id A5F2820A48
	for <users@tomcat.apache.org>; Wed, 25 Jul 2012 01:05:41 -0400 (EDT)
Received: from web1.nyi.mail.srv.osa ([10.202.2.211])
  by compute3.internal (MEProxy); Wed, 25 Jul 2012 01:05:41 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=operamail.com; h=
	message-id:from:to:mime-version:content-transfer-encoding
	:content-type:in-reply-to:references:subject:date; s=mesmtp; bh=
	KionmXDrb9o61Pmg2pybp0mGvvg=; b=YqUOh6J2z51yd5WCuqcCqgShMxE0TNi1
	0R1raloKqvn98HMxEfwYZRUPe7tlV8gPirpdd1OjEA5fqvozfv1nvZYoZE/1yqMK
	Fwh7vSbgZtx6dY7SsS3ezuPyg8j7VQFbvV2mY7eydTpE0fdkZ7uaiNCBE7AZXCL+
	yQhxgE2OCP8=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=
	messagingengine.com; h=message-id:from:to:mime-version
	:content-transfer-encoding:content-type:in-reply-to:references
	:subject:date; s=smtpout; bh=KionmXDrb9o61Pmg2pybp0mGvvg=; b=aCg
	ekPdzwU5F1npwXk/sEDXUIkvMgPRoTOuUzS/bW3CBQcAOzxxyD5YvLI6oA9qSAuU
	rLg4JzG1uAQKbn6h0/vbzXd/CWOx6B3iDw6z/w/OTmiXeQOAWGTBYo4oqTifnCQu
	1p6rfNITkD884NBVI1Gdw/EEsKS7S9l0tA9szucU=
Received: by web1.nyi.mail.srv.osa (Postfix, from userid 99)
	id 7963BA00419; Wed, 25 Jul 2012 01:05:41 -0400 (EDT)
Message-Id: <1343192741.28176.140661106316549.7A90BA46@webmail.messagingengine.com>
X-Sasl-Enc: tom0TrcRS7xdwBRia7YnMBdAoZLosmqPsvgtj+ef9w4A 1343192741
From: k9157@operamail.com
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain
X-Mailer: MessagingEngine.com Webmail Interface
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB0359E86DF@USEA-EXCH8.na.uis.unisys.com>
References: <1343163908.4252.140661106182841.688D3FFB@webmail.messagingengine.com>
 <99C8B2929B39C24493377AC7A121E21FB0359E86DF@USEA-EXCH8.na.uis.unisys.com>
Subject: Re: tomcat 7.0.29 build fails with dbcp target enabled; ok if disabled.
Date: Tue, 24 Jul 2012 22:05:41 -0700



On Tue, Jul 24, 2012, at 06:11 PM, Caldarale, Charles R wrote:
> Tomcat 7 must be built with JDK 6 due to incompatibilities introduced by
> Sun/Oracle in JRE 7.  Once built, you may run Tomcat 7 under JRE/JDK 7. 
> Tomcat 8 will be buildable with JDK 7.

As JDK7 is our stanrard fare, is there a Tomcat 8 roadmap / release
schedule available?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235669-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 06:50:04 2012
Return-Path: <users-return-235669-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 741379654
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 06:50:04 +0000 (UTC)
Received: (qmail 36839 invoked by uid 500); 25 Jul 2012 06:50:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36572 invoked by uid 500); 25 Jul 2012 06:49:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36519 invoked by uid 99); 25 Jul 2012 06:49:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 06:49:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 06:49:50 +0000
Received: by obbta14 with SMTP id ta14so830220obb.18
        for <users@tomcat.apache.org>; Tue, 24 Jul 2012 23:49:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=xy84e3A74RFukQbxWl9UnZwEUMWf3E9VvYg7d4uLyT4=;
        b=pDNNGXPhCSmDm4F2txy7MNGm4LjTOzzAWCIhsWD2bo76Xnj164vzBhD7hrUeuLDF1a
         xuLVsjkw+teFiCRBqiFBGl8jW3/8fMVrMO/HQlEiw0OJEe8wOeMhfEQncqVqSWoiKh3D
         NwlyZjyeC+jcnwyFl9HPuFo4gC3eF7JrfMJQc=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=xy84e3A74RFukQbxWl9UnZwEUMWf3E9VvYg7d4uLyT4=;
        b=VfMySDnEVumpkAHcAf00n1WDWfXkxOm/GRU8YtLUql1GbXhg3+PeRxymDX1gTJlIK0
         m9YEiykUHKIIxruJcbTD7ELVhLAbkm3uX7Di9V13W3HKCJph9rEn90hu3ERLQqbTptjl
         vR3Y9KB+mgAOrs20FhbCiFyFL4MJO2NV/x6ApPJZWAcrZzChqH6vnYhm0FRGRzSZoBr2
         swuyhJfS6nUHYfmKTYHjaOnqsbmmxhwnwIfJDmvO9GeKAJUxW0VmxGaL0N2W0hBRPDhi
         a0VlNQJaPxcaLgMlgq7WZprzFlEPsQF6J8h669mHlngQmqaNzwMHpAi8dErrwS5BPEAS
         wUUQ==
Received: by 10.182.197.73 with SMTP id is9mr32232721obc.32.1343198966771;
 Tue, 24 Jul 2012 23:49:26 -0700 (PDT)
References: <1343163908.4252.140661106182841.688D3FFB@webmail.messagingengine.com>
 <99C8B2929B39C24493377AC7A121E21FB0359E86DF@USEA-EXCH8.na.uis.unisys.com> <1343192741.28176.140661106316549.7A90BA46@webmail.messagingengine.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <1343192741.28176.140661106316549.7A90BA46@webmail.messagingengine.com>
Mime-Version: 1.0 (1.0)
Date: Wed, 25 Jul 2012 09:50:40 +0300
Message-ID: <8881646199194005632@unknownmsgid>
Subject: Re: tomcat 7.0.29 build fails with dbcp target enabled; ok if disabled.
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQkddezKN1Q03iG93VAA7/UVXXvNrq4L9a85takHIR0mGO6qVycEUp1ZohFGKIu9ZRN9Cxqh

On 25 Jul 2012, at 08:06, "k9157@operamail.com" <k9157@operamail.com> wrote:

>
>
> On Tue, Jul 24, 2012, at 06:11 PM, Caldarale, Charles R wrote:
>> Tomcat 7 must be built with JDK 6 due to incompatibilities introduced by
>> Sun/Oracle in JRE 7.  Once built, you may run Tomcat 7 under JRE/JDK 7.
>> Tomcat 8 will be buildable with JDK 7.
>
> As JDK7 is our stanrard fare, is there a Tomcat 8 roadmap / release
> schedule available?

Why compile from source when there are pre built binaries that run on Java 7?


p




>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235670-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 09:13:55 2012
Return-Path: <users-return-235670-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A599FD0DB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 09:13:55 +0000 (UTC)
Received: (qmail 91989 invoked by uid 500); 25 Jul 2012 09:13:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91674 invoked by uid 500); 25 Jul 2012 09:13:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91643 invoked by uid 99); 25 Jul 2012 09:13:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 09:13:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 09:13:41 +0000
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6P9DLhE021554
	for <users@tomcat.apache.org>; Wed, 25 Jul 2012 11:13:21 +0200 (CEST)
Message-ID: <500FB89B.20106@kippdata.de>
Date: Wed, 25 Jul 2012 11:12:59 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem with tomcat and jk module
References: <500e7af71d2117.66857428@wp.pl>
In-Reply-To: <500e7af71d2117.66857428@wp.pl>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

On 24.07.2012 12:37, Piotr Wąchała wrote:
> Hi,
> Maybe someone can help me with my tomcat problem.
> Hope that wont be a big problem for you.
>
> Im observing that our client are disconnected from server, that is very bad situation.
>
> In jklogfile.log
> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=loadbalancer
> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
> [Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:43:33 2012] [18684:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1

How often does the above happen? As Andre wrote, at least the "client" 
part of the messages is usual to happen every now and then, especially 
if your responses are sometimes a bit slow.

Nevertheless I strongly recommnd to remove the

   worker.template.socket_timeout=60

Have a look at

http://tomcat.apache.org/connectors-doc/generic_howto/timeouts.html

You might also want to check out the example configuration provided with 
each mod_jk source download.

> [Tue Jul 24 08:43:40 2012] [17349:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.1:8009
> [Tue Jul 24 08:43:40 2012] [17349:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
> [Tue Jul 24 08:43:40 2012] [17349:47245693265248] [info] ajp_maintain::jk_ajp_common.c (3225): (worker2) failed sending request, socket -1 keepalive cping/cpong failure (errno=0)
> [Tue Jul 24 08:43:52 2012] [16605:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.1:8009
> [Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
> [Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_send_request::jk_ajp_common.c (1511): (worker2) failed sending request, socket -1 prepost cping/cpong failure (errno=0)

These messages are very strange. They should not happen.
Try again without socket_timeout.
Which versions of Apache, Tomcat and mod_jk are you using?

> [Tue Jul 24 08:43:52 2012] [16605:47245693265248] [info] ajp_send_request::jk_ajp_common.c (1567): (worker2) all endpoints are disconnected, detected by connect check (0), cping (1), send (0)
> [Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems

This one is OK.

Regards,

Rainer

> [Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:44:03 2012] [18149:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
> [Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:44:50 2012] [17831:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
> [Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker1) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:46:20 2012] [17857:47245693265248] [info] jk_handler::mod_jk.c (2620): Aborting connection for worker=worker1
> [Tue Jul 24 08:48:16 2012] [16987:47245693265248] [error] ajp_connection_tcp_get_message::jk_ajp_common.c (1283): wrong message size 19 16 from 172.18.13.2:8009
> [Tue Jul 24 08:48:16 2012] [16987:47245693265248] [info] ajp_handle_cping_cpong::jk_ajp_common.c (889): awaited reply cpong, not received
> [Tue Jul 24 08:48:16 2012] [16987:47245693265248] [info] ajp_maintain::jk_ajp_common.c (3225): (worker3) failed sending request, socket -1 keepalive cping/cpong failure (errno=0)
> [Tue Jul 24 08:48:18 2012] [32038:47245693265248] [info] ajp_process_callback::jk_ajp_common.c (1885): Writing to client aborted or client network problems
> [Tue Jul 24 08:48:18 2012] [32038:47245693265248] [info] ajp_service::jk_ajp_common.c (2543): (worker3) sending request to tomcat failed (unrecoverable), because of client write error (attempt=1)
> [Tue Jul 24 08:48:21 2012] [32038:47245693265248] [info] service::jk_lb_worker.c (1388): service failed, worker worker3 is in local error state
> [Tue Jul 24 08:48:21 2012] [32038:47245693265248] [info] service::jk_lb_worker.c (1407): unrecoverable error 200, request failed. Client failed in the middle of request, we can't recover to another instance.
>
> In apache error log, there isn&#8217;t any errors attached to the jk module.

> In catalina log:
>
> 2012-07-24 09:01:19 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:01:21 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:01:45 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:03:37 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:05:35 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:06:43 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
> java.net.SocketException: Socket closed
>          at java.net.SocketOutputStream.socketWrite(Unknown Source)
>          at java.net.SocketOutputStream.write(Unknown Source)
>          at org.apache.jk.common.ChannelSocket.send(ChannelSocket.java:532)
>          at org.apache.jk.common.JkInputStream.appendHead(JkInputStream.java:327)
>          at org.apache.jk.core.MsgContext.action(MsgContext.java:266)
>          at org.apache.coyote.Response.action(Response.java:183)
>          at org.apache.coyote.Response.sendHeaders(Response.java:379)
>          at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
>          at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:288)
>          at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:95)
>          at om.face.channel.webapi.push.SubscriptionHandle.flush(SubscriptionHandle.java:325)
>          at om.face.channel.webapi.push.SubscriptionHandle.write(SubscriptionHandle.java:290)
>          at om.face.channel.webapi.push.SubscriptionHandle.run(SubscriptionHandle.java:230)
>          at java.lang.Thread.run(Unknown Source)
> 2012-07-24 09:09:50 org.apache.jk.core.MsgContext action
> WARNING: Unable to send headers
>
>
> I attached file with dump of working tomcat.
>
> My config is something like that:
> worker.list=worker1,worker2,worker3,loadbalancer
>
> # Common worker properties
> worker.template.port=8009
> worker.template.type=ajp13
> worker.template.connection_pool_timeout=600
> worker.template.socket_timeout=60
> #worker.template.socket_timeout=120
> worker.template.ping_mode=A
>
> # Set properties for worker1 by referencing worker templates above
> # Connection to local Tomcat (Trade Client)
> worker.worker1.reference=worker.template
> worker.worker1.host=localhost
> worker.worker1.connect_timeout=10000
> worker.worker1.prepost_timeout=10000
>
>
> # Set properties for worker2 and worker3 by referencing worker templates above
> # Connection to remote JBOSS (ATE - Condico Clearing Station)
> worker.worker2.reference=worker.template
> worker.worker2.host=ate1
> worker.worker2.lbfactor=1
> worker.worker2.connect_timeout=10000
> worker.worker2.prepost_timeout=10000
>
> worker.worker3.reference=worker.template
> worker.worker3.host=ate2
> worker.worker3.lbfactor=1
>
> # Load Balancer worker
> worker.loadbalancer.type=lb
> worker.loadbalancer.balance_workers=worker2,worker3
>
> for now i dont know what log, or what information can be helpful.
> Iam trying to resolve problem for few days, but unfurtunately i cant.
>
> Piotr

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235671-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 09:49:48 2012
Return-Path: <users-return-235671-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C67BBDD2A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 09:49:48 +0000 (UTC)
Received: (qmail 3750 invoked by uid 500); 25 Jul 2012 09:49:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3610 invoked by uid 500); 25 Jul 2012 09:49:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3565 invoked by uid 99); 25 Jul 2012 09:49:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 09:49:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [83.206.112.232] (HELO mailgw1.z-ancy-11.fr.sopragroup.com) (83.206.112.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 09:49:35 +0000
Received: from mailgw1.z-ancy-11.fr.sopragroup.com (localhost.localdomain [127.0.0.1])
	by localhost (Postfix) with SMTP id 62930D1C061
	for <users@tomcat.apache.org>; Wed, 25 Jul 2012 11:49:15 +0200 (CEST)
From: Vera Mickael <mvera@sopragroup.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Tomcat cluster session replication fails on first request only
Thread-Topic: Tomcat cluster session replication fails on first request only
Thread-Index: Ac1qSr/gXmhx1WIbSyyIqylYH65qdw==
Date: Wed, 25 Jul 2012 09:49:14 +0000
Message-ID: <1815_1343209755_500FC11B_1815_2875_1_C3577F308B72C84BA40054460D1AB70F05912DA6@wancyexmbx01.ancy.fr.sopra>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
x-originating-ip: [172.29.170.122]
Content-Type: multipart/mixed;
	boundary="_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_"
MIME-Version: 1.0

--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Context:
Tomcat 7.0.29
Apache 2.4.2
Tomcat connectors 1.2.37
JSF
Ajax requests
Sticky sessions

We have setup a cluster that almost works. Sessions are replicated and fail=
over almost works.

But on first request of the first session, just after tomcat servers starte=
d, there is a problem on session replication (see stack trace at the end of=
 this mail). This problem does not appear on following requests. I'm afraid=
 this occurs because our application makes use of ajax requests and the fir=
st page of the application quickly sends other requests before tomcat had t=
he time to perform the first replication. Maybe because tomcat needs time t=
o load resources on first time replication ? On next sessions, there won't =
be no more errors.

I've noticed errors in my mod_jk logs, I don't know if this is important, l=
ogs are provided as attached files.

I've attached my configuration files.=20

Is there any solution to prevent this errors, the tomcat error and the mod_=
jk errors ?

Here is the error logged on the other node than the one which handled the f=
irst request.

INFO: Server startup in 14409 ms
25 juil. 2012 11:10:05 org.apache.catalina.tribes.io.BufferPool getBufferPo=
ol
INFO: Created a buffer pool with max size:104857600 bytes of type:org.apach=
e.catalina.tribes.io.BufferPool15Impl
25 juil. 2012 11:10:06 org.apache.catalina.ha.tcp.SimpleTcpCluster memberAd=
ded
INFO: Replication member added:org.apache.catalina.tribes.membership.Member=
Impl[tcp://{172, 29, 170, 122}:4001,{172, 29, 170, 122},4001, alive=3D1011,=
 securePort=3D-1, UDP Port=3D-1, id=3D{-109 -17 -91 -77 -61 105 75 -43 -76 =
-1 115 24 -55 -106 26 3 }, payload=3D{}, command=3D{}, domain=3D{}, ]
25 juil. 2012 11:10:56 org.apache.catalina.ha.session.DeltaManager messageR=
eceived
GRAVE: Manager [/ecamtool]: Unable to receive message through TCP channel
java.lang.IllegalArgumentException: Session id mismatch, not executing the =
delta request
        at org.apache.catalina.ha.session.DeltaRequest.execute(DeltaRequest=
.java:160)
        at org.apache.catalina.ha.session.DeltaManager.handleSESSION_DELTA(=
DeltaManager.java:1347)
        at org.apache.catalina.ha.session.DeltaManager.messageReceived(Delt=
aManager.java:1293)
        at org.apache.catalina.ha.session.DeltaManager.messageDataReceived(=
DeltaManager.java:1014)
        at org.apache.catalina.ha.session.ClusterSessionListener.messageRec=
eived(ClusterSessionListener.java:92)
        at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(Simp=
leTcpCluster.java:897)
        at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(Simp=
leTcpCluster.java:878)
        at org.apache.catalina.tribes.group.GroupChannel.messageReceived(Gr=
oupChannel.java:278)
        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageR=
eceived(ChannelInterceptorBase.java:84)
        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector=
.messageReceived(TcpFailureDetector.java:113)
        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageR=
eceived(ChannelInterceptorBase.java:84)
        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageR=
eceived(ChannelInterceptorBase.java:84)
        at org.apache.catalina.tribes.group.ChannelCoordinator.messageRecei=
ved(ChannelCoordinator.java:253)
        at org.apache.catalina.tribes.transport.ReceiverBase.messageDataRec=
eived(ReceiverBase.java:287)
        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drai=
nChannel(NioReplicationTask.java:212)
        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(=
NioReplicationTask.java:101)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoo=
lExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExe=
cutor.java:908)
        at java.lang.Thread.run(Thread.java:662)

Thanks for any help.

Regards/Cordialement,
Micka=EBl VERA
Architect / ProjectManager

SOPRA group.
1 Avenue Andr=E9 Marie Amp=E8re
BP 10134 - 31772 Colomiers Cedex
Phone : +33 (0)5 34 56 71 95
mvera@sopragroup.com - www.sopragroup.com

Ce message peut contenir des informations confidentielles dont la divulgati=
on est =E0 ce titre rigoureusement interdite en l'absence d'autorisation ex=
plicite de l'=E9metteur. Dans l'hypoth=E8se o=F9 vous auriez re=E7u par err=
eur ce message, merci de le renvoyer =E0 l'=E9metteur et de d=E9truire tout=
e copie.

Pensez =E0 l'environnement avant d'imprimer.

--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: application/x-zip-compressed; name="mod_jk.log.zip"
Content-Description: mod_jk.log.zip
Content-Disposition: attachment; filename="mod_jk.log.zip"; size=446;
	creation-date="Wed, 25 Jul 2012 09:39:32 GMT";
	modification-date="Wed, 25 Jul 2012 09:39:47 GMT"
Content-Transfer-Encoding: base64

UEsDBBQAAgAIAPVc+UAKMpa9SAEAAHwHAAAKAAAAbW9kX2prLmxvZ82TTWsCMRCG74L/YY56aDbJ
ZqsGepBCoaX3HkSWdDe60WyyZFfE/vqOWikFPxAs7i0fw7zP5CGTD53D28oCT4AxGQtJR2TEh8Ap
41OYDCgVklNKca1D8GEKi2VaF2XqK+2k3G9IBj0uaF/CizIWOzYeSlVBXaiAu1KXPmzgWUbjSmWF
5iKyfl5Hpc/TxZJgA1ibpgAMcP4p6XYm11MZZxpsJuVPUySKYzFEpFe8McqaL+PmSFTKnltZ2z+k
EXj3KodPZZXLtiVrH5Y61IhkLTjfwGzlssZ4B1XAoYPdkOsIjZv5E4CPCQLuDyJGOIkHu7odrs5P
xSSjNuo5S9UKPccJb6qHURIP2SEmHggqE/Z4ZzuXoO4u5yTgrd0IIdrn5ixUG9yI34/zn26Optzb
zQWorDA2T7fD/XkBLgRyjZsGk4/qeWDdzjdQSwECFAAUAAIACAD1XPlACjKWvUgBAAB8BwAACgAA
AAAAAAABACAAAAAAAAAAbW9kX2prLmxvZ1BLBQYAAAAAAQABADgAAABwAQAAAAA=

--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: application/x-zip-compressed; name="mod_jk.conf.zip"
Content-Description: mod_jk.conf.zip
Content-Disposition: attachment; filename="mod_jk.conf.zip"; size=374;
	creation-date="Wed, 25 Jul 2012 09:40:45 GMT";
	modification-date="Wed, 25 Jul 2012 09:40:45 GMT"
Content-Transfer-Encoding: base64

UEsDBBQAAgAIAMZj9EAvnojN/gAAAMEBAAALAAAAbW9kX2prLmNvbmZtkM1OxDAMhM9U6jtY2htC
2xdAKyEQh1URhz1wXJnWbdMmceSkLH173B8EWrjFM5PPk+zgFKgyzQQBUweJ4cIykEDFvjHtKJgM
e2iMpTw7Dm+LGZ91XBIFfSbBwnF97ofzejXug3AgSYZinuXZDh43FoHltjW+BfQ1OHIs00w9dW4h
qhs31j52brZKbv9Yet6skj7IgvENXy9y7E1i0V1z9IVHn6DoB4ceW5LiFvohJkyjNrwvuVpf+RM4
5NnNq9T6DzX56Q6t5YtKTzpAI+xAFZ0fZn0VrEJsxzEpsPgmHq5rYQjWrF78VYwqdInZai/LWL+j
RV+R/JO48vPsC1BLAQIUABQAAgAIAMZj9EAvnojN/gAAAMEBAAALAAAAAAAAAAEAIAAAAAAAAABt
b2RfamsuY29uZlBLBQYAAAAAAQABADkAAAAnAQAAAAA=

--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: application/x-zip-compressed;
	name="mod_jk_workers.properties.zip"
Content-Description: mod_jk_workers.properties.zip
Content-Disposition: attachment; filename="mod_jk_workers.properties.zip";
	size=377; creation-date="Wed, 25 Jul 2012 09:40:45 GMT";
	modification-date="Wed, 25 Jul 2012 09:40:45 GMT"
Content-Transfer-Encoding: base64

UEsDBBQAAgAIAFRg9ED92POR5QAAAAYCAAAZAAAAbW9kX2prX3dvcmtlcnMucHJvcGVydGllc32Q
QW/CMAyF75X6HyxxRYh2Fzj0sI3jjrsjk3lraEgq2wXx72mVNNsE2ymOnv3Z7y1gR5/WE1wCd8QC
Hk8kZRG/K2dFm2MnijrIElzAjwM69Ia4LMpiAa9MqARnyzqgmyl5fh5d6bWnJtbf8B+02OAOj0VR
a7rrXkjEBt8oDxTX78g4ZIL3cDKoIMRn4uylAm05DF8t+MyNTxX34bGvnu6kNoymXTDopupO7gNr
s1mvt9MJv7T6b2r9P7WeqdU2GnsWCcZO0Y4B51zhYrXNYb+NEb2kiFLH4/hSsU+UJjlZpt1lcQNQ
SwECFAAUAAIACABUYPRA/djzkeUAAAAGAgAAGQAAAAAAAAABACAAAAAAAAAAbW9kX2prX3dvcmtl
cnMucHJvcGVydGllc1BLBQYAAAAAAQABAEcAAAAcAQAAAAA=

--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: application/x-zip-compressed; name="server.xml.zip"
Content-Description: server.xml.zip
Content-Disposition: attachment; filename="server.xml.zip"; size=3042;
	creation-date="Wed, 25 Jul 2012 09:41:15 GMT";
	modification-date="Wed, 25 Jul 2012 09:41:15 GMT"
Content-Transfer-Encoding: base64

UEsDBBQAAgAIAAhZ+UB3Cqx0bAsAAAMhAAAKAAAAc2VydmVyLnhtbL1ZbW/bRhL+7AL9D3sE3MQH
i7Tzcucmtgs1thvnHNuw1AYFDihW5EpiTHLZ3aVl9df3md0ltXpx4rqHc4BIonbeZ56ZWR3+cF8W
7E4oncvq6Nl+vPeMiSqVWV5Njp41Ztw7ePbD8bffHP6j1/v2G8Yu8lRUWmTMSGamgvVrnuJlIMdm
xpVgZ7KpMm7AjD3vD852GD4KxWQlmFSslEoQl1RWRuWjxuBZ4TgyPlFClKIyOmZsIIRlf3k1PH93
ysZ5IViWa0cE6bPcTImRmeaazaS6ZWOw4lmWk2hesLzCg9IposSEKzIIcuu5yidTw+Ssgs3TvI6J
zZAsGZy1umjH10qFnb/KxpsRWOwdsct+cb5jL+I9YvWczkT+22jnLZuDuuRzVknDGi0C1uI+FbWB
qtCrrIucV6kILOtkwB+/eiZyZDjOc2sJk+PwGOPm22+IlP6mxtRvkmQ2m8XcKhxLNUla+5ILePVy
cNqzShPNz1UhtIarfm9yBQeP5ozX0CnlI2ha8BmFz4bIhh46zBR8XU12mfaxJzZhjBYuaxWE4eEB
OI1XLOoP2PkgYj/2B+eDXWLy6Xz4/urnIfvUv7npXw7PTwfs6oa9u7o8OR+eX13i0xnrX/7K/nN+
ebLLBBwGOeK+VmQB1MzJmSKzkW0TqVWB0oQ+61qk+ThPYVo1afhEsIlEFVSUJbVQZa4pqBoKZsSm
yMvc2GzS63ZBUK/na4RdSiPeMNZn0UAocIzIaop9brQoxghd9A7ZjyjiO3JemCA+epkY42ummxEl
BmoHRYFP6ZRxzaJfeHEndIRwu1wqxJ0oYk96ItOGishlPo4kmUx1goIb55NEW5XiqSkLnHdKOzVZ
LZU5ig729l5HTE8bk6FCjqLB+5+HJ1efLqNj4m8NHIi0Qejn8Ik2AlbEXxHantOtXHZ44R+xtOBa
X/JSHEXIzzZVU254kVc81l5W3AptCSOWWI2sCU6x/vUNVBoprqCa5NkXFOO180FH/lh9UuBX3K/V
RT4W6TwtxEKfweDitJogbKCsWvVIr/MKdQLyPwT7wJF2cLXKKQslm4kRigxJBuC0KmcPqvzZkvam
cmbk39DdabDqRRvXa4U8qgwrBVAaLhT8FuXaWAQk3ALY1FyZPG0KrthnfscT+u+e9a/P9dOUUeKj
FXYBWV48jF7T7rFMy5HglY5/KuSIFzdCy0alQm+IVfIEZYdTJXh2IVNefEndzp1OC/YBoAVU9bq0
6PxglKss73Wng2iHue44Q11gVWflsWNtRZ+iC1rYRtgUQzfmI24bD+SkQFxeAHVG9msC+k4pdAEQ
nPjzN4IXJQWfN8A6mAp/OJbeDK8PhLZasMr6MOQSWfKjAPMCcfbPzOsH/L7EZ5UsEzpVeU3+cxI3
GEo21ngMM4HjTPM7ka0xGvMUY8h8swrW3NhlaajOmSNaY1ZzM3VOIPBLjCzBque4YNDqUi95KIhd
/vgGgg5jOwh1/KIQqc0XlGIwUNmGUglSCF3BGq+nvh/bP840pBQi7DwrfaoV82Cj6pgtN6y/06oe
06ygV5f/XQF4hX22vfOxio7b6Yf8RxNd2rnFZgOBGHeuyTAuoKPgq11rDX3tLQkdSwIw7tjKR4OU
hV7kvJ+H8e7Us/L6uJg7uLgGTWSfAy/G+T3SwmvbIwV6Qf6U/N7R6KNo//VexJAZAwCu6J6+ipLj
oPJCaymMXRJEwBuahWwoYJioslrmQHbMdLNpjtDQlCe0cY1HiVTkKIwglalYwADhpFnYHTKNqjb2
pzcB4Qc0BPZ+OLxmnTZvloNKc6nrX89HhUxvad76DplU9dqPO6v8+h+u2YP8+Od6kSDujwaB56RE
Asqddcq2+wckJy723CqCTm5tSPbj/QU1Tas0I7GDvYO9IAxbQSYsDrfT1AECWStpJKr3KGq5rsFG
m6pw6TAvhWxA/GIPf+snkbwY0FNz7SS8evXSgcrW1tYSJq9nRUMo4IZfVwNBYm/K64U1bbFsSO41
/f7/lrM1u7twfi2U4BGIGRJEdaBBeKGtuz4MBqfM5VujbN7vopBE5T2KfNulcwGnBRM9lU2RuW7b
uv+qFhVpps28EMuMAx6uwY0QJyxbdvFEXmdL1fflqNWBnzZEwk2sNCdkiKtq1lvsOiZpNEfCOKpi
wLodz8VD1CmWsMr0bfsfY+ZAh9G6uO40GV4MVgK4IYSVLf/9+OXGStz7PvDBevXtfR9aDkYw/GX0
YCItI2rF3DwfoimFAW8wHjtEfU7bOsLT9qAd134hE91cB/MeY+h8IPPIG7srBy+A9lWxiCqtqENb
Z8gQgmJeoCktwTMv5n/45LRoOxW072hkSlo0mb8fsV97gbsW02uufU6XATuI9Jc5WEaUxHZCg957
qWHfXa5MgzF2ik87cYiYX2zdwhoW7CmBY+kqw1eFFoZ9vitvUPV2zdBNbQNLu1AP4xGvUqqZu9w1
gVy0zebQe25lAqAezpvCkO5HUUGzOikedUKOIrzbj9ZA48ns6OpJqP3F7OGMPJO0VDRYDJS9IkF8
7WDKbwmVCilvyWXZig/DTtr60zEJ9z72XNuEQUxmcNrOBiIXBE/ruy3mD6EE3TAtid1p47O1FRpA
m4C74kBTvmpMtwzUfkvkxoiyppKQbNLQxYtdNijD4JNML6EBBZCzkYLLesjulK6qDE9vFxGwSwSJ
+MoqpuhQHCoVHS9EWc0tijtmHYKHo3sHuAtknSx2tRUU63ax4NbnVszZ8o6Dcu5XcwZYMXqFgcUD
mqCwdtONJK0iE8zU2k/ES5rRubzEGarAYr7CCrNQXti9buy6Ew10pJA1NmahN/+aP9fWvk3N1zni
cn3DSxYxTCx1WAwWRlxdBQVESPMjaFFA7gpkRWBTQc/bT/0b7ZsLbZHyRNSFnPsngZD2YsouOYN8
Ul1V7I42j1036YQbLFXaSJiZQPuG7PaS097srRi9CnErk6eVsHQVs9Al+GRXoK+FIVBQqjg0ZNEh
V7rkolGl1GsAKpNF30HLKDC1ccKJ+KlmrdC5hZHaVk3Fryp3f4AcpjtjkBEs2Lsie4fqztAeXJZ0
Ibbso0d5xaqiY2fghZxYIqCybd52ZYfResMI6netLuF+45bFbzgeYwhpxvbr2NybDcSt4ttTtl2w
7YZtG/bd7400b7eVe2Xbmm2P2plha+vwnUPar9kz5bFJa4SXwjJMa0+2rgNmpynHMFMMsLtd2TsO
FMLBSs5/xBwweZRUZATdZscnojDck22SKu5r+HbgTuuratDdA7v5bQNJJU0+7q5lQXMjuoLqBsMt
Wk4WVyNRsmzIO2fs1wyh3w2QDhMlmzr+if73hJFbfw4/inLkftR5JKuyI4g/plyb9ibEaby1xbOM
flPARvLiIN7Dv1fdV27EfPX6xb8Xz8Z22KpSJOZru8C4xxlmKtptjqKXtNf4ZQ34bPdu9UhdjeKV
Jqlxlcv4MpctfSuHsU5dAsvFY6/q3kIlZuH0x7zC5L8fPtaisKXVrWKvl6jCfeBfUZv+W4eUpk8w
JEiVIT0scyo9H82tw2F78Ekeou1UZNdcAQpdIYF16/vEffafziuIpZ/ipPpLOZgv6HSMej5Df8ZY
cSKM27iT/yX/j4gs6vYk1yikdLr/OuAahT3iMPFlsVxkj0Jcj1BBYBzmrhX+OC8gHRj6z//Gk3z8
ll4/a/dST+xrXblXtJL2tbBvUu0OAn7tq5Du1RjHJ0/l22WLHqt7i3Mf/HxOGS6UM2EFc9ws8Sj0
zOzR+Iyr8hNXLeEmMGQ0E5/k8EtiyjqZcdWjJ8nGs47t8mn3bPP5GYV9+bj7Ze0Lx7v93uH3Ku66
/vPYn0E2ONi3ivMT5+nup5Cl6D1djKf0Uta4I9PdgWPGgpEzoZmzO+JWO3/r7gGefvZM3O+eePsn
UEsBAhQAFAACAAgACFn5QHcKrHRsCwAAAyEAAAoAAAAAAAAAAQAgAAAAAAAAAHNlcnZlci54bWxQ
SwUGAAAAAAEAAQA4AAAAlAsAAAAA


--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--_005_C3577F308B72C84BA40054460D1AB70F05912DA6wancyexmbx01anc_--

From users-return-235672-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 11:23:57 2012
Return-Path: <users-return-235672-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1AB8DA38
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 11:23:57 +0000 (UTC)
Received: (qmail 14627 invoked by uid 500); 25 Jul 2012 11:23:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13736 invoked by uid 500); 25 Jul 2012 11:23:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13679 invoked by uid 99); 25 Jul 2012 11:23:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 11:23:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 11:23:41 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>
CC: "mturk@apache.org" <mturk@apache.org>
Subject: RE: issue with iis 7.5 ajpconnector
Thread-Topic: issue with iis 7.5 ajpconnector
Thread-Index: Ac1lPJAxtJ3Fma78QUmqpeWZaz/GYwEHhSew//966gD//YXzsA==
Date: Wed, 25 Jul 2012 11:23:18 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com>
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com>
 <A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com>
 <500E4B42.2060205@ice-sa.com>
In-Reply-To: <500E4B42.2060205@ice-sa.com>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.32.20.101]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Andre

Apologies for the sparseness.


> -----Original Message-----
> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]
> Sent: Tuesday, 24 July 2012 5:14 PM
> To: Tomcat Users List
> Subject: Re: issue with iis 7.5 ajpconnector
>=20
[snip]

> >
>=20
> Just to avoid any future misunderstandings and (additional) loss of time =
:
> When you write "II 7.5", you mean the IIS webserver version 7.5, under
> Windows, right ?

Dropped the s in the message. But yes this is Windows 2008 R2 with NLB (net=
work load balancer installed), IIS 7.5 and ajpconnector 1.2.34_8

I initially raised a bug about the locking and shared memory. This was the =
first working version after that bug. I haven't as yet had a chance to chec=
k the newer version.  But I haven't seen any bugs that might have caused my=
 problems.

> And exactly which "AJP connector" are you using, downloaded from where,
> and which precise
>From the tomcat web site, I believe actually from here
http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.34/)



> version ?
> And while you are at it, you may want to add the precise OS and Java and
> Tomcat versions

So I have 3 vhosts setup=20

a) goes to RHEL6.1 Jboss 6.1.0Final
b) goes to RHEL6.1 jboss 6.1.0Final
c) (the new one I was trying to add) Windows 2008r2 Tomcat 6.0.20

My previous setup was

Internet -> IIS (on public server   [not the reverse proxies] ) -> ajpconne=
ctor to tomcat (all on the same box)
I was trying to

Internet -> IIS (on my reverse proxies) -> ajpconnector  to tomcat on the p=
ublic server ) .. I have checked the firewall rules and connectivity was th=
ere ie from the RPs -> 8009 on the public web server

But I really think this extra info is not the problem.=20
Why

When I added in config c) from above ... so its on vhost  the ajp connector=
 never ever sent out a request.

So my directory setup is such

X:\<companyX>\local\<vhost>\logs                   <iis logs>
X:\<companyX>\local\<vhost>\                           <ajpconnector logs>
X:\<companyX>\Shared\<vhost>\
X:\<companyX>\Shared\<vhost>\ajpconnector <all the config files and dll for=
 ajpconfig>
X:\<companyX>\Shared\<vhost>\wwwroot        <iis www root>


So happy working system, with 2 vhosts. We have tested with 1.5K concurrent=
 connection attempts and concurrent connects to each of the 2 RP and 2 vhos=
t simultaneously.. all happy don't miss a beat.

Oh and I have ajpconnector turned onto error only logging
I have 2 threads allocated per vhost - 2 threasd in the application pool an=
d concurrent recycles allowed.

I configure the 3rd vhost, start application pool, attempt to hit the jksta=
tus / jkmanager page.  Then the other ajp connector start to time our.  Eve=
n with debugging turned on in the 3 vhost - the new one. I don't get any li=
ne entries...

Which leads me to believe it is a semaphore/ locking issue.


I will note MTurk, in previously emails thought the setup should have just =
1 pool for all the vhost. But this didn't allow us to run different version=
s in UAT / SIM / PROD and testing...


Any other questions happy to add any more info=20

> too, rather than forcing other people to pry this information out of you.
Sorry, it did seem rather clear when I wrote it :)  But obviously not !

>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235673-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 14:38:58 2012
Return-Path: <users-return-235673-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8248FD509
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 14:38:58 +0000 (UTC)
Received: (qmail 53719 invoked by uid 500); 25 Jul 2012 14:38:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53473 invoked by uid 500); 25 Jul 2012 14:38:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53444 invoked by uid 99); 25 Jul 2012 14:38:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 14:38:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 14:38:41 +0000
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6PEcLfH001555
	for <users@tomcat.apache.org>; Wed, 25 Jul 2012 16:38:21 +0200 (CEST)
Message-ID: <501004C7.30201@kippdata.de>
Date: Wed, 25 Jul 2012 16:37:59 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: issue with iis 7.5 ajpconnector
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com> <A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com>
In-Reply-To: <A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit

On 25.07.2012 13:23, Alex Samad - Yieldbroker wrote:
> Hi Andre
>
> Apologies for the sparseness.
>
>
>> -----Original Message-----
>> From: Andr Warnier [mailto:aw@ice-sa.com]
>> Sent: Tuesday, 24 July 2012 5:14 PM
>> To: Tomcat Users List
>> Subject: Re: issue with iis 7.5 ajpconnector
>>
> [snip]
>
>>>
>>
>> Just to avoid any future misunderstandings and (additional) loss of time :
>> When you write "II 7.5", you mean the IIS webserver version 7.5, under
>> Windows, right ?
>
> Dropped the s in the message. But yes this is Windows 2008 R2 with NLB (network load balancer installed), IIS 7.5 and ajpconnector 1.2.34_8
>
> I initially raised a bug about the locking and shared memory. This was the first working version after that bug. I haven't as yet had a chance to check the newer version.  But I haven't seen any bugs that might have caused my problems.
>
>> And exactly which "AJP connector" are you using, downloaded from where,
>> and which precise
>  From the tomcat web site, I believe actually from here
> http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.34/)

Version 1.2.34 was never released. Choose an official version from

http://tomcat.apache.org/download-connectors.cgi

probably 1.2.37.

Regards,

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235674-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 15:37:06 2012
Return-Path: <users-return-235674-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 548E6D4FA
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 15:37:06 +0000 (UTC)
Received: (qmail 41640 invoked by uid 500); 25 Jul 2012 15:37:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41465 invoked by uid 500); 25 Jul 2012 15:37:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41422 invoked by uid 99); 25 Jul 2012 15:37:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 15:37:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 15:36:54 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id ef0k1j0060vyq2s5FfcjL8; Wed, 25 Jul 2012 15:36:43 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id efcf1j00H38FjT13RfcgVS; Wed, 25 Jul 2012 15:36:41 +0000
Message-ID: <5010127E.5010108@christopherschultz.net>
Date: Wed, 25 Jul 2012 11:36:30 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Default configuration; Connection reset by peer
References: <1343163584.30724.YahooMailNeo@web125003.mail.ne1.yahoo.com> <500F14D6.6090500@christopherschultz.net> <1343171997.82400.YahooMailNeo@web125003.mail.ne1.yahoo.com>
In-Reply-To: <1343171997.82400.YahooMailNeo@web125003.mail.ne1.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Phineas,

On 7/24/12 7:19 PM, Phineas Dole wrote:
> Test configuration: <Connector port="8080"
> protocol="org.apache.coyote.http11.Http11NioProtocol" 
> acceptCount="10240" numThreads="1024"

numThreads is not a recognized configuration attribute. Read the docs:
http://tomcat.apache.org/tomcat-7.0-doc/config/http.html

> I have increased somaxconn.

Are you sure?

> The error has become very consistent. I can trigger it by
> restarting tomcat and then running the test. Typically it takes <5s
> for ab to terminate. (Though ab states that several thousand
> requests have completed by that point, which appears true from the
> access logs).

With a trivial servlet, you should be able to handle a *lot* of load.
Are you testing on localhost (i.e. both ab and Tomcat run on the same
machine)?

> The high (10240) acceptCount seems to be the reason for the 
> consistent error. Decreasing it seems to make things more stable.

In general, I would expect that. There's not a really good reason for
a high acceptCount. If your machine can't handle a huge amount of
load, don't make a whole bunch of clients get in a huge line: just
refuse their connections.

> In fact, setting acceptCount="5" and connectionTimeout="-1" seems
> to delay the error by a huge amount, but it still occurs. Also,
> the connectionTimeout resolves "length" and "exception" errors 
> occasionally reported by ab. I presume this is related more to how 
> the client (ab) operates and not tomcat itself.

Perhaps. If it's appropriate for your testing, try using "-k" to
enable HTTP keepalive to see if you get better throughput (and fewer
errors).

> The acceptCount is counter-intuitive to me. Was this the intended 
> solution you had in mind.

No: I think you should change maxThreads. Better yet, use an
<Executor> so you have better control over everything. TC7 always uses
an <Executor> implicitly, but there are fewer configuration options
when doing it through the <Connector>.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAQEn4ACgkQ9CaO5/Lv0PA1RACgpOoW6lPrO4vEDA8/kMnKFtKk
7QoAnA7G7uz2wD2YmoLmuHUKA3sp4W3l
=RCwk
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235675-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 19:52:32 2012
Return-Path: <users-return-235675-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 604F2D580
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 19:52:32 +0000 (UTC)
Received: (qmail 73450 invoked by uid 500); 25 Jul 2012 19:52:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73310 invoked by uid 500); 25 Jul 2012 19:52:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73297 invoked by uid 99); 25 Jul 2012 19:52:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 19:52:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of david.blevins@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 19:52:19 +0000
Received: by pbbro12 with SMTP id ro12so2201557pbb.18
        for <users@tomcat.apache.org>; Wed, 25 Jul 2012 12:51:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=eOG3wH3JM1IsjU3MNJsXX7xD0a/vkAJd058LB9IZkLs=;
        b=0We24Jg/VpyJvG4dFQXkp6+AoIW+R10pTw40iRHd/r+dIc+fcVxiDXpMQXx34RuRLh
         uxxPSHBGYotnHo3tgQ84nk+6LYs0GK2jp0xo8u9dwUNh0cy0xtZ04RY/E7TkPCyOx7Nr
         7Cm5vPEgv/s7wRJ/VjaQSUQ8qIj0VGLxTcZGjdJ8CMrfnRNg0WH0MvM3Vt00KkXqhgWH
         MmJrpaP13uLrpobewcdR9+qkp1M/z5ZrhHgvVWotAM4FxZZ52YlYRxyjMEb1VX1QKwNH
         6xemqGQseOAjo9K5YlbBksSNjKAExLTLGdonLA3a7EmNCmulR+/4CXgh9nUxDK9+U1Yd
         Hi4w==
Received: by 10.68.237.103 with SMTP id vb7mr55767368pbc.38.1343245918594;
        Wed, 25 Jul 2012 12:51:58 -0700 (PDT)
Received: from [192.168.0.106] (cpe-76-166-177-239.socal.res.rr.com. [76.166.177.239])
        by mx.google.com with ESMTPS id qp9sm14947379pbc.9.2012.07.25.12.51.55
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 25 Jul 2012 12:51:56 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1278)
Subject: Re: Run TomEE as a daemon
From: David Blevins <david.blevins@gmail.com>
In-Reply-To: <500EAE8A.9080508@christopherschultz.net>
Date: Wed, 25 Jul 2012 12:51:54 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <05329D99-C456-4E5C-A04D-4BAB7EF7C7CA@gmail.com>
References: <CAGjs8qTpz=Uy1XoQvjf8whVoHfUerTRHdXdGi2O0u3GUeEscbQ@mail.gmail.com> <CABzHfV=L6+xWi5W2aCifAQ8AWYMaPSTg5g2P_3H9h3tMhhaA2g@mail.gmail.com> <500DB22F.4000003@christopherschultz.net> <CABzHfV=Q-7Mmq8agnwwhiaLuuUuV6jtJqtiwr2Rpw+do6pvELw@mail.gmail.com> <11A4A1F6-E5DE-4011-90D8-60D0DAE46B75@gmail.com> <500EAE8A.9080508@christopherschultz.net>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1278)


On Jul 24, 2012, at 7:17 AM, Christopher Schultz wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> David,
>=20
> On 7/23/12 8:29 PM, David Blevins wrote:
>> The page can be edited by anyone by clicking the blue pencil icon
>> in the upper right, so contributions are highly encouraged.  All
>> changes are reviewed before going live, so don't worry about
>> messing anything up.
>=20
> I made an edit to include a link to the commons-daemon documentation
> but figured that "publish site" was an action probably best done by
> someone on the TomEE team ;)

Thanks, Chris!

The online editing for the CMS is still a bit unfriendly.  Hoping to put =
my Infra hat on and hack on it again at some point.

Anyway, the 'submit' button really just saves and your edit is still in =
your private sandbox.  Click the edit link on the page again then tack =
on "?action=3Dmail" and then it will send off the patch.  The url would =
look something like:

=
https://cms.apache.org/openejb/wc/diff/dblevins-_Le_Oo/trunk/content/unix-=
daemon.mdtext?action=3Dmail

The link is only available once you've saved an edit and are presented =
with the 'successful edit' page, at which point you have to know to =
click 'Diff' then on the next page click 'Mail Diff'.

It's a work in progress :)


-David


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235676-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 20:40:33 2012
Return-Path: <users-return-235676-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4F2FD3B6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 20:40:33 +0000 (UTC)
Received: (qmail 30744 invoked by uid 500); 25 Jul 2012 20:40:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30698 invoked by uid 500); 25 Jul 2012 20:40:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30689 invoked by uid 99); 25 Jul 2012 20:40:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 20:40:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 20:40:23 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: issue with iis 7.5 ajpconnector
Thread-Topic: issue with iis 7.5 ajpconnector
Thread-Index: Ac1lPJAxtJ3Fma78QUmqpeWZaz/GYwEHhSew//966gD//YXzsIAEiGKA//7zrIA=
Date: Wed, 25 Jul 2012 20:40:00 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com>
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com>
 <A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com>
 <501004C7.30201@kippdata.de>
In-Reply-To: <501004C7.30201@kippdata.de>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.32.20.101]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Oh so your saying there was an issue that has been fixed since then ..

Okay I get the drill. I had just presumed that there had been no changes si=
nce then on the mutex code that ...
Any way ...

Back  once I run up a test box... with the latest release version

A

> -----Original Message-----
> From: Rainer Jung [mailto:rainer.jung@kippdata.de]
> Sent: Thursday, 26 July 2012 12:38 AM
> To: users@tomcat.apache.org
> Subject: Re: issue with iis 7.5 ajpconnector
>=20
> On 25.07.2012 13:23, Alex Samad - Yieldbroker wrote:
> > Hi Andre
> >
> > Apologies for the sparseness.
> >
> >
> >> -----Original Message-----
> >> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]
> >> Sent: Tuesday, 24 July 2012 5:14 PM
> >> To: Tomcat Users List
> >> Subject: Re: issue with iis 7.5 ajpconnector
> >>
> > [snip]
> >
> >>>
> >>
> >> Just to avoid any future misunderstandings and (additional) loss of ti=
me :
> >> When you write "II 7.5", you mean the IIS webserver version 7.5,
> >> under Windows, right ?
> >
> > Dropped the s in the message. But yes this is Windows 2008 R2 with NLB
> > (network load balancer installed), IIS 7.5 and ajpconnector 1.2.34_8
> >
> > I initially raised a bug about the locking and shared memory. This was =
the
> first working version after that bug. I haven't as yet had a chance to ch=
eck the
> newer version.  But I haven't seen any bugs that might have caused my
> problems.
> >
> >> And exactly which "AJP connector" are you using, downloaded from
> >> where, and which precise
> >  From the tomcat web site, I believe actually from here
> > http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.34/)
>=20
> Version 1.2.34 was never released. Choose an official version from
>=20
> http://tomcat.apache.org/download-connectors.cgi
>=20
> probably 1.2.37.
>=20
> Regards,
>=20
> Rainer
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235677-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 21:38:58 2012
Return-Path: <users-return-235677-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 329F0D22B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 21:38:58 +0000 (UTC)
Received: (qmail 99928 invoked by uid 500); 25 Jul 2012 21:38:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99755 invoked by uid 500); 25 Jul 2012 21:38:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99744 invoked by uid 99); 25 Jul 2012 21:38:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 21:38:54 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 21:38:45 +0000
Received: from [10.0.110.6] ([31.234.244.103])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6PLcNd2008592
	for <users@tomcat.apache.org>; Wed, 25 Jul 2012 23:38:24 +0200 (CEST)
Message-ID: <5010673E.6070201@kippdata.de>
Date: Wed, 25 Jul 2012 23:38:06 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: issue with iis 7.5 ajpconnector
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com><A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com><501004C7.30201@kippdata.de> <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com>
In-Reply-To: <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit

On 25.07.2012 22:40, Alex Samad - Yieldbroker wrote:
> Oh so your saying there was an issue that has been fixed since then ..
>
> Okay I get the drill. I had just presumed that there had been no changes since then on the mutex code that ...
> Any way ...
>
> Back  once I run up a test box... with the latest release version

I'm not pretending that your problems will be fixed by a newer version 
but analyzing a problem on the basis of a non-released (broken) version 
seems inefficient. Thanks for updating.

Regards,

Rainer

>> -----Original Message-----
>> From: Rainer Jung [mailto:rainer.jung@kippdata.de]
>> Sent: Thursday, 26 July 2012 12:38 AM
>> To: users@tomcat.apache.org
>> Subject: Re: issue with iis 7.5 ajpconnector
>>
>> On 25.07.2012 13:23, Alex Samad - Yieldbroker wrote:
>>> Hi Andre
>>>
>>> Apologies for the sparseness.
>>>
>>>
>>>> -----Original Message-----
>>>> From: Andr Warnier [mailto:aw@ice-sa.com]
>>>> Sent: Tuesday, 24 July 2012 5:14 PM
>>>> To: Tomcat Users List
>>>> Subject: Re: issue with iis 7.5 ajpconnector
>>>>
>>> [snip]
>>>
>>>>>
>>>>
>>>> Just to avoid any future misunderstandings and (additional) loss of time :
>>>> When you write "II 7.5", you mean the IIS webserver version 7.5,
>>>> under Windows, right ?
>>>
>>> Dropped the s in the message. But yes this is Windows 2008 R2 with NLB
>>> (network load balancer installed), IIS 7.5 and ajpconnector 1.2.34_8
>>>
>>> I initially raised a bug about the locking and shared memory. This was the
>> first working version after that bug. I haven't as yet had a chance to check the
>> newer version.  But I haven't seen any bugs that might have caused my
>> problems.
>>>
>>>> And exactly which "AJP connector" are you using, downloaded from
>>>> where, and which precise
>>>   From the tomcat web site, I believe actually from here
>>> http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.34/)
>>
>> Version 1.2.34 was never released. Choose an official version from
>>
>> http://tomcat.apache.org/download-connectors.cgi
>>
>> probably 1.2.37.
>>
>> Regards,
>>
>> Rainer

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235678-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Jul 25 23:11:47 2012
Return-Path: <users-return-235678-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40E2AD094
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 25 Jul 2012 23:11:47 +0000 (UTC)
Received: (qmail 33735 invoked by uid 500); 25 Jul 2012 23:11:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33574 invoked by uid 500); 25 Jul 2012 23:11:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33564 invoked by uid 99); 25 Jul 2012 23:11:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 23:11:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jul 2012 23:11:17 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: issue with iis 7.5 ajpconnector
Thread-Topic: issue with iis 7.5 ajpconnector
Thread-Index: Ac1lPJAxtJ3Fma78QUmqpeWZaz/GYwEHhSew//966gD//YXzsIAEiGKA//7zrICAAYG1AP//Pobw
Date: Wed, 25 Jul 2012 23:10:49 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049CF972@DC1INTADCW8201.yieldbroker.com>
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com><A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com><501004C7.30201@kippdata.de>
 <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com>
 <5010673E.6070201@kippdata.de>
In-Reply-To: <5010673E.6070201@kippdata.de>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.32.20.101]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Yep I understand, one can hope=20

> -----Original Message-----
> From: Rainer Jung [mailto:rainer.jung@kippdata.de]
> Sent: Thursday, 26 July 2012 7:38 AM
> To: users@tomcat.apache.org
> Subject: Re: issue with iis 7.5 ajpconnector
>=20
> On 25.07.2012 22:40, Alex Samad - Yieldbroker wrote:
> > Oh so your saying there was an issue that has been fixed since then ..
> >
> > Okay I get the drill. I had just presumed that there had been no change=
s
> since then on the mutex code that ...
> > Any way ...
> >
> > Back  once I run up a test box... with the latest release version
>=20
> I'm not pretending that your problems will be fixed by a newer version bu=
t
> analyzing a problem on the basis of a non-released (broken) version seems
> inefficient. Thanks for updating.
>=20
> Regards,
>=20
> Rainer
>=20
> >> -----Original Message-----
> >> From: Rainer Jung [mailto:rainer.jung@kippdata.de]
> >> Sent: Thursday, 26 July 2012 12:38 AM
> >> To: users@tomcat.apache.org
> >> Subject: Re: issue with iis 7.5 ajpconnector
> >>
> >> On 25.07.2012 13:23, Alex Samad - Yieldbroker wrote:
> >>> Hi Andre
> >>>
> >>> Apologies for the sparseness.
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]
> >>>> Sent: Tuesday, 24 July 2012 5:14 PM
> >>>> To: Tomcat Users List
> >>>> Subject: Re: issue with iis 7.5 ajpconnector
> >>>>
> >>> [snip]
> >>>
> >>>>>
> >>>>
> >>>> Just to avoid any future misunderstandings and (additional) loss of =
time
> :
> >>>> When you write "II 7.5", you mean the IIS webserver version 7.5,
> >>>> under Windows, right ?
> >>>
> >>> Dropped the s in the message. But yes this is Windows 2008 R2 with
> >>> NLB (network load balancer installed), IIS 7.5 and ajpconnector
> >>> 1.2.34_8
> >>>
> >>> I initially raised a bug about the locking and shared memory. This
> >>> was the
> >> first working version after that bug. I haven't as yet had a chance
> >> to check the newer version.  But I haven't seen any bugs that might
> >> have caused my problems.
> >>>
> >>>> And exactly which "AJP connector" are you using, downloaded from
> >>>> where, and which precise
> >>>   From the tomcat web site, I believe actually from here
> >>> http://people.apache.org/~mturk/tomcat-connectors/jk-1.2.34/)
> >>
> >> Version 1.2.34 was never released. Choose an official version from
> >>
> >> http://tomcat.apache.org/download-connectors.cgi
> >>
> >> probably 1.2.37.
> >>
> >> Regards,
> >>
> >> Rainer
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235679-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 01:12:44 2012
Return-Path: <users-return-235679-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E707CFFF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 01:12:44 +0000 (UTC)
Received: (qmail 1061 invoked by uid 500); 26 Jul 2012 01:12:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1008 invoked by uid 500); 26 Jul 2012 01:12:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 997 invoked by uid 99); 26 Jul 2012 01:12:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 01:12:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of icicimov@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 01:12:35 +0000
Received: by ghrr14 with SMTP id r14so1725560ghr.18
        for <users@tomcat.apache.org>; Wed, 25 Jul 2012 18:12:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WZolg2F9LwJgCu39JqTmIYi71BhTCr94Bf7+IMHf5b0=;
        b=s1B3V2WQd8tmj5B7TlY8fEt6e46/vxvCGlbvasDiFTKupnYvbpg7n6UgUMfhlZQQLf
         cg9THNUmofICALf7kysG31aCKtOyIcLJ85trFISAwd8mo7B3yOUUZsW6nTsXtIc5pOGi
         0Kop8yefar5JK4uL8BTU6Wm6ZjysZrknW+Bm4XiJzZNnTWL6UBaVqfY0ep9h4Wf3ufCX
         Y2RuPBhCAPKaMKKkHx9fcl3YpMSncmtrhkBCqe1RNs9E37/p9zF1Au/mDaiAl7qphh1u
         ztBh9/zCfOff9cmSVc3cdW6QmrSU9eLRMkFqY1LCnUePejkcStTEteqJMEFwcD8J+6r2
         aOFQ==
MIME-Version: 1.0
Received: by 10.50.190.163 with SMTP id gr3mr280729igc.74.1343265134122; Wed,
 25 Jul 2012 18:12:14 -0700 (PDT)
Received: by 10.42.215.138 with HTTP; Wed, 25 Jul 2012 18:12:14 -0700 (PDT)
In-Reply-To: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
References: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
Date: Thu, 26 Jul 2012 11:12:14 +1000
Message-ID: <CAAKASGy1AZZQ=Rt2AiQsJQk6h+jRBCROVbuEuw6LwjdXwO32Vg@mail.gmail.com>
Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand this
 error code: proxy: dialog
From: Igor Cicimov <icicimov@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0447881728963e04c5b149f2
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0447881728963e04c5b149f2
Content-Type: text/plain; charset=ISO-8859-1

You have max clients on the apache side set to 400 but only 300 threads on
tomcat side. No wonder you get 500 error...

On Wed, Jul 25, 2012 at 12:22 AM, Carlucci, Tony <acarlucci@mitre.org>wrote:

> Cross-posting this to the tomcat users list (also posted to users@httpd
> )...
>
> Hello, I've been trying to track down an intermittent problem with a Java
> web application that is running on tcServer fronted by Apache HTTP Server.
>    We get intermittent "Server Unavailable / HTTP 500" errors, and when we
> do see them, there is the same set of log statements written to the Apache
> HTTP Server error log:
>
> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> ajp_ilink_receive() can't receive header
> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> failed
> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
>
> We are not seeing any error messages in the tcServer logs.
>
> I believe the issue is with the mod_proxy_ajp module but it's been very
> difficult tracking down what exactly the problem is.   What's interesting
> is that this Apache / tcServer configuration is used with other
> applications that work just fine and never have the intermittent 500 error.
>   We also can run our application strictly in Tomcat (no Apache front)
> without any intermittent errors.
>
> We haven't ruled out that there could be something in our Java application
> code that is causing this, in combination with the mod_proxy_ajp module,
> but we have hit a wall as to what this issue could be.  Has anyone else
> experienced a similar intermittent issue combined with the above error
> messages?  Below is a copy of the error log and some configuration settings.
>
> Thanks, Tony
>
> ---------------------
> Apache HTTP Error Log
> ---------------------
> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(141): Adding CACHE_SAVE
> filter for /myapp/
> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(148): Adding
> CACHE_REMOVE_URL filter for /myapp/
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(45): proxy: AJP:
> canonicalising URL //127.0.0.1:7071/myapp/
> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(1506): [client
> ***cleansed***] proxy: ajp: found worker ajp://127.0.0.1:7071/myapp for
> ajp://127.0.0.1:7071/myapp/
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy.c(1020): Running scheme ajp
> handler (attempt 0)
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_http.c(1963): proxy: HTTP:
> declining URL ajp://127.0.0.1:7071/myapp/
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(681): proxy: AJP:
> serving URL ajp://127.0.0.1:7071/myapp/
> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2011): proxy: AJP: has
> acquired connection for (127.0.0.1)
> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2067): proxy: connecting
> ajp://127.0.0.1:7071/myapp/ to 127.0.0.1:7071
> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2193): proxy: connected
> /myapp/ to 127.0.0.1:7071
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(224): Into
> ajp_marshal_into_msgb
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[0] [x-forwarded-for] = [***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[1] [Host] = [***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[2] [Connection] = [keep-alive]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[3] [User-Agent] = [Mozilla/5.0 (Windows NT
> 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57
> Safari/536.11]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[4] [Accept] =
> [text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[5] [Accept-Encoding] = [gzip,deflate,sdch]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[6] [Accept-Language] = [en-US,en;q=0.8]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[7] [Accept-Charset] =
> [ISO-8859-1,utf-8;q=0.7,*;q=0.3]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[8] [Cookie] = [SSOTOKEN=***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[9] [SSO_LOGIN] = [***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[10] [SSO_ID] = [***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> ajp_marshal_into_msgb: Header[11] [SSO_EMAIL] = [***cleansed***]
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(450):
> ajp_marshal_into_msgb: Done
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(268): proxy:
> APR_BUCKET_IS_EOS
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(273): proxy: data to
> read (max 8186 at 4)
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(288): proxy: got 0
> bytes of data
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(687): ajp_read_header:
> ajp_ilink_received 03
> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(697): ajp_parse_type: got
> 03
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(460): Ignoring flush
> message received before headers
> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> ajp_ilink_receive() can't receive header
> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> failed
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(549): (120006)APR does
> not understand this error code: ajp_read_header failed
> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(564): proxy: Processing
> of request failed backend: 1, output: 0
> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2029): proxy: AJP: has
> released connection for (127.0.0.1)
> [Mon Jul 23 10:03:15 2012] [debug] mod_deflate.c(615): [***cleansed***]
> Zlib: Compressed 323 to 218 : URL /myapp/
>
> ---------------------------------
> Apache HTTP Server (apachectl -V)
> ---------------------------------
> Server version: Apache/2.2.22 (Unix)
> Server built:   Jul 17 2012 17:20:28
> Server's Module Magic Number: 20051115:30
> Server loaded:  APR 1.4.5, APR-Util 1.4.1
> Compiled using: APR 1.4.5, APR-Util 1.4.1
> Architecture:   64-bit
> Server MPM:     Worker
>   threaded:     yes (fixed thread count)
>     forked:     yes (variable process count)
> Server compiled with....
> -D APACHE_MPM_DIR="server/mpm/worker"
> -D APR_HAS_SENDFILE
> -D APR_HAS_MMAP
> -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
> -D APR_USE_SYSVSEM_SERIALIZE
> -D APR_USE_PTHREAD_SERIALIZE
> -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
> -D APR_HAS_OTHER_CHILD
> -D AP_HAVE_RELIABLE_PIPED_LOGS
> -D DYNAMIC_MODULE_LIMIT=128
> -D HTTPD_ROOT="/apps/apache2"
> -D SUEXEC_BIN="/apps/apache2/bin/suexec"
> -D DEFAULT_SCOREBOARD="logs/apache_runtime_status"
> -D DEFAULT_ERRORLOG="logs/error_log"
> -D AP_TYPES_CONFIG_FILE="conf/mime.types"
> -D SERVER_CONFIG_FILE="conf/httpd.conf"
>
> -------------------------------
> httpd.conf (relevant settings):
> -------------------------------
> <IfModule worker.c>
> StartServers 2
> MaxClients 400
> MinSpareThreads 25
> MaxSpareThreads 75
> ThreadsPerChild 25
> MaxRequestsPerChild 10000
> </IfModule>
>
> ProxyRequests Off
> ProxyPreserveHost on
> ProxyReceiveBufferSize 0
> ProxyErrorOverride Off
> RewriteEngine on
>
> ProxyPass /myapp ajp://127.0.0.1:7071/myapp
> ProxyPassReverse /myapp ajp://127.0.0.1:7071/myapp
>
> -----------------------------------------------
> tcServer 2.0.4.RELEASE (Tomcat 6.0.29 binaries)
> -----------------------------------------------
> server.xml:
>
> <Executor name="tomcatThreadPool" namePrefix="tomcat-ajp--"
> maxThreads="300" minSpareThreads="50"/>
> <Connector executor="tomcatThreadPool"
>                address="127.0.0.1"
>                port="7071"
>                protocol="org.apache.coyote.ajp.AjpAprProtocol"
>                connectionTimeout="60000"
>                redirectPort="8443"
>                backlog="100"
>                tcpNoDelay="true"
>                enableLookups="false"
>                URIEncoding="UTF-8" />
>
>
>
>
>
>
>

--f46d0447881728963e04c5b149f2--

From users-return-235680-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 13:35:56 2012
Return-Path: <users-return-235680-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E005596A7
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 13:35:55 +0000 (UTC)
Received: (qmail 2535 invoked by uid 500); 26 Jul 2012 13:26:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22353 invoked by uid 500); 26 Jul 2012 13:20:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60772 invoked by uid 99); 26 Jul 2012 08:38:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 08:38:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 08:38:49 +0000
Received: from [192.168.245.129] (p549E8E10.dip0.t-ipconnect.de [84.158.142.16])
	by tor.combios.es (Postfix) with ESMTPA id 06BA3DA06B5
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 10:38:26 +0200 (CEST)
Message-ID: <501101FE.2040806@ice-sa.com>
Date: Thu, 26 Jul 2012 10:38:22 +0200
From: =?ISO-8859-15?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: issue with iis 7.5 ajpconnector
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com><A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com><501004C7.30201@kippdata.de> <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com> <5010673E.6070201@kippdata.de>
In-Reply-To: <5010673E.6070201@kippdata.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Rainer Jung wrote:
> On 25.07.2012 22:40, Alex Samad - Yieldbroker wrote:
>> Oh so your saying there was an issue that has been fixed since then ..
>>
>> Okay I get the drill. I had just presumed that there had been no 
>> changes since then on the mutex code that ...
>> Any way ...
>>
>> Back  once I run up a test box... with the latest release version
> 
> I'm not pretending that your problems will be fixed by a newer version 
> but analyzing a problem on the basis of a non-released (broken) version 
> seems inefficient. Thanks for updating.
> 

Without rubbing it in too forcefully, this is exactly the reason why it is important to 
provide precise technical details right from the start.
The people on this list are trying to be helpful, and they do this for fun.
At the same time, it is a bit frustrating spending time to exchange multiple messages back 
and forth, to end up realising that we may be talking about some unknown or broken or 
unsupported piece of software (or hardware, as the case may be).
It just wastes time for everyone, and also delays the eventual resolution of your problem.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235681-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 13:47:02 2012
Return-Path: <users-return-235681-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B890E9A8F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 13:47:02 +0000 (UTC)
Received: (qmail 20455 invoked by uid 500); 26 Jul 2012 13:46:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20399 invoked by uid 500); 26 Jul 2012 13:46:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20390 invoked by uid 99); 26 Jul 2012 13:46:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 13:46:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rc46fi@googlemail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 13:46:52 +0000
Received: by vcbfl15 with SMTP id fl15so2091443vcb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 06:46:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=35Q4lT682WDX3l2pPT45SWeAOLROuTDTGCvNdkhOogY=;
        b=uzU7UxcnyR/kaXl0Z5rBt8LlDJI26SgVWXArPi1si84nvTcULtu4ZUzqAjjN36Or9m
         VhQ/kSxX+lYS84vJJu0u8WXbtmZ7MjO/Zk52No0+tAu82/SnvQpzNqvtKJHuxUNn/9r+
         eKBnL8MJKImAbaonb+1uQbRMYCT09gg8G3N0h55L1kGOtsvNeNVWxIJMMwtlCvlAwcGg
         xaJC3f99+oiehEcGmoiio5fBQP3w5gbFmSeMdnjdcp8YhKzQ49GJIseLg21PxoshVvq4
         XAKgIkZJdMrKUOnGnBGluChAU7g9eEGrPDy54HK4vXMY9SS2JQ4pmvalnSfiHXmnzBVu
         sM/g==
MIME-Version: 1.0
Received: by 10.52.28.71 with SMTP id z7mr5207932vdg.105.1343310391896; Thu,
 26 Jul 2012 06:46:31 -0700 (PDT)
Received: by 10.58.228.73 with HTTP; Thu, 26 Jul 2012 06:46:31 -0700 (PDT)
Date: Thu, 26 Jul 2012 15:46:31 +0200
Message-ID: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
Subject: Happy Birthday, Chuck!
From: "Gregor S." <rc46fi@googlemail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Chuck,

thanks again for your valuable comments on this list, and keep it up!

Cheers!

Gregor
-- 
just because you're paranoid, don't mean they're not after you...
gpgp-fp: 3DB13F197F8A0360814885D1F1F1E2EFAD509AFD
skype:rc46fi
gplus.to/gregor
twitter.com/#/2smart4u

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235682-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 14:07:12 2012
Return-Path: <users-return-235682-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D677E9BB0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 14:07:12 +0000 (UTC)
Received: (qmail 11736 invoked by uid 500); 26 Jul 2012 14:07:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11671 invoked by uid 500); 26 Jul 2012 14:07:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11661 invoked by uid 99); 26 Jul 2012 14:07:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 14:07:09 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 14:06:58 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-7.tower-200.messagelabs.com!1343311596!11639850!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 26185 invoked from network); 26 Jul 2012 14:06:36 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-7.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 26 Jul 2012 14:06:36 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 26 Jul 2012 09:05:41 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 26 Jul
 2012 09:05:41 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 26 Jul 2012 09:05:34 -0500
Subject: RE: Happy Birthday, Chuck!
Thread-Topic: Happy Birthday, Chuck!
Thread-Index: Ac1rNTBDGnJ2ByrRSPaQusBnkhNGJgAAnbUw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB035A95113@USEA-EXCH8.na.uis.unisys.com>
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
In-Reply-To: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

PiBGcm9tOiBHcmVnb3IgUy4gW21haWx0bzpyYzQ2ZmlAZ29vZ2xlbWFpbC5jb21dIA0KPiBTdWJq
ZWN0OiBIYXBweSBCaXJ0aGRheSwgQ2h1Y2shDQoNCj4gdGhhbmtzIGFnYWluIGZvciB5b3VyIHZh
bHVhYmxlIGNvbW1lbnRzIG9uIHRoaXMgbGlzdCwgYW5kIGtlZXAgaXQgdXAhDQoNCllvdSdyZSB3
ZWxjb21lLCBhbmQgdGhhbmsgeW91Lg0KDQogLSBDaHVjaw0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235683-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 15:32:51 2012
Return-Path: <users-return-235683-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB13ADC29
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 15:32:51 +0000 (UTC)
Received: (qmail 35292 invoked by uid 500); 26 Jul 2012 15:32:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35250 invoked by uid 500); 26 Jul 2012 15:32:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35238 invoked by uid 99); 26 Jul 2012 15:32:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:32:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:32:41 +0000
Received: by obbta14 with SMTP id ta14so3928504obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 08:32:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=bPjdJ6uk9TF0Svuna5ZZ99vvo3z7q4sNm1Hm2QtQGrU=;
        b=jKyon11wFVm6r7K06+qNJhZLVN3i11hpYMKeqn0nTTGo0jgwWCi/6Q0BD2FzF+Zcgi
         PfODBBF0wW19xsRnjv81PvvlFWxruvOCfkO3t94r43OdiXvk6WhoB9twAxCITcw/HgBC
         Rb7YW6+MILVqUEayr0JtHps0PP7qUHYM5e/m5C3vJGST1Zu+y8LyRCoiMaOvtecmsE3d
         HUab80lJb4iOJH484c3oZYjgKmG91RmAvrlVsykYqLjGx0/NkYvtM9pG7zsxA+riBgJ0
         0LnpMR1CsmI2PBbqH0xHH2qEBjWk3McPaZfnxGxWUCypzALbHAM389YgSNLYdHZc0SdC
         jG+g==
Received: by 10.182.212.98 with SMTP id nj2mr42153124obc.18.1343316740349;
        Thu, 26 Jul 2012 08:32:20 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id 6sm13148727oef.6.2012.07.26.08.32.19
        (version=SSLv3 cipher=OTHER);
        Thu, 26 Jul 2012 08:32:19 -0700 (PDT)
Message-ID: <501162FB.3000107@touchtonecorp.com>
Date: Thu, 26 Jul 2012 08:32:11 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com> <1343152199.3018.340.camel@dellberry>
In-Reply-To: <1343152199.3018.340.camel@dellberry>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQlEd0K5M/c+oGoRg/K1PGmOBV0FI2s0X+BuBah8xAkPPzn1yGySfrFOnGiMg6ZEO2Y5nMaf
X-Virus-Checked: Checked by ClamAV on apache.org

Tim Watts wrote:

> I made some suggestions to this effect the other day:
> 
> http://tomcat.10.n6.nabble.com/Tomcat-7-0-25-on-an-AS-400-V5R4-Another-try-Help-td4984199.html#a4984215
> 
> Maybe you already tried them or didn't get the email.

Thanks for the link. I'm guessing that the email probably got lost in 
the perpetual torrential flood of email, because I'm sure it must have 
arrived, but I never saw it.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235684-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 15:56:32 2012
Return-Path: <users-return-235684-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D028DCE6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 15:56:32 +0000 (UTC)
Received: (qmail 21604 invoked by uid 500); 26 Jul 2012 15:56:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21549 invoked by uid 500); 26 Jul 2012 15:56:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21539 invoked by uid 99); 26 Jul 2012 15:56:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:56:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:56:22 +0000
Received: by yenl1 with SMTP id l1so2669124yen.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 08:56:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=zZxKrYMiF80mvzl7ZBZb0DbBVBS69a0T1065EGnNMqc=;
        b=B2Cv2bev9ozLd/TIqkby+BqMatJwDdzVXiwuuAr2gZTxF1ThVr18Vl+rgrNc45ZCIn
         OdtkfGWwFTfaWP5sXat652CsU96xAkJxB3KA3WH1r+NIj60tm92NMBmsjbAJj0OoEdHY
         ugPwyYza6La5CoIboLals4mgNr3ZT1ajdWMg4glArpqPw+jz1XRx7RUwg6plwXlB9ifB
         ms9t9cP/VdA4JrwyBTzEG+p3fxOo/sklIQCxesIicuNUZ39Urpi3IRVccdncDnyCs11a
         nw1mmggM+TJhcMZmEi5a/TAKGERx32t1BWRTwc1+kWUezlXp3yMCevPY703Jxr3385xs
         rTnA==
MIME-Version: 1.0
Received: by 10.50.6.197 with SMTP id d5mr2048886iga.44.1343318161496; Thu, 26
 Jul 2012 08:56:01 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Thu, 26 Jul 2012 08:56:01 -0700 (PDT)
Date: Thu, 26 Jul 2012 22:56:01 +0700
Message-ID: <CAMT20g-G9U9dsgpQC1V-f-X2SDrcLJows7uGOHv0RM=1Ud=0mg@mail.gmail.com>
Subject: tomcat maven plugin + [default] overlay
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I am having a situation where i couldnt tomcat7:run with overlay in eclipse.
In the eclipse indigo, i am using the maven plugin, and have imported
two maven modules,
the childwebapp which depends on the parentwebapp, which is just like
a skeleton, with it's own classes, jsps, static resources, but also a
runnable webapp of itself.
Doing tomcat7:run on the parentwebapp works well as expected ..

Here's the dependency in the childwebapp's pom, and i dont have any
specific overlay configuration :
<dependency>
	<groupId>group.id</groupId>
	<artifactId>parentwebapp</artifactId>
	<version>${project.version}</version>
	<type>war</type>
	<scope>runtime</scope>
</dependency>

When i try running tomcat7:run on the childwebapp, i get this error message,
as if it tries to find the war of parentwebapp and try to extract it.
But in my situation, i dont have the war in my development,
since the eclipse maven plugin already resolves the workspace dependencies.
I would imagine using the classes from the workspace instead of
extracting the non-existent war file and load them into the
childwebapp would solve the issue  ..

[INFO]
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources)
@ childwebapp ---
[WARNING] Using platform encoding (Cp1252 actually) to copy filtered
resources, i.e. build is platform dependent!
[INFO] Copying 0 resource
[INFO]
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @
childwebapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] <<< tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp <<<
[INFO]
[INFO] --- tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp ---
[INFO] Running war on http://localhost:8080/childwebapp
[INFO] Creating Tomcat server configuration at
C:\Users\albert\git\Startup\MavenParent\childwebapp\target\tomcat
[INFO] create webapp with contextPath: /childwebapp
[ERROR] fail to extract war file
C:\Users\albert\git\Startup\MavenParent\parentwebapp\target\classes,
reason:The source must not be a di
rectory.
org.codehaus.plexus.archiver.ArchiverException: The source must not be
a directory.
	at org.codehaus.plexus.archiver.AbstractUnArchiver.validate(AbstractUnArchiver.java:185)
	at org.codehaus.plexus.archiver.AbstractUnArchiver.extract(AbstractUnArchiver.java:118)
	at org.apache.tomcat.maven.common.run.DefaultClassLoaderEntriesCalculator.calculateClassPathEntries(DefaultClassLoaderEntriesCalc
ulator.java:149)
	at org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo.createWebappLoader(RunMojo.java:254)
	at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.createContext(AbstractRunMojo.java:563)
	at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.startContainer(AbstractRunMojo.java:927)
	at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.execute(AbstractRunMojo.java:476)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	
What can i do to resolve this situation ?

Thank you,
Albert

-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235685-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 15:57:36 2012
Return-Path: <users-return-235685-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98A4FDD03
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 15:57:36 +0000 (UTC)
Received: (qmail 27891 invoked by uid 500); 26 Jul 2012 15:57:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27848 invoked by uid 500); 26 Jul 2012 15:57:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27839 invoked by uid 99); 26 Jul 2012 15:57:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:57:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 15:57:24 +0000
Received: by obbta14 with SMTP id ta14so3962906obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 08:57:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=sV1D3mLkLzXoD9gLjvv8vyd08fzz7AsS5wopUGyJps4=;
        b=T65PkqK3an3b9tceg69N+FuMRWU58Ikf7iBSiFD8dr9gKQsAuYq5r0u0KASuKHXBMY
         LAb0f5XK5tiPlTz0EPrV6FHH1gOKUTlBGgXYZqcs4EmaOuszBwpLE60dBsgasEyIC54K
         lfFq0PJZTk/XrSinEYaCk5LvVoCf8xIic6aOAPx1Jyo3s+OAQ6IkAT0mj/79DmjgHQgK
         ifuLHrtwKIfrmFgP7HLlIysGsZL75QDxlm+H4N6wsZOC+wF72rGc8mUZiQCzZDLYFomk
         rHlT+HEd9CDzgdbHn3B9jCWo+On65MbdB9mSU7YxVMKJRi6Pk0VtxdIaCMA0Mc87KW6p
         1qFg==
Received: by 10.182.124.100 with SMTP id mh4mr42497351obb.42.1343318223676;
        Thu, 26 Jul 2012 08:57:03 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id a9sm18677134obp.14.2012.07.26.08.57.02
        (version=SSLv3 cipher=OTHER);
        Thu, 26 Jul 2012 08:57:03 -0700 (PDT)
Message-ID: <501168CE.7030907@touchtonecorp.com>
Date: Thu, 26 Jul 2012 08:57:02 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com> <1343152199.3018.340.camel@dellberry>
In-Reply-To: <1343152199.3018.340.camel@dellberry>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQnlKZyvvHNB2MdK4OcOq/wTHFy38Q65ygonH34AWThixB9AnFmpf5qQuiZhhQmW1QzmxdbW

Tim Watts wrote:

> http://tomcat.10.n6.nabble.com/Tomcat-7-0-25-on-an-AS-400-V5R4-Another-try-Help-td4984199.html#a4984215

>> - Add these lines to the end of conf/logging.properties:
>> 
>>         org.apache.catalina.startup.Bootstrap.level = ALL
>>         org.apache.catalina.startup.ClassLoaderFactory.level = ALL 

No effect whatsoever. The catalina.out log and the spool file produced 
by STDOUT are exactly the same as before.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235686-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 16:50:04 2012
Return-Path: <users-return-235686-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF421DC49
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 16:50:04 +0000 (UTC)
Received: (qmail 7470 invoked by uid 500); 26 Jul 2012 16:50:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7428 invoked by uid 500); 26 Jul 2012 16:50:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7418 invoked by uid 99); 26 Jul 2012 16:50:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 16:50:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.68] (HELO elasmtp-masked.atl.sa.earthlink.net) (209.86.89.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 16:49:54 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-masked.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SuRFk-0003Ko-V8
	for users@tomcat.apache.org; Thu, 26 Jul 2012 12:49:33 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <501168CE.7030907@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>
	 <1343152199.3018.340.camel@dellberry>  <501168CE.7030907@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-HgzcK9pGJWHoi0o9gJ2r"
Organization: Clifton Farm
Date: Thu, 26 Jul 2012 12:49:36 -0400
Message-ID: <1343321376.3018.475.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a05ed6444772ddbc77fc385a79b5bf6741350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-HgzcK9pGJWHoi0o9gJ2r
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Thu, 2012-07-26 at 08:57 -0700, James Lampert wrote:
> Tim Watts wrote:
>=20
> > http://tomcat.10.n6.nabble.com/Tomcat-7-0-25-on-an-AS-400-V5R4-Another-=
try-Help-td4984199.html#a4984215
>=20
> >> - Add these lines to the end of conf/logging.properties:
> >>=20
> >>         org.apache.catalina.startup.Bootstrap.level =3D ALL
> >>         org.apache.catalina.startup.ClassLoaderFactory.level =3D ALL=20
>=20
> No effect whatsoever. The catalina.out log and the spool file produced=20
> by STDOUT are exactly the same as before.
>=20
Well, hopefully not EXACTLY the same -- different timestamps right?
Right? :-)

Looks like it may be using a customized logging configuration.  Find
that and update the above according to the config file location and/or
the logging framework in use.  (Sorry, can't be more specific; you're
leaving us in the dark as to your set up.)  Look in bin/setenv.sh if you
have one.  Or if you've modified any of the distribution scripts (which
generally you shouldn't do) then do a diff against the distribution
versions for 7.0.25.  Please post these so we're not flying so blind.

Also, could this be another ASCII/EBCDIC issue?  I seem to recall that
was a possibility a long time ago but don't recall if that ever panned
out.


> --
> JHHL
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-HgzcK9pGJWHoi0o9gJ2r
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQEXUgAAoJEAfDBXDHBQilNjoIAIoyOX/abIu/mLtD4OUa+bbE
VFwnX6gJByQOVjaO2JwnRicYqWWs90dyltRE1gV6BXQWnPT1XVwykn5gSdS+yOBm
oajbkidK12WihkC1YY6zxC5Yte6gIXZMfko2EBzs7kuSrdZeQ6N+7ufbM7dhGGuu
sWXDeaWGKHh2nzdiWMr0VAkQlxD45afScGvqcTR705dTSHoBwHoTitymVLhbrwP+
gyRmNMrIv1f6oCtbXSsGj6nOCrnI+TNSVY9GHY779irXow91GQMzDnVN8bkBLroT
14TUvN0encQtBygkmMrv4vlD+JeqHO+GZGpUQ0s7/ZnrHRDcGIEITbxQK0fcsVU=
=tYH7
-----END PGP SIGNATURE-----

--=-HgzcK9pGJWHoi0o9gJ2r--


From users-return-235687-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 17:38:06 2012
Return-Path: <users-return-235687-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F676DABB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 17:38:06 +0000 (UTC)
Received: (qmail 77817 invoked by uid 500); 26 Jul 2012 17:38:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77764 invoked by uid 500); 26 Jul 2012 17:38:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77742 invoked by uid 99); 26 Jul 2012 17:38:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 17:38:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jordan@viviotech.net designates 208.77.211.51 as permitted sender)
Received: from [208.77.211.51] (HELO mail3.viviotech.net) (208.77.211.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 17:37:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail3.viviotech.net (Postfix) with ESMTP id 736671408A1
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 10:39:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at mail3.viviotech.net
Received: from mail3.viviotech.net ([127.0.0.1])
	by localhost (mail3.viviotech.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9QeEBH6lI5jt for <users@tomcat.apache.org>;
	Thu, 26 Jul 2012 10:39:17 -0700 (PDT)
Received: from [192.168.254.249] (lan.viviotech.net [208.77.208.186])
	by mail3.viviotech.net (Postfix) with ESMTPSA id 2084B14087F
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 10:39:17 -0700 (PDT)
Message-ID: <50118091.1070507@viviotech.net>
Date: Thu, 26 Jul 2012 10:38:25 -0700
From: Jordan Michaels <jordan@viviotech.net>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:14.0) Gecko/20120714 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Happy Birthday, Chuck!
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB035A95113@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB035A95113@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Happy birthday. =)

Warm Regards,
Jordan Michaels

On 07/26/2012 07:05 AM, Caldarale, Charles R wrote:
>> From: Gregor S. [mailto:rc46fi@googlemail.com]
>> Subject: Happy Birthday, Chuck!
>
>> thanks again for your valuable comments on this list, and keep it up!
>
> You're welcome, and thank you.
>
>   - Chuck
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235688-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 17:47:16 2012
Return-Path: <users-return-235688-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0386CDB13
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 17:47:16 +0000 (UTC)
Received: (qmail 13317 invoked by uid 500); 26 Jul 2012 17:47:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13273 invoked by uid 500); 26 Jul 2012 17:47:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13264 invoked by uid 99); 26 Jul 2012 17:47:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 17:47:12 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_FORGED_REPLYTO,FSL_FREEMAIL_1,FSL_FREEMAIL_2,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.154] (HELO nm24-vm3.bullet.mail.ne1.yahoo.com) (98.138.91.154)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 26 Jul 2012 17:47:04 +0000
Received: from [98.138.90.48] by nm24.bullet.mail.ne1.yahoo.com with NNFMP; 26 Jul 2012 17:46:43 -0000
Received: from [98.138.89.244] by tm1.bullet.mail.ne1.yahoo.com with NNFMP; 26 Jul 2012 17:46:43 -0000
Received: from [127.0.0.1] by omp1058.mail.ne1.yahoo.com with NNFMP; 26 Jul 2012 17:46:43 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 758299.4764.bm@omp1058.mail.ne1.yahoo.com
Received: (qmail 4256 invoked by uid 60001); 26 Jul 2012 17:46:43 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343324803; bh=PyY207hOOzgOET1iLBMVHIherxtDTJ/bOJbF5+J93Ro=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=uOa1GbTfdPStQ+oc0Zwvy+RDCL3QzUHYSVIn9mRDyJEvB9WaEkSPWY17af0iktN4kzSTlG/jPl69fk25QKARRoUw9yUTiiC4tL4VopHE0x4WKIEFZy3vRnhj8Lr8CJi1fiebpms7FKZwxbqzEK+beKkyK4OFJDV06d6pH8klK5s=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=X9MJOVe2kEreUzL81Bd2UekHsiZtyTvY7aDRCdOHsIcMXE41r7aK1vTCSUVloGOsKPZ5D4zpFFyAAloBfbLqelg+FBeX+7qhn98gZmHXI/6VZktLg+1PraDjrEl13krWh/bxF2gnlsBxHlJk9XNRTduYhRNaML8iYRmUx2Y/J2Y=;
X-YMail-OSG: V2gAJE4VM1nulm9RDRj6vjw20_zYZwJphNMqSnM.sWFtcdg
 rCITzt8elEndLOTCyxBl_SPEjQIdJSl3MAFKrLth7ZbY3AZUGtAeDQkI68Fg
 WnCewpoJCkoPGSx5JDTnVMRjM5muQ.KoXhoPSJ9ZeiSdXEZWwp04iSyhZ7Tx
 2n5K99tFdbI41vSRib6KZkCBdsx322Ng12vqu1sGHr7wKN.RvSV4au_OSmaA
 oWGzHBVNdWsH6GaKqupOBP8A44ZyWyMMkFc5WNgHu82eJOvHYr2Qpj.76hvh
 KF2rnZ7rvqt91Us8Hf375X0ARA1pFh43kYa5rHBiMnrdhXTojBRGUWUATXNu
 nuSpFX9UXx_fyJiyXMZ4hs.tKqnGJrVxZK4OQnv2PyksGFW3lphxV6Dpl4yq
 i5uWMmHFve298cOIcVsszkWE2ww4cIBGjRsh9rc1OhIHikN8sMe_xXEWTaGg
 GGsjrpyISZ2qwZq4yahm7AAtLpnBg5aEdoNrMNLUSzFoiCUGx0w--
Received: from [71.129.38.81] by web120701.mail.ne1.yahoo.com via HTTP; Thu, 26 Jul 2012 10:46:43 PDT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com> <99C8B2929B39C24493377AC7A121E21FB035A95113@USEA-EXCH8.na.uis.unisys.com> <50118091.1070507@viviotech.net>
Message-ID: <1343324803.48727.YahooMailNeo@web120701.mail.ne1.yahoo.com>
Date: Thu, 26 Jul 2012 10:46:43 -0700 (PDT)
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Mark Eggers <its_toasted@yahoo.com>
Subject: Re: Happy Birthday, Chuck!
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50118091.1070507@viviotech.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>________________________________=0A> From: Jordan Michaels <jordan@viviote=
ch.net>=0A>To: Tomcat Users List <users@tomcat.apache.org> =0A>Sent: Thursd=
ay, July 26, 2012 10:38 AM=0A>Subject: Re: Happy Birthday, Chuck!=0A> =0A>H=
appy birthday. =3D)=0A>=0A>Warm Regards,=0A>Jordan Michaels=0A>=0A>On 07/26=
/2012 07:05 AM, Caldarale, Charles R wrote:=0A>>> From: Gregor S. [mailto:r=
c46fi@googlemail.com]=0A>>> Subject: Happy Birthday, Chuck!=0A>>=0A>>> than=
ks again for your valuable comments on this list, and keep it up!=0A>>=0A>>=
 You're welcome, and thank you.=0A>>=0A>>=A0=A0=A0- Chuck=0A=0A=0AHappy bir=
thday, Chuck. Thanks for the comments and encouragement.=0A=0A/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235689-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 18:21:04 2012
Return-Path: <users-return-235689-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60C2DDC47
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 18:21:04 +0000 (UTC)
Received: (qmail 19087 invoked by uid 500); 26 Jul 2012 18:21:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19038 invoked by uid 500); 26 Jul 2012 18:21:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19027 invoked by uid 99); 26 Jul 2012 18:21:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 18:21:00 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.49.146.77] (HELO smtpksrv1.mitre.org) (198.49.146.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 18:20:53 +0000
Received: from smtpksrv1.mitre.org (localhost.localdomain [127.0.0.1])
	by localhost (Postfix) with SMTP id 4404921B16F3
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 14:20:32 -0400 (EDT)
Received: from IMCCAS03.MITRE.ORG (imccas03.mitre.org [129.83.29.80])
	by smtpksrv1.mitre.org (Postfix) with ESMTP id 31BB321B0A52
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 14:20:32 -0400 (EDT)
Received: from IMCMBX04.MITRE.ORG ([169.254.4.228]) by IMCCAS03.MITRE.ORG
 ([129.83.29.80]) with mapi id 14.02.0309.002; Thu, 26 Jul 2012 14:20:31 -0400
From: "Carlucci, Tony" <acarlucci@mitre.org>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Intermittent mod_proxy_ajp error - APR does not understand this
 error code: proxy: dialog
Thread-Topic: Intermittent mod_proxy_ajp error - APR does not understand
 this error code: proxy: dialog
Thread-Index: Ac1pp7tXt71uXRVsQym87vao+I8m2wBRXx8AABtXJ/A=
Date: Thu, 26 Jul 2012 18:20:31 +0000
Message-ID: <8CEEFC4412261D4AA6EF373F59C5FEDE019B88EE@IMCMBX04.MITRE.ORG>
References: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
 <CAAKASGy1AZZQ=Rt2AiQsJQk6h+jRBCROVbuEuw6LwjdXwO32Vg@mail.gmail.com>
In-Reply-To: <CAAKASGy1AZZQ=Rt2AiQsJQk6h+jRBCROVbuEuw6LwjdXwO32Vg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [129.83.31.52]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

>-----Original Message-----
>From: Igor Cicimov [mailto:icicimov@gmail.com]
>Sent: Wednesday, July 25, 2012 9:12 PM
>To: Tomcat Users List
>Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand th=
is
>error code: proxy: dialog
>
>You have max clients on the apache side set to 400 but only 300 threads on
>tomcat side. No wonder you get 500 error...

Thanks for the suggestion Igor, I increased the tomcat threads to 400 but t=
hat did not resolve the issue.

Tony


>
>On Wed, Jul 25, 2012 at 12:22 AM, Carlucci, Tony <acarlucci@mitre.org>wrot=
e:
>
>> Cross-posting this to the tomcat users list (also posted to users@httpd
>> )...
>>
>> Hello, I've been trying to track down an intermittent problem with a Jav=
a
>> web application that is running on tcServer fronted by Apache HTTP Serve=
r.
>>    We get intermittent "Server Unavailable / HTTP 500" errors, and when =
we
>> do see them, there is the same set of log statements written to the Apac=
he
>> HTTP Server error log:
>>
>> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
>> ajp_ilink_receive() can't receive header
>> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
>> failed
>> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
>> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
>>
>> We are not seeing any error messages in the tcServer logs.
>>
>> I believe the issue is with the mod_proxy_ajp module but it's been very
>> difficult tracking down what exactly the problem is.   What's interestin=
g
>> is that this Apache / tcServer configuration is used with other
>> applications that work just fine and never have the intermittent 500 err=
or.
>>   We also can run our application strictly in Tomcat (no Apache front)
>> without any intermittent errors.
>>
>> We haven't ruled out that there could be something in our Java applicati=
on
>> code that is causing this, in combination with the mod_proxy_ajp module,
>> but we have hit a wall as to what this issue could be.  Has anyone else
>> experienced a similar intermittent issue combined with the above error
>> messages?  Below is a copy of the error log and some configuration setti=
ngs.
>>
>> Thanks, Tony
>>
>> ---------------------
>> Apache HTTP Error Log
>> ---------------------
>> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(141): Adding CACHE_SAVE
>> filter for /myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(148): Adding
>> CACHE_REMOVE_URL filter for /myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(45): proxy: AJP:
>> canonicalising URL //127.0.0.1:7071/myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(1506): [client
>> ***cleansed***] proxy: ajp: found worker ajp://127.0.0.1:7071/myapp for
>> ajp://127.0.0.1:7071/myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy.c(1020): Running scheme ajp
>> handler (attempt 0)
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_http.c(1963): proxy: HTTP:
>> declining URL ajp://127.0.0.1:7071/myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(681): proxy: AJP:
>> serving URL ajp://127.0.0.1:7071/myapp/
>> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2011): proxy: AJP: has
>> acquired connection for (127.0.0.1)
>> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2067): proxy: connecting
>> ajp://127.0.0.1:7071/myapp/ to 127.0.0.1:7071
>> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2193): proxy: connected
>> /myapp/ to 127.0.0.1:7071
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(224): Into
>> ajp_marshal_into_msgb
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[0] [x-forwarded-for] =3D [***cleansed***]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[1] [Host] =3D [***cleansed***]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[2] [Connection] =3D [keep-alive]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[3] [User-Agent] =3D [Mozilla/5.0 (Windows =
NT
>> 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57
>> Safari/536.11]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[4] [Accept] =3D
>> [text/html,application/xhtml+xml,application/xml;q=3D0.9,*/*;q=3D0.8]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[5] [Accept-Encoding] =3D [gzip,deflate,sdc=
h]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[6] [Accept-Language] =3D [en-US,en;q=3D0.8=
]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[7] [Accept-Charset] =3D
>> [ISO-8859-1,utf-8;q=3D0.7,*;q=3D0.3]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[8] [Cookie] =3D [SSOTOKEN=3D***cleansed***=
]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[9] [SSO_LOGIN] =3D [***cleansed***]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[10] [SSO_ID] =3D [***cleansed***]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
>> ajp_marshal_into_msgb: Header[11] [SSO_EMAIL] =3D [***cleansed***]
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(450):
>> ajp_marshal_into_msgb: Done
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(268): proxy:
>> APR_BUCKET_IS_EOS
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(273): proxy: data to
>> read (max 8186 at 4)
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(288): proxy: got 0
>> bytes of data
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(687): ajp_read_header:
>> ajp_ilink_received 03
>> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(697): ajp_parse_type: go=
t
>> 03
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(460): Ignoring flush
>> message received before headers
>> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
>> ajp_ilink_receive() can't receive header
>> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
>> failed
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(549): (120006)APR doe=
s
>> not understand this error code: ajp_read_header failed
>> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(564): proxy: Processi=
ng
>> of request failed backend: 1, output: 0
>> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
>> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
>> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2029): proxy: AJP: has
>> released connection for (127.0.0.1)
>> [Mon Jul 23 10:03:15 2012] [debug] mod_deflate.c(615): [***cleansed***]
>> Zlib: Compressed 323 to 218 : URL /myapp/
>>
>> ---------------------------------
>> Apache HTTP Server (apachectl -V)
>> ---------------------------------
>> Server version: Apache/2.2.22 (Unix)
>> Server built:   Jul 17 2012 17:20:28
>> Server's Module Magic Number: 20051115:30
>> Server loaded:  APR 1.4.5, APR-Util 1.4.1
>> Compiled using: APR 1.4.5, APR-Util 1.4.1
>> Architecture:   64-bit
>> Server MPM:     Worker
>>   threaded:     yes (fixed thread count)
>>     forked:     yes (variable process count)
>> Server compiled with....
>> -D APACHE_MPM_DIR=3D"server/mpm/worker"
>> -D APR_HAS_SENDFILE
>> -D APR_HAS_MMAP
>> -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
>> -D APR_USE_SYSVSEM_SERIALIZE
>> -D APR_USE_PTHREAD_SERIALIZE
>> -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
>> -D APR_HAS_OTHER_CHILD
>> -D AP_HAVE_RELIABLE_PIPED_LOGS
>> -D DYNAMIC_MODULE_LIMIT=3D128
>> -D HTTPD_ROOT=3D"/apps/apache2"
>> -D SUEXEC_BIN=3D"/apps/apache2/bin/suexec"
>> -D DEFAULT_SCOREBOARD=3D"logs/apache_runtime_status"
>> -D DEFAULT_ERRORLOG=3D"logs/error_log"
>> -D AP_TYPES_CONFIG_FILE=3D"conf/mime.types"
>> -D SERVER_CONFIG_FILE=3D"conf/httpd.conf"
>>
>> -------------------------------
>> httpd.conf (relevant settings):
>> -------------------------------
>> <IfModule worker.c>
>> StartServers 2
>> MaxClients 400
>> MinSpareThreads 25
>> MaxSpareThreads 75
>> ThreadsPerChild 25
>> MaxRequestsPerChild 10000
>> </IfModule>
>>
>> ProxyRequests Off
>> ProxyPreserveHost on
>> ProxyReceiveBufferSize 0
>> ProxyErrorOverride Off
>> RewriteEngine on
>>
>> ProxyPass /myapp ajp://127.0.0.1:7071/myapp
>> ProxyPassReverse /myapp ajp://127.0.0.1:7071/myapp
>>
>> -----------------------------------------------
>> tcServer 2.0.4.RELEASE (Tomcat 6.0.29 binaries)
>> -----------------------------------------------
>> server.xml:
>>
>> <Executor name=3D"tomcatThreadPool" namePrefix=3D"tomcat-ajp--"
>> maxThreads=3D"300" minSpareThreads=3D"50"/>
>> <Connector executor=3D"tomcatThreadPool"
>>                address=3D"127.0.0.1"
>>                port=3D"7071"
>>                protocol=3D"org.apache.coyote.ajp.AjpAprProtocol"
>>                connectionTimeout=3D"60000"
>>                redirectPort=3D"8443"
>>                backlog=3D"100"
>>                tcpNoDelay=3D"true"
>>                enableLookups=3D"false"
>>                URIEncoding=3D"UTF-8" />
>>
>>
>>
>>
>>
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235690-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 18:53:43 2012
Return-Path: <users-return-235690-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 678A3DA03
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 18:53:43 +0000 (UTC)
Received: (qmail 22167 invoked by uid 500); 26 Jul 2012 18:53:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22118 invoked by uid 500); 26 Jul 2012 18:53:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22107 invoked by uid 99); 26 Jul 2012 18:53:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 18:53:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 18:53:32 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id eyhz1j0040Fqzac556tDxR; Thu, 26 Jul 2012 18:53:13 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id f6t61j00j38FjT13U6t8sH; Thu, 26 Jul 2012 18:53:09 +0000
Message-ID: <50119213.1050908@christopherschultz.net>
Date: Thu, 26 Jul 2012 14:53:07 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com> <1343152199.3018.340.camel@dellberry> <501168CE.7030907@touchtonecorp.com>
In-Reply-To: <501168CE.7030907@touchtonecorp.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

James,

On 7/26/12 11:57 AM, James Lampert wrote:
> Tim Watts wrote:
> 
>> http://tomcat.10.n6.nabble.com/Tomcat-7-0-25-on-an-AS-400-V5R4-Another-try-Help-td4984199.html#a4984215
>>
>
>> 
>>> - Add these lines to the end of conf/logging.properties:
>>> 
>>> org.apache.catalina.startup.Bootstrap.level = ALL 
>>> org.apache.catalina.startup.ClassLoaderFactory.level = ALL
> 
> No effect whatsoever. The catalina.out log and the spool file
> produced by STDOUT are exactly the same as before.

Maybe it's time to start thinking stupidly yet practically: run a
guest virtualized OS that will be a bit more friendly to you ;)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlARkhMACgkQ9CaO5/Lv0PCBZQCgwQWHY1DCMRAfOUaIqk1EH8gH
GJwAn3RveOXLk/PP9lZNfhqb6rzmXu6P
=WBXN
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235691-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:19:37 2012
Return-Path: <users-return-235691-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10240DAF6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:19:37 +0000 (UTC)
Received: (qmail 4095 invoked by uid 500); 26 Jul 2012 19:19:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3944 invoked by uid 500); 26 Jul 2012 19:19:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3935 invoked by uid 99); 26 Jul 2012 19:19:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:19:33 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chip.McVey@quest.com designates 12.106.87.94 as permitted sender)
Received: from [12.106.87.94] (HELO alvetxw02.quest.com) (12.106.87.94)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:19:27 +0000
Received: from ALVHTXW01.prod.quest.corp (10.1.135.17) by alvetxw02.quest.com
 (10.1.100.94) with Microsoft SMTP Server (TLS) id 14.1.355.2; Thu, 26 Jul
 2012 12:19:29 -0700
Received: from ALVMBXW02.prod.quest.corp ([fe80::b862:2ecd:1237:d875]) by
 ALVHTXW01.prod.quest.corp ([::1]) with mapi id 14.01.0355.002; Thu, 26 Jul
 2012 12:19:06 -0700
From: Chip McVey <Chip.McVey@quest.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Permanent servlet in TC7
Thread-Topic: Permanent servlet in TC7
Thread-Index: Ac1rY3WONtgvNMUATyGuGKZ7T2vRmg==
Date: Thu, 26 Jul 2012 19:19:06 +0000
Message-ID: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.1.104.156]
Content-Type: multipart/alternative;
	boundary="_000_774CCD676B63FE49B1291BE556DD698522747AA7ALVMBXW02prodqu_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_774CCD676B63FE49B1291BE556DD698522747AA7ALVMBXW02prodqu_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,



In TC7, is there a way to tell Tomcat to never unload a given servlet unles=
s Tomcat itself is being shutdown?  I want a single servlet instance that I=
 can know will exist for the life of the tomcat process without being unloa=
ded & reloaded (unless someone manually instructs Tomcat to do so, of cours=
e).



Yes, I know I'm "not supposed to do this" and that the servlet spec says a =
container is allowed to unload a server any time as long as a request is no=
t in process.  I still would like to know if there's some Tomcat specific w=
ay to tell TC7 to never unload the servlet.  And yes, I realize even if the=
re is such a way that future versions of Tomcat may remove this capability.=
  :)



Thanks in advance,

Chip



--_000_774CCD676B63FE49B1291BE556DD698522747AA7ALVMBXW02prodqu_--

From users-return-235692-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:25:27 2012
Return-Path: <users-return-235692-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BEC2D332
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:25:27 +0000 (UTC)
Received: (qmail 24545 invoked by uid 500); 26 Jul 2012 19:25:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24442 invoked by uid 500); 26 Jul 2012 19:25:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24429 invoked by uid 99); 26 Jul 2012 19:25:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:25:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:25:19 +0000
Received: by obbta14 with SMTP id ta14so4242064obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:24:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=FqFuK3a0EhCfpTv0CXXVqiiueNSlXXIPlIHNtenTc80=;
        b=iNsLaE97qWxrTM/eMTEOXnYd0Buq+Ox+XC33IbEpndsWHv3clAkrTs3+/5saCsezBe
         j0rRJEs+NW0mYqtLNem/q8kDH6APWqcQr6kmo2D473DXYrte9zOZC8IpjYrL+uFr76Ys
         LryAEB7Jn8Gjwd92Ymo8BFBiZWR6bIMS/1MZ2ZxIaUh02lhgteQs3VvEtCSEKcCKt1dT
         22ibSD2ZeyUB/KF11ByKaF6FDr+dDCg2u/dqa2q87CDcrBO+lTLmO7tRWbND5fGTIJJ8
         IwXWI58a/ntxRNXLb8ThRl+3Q0YJBTQmR9o1Zf4BHIS0cAPOXdAOyvotcH6/CCH0r/Ty
         Nhjw==
Received: by 10.182.51.65 with SMTP id i1mr14822163obo.45.1343330698382; Thu,
 26 Jul 2012 12:24:58 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Thu, 26 Jul 2012 12:24:38 -0700 (PDT)
In-Reply-To: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Thu, 26 Jul 2012 21:24:38 +0200
Message-ID: <CABOBwRggrteHOp-kRV0szMJaLSMvocFWnvsMkwq+74a6vjN9kw@mail.gmail.com>
Subject: Re: Permanent servlet in TC7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/26 Chip McVey <Chip.McVey@quest.com>:
> Hi,
>
>
>
> In TC7, is there a way to tell Tomcat to never unload a given servlet unl=
ess Tomcat itself is being shutdown?  I want a single servlet instance that=
 I can know will exist for the life of the tomcat process without being unl=
oaded & reloaded (unless someone manually instructs Tomcat to do so, of cou=
rse).

I know that this is not a valid answer, but I would like to know why
you'd like to do something like that

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235693-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:38:40 2012
Return-Path: <users-return-235693-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18AD6D7BE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:38:40 +0000 (UTC)
Received: (qmail 64279 invoked by uid 500); 26 Jul 2012 19:38:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64220 invoked by uid 500); 26 Jul 2012 19:38:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64210 invoked by uid 99); 26 Jul 2012 19:38:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:38:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:38:29 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id eziT1j0011uE5Es597eB6j; Thu, 26 Jul 2012 19:38:11 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id f7eH1j00S38FjT13c7eHez; Thu, 26 Jul 2012 19:38:17 +0000
Message-ID: <50119C9F.9010601@christopherschultz.net>
Date: Thu, 26 Jul 2012 15:38:07 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Permanent servlet in TC7
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
In-Reply-To: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chip,

On 7/26/12 3:19 PM, Chip McVey wrote:
> In TC7, is there a way to tell Tomcat to never unload a given
> servlet unless Tomcat itself is being shutdown?  I want a single
> servlet instance that I can know will exist for the life of the
> tomcat process without being unloaded & reloaded (unless someone
> manually instructs Tomcat to do so, of course).
> 
> Yes, I know I'm "not supposed to do this" and that the servlet
> spec says a container is allowed to unload a server any time as
> long as a request is not in process.  I still would like to know if
> there's some Tomcat specific way to tell TC7 to never unload the
> servlet. And yes, I realize even if there is such a way that future
> versions of Tomcat may remove this capability.  :)

You have said both "servlet" and "server": which did you mean?

Do you need a particular web application to stay loaded? That's easy:
simply don't undeploy it.

Do you need a single (or multiple) servlet(s) to stay loaded all the
time? That's also easy: I don't believe Tomcat ever actually unloads a
servlet. (You can easily test this by implementing the destroy()
method and emitting some kind of log).

What is it about the servlet that it needs to stay loaded? Servlets
aren't really supposed to have any state, so unloading and re-loading
the servlet shouldn't represent anything traumatic to your web
application.

If you have to have some kind of data loaded all the time, consider
moving that data into the ServletContext (aka "application")
attributes: then the servlet can be unloaded and re-loaded at will and
the data will persist.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlARnJ8ACgkQ9CaO5/Lv0PCaGQCgv7Kgkl04ElbBu5bkqNtuuX+v
5OsAn1MSf6i3CH9vIogXTb+aUKRYq0WN
=6vQK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235694-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:42:01 2012
Return-Path: <users-return-235694-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 67715D7D0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:42:01 +0000 (UTC)
Received: (qmail 78835 invoked by uid 500); 26 Jul 2012 19:41:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78691 invoked by uid 500); 26 Jul 2012 19:41:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78682 invoked by uid 99); 26 Jul 2012 19:41:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:41:58 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:41:49 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id A49B22848E
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
Received: from zimbra-prod-mta-1.vmware.com (zimbra-prod-mta-1.vmware.com [10.113.160.173])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id A11D1B0247
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id 9AD76616C5
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at zimbra-prod-mta-1.vmware.com
Received: from zimbra-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zimbra-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0VWwOWP322mT for <users@tomcat.apache.org>;
	Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
Received: from zimbra-prod-mbox-5.vmware.com (lbv-sc9-t2prod2-int.vmware.com [10.113.160.246])
	by zimbra-prod-mta-1.vmware.com (Postfix) with ESMTP id 7B7E961625
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
Date: Thu, 26 Jul 2012 12:41:27 -0700 (PDT)
From: Daniel Mikusa <dmikusa@vmware.com>
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <21209808.877.1343331685918.JavaMail.daniel@cleveland>
In-Reply-To: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
Subject: Re: Permanent servlet in TC7
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [71.72.51.173]
X-Mailer: Zimbra 7.2.0_GA_2669 (Zimbra Desktop/7.1.4_11299_Linux)

----- Original Message -----
> Hi,
> 
> In TC7, is there a way to tell Tomcat to never unload a given servlet
> unless Tomcat itself is being shutdown?  I want a single servlet
> instance that I can know will exist for the life of the tomcat
> process without being unloaded & reloaded (unless someone manually
> instructs Tomcat to do so, of course).

I'm not sure this will do exactly what you want, but if you set "autoDeploy" on the Host tag to "false" it will prevent any applications from deploying / undeploying while Tomcat is running.

This would roughly tell Tomcat to start an app (and it's servlets) when Tomcat starts up and shut down an app (and it's servlets) when Tomcat is shutdown.  I say roughly because I believe there might be a few ways to work around that (manager, jmx).

 
> Yes, I know I'm "not supposed to do this" and that the servlet spec
> says a container is allowed to unload a server any time as long as a
> request is not in process.  I still would like to know if there's
> some Tomcat specific way to tell TC7 to never unload the servlet.
>  And yes, I realize even if there is such a way that future versions
> of Tomcat may remove this capability.  :)

Maybe you could take a step back and tell us about your general use case for this feature.  With that in mind, perhaps someone can suggest a solution to the general problem even if your specific request is not possible.
 
Dan
 

> Thanks in advance,
> 
> Chip
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235695-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:48:26 2012
Return-Path: <users-return-235695-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BBBAD7F5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:48:26 +0000 (UTC)
Received: (qmail 7908 invoked by uid 500); 26 Jul 2012 19:48:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7849 invoked by uid 500); 26 Jul 2012 19:48:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7840 invoked by uid 99); 26 Jul 2012 19:48:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:48:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:48:16 +0000
Received: by wgbdr1 with SMTP id dr1so1759552wgb.0
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 12:47:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=wld4xv3oqr3Qys9nVL7QkqvTcbnIC9qQDrALw7yoezA=;
        b=BGoq8dVpWY1n9TNIYQ2oJxYXBVIA4wEV4hSp22TyF762tX9Ir+02N0YUQtrkDZKAjD
         XOyb6cddowJ8wHfkwJkriz8Oexce5hpfD7Cpm0rKS7rWLZ0qkme5mVPGVhQqc9BbUThN
         8Rj8wtgNepMFhH7omg5aVzE0klckO53VHNHuA=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=wld4xv3oqr3Qys9nVL7QkqvTcbnIC9qQDrALw7yoezA=;
        b=olCvLA0JivKzAwnu74s+FisHoK05R7JmNi5VCD/+hwhLSHGZcvAzuPmanMkC2a1mkd
         sgxf8z3HxHbN2t8Lj2fH/TpxSoS39KZ0c4v1F/Db4JErNapoHJWKDJqs/XRtQpysBm2+
         sX9nHgFA6IODUObSVmfk5YHICfCMDEuKbb98orv1VQsVZ1LxLTd5e0Fus237srjZs2jk
         +sb6pVLlFYObn5QNfMfvmmnGYhNmVd8g5+W8890UK+fRk8FbinL0K+JHiEVCjuiBnqoU
         XJzoJ3JEQTOinJFKB/0cfGi7GVIEFLktPRuQjvCS0Mjk8Jrj30RlKr8p3ACQHL6qiEoT
         30eg==
Received: by 10.217.0.75 with SMTP id k53mr12460979wes.214.1343332073760;
        Thu, 26 Jul 2012 12:47:53 -0700 (PDT)
Received: from [192.168.125.195] (82.166.253.125.fix.netvision.net.il. [82.166.253.125])
        by mx.google.com with ESMTPS id ck9sm362508wib.2.2012.07.26.12.47.52
        (version=SSLv3 cipher=OTHER);
        Thu, 26 Jul 2012 12:47:53 -0700 (PDT)
Message-ID: <50119EDE.6000004@pidster.com>
Date: Thu, 26 Jul 2012 22:47:42 +0300
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Permanent servlet in TC7
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp> <50119C9F.9010601@christopherschultz.net>
In-Reply-To: <50119C9F.9010601@christopherschultz.net>
X-Enigmail-Version: 1.4.3
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigE76683D35647F621F7A85CE7"
X-Gm-Message-State: ALoCoQkgR6MQnOiQo2aFaOLcPneKV211KFl5cIW0eMeVgZOGlzyHOup01ud2Kem5cJJT3nMvYn+A
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigE76683D35647F621F7A85CE7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 26/07/2012 22:38, Christopher Schultz wrote:
> Chip,
>=20
> On 7/26/12 3:19 PM, Chip McVey wrote:
>> In TC7, is there a way to tell Tomcat to never unload a given
>> servlet unless Tomcat itself is being shutdown?  I want a single
>> servlet instance that I can know will exist for the life of the
>> tomcat process without being unloaded & reloaded (unless someone
>> manually instructs Tomcat to do so, of course).
>=20
>> Yes, I know I'm "not supposed to do this" and that the servlet
>> spec says a container is allowed to unload a server any time as
>> long as a request is not in process.  I still would like to know if
>> there's some Tomcat specific way to tell TC7 to never unload the
>> servlet. And yes, I realize even if there is such a way that future
>> versions of Tomcat may remove this capability.  :)
>=20
> You have said both "servlet" and "server": which did you mean?
>=20
> Do you need a particular web application to stay loaded? That's easy:
> simply don't undeploy it.
>=20
> Do you need a single (or multiple) servlet(s) to stay loaded all the
> time? That's also easy: I don't believe Tomcat ever actually unloads a
> servlet. (You can easily test this by implementing the destroy()
> method and emitting some kind of log).
>=20
> What is it about the servlet that it needs to stay loaded? Servlets
> aren't really supposed to have any state, so unloading and re-loading
> the servlet shouldn't represent anything traumatic to your web
> application.
>=20
> If you have to have some kind of data loaded all the time, consider
> moving that data into the ServletContext (aka "application")
> attributes: then the servlet can be unloaded and re-loaded at will and
> the data will persist.

+1

-> ServletContextListener


p

> -chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

--=20

[key:62590808]


--------------enigE76683D35647F621F7A85CE7
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJQEZ7nAAoJEGoM2OGpOvr9qIcP/A4369gJAYI83kjkMs8io0X7
ZBors20qwppEjXqNfKCrdtFeIw+1c+V/GnlMNe1u/iMlKqd8ZM2G7HHo08QhnJ86
nEQat69pWE3+8V1vSNtSg+X5aYFqohtBu117pVU8p0P38GLuKt23tBm69xMrfmEb
QeSoSoK+AU4f22KMyk+ItcrY/5O9JPw4AKkIZQbD1AasHbUSYA0V8L7ik8a0TvTc
nEQKN3/HWw8lmpUmeEhEcOLcDsT1Fx+GI5yVts3fV9ltZg9EcDxPScpy3hYAATfw
8NGj6wKHfUNH3pZwfZ/s34m9aShZth+Ovz/3/aHaB/mygN/7d6iQtuCB1HXi8bLm
oBr1NEimMq0C+e1dix3K3uJXGZSh787VvpWwnT2fECJ3doaU6a0zSvG5a75mry4t
AatGNEvP1RgdhBe94Wn6bM+ARCv1LmqY7oenV7VHGTWJ//SPtWLpyIrCwnwbA/Da
LtTMu9UdXZ/t9F5jEvDiZW3XhMdKUMrKJUSWQll8QBN1rHjYewipZ6KwSCGHufI6
TB6VSRUbBfrhgyv5t79igpyT0iMFWH8roF3kaA/3IVh+Qy6IrrJy1q21z/E8lSbG
1Zdn3h1RzG4QvAxkOlln9B0UOorwUbABhFh3fmGBNAQMn499ewZ1pgWHD8ZLPfYa
/+bfQhfvFsDZFzVGTkGH
=zMrp
-----END PGP SIGNATURE-----

--------------enigE76683D35647F621F7A85CE7--

From users-return-235696-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 19:55:03 2012
Return-Path: <users-return-235696-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA61DD838
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 19:55:03 +0000 (UTC)
Received: (qmail 36067 invoked by uid 500); 26 Jul 2012 19:55:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36014 invoked by uid 500); 26 Jul 2012 19:55:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36005 invoked by uid 99); 26 Jul 2012 19:55:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:55:00 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chip.McVey@quest.com designates 12.106.87.93 as permitted sender)
Received: from [12.106.87.93] (HELO alvetxw01.quest.com) (12.106.87.93)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 19:54:55 +0000
Received: from ALVHTXW10.prod.quest.corp (10.1.135.22) by alvetxw01.quest.com
 (10.1.100.93) with Microsoft SMTP Server (TLS) id 14.1.355.2; Thu, 26 Jul
 2012 12:55:18 -0700
Received: from ALVMBXW02.prod.quest.corp ([fe80::b862:2ecd:1237:d875]) by
 ALVHTXW10.prod.quest.corp ([::1]) with mapi id 14.01.0355.002; Thu, 26 Jul
 2012 12:54:35 -0700
From: Chip McVey <Chip.McVey@quest.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Permanent servlet in TC7
Thread-Topic: Permanent servlet in TC7
Thread-Index: Ac1rY3WONtgvNMUATyGuGKZ7T2vRmgAPWUKAAA6WU3A=
Date: Thu, 26 Jul 2012 19:54:34 +0000
Message-ID: <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
 <50119C9F.9010601@christopherschultz.net>
In-Reply-To: <50119C9F.9010601@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.1.104.156]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

SGkgQ2hyaXMsDQoNClRoYW5rcyBmb3IgdGhlIHJlc3BvbnNlLiAgU29ycnksIHdoZXJlIEkgc2Fp
ZCAiLi4udW5sb2FkIGEgc2VydmVyIGFueSB0aW1lIiBJIHNob3VsZCBoYXZlIHNhaWQgJ3NlcnZs
ZXQnLg0KDQpJIGhhdmUgcmVhZCB0aGF0IFRvbWNhdCBkb2VzIG5vdCB1bmxvYWQgc2VydmxldHMg
KGV2ZW4gdGhvdWdoIGl0IHdvdWxkIGJlIHBlcm1pc3NpYmxlIHRvIGRvIHNvKSwgYnV0IGFzIHlv
dSBzYXksIEkgaGF2ZSBkb25lIHNvbWUgbG9nZ2luZyBpbiB0aGUgZGVzdHJveSBtZXRob2QsIGFu
ZCBJIHNlZSB0aGlzIGJlaGF2aW9yLg0KDQpIZXJlJ3MgdGhlIHNjZW5hcmlvOiAgSSBoYXZlIDMg
d2ViYXBwcywgbGV0J3MgY2FsbCB0aGVtIEEsIEIsIEMuICBUaGV5IGFyZSBhbGwgaG9zdGVkIGlu
IHRoZSBzYW1lIFRDNyBpbnN0YW5jZSBjdXJyZW50bHksIGJ1dCB0aGV5IGNvdWxkIGFsc28gYWxs
IGJlIGhvc3RlZCBvbiBkaWZmZXJlbnQgbWFjaGluZXMgaW4gZGlmZmVyZW50IFRDNyBjb250YWlu
ZXJzLg0KDQpBIGNlcnRhaW4gc2VydmxldCB3aXRoaW4gYXBwIEIgJiBDIChsZXQncyBjYWxsIHRo
ZW0gQjEgYW5kIEMxKSB1cG9uIGluaXQgbWFrZSBhIGNhbGwgdG8gYSBzZXJ2bGV0IGluIGFwcCBB
IChsZXQncyBjYWxsIGl0IEExKS4gV2hhdCBJIHNlZSBpcyBBMSwgQjEsIGFuZCBDMSBhbGwgaW5p
dGlhbGl6ZS4gVGhlIGluaXQgaXMgZG9uZSBieSBhIHRocmVhZCBjYWxsZWQgIiBwb29sLTItdGhy
ZWFkLTEiLCB3aGljaCBzZWVtcyBsaWtlIGEgc3lzdGVtIHRocmVhZC4gIE9rIG5vIHByb2JsZW0u
DQoNClRoZW4sIGZvciBzb21lIHJlYXNvbiwgQTEncyBkZXN0cm95IG1ldGhvZCBpcyBjYWxsZWQs
IGFuZCBpdCBpcyBjYWxsZWQgYnkgYSB0aHJlYWQgbmFtZWQgIiBodHRwLWFwci04MDgwLWV4ZWMt
MyIsIG1ha2luZyBtZSB0aGluayBpdCBpcyBiZWluZyBjYWxsZWQgYnkgYSB0aHJlYWQgcHJvY2Vz
c2luZyB0aGUgcmVxdWVzdCBmb3IgZWl0aGVyIEIxIG9yIEMxLCBzaW5jZSBubyBvdGhlciByZXF1
ZXN0cyBmcm9tIGFueW9uZSBvdXRzaWRlIG9mIEIgb3IgQyBoYXZlIGhhcHBlbmVkIHlldC4NCg0K
QWZ0ZXIgZGVzdHJveSB3aW5kcyBkb3duLCB0aGVuLCBBMSdzIGluaXQgbWV0aG9kIGlzIGNhbGxl
ZCBieSBhIHRocmVhZCBuYW1lZCAiIGh0dHAtYXByLTgwODAtZXhlYy0xMSIgLSBhbm90aGVyIHJl
cXVlc3QgcHJvY2Vzc2luZyB0aHJlYWQgSSBhc3N1bWUuICAgRXZlcnl0aGluZyBhbGwgd29ya3Mg
b3V0IGluIHRoZSBlbmQsIGFuZCBhZnRlciB0aGF0IEkgZG9uJ3Qgc2VlIEExLCBCMSwgb3IgQzEg
ZXZlciBkZXN0cm95ZWQgLSBidXQgYW0gSSBndWFyYW50ZWVkIHRoYXQgdGhleSB3b24ndCBldmVy
IGJlIGRlc3Ryb3llZCBhZ2FpbiB1bmxlc3MgVEMgaXMgc2h1dGRvd24gb3IgdGhleSBhcmUgbWFu
dWFsbHkgdW5sb2FkZWQ/DQoNCkkgdW5kZXJzdGFuZCB0aGF0IGdpdmVuIHNlcnZsZXRzIGNhbiBi
eSBzcGVjIGdvIHVwICYgZG93biwgbWF5YmUgdXNpbmcgdGhlbSB3YXMgbm90IHRoZSByaWdodCBj
aG9pY2UgZm9yIGFuIGFwcGxpY2F0aW9uIHRoYXQgbmVlZHMgcGVybWFuZW5jeSwgYnV0IHdlJ3Jl
IHRvbyBsYXRlIGluIGRldmVsb3BtZW50IHRvIG1ha2UgdGhhdCBzd2l0Y2ggbm93Lg0KDQpTbyBJ
J20gbG9va2luZyBmb3IgYSBndWFyYW50ZWUgdGhhdCBubyBhdXRvbWF0aWMgZGVzdHJveXMgd2ls
bCBoYXBwZW4gZ29pbmcgZm9yd2FyZCBqdXN0IGJlY2F1c2UgVG9tY2F0IGRlY2lkZXMgdG8gZG8g
aXQgb24gaXRzIG93bi4gIElmIGl0IGlzIGluc3RydWN0ZWQgdG8gc2h1dGRvd24vdW5kZXBsb3kv
dW5sb2FkIGJ5IHNvbWUgb3V0c2lkZSBzeXN0ZW0gb3IgYnkgYSBodW1hbiB1c2VyLCB0aGF0J3Mg
ZmluZSwgSSdtIG5vdCB3b3JyaWVkIGFib3V0IHRoYXQuICBCdXQgSSBkb24ndCB3YW50IHRoZXNl
IHNlcnZsZXRzIHRvIGJlIGRlc3Ryb3llZCBqdXN0IGJlY2F1c2UgVG9tY2F0IGRlY2lkZXMgdG8g
ZG8gc28gZm9yIHdoYXRldmVyIHJlYXNvbi4NCg0KSG9wZSB0aGF0IGhlbHBzIGNsYXJpZnksIGFu
ZCB0aGFua3MgZm9yIHRoZSBmZWVkYmFjay4NCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0N
CkZyb206IENocmlzdG9waGVyIFNjaHVsdHogW21haWx0bzpjaHJpc0BjaHJpc3RvcGhlcnNjaHVs
dHoubmV0XSANClNlbnQ6IFRodXJzZGF5LCBKdWx5IDI2LCAyMDEyIDEyOjM4IFBNDQpUbzogVG9t
Y2F0IFVzZXJzIExpc3QNClN1YmplY3Q6IFJlOiBQZXJtYW5lbnQgc2VydmxldCBpbiBUQzcNCg0K
LS0tLS1CRUdJTiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KSGFzaDogU0hBMQ0KDQpDaGlwLA0K
DQpPbiA3LzI2LzEyIDM6MTkgUE0sIENoaXAgTWNWZXkgd3JvdGU6DQo+IEluIFRDNywgaXMgdGhl
cmUgYSB3YXkgdG8gdGVsbCBUb21jYXQgdG8gbmV2ZXIgdW5sb2FkIGEgZ2l2ZW4gc2VydmxldCAN
Cj4gdW5sZXNzIFRvbWNhdCBpdHNlbGYgaXMgYmVpbmcgc2h1dGRvd24/ICBJIHdhbnQgYSBzaW5n
bGUgc2VydmxldCANCj4gaW5zdGFuY2UgdGhhdCBJIGNhbiBrbm93IHdpbGwgZXhpc3QgZm9yIHRo
ZSBsaWZlIG9mIHRoZSB0b21jYXQgcHJvY2VzcyANCj4gd2l0aG91dCBiZWluZyB1bmxvYWRlZCAm
IHJlbG9hZGVkICh1bmxlc3Mgc29tZW9uZSBtYW51YWxseSBpbnN0cnVjdHMgDQo+IFRvbWNhdCB0
byBkbyBzbywgb2YgY291cnNlKS4NCj4gDQo+IFllcywgSSBrbm93IEknbSAibm90IHN1cHBvc2Vk
IHRvIGRvIHRoaXMiIGFuZCB0aGF0IHRoZSBzZXJ2bGV0IHNwZWMgDQo+IHNheXMgYSBjb250YWlu
ZXIgaXMgYWxsb3dlZCB0byB1bmxvYWQgYSBzZXJ2ZXIgYW55IHRpbWUgYXMgbG9uZyBhcyBhIA0K
PiByZXF1ZXN0IGlzIG5vdCBpbiBwcm9jZXNzLiAgSSBzdGlsbCB3b3VsZCBsaWtlIHRvIGtub3cg
aWYgdGhlcmUncyBzb21lIA0KPiBUb21jYXQgc3BlY2lmaWMgd2F5IHRvIHRlbGwgVEM3IHRvIG5l
dmVyIHVubG9hZCB0aGUgc2VydmxldC4gQW5kIHllcywgDQo+IEkgcmVhbGl6ZSBldmVuIGlmIHRo
ZXJlIGlzIHN1Y2ggYSB3YXkgdGhhdCBmdXR1cmUgdmVyc2lvbnMgb2YgVG9tY2F0IA0KPiBtYXkg
cmVtb3ZlIHRoaXMgY2FwYWJpbGl0eS4gIDopDQoNCllvdSBoYXZlIHNhaWQgYm90aCAic2Vydmxl
dCIgYW5kICJzZXJ2ZXIiOiB3aGljaCBkaWQgeW91IG1lYW4/DQoNCkRvIHlvdSBuZWVkIGEgcGFy
dGljdWxhciB3ZWIgYXBwbGljYXRpb24gdG8gc3RheSBsb2FkZWQ/IFRoYXQncyBlYXN5Og0Kc2lt
cGx5IGRvbid0IHVuZGVwbG95IGl0Lg0KDQpEbyB5b3UgbmVlZCBhIHNpbmdsZSAob3IgbXVsdGlw
bGUpIHNlcnZsZXQocykgdG8gc3RheSBsb2FkZWQgYWxsIHRoZSB0aW1lPyBUaGF0J3MgYWxzbyBl
YXN5OiBJIGRvbid0IGJlbGlldmUgVG9tY2F0IGV2ZXIgYWN0dWFsbHkgdW5sb2FkcyBhIHNlcnZs
ZXQuIChZb3UgY2FuIGVhc2lseSB0ZXN0IHRoaXMgYnkgaW1wbGVtZW50aW5nIHRoZSBkZXN0cm95
KCkgbWV0aG9kIGFuZCBlbWl0dGluZyBzb21lIGtpbmQgb2YgbG9nKS4NCg0KV2hhdCBpcyBpdCBh
Ym91dCB0aGUgc2VydmxldCB0aGF0IGl0IG5lZWRzIHRvIHN0YXkgbG9hZGVkPyBTZXJ2bGV0cyBh
cmVuJ3QgcmVhbGx5IHN1cHBvc2VkIHRvIGhhdmUgYW55IHN0YXRlLCBzbyB1bmxvYWRpbmcgYW5k
IHJlLWxvYWRpbmcgdGhlIHNlcnZsZXQgc2hvdWxkbid0IHJlcHJlc2VudCBhbnl0aGluZyB0cmF1
bWF0aWMgdG8geW91ciB3ZWIgYXBwbGljYXRpb24uDQoNCklmIHlvdSBoYXZlIHRvIGhhdmUgc29t
ZSBraW5kIG9mIGRhdGEgbG9hZGVkIGFsbCB0aGUgdGltZSwgY29uc2lkZXIgbW92aW5nIHRoYXQg
ZGF0YSBpbnRvIHRoZSBTZXJ2bGV0Q29udGV4dCAoYWthICJhcHBsaWNhdGlvbiIpDQphdHRyaWJ1
dGVzOiB0aGVuIHRoZSBzZXJ2bGV0IGNhbiBiZSB1bmxvYWRlZCBhbmQgcmUtbG9hZGVkIGF0IHdp
bGwgYW5kIHRoZSBkYXRhIHdpbGwgcGVyc2lzdC4NCg0KLSAtY2hyaXMNCi0tLS0tQkVHSU4gUEdQ
IFNJR05BVFVSRS0tLS0tDQpWZXJzaW9uOiBHbnVQRy9NYWNHUEcyIHYyLjAuMTcgKERhcndpbikN
CkNvbW1lbnQ6IEdQR1Rvb2xzIC0gaHR0cDovL2dwZ3Rvb2xzLm9yZw0KQ29tbWVudDogVXNpbmcg
R251UEcgd2l0aCBNb3ppbGxhIC0gaHR0cDovL2VuaWdtYWlsLm1vemRldi5vcmcvDQoNCmlFWUVB
UkVDQUFZRkFsQVJuSjhBQ2drUTlDYU81L0x2MFBDYUdRQ2d2N0tna2wwNEVsYkJ1NWJrcU50dXVY
K3YNCjVPc0FuMU1TZjZpM0NIOXZJb2dYVGIrYVVLUllxMFdODQo9NnZRSw0KLS0tLS1FTkQgUEdQ
IFNJR05BVFVSRS0tLS0tDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDog
dXNlcnMtdW5zdWJzY3JpYmVAdG9tY2F0LmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5vcmcNCg0K
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235697-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 20:34:49 2012
Return-Path: <users-return-235697-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 977AE99BA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 20:34:49 +0000 (UTC)
Received: (qmail 71733 invoked by uid 500); 26 Jul 2012 20:34:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71694 invoked by uid 500); 26 Jul 2012 20:34:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71681 invoked by uid 99); 26 Jul 2012 20:34:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:34:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:34:38 +0000
Received: by obbta14 with SMTP id ta14so4331329obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 13:34:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:cc:subject
         :references:in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=OEFXvkaLS2FIZFslvhD4Mxn1LlrCxYFcqRjbaExJhH4=;
        b=SRtJgtQGO0U0GOROBWc9AvyqLo38t3Co0Ug4fkCfGJdQQbSBTHXYmh8K5JORq/pfS2
         qu/awygXLarkKZNOiEadrzj0E4axWnWVpM/eJxwEfP/gpCp7f9e5QkNFWa3KO/r9alwl
         mRGJASlcXMAYwtxwY9QxugCREu+0LRdc3OfPpsNzHV4wRGuv2KvbZR4qJGi4b5s2HxTb
         CePcoSLMpbtiltd4gSTHH/4Gstdp3Q47PYOqI99Mynquj/8F+GIS1zOFGMZx0nv/a5ko
         AXejpXG8jwKlxs5CkQbhEeqsPwiDzuDR/qU6sB7HIdLRvMhgmEeHBJZnbulfcAJO0E3G
         cAcA==
Received: by 10.182.31.102 with SMTP id z6mr75057obh.66.1343334857700;
        Thu, 26 Jul 2012 13:34:17 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id jl8sm192032obb.18.2012.07.26.13.34.16
        (version=SSLv3 cipher=OTHER);
        Thu, 26 Jul 2012 13:34:17 -0700 (PDT)
Message-ID: <5011A9C9.60607@touchtonecorp.com>
Date: Thu, 26 Jul 2012 13:34:17 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Java Programming on and around the iSeries / AS400 <java400-l@midrange.com>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>	 <1343152199.3018.340.camel@dellberry>  <501168CE.7030907@touchtonecorp.com> <1343321376.3018.475.camel@dellberry>
In-Reply-To: <1343321376.3018.475.camel@dellberry>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQmrL39OzQR4huyiCCGWkEikQWsZD6cPhcxdsUKW0qhU2Z00HAbRmYCVZ4HdjHKH3pK0prOY

Tim Watts wrote:

> import java.io.File;
> import java.net.URL;
> import java.net.URLClassLoader;
> 
> public class FindClass {
>         public static void main(String[] args) {
>                 try {
>                         URLClassLoader loader = new URLClassLoader(
>                                 new URL[] {new File("/wintouch/tomcat/lib/catalina.jar").toURI().toURL()});
>                         loader.loadClass(args[0]);
>                         System.out.println("URLClassLoader found class '" +args[0] +"'");
>                 }
>                 catch (Exception e) {
>                         e.printStackTrace();
>                 }
>         }
> } 

I tried it. I'm surprised I was able to get it to compile and run on 
only the second try (the first try, I had left the stream file editor in 
the default EBCDIC codepage when I pasted in your source, which JAVAC, 
not surprisingly, didn't like at all).

At any rate, I get:

> java FindClass org.apache.catalina.startup.Catalina              
> URLClassLoader found class 'org.apache.catalina.startup.Catalina'


And so far as I can determine without doing a clean install of Tomcat, 
nothing is customized at all, at this point, other than maybe setting 
port numbers (which it isn't even getting to, yet), and adding your 
diagnostic lines in logging.properties.

Paul Holm, on the Midrange.com Java list, suggested turning on verbose 
mode on Java; I'm not entirely sure how I would even do that for Tomcat.

What would be the next step?

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235698-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 20:41:24 2012
Return-Path: <users-return-235698-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46BB399F0
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 20:41:24 +0000 (UTC)
Received: (qmail 93273 invoked by uid 500); 26 Jul 2012 20:41:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93143 invoked by uid 500); 26 Jul 2012 20:41:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93131 invoked by uid 99); 26 Jul 2012 20:41:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:41:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Alex.Samad@yieldbroker.com designates 202.74.32.13 as permitted sender)
Received: from [202.74.32.13] (HELO mail.yieldbroker.com) (202.74.32.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:41:14 +0000
From: Alex Samad - Yieldbroker <Alex.Samad@yieldbroker.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: issue with iis 7.5 ajpconnector
Thread-Topic: issue with iis 7.5 ajpconnector
Thread-Index: Ac1lPJAxtJ3Fma78QUmqpeWZaz/GYwEHhSew//966gD//YXzsIAEiGKA//7zrICAAYG1AIAAuHoA//6PHJA=
Date: Thu, 26 Jul 2012 20:40:51 +0000
Message-ID: <A3FB5D9FD28C50429DF7692DC31054E6049D2689@DC1INTADCW8201.yieldbroker.com>
References: <A3FB5D9FD28C50429DF7692DC31054E6049BD1CF@DC1INTADCW8201.yieldbroker.com><A3FB5D9FD28C50429DF7692DC31054E6049CC28A@DC1INTADCW8201.yieldbroker.com><500E4B42.2060205@ice-sa.com><A3FB5D9FD28C50429DF7692DC31054E6049CDE9C@DC1INTADCW8201.yieldbroker.com><501004C7.30201@kippdata.de>
 <A3FB5D9FD28C50429DF7692DC31054E6049CF3FB@DC1INTADCW8201.yieldbroker.com>
 <5010673E.6070201@kippdata.de> <501101FE.2040806@ice-sa.com>
In-Reply-To: <501101FE.2040806@ice-sa.com>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.32.20.101]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

[snip]
>=20
> Without rubbing it in too forcefully, this is exactly the reason why it i=
s
> important to provide precise technical details right from the start.

Lack of details yep, my fault. You write thing presuming people who deal wi=
th it every day know and think the same way. Always better for more info=20

> The people on this list are trying to be helpful, and they do this for fu=
n.
And greatly appreciated

> At the same time, it is a bit frustrating spending time to exchange multi=
ple
> messages back and forth, to end up realising that we may be talking about
> some unknown or broken or unsupported piece of software (or hardware, as
> the case may be).

True

> It just wastes time for everyone, and also delays the eventual resolution=
 of
> your problem.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235699-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 20:46:57 2012
Return-Path: <users-return-235699-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B45CB9A29
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 20:46:57 +0000 (UTC)
Received: (qmail 12253 invoked by uid 500); 26 Jul 2012 20:46:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12192 invoked by uid 500); 26 Jul 2012 20:46:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12181 invoked by uid 99); 26 Jul 2012 20:46:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:46:54 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 20:46:46 +0000
Received: from [10.0.110.6] ([100.104.129.13])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id q6QKkNue007611
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 22:46:24 +0200 (CEST)
Message-ID: <5011AC8E.1020609@kippdata.de>
Date: Thu, 26 Jul 2012 22:46:06 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Happy Birthday, Chuck!
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
In-Reply-To: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 26.07.2012 15:46, Gregor S. wrote:
> Hi Chuck,
>
> thanks again for your valuable comments on this list, and keep it up!
>
> Cheers!

+2 !

Rainer


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235700-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 22:18:40 2012
Return-Path: <users-return-235700-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ECAC3CD17
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 22:18:39 +0000 (UTC)
Received: (qmail 5748 invoked by uid 500); 26 Jul 2012 22:18:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5662 invoked by uid 500); 26 Jul 2012 22:18:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5649 invoked by uid 99); 26 Jul 2012 22:18:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 22:18:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tomcat@vittox.com designates 72.9.228.36 as permitted sender)
Received: from [72.9.228.36] (HELO vps75.vittox.com) (72.9.228.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 22:18:28 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=vittox.com; s=default;
	h=Content-Transfer-Encoding:Content-Type:In-Reply-To:References:Subject:To:MIME-Version:From:Date:Message-ID; bh=LYvtSrETzGLiT0Hxm6xrkZWnHIsz5z45cqtdVBzWap8=;
	b=M599JdfN+hAobX3G6KpEwQR5Ol981h5JXL5RilI1p33sH9lC841Ooz3EXG0j1KTNb/loYmqL0oLTZJgmnEpS4oAWWdTZH9AL9V5qpzF/URONhPpnYCbbvc7gsRFwenUn;
Received: from [190.236.193.206] (port=14930 helo=[192.168.1.46])
	by vps75.vittox.com with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.77)
	(envelope-from <tomcat@vittox.com>)
	id 1SuWNi-0008WV-JD
	for users@tomcat.apache.org; Thu, 26 Jul 2012 17:18:06 -0500
Message-ID: <5011C21C.3010007@vittox.com>
Date: Thu, 26 Jul 2012 17:18:04 -0500
From: Chris Patterson <tomcat@vittox.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Happy Birthday, Chuck!
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com> <5011AC8E.1020609@kippdata.de>
In-Reply-To: <5011AC8E.1020609@kippdata.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - vps75.vittox.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - vittox.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

Chuck, ich danke dir fr deineehrliche bemhungen und wnsche
alles gute zum Geburtstag. Und hoffe du bist immerin dieser liste.

Wilhelm


El 26/07/2012 03:46 p.m., Rainer Jung escribi:
> On 26.07.2012 15:46, Gregor S. wrote:
>> Hi Chuck,
>>
>> thanks again for your valuable comments on this list, and keep it up!
>>
>> Cheers!
>
> +2 !
>
> Rainer
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235701-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Jul 26 22:49:00 2012
Return-Path: <users-return-235701-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BE9BDACC
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 26 Jul 2012 22:49:00 +0000 (UTC)
Received: (qmail 94225 invoked by uid 500); 26 Jul 2012 22:48:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94102 invoked by uid 500); 26 Jul 2012 22:48:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94093 invoked by uid 99); 26 Jul 2012 22:48:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 22:48:57 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tmoleary@uw.edu designates 140.142.32.201 as permitted sender)
Received: from [140.142.32.201] (HELO mxout11.cac.washington.edu) (140.142.32.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jul 2012 22:48:47 +0000
Received: from UWIT-HUB07.exchange.washington.edu (uwit-hub07.exchange.washington.edu [140.142.238.168])
	by mxout11.cac.washington.edu (8.14.4+UW11.03/8.14.4+UW12.05) with ESMTP id q6QMk9ET015903
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=OK)
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 15:46:09 -0700
Received: from uwit-mbx09.exchange.washington.edu ([172.22.4.237]) by
 UWIT-HUB07.exchange.washington.edu ([140.142.238.168]) with mapi id
 14.02.0298.004; Thu, 26 Jul 2012 15:46:09 -0700
From: "Mike O'Leary" <tmoleary@uw.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Calling Bootstrap.main from a Java program
Thread-Topic: Calling Bootstrap.main from a Java program
Thread-Index: Ac1i1+d+Ozqs62liQCGA4CZzVrR6cgAC7pvAAicpxHA=
Date: Thu, 26 Jul 2012 22:46:09 +0000
Message-ID: <7E6B6E32BE46214181EA6705010278F5D6471D@uwit-mbx09.exchange.washington.edu>
References: <7E6B6E32BE46214181EA6705010278F5D61066@uwit-mbx09.exchange.washington.edu>
 <99C8B2929B39C24493377AC7A121E21FB03412E2C3@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB03412E2C3@USEA-EXCH8.na.uis.unisys.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.28.131.86]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-PMX-Version: 6.0.0.2142326, Antispam-Engine: 2.7.2.2107409, Antispam-Data: 2012.7.26.223616
X-PMX-Server: mxout11.cac.washington.edu
X-Uwash-Spam: Gauge=IIIIIIII, Probability=8%, Report='
 HTML_00_01 0.05, HTML_00_10 0.05, SUPERLONG_LINE 0.05, BODYTEXTP_SIZE_3000_LESS 0, BODY_SIZE_2000_2999 0, BODY_SIZE_5000_LESS 0, BODY_SIZE_7000_LESS 0, FROM_EDU_TLD 0, WEBMAIL_SOURCE 0, WEBMAIL_XOIP 0, WEBMAIL_X_IP_HDR 0, __ANY_URI 0, __BOUNCE_CHALLENGE_SUBJ 0, __BOUNCE_NDR_SUBJ_EXEMPT 0, __CANPHARM_UNSUB_LINK 0, __CT 0, __CTE 0, __CT_TEXT_PLAIN 0, __HAS_FROM 0, __HAS_MSGID 0, __HAS_XOIP 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __PHISH_SPEAR_STRUCTURE_1 0, __SANE_MSGID 0, __SUBJ_ALPHA_END 0, __TO_MALFORMED_2 0, __URI_NO_PATH 0, __URI_NO_WWW 0, __URI_NS '

Thanks, for this information. It helped me with everything I needed to know=
, including things I didn't realize that I needed to know at the time.
Mike

-----Original Message-----
From: Caldarale, Charles R [mailto:Chuck.Caldarale@unisys.com]=20
Sent: Sunday, July 15, 2012 4:55 PM
To: Tomcat Users List
Subject: RE: Calling Bootstrap.main from a Java program

> From: Mike O'Leary [mailto:tmoleary@uw.edu]
> Subject: Calling Bootstrap.main from a Java program

> When I tried this running my Java program in Eclipse, the call to=20
> Bootstrap.main(new String[]{"start"}) did not return.

The thread that calls Bootstrap.main() ends up waiting for input on the shu=
tdown port - which a thread dump would easily show you.

> running startup.bat in a command prompt window gets Tomcat running and=20
> then returns to a command prompt.

You appear to have missed that startup.bat kicks off catalina.bat in a sepa=
rate process.

> Is there a way to call Bootstrap.main(new String[]{"start"}) in an=20
> application's main thread so that it returns and Tomcat continues=20
> running?

You shouldn't really be doing it that way, but disabling the shutdown port =
in your server.xml might work. =20

> What is the best way to start and stop Tomcat programmatically from a=20
> Java application? If it is better to do it using a different class,=20
> such as Tomcat or Embedded, could someone point me to information=20
> about how to do that?

Use the Tomcat class; Embedded is deprecated.  Read the Javadoc for org.apa=
che.catalina.startup.Tomcat.  You could also try launching Tomcat in a sepa=
rate process, rather than inside the JVM you're already using.

> I tried using the Tomcat class recently and I couldn't get it to work=20
> either.

Can't provide help without specifics.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235702-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 00:01:19 2012
Return-Path: <users-return-235702-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F22079CB3
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 00:01:19 +0000 (UTC)
Received: (qmail 73824 invoked by uid 500); 27 Jul 2012 00:01:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73762 invoked by uid 500); 27 Jul 2012 00:01:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73753 invoked by uid 99); 27 Jul 2012 00:01:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 00:01:16 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of icicimov@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 00:01:08 +0000
Received: by obbta14 with SMTP id ta14so4590828obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 17:00:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Yiur7m9bznvv1gRGmiexdGcaTDX6ToKE1XPOHCBUP9k=;
        b=YPL4E5AGFvJuavXgQ5+TDBileH/x/geb0/TRHhsZEWetFphyL549WU45Ihaho0LVPK
         2KCxwAEqAH0GOdLcmMipY5OTXwRrt1C2opNYirtHJ4lN3r8ftZvwCbbVwO/D0xUZKnmY
         nyQlVQB7ydPPV/7N2q2bXkjXq7cJdv8rPO1/ZyI9v59zmmlHpeF/uJMsLAlQ0MWxWIci
         0WX8XdrNCl4daOxkPtfwf6iaJs0nbT3DaZIiMQQ4DUgNnvSF5wgoYepEnwLSswJsDgKy
         tOfPPf+pPRy7cVEI62bLQHpkhEZyuXufsudhbo1Sg38Y6a0HQPOffxdU6/JaJmoVx+nt
         xpfQ==
MIME-Version: 1.0
Received: by 10.182.74.68 with SMTP id r4mr878099obv.31.1343347247814; Thu, 26
 Jul 2012 17:00:47 -0700 (PDT)
Received: by 10.182.97.6 with HTTP; Thu, 26 Jul 2012 17:00:47 -0700 (PDT)
In-Reply-To: <8CEEFC4412261D4AA6EF373F59C5FEDE019B88EE@IMCMBX04.MITRE.ORG>
References: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
	<CAAKASGy1AZZQ=Rt2AiQsJQk6h+jRBCROVbuEuw6LwjdXwO32Vg@mail.gmail.com>
	<8CEEFC4412261D4AA6EF373F59C5FEDE019B88EE@IMCMBX04.MITRE.ORG>
Date: Fri, 27 Jul 2012 10:00:47 +1000
Message-ID: <CAAKASGz0kMkmLZFR438wHoaXb-bVQ0vQKJUdv5sHr7GhO9P=vw@mail.gmail.com>
Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand this
 error code: proxy: dialog
From: Igor Cicimov <icicimov@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d04447ea98418a604c5c46725

--f46d04447ea98418a604c5c46725
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Jul 27, 2012 at 4:20 AM, Carlucci, Tony <acarlucci@mitre.org> wrote:

> >-----Original Message-----
> >From: Igor Cicimov [mailto:icicimov@gmail.com]
> >Sent: Wednesday, July 25, 2012 9:12 PM
> >To: Tomcat Users List
> >Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand
> this
> >error code: proxy: dialog
> >
> >You have max clients on the apache side set to 400 but only 300 threads on
> >tomcat side. No wonder you get 500 error...
>
> Thanks for the suggestion Igor, I increased the tomcat threads to 400 but
> that did not resolve the issue.
>
> Tony
>
>
> >
> >On Wed, Jul 25, 2012 at 12:22 AM, Carlucci, Tony <acarlucci@mitre.org
> >wrote:
> >
> >> Cross-posting this to the tomcat users list (also posted to users@httpd
> >> )...
> >>
> >> Hello, I've been trying to track down an intermittent problem with a
> Java
> >> web application that is running on tcServer fronted by Apache HTTP
> Server.
> >>    We get intermittent "Server Unavailable / HTTP 500" errors, and when
> we
> >> do see them, there is the same set of log statements written to the
> Apache
> >> HTTP Server error log:
> >>
> >> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> >> ajp_ilink_receive() can't receive header
> >> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> >> failed
> >> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
> >> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
> >>
> >> We are not seeing any error messages in the tcServer logs.
> >>
> >> I believe the issue is with the mod_proxy_ajp module but it's been very
> >> difficult tracking down what exactly the problem is.   What's
> interesting
> >> is that this Apache / tcServer configuration is used with other
> >> applications that work just fine and never have the intermittent 500
> error.
> >>   We also can run our application strictly in Tomcat (no Apache front)
> >> without any intermittent errors.
> >>
> >> We haven't ruled out that there could be something in our Java
> application
> >> code that is causing this, in combination with the mod_proxy_ajp module,
> >> but we have hit a wall as to what this issue could be.  Has anyone else
> >> experienced a similar intermittent issue combined with the above error
> >> messages?  Below is a copy of the error log and some configuration
> settings.
> >>
> >> Thanks, Tony
> >>
> >> ---------------------
> >> Apache HTTP Error Log
> >> ---------------------
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(141): Adding CACHE_SAVE
> >> filter for /myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(148): Adding
> >> CACHE_REMOVE_URL filter for /myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(45): proxy: AJP:
> >> canonicalising URL //127.0.0.1:7071/myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(1506): [client
> >> ***cleansed***] proxy: ajp: found worker ajp://127.0.0.1:7071/myapp for
> >> ajp://127.0.0.1:7071/myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy.c(1020): Running scheme ajp
> >> handler (attempt 0)
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_http.c(1963): proxy: HTTP:
> >> declining URL ajp://127.0.0.1:7071/myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(681): proxy: AJP:
> >> serving URL ajp://127.0.0.1:7071/myapp/
> >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2011): proxy: AJP: has
> >> acquired connection for (127.0.0.1)
> >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2067): proxy: connecting
> >> ajp://127.0.0.1:7071/myapp/ to 127.0.0.1:7071
> >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2193): proxy: connected
> >> /myapp/ to 127.0.0.1:7071
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(224): Into
> >> ajp_marshal_into_msgb
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[0] [x-forwarded-for] = [***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[1] [Host] = [***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[2] [Connection] = [keep-alive]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[3] [User-Agent] = [Mozilla/5.0 (Windows NT
> >> 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57
> >> Safari/536.11]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[4] [Accept] =
> >> [text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[5] [Accept-Encoding] = [gzip,deflate,sdch]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[6] [Accept-Language] = [en-US,en;q=0.8]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[7] [Accept-Charset] =
> >> [ISO-8859-1,utf-8;q=0.7,*;q=0.3]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[8] [Cookie] = [SSOTOKEN=***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[9] [SSO_LOGIN] = [***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[10] [SSO_ID] = [***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> >> ajp_marshal_into_msgb: Header[11] [SSO_EMAIL] = [***cleansed***]
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(450):
> >> ajp_marshal_into_msgb: Done
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(268): proxy:
> >> APR_BUCKET_IS_EOS
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(273): proxy: data to
> >> read (max 8186 at 4)
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(288): proxy: got 0
> >> bytes of data
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(687): ajp_read_header:
> >> ajp_ilink_received 03
> >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(697): ajp_parse_type:
> got
> >> 03
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(460): Ignoring flush
> >> message received before headers
> >> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> >> ajp_ilink_receive() can't receive header
> >> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> >> failed
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(549): (120006)APR
> does
> >> not understand this error code: ajp_read_header failed
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(564): proxy:
> Processing
> >> of request failed backend: 1, output: 0
> >> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand this
> >> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
> >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2029): proxy: AJP: has
> >> released connection for (127.0.0.1)
> >> [Mon Jul 23 10:03:15 2012] [debug] mod_deflate.c(615): [***cleansed***]
> >> Zlib: Compressed 323 to 218 : URL /myapp/
> >>
> >> ---------------------------------
> >> Apache HTTP Server (apachectl -V)
> >> ---------------------------------
> >> Server version: Apache/2.2.22 (Unix)
> >> Server built:   Jul 17 2012 17:20:28
> >> Server's Module Magic Number: 20051115:30
> >> Server loaded:  APR 1.4.5, APR-Util 1.4.1
> >> Compiled using: APR 1.4.5, APR-Util 1.4.1
> >> Architecture:   64-bit
> >> Server MPM:     Worker
> >>   threaded:     yes (fixed thread count)
> >>     forked:     yes (variable process count)
> >> Server compiled with....
> >> -D APACHE_MPM_DIR="server/mpm/worker"
> >> -D APR_HAS_SENDFILE
> >> -D APR_HAS_MMAP
> >> -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
> >> -D APR_USE_SYSVSEM_SERIALIZE
> >> -D APR_USE_PTHREAD_SERIALIZE
> >> -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
> >> -D APR_HAS_OTHER_CHILD
> >> -D AP_HAVE_RELIABLE_PIPED_LOGS
> >> -D DYNAMIC_MODULE_LIMIT=128
> >> -D HTTPD_ROOT="/apps/apache2"
> >> -D SUEXEC_BIN="/apps/apache2/bin/suexec"
> >> -D DEFAULT_SCOREBOARD="logs/apache_runtime_status"
> >> -D DEFAULT_ERRORLOG="logs/error_log"
> >> -D AP_TYPES_CONFIG_FILE="conf/mime.types"
> >> -D SERVER_CONFIG_FILE="conf/httpd.conf"
> >>
> >> -------------------------------
> >> httpd.conf (relevant settings):
> >> -------------------------------
> >> <IfModule worker.c>
> >> StartServers 2
> >> MaxClients 400
> >> MinSpareThreads 25
> >> MaxSpareThreads 75
> >> ThreadsPerChild 25
> >> MaxRequestsPerChild 10000
> >> </IfModule>
> >>
> >> ProxyRequests Off
> >> ProxyPreserveHost on
> >> ProxyReceiveBufferSize 0
> >> ProxyErrorOverride Off
> >> RewriteEngine on
> >>
> >> ProxyPass /myapp ajp://127.0.0.1:7071/myapp
> >> ProxyPassReverse /myapp ajp://127.0.0.1:7071/myapp
> >>
> >> -----------------------------------------------
> >> tcServer 2.0.4.RELEASE (Tomcat 6.0.29 binaries)
> >> -----------------------------------------------
> >> server.xml:
> >>
> >> <Executor name="tomcatThreadPool" namePrefix="tomcat-ajp--"
> >> maxThreads="300" minSpareThreads="50"/>
> >> <Connector executor="tomcatThreadPool"
> >>                address="127.0.0.1"
> >>                port="7071"
> >>                protocol="org.apache.coyote.ajp.AjpAprProtocol"
> >>                connectionTimeout="60000"
> >>                redirectPort="8443"
> >>                backlog="100"
> >>                tcpNoDelay="true"
> >>                enableLookups="false"
> >>                URIEncoding="UTF-8" />
> >>
> >>
> >>
> >>
> >>
> >>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
Hi Tony,

If we look at the ajp log provided carefully we can notice the following
when the problem starts:

[Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
ajp_ilink_receive() can't receive header
[Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive failed

which indicates that mod_ajp connected and sent a request to Tomcat but
didn't get anything back in response. This is classic error 500 scenario
when the backend is too busy to respond. I don't think anything is wrong
with mod_ajp if any bug it would had been caught till now and solved ages
ago since this module has been in the mainstream for quit a time now.

I think you need to focus all your attention to the Tomcat side or more
specific I would say your application. Something is keeping the threads
busy for too long and from my experience it is usually something to do with
database. If your application connects and deals with some kind of database
that's where I would start from i.e. application not closing connections,
long running queries etc. To start with you can take a thread dump in
Tomcat at the moment you get the errors and check what the threads are
doing at that time.

You can try increasing the thread count on Tomcat side to 1500 (if the
server memory resources permit that) but that will just postpone the
errors. The best thing is to debug your application and solve the problem
there.

In the Tomcat configuration I personally can't see anything wrong. Have you
tried using the "org.apache.coyote.ajp.AjpProtocol" instead the APR one and
see if that makes any difference?

Cheers,
Igor

--f46d04447ea98418a604c5c46725--

From users-return-235703-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 00:02:02 2012
Return-Path: <users-return-235703-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FB8B9CBB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 00:02:02 +0000 (UTC)
Received: (qmail 78779 invoked by uid 500); 27 Jul 2012 00:01:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78720 invoked by uid 500); 27 Jul 2012 00:01:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78711 invoked by uid 99); 27 Jul 2012 00:01:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 00:01:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jordan@viviotech.net designates 208.77.211.51 as permitted sender)
Received: from [208.77.211.51] (HELO mail3.viviotech.net) (208.77.211.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 00:01:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail3.viviotech.net (Postfix) with ESMTP id DC6D714082A
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 17:03:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at mail3.viviotech.net
Received: from mail3.viviotech.net ([127.0.0.1])
	by localhost (mail3.viviotech.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MeDhVHaBKfbp for <users@tomcat.apache.org>;
	Thu, 26 Jul 2012 17:03:11 -0700 (PDT)
Received: from [192.168.254.249] (lan.viviotech.net [208.77.208.186])
	by mail3.viviotech.net (Postfix) with ESMTPSA id 7E10B1405C0
	for <users@tomcat.apache.org>; Thu, 26 Jul 2012 17:03:11 -0700 (PDT)
Message-ID: <5011DA8B.7060702@viviotech.net>
Date: Thu, 26 Jul 2012 17:02:19 -0700
From: Jordan Michaels <jordan@viviotech.net>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:14.0) Gecko/20120714 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Check if a file exists before passing to a servlet in TC7
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I'm trying to have Tomcat serve up a directory listing if a file listed 
in the <welcome-file-list> doesn't exist. I have custom files there that 
will get passed to my servlet if the normal HTML or JSP files don't exist.

In Tomcat 6, this seemed to work nicely. I have my files listed in the 
welcome file list and if they didn't exist, I'd get a directory listing 
like I wanted. But, in Tomcat 7, as soon as Tomcat sees that I have a 
custom file in my <welcome-file-list>, it simply hands off the request 
to my servlet and I get a 404 from my servlet instead of a directory 
listing from Tomcat's "default" servlet.

Is it possible to have Tomcat 7 check for the existence of a file before 
it passes a request to my servlet? That way I could get the directory 
listing from the default servlet?

I'm just using the built-in Coyote Web server on both TC6 and TC7, so no 
external web server should be complicating things.

Any direction on this would be greatly appreciated.

Thanks in advance!

-- 
Warm Regards,
Jordan Michaels

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235704-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 05:05:11 2012
Return-Path: <users-return-235704-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05C1AD431
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 05:05:11 +0000 (UTC)
Received: (qmail 96920 invoked by uid 500); 27 Jul 2012 05:05:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96575 invoked by uid 500); 27 Jul 2012 05:05:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96551 invoked by uid 99); 27 Jul 2012 05:05:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 05:05:06 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of beku2009@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 05:04:59 +0000
Received: by obbta14 with SMTP id ta14so4995424obb.18
        for <users@tomcat.apache.org>; Thu, 26 Jul 2012 22:04:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vb7mSi6hfEUyNEDvk3SY3yC10BfRzjQvLANbIKz0lns=;
        b=FOwq+J0GXjgWGL/eMxEg00IqHvZyIxuOsTjKdZ3SuXr9XHp5IAHs5yLKhst5du2RRh
         bBeOLFibvPBjJQLDubywc3HPXwBmUODpQJoSJjtCNUthFZcAt6Jzsc18f324VNLYSjtY
         FCSuJlHDbWdqeUJtJRPmR4aBWQ3+YPCsyp1lxVJq+A3g8vAxvAHGTFjbsZTbSrlCqZZX
         1FnHHr92mc9ZjYNx1Rl1KS/64lS3d5S9oe7O5/p2BtCgzkXNHsokx5wSJOYwa7AlAtrv
         +irrFTRXzRQM6yeE35LGZ9z1mKuEQog7/XOVc+HUbpqaX2aOVTTyctT6Pjv4RA8Aqx0K
         E7PA==
MIME-Version: 1.0
Received: by 10.60.25.38 with SMTP id z6mr1802158oef.15.1343365478035; Thu, 26
 Jul 2012 22:04:38 -0700 (PDT)
Received: by 10.60.33.69 with HTTP; Thu, 26 Jul 2012 22:04:37 -0700 (PDT)
In-Reply-To: <CAAYQ08FZTqi_686KPwozJiMXWaYR7nCn5aR4_r3BksRJQB6=Og@mail.gmail.com>
References: <CAAYQ08FZTqi_686KPwozJiMXWaYR7nCn5aR4_r3BksRJQB6=Og@mail.gmail.com>
Date: Fri, 27 Jul 2012 13:04:37 +0800
Message-ID: <CAAYQ08FaQMC_GDHZ7RTw1Utm=EP9fuXv_5wmfXjD_zfVA8kQTQ@mail.gmail.com>
Subject: Tomcat websocket remote connection issue
From: bilguun bayarmagnai <beku2009@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8ff253ae1f302704c5c8a648

--e89a8ff253ae1f302704c5c8a648
Content-Type: text/plain; charset=ISO-8859-1

I'm using Spring MVC + meteor. Spring version is 3.1.0.RC1,
Atmosphere 1.0.0.beta4, tomcat 7.0.29, OS: ubuntu.

I was trying to upgrade from long polling to websocket. I configured
transport as websocket & fallback as long polling. It was working all good
on my laptop until I checked it from another pc. Safari is working ok since
its using long polling but chrome and firefox (browsers with websocket
capability) are not receiving any message. I can see that they are
subscribing ok but broadcasters seem like not publishing remote websockets.
But my local websocket clients are receiving messages ok.

Is it tomcat or OS related problem?

--e89a8ff253ae1f302704c5c8a648--

From users-return-235705-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 05:18:05 2012
Return-Path: <users-return-235705-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA4E8D463
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 05:18:05 +0000 (UTC)
Received: (qmail 28380 invoked by uid 500); 27 Jul 2012 05:18:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28332 invoked by uid 500); 27 Jul 2012 05:18:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28311 invoked by uid 99); 27 Jul 2012 05:18:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 05:18:01 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=ASF_LIST_OPS,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FORGED_REPLYTO,FREEMAIL_REPLYTO_END_DIGIT,FSL_FREEMAIL_1,FSL_FREEMAIL_2,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [106.10.149.67] (HELO nm16-vm4.bullet.mail.sg3.yahoo.com) (106.10.149.67)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 27 Jul 2012 05:17:52 +0000
Received: from [106.10.166.119] by nm16.bullet.mail.sg3.yahoo.com with NNFMP; 27 Jul 2012 05:17:30 -0000
Received: from [106.10.151.250] by tm8.bullet.mail.sg3.yahoo.com with NNFMP; 27 Jul 2012 05:17:30 -0000
Received: from [127.0.0.1] by omp1021.mail.sg3.yahoo.com with NNFMP; 27 Jul 2012 05:17:30 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 181781.41761.bm@omp1021.mail.sg3.yahoo.com
Received: (qmail 13023 invoked by uid 60001); 27 Jul 2012 05:17:30 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1343366250; bh=+hHucPWOmxz9Lw9F281uaNiLETSS1Pkp+GfLIg+MrNc=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=ujiyzERQbJNsXOhdBAmL3mjv5Kogx0OsO6w51P37coi1SLTcuNzmq5JHmdvAlnN1oT4p+MOhfr2IJRbNlgoIb1xdAN58F+bJxayLslajr1QJcl6QsFiGvmXpLuT8VcNxNWiN1rsr/v6B9/vmeqJsCgEjLHPJi95exrHwEiP5UH4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=db3QTiNPWeS8GBlF3gIz2lWzozeUpi4pLpNDc1E800BfGrKQdZJX8DrmqSC6bf5b1UGA10s2NuQI0xeziErfEmZFwdxRst2s9B+Y84CL8aocbDRP4n/AQpQsRkDBO2ASZsA7XYhJjse2Yi2P3TMS2HQa2+H0YRKfKrx13g4OO6Y=;
X-YMail-OSG: jMj60h0VM1n1s_PL0IEp_dK.Gb.MAhoTYR0ntyD3G6CeH.3
 hEqdahpFFT3eN9gCKJHKT_0GGsUXUWCmPg9LMwxlEPcv2ImowrE76QnlbYY.
 uzKednvdjCfdVVtMgOrVSGV2ks792yNW3zCfyCMtWFoogKnqTo6bG_WdRZ1t
 hnOieOcIsuh3aQ__fJsWsbIhEJx.08b_BGT8pu6I9SWquiTSEcWjBCXURhGX
 1MI9zjq68YHrloHqbA5XYcELVqcojKZPOPBtd9q9pW0dczQgI8YCEu.RoiFZ
 dW1zIoINIGsVoJtIbdrySuX7GdnodPzoo27IXx98DLNnUwNsbPwJXJJIMiIK
 _L4ocz5Xycy38xWeIZBK27aY6Kw0ab9Fld3czuMipUPwR_eh5tFH9azstbsT
 lT77cGRu9f3QZCmmqRYSXVYEMGVOwZYfE5xvSHfH5jyTB0YTTPSw5svRSTcG
 Czxhx04KwrQ--
Received: from [122.166.229.173] by web192602.mail.sg3.yahoo.com via HTTP; Fri, 27 Jul 2012 13:17:30 SGT
X-Mailer: YahooMailWebService/0.8.120.356233
References: <787143.98883.qm@web25606.mail.ukl.yahoo.com> <4D596FF4.3020209@apache.org>
Message-ID: <1343366250.3850.YahooMailNeo@web192602.mail.sg3.yahoo.com>
Date: Fri, 27 Jul 2012 13:17:30 +0800 (SGT)
From: srinibas behera <sbehera1@yahoo.com>
Reply-To: srinibas behera <sbehera1@yahoo.com>
Subject:  An attempt was made to authenticate the locked user "admin"
To: Tomcat Users List <users@tomcat.apache.org>,
  "users-help@tomcat.apache.org" <users-help@tomcat.apache.org>
In-Reply-To: <4D596FF4.3020209@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="2047183477-101054045-1343366250=:3850"
X-Virus-Checked: Checked by ClamAV on apache.org

--2047183477-101054045-1343366250=:3850
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

=0A=0AGreeting!=0A=0Awe are getting the following warning message from the =
log, when the machine on but we are not in the office.=0Awhat is the meanin=
g of the following message? Is anybody outside trying to login?=0A=0AJul 26=
, 2012 10:28:32 PM org.apache.catalina.realm.LockOutRealm authenticate=0AWA=
RNING: An attempt was made to authenticate the locked user "admin"=0AJul 26=
, 2012 10:28:32 PM org.apache.catalina.realm.LockOutRealm authenticate=0AWA=
RNING: An attempt was made to authenticate the locked user "admin"=0AJul 26=
, 2012 10:28:34 PM org.apache.catalina.realm.LockOutRealm authenticate=0AWA=
RNING: An attempt was made to authenticate the locked user "tomcat"=0AJul 2=
6, 2012 10:28:34 PM org.apache.catalina.realm.LockOutRealm authenticate=0AW=
ARNING: An attempt was made to authenticate the locked user "tomcat"=0AJul =
26, 2012 10:28:35 PM org.apache.catalina.realm.LockOutRealm authenticate=0A=
WARNING: An attempt was made to authenticate the locked user "manager"=0AJu=
l 26, 2012 10:28:36 PM org.apache.catalina.realm.LockOutRealm authenticate=
=0AWARNING: An attempt was made to authenticate the locked user "manager"=
=0A=0A=0AThanks for your help.=0AWith Regards,=0ASrinibas.
--2047183477-101054045-1343366250=:3850--

From users-return-235706-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 07:19:22 2012
Return-Path: <users-return-235706-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A609DF83
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 07:19:22 +0000 (UTC)
Received: (qmail 7509 invoked by uid 500); 27 Jul 2012 07:19:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7343 invoked by uid 500); 27 Jul 2012 07:19:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7305 invoked by uid 99); 27 Jul 2012 07:19:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 07:19:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rosenberg.leon@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 07:19:10 +0000
Received: by obbta14 with SMTP id ta14so5236054obb.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 00:18:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ZS6M+DN3YsajWp1V0xJT9G4pAsDBeqxUJ5Q6w6Tpglw=;
        b=vsNJxd2DjBrMjHpR9bFLLydwksZsNFgtZOhTjo/Rg7IUjlWkx81O5GRUCFv3C5YXh6
         S56rjipNGkNr0lTPKEhbgax7xj4KGt/3iMbvicIJf0m8f8/k6GUPxxNNnsuFYGKGngLc
         BCn0b/5TYyNUOv6js2VSE1YKMKO1fMEZjRsU+ttvjYI0/HjZXK+D04kGMZ8e1N2Nvgt8
         vbjBTiZAU9jG4vIguWl/BRGSoTy1jNBNqVbY+tUa6QRvNHKPPLbS65XSGrsTM2wmMVtZ
         lr21fiLlipr3wIanGMEcxcXrgMGJ2IFSxwRX0XFYBIqvkyFGkM57OMpaWoMiXsmSVEAX
         rQwQ==
MIME-Version: 1.0
Received: by 10.60.24.4 with SMTP id q4mr2109258oef.50.1343373530300; Fri, 27
 Jul 2012 00:18:50 -0700 (PDT)
Received: by 10.60.95.2 with HTTP; Fri, 27 Jul 2012 00:18:50 -0700 (PDT)
In-Reply-To: <5011AC8E.1020609@kippdata.de>
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
	<5011AC8E.1020609@kippdata.de>
Date: Fri, 27 Jul 2012 09:18:50 +0200
Message-ID: <CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>
Subject: Re: Happy Birthday, Chuck!
From: Leon Rosenberg <rosenberg.leon@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Maybe a little bit late, but still!
Happy Birthday Chuck!
Leon

On Thu, Jul 26, 2012 at 10:46 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> On 26.07.2012 15:46, Gregor S. wrote:
>>
>> Hi Chuck,
>>
>> thanks again for your valuable comments on this list, and keep it up!
>>
>> Cheers!
>
>
> +2 !
>
> Rainer
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235707-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 09:24:35 2012
Return-Path: <users-return-235707-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E56DD3EF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 09:24:35 +0000 (UTC)
Received: (qmail 27396 invoked by uid 500); 27 Jul 2012 09:24:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27162 invoked by uid 500); 27 Jul 2012 09:24:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26548 invoked by uid 99); 27 Jul 2012 09:24:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 09:24:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 09:24:23 +0000
Received: by vcbfl15 with SMTP id fl15so3085325vcb.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 02:24:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=L21uTt3q24uj81geZBF6GKQYf4O4RK1U0LbdoUacOBg=;
        b=AxnuU7ZZHuUy2CeuRvW8pLGMYIOaSLbktMM9+Cx3zC+J5+JAY8KbvUA+WPm0VOLQLI
         fw7kFLJYvr/tIw52VBwaqGnfYhYBsDnA6toZq2qn3ySiDQlm/5Szkix5dWdFmGWf0/Xr
         NLd/RgB+A/FbTFVbo6IBd8rudm9BZlIdkL8GU4rMNNj/V5es0Q2s+lMCgr7qseJox2qv
         Tb+gpgmxNDDLRsLfsoXMF8O4Ga0uwC0LtwQgCgwGSvNLXUBc3dCOnXIZQeGDwlHhLLhS
         KbigxvutOtCsftbe3ebv+qFK417OpXU6aJYSQ2IhRRjhUhorRYuWFg68nIgAuwLT+jkS
         N3uw==
MIME-Version: 1.0
Received: by 10.52.23.14 with SMTP id i14mr1589579vdf.47.1343381042503; Fri,
 27 Jul 2012 02:24:02 -0700 (PDT)
Received: by 10.58.125.99 with HTTP; Fri, 27 Jul 2012 02:24:02 -0700 (PDT)
In-Reply-To: <5011DA8B.7060702@viviotech.net>
References: <5011DA8B.7060702@viviotech.net>
Date: Fri, 27 Jul 2012 13:24:02 +0400
Message-ID: <CABzHfVmoaiXoAmSqU3inA1v_VMSOcMejajSQi5LTvah0tvREdg@mail.gmail.com>
Subject: Re: Check if a file exists before passing to a servlet in TC7
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/27 Jordan Michaels <jordan@viviotech.net>:
> I'm trying to have Tomcat serve up a directory listing if a file listed in
> the <welcome-file-list> doesn't exist. I have custom files there that will
> get passed to my servlet if the normal HTML or JSP files don't exist.
>
> In Tomcat 6, this seemed to work nicely. I have my files listed in the
> welcome file list and if they didn't exist, I'd get a directory listing like
> I wanted. But, in Tomcat 7, as soon as Tomcat sees that I have a custom file
> in my <welcome-file-list>, it simply hands off the request to my servlet and
> I get a 404 from my servlet instead of a directory listing from Tomcat's
> "default" servlet.
>
> Is it possible to have Tomcat 7 check for the existence of a file before it
> passes a request to my servlet? That way I could get the directory listing
> from the default servlet?
>
> I'm just using the built-in Coyote Web server on both TC6 and TC7, so no
> external web server should be complicating things.
>
> Any direction on this would be greatly appreciated.
>

See "resourceOnlyServlets" attribute on <Context>. I think it will help here.
http://tomcat.apache.org/tomcat-7.0-doc/config/context.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235708-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 09:38:48 2012
Return-Path: <users-return-235708-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E68D2DCEB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 09:38:47 +0000 (UTC)
Received: (qmail 70795 invoked by uid 500); 27 Jul 2012 09:38:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70325 invoked by uid 500); 27 Jul 2012 09:38:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69918 invoked by uid 99); 27 Jul 2012 09:38:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 09:38:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 09:38:35 +0000
Received: by yenl1 with SMTP id l1so3655337yen.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 02:38:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=tYoWZB9sUBmNJiSmaULYmteL5CkLHnu01kmLCuHFw1E=;
        b=gA3xeXY64TmaKfdA0ir6WnhIAGbI4kSX5zkMXK45qqdVPtWyahh+ThfRqcWdPa8uFB
         XnR6jLP+BDDCPz3TN+sr8qpncbnFU+2OA8PZfOXY0Ky+wuyMsudaSnio+jIaG85V86Ms
         xz6D65zEBfBfvNMuIBFxmLI73ZHhZh7S5u/1N88ZeCajINC9TEPo7FxZgIMomeif10Qm
         l7GGkg8isFPcbIcKyJIlbJYJxNHKKPpz/zOetWBxcy/vtArPASkLYxZAYq2DGE3X4UZC
         O9RBl1yky/DJth/xhRKdFtka0m548eRloBGqSxpE29nMdxfctzAKuKWM+Y42l3h9p2iK
         TL7Q==
MIME-Version: 1.0
Received: by 10.50.192.199 with SMTP id hi7mr1333662igc.68.1343381894744; Fri,
 27 Jul 2012 02:38:14 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Fri, 27 Jul 2012 02:38:14 -0700 (PDT)
Date: Fri, 27 Jul 2012 16:38:14 +0700
Message-ID: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
Subject: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I am currently using the snapshot version of tomcat maven plugin.
And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
overlay) actively.

And the time has come for me to try out virtual host .. and as i
understand it, i have to configure the host, context, etc ..
But i've been using the embedded tomcat 'supplied' by the tomcat maven
plugin so far,

so i wonder if there's a way to configure virtual host on the embedded tomcat ?

Or should i just forget embedded tomcat and setup an independent
tomcat i can configure freely ?

Thank you,
Albert

-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235709-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 10:52:02 2012
Return-Path: <users-return-235709-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AB46DAFC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 10:52:02 +0000 (UTC)
Received: (qmail 46145 invoked by uid 500); 27 Jul 2012 10:51:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46062 invoked by uid 500); 27 Jul 2012 10:51:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46048 invoked by uid 99); 27 Jul 2012 10:51:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 10:51:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of demablogia@gmail.com designates 209.85.161.173 as permitted sender)
Received: from [209.85.161.173] (HELO mail-gg0-f173.google.com) (209.85.161.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 10:51:50 +0000
Received: by ggnp1 with SMTP id p1so3714629ggn.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 03:51:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=FQGwgneqJsBSuc4ZkynS9fn0Kz9ljNoyEB5nk+hjn2g=;
        b=qThYkghYnBNu0HFYuN2Gn5g9+QrFQNgDHfV4b5J5s9x7voZhskwgQnTXQZwVDocwBO
         v/t5RattsPZ0iDwBTy1SfQnb1Erepm5ooDY67sZFoEYhZLr/qWA/g4PAST5kSC1rD350
         3/LvsIFg3P+Jq+6NsKPAqIOPundFkTuMOx8EELeWBoPthdw7lN3o+crJ1RK1T9BWoh9c
         t+V4haW/NY+TfyMZE3V+ybbTeKxLn6d1WUlan9kgJHa/LYfapgqbYWusjqTo3BNNgyYE
         ZhZqjspGfi5RPyckc9G59f012/9zKzzF5qE5ZyUdfSYUDHyVLt0lOnoAHcYSFRZuGSTw
         O9Tg==
Received: by 10.50.181.136 with SMTP id dw8mr1499029igc.31.1343386289689; Fri,
 27 Jul 2012 03:51:29 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.64.90.10 with HTTP; Fri, 27 Jul 2012 03:51:09 -0700 (PDT)
In-Reply-To: <1343366250.3850.YahooMailNeo@web192602.mail.sg3.yahoo.com>
References: <787143.98883.qm@web25606.mail.ukl.yahoo.com> <4D596FF4.3020209@apache.org>
 <1343366250.3850.YahooMailNeo@web192602.mail.sg3.yahoo.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Fri, 27 Jul 2012 12:51:09 +0200
Message-ID: <CABOBwRh7NTQ6HmQ=_8+rO7NpLtNtbFRekOiC1LqJwPQ0cvQffQ@mail.gmail.com>
Subject: Re: An attempt was made to authenticate the locked user "admin"
To: Tomcat Users List <users@tomcat.apache.org>, srinibas behera <sbehera1@yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1

>
> we are getting the following warning message from the log, when the machine on but we are not in the office.
> what is the meaning of the following message? Is anybody outside trying to login?

Maybe.

Look at your access log to know if come from outside

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235710-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 11:40:36 2012
Return-Path: <users-return-235710-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A1B5D85F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 11:40:36 +0000 (UTC)
Received: (qmail 74905 invoked by uid 500); 27 Jul 2012 11:40:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74669 invoked by uid 500); 27 Jul 2012 11:40:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74631 invoked by uid 99); 27 Jul 2012 11:40:31 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 11:40:31 +0000
Received: from localhost (HELO s2laptop.dev.local) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 11:40:30 +0000
Message-ID: <50127E2D.7020504@apache.org>
Date: Fri, 27 Jul 2012 12:40:29 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: An attempt was made to authenticate the locked user "admin"
References: <787143.98883.qm@web25606.mail.ukl.yahoo.com> <4D596FF4.3020209@apache.org> <1343366250.3850.YahooMailNeo@web192602.mail.sg3.yahoo.com>
In-Reply-To: <1343366250.3850.YahooMailNeo@web192602.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 27/07/2012 06:17, srinibas behera wrote:
> 
> 
> Greeting!
> 
> we are getting the following warning message from the log, when the machine on but we are not in the office.
> what is the meaning of the following message? Is anybody outside trying to login?

No quite. Someone is attempting a brute force attack against your
server. Check the access logs for details.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235711-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 14:15:40 2012
Return-Path: <users-return-235711-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2031D5CB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 14:15:40 +0000 (UTC)
Received: (qmail 18592 invoked by uid 500); 27 Jul 2012 14:15:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18387 invoked by uid 500); 27 Jul 2012 14:15:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18370 invoked by uid 99); 27 Jul 2012 14:15:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:15:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jordan@viviotech.net designates 208.77.211.51 as permitted sender)
Received: from [208.77.211.51] (HELO mail3.viviotech.net) (208.77.211.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:15:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail3.viviotech.net (Postfix) with ESMTP id 7231814122E
	for <users@tomcat.apache.org>; Fri, 27 Jul 2012 07:16:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at mail3.viviotech.net
Received: from mail3.viviotech.net ([127.0.0.1])
	by localhost (mail3.viviotech.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aZwDpZwJwY59 for <users@tomcat.apache.org>;
	Fri, 27 Jul 2012 07:16:54 -0700 (PDT)
Received: from mail3.viviotech.net (mail3.viviotech.net [208.77.211.51])
	by mail3.viviotech.net (Postfix) with ESMTP id 0813A141238
	for <users@tomcat.apache.org>; Fri, 27 Jul 2012 07:16:54 -0700 (PDT)
Date: Fri, 27 Jul 2012 07:16:53 -0700 (PDT)
From: Jordan Michaels <jordan@viviotech.net>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Check if a file exists before passing to a servlet in TC7
Message-ID: <e3b16cc6-6666-4e74-a53e-db459dd13a04@mail3>
In-Reply-To: <CABzHfVmoaiXoAmSqU3inA1v_VMSOcMejajSQi5LTvah0tvREdg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Originating-IP: [208.77.208.186]
X-Mailer: Zimbra 7.1.3_GA_3346 (ZimbraWebClient - GC20 (Win)/7.1.3_GA_3346)

Thank you very much Konstantin! That worked perfectly. =)

Warm regards,
Jordan Michaels



----- Original Message -----
From: "Konstantin Kolinko" <knst.kolinko@gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
Sent: Friday, July 27, 2012 2:24:02 AM
Subject: Re: Check if a file exists before passing to a servlet in TC7

2012/7/27 Jordan Michaels <jordan@viviotech.net>:
> I'm trying to have Tomcat serve up a directory listing if a file listed in
> the <welcome-file-list> doesn't exist. I have custom files there that will
> get passed to my servlet if the normal HTML or JSP files don't exist.
>
> In Tomcat 6, this seemed to work nicely. I have my files listed in the
> welcome file list and if they didn't exist, I'd get a directory listing like
> I wanted. But, in Tomcat 7, as soon as Tomcat sees that I have a custom file
> in my <welcome-file-list>, it simply hands off the request to my servlet and
> I get a 404 from my servlet instead of a directory listing from Tomcat's
> "default" servlet.
>
> Is it possible to have Tomcat 7 check for the existence of a file before it
> passes a request to my servlet? That way I could get the directory listing
> from the default servlet?
>
> I'm just using the built-in Coyote Web server on both TC6 and TC7, so no
> external web server should be complicating things.
>
> Any direction on this would be greatly appreciated.
>

See "resourceOnlyServlets" attribute on <Context>. I think it will help here.
http://tomcat.apache.org/tomcat-7.0-doc/config/context.html

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235712-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 14:42:02 2012
Return-Path: <users-return-235712-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E28ADD2CE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 14:42:02 +0000 (UTC)
Received: (qmail 94159 invoked by uid 500); 27 Jul 2012 14:41:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93954 invoked by uid 500); 27 Jul 2012 14:41:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93944 invoked by uid 99); 27 Jul 2012 14:41:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:41:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:41:51 +0000
Received: by qcab12 with SMTP id b12so2151188qca.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 07:41:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=8M00wtIm7M3dtQbegm7CgmQOBG+5C3w/KyTP0Jb15Fw=;
        b=Jl085Ookx1Bnwch99EcfVwBkq81/xccd1w5Cy2N99+F7WgZWGZ+bO/J4/MANaFx2cC
         K0bUTTah746nQDbwBptJFefVG6eUZQUNF5RVH+3X1gStd8N8V/HDs8huHfGcDaX6TvIu
         Xyj3ROQoLZyXrWHldJa2zp7j+TLYk7L+v+WtUkdjDr+HwcxKpFPfQnwRPR1jYtHPOa9A
         kmvGjxIW9bsXIeOI/7o/M6zjKNV0FFD+/XNtxeJE+BZO4fHwUBvYIvDQAsx4fBq2ital
         ukA83gABNL3Vr2LfePaLGiClRx44Ny7AVs9TxEnwn+szJz7lVJmqMYQW7MCzQpaWh45h
         fNmw==
MIME-Version: 1.0
Received: by 10.60.12.8 with SMTP id u8mr3775211oeb.46.1343400089043; Fri, 27
 Jul 2012 07:41:29 -0700 (PDT)
Received: by 10.76.76.201 with HTTP; Fri, 27 Jul 2012 07:41:29 -0700 (PDT)
In-Reply-To: <CAAKASGz0kMkmLZFR438wHoaXb-bVQ0vQKJUdv5sHr7GhO9P=vw@mail.gmail.com>
References: <8CEEFC4412261D4AA6EF373F59C5FEDE019B64FA@IMCMBX04.MITRE.ORG>
	<CAAKASGy1AZZQ=Rt2AiQsJQk6h+jRBCROVbuEuw6LwjdXwO32Vg@mail.gmail.com>
	<8CEEFC4412261D4AA6EF373F59C5FEDE019B88EE@IMCMBX04.MITRE.ORG>
	<CAAKASGz0kMkmLZFR438wHoaXb-bVQ0vQKJUdv5sHr7GhO9P=vw@mail.gmail.com>
Date: Fri, 27 Jul 2012 10:41:29 -0400
Message-ID: <CAL_hNmY8C9A6jzdoPfCH65JBTr26Tsuqobu-yjVAaHHXYUoW2Q@mail.gmail.com>
Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand this
 error code: proxy: dialog
From: Shanti Suresh <shanti@umich.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb1ef5619447e04c5d0b5e3
X-Gm-Message-State: ALoCoQk/D5/CeywcbQH0MZqOwDciu0uJSQwc+Z7E9HKJqjFNMGOrQPYkSIvOoACA0FEPzbYWp1pd

--e89a8fb1ef5619447e04c5d0b5e3
Content-Type: text/plain; charset=ISO-8859-1

Hi Tony,

Could you be running out of database connections?  Try taking a thread dump
when the issue occurs, or schedule periodic thread-dumps.  And see if any
threads are stuck during the time of issue.  You could also cron a job
every minute to find out the number of connections going into the database
server over the course of the application.  I haven't tested the script
(sorry!), but something like:

---------------
#!/bin/sh

DB_SERVER_IP=127.0.0.1 # ==> Please change

# Build the regular datestamp:
#
DATE=`date "+%Y-%m-%d %H:%M:%S"`

DB_CONNECTIONS=`netstat -anT | grep ${DB_SERVER_IP} | wc -l`

/bin/echo ${DATE} ${DB_CONNECTIONS} >> /tmp/database-server-connections

-------------------

What does the web-application write out in it's response?  Is the response
based on user-input?  Do you see a pattern that the 500 errors are
happening after the application has been in use for a while?

Thanks.

                     -Shanti

On Thu, Jul 26, 2012 at 8:00 PM, Igor Cicimov <icicimov@gmail.com> wrote:

> On Fri, Jul 27, 2012 at 4:20 AM, Carlucci, Tony <acarlucci@mitre.org>
> wrote:
>
> > >-----Original Message-----
> > >From: Igor Cicimov [mailto:icicimov@gmail.com]
> > >Sent: Wednesday, July 25, 2012 9:12 PM
> > >To: Tomcat Users List
> > >Subject: Re: Intermittent mod_proxy_ajp error - APR does not understand
> > this
> > >error code: proxy: dialog
> > >
> > >You have max clients on the apache side set to 400 but only 300 threads
> on
> > >tomcat side. No wonder you get 500 error...
> >
> > Thanks for the suggestion Igor, I increased the tomcat threads to 400 but
> > that did not resolve the issue.
> >
> > Tony
> >
> >
> > >
> > >On Wed, Jul 25, 2012 at 12:22 AM, Carlucci, Tony <acarlucci@mitre.org
> > >wrote:
> > >
> > >> Cross-posting this to the tomcat users list (also posted to
> users@httpd
> > >> )...
> > >>
> > >> Hello, I've been trying to track down an intermittent problem with a
> > Java
> > >> web application that is running on tcServer fronted by Apache HTTP
> > Server.
> > >>    We get intermittent "Server Unavailable / HTTP 500" errors, and
> when
> > we
> > >> do see them, there is the same set of log statements written to the
> > Apache
> > >> HTTP Server error log:
> > >>
> > >> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> > >> ajp_ilink_receive() can't receive header
> > >> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> > >> failed
> > >> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand
> this
> > >> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
> > >>
> > >> We are not seeing any error messages in the tcServer logs.
> > >>
> > >> I believe the issue is with the mod_proxy_ajp module but it's been
> very
> > >> difficult tracking down what exactly the problem is.   What's
> > interesting
> > >> is that this Apache / tcServer configuration is used with other
> > >> applications that work just fine and never have the intermittent 500
> > error.
> > >>   We also can run our application strictly in Tomcat (no Apache front)
> > >> without any intermittent errors.
> > >>
> > >> We haven't ruled out that there could be something in our Java
> > application
> > >> code that is causing this, in combination with the mod_proxy_ajp
> module,
> > >> but we have hit a wall as to what this issue could be.  Has anyone
> else
> > >> experienced a similar intermittent issue combined with the above error
> > >> messages?  Below is a copy of the error log and some configuration
> > settings.
> > >>
> > >> Thanks, Tony
> > >>
> > >> ---------------------
> > >> Apache HTTP Error Log
> > >> ---------------------
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(141): Adding CACHE_SAVE
> > >> filter for /myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_cache.c(148): Adding
> > >> CACHE_REMOVE_URL filter for /myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(45): proxy: AJP:
> > >> canonicalising URL //127.0.0.1:7071/myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(1506): [client
> > >> ***cleansed***] proxy: ajp: found worker ajp://127.0.0.1:7071/myappfor
> > >> ajp://127.0.0.1:7071/myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy.c(1020): Running scheme
> ajp
> > >> handler (attempt 0)
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_http.c(1963): proxy:
> HTTP:
> > >> declining URL ajp://127.0.0.1:7071/myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(681): proxy: AJP:
> > >> serving URL ajp://127.0.0.1:7071/myapp/
> > >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2011): proxy: AJP: has
> > >> acquired connection for (127.0.0.1)
> > >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2067): proxy:
> connecting
> > >> ajp://127.0.0.1:7071/myapp/ to 127.0.0.1:7071
> > >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2193): proxy:
> connected
> > >> /myapp/ to 127.0.0.1:7071
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(224): Into
> > >> ajp_marshal_into_msgb
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[0] [x-forwarded-for] = [***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[1] [Host] = [***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[2] [Connection] = [keep-alive]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[3] [User-Agent] = [Mozilla/5.0 (Windows
> NT
> > >> 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57
> > >> Safari/536.11]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[4] [Accept] =
> > >> [text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[5] [Accept-Encoding] =
> [gzip,deflate,sdch]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[6] [Accept-Language] = [en-US,en;q=0.8]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[7] [Accept-Charset] =
> > >> [ISO-8859-1,utf-8;q=0.7,*;q=0.3]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[8] [Cookie] = [SSOTOKEN=***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[9] [SSO_LOGIN] = [***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[10] [SSO_ID] = [***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(290):
> > >> ajp_marshal_into_msgb: Header[11] [SSO_EMAIL] = [***cleansed***]
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(450):
> > >> ajp_marshal_into_msgb: Done
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(268): proxy:
> > >> APR_BUCKET_IS_EOS
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(273): proxy: data
> to
> > >> read (max 8186 at 4)
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(288): proxy: got 0
> > >> bytes of data
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(687): ajp_read_header:
> > >> ajp_ilink_received 03
> > >> [Mon Jul 23 10:03:15 2012] [debug] ajp_header.c(697): ajp_parse_type:
> > got
> > >> 03
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(460): Ignoring
> flush
> > >> message received before headers
> > >> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> > >> ajp_ilink_receive() can't receive header
> > >> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> > >> failed
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(549): (120006)APR
> > does
> > >> not understand this error code: ajp_read_header failed
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_proxy_ajp.c(564): proxy:
> > Processing
> > >> of request failed backend: 1, output: 0
> > >> [Mon Jul 23 10:03:15 2012] [error] (120006)APR does not understand
> this
> > >> error code: proxy: dialog to 127.0.0.1:7071 (127.0.0.1) failed
> > >> [Mon Jul 23 10:03:15 2012] [debug] proxy_util.c(2029): proxy: AJP: has
> > >> released connection for (127.0.0.1)
> > >> [Mon Jul 23 10:03:15 2012] [debug] mod_deflate.c(615):
> [***cleansed***]
> > >> Zlib: Compressed 323 to 218 : URL /myapp/
> > >>
> > >> ---------------------------------
> > >> Apache HTTP Server (apachectl -V)
> > >> ---------------------------------
> > >> Server version: Apache/2.2.22 (Unix)
> > >> Server built:   Jul 17 2012 17:20:28
> > >> Server's Module Magic Number: 20051115:30
> > >> Server loaded:  APR 1.4.5, APR-Util 1.4.1
> > >> Compiled using: APR 1.4.5, APR-Util 1.4.1
> > >> Architecture:   64-bit
> > >> Server MPM:     Worker
> > >>   threaded:     yes (fixed thread count)
> > >>     forked:     yes (variable process count)
> > >> Server compiled with....
> > >> -D APACHE_MPM_DIR="server/mpm/worker"
> > >> -D APR_HAS_SENDFILE
> > >> -D APR_HAS_MMAP
> > >> -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
> > >> -D APR_USE_SYSVSEM_SERIALIZE
> > >> -D APR_USE_PTHREAD_SERIALIZE
> > >> -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
> > >> -D APR_HAS_OTHER_CHILD
> > >> -D AP_HAVE_RELIABLE_PIPED_LOGS
> > >> -D DYNAMIC_MODULE_LIMIT=128
> > >> -D HTTPD_ROOT="/apps/apache2"
> > >> -D SUEXEC_BIN="/apps/apache2/bin/suexec"
> > >> -D DEFAULT_SCOREBOARD="logs/apache_runtime_status"
> > >> -D DEFAULT_ERRORLOG="logs/error_log"
> > >> -D AP_TYPES_CONFIG_FILE="conf/mime.types"
> > >> -D SERVER_CONFIG_FILE="conf/httpd.conf"
> > >>
> > >> -------------------------------
> > >> httpd.conf (relevant settings):
> > >> -------------------------------
> > >> <IfModule worker.c>
> > >> StartServers 2
> > >> MaxClients 400
> > >> MinSpareThreads 25
> > >> MaxSpareThreads 75
> > >> ThreadsPerChild 25
> > >> MaxRequestsPerChild 10000
> > >> </IfModule>
> > >>
> > >> ProxyRequests Off
> > >> ProxyPreserveHost on
> > >> ProxyReceiveBufferSize 0
> > >> ProxyErrorOverride Off
> > >> RewriteEngine on
> > >>
> > >> ProxyPass /myapp ajp://127.0.0.1:7071/myapp
> > >> ProxyPassReverse /myapp ajp://127.0.0.1:7071/myapp
> > >>
> > >> -----------------------------------------------
> > >> tcServer 2.0.4.RELEASE (Tomcat 6.0.29 binaries)
> > >> -----------------------------------------------
> > >> server.xml:
> > >>
> > >> <Executor name="tomcatThreadPool" namePrefix="tomcat-ajp--"
> > >> maxThreads="300" minSpareThreads="50"/>
> > >> <Connector executor="tomcatThreadPool"
> > >>                address="127.0.0.1"
> > >>                port="7071"
> > >>                protocol="org.apache.coyote.ajp.AjpAprProtocol"
> > >>                connectionTimeout="60000"
> > >>                redirectPort="8443"
> > >>                backlog="100"
> > >>                tcpNoDelay="true"
> > >>                enableLookups="false"
> > >>                URIEncoding="UTF-8" />
> > >>
> > >>
> > >>
> > >>
> > >>
> > >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
> Hi Tony,
>
> If we look at the ajp log provided carefully we can notice the following
> when the problem starts:
>
> [Mon Jul 23 10:03:15 2012] [error] (70014)End of file found:
> ajp_ilink_receive() can't receive header
> [Mon Jul 23 10:03:15 2012] [error] ajp_read_header: ajp_ilink_receive
> failed
>
> which indicates that mod_ajp connected and sent a request to Tomcat but
> didn't get anything back in response. This is classic error 500 scenario
> when the backend is too busy to respond. I don't think anything is wrong
> with mod_ajp if any bug it would had been caught till now and solved ages
> ago since this module has been in the mainstream for quit a time now.
>
> I think you need to focus all your attention to the Tomcat side or more
> specific I would say your application. Something is keeping the threads
> busy for too long and from my experience it is usually something to do with
> database. If your application connects and deals with some kind of database
> that's where I would start from i.e. application not closing connections,
> long running queries etc. To start with you can take a thread dump in
> Tomcat at the moment you get the errors and check what the threads are
> doing at that time.
>
> You can try increasing the thread count on Tomcat side to 1500 (if the
> server memory resources permit that) but that will just postpone the
> errors. The best thing is to debug your application and solve the problem
> there.
>
> In the Tomcat configuration I personally can't see anything wrong. Have you
> tried using the "org.apache.coyote.ajp.AjpProtocol" instead the APR one and
> see if that makes any difference?
>
> Cheers,
> Igor
>

--e89a8fb1ef5619447e04c5d0b5e3--

From users-return-235713-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 14:42:11 2012
Return-Path: <users-return-235713-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7803ED2D0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 14:42:11 +0000 (UTC)
Received: (qmail 96999 invoked by uid 500); 27 Jul 2012 14:42:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96941 invoked by uid 500); 27 Jul 2012 14:42:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96922 invoked by uid 99); 27 Jul 2012 14:42:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:42:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 14:42:00 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id fQcC1j00D1c6gX851Shhbj; Fri, 27 Jul 2012 14:41:42 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id fShS1j00A38FjT13jShTJa; Fri, 27 Jul 2012 14:41:28 +0000
Message-ID: <5012A8A0.2060007@christopherschultz.net>
Date: Fri, 27 Jul 2012 10:41:36 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Permanent servlet in TC7
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp> <50119C9F.9010601@christopherschultz.net> <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
In-Reply-To: <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chip,

On 7/26/12 3:54 PM, Chip McVey wrote:
> I have read that Tomcat does not unload servlets (even though it 
> would be permissible to do so), but as you say, I have done some 
> logging in the destroy method, and I see this behavior.

Can you give us a stack trace of that event?

> A certain servlet within app B & C (let's call them B1 and C1) upon
>  init make a call to a servlet in app A (let's call it A1). What I 
> see is A1, B1, and C1 all initialize. The init is done by a thread 
> called " pool-2-thread-1", which seems like a system thread.  Ok no
>  problem.
> 
> Then, for some reason, A1's destroy method is called, and it is 
> called by a thread named " http-apr-8080-exec-3", making me think
> it is being called by a thread processing the request for either B1
> or C1, since no other requests from anyone outside of B or C have 
> happened yet.

http-apr-8080-exec-3 should be a request-processing thread, which has no
business calling destroy() on a servlet.

> After destroy winds down, then, A1's init method is called by a 
> thread named " http-apr-8080-exec-11" - another request processing
>  thread I assume.

Yes. This is probably happening because the servlet needs to be brought
(back) into service.

> Everything all works out in the end, and after that I don't see
> A1, B1, or C1 ever destroyed - but am I guaranteed that they won't
> ever be destroyed again unless TC is shutdown or they are manually 
> unloaded?

There are no guarantees, but Tomcat shouldn't randomly unloading your
servlets.

Do you only see one of these (surprising) unloads, or do they happen a
lot over time?

> I understand that given servlets can by spec go up & down, maybe 
> using them was not the right choice for an application that needs 
> permanency, but we're too late in development to make that switch 
> now.

Is your webapp somehow being damaged by these unload operations? A
servlet should be fairly lightweight, and the init method "should" run
very quickly.

> So I'm looking for a guarantee that no automatic destroys will 
> happen going forward just because Tomcat decides to do it on its 
> own.

You will never get that guarantee, because the servlet spec does not
require it.

> If it is instructed to shutdown/undeploy/unload by some outside 
> system or by a human user, that's fine, I'm not worried about
> that. But I don't want these servlets to be destroyed just because
> Tomcat decides to do so for whatever reason.

Sorry, you can't control that. What you can do is architect your
application in such a way that it doesn't matter.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlASqKAACgkQ9CaO5/Lv0PCcAQCfTz5FSmH+dangfTdWWu0urO2T
a+wAoMRX9W77BTrJMphN6OJUKTBsVVsL
=Si2b
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235714-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 16:06:20 2012
Return-Path: <users-return-235714-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 668ECD1CE
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 16:06:20 +0000 (UTC)
Received: (qmail 27381 invoked by uid 500); 27 Jul 2012 16:06:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27236 invoked by uid 500); 27 Jul 2012 16:06:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27225 invoked by uid 99); 27 Jul 2012 16:06:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 16:06:16 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 16:06:10 +0000
Received: by yenl1 with SMTP id l1so4149927yen.18
        for <users@tomcat.apache.org>; Fri, 27 Jul 2012 09:05:49 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=vJFtWTkUpYC9B7TmOp0v8KoXwnuH2jcR0hySTZB6sDQ=;
        b=aSmFD36nH8gfToUU+TLcFXHKj1KBtesPtawYklibR/2ZNYm7pAtVRPy9yCzn+qo9+O
         3yoZpZ5WNfyW67XPXOz/K1PvKPJObE6i2Xj3GgFmWxiogmfqV/W5aMfTT/SQxdA5TO+4
         NQdGrrl9XTQEuaIiUfHfHdlmAgw0UCnLOHIzmI3JzYTgkugnHD6jooasDDD6KbCsUyrH
         JQFHXAX0PctWJcnEsW/3mfKRwimWiOE7bXz4K/5gpNVVtjbj2Vkkx+z19uMgXeUlluhc
         VSRsm0BpotDwx96fo8BDPqqRDOXvjcCOp8ekjlomI4X8q9kLCzqjGirHbk2QYkBaY9Bi
         SO2g==
MIME-Version: 1.0
Received: by 10.43.92.71 with SMTP id bp7mr1999295icc.52.1343405148603; Fri,
 27 Jul 2012 09:05:48 -0700 (PDT)
Received: by 10.43.48.9 with HTTP; Fri, 27 Jul 2012 09:05:48 -0700 (PDT)
Received: by 10.43.48.9 with HTTP; Fri, 27 Jul 2012 09:05:48 -0700 (PDT)
In-Reply-To: <CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>
References: <CAC7UXK_ycy402o4OmWpgKG+-akfjdONm5o8dt5mygBVtkubWMQ@mail.gmail.com>
	<5011AC8E.1020609@kippdata.de>
	<CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>
Date: Fri, 27 Jul 2012 21:35:48 +0530
Message-ID: <CAGcL9UNUoU88jB4pFd4RwyJfxp3Mc1tAyH5RdMMVqjk6OUWmeA@mail.gmail.com>
Subject: Re: Happy Birthday, Chuck!
From: Kiran Badi <kiran@poonam.org>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec5186bf6ac060004c5d1e22b
X-Gm-Message-State: ALoCoQlYu7eTWNL3N/BioDnNI5Mhc+N0PQ/V9OzYqdMXOwLP5/PV/BAEBttfAWQ1yvAkkWkKdwpY

--bcaec5186bf6ac060004c5d1e22b
Content-Type: text/plain; charset=ISO-8859-1

please accept my best wishes. chuck.
On Jul 27, 2012 3:19 AM, "Leon Rosenberg" <rosenberg.leon@gmail.com> wrote:

> Maybe a little bit late, but still!
> Happy Birthday Chuck!
> Leon
>
> On Thu, Jul 26, 2012 at 10:46 PM, Rainer Jung <rainer.jung@kippdata.de>
> wrote:
> > On 26.07.2012 15:46, Gregor S. wrote:
> >>
> >> Hi Chuck,
> >>
> >> thanks again for your valuable comments on this list, and keep it up!
> >>
> >> Cheers!
> >
> >
> > +2 !
> >
> > Rainer
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec5186bf6ac060004c5d1e22b--

From users-return-235715-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 16:59:08 2012
Return-Path: <users-return-235715-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C54C8D063
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 16:59:08 +0000 (UTC)
Received: (qmail 68879 invoked by uid 500); 27 Jul 2012 16:59:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68815 invoked by uid 500); 27 Jul 2012 16:59:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68806 invoked by uid 99); 27 Jul 2012 16:59:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 16:59:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.86.89.63] (HELO elasmtp-junco.atl.sa.earthlink.net) (209.86.89.63)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 16:58:57 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-junco.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1Sunrp-00016L-3G; Fri, 27 Jul 2012 12:58:21 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
Cc: Java Programming on and around the iSeries / AS400 <java400-l@midrange.com>
In-Reply-To: <5011A9C9.60607@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>
	 <1343152199.3018.340.camel@dellberry> <501168CE.7030907@touchtonecorp.com>
	 <1343321376.3018.475.camel@dellberry>  <5011A9C9.60607@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-YAw/ezUvJgzFeR6hy50K"
Organization: Clifton Farm
Date: Fri, 27 Jul 2012 12:58:25 -0400
Message-ID: <1343408305.3018.623.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a094a1fba2e6826f4ae34702530bcce501350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29

--=-YAw/ezUvJgzFeR6hy50K
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Thu, 2012-07-26 at 13:34 -0700, James Lampert wrote:
> Tim Watts wrote:
>=20
> > import java.io.File;
> > import java.net.URL;
> > import java.net.URLClassLoader;
> >=20
> > public class FindClass {
> >         public static void main(String[] args) {
> >                 try {
> >                         URLClassLoader loader =3D new URLClassLoader(
> >                                 new URL[] {new File("/wintouch/tomcat/l=
ib/catalina.jar").toURI().toURL()});
> >                         loader.loadClass(args[0]);
> >                         System.out.println("URLClassLoader found class =
'" +args[0] +"'");
> >                 }
> >                 catch (Exception e) {
> >                         e.printStackTrace();
> >                 }
> >         }
> > }=20
>=20
> I tried it. I'm surprised I was able to get it to compile and run on=20
> only the second try (the first try, I had left the stream file editor in=20
> the default EBCDIC codepage when I pasted in your source, which JAVAC,=20
> not surprisingly, didn't like at all).
>=20
> At any rate, I get:
>=20
> > java FindClass org.apache.catalina.startup.Catalina             =20
> > URLClassLoader found class 'org.apache.catalina.startup.Catalina'
>=20
OK, so the JVM classloader seems to work.  This is basically identical
to the one used by the bootstrapper.  Which suggests that some/all of
the Tomcat config files are messed up.  Again, are these in EBCDIC or
ASCII?  I presume the unix environment on AS/400 wants ASCII files
generally -- or at least the java stuff does?  And you're sure that's
what you're providing?  You can take a hex dump of, say,
conf/catalina.properties and confirm that?  This would be important to
know.

>=20
> And so far as I can determine without doing a clean install of Tomcat,=20
> nothing is customized at all, at this point, other than maybe setting=20
> port numbers (which it isn't even getting to, yet), and adding your=20
> diagnostic lines in logging.properties.
>=20
> Paul Holm, on the Midrange.com Java list, suggested turning on verbose=20
> mode on Java; I'm not entirely sure how I would even do that for Tomcat.
>=20
He probably means -verbose:class .  You could add this to CATALINA_OPTS
or JAVA_OPTS in a bin/setenv.sh script:=20

	export CATALINA_OPTS=3D"-verbose:class"

It will spit out a lot of data but I don't think that will tell us
anything new at this point.

> What would be the next step?
>=20
Don't know how feasible Chris' suggestion would be for you but if you
can boot up a virtual OS such as Linux under AS/400 that might be the
easiest thing to get something working.  Of course, it could also just
be the opening of the next can of worms...

Otherwise, I would go with a clean install.  If you have to let someone
else do the install, download your own copy of the same Tomcat version
and do diffs on bin/*.sh and conf/.  It's hard to offer any useful help
if we don't know what environment we're dealing with.  Also, make sure
no text file conversions occur when unpacking the zip file (e.g. don't
use unzip's -a  option) -- assuming my presumption about the unix env is
correct.=20


> --
> JHHL
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-YAw/ezUvJgzFeR6hy50K
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQEsixAAoJEAfDBXDHBQillqIH/ihscszbsTgDVUggW5nFj6fO
JVCCzWW+6rdVA+MQJ4O3kKcxrkvwT8k60sO2zi/SDKMNDllKDTRqZP6j5+FZrhKz
lsKOKMNfonCF8dm3WVnY941a+kinDoz565IDwP3LGAjUc+sd3BCTQl+sP0JFxtGS
xyBVlBg7gxKG4BY1EqQOfM2VK7ugIUwWtXbzSIPzKAeNUln0DNmkymVkKlz0E9PS
g5DvNKr1+1X4xO1r5nogeHvnT1tDYAjGDwswoy1pWrecLGee7T3LG6P+l3kXi7OV
95qdWNpHqVi8gPSwXuqHrHqWTgr4VecXpDEqFF6FT7DdI1xHHkQ8Mw0FZX1yLUw=
=NZuq
-----END PGP SIGNATURE-----

--=-YAw/ezUvJgzFeR6hy50K--


From users-return-235716-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 20:56:04 2012
Return-Path: <users-return-235716-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04E21DDBD
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 20:56:04 +0000 (UTC)
Received: (qmail 94677 invoked by uid 500); 27 Jul 2012 20:56:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94642 invoked by uid 500); 27 Jul 2012 20:56:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94633 invoked by uid 99); 27 Jul 2012 20:56:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 20:56:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ben@souther.us designates 74.119.145.130 as permitted sender)
Received: from [74.119.145.130] (HELO solar.assortedinternet.com) (74.119.145.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 20:55:52 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=souther.us; s=default;
	h=Mime-Version:Message-ID:Content-Transfer-Encoding:Content-Type:References:In-Reply-To:Date:To:From:Subject; bh=tTBQJR7ev0x3mwjxeUNDgYSaGuj1D2stY9KNEuM/xeY=;
	b=Jyi2g+GIh7fo7o/jGheDVc10jbSHzXzjqniAn9sPbzK4+y3teIQhXsQFLD4pBW9j81eqd1BjTbOdMf1dCbv2Dm+gkA2NlzX41uipJZUhixDvZUgcnDW8VEyPPfvOJT33;
Received: from [75.147.4.177] (port=31144 helo=[192.168.0.53])
	by solar.assortedinternet.com with esmtpa (Exim 4.77)
	(envelope-from <ben@souther.us>)
	id 1SurZL-0004Ay-QR
	for users@tomcat.apache.org; Fri, 27 Jul 2012 16:55:32 -0400
Subject: RE: Permanent servlet in TC7
From: Ben Souther <ben@souther.us>
To: users@tomcat.apache.org
Date: Fri, 27 Jul 2012 16:55:30 -0400
In-Reply-To: <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
References: 
	<774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
	 <50119C9F.9010601@christopherschultz.net>
	 <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.0.2 (3.0.2-3.fc15) 
Content-Transfer-Encoding: 7bit
Message-ID: <1343422531.13485.32.camel@localhost.localdomain>
Mime-Version: 1.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - solar.assortedinternet.com
X-AntiAbuse: Original Domain - tomcat.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - souther.us
X-Source: 
X-Source-Args: 
X-Source-Dir: 

On Thu, 2012-07-26 at 19:54 +0000, Chip McVey wrote:
> So I'm looking for a guarantee that no automatic destroys will happen
> going forward just because Tomcat decides to do it on its own.  If it
> is instructed to shutdown/undeploy/unload by some outside system or by
> a human user, that's fine, I'm not worried about that.  But I don't
> want these servlets to be destroyed just because Tomcat decides to do
> so for whatever reason.

If I were looking for permanence, I would create POJO, bind it to
context scope, and then call it from my servlets, passing it whatever it
needs to function.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235717-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 21:07:37 2012
Return-Path: <users-return-235717-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCA02DE8F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 21:07:37 +0000 (UTC)
Received: (qmail 27634 invoked by uid 500); 27 Jul 2012 21:07:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27597 invoked by uid 500); 27 Jul 2012 21:07:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27588 invoked by uid 99); 27 Jul 2012 21:07:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 21:07:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dwoosley@appnation.com designates 69.89.2.90 as permitted sender)
Received: from [69.89.2.90] (HELO appnationinc.virtual.vps-host.net) (69.89.2.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 21:07:29 +0000
Received-SPF: softfail (appnationinc.virtual.vps-host.net: domain of transitioning dwoosley@appnation.com does not designate 72.202.203.43 as permitted sender) receiver=appnationinc.virtual.vps-host.net; client-ip=72.202.203.43; helo=[192.168.1.4]; envelope-from=dwoosley@appnation.com; x-software=spfmilter 0.97 http://www.acme.com/software/spfmilter/ with libspf2-1.0.0;
Received: from [192.168.1.4] (ip72-202-203-43.fv.ks.cox.net [72.202.203.43])
	by appnationinc.virtual.vps-host.net (8.14.4/8.14.4) with ESMTP id q6RL6wOw016040
	for <users@tomcat.apache.org>; Fri, 27 Jul 2012 17:06:58 -0400
Message-ID: <501302F2.7010006@appnation.com>
Date: Fri, 27 Jul 2012 16:06:58 -0500
From: David Woosley <dwoosley@appnation.com>
Reply-To: dwoosley@appnation.com
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Context variation problems -- localhost versus VPS
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I cannot determine a consistent way to define web applications for the 
Tomcat configuration:

Development localhost: Tomcat 5.5.9
Production remote VPS: Tomcat 5.5.3

========== DEVELOPMENT configuration (localhost)

c:\hello\myapps\cat
     META-INF
         context.xml
     WEB-INF
     index.jsp

c:\hello\myapps\dog
     META-INF
         context.xml
     WEB-INF
     index.jsp

The Tomcat configuration (no changes to server.xml) looks like this:

tomcat/conf/Catalina/localhost/cat.xml
tomcat/conf/Catalina/localhost/dog.xml

========== PRODUCTION configuration (VPS)

/fast/pets/cat
     META-INF
         context.xml
     WEB-INF
     index.jsp

/slow/pets/dog
     META-INF
         context.xml
     WEB-INF
     index.jsp

And Tomcat, again no changes to server.xml:

tomcat/conf/Catalina/cat.com/how_do_i_name_this_file.xml
tomcat/conf/Catalina/dog.com/ditto_for_this_file_too.xml

========== MY COMMENTS/QUESTIONS:

(1) Please note that I am not using any "webapps" or "ROOT" folders.  If 
they are not required, I do not want them.  If they are absolutely 
required (for technical reasons, not best practices), then I will use 
them.  I can institute best practices later.

(2) How should the contexts be configured in each situation?  What are 
the proper file names?  And, what are the "docbase" and "path" 
attributes for the Context element(s)?

(3) Once I get Tomcat configured correctly in each environment, is it 
necessary to have META-INF/context.xml at all?

========== CONCLUSION:

I own books on Tomcat.  I have read the documentation, over and over.  I 
must be missing something because the variations -- which I understand, 
in theory -- do not work in practice.  Your help is appreciated.

Regards,

David Woosley
AppNation Inc.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235718-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 21:31:51 2012
Return-Path: <users-return-235718-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58B8CCE75
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 21:31:51 +0000 (UTC)
Received: (qmail 96642 invoked by uid 500); 27 Jul 2012 21:31:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96599 invoked by uid 500); 27 Jul 2012 21:31:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96589 invoked by uid 99); 27 Jul 2012 21:31:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 21:31:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [204.187.63.106] (HELO mail.evertz.com) (204.187.63.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 21:31:39 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Speeding up RMI calls
Date: Fri, 27 Jul 2012 17:31:17 -0400
Message-ID: <13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv>
In-Reply-To: <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up RMI calls
Thread-Index: Ac1gdHIE0EXYGaAhT0Om0UiNCU9qOgC7cn7wAjaiVUA=
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv> <4FFF3FEB.9070700@pidster.com> <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>
From: "Andrew Kujtan" <akujtan@evertz.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

> > On 09/07/2012 16:55, Andrew Kujtan wrote:
> > > Tomcat Version: 7.0.27
> > >
> > > OS: Windows XP/7
> > > I'm fixing an issue we are having with a webapp that does some
> > > communication over RMI with a remote  server. Calls that would be
> > > instant in similar applications not inside the tomcat container
are
> > > taking more than 30 seconds when called from tomcat. After
> debugging
> > > I've found that  when an RMI call is made, the classlist
containing
> > > all the jars in the webapp lib folders is being serialized with
the
> > data.
> > > Which wouldn't be a problem normally, except the webapp has >300
> jars
> > > in its lib folder.
> >
> > In the other similar applications, are there 300+ jars on the
> classpath
> > too?
> >
> >
> > p
>=20
> Yes they are there as well, but the RMI calls don't include them, or
> any
> urls
> for that matter.
>=20
> >
> > > The only solution I have found is to create a custom
> > WebAppClassloader
> > > that returns a zero length URL array on the getURLs() call. We
> don't
> > > do any dynamic class loading so breaking that is not a problem.
> > >
> > > My question is, is there any other way to resolve this, like a
> > > configuration property? If not, are there any problems that I am
> > going
> > > to introduce by overriding this method? Can I override the
> > classloader
> > > for just this webapp or am I stuck doing it for the entire tomcat
> > > instance?
> > >
> > >
> > >
> > > Thanks,
> > >
> > > Andrew Kujtan

I guess no one has run into this issue before, I've pushed it through
and am just overloading the classloader in the server.xml=20

Hopefully this doesn't break anything.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235719-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Jul 27 22:02:25 2012
Return-Path: <users-return-235719-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4F2BCF1F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 27 Jul 2012 22:02:25 +0000 (UTC)
Received: (qmail 62898 invoked by uid 500); 27 Jul 2012 22:02:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62823 invoked by uid 500); 27 Jul 2012 22:02:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62813 invoked by uid 99); 27 Jul 2012 22:02:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 22:02:22 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.83 as permitted sender)
Received: from [216.82.241.83] (HELO mail37.messagelabs.com) (216.82.241.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jul 2012 22:02:15 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-11.tower-37.messagelabs.com!1343426507!18899685!3
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 11764 invoked from network); 27 Jul 2012 22:01:49 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-11.tower-37.messagelabs.com with RC4-SHA encrypted SMTP; 27 Jul 2012 22:01:49 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 27 Jul 2012 17:01:48 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 27 Jul
 2012 17:01:48 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 27 Jul 2012 17:01:41 -0500
Subject: RE: Context variation problems -- localhost versus VPS
Thread-Topic: Context variation problems -- localhost versus VPS
Thread-Index: Ac1sO9rXR9AKm42nSS2NK/mn9goZDAABRFvw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB035BD6E32@USEA-EXCH8.na.uis.unisys.com>
References: <501302F2.7010006@appnation.com>
In-Reply-To: <501302F2.7010006@appnation.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: David Woosley [mailto:dwoosley@appnation.com]=20
> Subject: Context variation problems -- localhost versus VPS

> Development localhost: Tomcat 5.5.9

7.3 years old.

> Production remote VPS: Tomcat 5.5.3

7.9 years old

You are in serious need of an upgrade.  It's probably pointless to even loo=
k at anything so ancient and that's had so many fixes applied to it in the =
intervening years.  5.5 is also nearing end-of-life, so move up - now.

> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D DEVELOPMENT configuration (localhost)
> c:\hello\myapps\cat
>      META-INF
>          context.xml

The above context.xml file is probably being ignored.

> c:\hello\myapps\dog
>      META-INF
>          context.xml

The above context.xml file is also being ignored.

> The Tomcat configuration (no changes to server.xml) looks like this:
> tomcat/conf/Catalina/localhost/cat.xml
> tomcat/conf/Catalina/localhost/dog.xml

What's in those files?  Telling us file names doesn't say much.

> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D PRODUCTION configuration (VPS)
> /fast/pets/cat
>      META-INF
>          context.xml

Likely ignored, as above.

> /slow/pets/dog
>      META-INF
>          context.xml

Again, ignored.

> And Tomcat, again no changes to server.xml:
> tomcat/conf/Catalina/cat.com/how_do_i_name_this_file.xml
> tomcat/conf/Catalina/dog.com/ditto_for_this_file_too.xml

What's in those files?  If you have no changes to server.xml, they are bein=
g ignored.

> Please note that I am not using any "webapps" or "ROOT" folders.

You *must* have a webapp named ROOT - no exceptions.

> How should the contexts be configured in each situation?

Depends on what you want to do - which you haven't told us.  For example, w=
hat URLs do you want the webapps to be accessed with?

> what are the "docbase" and "path" attributes for the Context=20
> element(s)?

The path attribute is almost always illegal, and the docBase (not docbase -=
 it's case sensitive, even on Windows) is valid only if the <Context> eleme=
nt is in server.xml (not recommended) or conf/Catalina/<host>/<appName>.xml=
.

> Once I get Tomcat configured correctly in each environment,=20
> is it necessary to have META-INF/context.xml at all?

Depends on what your requirements are.  This is probably useful, although i=
t contains some tangential information:
http://wiki.apache.org/tomcat/TomcatDevelopmentVirtualHosts

You really, really, really need to upgrade, then work on the configuration.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235720-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 02:03:10 2012
Return-Path: <users-return-235720-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A723ACB78
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 02:03:10 +0000 (UTC)
Received: (qmail 95975 invoked by uid 500); 28 Jul 2012 02:03:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95924 invoked by uid 500); 28 Jul 2012 02:03:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95913 invoked by uid 99); 28 Jul 2012 02:03:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 02:03:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dwoosley@appnation.com designates 69.89.2.90 as permitted sender)
Received: from [69.89.2.90] (HELO appnationinc.virtual.vps-host.net) (69.89.2.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 02:02:59 +0000
Received-SPF: softfail (appnationinc.virtual.vps-host.net: domain of transitioning dwoosley@appnation.com does not designate 72.202.203.43 as permitted sender) receiver=appnationinc.virtual.vps-host.net; client-ip=72.202.203.43; helo=[192.168.1.4]; envelope-from=dwoosley@appnation.com; x-software=spfmilter 0.97 http://www.acme.com/software/spfmilter/ with libspf2-1.0.0;
Received: from [192.168.1.4] (ip72-202-203-43.fv.ks.cox.net [72.202.203.43])
	by appnationinc.virtual.vps-host.net (8.14.4/8.14.4) with ESMTP id q6S22Rvk014017
	for <users@tomcat.apache.org>; Fri, 27 Jul 2012 22:02:27 -0400
Message-ID: <50134834.1010507@appnation.com>
Date: Fri, 27 Jul 2012 21:02:28 -0500
From: David Woosley <dwoosley@appnation.com>
Reply-To: dwoosley@appnation.com
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context variation problems -- localhost versus VPS
References: <501302F2.7010006@appnation.com> <99C8B2929B39C24493377AC7A121E21FB035BD6E32@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FB035BD6E32@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Charles,

Excellent response.  Thank you.

Tomcat 5.5 deployment seems somewhat confusing to me.  I will upgrade as 
soon as possible which, unfortunately, is easier said than done.

Do you offer consulting services for things like this?

Regards,

David Woosley
Mobile: 479-252-1200



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235721-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 05:07:15 2012
Return-Path: <users-return-235721-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F9ACCA21
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 05:07:15 +0000 (UTC)
Received: (qmail 96252 invoked by uid 500); 28 Jul 2012 05:07:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95934 invoked by uid 500); 28 Jul 2012 05:07:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95894 invoked by uid 99); 28 Jul 2012 05:07:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 05:07:09 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 05:06:59 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-8.tower-29.messagelabs.com!1343451996!23974261!6
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.2; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 12833 invoked from network); 28 Jul 2012 05:06:38 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-8.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 28 Jul 2012 05:06:38 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sat, 28 Jul 2012 00:06:15 -0500
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Sat, 28 Jul
 2012 00:06:15 -0500
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sat, 28 Jul 2012 00:06:07 -0500
Subject: RE: Context variation problems -- localhost versus VPS
Thread-Topic: Context variation problems -- localhost versus VPS
Thread-Index: Ac1sZSTDrpUZiMtLQYWmGcxfK3U6KAAFspxw
Message-ID: <99C8B2929B39C24493377AC7A121E21FB035C56B23@USEA-EXCH8.na.uis.unisys.com>
References: <501302F2.7010006@appnation.com>
 <99C8B2929B39C24493377AC7A121E21FB035BD6E32@USEA-EXCH8.na.uis.unisys.com>
 <50134834.1010507@appnation.com>
In-Reply-To: <50134834.1010507@appnation.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: David Woosley [mailto:dwoosley@appnation.com]=20
> Subject: Re: Context variation problems -- localhost versus VPS

> Tomcat 5.5 deployment seems somewhat confusing to me.

It's the same in 5.5, 6.0, and 7.0, with more options available in 7.  Basi=
cally, the rules to follow are:

1) Don't put <Context> elements in server.xml.

2) Do not specify a path attribute in a <Context> element.

3) Every <Host> must have a default (ROOT) webapp.

4) The name of the .war file or directory under a <Host>'s appBase director=
y determines the URL path of the webapp, except that ROOT (case-sensitive) =
becomes the default webapp.  It is not required to have anything under the =
<Host> appBase directory; see alternative below.

5) For webapps deployed under a <Host>'s appBase directory, do not specify =
a docBase attribute in any <Context> element for them.

6) A <Context> element in conf/Catalina/<host_name>/<app_name>.xml will sup=
ersede the META-INF/context.xml file within the webapp.

7) For webapps not deployed under a <Host>'s appBase directory, create a co=
nf/Catalina/<host_name>/<app_name>.xml file containing a <Context> element =
with a docBase attribute pointing to the absolute location of the webapp (d=
irectory or .war file).

Most (all?) of the books on Tomcat contain some errors or recommend outdate=
d practices; use the online Tomcat docs.

> I will upgrade as soon as possible which, unfortunately, is easier=20
> said than done.

Read the migration guide:
http://tomcat.apache.org/migration.html

> Do you offer consulting services for things like this?

Other than on this list, no; others on the list might.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235722-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 08:29:59 2012
Return-Path: <users-return-235722-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2F4CD5C8
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 08:29:59 +0000 (UTC)
Received: (qmail 9547 invoked by uid 500); 28 Jul 2012 08:29:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9354 invoked by uid 500); 28 Jul 2012 08:29:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9343 invoked by uid 99); 28 Jul 2012 08:29:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 08:29:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.29] (HELO smtpout.wanadoo.co.uk) (80.12.242.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 08:29:46 +0000
Received: from mail.homeinbox.net ([2.24.223.53])
	by mwinf5d15 with ME
	id fkVQ1j00J19kKC203kVQMj; Sat, 28 Jul 2012 10:29:25 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 59C71EAB771
	for <users@tomcat.apache.org>; Sat, 28 Jul 2012 09:29:24 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Be0k4ik2Tg+a for <users@tomcat.apache.org>;
	Sat, 28 Jul 2012 09:29:08 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id D913EEAB72F
	for <users@tomcat.apache.org>; Sat, 28 Jul 2012 09:29:07 +0100 (BST)
Message-ID: <5013A2CB.1030101@apache.org>
Date: Sat, 28 Jul 2012 09:28:59 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context variation problems -- localhost versus VPS
References: <501302F2.7010006@appnation.com> <99C8B2929B39C24493377AC7A121E21FB035BD6E32@USEA-EXCH8.na.uis.unisys.com> <50134834.1010507@appnation.com>
In-Reply-To: <50134834.1010507@appnation.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 28/07/2012 03:02, David Woosley wrote:
> Charles,
> 
> Excellent response.  Thank you.
> 
> Tomcat 5.5 deployment seems somewhat confusing to me.  I will upgrade as
> soon as possible which, unfortunately, is easier said than done.
> 
> Do you offer consulting services for things like this?

http://wiki.apache.org/tomcat/SupportAndTraining

Other support and consulting services are available.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235723-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 14:02:45 2012
Return-Path: <users-return-235723-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A08BC43C
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 14:02:45 +0000 (UTC)
Received: (qmail 58368 invoked by uid 500); 28 Jul 2012 14:02:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58311 invoked by uid 500); 28 Jul 2012 14:02:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58301 invoked by uid 99); 28 Jul 2012 14:02:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 14:02:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.101 as permitted sender)
Received: from [65.55.111.101] (HELO blu0-omc2-s26.blu0.hotmail.com) (65.55.111.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 14:02:33 +0000
Received: from BLU142-W26 ([65.55.111.72]) by blu0-omc2-s26.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sat, 28 Jul 2012 07:02:12 -0700
Message-ID: <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_4bbfb96b-03a9-4633-9d7a-cdc783858e3a_"
X-Originating-IP: [190.155.13.74]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Speeding up RMI calls
Date: Sat, 28 Jul 2012 10:02:12 -0400
Importance: Normal
In-Reply-To:
 <13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv>
References:
 <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv>
 <4FFF3FEB.9070700@pidster.com>
 <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>,<13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv>
MIME-Version: 1.0
X-OriginalArrivalTime: 28 Jul 2012 14:02:12.0753 (UTC) FILETIME=[962F7010:01CD6CC9]
X-Virus-Checked: Checked by ClamAV on apache.org

--_4bbfb96b-03a9-4633-9d7a-cdc783858e3a_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Andrew

It *sounds* like you are battling a network latency problem
Can you identify the target RMI server then do a simple tracert from client=
 to RMI Server to determine which intermediate node is causing the delay?

Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> Subject: RE: Speeding up RMI calls
> Date: Fri=2C 27 Jul 2012 17:31:17 -0400
> From: akujtan@evertz.com
> To: users@tomcat.apache.org
>=20
> > > On 09/07/2012 16:55=2C Andrew Kujtan wrote:
> > > > Tomcat Version: 7.0.27
> > > >
> > > > OS: Windows XP/7
> > > > I'm fixing an issue we are having with a webapp that does some
> > > > communication over RMI with a remote  server. Calls that would be
> > > > instant in similar applications not inside the tomcat container
> are
> > > > taking more than 30 seconds when called from tomcat. After
> > debugging
> > > > I've found that  when an RMI call is made=2C the classlist
> containing
> > > > all the jars in the webapp lib folders is being serialized with
> the
> > > data.
> > > > Which wouldn't be a problem normally=2C except the webapp has >300
> > jars
> > > > in its lib folder.
> > >
> > > In the other similar applications=2C are there 300+ jars on the
> > classpath
> > > too?
> > >
> > >
> > > p
> >=20
> > Yes they are there as well=2C but the RMI calls don't include them=2C o=
r
> > any
> > urls
> > for that matter.
> >=20
> > >
> > > > The only solution I have found is to create a custom
> > > WebAppClassloader
> > > > that returns a zero length URL array on the getURLs() call. We
> > don't
> > > > do any dynamic class loading so breaking that is not a problem.
> > > >
> > > > My question is=2C is there any other way to resolve this=2C like a
> > > > configuration property? If not=2C are there any problems that I am
> > > going
> > > > to introduce by overriding this method? Can I override the
> > > classloader
> > > > for just this webapp or am I stuck doing it for the entire tomcat
> > > > instance?
> > > >
> > > >
> > > >
> > > > Thanks=2C
> > > >
> > > > Andrew Kujtan
>=20
> I guess no one has run into this issue before=2C I've pushed it through
> and am just overloading the classloader in the server.xml=20
>=20
> Hopefully this doesn't break anything.
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_4bbfb96b-03a9-4633-9d7a-cdc783858e3a_--

From users-return-235724-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 22:19:25 2012
Return-Path: <users-return-235724-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 337F892F4
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 22:19:25 +0000 (UTC)
Received: (qmail 2634 invoked by uid 500); 28 Jul 2012 22:19:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2573 invoked by uid 500); 28 Jul 2012 22:19:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2556 invoked by uid 99); 28 Jul 2012 22:19:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 22:19:21 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 22:19:13 +0000
Received: from [127.0.0.1] (208-191-157-48.lightspeed.austtx.sbcglobal.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id 774112016B
	for <users@tomcat.apache.org>; Sat, 28 Jul 2012 17:18:52 -0500 (CDT)
Message-ID: <501465F6.7090808@tmbsw.com>
Date: Sat, 28 Jul 2012 17:21:42 -0500
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.4) Gecko/20100608 Thunderbird/3.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Context Documentation
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

  To make the context documentation page more readable, I suggest 
replacing the last preformatted block on the page with something like 
the following:

<div class="wrapped-code">
<code>
&lt;Context path="/mywebapp" 
docBase="/Users/theuser/mywebapp/src/main/webapp"&gt;

<div>
&lt;Resources
<p>className="org.apache.naming.resources.VirtualDirContext"</p>
<p>extraResourcePaths="/WEB-INF/classes=/Users/theuser/mywebapp/target/classes,<wbr>/pictures=/Users/theuser/mypictures,<wbr>/movies=/Users/theuser/mymovies"</p>
<p>/&gt;</p>
</div>

<div>
&lt;Loader
<p>className="org.apache.catalina.loader.VirtualWebappLoader"</p>
<p>virtualClasspath="/Users/theuser/mywebapp/target/classes;<wbr>/Users/theuser/mylib/target/classes;<wbr>/Users/theuser/.m2/repository/log4j/log4j/1.2.15/log4j-1.2.15.jar"</p>
<p>/&gt;</p>
</div>

<div>
&lt;JarScanner scanAllDirectories="true" /&gt;
</div>

&lt;/Context&gt;
</code>
</div>

with the corresponding style rules:

<style type="text/css">
<!--
.wrapped-code div { margin: 1em 0 0 1em; }
.wrapped-code p { margin: 0 0 0 2em; text-indent: -1em; }
.wrapped-code code { background-color: transparent; }
-->
</style>

The results may be compared with the original in the following locations:

     http://www.tmbsw.com/tomcat/html/context.html
     http://tomcat.apache.org/tomcat-7.0-doc/config/context.html

A more readable version of the HTML source is available here:

     http://www.tmbsw.com/tomcat/html/context.formatted.html

It may make sense to add a note indicating where spaces are and are not 
allowed in the attribute values.

What browser versions is Apache documentation required to support?  I've 
tested on IE7 and recent versions of Firefox and Chrome.  The 
text-indent style rule and <wbr> HTML element may be a problem on legacy 
browsers.

How would I go about submitting something like this?

-Terence Bandoian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235725-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Jul 28 22:28:53 2012
Return-Path: <users-return-235725-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43F80C295
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 28 Jul 2012 22:28:53 +0000 (UTC)
Received: (qmail 22012 invoked by uid 500); 28 Jul 2012 22:28:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21793 invoked by uid 500); 28 Jul 2012 22:28:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21782 invoked by uid 99); 28 Jul 2012 22:28:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 22:28:49 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jul 2012 22:28:42 +0000
Received: from [127.0.0.1] (208-191-157-48.lightspeed.austtx.sbcglobal.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id B3A6C2016B
	for <users@tomcat.apache.org>; Sat, 28 Jul 2012 17:28:21 -0500 (CDT)
Message-ID: <50146830.2080805@tmbsw.com>
Date: Sat, 28 Jul 2012 17:31:12 -0500
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.4) Gecko/20100608 Thunderbird/3.1
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Happy Birthday, Chuck!
References: <CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>
In-Reply-To: <CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

  On 1:59 PM, Leon Rosenberg wrote:
> Maybe a little bit late, but still!
> Happy Birthday Chuck!
> Leon
>
> On Thu, Jul 26, 2012 at 10:46 PM, Rainer Jung<rainer.jung@kippdata.de>  wrote:
>> On 26.07.2012 15:46, Gregor S. wrote:
>>> Hi Chuck,
>>>
>>> thanks again for your valuable comments on this list, and keep it up!
>>>
>>> Cheers!
>>
>> +2 !
>>
>> Rainer
>>


Hi, Charles-

Thanks for your contributions to this list.  They are definitely 
appreciated.

Happy B-day!

-Terence Bandoian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235726-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 29 00:30:17 2012
Return-Path: <users-return-235726-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB0E7D295
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 29 Jul 2012 00:30:16 +0000 (UTC)
Received: (qmail 20588 invoked by uid 500); 29 Jul 2012 00:30:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20529 invoked by uid 500); 29 Jul 2012 00:30:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20510 invoked by uid 99); 29 Jul 2012 00:30:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 00:30:12 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jessh@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 00:30:02 +0000
X-IronPort-AV: E=Sophos;i="4.77,673,1336363200"; 
   d="scan'208,217";a="121538202"
Received: from hq-ex3fe2.ptcnet.ptc.com ([132.253.201.63])
  by irp2.ptc.com with ESMTP; 28 Jul 2012 20:29:25 -0400
Received: from [10.196.0.164] ([132.253.201.117]) by HQ-EX3FE2.ptcnet.ptc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sat, 28 Jul 2012 20:29:24 -0400
Message-ID: <501483DD.7090202@ptc.com>
Date: Sat, 28 Jul 2012 19:29:17 -0500
From: Jess Holle <jessh@ptc.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Martin Gainty <mgainty@hotmail.com>
Subject: Re: Speeding up RMI calls
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv> <4FFF3FEB.9070700@pidster.com> <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>,<13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv> <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>
In-Reply-To: <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>
Content-Type: multipart/alternative;
 boundary="------------090109020301050409070701"
X-OriginalArrivalTime: 29 Jul 2012 00:29:24.0320 (UTC) FILETIME=[3458DE00:01CD6D21]

--------------090109020301050409070701
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

The only way I know to address this obnoxious issue is to create your 
own custom RMIClassLoaderSpi and install it early enough.

The custom RMIClassLoaderSpi is very simple:

       public String  getClassAnnotation( final Class cl )
       {
         return ( null );  // we don't need no stinking bloated RMI
    class annotations!
       }

otherwise the implementation can simply default to 
DefaultSpiHolder.instance.getDefaultSpi().

Of course, it is extremely silly that this issue has existed for many 
years and there's still no simple -Djava.rmi.disableClassAnnotations or 
the like.

--------------090109020301050409070701--

From users-return-235727-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 29 13:39:37 2012
Return-Path: <users-return-235727-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 753F2D3E7
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 29 Jul 2012 13:39:37 +0000 (UTC)
Received: (qmail 1300 invoked by uid 500); 29 Jul 2012 13:39:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 962 invoked by uid 500); 29 Jul 2012 13:39:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 930 invoked by uid 99); 29 Jul 2012 13:39:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 13:39:26 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.103 as permitted sender)
Received: from [65.55.111.103] (HELO blu0-omc2-s28.blu0.hotmail.com) (65.55.111.103)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 13:39:18 +0000
Received: from BLU142-W32 ([65.55.111.72]) by blu0-omc2-s28.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Sun, 29 Jul 2012 06:38:57 -0700
Message-ID: <BLU142-W32EF16415AF4FB46DABC6AAEC70@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_91e0fe1e-4233-4960-b69a-66b7dd410312_"
X-Originating-IP: [190.155.13.74]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Happy Birthday
Date: Sun, 29 Jul 2012 09:38:57 -0400
Importance: Normal
In-Reply-To: <50146830.2080805@tmbsw.com>
References:
 <CAE2_di06fAPy6EtX4SjGA2DjxOLSiDoO3hFJAqkaERiNMLQ1tQ@mail.gmail.com>,<50146830.2080805@tmbsw.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 29 Jul 2012 13:38:57.0585 (UTC) FILETIME=[81037210:01CD6D8F]

--_91e0fe1e-4233-4960-b69a-66b7dd410312_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


I never write Birthday Salutations (as they will probably be construed the =
wrong way) but i will make an exceptionHappy 51st Birthday Mr Obama

Martin ..
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.

 > Date: Sat=2C 28 Jul 2012 17:31:12 -0500
> From: terence@tmbsw.com
> To: users@tomcat.apache.org
> Subject: Re: Happy Birthday=2C Chuck!
>=20
>   On 1:59 PM=2C Leon Rosenberg wrote:
> > Maybe a little bit late=2C but still!
> > Happy Birthday Chuck!
> > Leon
> >
> > On Thu=2C Jul 26=2C 2012 at 10:46 PM=2C Rainer Jung<rainer.jung@kippdat=
a.de>  wrote:
> >> On 26.07.2012 15:46=2C Gregor S. wrote:
> >>> Hi Chuck=2C
> >>>
> >>> thanks again for your valuable comments on this list=2C and keep it u=
p!
> >>>
> >>> Cheers!
> >>
> >> +2 !
> >>
> >> Rainer
> >>
>=20
>=20
> Hi=2C Charles-
>=20
> Thanks for your contributions to this list.  They are definitely=20
> appreciated.
>=20
> Happy B-day!
>=20
> -Terence Bandoian
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_91e0fe1e-4233-4960-b69a-66b7dd410312_--

From users-return-235728-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Jul 29 22:39:57 2012
Return-Path: <users-return-235728-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD474C520
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 29 Jul 2012 22:39:56 +0000 (UTC)
Received: (qmail 3000 invoked by uid 500); 29 Jul 2012 22:39:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2924 invoked by uid 500); 29 Jul 2012 22:39:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2914 invoked by uid 99); 29 Jul 2012 22:39:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 22:39:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kkc4al@gmail.com designates 209.85.212.171 as permitted sender)
Received: from [209.85.212.171] (HELO mail-wi0-f171.google.com) (209.85.212.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jul 2012 22:39:46 +0000
Received: by wibhq4 with SMTP id hq4so989394wib.0
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 15:39:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=MJ1FW8AC+HYYEyb+gPuGSp5FkNLJ9hw2X6a8NdiVAq0=;
        b=uXPqFhM+oStGS/DcJdE9wPLYw7W7w5wz0WYWRVzPRHHcCUFWC8UZUzUUWiXDMSsd8E
         8SX11c+iQ2/TpOVfV80725iVRWhBPxchw2ajvic/JQqazDnpt5l7MiBC3RiHhBkwhsSW
         VupZviU1zpqoFTsSqlHI9NuTwZMAWWCLssvj+lOxLAdL/S49zM7rXKM1QJmllSe+MqJm
         e8bp+e41Uj+nTF41DzmWOulIx2RxzSobpSNiC/5n7RVC9xcNYCO1alItlh2kbIkJm1pY
         F2yJBfGHcwAVHMZsJOcJHKdrdIjI15oqHYxbkei6Hqsxz+P1LSTPgV9F0mJ/qWd53nk/
         mfew==
Received: by 10.216.74.21 with SMTP id w21mr4679889wed.77.1343601565377; Sun,
 29 Jul 2012 15:39:25 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.27.68 with HTTP; Sun, 29 Jul 2012 15:39:05 -0700 (PDT)
In-Reply-To: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
From: krishna chaitanya kurnala <kkc4al@gmail.com>
Date: Sun, 29 Jul 2012 15:39:05 -0700
Message-ID: <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
Subject: Pointing tomcat to a different timezone
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=001636e0a6a50623ed04c5ff9e20
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e0a6a50623ed04c5ff9e20
Content-Type: text/plain; charset=ISO-8859-1

Dear Tomcat Users,

I am deploying a Java Application in Tomcat, that is picking the wrong
Time-zone from OS. I did try to change the time settings at OS level.

while the OS is PDT
[root@sdc-cidev10 ~]# date
Sun Jul 29 15:16:41 PDT 2012

My Java App is still in Universal Time-zone. Can you please guide me on how
to set -Duser.timezone property for Tomcat?

Thanks in advance,
Krishna Chaitanya

--001636e0a6a50623ed04c5ff9e20--

From users-return-235729-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 00:19:51 2012
Return-Path: <users-return-235729-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EE4BED49B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 00:19:50 +0000 (UTC)
Received: (qmail 68064 invoked by uid 500); 30 Jul 2012 00:19:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67979 invoked by uid 500); 30 Jul 2012 00:19:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67969 invoked by uid 99); 30 Jul 2012 00:19:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:19:47 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of icicimov@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:19:39 +0000
Received: by yenl1 with SMTP id l1so5175914yen.18
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 17:19:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=D/VJnCWtmEJs0oQt5x8T4UNBTVkpcex4R8XrMfFMvKQ=;
        b=V/d37iuPs1ZG9uTgb/QT1U+x6ct/vj2N7zp2LDOJDlU7LiWfP+uUdQzlstEO4R9Yg7
         98pcDk3l8OsHaBOAt/XeJ4xgPHom1660FLQcFhuyxy5dYSZid5DL4p9w+BprA9tP34NW
         IvcyAptQ1q+4WE6Ikb+Nh2lpYsPtA3guDGmhozHAeG4HfzVbiYjooK2e4U3V+Wdc3kCc
         wFiQQEG5DQuCPodt7o4j3K3vJ73i9v/uRzlc8gSCudzvqmRKI3m1BNCq4j90Mp0uV0wM
         fq6OYjcRJ9D1ju4TZ0mNwpDawix/aNgwDijmAE63C2aSZupl2WjAPEuyMemsHGtcfuEK
         Jd3Q==
MIME-Version: 1.0
Received: by 10.50.195.234 with SMTP id ih10mr7103647igc.0.1343607558454; Sun,
 29 Jul 2012 17:19:18 -0700 (PDT)
Received: by 10.42.215.138 with HTTP; Sun, 29 Jul 2012 17:19:18 -0700 (PDT)
In-Reply-To: <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
	<CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
Date: Mon, 30 Jul 2012 10:19:18 +1000
Message-ID: <CAAKASGx9s_Ro9=FKXH2AA0ccFhcbH9QHe=JDo5jnzRS8cmSC+g@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
From: Igor Cicimov <icicimov@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934125b3d3ec604c60103de

--14dae934125b3d3ec604c60103de
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Jul 30, 2012 at 8:39 AM, krishna chaitanya kurnala <kkc4al@gmail.com
> wrote:

> Dear Tomcat Users,
>
> I am deploying a Java Application in Tomcat, that is picking the wrong
> Time-zone from OS. I did try to change the time settings at OS level.
>
> while the OS is PDT
> [root@sdc-cidev10 ~]# date
> Sun Jul 29 15:16:41 PDT 2012
>
> My Java App is still in Universal Time-zone. Can you please guide me on how
> to set -Duser.timezone property for Tomcat?
>
> Thanks in advance,
> Krishna Chaitanya
>

Can't you just use the TimeZone class in your app?

        String timeZoneId = "Australia/Sydney";
        TimeZone timeZone = TimeZone.getTimeZone(timeZoneId);


Is this Sun Oracle Java? Do you have the tzdata package installed?

--14dae934125b3d3ec604c60103de--

From users-return-235730-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 00:25:00 2012
Return-Path: <users-return-235730-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B64EDAB3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 00:25:00 +0000 (UTC)
Received: (qmail 79939 invoked by uid 500); 30 Jul 2012 00:24:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79720 invoked by uid 500); 30 Jul 2012 00:24:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79711 invoked by uid 99); 30 Jul 2012 00:24:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:24:56 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kkc4al@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:24:50 +0000
Received: by weyz53 with SMTP id z53so4484067wey.18
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 17:24:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=+i2CQ9NJVWEp4SX02Ytxh6CSzPsNf2ztB6dmF9NabGE=;
        b=ENcO/pmDuU4OodWgYFIjpE14ia0bhgdVb0f7N+Yl7vWZG5glZve7glkYCJJvwyzksP
         Irrit0xU/aGDFyK1g31cfHNEgAdORmYca4I9wxe1zSK24hMRdL3/bC2fTfu5GX6bhICl
         29ThWfrzbjo/iyl9d3e4Oqe2mpyeWtUmuIg1ROCYVqj6r0/WyO9R8WO+zHH78UTHgdcy
         wBf7SwtNq0NTmgnbbXYit8i8dmi0qpAzRimVp7vMxKihiDVZO9dsFTf/UkfZmRS5Q7t9
         bH/XBC1lMcyn6M0Qoqx/WmxVyu9upBHnJR+vx6zajA/RbG2q7d1ek+/gLRYjOrIe5IQu
         S8ow==
Received: by 10.181.13.100 with SMTP id ex4mr342892wid.1.1343607868913; Sun,
 29 Jul 2012 17:24:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.27.68 with HTTP; Sun, 29 Jul 2012 17:24:08 -0700 (PDT)
In-Reply-To: <CAAKASGx9s_Ro9=FKXH2AA0ccFhcbH9QHe=JDo5jnzRS8cmSC+g@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
 <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com> <CAAKASGx9s_Ro9=FKXH2AA0ccFhcbH9QHe=JDo5jnzRS8cmSC+g@mail.gmail.com>
From: krishna chaitanya kurnala <kkc4al@gmail.com>
Date: Sun, 29 Jul 2012 17:24:08 -0700
Message-ID: <CAFZnXL+a1nihZQTVs5Fk7OXz29xZ3SDxt8NvB8psKgYBAY+Hdg@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d043c7c66be76cf04c6011520
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043c7c66be76cf04c6011520
Content-Type: text/plain; charset=ISO-8859-1

Hello Igor

Thanks for your response :)
Request some more info to get started ..
Yes, I am using sun jdk 1.6 ... how do i verify installation of tzdata
package?

thanks,
Krishna Chaitanya


On Sun, Jul 29, 2012 at 5:19 PM, Igor Cicimov <icicimov@gmail.com> wrote:

> On Mon, Jul 30, 2012 at 8:39 AM, krishna chaitanya kurnala <
> kkc4al@gmail.com
> > wrote:
>
> > Dear Tomcat Users,
> >
> > I am deploying a Java Application in Tomcat, that is picking the wrong
> > Time-zone from OS. I did try to change the time settings at OS level.
> >
> > while the OS is PDT
> > [root@sdc-cidev10 ~]# date
> > Sun Jul 29 15:16:41 PDT 2012
> >
> > My Java App is still in Universal Time-zone. Can you please guide me on
> how
> > to set -Duser.timezone property for Tomcat?
> >
> > Thanks in advance,
> > Krishna Chaitanya
> >
>
> Can't you just use the TimeZone class in your app?
>
>         String timeZoneId = "Australia/Sydney";
>         TimeZone timeZone = TimeZone.getTimeZone(timeZoneId);
>
>
> Is this Sun Oracle Java? Do you have the tzdata package installed?
>

--f46d043c7c66be76cf04c6011520--

From users-return-235731-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 00:25:50 2012
Return-Path: <users-return-235731-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7BF9DF72
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 00:25:50 +0000 (UTC)
Received: (qmail 83738 invoked by uid 500); 30 Jul 2012 00:25:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83678 invoked by uid 500); 30 Jul 2012 00:25:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83669 invoked by uid 99); 30 Jul 2012 00:25:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:25:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:25:41 +0000
Received: by ghrr14 with SMTP id r14so5164287ghr.18
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 17:25:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EAA6ikTPOaVpxasqNzJrqcbok6r/jnUMiZFnxhA+ezE=;
        b=kzd2gsigVsyBVKLJo+eyVw1f7NJn9bmcwR2TVRUJwS96Uy8u8ktt+tPx4kJ04HI77C
         MIe/0y/bZ16SDZLBu6JW7dmY/cZ0w+3t8XNqw5AmxWZMW2NmM8Ik+oDtq3F7idTP0k74
         lrM4Af5urD4b+o/n+nMUpLNX74unaaJxlq4UAghESvneM+3WnsQtQ4Pu6OXngFloCH3Y
         hTfVGnxqyscLjRBOjUmRfE3yitBh6hsC7i7ow948s5OK+y7lE/lvXa1p268YVPv0A8bM
         wFLxiWVWXWhebawXC39CbHvpigpwln5jXgqCIcwdChAzQznudVZFENKLum8GCnegzcp2
         TJpQ==
MIME-Version: 1.0
Received: by 10.50.217.193 with SMTP id pa1mr9636946igc.39.1343607920235; Sun,
 29 Jul 2012 17:25:20 -0700 (PDT)
Received: by 10.42.84.71 with HTTP; Sun, 29 Jul 2012 17:25:20 -0700 (PDT)
In-Reply-To: <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
	<CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
Date: Mon, 30 Jul 2012 04:25:20 +0400
Message-ID: <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
> Dear Tomcat Users,
>
> I am deploying a Java Application in Tomcat, that is picking the wrong
> Time-zone from OS. I did try to change the time settings at OS level.
>
> while the OS is PDT
> [root@sdc-cidev10 ~]# date
> Sun Jul 29 15:16:41 PDT 2012


I suspect that you changed the timezone not for the OS, but for the
"root" user only.

Effectively you changed some shell environment variable. It may be
different for different users. So you have to look at the user that
actually starts Tomcat java process.

How to configure it depends on what version of Tomcat you are using
and on how it is installed.

Do not forget to restart Tomcat after the change.


>
> My Java App is still in Universal Time-zone. Can you please guide me on how
> to set -Duser.timezone property for Tomcat?

When you are saying that it is "still in UTC", what data are you looking at?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235732-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 00:36:03 2012
Return-Path: <users-return-235732-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 164C892ED
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 00:36:03 +0000 (UTC)
Received: (qmail 5087 invoked by uid 500); 30 Jul 2012 00:36:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5029 invoked by uid 500); 30 Jul 2012 00:35:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5020 invoked by uid 99); 30 Jul 2012 00:35:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:35:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kkc4al@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 00:35:53 +0000
Received: by wgbdr1 with SMTP id dr1so3573396wgb.0
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 17:35:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=0d+3nO82oQ50hiIsVyjO3Ec8FC9z3aMC/rFz33NDmuc=;
        b=IziF+XH7DpjIqlT0vU9aLznLMYbOq9XqXqKDIH0Zr0bSoFgSw+tGtxP4yI0ObhkziS
         bQypcqeiB4pnma480bJtxvWFvH9qW2Wb9lWlgfGNXXgQr4/F/9Vu2usKvfGUSvKyMfSA
         V4qOdJ/ZD9/e25daegkZp6xeXEFVd5nrzQjgT7ak1HSXZlOKdYr7d8Um/2OLbS4yITE7
         Dw//QphtAGgZj87EM8GMl96rKOfFGvHdqx9BwTyRGbb9Z7445btV9Ox2C6uXXKMMZMDr
         2YcjtchvOS+5+KXCtVkYiteIw3D5112Jp1knhKvMvGFKMW7dxVVNaut6EdAyVY4BFAiq
         ASdw==
Received: by 10.216.44.3 with SMTP id m3mr1082012web.129.1343608532899; Sun,
 29 Jul 2012 17:35:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.27.68 with HTTP; Sun, 29 Jul 2012 17:35:12 -0700 (PDT)
In-Reply-To: <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
 <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com> <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com>
From: krishna chaitanya kurnala <kkc4al@gmail.com>
Date: Sun, 29 Jul 2012 17:35:12 -0700
Message-ID: <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e0cb4e43d23752183004c6013d9f

--e0cb4e43d23752183004c6013d9f
Content-Type: text/plain; charset=ISO-8859-1

Hello Konstantin

I verified the timezone is same for both users:
[jenkinspan@sdc-cidev10 ~]$ date
Sun Jul 29 17:31:27 PDT 2012
[jenkinspan@sdc-cidev10 ~]$ sudo su - root
[root@sdc-cidev10 ~]# date
Sun Jul 29 17:31:39 PDT 2012

We are using " apache-tomcat-6.0.33 " I didnot do anything special but,
untar and ./startup.sh from bin folder.

Can you please guide me based on this info?

thanks,
Krishna Chaitanya


On Sun, Jul 29, 2012 at 5:25 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
> > Dear Tomcat Users,
> >
> > I am deploying a Java Application in Tomcat, that is picking the wrong
> > Time-zone from OS. I did try to change the time settings at OS level.
> >
> > while the OS is PDT
> > [root@sdc-cidev10 ~]# date
> > Sun Jul 29 15:16:41 PDT 2012
>
>
> I suspect that you changed the timezone not for the OS, but for the
> "root" user only.
>
> Effectively you changed some shell environment variable. It may be
> different for different users. So you have to look at the user that
> actually starts Tomcat java process.
>
> How to configure it depends on what version of Tomcat you are using
> and on how it is installed.
>
> Do not forget to restart Tomcat after the change.
>
>
> >
> > My Java App is still in Universal Time-zone. Can you please guide me on
> how
> > to set -Duser.timezone property for Tomcat?
>
> When you are saying that it is "still in UTC", what data are you looking
> at?
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e0cb4e43d23752183004c6013d9f--

From users-return-235733-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 01:21:50 2012
Return-Path: <users-return-235733-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 343AF9524
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 01:21:50 +0000 (UTC)
Received: (qmail 83835 invoked by uid 500); 30 Jul 2012 01:21:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83782 invoked by uid 500); 30 Jul 2012 01:21:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83773 invoked by uid 99); 30 Jul 2012 01:21:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 01:21:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 01:21:40 +0000
Received: by yhpp34 with SMTP id p34so5163488yhp.18
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 18:21:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=b0XEC22sIGxbXwOJo/W/+QReUQxWlig5qs6PuP/4hu8=;
        b=miDu208HgfFkuFHRegGW+LSP4ChyNwwLU1ySW0HTfLNXW1G+gY83uvyu0omDTz16cn
         EOv2cUYsgjj+fYHTN6KmmpH8N9J5fRLdcSPP/nYEit1wA7XrrgkH+tYJRJUe4eXQTMT7
         IH/dAi6///uYpDzOIulJTmOi1++846g2SVJwZao+AKf/or8e/775X64O51JGfw3RFV56
         Fzf1GRWrsdPn5inX2/jZFNPL/GT1i4gYXN7wV2GImxgoYtj7n8J09I+6ulLF1GwtmL+Q
         2HjeqEgzTUlZdZcR6PonXUOWicH6fdGBOVxKF9SL+3Lcbc9E2DrLDBUI/FNk/hq0RLt3
         DzNA==
MIME-Version: 1.0
Received: by 10.50.217.193 with SMTP id pa1mr9696420igc.39.1343611279169; Sun,
 29 Jul 2012 18:21:19 -0700 (PDT)
Received: by 10.42.84.71 with HTTP; Sun, 29 Jul 2012 18:21:19 -0700 (PDT)
In-Reply-To: <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
	<CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
	<CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com>
	<CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com>
Date: Mon, 30 Jul 2012 05:21:19 +0400
Message-ID: <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
> Hello Konstantin
>
> I verified the timezone is same for both users:
> [jenkinspan@sdc-cidev10 ~]$ date
> Sun Jul 29 17:31:27 PDT 2012
> [jenkinspan@sdc-cidev10 ~]$ sudo su - root
> [root@sdc-cidev10 ~]# date
> Sun Jul 29 17:31:39 PDT 2012
>
> We are using " apache-tomcat-6.0.33 " I didnot do anything special but,
> untar and ./startup.sh from bin folder.
>
> Can you please guide me based on this info?
>
> thanks,
> Krishna Chaitanya
>
>
> On Sun, Jul 29, 2012 at 5:25 PM, Konstantin Kolinko
> <knst.kolinko@gmail.com>wrote:
>
>> 2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
>> > Dear Tomcat Users,
>> >
>> > I am deploying a Java Application in Tomcat, that is picking the wrong
>> > Time-zone from OS. I did try to change the time settings at OS level.
>> >
>> > while the OS is PDT
>> > [root@sdc-cidev10 ~]# date
>> > Sun Jul 29 15:16:41 PDT 2012
>>
>>
>> I suspect that you changed the timezone not for the OS, but for the
>> "root" user only.
>>
>> Effectively you changed some shell environment variable. It may be
>> different for different users. So you have to look at the user that
>> actually starts Tomcat java process.
>>
>> How to configure it depends on what version of Tomcat you are using
>> and on how it is installed.
>>
>> Do not forget to restart Tomcat after the change.
>>
>>
>> >
>> > My Java App is still in Universal Time-zone. Can you please guide me on
>> how
>> > to set -Duser.timezone property for Tomcat?
>>

Create file  "bin/setenv.sh" and add the following line there:

export TZ=America/Los_Angeles
or
export TZ="/usr/share/zoneinfo/America/Los_Angeles"


>> When you are saying that it is "still in UTC", what data are you looking
>> at?
>>

You have not answered the above question. It might be that the date
you are looking at explicitly uses the UTC timezone.

Also please write your replies below the text you are replying to.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235734-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 04:21:23 2012
Return-Path: <users-return-235734-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3100AD3FD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 04:21:23 +0000 (UTC)
Received: (qmail 70526 invoked by uid 500); 30 Jul 2012 04:21:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70478 invoked by uid 500); 30 Jul 2012 04:21:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70453 invoked by uid 99); 30 Jul 2012 04:21:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 04:21:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kkc4al@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 04:21:12 +0000
Received: by weyz53 with SMTP id z53so4570679wey.18
        for <users@tomcat.apache.org>; Sun, 29 Jul 2012 21:20:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=ZwDU7eZk+8t5Lsdlk5wjP1S46WNqlt7+0/SUQl4w4qQ=;
        b=uVBtLR5HoxXJsQ06aAGg9jawBlTWIW4Mezghe0PjkmmsULqod8IZkAYbreEWrRhjH7
         rnueJrJpjRHP4hWJg9y5ebnyJJgjBAMRmYGMBxxEUe+RgjZHHO0IMRuY21ix7A9S6cHI
         yt2kw5aLcnwUVRjK3UU0ojDT/7kQT9e7EQHTJov7EaNlyPqD08JWXqQgw3RLvxSL6YFY
         C4DuyDke0DMMlswLNBvLTvEg2KtLIFzWSTjFmUAbEOmDwftb+xhz11Z6c32shhIRpEoa
         Ce4EQwBw4QQIejSI/udIS+feqHr4zbqfaEStnuQkMh9Sm3v7rPfiHAzZXTtTD+uF813g
         320A==
Received: by 10.180.106.97 with SMTP id gt1mr39348882wib.5.1343622052132; Sun,
 29 Jul 2012 21:20:52 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.227.27.68 with HTTP; Sun, 29 Jul 2012 21:20:31 -0700 (PDT)
In-Reply-To: <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com>
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com>
 <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com>
 <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com>
 <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com> <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com>
From: krishna chaitanya kurnala <kkc4al@gmail.com>
Date: Sun, 29 Jul 2012 21:20:31 -0700
Message-ID: <CAFZnXL+qB8JbjgsFC50hE9S5Su2QC8yqzo3jhbYyfq3=_5sOVA@mail.gmail.com>
Subject: Re: Pointing tomcat to a different timezone
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0442806621362004c60463c6

--f46d0442806621362004c60463c6
Content-Type: text/plain; charset=ISO-8859-1

This Works ;-)
Thanks a lot Konstantin. Appreciate it :)

Krishna Chaitanya


On Sun, Jul 29, 2012 at 6:21 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
> > Hello Konstantin
> >
> > I verified the timezone is same for both users:
> > [jenkinspan@sdc-cidev10 ~]$ date
> > Sun Jul 29 17:31:27 PDT 2012
> > [jenkinspan@sdc-cidev10 ~]$ sudo su - root
> > [root@sdc-cidev10 ~]# date
> > Sun Jul 29 17:31:39 PDT 2012
> >
> > We are using " apache-tomcat-6.0.33 " I didnot do anything special but,
> > untar and ./startup.sh from bin folder.
> >
> > Can you please guide me based on this info?
> >
> > thanks,
> > Krishna Chaitanya
> >
> >
> > On Sun, Jul 29, 2012 at 5:25 PM, Konstantin Kolinko
> > <knst.kolinko@gmail.com>wrote:
> >
> >> 2012/7/30 krishna chaitanya kurnala <kkc4al@gmail.com>:
> >> > Dear Tomcat Users,
> >> >
> >> > I am deploying a Java Application in Tomcat, that is picking the wrong
> >> > Time-zone from OS. I did try to change the time settings at OS level.
> >> >
> >> > while the OS is PDT
> >> > [root@sdc-cidev10 ~]# date
> >> > Sun Jul 29 15:16:41 PDT 2012
> >>
> >>
> >> I suspect that you changed the timezone not for the OS, but for the
> >> "root" user only.
> >>
> >> Effectively you changed some shell environment variable. It may be
> >> different for different users. So you have to look at the user that
> >> actually starts Tomcat java process.
> >>
> >> How to configure it depends on what version of Tomcat you are using
> >> and on how it is installed.
> >>
> >> Do not forget to restart Tomcat after the change.
> >>
> >>
> >> >
> >> > My Java App is still in Universal Time-zone. Can you please guide me
> on
> >> how
> >> > to set -Duser.timezone property for Tomcat?
> >>
>
> Create file  "bin/setenv.sh" and add the following line there:
>
> export TZ=America/Los_Angeles
> or
> export TZ="/usr/share/zoneinfo/America/Los_Angeles"
>
>
> >> When you are saying that it is "still in UTC", what data are you looking
> >> at?
> >>
>
> You have not answered the above question. It might be that the date
> you are looking at explicitly uses the UTC timezone.
>
> Also please write your replies below the text you are replying to.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d0442806621362004c60463c6--

From users-return-235735-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 10:10:51 2012
Return-Path: <users-return-235735-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A751CFE3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 10:10:51 +0000 (UTC)
Received: (qmail 33297 invoked by uid 500); 30 Jul 2012 10:10:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33053 invoked by uid 500); 30 Jul 2012 10:10:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33000 invoked by uid 99); 30 Jul 2012 10:10:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 10:10:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 10:10:37 +0000
Received: by obbta14 with SMTP id ta14so11854991obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 03:10:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=aGlUU6kzqweHzvKXFq7ux979N+pUTF3V0hBC5LB2MbM=;
        b=JLrPOLs56zUtBQclcSqLNuhAJYGxhJhZygRKpEPjDwJplwEMIwaYH/tyVTtO6ZNr2e
         BUZxG4V5AtsHX696H25K9brk0gzSffdhZR4GZaIBZfWp9OKq/0sxiKXu1GzPqOIyBAak
         nAUTgG4xNbrtKOFn1YRFQG5eQn1LHaB2tsS26ASAFqkIQMNknipVQCTfEql7kvXmOaLH
         LLf1qtrXmTCmCgA70Nl8ORNFoJgKaybN0VHakqt5d8++undT5hrZMDhE3Dg3vtOUfpI5
         uMDHfkL3X2rQzHiLLyXNhhqgA2UsZm7QL8JNYGyUwQ1R+pHdTHZWvaHW5AL6xQHQuAf+
         90LA==
MIME-Version: 1.0
Received: by 10.60.12.8 with SMTP id u8mr16458051oeb.46.1343643016400; Mon, 30
 Jul 2012 03:10:16 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Mon, 30 Jul 2012 03:10:16 -0700 (PDT)
Date: Mon, 30 Jul 2012 12:10:16 +0200
Message-ID: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
Subject: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb1ef56b2908204c60944c4

--e89a8fb1ef56b2908204c60944c4
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I've the following problem: the server is running tomcat 7.0.27 (but also
with 7.0.28 and 7.0.29) and from the client (ie + acrobat 9) when opening
some pdf docs I receive an error complaining about a network error:

"A network error occured while accessing this document on interntet. Would
you like to close the document or reload it?"

Reverting back to 7.0.26 the problem disappears ...

The connector is the http bio


This is one public pdf that caused me the error when i put it on a tomcat
>=3D7.0.27

http://www.regione.fvg.it/rafvg/export/sites/default/RAFVG/formazione-lavor=
o/agenzia-regionale-lavoro/allegati/joblab_2.0_scheda_tematica_1_FR.pdf


What happened to the bio connector under the 7.0.27 version that could
cause the issue?

The connector uses the standard roles, for example:

<Connector port=3D"8080" protocol=3D"HTTP/1.1"
               connectionTimeout=3D"20000"
               redirectPort=3D"8443" compression=3D"off"/>


Regards

Michele Ma=E8

--e89a8fb1ef56b2908204c60944c4--

From users-return-235736-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 10:45:38 2012
Return-Path: <users-return-235736-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E09B7DCC2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 10:45:38 +0000 (UTC)
Received: (qmail 8198 invoked by uid 500); 30 Jul 2012 10:45:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7886 invoked by uid 500); 30 Jul 2012 10:45:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7858 invoked by uid 99); 30 Jul 2012 10:45:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 10:45:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 10:45:28 +0000
Received: by vcbfl15 with SMTP id fl15so5498893vcb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 03:45:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=/GDMruAkxXkpT/UO8Gh9URcvXKicbcqv7vLh0pfzEuw=;
        b=PcgqSmzGHa+kISuj7jrYXIYHqqzS8h6WyWlT3i59l67/ILxO6QG31YwH1iTW4FOcKd
         mKagG84hi1TKzfIG6Q5x4Jl5GZAVXpy4+XgDSFJRE+os5Guhu52ImcdJY0CAkeklqdPH
         ig4+MrZ/NYymyxkDiLhAcYmz0hIosMZOYCUk+UXJdbgOmOJXbqvjTdWAi8UKFY13H5sa
         JN/vsnQRO0occu9z/tzALswNQ3cLGkN3OvL/AJAacYO/DdzexkADNi3S7Q100ZZLXHmJ
         w/gXY7pcwb5wnc4KDnFR6mH3psJDPSJ4ZeOSw/lE4YBhAHKWkx6/MO/cBcTurC783xg8
         fBoQ==
MIME-Version: 1.0
Received: by 10.220.218.133 with SMTP id hq5mr10369443vcb.60.1343645107476;
 Mon, 30 Jul 2012 03:45:07 -0700 (PDT)
Received: by 10.58.125.99 with HTTP; Mon, 30 Jul 2012 03:45:07 -0700 (PDT)
In-Reply-To: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
Date: Mon, 30 Jul 2012 14:45:07 +0400
Message-ID: <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/30 Michele Mase' <michele.mase@gmail.com>:
> I've the following problem: the server is running tomcat 7.0.27 (but also
> with 7.0.28 and 7.0.29) and from the client (ie + acrobat 9) when opening
> some pdf docs I receive an error complaining about a network error:
>
> "A network error occured while accessing this document on interntet. Would
> you like to close the document or reload it?"
>
> Reverting back to 7.0.26 the problem disappears ...
>
> The connector is the http bio
>
>
> This is one public pdf that caused me the error when i put it on a tomcat
>>=7.0.27
>
> http://www.regione.fvg.it/rafvg/export/sites/default/RAFVG/formazione-lavoro/agenzia-regionale-lavoro/allegati/joblab_2.0_scheda_tematica_1_FR.pdf
>
>
> What happened to the bio connector under the 7.0.27 version that could
> cause the issue?
>
> The connector uses the standard roles, for example:
>
> <Connector port="8080" protocol="HTTP/1.1"
>                connectionTimeout="20000"
>                redirectPort="8443" compression="off"/>
>

1. Why acrobat 9? The current version of acrobat reader (adobe reader)
is 10,  10.1.3 to be precise. Aren't there security issues with
acrobat 9?

I tried to reproduce your issue by placing your document in the
default configuration of 7.0.29 + you connector configuration, but the
problem does not show itself. Using the said version of Adobe Reader +
IE 8, on WinXP.

What version of IE you are using?

2. Is your document protected by security constraints?

If it is, then Tomcat adds some headers to the response to prevent
caching. It might interfere.

If you could inspect the response headers...

3. What is in access log? Is Tomcat delivering the content?

Is acrobat (or IE) re-requesting the document when you agree to
"reload" (I mean what is mentioned in that error message)?

Is there difference in access logs entries between 7.0.29 and 7.0.26?

4. To what security zone (in IE) your web site belongs? Is it internet
or local network?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235737-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 13:01:11 2012
Return-Path: <users-return-235737-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAB32D867
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 13:01:11 +0000 (UTC)
Received: (qmail 34482 invoked by uid 500); 30 Jul 2012 13:01:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34408 invoked by uid 500); 30 Jul 2012 13:01:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34399 invoked by uid 99); 30 Jul 2012 13:01:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:01:08 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:01:01 +0000
Received: by yhpp34 with SMTP id p34so5754073yhp.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 06:00:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=2yty3G5d0/Ql1xjl5MfFMD7xDE/dlq332ykLFIiNlh4=;
        b=zIrDZ+kPQSDYQ+j+ta0/DZQWqfQgRWZV2a8cv2c0BboiV4wzO5srFSb1F6FKmcuy09
         75bxHlxTMr2pY0I50aV1xtMKhkNtsA8dchefDlubD5+5pY21/bkzLkSd8SSSJBoO6TJ2
         m9i2HsEF7oS9mvqyNlEHtA+dnnt2Ca0zjcImEa1W3IdeCfbBURCqfsnxyc5I4tbpSiI2
         /qPHQX0Pil9m6D7B3+nSsZPZP82WNGWSS1bJCgVHoJZ7/MmbAS6JwRpVVL36h89CZHvu
         tiigyvUYT7D28HvYcWEJ8F+mj5dduQnGC5w0ihl8Z0SryOLKi/j6NU0gF1TFr2GFrPP/
         NOIA==
MIME-Version: 1.0
Received: by 10.60.7.104 with SMTP id i8mr17330281oea.31.1343653239940; Mon,
 30 Jul 2012 06:00:39 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Mon, 30 Jul 2012 06:00:39 -0700 (PDT)
In-Reply-To: <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
Date: Mon, 30 Jul 2012 15:00:39 +0200
Message-ID: <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb1ef1411682804c60ba616

--e89a8fb1ef1411682804c60ba616
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

IE 6.x on my test pc, but also IE8 with other pcs.
Acrobat is 9.x, 9.5.1 version, a lot of clients have this version, an
upgrade is not possible for now.
I've reviewed the apache access log (when the doc is served by a web server
apache connected with ajp with the tomcat), the only thing I see is an http
206 and a X showing that the client has closed the connection before the
server "%X : X connection aborted before the response completed."
The security zone is "internet".
To reproduce the issue:
Utilize the acrobat integrated in the browser
Install a new tomcat 7.x on a linux machine, not windows with tar zxf
apache-tomcat-7.x.tar.gz
Put the pdf in any webapp, the ROOT is enough.
Obviously use a recent jvm, I use latest version of 1.6 (.33)
Start the tomcat (sh catalins.sh run or what you prefer)
Point the browser to the url.
Every time you want to retry, just empty the browser's cache and kill the
explorer process.
Tomcat >=3D 7.0.27 the error occurs
Tomcat < 7.0.27 the error has gone.
Michele Mas=E8

On Mon, Jul 30, 2012 at 12:45 PM, Konstantin Kolinko <knst.kolinko@gmail.co=
m
> wrote:

> 2012/7/30 Michele Mase' <michele.mase@gmail.com>:
> > I've the following problem: the server is running tomcat 7.0.27 (but al=
so
> > with 7.0.28 and 7.0.29) and from the client (ie + acrobat 9) when openi=
ng
> > some pdf docs I receive an error complaining about a network error:
> >
> > "A network error occured while accessing this document on interntet.
> Would
> > you like to close the document or reload it?"
> >
> > Reverting back to 7.0.26 the problem disappears ...
> >
> > The connector is the http bio
> >
> >
> > This is one public pdf that caused me the error when i put it on a tomc=
at
> >>=3D7.0.27
> >
> >
> http://www.regione.fvg.it/rafvg/export/sites/default/RAFVG/formazione-lav=
oro/agenzia-regionale-lavoro/allegati/joblab_2.0_scheda_tematica_1_FR.pdf
> >
> >
> > What happened to the bio connector under the 7.0.27 version that could
> > cause the issue?
> >
> > The connector uses the standard roles, for example:
> >
> > <Connector port=3D"8080" protocol=3D"HTTP/1.1"
> >                connectionTimeout=3D"20000"
> >                redirectPort=3D"8443" compression=3D"off"/>
> >
>
> 1. Why acrobat 9? The current version of acrobat reader (adobe reader)
> is 10,  10.1.3 to be precise. Aren't there security issues with
> acrobat 9?
>
> I tried to reproduce your issue by placing your document in the
> default configuration of 7.0.29 + you connector configuration, but the
> problem does not show itself. Using the said version of Adobe Reader +
> IE 8, on WinXP.
>
> What version of IE you are using?
>
> 2. Is your document protected by security constraints?
>
> If it is, then Tomcat adds some headers to the response to prevent
> caching. It might interfere.
>
> If you could inspect the response headers...
>
> 3. What is in access log? Is Tomcat delivering the content?
>
> Is acrobat (or IE) re-requesting the document when you agree to
> "reload" (I mean what is mentioned in that error message)?
>
> Is there difference in access logs entries between 7.0.29 and 7.0.26?
>
> 4. To what security zone (in IE) your web site belongs? Is it internet
> or local network?
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8fb1ef1411682804c60ba616--

From users-return-235738-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 13:28:13 2012
Return-Path: <users-return-235738-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6CFEFD0E7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 13:28:13 +0000 (UTC)
Received: (qmail 13088 invoked by uid 500); 30 Jul 2012 13:28:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12994 invoked by uid 500); 30 Jul 2012 13:28:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12985 invoked by uid 99); 30 Jul 2012 13:28:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:28:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:28:03 +0000
Received: by vbip1 with SMTP id p1so2872323vbi.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 06:27:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=WaCKWDvVocjvT7CG/lwPt/U0iHbAHP27U7ZGywJztj8=;
        b=at1KCqEt3cLWSk56M7BAD1medsdDbCaISUddCugSnFdNPcx35Mj99MtfQlZApoBPlg
         m6Y7QdzBnMAsr3BnWxvghBsV6ZcpzASoWCvHBnPnJdGaRDDBlJavjL0swRTfMZ2z+84z
         +IYDViZXoU57PQZQIT4H/pEdckeSIuUb90TLbNowpTUFrty8PwKuJ3RCHGio6t6O26X1
         xAdel+Iobx2uX399gQ64e9dFcfRkR2CUm1XJOamm71YOrBQVHudQFfWAdkGpc8V8yG9/
         jx6iGweYZOEugS0VtvXeVwAuYz0d4H11UPzXEqszFo7uQHc9MqJqmyJjrPXtcAyW5iBd
         fH+A==
MIME-Version: 1.0
Received: by 10.220.153.200 with SMTP id l8mr11018423vcw.40.1343654862602;
 Mon, 30 Jul 2012 06:27:42 -0700 (PDT)
Received: by 10.58.125.99 with HTTP; Mon, 30 Jul 2012 06:27:42 -0700 (PDT)
In-Reply-To: <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
Date: Mon, 30 Jul 2012 17:27:42 +0400
Message-ID: <CABzHfVkaMEWUryszYOA-tjDEQACX1Ucmr9f_9PYjm09vVW9QKA@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/7/30 Michele Mase' <michele.mase@gmail.com>:
> IE 6.x on my test pc, but also IE8 with other pcs.
> Acrobat is 9.x, 9.5.1 version, a lot of clients have this version, an
> upgrade is not possible for now.
> I've reviewed the apache access log (when the doc is served by a web serv=
er
> apache connected with ajp with the tomcat), the only thing I see is an ht=
tp
> 206 and a X showing that the client has closed the connection before the
> server "%X : X connection aborted before the response completed."

1. "206 Partial Content",
so it was a request containing a Range header.

Using an HTTPD in front of Tomcat, you would be using the AJP
connector (which differs from your original configuration of "http
bio"). So the issue is reproducible in that configuration as well?

%X is a feature in HTTPD access log format. Tomcat does not implement it.

What is in Tomcat's own access log? The same request?

2. I my test (connecting to Tomcat directly over http with Adobe
Reader 10.1.3), the only access log line is "200", transferring the
whole document.

So why a ranged request comes? A feature of Acrobat 9? I wonder what
range headers are in it.

> The security zone is "internet".
> To reproduce the issue:
> Utilize the acrobat integrated in the browser
> Install a new tomcat 7.x on a linux machine, not windows with tar zxf
> apache-tomcat-7.x.tar.gz
> Put the pdf in any webapp, the ROOT is enough.
> Obviously use a recent jvm, I use latest version of 1.6 (.33)
> Start the tomcat (sh catalins.sh run or what you prefer)
> Point the browser to the url.
> Every time you want to retry, just empty the browser's cache and kill the
> explorer process.
> Tomcat >=3D 7.0.27 the error occurs
> Tomcat < 7.0.27 the error has gone.
> Michele Mas=E8
>
> On Mon, Jul 30, 2012 at 12:45 PM, Konstantin Kolinko <knst.kolinko@gmail.=
com
>> wrote:
>
>> 2012/7/30 Michele Mase' <michele.mase@gmail.com>:
>> > I've the following problem: the server is running tomcat 7.0.27 (but a=
lso
>> > with 7.0.28 and 7.0.29) and from the client (ie + acrobat 9) when open=
ing
>> > some pdf docs I receive an error complaining about a network error:
>> >
>> > "A network error occured while accessing this document on interntet.
>> Would
>> > you like to close the document or reload it?"
>> >
>> > Reverting back to 7.0.26 the problem disappears ...
>> >
>> > The connector is the http bio
>> >
>> >
>> > This is one public pdf that caused me the error when i put it on a tom=
cat
>> >>=3D7.0.27
>> >
>> >
>> http://www.regione.fvg.it/rafvg/export/sites/default/RAFVG/formazione-la=
voro/agenzia-regionale-lavoro/allegati/joblab_2.0_scheda_tematica_1_FR.pdf
>> >
>> >
>> > What happened to the bio connector under the 7.0.27 version that could
>> > cause the issue?
>> >
>> > The connector uses the standard roles, for example:
>> >
>> > <Connector port=3D"8080" protocol=3D"HTTP/1.1"
>> >                connectionTimeout=3D"20000"
>> >                redirectPort=3D"8443" compression=3D"off"/>
>> >
>>
>> 1. Why acrobat 9? The current version of acrobat reader (adobe reader)
>> is 10,  10.1.3 to be precise. Aren't there security issues with
>> acrobat 9?
>>
>> I tried to reproduce your issue by placing your document in the
>> default configuration of 7.0.29 + you connector configuration, but the
>> problem does not show itself. Using the said version of Adobe Reader +
>> IE 8, on WinXP.
>>
>> What version of IE you are using?
>>
>> 2. Is your document protected by security constraints?
>>
>> If it is, then Tomcat adds some headers to the response to prevent
>> caching. It might interfere.
>>
>> If you could inspect the response headers...
>>
>> 3. What is in access log? Is Tomcat delivering the content?
>>
>> Is acrobat (or IE) re-requesting the document when you agree to
>> "reload" (I mean what is mentioned in that error message)?
>>
>> Is there difference in access logs entries between 7.0.29 and 7.0.26?
>>
>> 4. To what security zone (in IE) your web site belongs? Is it internet
>> or local network?
>>


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235739-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 13:45:18 2012
Return-Path: <users-return-235739-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F29CD661
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 13:45:18 +0000 (UTC)
Received: (qmail 58115 invoked by uid 500); 30 Jul 2012 13:45:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58040 invoked by uid 500); 30 Jul 2012 13:45:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58030 invoked by uid 99); 30 Jul 2012 13:45:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:45:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:45:07 +0000
Received: from [192.168.245.129] (p549E8F34.dip0.t-ipconnect.de [84.158.143.52])
	by tor.combios.es (Postfix) with ESMTPA id 2CE0EDA037F
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 15:44:43 +0200 (CEST)
Message-ID: <50168FC5.6060104@ice-sa.com>
Date: Mon, 30 Jul 2012 15:44:37 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com> <CABzHfVkaMEWUryszYOA-tjDEQACX1Ucmr9f_9PYjm09vVW9QKA@mail.gmail.com>
In-Reply-To: <CABzHfVkaMEWUryszYOA-tjDEQACX1Ucmr9f_9PYjm09vVW9QKA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Konstantin Kolinko wrote:
...
> 
> So why a ranged request comes? A feature of Acrobat 9? I wonder what
> range headers are in it.
> 

If talking about IE browsers and Windows workstations, installing the "Fiddler2" plugin or 
similar would allow to see exactly which headers are being sent by the browser, and what 
the server response looks like.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235740-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 13:47:09 2012
Return-Path: <users-return-235740-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E56CD667
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 13:47:09 +0000 (UTC)
Received: (qmail 64129 invoked by uid 500); 30 Jul 2012 13:47:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64079 invoked by uid 500); 30 Jul 2012 13:47:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64070 invoked by uid 99); 30 Jul 2012 13:47:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:47:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 13:47:00 +0000
Received: by obbta14 with SMTP id ta14so12242380obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 06:46:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=CLNIptd+nBacXPqIvqBPd0DMN8z12DbMwR8pQsZZPhY=;
        b=bBSpsBFNqkPdMw0dOhY5H2lXpzPKxfQDlwgCwriBcaJsztrZiwQGGMT0iwftZrfrxY
         VNnewr0GfLOKAJh3H6IxgWlcxxREvApEFvW0dmKuOjWOuM5DAb4CRrG3LdRFQEBRbQci
         XLHEAMivXy7dtbFu3uSWXy/1cMcqdFVow2RTjkMX/nBJK+t5vlVNHwqFSvD2FknH+t84
         CxP5jJPFQpdjsFTMJWB31rbZgHoLLCudUuxHLXTeF/CQiLISb9xOt4b9iwX2eq6gddye
         7EQVkV5JvNJOg97Fwmy17wbbm0XgxLQB3kXepa9rhZdpM1EKpuAPIZkzoUwKc9SL8DUq
         Xkhw==
Received: by 10.182.111.74 with SMTP id ig10mr17641389obb.14.1343656000140;
 Mon, 30 Jul 2012 06:46:40 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Mon, 30 Jul 2012 06:46:20 -0700 (PDT)
In-Reply-To: <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
 <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com> <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Mon, 30 Jul 2012 15:46:20 +0200
Message-ID: <CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/30 Michele Mase' <michele.mase@gmail.com>:
> IE 6.x on my test pc, but also IE8 with other pcs.
> Acrobat is 9.x, 9.5.1 version, a lot of clients have this version, an
> upgrade is not possible for now.
> I've reviewed the apache access log (when the doc is served by a web serv=
er
> apache connected with ajp with the tomcat), the only thing I see is an ht=
tp
> 206 and a X showing that the client has closed the connection before the
> server "%X : X connection aborted before the response completed."
> The security zone is "internet".
> To reproduce the issue:
> Utilize the acrobat integrated in the browser
> Install a new tomcat 7.x on a linux machine, not windows with tar zxf
> apache-tomcat-7.x.tar.gz
> Put the pdf in any webapp, the ROOT is enough.
> Obviously use a recent jvm, I use latest version of 1.6 (.33)
> Start the tomcat (sh catalins.sh run or what you prefer)
> Point the browser to the url.
> Every time you want to retry, just empty the browser's cache and kill the
> explorer process.
> Tomcat >=3D 7.0.27 the error occurs
> Tomcat < 7.0.27 the error has gone.
> Michele Mas=E8
>


Sorry, but works fine for me :

IE 8
Tomcat 7.0.29 , connecting directly to
Adobe PDF library 9.90 running into browser
Same PDF file

I could only reproduce that error by simulating a network problem (
changing proxy settings )

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235741-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 14:27:12 2012
Return-Path: <users-return-235741-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02DC8D922
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 14:27:12 +0000 (UTC)
Received: (qmail 87948 invoked by uid 500); 30 Jul 2012 14:27:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87895 invoked by uid 500); 30 Jul 2012 14:27:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87885 invoked by uid 99); 30 Jul 2012 14:27:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:27:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [204.187.63.106] (HELO mail.evertz.com) (204.187.63.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:27:02 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Speeding up RMI calls
Date: Mon, 30 Jul 2012 10:26:37 -0400
Message-ID: <13B290A06827324E9ADB71AA314F818901897F92@otis.burlington.evertz.tv>
In-Reply-To: <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up RMI calls
Thread-Index: Ac1sybADUrhElmxERBmeS0KVqfs8uABk/Xzw
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv> <4FFF3FEB.9070700@pidster.com> <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>,<13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv> <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>
From: "Andrew Kujtan" <akujtan@evertz.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: Martin Gainty [mailto:mgainty@hotmail.com]
> Sent: Saturday, July 28, 2012 10:02 AM
> To: Tomcat Users List
> Subject: RE: Speeding up RMI calls
>=20
>=20
> Andrew
>=20
> It *sounds* like you are battling a network latency problem
> Can you identify the target RMI server then do a simple tracert from
> client to RMI Server to determine which intermediate node is causing
> the delay?
>=20
> Martin

I thought so too at first, so I moved them to the same machine with the
same results.
Overloading the classloader so that every RMI call did not contain a
list of 300+
"C:\Program Files\Tomcat\webapps\Root\WEB-INF\lib\my.jar;" corrected the
issue though.

-Andrew

> >
> > > > On 09/07/2012 16:55, Andrew Kujtan wrote:
> > > > > Tomcat Version: 7.0.27
> > > > >
> > > > > OS: Windows XP/7
> > > > > I'm fixing an issue we are having with a webapp that does some
> > > > > communication over RMI with a remote  server. Calls that would
> be
> > > > > instant in similar applications not inside the tomcat
container
> > are
> > > > > taking more than 30 seconds when called from tomcat. After
> > > debugging
> > > > > I've found that  when an RMI call is made, the classlist
> > containing
> > > > > all the jars in the webapp lib folders is being serialized
with
> > the
> > > > data.
> > > > > Which wouldn't be a problem normally, except the webapp has
> >300
> > > jars
> > > > > in its lib folder.
> > > >
> > > > In the other similar applications, are there 300+ jars on the
> > > classpath
> > > > too?
> > > >
> > > >
> > > > p
> > >
> > > Yes they are there as well, but the RMI calls don't include them,
> or
> > > any
> > > urls
> > > for that matter.
> > >
> > > >
> > > > > The only solution I have found is to create a custom
> > > > WebAppClassloader
> > > > > that returns a zero length URL array on the getURLs() call. We
> > > don't
> > > > > do any dynamic class loading so breaking that is not a
problem.
> > > > >
> > > > > My question is, is there any other way to resolve this, like a
> > > > > configuration property? If not, are there any problems that I
> am
> > > > going
> > > > > to introduce by overriding this method? Can I override the
> > > > classloader
> > > > > for just this webapp or am I stuck doing it for the entire
> tomcat
> > > > > instance?
> > > > >
> > > > >
> > > > >
> > > > > Thanks,
> > > > >
> > > > > Andrew Kujtan
> >
> > I guess no one has run into this issue before, I've pushed it
through
> > and am just overloading the classloader in the server.xml
> >
> > Hopefully this doesn't break anything.
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235742-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 14:37:00 2012
Return-Path: <users-return-235742-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE487D468
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 14:37:00 +0000 (UTC)
Received: (qmail 31770 invoked by uid 500); 30 Jul 2012 14:36:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31594 invoked by uid 500); 30 Jul 2012 14:36:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31573 invoked by uid 99); 30 Jul 2012 14:36:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:36:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.105 as permitted sender)
Received: from [65.55.111.105] (HELO blu0-omc2-s30.blu0.hotmail.com) (65.55.111.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:36:50 +0000
Received: from BLU142-W30 ([65.55.111.73]) by blu0-omc2-s30.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 30 Jul 2012 07:36:29 -0700
Message-ID: <BLU142-W3028AC0DF12F1CA2A28AA1AEC60@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_424a12e7-7379-466e-b14a-f17873faf865_"
X-Originating-IP: [190.155.13.74]
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Speeding up RMI calls
Date: Mon, 30 Jul 2012 10:36:28 -0400
Importance: Normal
In-Reply-To:
 <13B290A06827324E9ADB71AA314F818901897F92@otis.burlington.evertz.tv>
References:
 <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv>
 <4FFF3FEB.9070700@pidster.com>
 <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>,<13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv>
 <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>,<13B290A06827324E9ADB71AA314F818901897F92@otis.burlington.evertz.tv>
MIME-Version: 1.0
X-OriginalArrivalTime: 30 Jul 2012 14:36:29.0339 (UTC) FILETIME=[B4D50EB0:01CD6E60]
X-Virus-Checked: Checked by ClamAV on apache.org

--_424a12e7-7379-466e-b14a-f17873faf865_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Good Morning Andrew

a directory with spaces has dogged me in the past (I  specify C:\PROGRA~1 t=
o get the 8.3 folder-name)
glad to hear the "uber.jar" worked for you

Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.


> Subject: RE: Speeding up RMI calls
> Date: Mon=2C 30 Jul 2012 10:26:37 -0400
> From: akujtan@evertz.com
> To: users@tomcat.apache.org
>=20
> > -----Original Message-----
> > From: Martin Gainty [mailto:mgainty@hotmail.com]
> > Sent: Saturday=2C July 28=2C 2012 10:02 AM
> > To: Tomcat Users List
> > Subject: RE: Speeding up RMI calls
> >=20
> >=20
> > Andrew
> >=20
> > It *sounds* like you are battling a network latency problem
> > Can you identify the target RMI server then do a simple tracert from
> > client to RMI Server to determine which intermediate node is causing
> > the delay?
> >=20
> > Martin
>=20
> I thought so too at first=2C so I moved them to the same machine with the
> same results.
> Overloading the classloader so that every RMI call did not contain a
> list of 300+
> "C:\Program Files\Tomcat\webapps\Root\WEB-INF\lib\my.jar=3B" corrected th=
e
> issue though.
>=20
> -Andrew
>=20
> > >
> > > > > On 09/07/2012 16:55=2C Andrew Kujtan wrote:
> > > > > > Tomcat Version: 7.0.27
> > > > > >
> > > > > > OS: Windows XP/7
> > > > > > I'm fixing an issue we are having with a webapp that does some
> > > > > > communication over RMI with a remote  server. Calls that would
> > be
> > > > > > instant in similar applications not inside the tomcat
> container
> > > are
> > > > > > taking more than 30 seconds when called from tomcat. After
> > > > debugging
> > > > > > I've found that  when an RMI call is made=2C the classlist
> > > containing
> > > > > > all the jars in the webapp lib folders is being serialized
> with
> > > the
> > > > > data.
> > > > > > Which wouldn't be a problem normally=2C except the webapp has
> > >300
> > > > jars
> > > > > > in its lib folder.
> > > > >
> > > > > In the other similar applications=2C are there 300+ jars on the
> > > > classpath
> > > > > too?
> > > > >
> > > > >
> > > > > p
> > > >
> > > > Yes they are there as well=2C but the RMI calls don't include them=
=2C
> > or
> > > > any
> > > > urls
> > > > for that matter.
> > > >
> > > > >
> > > > > > The only solution I have found is to create a custom
> > > > > WebAppClassloader
> > > > > > that returns a zero length URL array on the getURLs() call. We
> > > > don't
> > > > > > do any dynamic class loading so breaking that is not a
> problem.
> > > > > >
> > > > > > My question is=2C is there any other way to resolve this=2C lik=
e a
> > > > > > configuration property? If not=2C are there any problems that I
> > am
> > > > > going
> > > > > > to introduce by overriding this method? Can I override the
> > > > > classloader
> > > > > > for just this webapp or am I stuck doing it for the entire
> > tomcat
> > > > > > instance?
> > > > > >
> > > > > >
> > > > > >
> > > > > > Thanks=2C
> > > > > >
> > > > > > Andrew Kujtan
> > >
> > > I guess no one has run into this issue before=2C I've pushed it
> through
> > > and am just overloading the classloader in the server.xml
> > >
> > > Hopefully this doesn't break anything.
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands=2C e-mail: users-help@tomcat.apache.org
> > >
> >=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_424a12e7-7379-466e-b14a-f17873faf865_--

From users-return-235743-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 14:59:13 2012
Return-Path: <users-return-235743-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71880D4FE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 14:59:13 +0000 (UTC)
Received: (qmail 98595 invoked by uid 500); 30 Jul 2012 14:59:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98489 invoked by uid 500); 30 Jul 2012 14:59:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98480 invoked by uid 99); 30 Jul 2012 14:59:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:59:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [204.187.63.106] (HELO mail.evertz.com) (204.187.63.106)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 14:59:03 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Speeding up RMI calls
Date: Mon, 30 Jul 2012 10:58:39 -0400
Message-ID: <13B290A06827324E9ADB71AA314F818901897FAC@otis.burlington.evertz.tv>
In-Reply-To: <BLU142-W3028AC0DF12F1CA2A28AA1AEC60@phx.gbl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up RMI calls
Thread-Index: Ac1uYM++OQd38ytURhaeYKAoPGT2OwAAeMqw
References: <13B290A06827324E9ADB71AA314F8189017B6566@otis.burlington.evertz.tv> <4FFF3FEB.9070700@pidster.com> <13B290A06827324E9ADB71AA314F8189018973F4@otis.burlington.evertz.tv>,<13B290A06827324E9ADB71AA314F818901897F33@otis.burlington.evertz.tv> <BLU142-W26037BE2FC081823B75445AEC00@phx.gbl>,<13B290A06827324E9ADB71AA314F818901897F92@otis.burlington.evertz.tv> <BLU142-W3028AC0DF12F1CA2A28AA1AEC60@phx.gbl>
From: "Andrew Kujtan" <akujtan@evertz.com>
To: "Tomcat Users List" <users@tomcat.apache.org>


> -----Original Message-----
> From: Martin Gainty [mailto:mgainty@hotmail.com]
> Sent: Monday, July 30, 2012 10:36 AM
> To: Tomcat Users List
> Subject: RE: Speeding up RMI calls
>=20
>=20
> Good Morning Andrew
>=20
> a directory with spaces has dogged me in the past (I  specify
> C:\PROGRA~1 to get the 8.3 folder-name)
> glad to hear the "uber.jar" worked for you
>=20
> Martin

Good Morning!

Just to clarify,=20

1. I have no control over the URLs, these are provided by tomcats =
WebAppClassLoader
which, because it extends URLClassLoader, provides them from the =
getULs() method,
and is populated with the base class path and all the jars in my apps =
lib folder.
2. I didn't make an uber.jar, I overloaded tomcats WebAppClassLoader to =
just return
an empty array from the getURLs() method.=20

Cheers,
Andrew

> ______________________________________________
> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de
> confidentialit=E9
>=20
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede
> unbefugte Weiterleitung oder Fertigung einer Kopie ist unzulaessig.
> Diese Nachricht dient lediglich dem Austausch von Informationen und
> entfaltet keine rechtliche Bindungswirkung. Aufgrund der leichten
> Manipulierbarkeit von E-Mails koennen wir keine Haftung fuer den =
Inhalt
> uebernehmen.
> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous =
n'=EAtes pas
> le destinataire pr=E9vu, nous te demandons avec bont=E9 que pour =
satisfaire
> informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e ou =
la
> copie de ceci est interdite. Ce message sert =E0 l'information =
seulement
> et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant =
donn=E9
> que les email peuvent facilement =EAtre sujets =E0 la manipulation, =
nous ne
> pouvons accepter aucune responsabilit=E9 pour le contenu fourni.
>=20
>=20
> > Subject: RE: Speeding up RMI calls
> > Date: Mon, 30 Jul 2012 10:26:37 -0400
> > From: akujtan@evertz.com
> > To: users@tomcat.apache.org
> >
> > > -----Original Message-----
> > > From: Martin Gainty [mailto:mgainty@hotmail.com]
> > > Sent: Saturday, July 28, 2012 10:02 AM
> > > To: Tomcat Users List
> > > Subject: RE: Speeding up RMI calls
> > >
> > >
> > > Andrew
> > >
> > > It *sounds* like you are battling a network latency problem
> > > Can you identify the target RMI server then do a simple tracert
> from
> > > client to RMI Server to determine which intermediate node is
> causing
> > > the delay?
> > >
> > > Martin
> >
> > I thought so too at first, so I moved them to the same machine with
> the
> > same results.
> > Overloading the classloader so that every RMI call did not contain a
> > list of 300+
> > "C:\Program Files\Tomcat\webapps\Root\WEB-INF\lib\my.jar;" corrected
> the
> > issue though.
> >
> > -Andrew
> >
> > > >
> > > > > > On 09/07/2012 16:55, Andrew Kujtan wrote:
> > > > > > > Tomcat Version: 7.0.27
> > > > > > >
> > > > > > > OS: Windows XP/7
> > > > > > > I'm fixing an issue we are having with a webapp that does
> some
> > > > > > > communication over RMI with a remote  server. Calls that
> would
> > > be
> > > > > > > instant in similar applications not inside the tomcat
> > container
> > > > are
> > > > > > > taking more than 30 seconds when called from tomcat. After
> > > > > debugging
> > > > > > > I've found that  when an RMI call is made, the classlist
> > > > containing
> > > > > > > all the jars in the webapp lib folders is being serialized
> > with
> > > > the
> > > > > > data.
> > > > > > > Which wouldn't be a problem normally, except the webapp =
has
> > > >300
> > > > > jars
> > > > > > > in its lib folder.
> > > > > >
> > > > > > In the other similar applications, are there 300+ jars on =
the
> > > > > classpath
> > > > > > too?
> > > > > >
> > > > > >
> > > > > > p
> > > > >
> > > > > Yes they are there as well, but the RMI calls don't include
> them,
> > > or
> > > > > any
> > > > > urls
> > > > > for that matter.
> > > > >
> > > > > >
> > > > > > > The only solution I have found is to create a custom
> > > > > > WebAppClassloader
> > > > > > > that returns a zero length URL array on the getURLs() =
call.
> We
> > > > > don't
> > > > > > > do any dynamic class loading so breaking that is not a
> > problem.
> > > > > > >
> > > > > > > My question is, is there any other way to resolve this,
> like a
> > > > > > > configuration property? If not, are there any problems =
that
> I
> > > am
> > > > > > going
> > > > > > > to introduce by overriding this method? Can I override the
> > > > > > classloader
> > > > > > > for just this webapp or am I stuck doing it for the entire
> > > tomcat
> > > > > > > instance?
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > > Thanks,
> > > > > > >
> > > > > > > Andrew Kujtan
> > > >
> > > > I guess no one has run into this issue before, I've pushed it
> > through
> > > > and am just overloading the classloader in the server.xml
> > > >
> > > > Hopefully this doesn't break anything.
> > > >
> > > >
> > =
---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >
> > >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235744-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 16:26:55 2012
Return-Path: <users-return-235744-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1F949AC8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 16:26:55 +0000 (UTC)
Received: (qmail 262 invoked by uid 500); 30 Jul 2012 16:26:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 205 invoked by uid 500); 30 Jul 2012 16:26:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 193 invoked by uid 99); 30 Jul 2012 16:26:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 16:26:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 16:26:45 +0000
Received: by qabj34 with SMTP id j34so1325763qab.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 09:26:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=f5O1J6KfogeHBDq9FVxR/RO6fwIzeVPpMix5izpJv/0=;
        b=md45DKKb4vNLgK53Zud0Y+ty3ioIIkrEf6zlWG+Ph8Td6jYmv7JnBMzZ9gA3AKlCcs
         sfjclZCo8hLiLnuX4RJepZwQS9MWpzXpS0xFxXJfa6IFzhw5QEyU75Vq8mlOcYyVdkhO
         MVJ8OTjorUjetQyuuSFGmO7LyPxx5MVVY6Bf7ChNtCzFhMUgFjJrAMYBFj0auCEbJNHR
         5FqQsC5AnoG8P/4zZD//Oo7WS5QlYq6hRB/Otbpj+sWo4imVPbef+g1qPD2G3xPBE/E8
         cTRCojYJNDSXKZloLIUEE93wZiG5x2yQXwSsO4IBda85oQW1WqevwJyPrz8PugtBYpML
         dkfw==
Received: by 10.60.0.161 with SMTP id 1mr18116537oef.63.1343665583594;
        Mon, 30 Jul 2012 09:26:23 -0700 (PDT)
Received: from [192.168.1.98] (wintouch.touchtonecorp.com. [69.238.233.81])
        by mx.google.com with ESMTPS id c6sm9421950obn.13.2012.07.30.09.26.11
        (version=SSLv3 cipher=OTHER);
        Mon, 30 Jul 2012 09:26:13 -0700 (PDT)
Message-ID: <5016B59E.9070801@touchtonecorp.com>
Date: Mon, 30 Jul 2012 09:26:06 -0700
From: James Lampert <jamesl@touchtonecorp.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>, 
 Java Programming on and around the iSeries / AS400 <java400-l@midrange.com>
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
References: <500885BE.9000904@touchtonecorp.com>	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>	 <1343152199.3018.340.camel@dellberry> <501168CE.7030907@touchtonecorp.com>	 <1343321376.3018.475.camel@dellberry>  <5011A9C9.60607@touchtonecorp.com> <1343408305.3018.623.camel@dellberry>
In-Reply-To: <1343408305.3018.623.camel@dellberry>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Gm-Message-State: ALoCoQkRG3Yj9C5eO2ouIKEZQTT16kk4EKOih5TOZ7mjE6cCNw1YezpoIjk6XyAVzUY+9U8Gl8MO
X-Virus-Checked: Checked by ClamAV on apache.org

I have just wiped the Tomcat installation on the V5R4 box in question, 
and done a clean install of 7.0.25.

No change in its behavior.

I tried a modified version of our standard Tomcat-launch CL program, 
that adds a CATALINA_OPTS environment variable, with a value of 
"-verbose:class" (excerpt from CL program below):

> ADDENVVAR  ENVVAR(CATALINA_HOME) +                     
>              VALUE('/wintouch/tomcat') REPLACE(*YES)   
> ADDENVVAR  ENVVAR(CATALINA_OPTS) +                     
>              VALUE('-verbose:class') REPLACE(*YES)     
> ADDENVVAR  ENVVAR(JAVA_OPTS) +                         
>              VALUE('-Dos400.awt.native=true +          
>              -Djava.awt.headless=true +                
>              -Djava.version=1.6 -Xms256m -Xmx512m') +  
>              REPLACE(*YES)                             
>                                                        
> SBMJOB     CMD(QSH +                                   
>              CMD('/wintouch/tomcat/bin/startup.sh')) + 
>              JOB(CATALINA) JOBD(WINTOUCH/WTSRVC) +     
>              INLLIBL(QGPL QTEMP) CPYENVVAR(*YES) +     
>              ALWMLTTHD(*YES)                           

(ADDENVVAR being the CL command to set an environment variable, SBMJOB 
to submit a batch job, and QSH to launch QShell, and the CPYENVVAR 
parameter telling SBMJOB to pass the environment variables from the 
submitting job to the submitted job. Placing the environment variables 
in the CL program that launches Tomcat, rather than in catalina.sh or 
setenv.sh, allows us to avoid having to either roll our own version of 
the Tomcat ZIP file, or manually install the environment variables, 
every time we install (or update) Tomcat.)

The STDOUT spool file:
>  /wintouch/tomcat/bin/catalina.sh: 001-0019 Error found searching for command tty. No such path or directory.
>  Using CATALINA_BASE:   /wintouch/tomcat                                                                     
>  Using CATALINA_HOME:   /wintouch/tomcat                                                                     
>  Using CATALINA_TMPDIR: /wintouch/tomcat/temp                                                                
>  Using JRE_HOME:        /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit                                           
>  Using CLASSPATH:       /wintouch/tomcat/bin/bootstrap.jar:/wintouch/tomcat/bin/tomcat-juli.jar              
tells me that it's at least getting to the point in catalina.sh where it 
spits out selected environment variables, and that it's getting the 
environment variables we set in the CL program.

--
JHHL

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235745-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 17:45:54 2012
Return-Path: <users-return-235745-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A567FD74A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 17:45:54 +0000 (UTC)
Received: (qmail 70419 invoked by uid 500); 30 Jul 2012 17:45:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70385 invoked by uid 500); 30 Jul 2012 17:45:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70375 invoked by uid 99); 30 Jul 2012 17:45:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:45:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:45:45 +0000
Received: by obbta14 with SMTP id ta14so12578789obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 10:45:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=eDQjR1cjZFlwPfy2CHE8q1I5yrcBTcRCgXHnZM+zYMU=;
        b=mNdqfsFcOSVlLm7SRBRc0d4eYjhH2ukGPcBaMgU9yIiSAGEV/38e4My6EyB1hW7ETL
         qBEMPRrBl4ZIE1QcuoGYRD8kLRonVv0eoDiLmevGsX5EYguEfcfp2+1doLRCNlf23ish
         ynpaBwVwRUR3EP0JQJDGXIOTNEe/B3LSTxMICKDjA/RdusQy2cRMYCzBouMAmdEpdf+5
         hn57NIesbffu2wUqVNJ86NV0TPcTDdVh8lrXb3glMeNlrgn27RiwPqyTIpbBov/4Uy51
         c/tQNYVq2QZzOwaIrgjHSEUiKd86hbyR/qr7RHlqg1IRBcZn4p+tzByaFC1Clx4E9uGI
         qlHg==
MIME-Version: 1.0
Received: by 10.182.174.68 with SMTP id bq4mr18826232obc.53.1343670324488;
 Mon, 30 Jul 2012 10:45:24 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Mon, 30 Jul 2012 10:45:24 -0700 (PDT)
Date: Mon, 30 Jul 2012 13:45:24 -0400
Message-ID: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com>
Subject: configuring tomcat to use nio
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f50311a62eb6504c60fa000
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f50311a62eb6504c60fa000
Content-Type: text/plain; charset=ISO-8859-1

My friend told me that my comet implementation wasnt working because i need
to configure tomcat to use nio rather than standard java io. what happens
is when i try to connect to the comet servlet from my client, im getting a
reponse that says get request is not supported even though im using a post
request. how do i configure this if this is the right solution?

--e89a8f50311a62eb6504c60fa000--

From users-return-235746-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 17:54:56 2012
Return-Path: <users-return-235746-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D5ECD787
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 17:54:56 +0000 (UTC)
Received: (qmail 96619 invoked by uid 500); 30 Jul 2012 17:54:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96400 invoked by uid 500); 30 Jul 2012 17:54:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96391 invoked by uid 99); 30 Jul 2012 17:54:53 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:54:53 +0000
Received: from localhost (HELO mail-yw0-f45.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:54:52 +0000
Received: by yhpp34 with SMTP id p34so6181586yhp.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 10:54:51 -0700 (PDT)
Received: by 10.43.110.197 with SMTP id el5mr7294014icc.1.1343670891271; Mon,
 30 Jul 2012 10:54:51 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.195.88 with HTTP; Mon, 30 Jul 2012 10:54:31 -0700 (PDT)
In-Reply-To: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Mon, 30 Jul 2012 19:54:31 +0200
Message-ID: <CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Hi,
Not possible currently.
What is your use case ? those goals are for dev purpose.

2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
> I am currently using the snapshot version of tomcat maven plugin.
> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
> overlay) actively.
>
> And the time has come for me to try out virtual host .. and as i
> understand it, i have to configure the host, context, etc ..
> But i've been using the embedded tomcat 'supplied' by the tomcat maven
> plugin so far,
>
> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>
> Or should i just forget embedded tomcat and setup an independent
> tomcat i can configure freely ?
>
> Thank you,
> Albert
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235747-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 17:58:03 2012
Return-Path: <users-return-235747-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9713D7A2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 17:58:03 +0000 (UTC)
Received: (qmail 11956 invoked by uid 500); 30 Jul 2012 17:58:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11879 invoked by uid 500); 30 Jul 2012 17:58:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11870 invoked by uid 99); 30 Jul 2012 17:58:00 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:58:00 +0000
Received: from localhost (HELO mail-yw0-f45.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 17:58:00 +0000
Received: by yhpp34 with SMTP id p34so6185872yhp.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 10:57:59 -0700 (PDT)
Received: by 10.50.157.194 with SMTP id wo2mr9071685igb.72.1343671079407; Mon,
 30 Jul 2012 10:57:59 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.195.88 with HTTP; Mon, 30 Jul 2012 10:57:39 -0700 (PDT)
In-Reply-To: <CAMT20g-G9U9dsgpQC1V-f-X2SDrcLJows7uGOHv0RM=1Ud=0mg@mail.gmail.com>
References: <CAMT20g-G9U9dsgpQC1V-f-X2SDrcLJows7uGOHv0RM=1Ud=0mg@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Mon, 30 Jul 2012 19:57:39 +0200
Message-ID: <CAPoyBqS62MPvxvkLrvG+BKyqYnwNYV8xaP3LQvp5FVRLAHuabg@mail.gmail.com>
Subject: Re: tomcat maven plugin + [default] overlay
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/7/26 Albert Kam <moonblade.wolf@gmail.com>:
> Hello,
>
> I am having a situation where i couldnt tomcat7:run with overlay in eclipse.
> In the eclipse indigo, i am using the maven plugin, and have imported
> two maven modules,
> the childwebapp which depends on the parentwebapp, which is just like
> a skeleton, with it's own classes, jsps, static resources, but also a
> runnable webapp of itself.
> Doing tomcat7:run on the parentwebapp works well as expected ..
>
> Here's the dependency in the childwebapp's pom, and i dont have any
> specific overlay configuration :
> <dependency>
>         <groupId>group.id</groupId>
>         <artifactId>parentwebapp</artifactId>
>         <version>${project.version}</version>
>         <type>war</type>
>         <scope>runtime</scope>
> </dependency>
This dependency is a reactor modules ? So in this case I presume
eclipse (m2e) see the build output directory rather than a war file.
The plugin doesn't have any idea how your war dependency is available
in an exploded mode (where are the webapp resources and/or classes
etc..)
try to install it first.
>
> When i try running tomcat7:run on the childwebapp, i get this error message,
> as if it tries to find the war of parentwebapp and try to extract it.
> But in my situation, i dont have the war in my development,
> since the eclipse maven plugin already resolves the workspace dependencies.
> I would imagine using the classes from the workspace instead of
> extracting the non-existent war file and load them into the
> childwebapp would solve the issue  ..
>
> [INFO]
> [INFO] --- maven-resources-plugin:2.4.3:resources (default-resources)
> @ childwebapp ---
> [WARNING] Using platform encoding (Cp1252 actually) to copy filtered
> resources, i.e. build is platform dependent!
> [INFO] Copying 0 resource
> [INFO]
> [INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @
> childwebapp ---
> [INFO] Nothing to compile - all classes are up to date
> [INFO]
> [INFO] <<< tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp <<<
> [INFO]
> [INFO] --- tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp ---
> [INFO] Running war on http://localhost:8080/childwebapp
> [INFO] Creating Tomcat server configuration at
> C:\Users\albert\git\Startup\MavenParent\childwebapp\target\tomcat
> [INFO] create webapp with contextPath: /childwebapp
> [ERROR] fail to extract war file
> C:\Users\albert\git\Startup\MavenParent\parentwebapp\target\classes,
> reason:The source must not be a di
> rectory.
> org.codehaus.plexus.archiver.ArchiverException: The source must not be
> a directory.
>         at org.codehaus.plexus.archiver.AbstractUnArchiver.validate(AbstractUnArchiver.java:185)
>         at org.codehaus.plexus.archiver.AbstractUnArchiver.extract(AbstractUnArchiver.java:118)
>         at org.apache.tomcat.maven.common.run.DefaultClassLoaderEntriesCalculator.calculateClassPathEntries(DefaultClassLoaderEntriesCalc
> ulator.java:149)
>         at org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo.createWebappLoader(RunMojo.java:254)
>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.createContext(AbstractRunMojo.java:563)
>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.startContainer(AbstractRunMojo.java:927)
>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.execute(AbstractRunMojo.java:476)
>         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
>
> What can i do to resolve this situation ?
>
> Thank you,
> Albert
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235748-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:03:00 2012
Return-Path: <users-return-235748-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17DD9D7E6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:03:00 +0000 (UTC)
Received: (qmail 31476 invoked by uid 500); 30 Jul 2012 18:02:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31406 invoked by uid 500); 30 Jul 2012 18:02:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31397 invoked by uid 99); 30 Jul 2012 18:02:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:02:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,T_FRT_PROFILE2
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.61] (HELO elasmtp-galgo.atl.sa.earthlink.net) (209.86.89.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:02:50 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-galgo.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SvuIX-0005GN-2j; Mon, 30 Jul 2012 14:02:29 -0400
Subject: Re: Tomcat 7.0.25 on an AS/400, V5R4, Another try. Help?
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
Cc: Java Programming on and around the iSeries / AS400 <java400-l@midrange.com>
In-Reply-To: <5016B59E.9070801@touchtonecorp.com>
References: <500885BE.9000904@touchtonecorp.com>
	 <50089D6E.9020602@kippdata.de>  <500ECA9A.6000600@touchtonecorp.com>
	 <1343152199.3018.340.camel@dellberry> <501168CE.7030907@touchtonecorp.com>
	 <1343321376.3018.475.camel@dellberry>  <5011A9C9.60607@touchtonecorp.com>
	 <1343408305.3018.623.camel@dellberry>  <5016B59E.9070801@touchtonecorp.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-BHFOThfeLQzXJiteuNsm"
Organization: Clifton Farm
Date: Mon, 30 Jul 2012 14:02:37 -0400
Message-ID: <1343671357.3018.903.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a0ff59f3e5c7f125a901479e6948f79fef350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-BHFOThfeLQzXJiteuNsm
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Mon, 2012-07-30 at 09:26 -0700, James Lampert wrote:
> I have just wiped the Tomcat installation on the V5R4 box in question,=20
> and done a clean install of 7.0.25.
>=20
> No change in its behavior.
>=20
> I tried a modified version of our standard Tomcat-launch CL program,=20
> that adds a CATALINA_OPTS environment variable, with a value of=20
> "-verbose:class" (excerpt from CL program below):
>=20
> > ADDENVVAR  ENVVAR(CATALINA_HOME) +                    =20
> >              VALUE('/wintouch/tomcat') REPLACE(*YES)  =20
> > ADDENVVAR  ENVVAR(CATALINA_OPTS) +                    =20
> >              VALUE('-verbose:class') REPLACE(*YES)    =20

Did this have any effect?  catalina.out should have a lot of messages
like "[Loaded <class.name> from <source>]"

> > ADDENVVAR  ENVVAR(JAVA_OPTS) +                        =20
> >              VALUE('-Dos400.awt.native=3Dtrue +         =20
> >              -Djava.awt.headless=3Dtrue +               =20
> >              -Djava.version=3D1.6 -Xms256m -Xmx512m') + =20
> >              REPLACE(*YES)                            =20
> >                                                       =20
> > SBMJOB     CMD(QSH +                                  =20
> >              CMD('/wintouch/tomcat/bin/startup.sh')) +=20
> >              JOB(CATALINA) JOBD(WINTOUCH/WTSRVC) +    =20
> >              INLLIBL(QGPL QTEMP) CPYENVVAR(*YES) +    =20
> >              ALWMLTTHD(*YES)                          =20
>=20
> (ADDENVVAR being the CL command to set an environment variable, SBMJOB=20
> to submit a batch job, and QSH to launch QShell, and the CPYENVVAR=20
> parameter telling SBMJOB to pass the environment variables from the=20
> submitting job to the submitted job. Placing the environment variables=20
> in the CL program that launches Tomcat, rather than in catalina.sh or=20
> setenv.sh, allows us to avoid having to either roll our own version of=20
> the Tomcat ZIP file, or manually install the environment variables,=20
> every time we install (or update) Tomcat.)
>=20

Bear with me, I'm not proficient in AS/400:  Is it possible to open an
interactive QShell and try to start Tomcat that way?

> The STDOUT spool file:
> >  /wintouch/tomcat/bin/catalina.sh: 001-0019 Error found searching for c=
ommand tty. No such path or directory.
> >  Using CATALINA_BASE:   /wintouch/tomcat                               =
                                     =20
> >  Using CATALINA_HOME:   /wintouch/tomcat                               =
                                     =20
> >  Using CATALINA_TMPDIR: /wintouch/tomcat/temp                          =
                                     =20
> >  Using JRE_HOME:        /QOpenSys/QIBM/ProdData/JavaVM/jdk60/32bit     =
                                     =20
> >  Using CLASSPATH:       /wintouch/tomcat/bin/bootstrap.jar:/wintouch/to=
mcat/bin/tomcat-juli.jar             =20
> tells me that it's at least getting to the point in catalina.sh where it=20
> spits out selected environment variables,=20

There's never been any doubt about that right?  You wouldn't be getting
the ClassNotFoundException otherwise.

> and that it's getting the=20
> environment variables we set in the CL program.

Maybe.  But that's neither here nor there.

>=20
> --
> JHHL
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=-BHFOThfeLQzXJiteuNsm
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQFsw9AAoJEAfDBXDHBQilVicH/jIL4K122k9VsxPk1CKrWbil
yVWRUXC+vuzK0FYoldjdF4HOyptzJ0bpFc7q/nenYO41MYhm0NLNdI8pbtjzk0bE
pzCF+GNCZtVa06xqhBtGRWQpsKSM4bU/QqdKGC5lMgIUOlCsesRh8V1gL30ei4ev
GL8Fgqb+/fOejerFiq+p2HXoD4P9HIIoFM39m2+lZRSoVRI6VKb454lk+Goy8KCJ
3XbX2SQRVqFxXI1QdgiIAQcjK2vl1HqLCRpzJN8i1oCHxAjsh625PkmrgQFiXcEb
PlfiRgjIuSt6lJL/sa3OHcYwpf/NbxnQvgrJP9b9pgJzCHT1lj15JSD5USXnxoQ=
=r3mA
-----END PGP SIGNATURE-----

--=-BHFOThfeLQzXJiteuNsm--


From users-return-235749-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:17:01 2012
Return-Path: <users-return-235749-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDDEED853
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:17:00 +0000 (UTC)
Received: (qmail 76751 invoked by uid 500); 30 Jul 2012 18:16:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76705 invoked by uid 500); 30 Jul 2012 18:16:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76692 invoked by uid 99); 30 Jul 2012 18:16:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:16:57 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:16:48 +0000
Received: from mail.homeinbox.net ([2.24.218.1])
	by mwinf5d49 with ME
	id giGT1j00602Pqcq03iGTXY; Mon, 30 Jul 2012 20:16:28 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 103D1B22001
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 19:16:27 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HnvsRgKUyryu for <users@tomcat.apache.org>;
	Mon, 30 Jul 2012 19:15:42 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id CD7ECEAB424
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 19:15:41 +0100 (BST)
Message-ID: <5016CF4B.1030906@apache.org>
Date: Mon, 30 Jul 2012 19:15:39 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: configuring tomcat to use nio
References: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com>
In-Reply-To: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 30/07/2012 18:45, Elias Kopsiaftis wrote:
> My friend told me that my comet implementation wasnt working because i need
> to configure tomcat to use nio rather than standard java io. what happens
> is when i try to connect to the comet servlet from my client, im getting a
> reponse that says get request is not supported even though im using a post
> request. how do i configure this if this is the right solution?

http://tomcat.apache.org/tomcat-7.0-doc/config/http.html

Look for protocol.

Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235750-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:26:54 2012
Return-Path: <users-return-235750-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C304FCA66
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:26:54 +0000 (UTC)
Received: (qmail 18898 invoked by uid 500); 30 Jul 2012 18:26:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18841 invoked by uid 500); 30 Jul 2012 18:26:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18832 invoked by uid 99); 30 Jul 2012 18:26:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:26:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:26:44 +0000
Received: by obbta14 with SMTP id ta14so12638227obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 11:26:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=esZBQ91PPLbbKgkVB46RAiJtghaLlJg4sMT6BE+EDqE=;
        b=bgY9ludYzXX95kMZMsKr5b5nDZtb+yMxNsjJtwVU6Ejo9Ryu1tBVjEwj0IqPOWnaT5
         CxQoPhTOh3LRudUQype6F48qSFIPgh1MNNDMTgWQ+4QKcKwvoyNsHMBtYGnsJMCcbBI3
         VOyMCXVgiY/pq37Ef2JCL8v8PD+5R90L9ADpPLv6hpAzbHRO8J3j1G49axS4Of2MT+9p
         qBXxoXNL8aF+Dr4XM+oEjByqWyIXQ23Ii/2w7laoJPmKtC9uo+3mpsSm6aHpqldHJ+j0
         G18UuNunsxBVlmkSXhDaPRywyanqoLhpLOOX5D/BzaOQRprcgGGKB+9gA/ZNGzF3cSWj
         l7Og==
MIME-Version: 1.0
Received: by 10.182.53.103 with SMTP id a7mr18990020obp.3.1343672783106; Mon,
 30 Jul 2012 11:26:23 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Mon, 30 Jul 2012 11:26:23 -0700 (PDT)
In-Reply-To: <5016CF4B.1030906@apache.org>
References: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com>
	<5016CF4B.1030906@apache.org>
Date: Mon, 30 Jul 2012 14:26:23 -0400
Message-ID: <CALxMDxbYM5AW3gFKXOyrQrM82jwGKn7X74-F5Lioce=hQ+aAmQ@mail.gmail.com>
Subject: Re: configuring tomcat to use nio
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d04479631ee706604c6103242

--f46d04479631ee706604c6103242
Content-Type: text/plain; charset=ISO-8859-1

thank you for your quick response.  i actually found that document and
shouldve specified that. what i really meant was, what is the name of the
file you modify?

On Mon, Jul 30, 2012 at 2:15 PM, Mark Thomas <markt@apache.org> wrote:

> On 30/07/2012 18:45, Elias Kopsiaftis wrote:
> > My friend told me that my comet implementation wasnt working because i
> need
> > to configure tomcat to use nio rather than standard java io. what happens
> > is when i try to connect to the comet servlet from my client, im getting
> a
> > reponse that says get request is not supported even though im using a
> post
> > request. how do i configure this if this is the right solution?
>
> http://tomcat.apache.org/tomcat-7.0-doc/config/http.html
>
> Look for protocol.
>
> Mark
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d04479631ee706604c6103242--

From users-return-235751-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:34:06 2012
Return-Path: <users-return-235751-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26845C7DE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:34:06 +0000 (UTC)
Received: (qmail 45918 invoked by uid 500); 30 Jul 2012 18:34:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45709 invoked by uid 500); 30 Jul 2012 18:34:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45690 invoked by uid 99); 30 Jul 2012 18:34:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:34:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:33:55 +0000
Received: from mail.homeinbox.net ([2.24.218.1])
	by mwinf5d49 with ME
	id giZZ1j00902Pqcq03iZZyS; Mon, 30 Jul 2012 20:33:33 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 50E82B22002
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 19:33:33 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B+EDIlqZtCIU for <users@tomcat.apache.org>;
	Mon, 30 Jul 2012 19:33:26 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 809C2B22001
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 19:33:26 +0100 (BST)
Message-ID: <5016D374.6000602@apache.org>
Date: Mon, 30 Jul 2012 19:33:24 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: configuring tomcat to use nio
References: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com> <5016CF4B.1030906@apache.org> <CALxMDxbYM5AW3gFKXOyrQrM82jwGKn7X74-F5Lioce=hQ+aAmQ@mail.gmail.com>
In-Reply-To: <CALxMDxbYM5AW3gFKXOyrQrM82jwGKn7X74-F5Lioce=hQ+aAmQ@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 30/07/2012 19:26, Elias Kopsiaftis wrote:
> thank you for your quick response.  i actually found that document and
> shouldve specified that. what i really meant was, what is the name of the
> file you modify?

http://tomcat.apache.org/tomcat-7.0-doc/config/index.html

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235752-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:34:53 2012
Return-Path: <users-return-235752-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6102BC81A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:34:53 +0000 (UTC)
Received: (qmail 51262 invoked by uid 500); 30 Jul 2012 18:34:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51198 invoked by uid 500); 30 Jul 2012 18:34:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51188 invoked by uid 99); 30 Jul 2012 18:34:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:34:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:34:42 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id gaal1j00F1swQuc53iaP4e; Mon, 30 Jul 2012 18:34:23 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id gia81j01L38FjT13bia9do; Mon, 30 Jul 2012 18:34:10 +0000
Message-ID: <5016D3B4.1020605@christopherschultz.net>
Date: Mon, 30 Jul 2012 14:34:28 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Pointing tomcat to a different timezone
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com> <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com> <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com> <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com> <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com>
In-Reply-To: <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 7/29/12 9:21 PM, Konstantin Kolinko wrote:
>>> When you are saying that it is "still in UTC", what data are
>>> you looking at?
>>> 
> 
> You have not answered the above question. It might be that the
> date you are looking at explicitly uses the UTC timezone.

Also, Tomcat doesn't really care what time zone you are in. It's best
to think of all times are being time-zone-less and then apply a time
zone merely for output purposes.

Unfortunately, lots of the Java date and time APIs have some hidden
time zone stuff. For instance, java.util.Date has a timezone offset
that I believe gets set to the JVM's native timezone offset (UTC in
your case?) but you can't change it. So, when you want to do anything
with java.util.Date, you have to adjust for that.

Likewise, java.text.SimpleDateFormat contains a time zone which
defaults to the JVM's timezone, but does not have a constructor that
accepts a time zone. So, you need to set the time zone through a
separate method before doing anything with SimpleDateFormat.

Of course, Sun/Oracle have deprecated pretty much all of the
java.util.Date API in favor of java.util.Calendar, but then completely
failed to support Calendar with DateFormat and java.sql.*.

Just wait: JSR 310 promises to solve all of these problems by
providing a new API similar to Jodatime that will probably end up
failing us all miserably.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAW07QACgkQ9CaO5/Lv0PCt6QCff6Ts+fonxw81pZK/1Ib6wrOe
mRYAn3hdzIYznmly+vNwjUG9zVz6bw1b
=Cote
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235753-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 18:40:32 2012
Return-Path: <users-return-235753-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEA55C89D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 18:40:31 +0000 (UTC)
Received: (qmail 73515 invoked by uid 500); 30 Jul 2012 18:40:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73437 invoked by uid 500); 30 Jul 2012 18:40:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73428 invoked by uid 99); 30 Jul 2012 18:40:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:40:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yemista@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 18:40:21 +0000
Received: by obbta14 with SMTP id ta14so12654818obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 11:40:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0Z2HicaXHWsQAOMpEjrvl+i5EAqxRFy8e6RqLQ1+TE8=;
        b=vYQnBquHqC1vrTGpwjOkg8z2sOKljgVdMccaX87V4Gl1qoQEP8WSqDVwl+6+/N/Xyh
         xdc9k774MhMhFD07szrA0awwxPz9ACROOkl10ceiFE8pcx0zXwaRvRsyGbk1BC+xRmjD
         c32C5jphha7XByL9O3+6kXCe+k5nFrXBAoJs+Z5Ow5iy97lnfl66KHmQr2FKtT84lCl6
         Djo2nmEczrJ6kM6/wxrWgCvKorPHxi1HsmkxkdLrrf3sFn2x54vCnYGWXzpGl2P65Bj6
         +Qx2+xNOsHPFDINbjEXe6/mrSutdEgJCB3ro11UfM6EtQ2L5XmQKcqSzw3sIDNU1rd7X
         SQOA==
MIME-Version: 1.0
Received: by 10.182.145.8 with SMTP id sq8mr18911694obb.50.1343673600350; Mon,
 30 Jul 2012 11:40:00 -0700 (PDT)
Received: by 10.182.57.161 with HTTP; Mon, 30 Jul 2012 11:40:00 -0700 (PDT)
In-Reply-To: <5016D374.6000602@apache.org>
References: <CALxMDxZJoJJ0DUQeo6j_L=X9CMYD8W0j5nufyS5bhF5B4pJ3Kg@mail.gmail.com>
	<5016CF4B.1030906@apache.org>
	<CALxMDxbYM5AW3gFKXOyrQrM82jwGKn7X74-F5Lioce=hQ+aAmQ@mail.gmail.com>
	<5016D374.6000602@apache.org>
Date: Mon, 30 Jul 2012 14:40:00 -0400
Message-ID: <CALxMDxa_xP9ob8hKg5kzBapXTs6OQ6_UmCZoQ9Bcw1zDCK4Fvw@mail.gmail.com>
Subject: Re: configuring tomcat to use nio
From: Elias Kopsiaftis <yemista@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044786c3a498f704c610636f

--f46d044786c3a498f704c610636f
Content-Type: text/plain; charset=ISO-8859-1

thank you again

On Mon, Jul 30, 2012 at 2:33 PM, Mark Thomas <markt@apache.org> wrote:

> On 30/07/2012 19:26, Elias Kopsiaftis wrote:
> > thank you for your quick response.  i actually found that document and
> > shouldve specified that. what i really meant was, what is the name of the
> > file you modify?
>
> http://tomcat.apache.org/tomcat-7.0-doc/config/index.html
>
> Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044786c3a498f704c610636f--

From users-return-235754-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 19:20:41 2012
Return-Path: <users-return-235754-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 513D0C9D7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 19:20:41 +0000 (UTC)
Received: (qmail 82382 invoked by uid 500); 30 Jul 2012 19:20:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82230 invoked by uid 500); 30 Jul 2012 19:20:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82221 invoked by uid 99); 30 Jul 2012 19:20:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 19:20:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kkc4al@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 19:20:31 +0000
Received: by yenl1 with SMTP id l1so6334085yen.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 12:20:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=references:in-reply-to:mime-version:content-transfer-encoding
         :content-type:message-id:cc:x-mailer:from:subject:date:to;
        bh=lo6tRtHywARSFIj6WqNeqeOcJr2WfUZsjtgFVFtxXzU=;
        b=QeBTqgiv/9lkSvdzDIFp6S2G7I3DI0RsgFXNyqidMiSP2de4SnTsHvsZHASniRBAfQ
         ZgSx4pYc2b4ISfdfz7mBi1vj8mCKK12unEg5Ei7Ogy2G0ker1fGdz76O/gzQ731PBM6S
         w+nAF6hCxJivJA1+IrVlXyWuRcyLhIMfZ1hCsc2XEU2shf9wWdtJSagokzFnN7WwgVyR
         3S4AHTgFUnfG9DYIOLvtfy4/3OTd8970U78ErIICc872IwIFic6BhCRHU870DuHRNToa
         rHx9CAfJY9zljXdj8a58YOaM0A1vjrMG5EG4sACbWFr6PTE21hny2BRdjYVLlhepywwD
         sjKA==
Received: by 10.60.3.137 with SMTP id c9mr19044670oec.21.1343676010150;
        Mon, 30 Jul 2012 12:20:10 -0700 (PDT)
Received: from [5.1.204.240] (wsip-98-172-15-206.fv.ks.cox.net. [98.172.15.206])
        by mx.google.com with ESMTPS id cp8sm9758683obc.23.2012.07.30.12.20.07
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 30 Jul 2012 12:20:08 -0700 (PDT)
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com> <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com> <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com> <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com> <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com> <5016D3B4.1020605@christopherschultz.net>
In-Reply-To: <5016D3B4.1020605@christopherschultz.net>
Mime-Version: 1.0 (1.0)
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii
Message-Id: <59FE6020-A531-4801-99E9-125EB62FB200@gmail.com>
Cc: Tomcat Users List <users@tomcat.apache.org>
X-Mailer: iPhone Mail (9A405)
From: Krishna Chaitanya <kkc4al@gmail.com>
Subject: Re: Pointing tomcat to a different timezone
Date: Mon, 30 Jul 2012 12:20:05 -0700
To: Tomcat Users List <users@tomcat.apache.org>

This issue is fixed. Thanks everyone :-)

Krishna Kurnala.

On Jul 30, 2012, at 11:34 AM, Christopher Schultz <chris@christopherschultz.=
net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Konstantin,
>=20
> On 7/29/12 9:21 PM, Konstantin Kolinko wrote:
>>>> When you are saying that it is "still in UTC", what data are
>>>> you looking at?
>>>>=20
>>=20
>> You have not answered the above question. It might be that the
>> date you are looking at explicitly uses the UTC timezone.
>=20
> Also, Tomcat doesn't really care what time zone you are in. It's best
> to think of all times are being time-zone-less and then apply a time
> zone merely for output purposes.
>=20
> Unfortunately, lots of the Java date and time APIs have some hidden
> time zone stuff. For instance, java.util.Date has a timezone offset
> that I believe gets set to the JVM's native timezone offset (UTC in
> your case?) but you can't change it. So, when you want to do anything
> with java.util.Date, you have to adjust for that.
>=20
> Likewise, java.text.SimpleDateFormat contains a time zone which
> defaults to the JVM's timezone, but does not have a constructor that
> accepts a time zone. So, you need to set the time zone through a
> separate method before doing anything with SimpleDateFormat.
>=20
> Of course, Sun/Oracle have deprecated pretty much all of the
> java.util.Date API in favor of java.util.Calendar, but then completely
> failed to support Calendar with DateFormat and java.sql.*.
>=20
> Just wait: JSR 310 promises to solve all of these problems by
> providing a new API similar to Jodatime that will probably end up
> failing us all miserably.
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>=20
> iEYEARECAAYFAlAW07QACgkQ9CaO5/Lv0PCt6QCff6Ts+fonxw81pZK/1Ib6wrOe
> mRYAn3hdzIYznmly+vNwjUG9zVz6bw1b
> =3DCote
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235755-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 20:24:43 2012
Return-Path: <users-return-235755-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 034F3DEC3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 20:24:43 +0000 (UTC)
Received: (qmail 75796 invoked by uid 500); 30 Jul 2012 20:24:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75745 invoked by uid 500); 30 Jul 2012 20:24:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75736 invoked by uid 99); 30 Jul 2012 20:24:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:24:39 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kris.easter@colorado.edu designates 128.138.129.2 as permitted sender)
Received: from [128.138.129.2] (HELO spot.colorado.edu) (128.138.129.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:24:30 +0000
Received: from [128.138.113.104] (mrhappy.colorado.edu [128.138.113.104])
	(authenticated bits=0)
	by spot.colorado.edu (8.14.1/8.14.1/ITS-7.0/ldap2-1+tls) with ESMTP id q6UKO8p3009827
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 14:24:08 -0600 (MDT)
Subject: Form Authentication question
From: Kris Easter <kris.easter@colorado.edu>
To: users@tomcat.apache.org
Content-Type: text/plain; charset="UTF-8"
Date: Mon, 30 Jul 2012 14:24:08 -0600
Message-ID: <1343679848.2640.44.camel@mrhappy.colorado.edu>
Mime-Version: 1.0
X-Mailer: Evolution 2.32.2 
Content-Transfer-Encoding: 7bit


I'm looking at the org.apache.catalina.authenticator.FormAuthenticator
class from the 7.0.29 src.  This portion of the authenticate method
starting around line 301 is where I'm having a little problem:


if (log.isDebugEnabled()) {
  log.debug("Authentication of '" + username + "' was successful");
}

if (session == null) {
   session = request.getSessionInternal(false);
}

if (session == null) {
  if (containerLog.isDebugEnabled()) {
    containerLog.debug
       ("User took so long to log on the session expired");
  }

if (landingPage == null) {

response.sendError(HttpServletResponse.SC_REQUEST_TIMEOUT,
                        sm.getString("authenticator.sessionExpired"));
  } else {
     // Make the authenticator think the user originally requested
     // the landing page
     String uri = request.getContextPath() + landingPage;
     SavedRequest saved = new SavedRequest();
     saved.setMethod("GET");
     saved.setRequestURI(uri);
     request.getSessionInternal(true).setNote(
                        Constants.FORM_REQUEST_NOTE, saved);
     response.sendRedirect(response.encodeRedirectURL(uri));
  }
 return (false);
}


If the user sits too long on the login page the session times out, even
if their credentials were authenticated successfully, and sends them
back to the login page where they must re-enter their credentials.  It
works this way even if I define a landingPage.  Without a landingPage I
get the dreaded 408 error.

Can anyone enlighten me as to why it's a bad idea if:

 if (session == null) {
   session = request.getSessionInternal(false);
 }

is instead:

 if (session == null) {
  session = request.getSessionInternal(true);
 }

Thanks,
Kris



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235756-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 20:37:20 2012
Return-Path: <users-return-235756-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F880D7AF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 20:37:20 +0000 (UTC)
Received: (qmail 11995 invoked by uid 500); 30 Jul 2012 20:37:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 11940 invoked by uid 500); 30 Jul 2012 20:37:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 11929 invoked by uid 99); 30 Jul 2012 20:37:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:37:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [80.12.242.68] (HELO smtpout.wanadoo.co.uk) (80.12.242.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:37:08 +0000
Received: from mail.homeinbox.net ([2.24.218.1])
	by mwinf5d49 with ME
	id gkcn1j00E02Pqcq03kcnWZ; Mon, 30 Jul 2012 22:36:48 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 51E40B22001
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 21:36:47 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HkFaz-rbIVKj for <users@tomcat.apache.org>;
	Mon, 30 Jul 2012 21:36:43 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id F3D61EAB424
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 21:36:42 +0100 (BST)
Message-ID: <5016F059.3090808@apache.org>
Date: Mon, 30 Jul 2012 21:36:41 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Form Authentication question
References: <1343679848.2640.44.camel@mrhappy.colorado.edu>
In-Reply-To: <1343679848.2640.44.camel@mrhappy.colorado.edu>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 30/07/2012 21:24, Kris Easter wrote:
> 
> I'm looking at the org.apache.catalina.authenticator.FormAuthenticator
> class from the 7.0.29 src.  This portion of the authenticate method
> starting around line 301 is where I'm having a little problem:
> 
> 
> if (log.isDebugEnabled()) {
>   log.debug("Authentication of '" + username + "' was successful");
> }
> 
> if (session == null) {
>    session = request.getSessionInternal(false);
> }
> 
> if (session == null) {
>   if (containerLog.isDebugEnabled()) {
>     containerLog.debug
>        ("User took so long to log on the session expired");
>   }
> 
> if (landingPage == null) {
> 
> response.sendError(HttpServletResponse.SC_REQUEST_TIMEOUT,
>                         sm.getString("authenticator.sessionExpired"));
>   } else {
>      // Make the authenticator think the user originally requested
>      // the landing page
>      String uri = request.getContextPath() + landingPage;
>      SavedRequest saved = new SavedRequest();
>      saved.setMethod("GET");
>      saved.setRequestURI(uri);
>      request.getSessionInternal(true).setNote(
>                         Constants.FORM_REQUEST_NOTE, saved);
>      response.sendRedirect(response.encodeRedirectURL(uri));
>   }
>  return (false);
> }
> 
> 
> If the user sits too long on the login page the session times out, even
> if their credentials were authenticated successfully, and sends them
> back to the login page where they must re-enter their credentials.  It
> works this way even if I define a landingPage.  Without a landingPage I
> get the dreaded 408 error.
> 
> Can anyone enlighten me as to why it's a bad idea if:
> 
>  if (session == null) {
>    session = request.getSessionInternal(false);
>  }
> 
> is instead:
> 
>  if (session == null) {
>   session = request.getSessionInternal(true);
>  }

Because the session defines where to go after the authentication i.e.
which page the user requested originally. I suppose we could allow the
user to transition to the landing page in that case.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235757-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 20:55:04 2012
Return-Path: <users-return-235757-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00189D879
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 20:55:03 +0000 (UTC)
Received: (qmail 65619 invoked by uid 500); 30 Jul 2012 20:55:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65522 invoked by uid 500); 30 Jul 2012 20:55:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65510 invoked by uid 99); 30 Jul 2012 20:55:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:55:00 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kris.easter@colorado.edu designates 128.138.129.2 as permitted sender)
Received: from [128.138.129.2] (HELO spot.colorado.edu) (128.138.129.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 20:54:51 +0000
Received: from [128.138.113.104] (mrhappy.colorado.edu [128.138.113.104])
	(authenticated bits=0)
	by spot.colorado.edu (8.14.1/8.14.1/ITS-7.0/ldap2-1+tls) with ESMTP id q6UKsGOD014852
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <users@tomcat.apache.org>; Mon, 30 Jul 2012 14:54:16 -0600 (MDT)
Subject: Re: Form Authentication question
From: Kris Easter <kris.easter@colorado.edu>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <5016F059.3090808@apache.org>
References: <1343679848.2640.44.camel@mrhappy.colorado.edu>
	 <5016F059.3090808@apache.org>
Content-Type: text/plain; charset="UTF-8"
Date: Mon, 30 Jul 2012 14:54:16 -0600
Message-ID: <1343681656.2640.47.camel@mrhappy.colorado.edu>
Mime-Version: 1.0
X-Mailer: Evolution 2.32.2 
Content-Transfer-Encoding: 7bit

On Mon, 2012-07-30 at 14:36 -0600, Mark Thomas wrote:
> On 30/07/2012 21:24, Kris Easter wrote:
> > 
> ... 
> > 
> > If the user sits too long on the login page the session times out, even
> > if their credentials were authenticated successfully, and sends them
> > back to the login page where they must re-enter their credentials.  It
> > works this way even if I define a landingPage.  Without a landingPage I
> > get the dreaded 408 error.
> > 
> > Can anyone enlighten me as to why it's a bad idea if:
> > 
> >  if (session == null) {
> >    session = request.getSessionInternal(false);
> >  }
> > 
> > is instead:
> > 
> >  if (session == null) {
> >   session = request.getSessionInternal(true);
> >  }
> 
> Because the session defines where to go after the authentication i.e.
> which page the user requested originally. I suppose we could allow the
> user to transition to the landing page in that case.
> 
> Mark

That would be preferable for my use case.

Kris


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235758-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 21:49:08 2012
Return-Path: <users-return-235758-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AD69D796
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 21:49:08 +0000 (UTC)
Received: (qmail 41320 invoked by uid 500); 30 Jul 2012 21:49:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41268 invoked by uid 500); 30 Jul 2012 21:49:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41257 invoked by uid 99); 30 Jul 2012 21:49:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 21:49:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of keropotter@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 21:48:57 +0000
Received: by bkcji1 with SMTP id ji1so3333194bkc.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 14:48:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=pBQyBlCrXW0dCy2K4MLvgVbHU8CG6emJnRGOjRgb83s=;
        b=Z4PLIRllSwZ3RsiEtiJ82uWXhqeIFLgpcvbQX11sPuTeK7rCDksf88lhHfBTTapCPQ
         NUS9oW4C1m8d4y2drhkqvpw9WGmuGI0vqb33MeC5CsXCo4yLBJyLqTan81gMMcUIKaAZ
         +7FJE+OPfTkr5vjpVnNfNmIyoITt/1XldW5d5a+44IAs1aqyCSyh0tQ4U5/GOwksXUi/
         DtXMvLEDoynUsVntMexJBeZf4NxCkewHvntc3iNW/YeB1xhW8eZnizkVw2Jo23Pn8Jot
         Lzz5bgqFEnQeeD1Qrt+NHsUmKPUt0u7jqdMy1rJCF1mWK6566dRPLFbBimS4HVBpNuj5
         7f2g==
Received: by 10.204.41.206 with SMTP id p14mr4432737bke.54.1343684917206; Mon,
 30 Jul 2012 14:48:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.13.9 with HTTP; Mon, 30 Jul 2012 14:48:16 -0700 (PDT)
From: Alejandro Mehring <keropotter@gmail.com>
Date: Mon, 30 Jul 2012 18:48:16 -0300
Message-ID: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
Subject: Problems upgrading to Tomcat 7
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=bcaec555517a2e1def04c6130658

--bcaec555517a2e1def04c6130658
Content-Type: text/plain; charset=ISO-8859-1

Hi all!!

I'm migrating to Tomcat 7 a web system that used to run on Tomcat 4...

So far, I've been able to sort out all of the issues I've faced, but I'm
stuck at one point. When a page loads in Tomcat 4, it goes and fetches the
stylesheet from the server with a link of the form

<link type="text/css" href="../lightStyle.css" rel="stylesheet">

But on Tomcat 7, the parent directory indirection is removed, and I can't
seem to find the way to prevent this from happening!

What confuses me more, is that when Tomcat generates the *_jsp.java files,
both 4 and 7 versions generate a line of code like this one:

out.write("<link rel=\"stylesheet\" href=\"../lightStyle.css\"
type=\"text/css\">\r\n\r\n");

So i can't figure out why the rendering process is removing the '../' bit
of the link!

Has anyone faced this problem before? I haven't found any parent directory
restriction configuration or something that would point me in that
direction.

Thanks for your time and help!!
Alejandro

--bcaec555517a2e1def04c6130658--

From users-return-235759-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Jul 30 21:58:01 2012
Return-Path: <users-return-235759-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47C67D7DB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 30 Jul 2012 21:58:01 +0000 (UTC)
Received: (qmail 72071 invoked by uid 500); 30 Jul 2012 21:57:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72003 invoked by uid 500); 30 Jul 2012 21:57:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71992 invoked by uid 99); 30 Jul 2012 21:57:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 21:57:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of llowder@oreillyauto.com designates 208.70.182.171 as permitted sender)
Received: from [208.70.182.171] (HELO domino1.oreillyauto.com) (208.70.182.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jul 2012 21:57:50 +0000
MIME-Version: 1.0
In-Reply-To: <1343681656.2640.47.camel@mrhappy.colorado.edu>
Subject: Best practice for redeployments
To: "Tomcat Users List" <users@tomcat.apache.org>
Message-ID: <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
From: llowder@oreillyauto.com
Date: Mon, 30 Jul 2012 16:57:27 -0500
Content-type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
References: <1343679848.2640.44.camel@mrhappy.colorado.edu> <5016F059.3090808@apache.org>
 <1343681656.2640.47.camel@mrhappy.colorado.edu>
X-KeepSent: C08E5D09:168306BA-86257A4B:0077ECF5; name=$KeepSent; type=4
X-Mailer: Lotus Notes Release 8.5.1 September 28, 2009
X-Disclaimed: 29283
X-MIMETrack: CD-MIME by Router on domino1/OReilly(Release 8.5.3|September 15, 2011) at
 07/30/2012 16:57:49,CD-MIME complete at 07/30/2012 16:57:49,Itemize by Router on domino1/OReilly(Release 8.5.3|September 15, 2011) at
 07/30/2012 16:57:49

All,

I have  70-80 apps that are spread out across 3 different clusters (based
on usage, availability needs etc)

Currently, each night we wipe out the wars and then redeploy them with
fresh copies from the end points of our promotion paths (one for test and
one for prod).

What's the general consensus for the best practice for this?

Do people generally only redeploy whatever has changed?

Are nightly  tomcat restarts even needed (or recommended), or should we
just hot-deploy things at fixed times (based on traffic patterns) but only
if something is needing to be updated?

Any recommendations or thoughts or suggestions would be greatly
appreciated. I'm sure there is some room for improvement in how we do
things, but I was wondering what was considered a "standard practice" in
this area.

Lee Lowder

This communication and any attachments are confidential, protected by Commu=
nications Privacy Act 18 USCS =A7 2510, solely for the use of the intended =
recipient, and may contain legally privileged material. If you are not the =
intended recipient, please return or destroy it immediately. Thank you.
=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235760-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 00:32:58 2012
Return-Path: <users-return-235760-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD210989B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 00:32:58 +0000 (UTC)
Received: (qmail 68877 invoked by uid 500); 31 Jul 2012 00:32:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68820 invoked by uid 500); 31 Jul 2012 00:32:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68811 invoked by uid 99); 31 Jul 2012 00:32:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 00:32:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hassan.schroeder@gmail.com designates 209.85.213.45 as permitted sender)
Received: from [209.85.213.45] (HELO mail-yw0-f45.google.com) (209.85.213.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 00:32:49 +0000
Received: by yhpp34 with SMTP id p34so6615806yhp.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 17:32:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WbMJyTYYaOG51mhHIC5U5iIiFuSpOUcb4kXyw8v7t+0=;
        b=BdSDWdA/IYYbv+SZ8BoaGpiE3ODs8Du5RHfTJ0EYjazz9W/SDMUb6ub7qH6CLMqkDr
         xqHEoApKwK59E32iIDuxCei3CH0WL/3p8QDGAepRrjKQ0PeDPBIkyCw+p1zmzT4Ouv9a
         Q0CdzPaz+66oS3Je9FkV9StxFu3ORUI5Nl47JfaWpkEQnrucesYjSqgzz/AGDqJ4bmtG
         YS7LK9anAqWVUIKiiA275Q24LDT709s0mwdJ8BwILrdn4xbNrr6DTpvlFJfYsrBHRonP
         bnQ0zFAFLwI3wDlIxQwgn6fZXKp5ovOc8af+C86e6/BSAS9cGObdFcWM8HNytpsLvshV
         6bKQ==
MIME-Version: 1.0
Received: by 10.50.106.136 with SMTP id gu8mr48167igb.23.1343694747983; Mon,
 30 Jul 2012 17:32:27 -0700 (PDT)
Received: by 10.50.127.74 with HTTP; Mon, 30 Jul 2012 17:32:27 -0700 (PDT)
In-Reply-To: <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
References: <1343679848.2640.44.camel@mrhappy.colorado.edu>
	<5016F059.3090808@apache.org>
	<1343681656.2640.47.camel@mrhappy.colorado.edu>
	<OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
Date: Mon, 30 Jul 2012 17:32:27 -0700
Message-ID: <CACmC4yDj-4U1uZ6qf3iitdB+aUW-Wn9JzNvmmbQ0FLcD8MeATQ@mail.gmail.com>
Subject: Re: Best practice for redeployments
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Jul 30, 2012 at 2:57 PM,  <llowder@oreillyauto.com> wrote:

> Currently, each night we wipe out the wars and then redeploy them with
> fresh copies ...

?!

> What's the general consensus for the best practice for this?

Uh, "don't" ?

> Are nightly  tomcat restarts even needed  ...

I have legacy apps that run for months, and then only get "restarted"
when Tomcat itself is upgraded.

> Any recommendations or thoughts or suggestions would be greatly
> appreciated. I'm sure there is some room for improvement in how we do
> things, but I was wondering what was considered a "standard practice" in
> this area.

Also, I only mount the spare tire on my car when one of the other four
is flat. Irresponsible slacker, I know, but ...

FWIW, YMMV, etc.
-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235761-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 00:55:03 2012
Return-Path: <users-return-235761-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00B7D9931
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 00:55:03 +0000 (UTC)
Received: (qmail 13046 invoked by uid 500); 31 Jul 2012 00:54:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12992 invoked by uid 500); 31 Jul 2012 00:54:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12983 invoked by uid 99); 31 Jul 2012 00:54:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 00:54:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 00:54:53 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id ggs21j0060vyq2s5DoubPW; Tue, 31 Jul 2012 00:54:35 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id gouf1j01D38FjT13Rouh8B; Tue, 31 Jul 2012 00:54:42 +0000
Message-ID: <50172CC5.1000503@christopherschultz.net>
Date: Mon, 30 Jul 2012 20:54:29 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Pointing tomcat to a different timezone
References: <CAFZnXL+ZOYe3pXGauCX4L_AtVtC-YJo7SVSdHhPywow=TNc=-A@mail.gmail.com> <CAFZnXLLaJgmJUCe=ojABgwVAADyXM996s1Ycaw4zA7391a3siQ@mail.gmail.com> <CABzHfVkvj+Ouq_hMHVyVVgYe2od6nAXojqx18Eo5fTgjara+Jw@mail.gmail.com> <CAFZnXL+eaWLGk1_=9n7C+XpozvOvpU2BguOSLw05a2VYcR089A@mail.gmail.com> <CABzHfVnPQ-Zb4i1QqQRBdhKSioD0fF=oNUA0tS8bQ8ZOx9W59A@mail.gmail.com> <5016D3B4.1020605@christopherschultz.net> <59FE6020-A531-4801-99E9-125EB62FB200@gmail.com>
In-Reply-To: <59FE6020-A531-4801-99E9-125EB62FB200@gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Krishna,

On 7/30/12 3:20 PM, Krishna Chaitanya wrote:
> This issue is fixed. Thanks everyone :-)

Would you like to contribute back to the community (especially the
archives) ad tell us what you did to solve your "issue"?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAXLMUACgkQ9CaO5/Lv0PCfCgCeMVC7o6qqBkcTlRXQlChFyEcR
kUsAmgIJ2eO14q/Q8vlwfGEfstjoay0z
=oeAU
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235762-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 01:02:26 2012
Return-Path: <users-return-235762-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F57A9975
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 01:02:26 +0000 (UTC)
Received: (qmail 40297 invoked by uid 500); 31 Jul 2012 01:02:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40249 invoked by uid 500); 31 Jul 2012 01:02:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40240 invoked by uid 99); 31 Jul 2012 01:02:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 01:02:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 01:02:15 +0000
Received: from omta10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id gb2t1j0010cZkys5Dp1xWp; Tue, 31 Jul 2012 01:01:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta10.westchester.pa.mail.comcast.net with comcast
	id gp1u1j00P38FjT13Wp1wud; Tue, 31 Jul 2012 01:01:57 +0000
Message-ID: <50172E7E.2080304@christopherschultz.net>
Date: Mon, 30 Jul 2012 21:01:50 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
In-Reply-To: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alejandro,

On 7/30/12 5:48 PM, Alejandro Mehring wrote:
> I'm migrating to Tomcat 7 a web system that used to run on Tomcat
> 4...

Been there (though I went through 5.5 and 6.0 to get there in a
relatively short amount of time).

> So far, I've been able to sort out all of the issues I've faced,
> but I'm stuck at one point. When a page loads in Tomcat 4, it goes
> and fetches the stylesheet from the server with a link of the form
> 
> <link type="text/css" href="../lightStyle.css" rel="stylesheet">

Although this should work, I always recommend using context-relative
URLs like this:

<link type="text/css" href="<%=
response.encodeURL(request.getContextPath() + "/lightStyle.css") %>" />

This will ensure that your URLs resolve properly no matter how the
.jsp is being evaluated (for instance, in an include or after a
forward, where the client's URL may not match what your JSP expects).

> But on Tomcat 7, the parent directory indirection is removed, and I
> can't seem to find the way to prevent this from happening!

That doesn't seem right.

> What confuses me more, is that when Tomcat generates the *_jsp.java
> files, both 4 and 7 versions generate a line of code like this
> one:
> 
> out.write("<link rel=\"stylesheet\" href=\"../lightStyle.css\" 
> type=\"text/css\">\r\n\r\n");
> 
> So i can't figure out why the rendering process is removing the
> '../' bit of the link!

I have a hard time believing that Tomcat is modifying anything: in the
case above, Tomcat does not interpret anything at all. As far as
Tomcat is concerned, the above is just a string of characters like
"Hello, World" and has no URL context or anything like that.

Are you sure this isn't being included by another JSP or forwarded
from another URL?

> Has anyone faced this problem before? I haven't found any parent
> directory restriction configuration or something that would point
> me in that direction.

What does the output of the JSP look like? That is, what is the actual
content of the page as seen by the client?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAXLn4ACgkQ9CaO5/Lv0PDiHQCgsxBv7KqRAX7JkpKb2Se0S83R
aQ8AnRpgtWMK7sCy7EDT1uej9ySVStll
=sO4e
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235763-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 03:10:48 2012
Return-Path: <users-return-235763-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72B39D4C1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 03:10:48 +0000 (UTC)
Received: (qmail 28727 invoked by uid 500); 31 Jul 2012 03:10:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28524 invoked by uid 500); 31 Jul 2012 03:10:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28474 invoked by uid 99); 31 Jul 2012 03:10:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 03:10:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 03:10:38 +0000
Received: by ghrr14 with SMTP id r14so6696432ghr.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 20:10:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rXZ0KkQlJHzjmeAlUwmIWmFWfka25zm+dKFp3wmnmGo=;
        b=vmgsrSLpurdf/NaMKrzTMkqIjfvGx6f6HyObi5FszCwG1sGDnbufs60e91gxwUtVYF
         YTjKe6IFzVIjeAQb/2xx2oXwPeC3X6GqRxllt/WEXBMimhYIuOKw/W+DA92suYYzoh4H
         CTv5PzlkZH5QO38XwVI3vaeFOUzyPVpzkuslXQPdAtqA8UKNeF24ZVn/k8CiUh10WcT1
         Y/hxuSdisqYqCWks3v/YbwOyH/QLcth92J0CkJV1y+BzFlDIpDJPiC38WwVwhxlfQ4fe
         r3QzipTfVm/vlLmVPix1Ej6MKulhGETNYp2rzZco3hW58fTHKuzF8s5zIyYtcwzuh2Jl
         f/4g==
MIME-Version: 1.0
Received: by 10.50.186.162 with SMTP id fl2mr269632igc.44.1343704217280; Mon,
 30 Jul 2012 20:10:17 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Mon, 30 Jul 2012 20:10:17 -0700 (PDT)
In-Reply-To: <CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
	<CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
Date: Tue, 31 Jul 2012 10:10:17 +0700
Message-ID: <CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have been developing with tomcat7:run happily for some months now.

But then i am currently expanding the development where different
domains would provide different behaviour for the same webapp (imagine
multitenancy and ACLs based on the domain or the server name)

To make this work in the development mode,
i would have to modify the hosts file, mapping several .com domains to
localhost + add some <Alias> to the localhost's <Host>

Currently i am using the standalone tomcat, doing :
- go to the parent module, install all modules, which results in the
newest WAR for the webapp
- go to the webapp project and tomcat7:deploy to it ..

Not as fast-development-mode as tomcat7:run (which doesnt include
installing the modules + WAR building), but this will do :-)

I may be too hopeful, but is this useful enough to be added as a new
feature of tomcat maven plugin ?
I imagine putting these aliases in the plugin's configuration in the pom.xml ..

Thanks !

On Tue, Jul 31, 2012 at 12:54 AM, Olivier Lamy <olamy@apache.org> wrote:
> Hi,
> Not possible currently.
> What is your use case ? those goals are for dev purpose.
>
> 2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
>> I am currently using the snapshot version of tomcat maven plugin.
>> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
>> overlay) actively.
>>
>> And the time has come for me to try out virtual host .. and as i
>> understand it, i have to configure the host, context, etc ..
>> But i've been using the embedded tomcat 'supplied' by the tomcat maven
>> plugin so far,
>>
>> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>>
>> Or should i just forget embedded tomcat and setup an independent
>> tomcat i can configure freely ?
>>
>> Thank you,
>> Albert
>>
>> --
>> Do not pursue the past. Do not lose yourself in the future.
>> The past no longer is. The future has not yet come.
>> Looking deeply at life as it is in the very here and now,
>> the practitioner dwells in stability and freedom.
>> (Thich Nhat Hanh)
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235764-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 06:16:59 2012
Return-Path: <users-return-235764-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48352DD1E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 06:16:59 +0000 (UTC)
Received: (qmail 12134 invoked by uid 500); 31 Jul 2012 06:16:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12081 invoked by uid 500); 31 Jul 2012 06:16:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12065 invoked by uid 99); 31 Jul 2012 06:16:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 06:16:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 06:16:48 +0000
Received: by obbta14 with SMTP id ta14so13581670obb.18
        for <users@tomcat.apache.org>; Mon, 30 Jul 2012 23:16:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DJ3mVI2wOtQw6Bs6QFKGwXZOO/DVi3KlLzo4ukfwiHA=;
        b=zQEuAOViH/+9LalUwxMzoX5mBUFE9iCJNl2esA7XoxH5sB0OA31HsCccLSjZaSM9Z6
         P2T+oepPurKT10z8BbMgbT8DbWGfxR0+jk2hFtxpzRCGLwpc86AArUXUQdgRipQ8Or8n
         Io+6dpSr4ua4XU8ZXiQvdOfBXQjoIz8b05xXG2CPXMvbHUAEkeSqobjbroCNuouNU76r
         oEUTZmWEkJO8aJ4aqTEHg6N9ZouTVrUB2qGJcJ3KrbDYH6lsgjGq9PHVWr4K2cjdVSzD
         3eV7QT3fP1wwmmAPTyV7h6PxHgJnL8fLge0YC3vANTJrpbMj8UMM6aaFHKHeWw1P6px1
         S9zA==
MIME-Version: 1.0
Received: by 10.182.89.102 with SMTP id bn6mr21290771obb.7.1343715387224; Mon,
 30 Jul 2012 23:16:27 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Mon, 30 Jul 2012 23:16:27 -0700 (PDT)
In-Reply-To: <CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
Date: Tue, 31 Jul 2012 08:16:27 +0200
Message-ID: <CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae939974155b26104c61a1e96

--14dae939974155b26104c61a1e96
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

With the tomcat locally installed all works fine; the issue occurs from a
linux box (rhel6.x in my situation) with tomcat 7.0.29 as the server
machine and a client. Both are in lan without filtering elements.
Since I'm (as now) unable to determine the root cause of the issue (the
worst thing is that the problem is only with some pdf, and it is also
difficult to reproduce), the only solution that worked for me was the
downgrade to the 7.0.26 release.
Regards
Michele MAs=E8

On Mon, Jul 30, 2012 at 3:46 PM, Jose Mar=EDa Zaragoza
<demablogia@gmail.com>wrote:

> 2012/7/30 Michele Mase' <michele.mase@gmail.com>:
> > IE 6.x on my test pc, but also IE8 with other pcs.
> > Acrobat is 9.x, 9.5.1 version, a lot of clients have this version, an
> > upgrade is not possible for now.
> > I've reviewed the apache access log (when the doc is served by a web
> server
> > apache connected with ajp with the tomcat), the only thing I see is an
> http
> > 206 and a X showing that the client has closed the connection before th=
e
> > server "%X : X connection aborted before the response completed."
> > The security zone is "internet".
> > To reproduce the issue:
> > Utilize the acrobat integrated in the browser
> > Install a new tomcat 7.x on a linux machine, not windows with tar zxf
> > apache-tomcat-7.x.tar.gz
> > Put the pdf in any webapp, the ROOT is enough.
> > Obviously use a recent jvm, I use latest version of 1.6 (.33)
> > Start the tomcat (sh catalins.sh run or what you prefer)
> > Point the browser to the url.
> > Every time you want to retry, just empty the browser's cache and kill t=
he
> > explorer process.
> > Tomcat >=3D 7.0.27 the error occurs
> > Tomcat < 7.0.27 the error has gone.
> > Michele Mas=E8
> >
>
>
> Sorry, but works fine for me :
>
> IE 8
> Tomcat 7.0.29 , connecting directly to
> Adobe PDF library 9.90 running into browser
> Same PDF file
>
> I could only reproduce that error by simulating a network problem (
> changing proxy settings )
>
> Regards
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae939974155b26104c61a1e96--

From users-return-235765-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 07:53:26 2012
Return-Path: <users-return-235765-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A64DDC3D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 07:53:26 +0000 (UTC)
Received: (qmail 47049 invoked by uid 500); 31 Jul 2012 07:53:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46901 invoked by uid 500); 31 Jul 2012 07:53:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46853 invoked by uid 99); 31 Jul 2012 07:53:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 07:53:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 07:53:14 +0000
Received: by obbta14 with SMTP id ta14so13760874obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 00:52:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=/RdZ+D2GFJAb/9/LmknJ+sn/L1rspwIZZDsNj0Uhlaw=;
        b=0iBR0FzDAtWOPIMRI+Oym2kFaN7q9RY1CkLosdHASrAM1+8vGCv5qWTzqTwGkQ6dwm
         CBSmmqK2h2Td2fRoJqNqg9ljj2bFK8B9JZ3DSBM7yrX5d0Z2Dugg0+nJvUiP39xO5wF2
         P2nuRYx8K9GQWhBllWINI3oDmAVMALnL513vXGHYYtLpeMueqXreXEqyeK4xHWKFbeLW
         BFyZGg/T/qWoWBPTqL6KZbk4/w3Nhfm3mwo8+sk8TaMgMJOaza25RTYGCFEuVQMw508b
         pC03vrYBz53QTHBiecJCj3a7upjpn0UvrP3dgUMnDTYGf3cubSUgVuazY0PA9rOUjTnN
         oYuw==
Received: by 10.182.111.74 with SMTP id ig10mr21657913obb.14.1343721173564;
 Tue, 31 Jul 2012 00:52:53 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Tue, 31 Jul 2012 00:52:33 -0700 (PDT)
In-Reply-To: <CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
 <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
 <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
 <CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com> <CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Tue, 31 Jul 2012 09:52:33 +0200
Message-ID: <CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/31 Michele Mase' <michele.mase@gmail.com>:
> With the tomcat locally installed all works fine; the issue occurs from a
> linux box (rhel6.x in my situation) with tomcat 7.0.29 as the server
> machine and a client. Both are in lan without filtering elements.
> Since I'm (as now) unable to determine the root cause of the issue (the
> worst thing is that the problem is only with some pdf, and it is also
> difficult to reproduce), the only solution that worked for me was the
> downgrade to the 7.0.26 release.
> Regards
> Michele MAs=E8
>

But you said that you've got a Apache web server connected to Tomcat
by AJP,right ?
Which does  it serve PDF file ? If you get PDF file from Tomcat server
directly, does it work fine ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235766-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 08:11:03 2012
Return-Path: <users-return-235766-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CED8DD0B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 08:11:03 +0000 (UTC)
Received: (qmail 92437 invoked by uid 500); 31 Jul 2012 08:11:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92175 invoked by uid 500); 31 Jul 2012 08:10:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92143 invoked by uid 99); 31 Jul 2012 08:10:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 08:10:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 08:10:49 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id 90688DA0538
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 10:10:27 +0200 (CEST)
Message-ID: <501792ED.3040809@ice-sa.com>
Date: Tue, 31 Jul 2012 10:10:21 +0200
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net>
In-Reply-To: <50172E7E.2080304@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Alejandro,
> 
> On 7/30/12 5:48 PM, Alejandro Mehring wrote:
>> I'm migrating to Tomcat 7 a web system that used to run on Tomcat
>> 4...
> 
> Been there (though I went through 5.5 and 6.0 to get there in a
> relatively short amount of time).
> 
>> So far, I've been able to sort out all of the issues I've faced,
>> but I'm stuck at one point. When a page loads in Tomcat 4, it goes
>> and fetches the stylesheet from the server with a link of the form
>>
>> <link type="text/css" href="../lightStyle.css" rel="stylesheet">
> 
> Although this should work, I always recommend using context-relative
> URLs like this:
> 
> <link type="text/css" href="<%=
> response.encodeURL(request.getContextPath() + "/lightStyle.css") %>" />
> 
> This will ensure that your URLs resolve properly no matter how the
> .jsp is being evaluated (for instance, in an include or after a
> forward, where the client's URL may not match what your JSP expects).
> 
>> But on Tomcat 7, the parent directory indirection is removed, and I
>> can't seem to find the way to prevent this from happening!
> 
> That doesn't seem right.
> 
>> What confuses me more, is that when Tomcat generates the *_jsp.java
>> files, both 4 and 7 versions generate a line of code like this
>> one:
>>
>> out.write("<link rel=\"stylesheet\" href=\"../lightStyle.css\" 
>> type=\"text/css\">\r\n\r\n");
>>
>> So i can't figure out why the rendering process is removing the
>> '../' bit of the link!
> 
> I have a hard time believing that Tomcat is modifying anything: in the
> case above, Tomcat does not interpret anything at all. As far as
> Tomcat is concerned, the above is just a string of characters like
> "Hello, World" and has no URL context or anything like that.
> 
> Are you sure this isn't being included by another JSP or forwarded
> from another URL?
> 
>> Has anyone faced this problem before? I haven't found any parent
>> directory restriction configuration or something that would point
>> me in that direction.
> 
> What does the output of the JSP look like? That is, what is the actual
> content of the page as seen by the client?
> 

+1

And, what does that request for the stylesheet actually look like, when it is sent by the 
client (the browser) to the server ?
You can find that out by using one of the browser plugins like Fiddler2 (for IE), HttpFox 
(for Firefox) or similar.
The point is : this "href" is interpreted *by the client* and converted to a full HTTP 
request URL (with hostname, path and all), before being sent to the server.
The server always receives an absolute URL, starting at the root.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235767-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 08:20:06 2012
Return-Path: <users-return-235767-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2A82DD4F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 08:20:06 +0000 (UTC)
Received: (qmail 25707 invoked by uid 500); 31 Jul 2012 08:20:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24511 invoked by uid 500); 31 Jul 2012 08:20:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24474 invoked by uid 99); 31 Jul 2012 08:19:59 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 08:19:59 +0000
Received: from localhost (HELO mail-gh0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 08:19:59 +0000
Received: by ghrr14 with SMTP id r14so6922340ghr.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 01:19:57 -0700 (PDT)
Received: by 10.50.217.132 with SMTP id oy4mr1259143igc.42.1343722797738; Tue,
 31 Jul 2012 01:19:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.195.88 with HTTP; Tue, 31 Jul 2012 01:19:37 -0700 (PDT)
In-Reply-To: <CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
 <CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com> <CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Tue, 31 Jul 2012 10:19:37 +0200
Message-ID: <CAPoyBqRmmzwZ+gwtXYODsoRTvZRkLCpsCmWbdceaOH6D8a=Mtw@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Try last SNAPSHOT (see how here:
http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/snapshot-test.html
)

If any issue using this new feature, feel free to reopen:
https://issues.apache.org/jira/browse/MTOMCAT-172

HTH,
--
Olivier

2012/7/31 Albert Kam <moonblade.wolf@gmail.com>:
> Hi,
>
> I have been developing with tomcat7:run happily for some months now.
>
> But then i am currently expanding the development where different
> domains would provide different behaviour for the same webapp (imagine
> multitenancy and ACLs based on the domain or the server name)
>
> To make this work in the development mode,
> i would have to modify the hosts file, mapping several .com domains to
> localhost + add some <Alias> to the localhost's <Host>
>
> Currently i am using the standalone tomcat, doing :
> - go to the parent module, install all modules, which results in the
> newest WAR for the webapp
> - go to the webapp project and tomcat7:deploy to it ..
>
> Not as fast-development-mode as tomcat7:run (which doesnt include
> installing the modules + WAR building), but this will do :-)
>
> I may be too hopeful, but is this useful enough to be added as a new
> feature of tomcat maven plugin ?
> I imagine putting these aliases in the plugin's configuration in the pom.xml ..
>
> Thanks !
>
> On Tue, Jul 31, 2012 at 12:54 AM, Olivier Lamy <olamy@apache.org> wrote:
>> Hi,
>> Not possible currently.
>> What is your use case ? those goals are for dev purpose.
>>
>> 2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
>>> I am currently using the snapshot version of tomcat maven plugin.
>>> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
>>> overlay) actively.
>>>
>>> And the time has come for me to try out virtual host .. and as i
>>> understand it, i have to configure the host, context, etc ..
>>> But i've been using the embedded tomcat 'supplied' by the tomcat maven
>>> plugin so far,
>>>
>>> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>>>
>>> Or should i just forget embedded tomcat and setup an independent
>>> tomcat i can configure freely ?
>>>
>>> Thank you,
>>> Albert
>>>
>>> --
>>> Do not pursue the past. Do not lose yourself in the future.
>>> The past no longer is. The future has not yet come.
>>> Looking deeply at life as it is in the very here and now,
>>> the practitioner dwells in stability and freedom.
>>> (Thich Nhat Hanh)
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235768-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 09:01:35 2012
Return-Path: <users-return-235768-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFC5FDB19
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 09:01:35 +0000 (UTC)
Received: (qmail 35147 invoked by uid 500); 31 Jul 2012 09:01:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34944 invoked by uid 500); 31 Jul 2012 09:01:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34916 invoked by uid 99); 31 Jul 2012 09:01:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:01:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:01:25 +0000
Received: by yenl1 with SMTP id l1so7026629yen.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 02:01:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nhJvEvUzxzDxyo3YRrySbPzohTaK0EoNb4SfH8hln7c=;
        b=wIe2VbATcDa7ASYw1HygnewopmkkloPk0AELlSAmbSHGPWIMyZBz65JEOV/byLXUTH
         hXLF6VHC5q5H4wp/wvH8OC59PWTZBZyn4dHYwvvDL1GbMttL9zuC701Lxd9nOLQLqIwK
         LsUuDvcfYiSA1perC0OR7bltjkTF/kJpM6HKo7nKjBMFJTFpcVikTIFqdK5T4mh3Xuia
         VwIIY+f2+z6X2cGAfIgUEbzNc4ofA8Y9n/h/9FlAaCj1EJY8k/jF/lWrI0opJ5adN437
         nF23tv+wOw5DSeVtF+uPcWKldhEImARNUPLwvBbW9zC2yhztbIBwwWiveyZOr3QsQoIA
         oj6w==
MIME-Version: 1.0
Received: by 10.50.6.197 with SMTP id d5mr1300046iga.44.1343725263750; Tue, 31
 Jul 2012 02:01:03 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Tue, 31 Jul 2012 02:01:03 -0700 (PDT)
In-Reply-To: <CAPoyBqRmmzwZ+gwtXYODsoRTvZRkLCpsCmWbdceaOH6D8a=Mtw@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
	<CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
	<CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
	<CAPoyBqRmmzwZ+gwtXYODsoRTvZRkLCpsCmWbdceaOH6D8a=Mtw@mail.gmail.com>
Date: Tue, 31 Jul 2012 16:01:03 +0700
Message-ID: <CAMT20g_A7YQ6TZ+moC4s48QirGb7kv1cRTmYbRHAWU8Mrvr5bg@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Wow, so fast ! It worked flawlessly :

After adding this in the tomcat maven plugin's configuration ..
<aliases>
	<alias>mydomain1.com</alias>
	<alias>mydomain2.com</alias>
</aliases>

These work with tomcat7:run :
http://localhost:8080
http://mydomain1.com:8080
http://mydomain2.com:8080

Bye2 tomcat:deploy !

Thanks !

On Tue, Jul 31, 2012 at 3:19 PM, Olivier Lamy <olamy@apache.org> wrote:
> Try last SNAPSHOT (see how here:
> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/snapshot-test.html
> )
>
> If any issue using this new feature, feel free to reopen:
> https://issues.apache.org/jira/browse/MTOMCAT-172
>
> HTH,
> --
> Olivier
>
> 2012/7/31 Albert Kam <moonblade.wolf@gmail.com>:
>> Hi,
>>
>> I have been developing with tomcat7:run happily for some months now.
>>
>> But then i am currently expanding the development where different
>> domains would provide different behaviour for the same webapp (imagine
>> multitenancy and ACLs based on the domain or the server name)
>>
>> To make this work in the development mode,
>> i would have to modify the hosts file, mapping several .com domains to
>> localhost + add some <Alias> to the localhost's <Host>
>>
>> Currently i am using the standalone tomcat, doing :
>> - go to the parent module, install all modules, which results in the
>> newest WAR for the webapp
>> - go to the webapp project and tomcat7:deploy to it ..
>>
>> Not as fast-development-mode as tomcat7:run (which doesnt include
>> installing the modules + WAR building), but this will do :-)
>>
>> I may be too hopeful, but is this useful enough to be added as a new
>> feature of tomcat maven plugin ?
>> I imagine putting these aliases in the plugin's configuration in the pom.xml ..
>>
>> Thanks !
>>
>> On Tue, Jul 31, 2012 at 12:54 AM, Olivier Lamy <olamy@apache.org> wrote:
>>> Hi,
>>> Not possible currently.
>>> What is your use case ? those goals are for dev purpose.
>>>
>>> 2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
>>>> I am currently using the snapshot version of tomcat maven plugin.
>>>> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
>>>> overlay) actively.
>>>>
>>>> And the time has come for me to try out virtual host .. and as i
>>>> understand it, i have to configure the host, context, etc ..
>>>> But i've been using the embedded tomcat 'supplied' by the tomcat maven
>>>> plugin so far,
>>>>
>>>> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>>>>
>>>> Or should i just forget embedded tomcat and setup an independent
>>>> tomcat i can configure freely ?
>>>>
>>>> Thank you,
>>>> Albert
>>>>
>>>> --
>>>> Do not pursue the past. Do not lose yourself in the future.
>>>> The past no longer is. The future has not yet come.
>>>> Looking deeply at life as it is in the very here and now,
>>>> the practitioner dwells in stability and freedom.
>>>> (Thich Nhat Hanh)
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>
>>>
>>>
>>> --
>>> Olivier Lamy
>>> Talend: http://coders.talend.com
>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>>
>> --
>> Do not pursue the past. Do not lose yourself in the future.
>> The past no longer is. The future has not yet come.
>> Looking deeply at life as it is in the very here and now,
>> the practitioner dwells in stability and freedom.
>> (Thich Nhat Hanh)
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235769-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 09:11:39 2012
Return-Path: <users-return-235769-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 889BCDB42
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 09:11:39 +0000 (UTC)
Received: (qmail 66823 invoked by uid 500); 31 Jul 2012 09:11:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65730 invoked by uid 500); 31 Jul 2012 09:11:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65673 invoked by uid 99); 31 Jul 2012 09:11:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:11:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of alberto.aresca@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:11:26 +0000
Received: by obbta14 with SMTP id ta14so13912589obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 02:11:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=RaKUMKO8snwWTbsxyXUEcTqY6Xt6prdD2bQqUDiban4=;
        b=avPpCEM6pQaFqvieefZbiNGJtr+K6omebMCa7aSoTnW4NFOKbmzURhsoMJYB9ntkVd
         a3+awxe0LROD0qQrKz4XKFs6NPw+KoRsq2W0IA0UvOxxPH2z4GounSNjMp6X2hVDH0Tz
         rgYuRhLrSrBiQVhWoK8gCgWtp0My3NuXZeROuTRg18UfY1+sGhUkVwG3ZwmKN1uyqPFf
         GOpIv30IzRcMNVoqFHYZ+sYB1fNZJq6b0N80GuYFuhVim27qok/I6XkUAOefXzBfmPwF
         jgWejHjgPZrZvTZGn2CY0RH+J9xv/BhyZDApoSRzwgkJcHr0WRJuSDYFQl3dtYvqmrnp
         akng==
Received: by 10.60.28.162 with SMTP id c2mr21999540oeh.3.1343725865414; Tue,
 31 Jul 2012 02:11:05 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.121.207 with HTTP; Tue, 31 Jul 2012 02:10:39 -0700 (PDT)
In-Reply-To: <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>
References: <CAD0kjapuMhLZ-CaBfX5WjFHOzYJSq6estS00t6rxTwVqSu1VJQ@mail.gmail.com>
 <1DA6CD8B-E06F-42F7-B966-940AF19874FF@christopherschultz.net>
From: Alberto Aresca <alberto.aresca@gmail.com>
Date: Tue, 31 Jul 2012 11:10:39 +0200
Message-ID: <CAD0kjapMXwo9vnMu90pWNJNkDc7Zin4eqkQk1HQhkPd379wK_g@mail.gmail.com>
Subject: Re: OOME while expanding a war with tomcat 7.0.29 but not with tomcat 7.0.28
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi, sorry I was on vacation so I couldn't answer before. The OOME is
heap generated and I can provide you the hapdump since it is generated
automatically when the exception occurs. My JAVA_OPTS are the
following:
JAVA_OPTS="-XX:MaxPermSize=200m -XX:+HeapDumpOnOutOfMemoryError
-Dcom.sun.management.jmxremote -Djava.net.preferIPv4Stack=true
-Djava.awt.headless=true"

I'll also give the Bug 53535 workaround a try

Cheers,
Alberto



On Sat, Jul 14, 2012 at 7:13 PM, Christopher Schultz
<chris@christopherschultz.net> wrote:
> Alberto,
>
> On Jul 14, 2012, at 8:42, Alberto Aresca <alberto.aresca@gmail.com> wrote:
>
>> I've just upgraded my tomcat from version 7.0.28 to the newly released
>> 7.0.29 but while before my webapp was being expanded without any
>> problem, now it is causing an OOME.
>>
>> Of course this can be easily fixed by increasing the heap size but
>> before going forward in the upgrade i'd like to know if anyone else
>> have been experiencing something similar or if something in the
>> expansion implementation  changed recently (i couldn't find anything
>> in the release note)
>
> Can you provide any other information? Stack trace or heap dump? Is this regular heap or permgen? What are your heap settings?
>
> Is there anything else we should know about your web app? Do you have 500 jar files in your lib directory? Do you cache a large dataset on startup?
>>
>
> -chris
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Alberto Aresca

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235770-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 09:12:58 2012
Return-Path: <users-return-235770-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C89A4DB4D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 09:12:58 +0000 (UTC)
Received: (qmail 72782 invoked by uid 500); 31 Jul 2012 09:12:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72723 invoked by uid 500); 31 Jul 2012 09:12:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72703 invoked by uid 99); 31 Jul 2012 09:12:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:12:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:12:48 +0000
Received: by ghrr14 with SMTP id r14so6974843ghr.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 02:12:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OFXgUb2ggOQPyTzxAXwJ2HFWGJbv2rZ8sxl+kSkp7f8=;
        b=v3r6ECSfQoiQCGlGX4lv4KKXSXvpwQ8lWPuoVqwKfIDT4++djP+SGwfgNo2x8OmnCW
         q7JVmWPqlMA+LHBeFRWsLkdurKMIvE9r2WDUe57erZbHhkp7FvH0vsIy+2Nx72RuI+A/
         9HeCwRYG31htNiALybv+jyzo9g37yW7ICrpUeVhlmZANP8VcaMPq+UU3tK9R9wGTp/vJ
         Ah4+DvMiHxZLFQjMmQQJVt7kJRSzC4XIFozwMmDBAdraHcC2l9qr89s5S7FSdAMJpVsZ
         tpnsW0+EofAx7RtO+p8c4HSNqwZnDJeZacrJf+XxNxJemisnp4Phdne+ZySQrLKLTdQA
         aUnw==
MIME-Version: 1.0
Received: by 10.50.186.162 with SMTP id fl2mr35618igc.44.1343725947149; Tue,
 31 Jul 2012 02:12:27 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Tue, 31 Jul 2012 02:12:27 -0700 (PDT)
In-Reply-To: <CAPoyBqS62MPvxvkLrvG+BKyqYnwNYV8xaP3LQvp5FVRLAHuabg@mail.gmail.com>
References: <CAMT20g-G9U9dsgpQC1V-f-X2SDrcLJows7uGOHv0RM=1Ud=0mg@mail.gmail.com>
	<CAPoyBqS62MPvxvkLrvG+BKyqYnwNYV8xaP3LQvp5FVRLAHuabg@mail.gmail.com>
Date: Tue, 31 Jul 2012 16:12:27 +0700
Message-ID: <CAMT20g9u5AWH57SEZhyz9XkQ_WKxE-4W-bC4z3KH2ATsD_P3uQ@mail.gmail.com>
Subject: Re: tomcat maven plugin + [default] overlay
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Yes, it is a reactor module, with childwebapp having dependency on the
parentwebapp.
Both webapps are own made (not third parties).

So, i tried these :
- Going to the maven parent module to do the install --> results on
parentwebapp.war and childwebapp.war (overlays with parentwebapp.war)

- On eclipse, on the childwebapp project, i do tomcat7:run ..
  Still the same error of
org.codehaus.plexus.archiver.ArchiverException: The source must not be
a directory

- And then i check the m2e run configuration, and i uncheck 'resolve
workspace artifacts', and rerun it ..
  This time, the error has changed into unfamiliar apache tiles error
that possibly mean the tiles' configuration file is missing or
something

Now this error doesnt appear if i use tomcat7:deploy on the
childwebapp.war, so i assume tomcat7:run has some issues when merging
parentwebapp with childwebapp, resulting in missing files ..

Questions :
- tomcat7:run's tomcat location to help debugging the error :
Is there a temporary directory for the embedded tomcat for the merged
childwebapp, so that i can check what files are probably missing after
tomcat7:run merges parentwebapp and childwebapp ?

- Pure tomcat7:run without building the WAR files ?
Is it possible to have tomcat7:run to merge the dependant webapp
modules without having to build the WAR files ?
For example, tomcat7:run on childwebapp would 'magically' merges
parentwebapp and childwebapp in terms of jars, classes, jsps, and
other static files like xmls, properties, web files, etc (like
overlay, but without making the WAR beforehand) ?

Thank you !

On Tue, Jul 31, 2012 at 12:57 AM, Olivier Lamy <olamy@apache.org> wrote:
> 2012/7/26 Albert Kam <moonblade.wolf@gmail.com>:
>> Hello,
>>
>> I am having a situation where i couldnt tomcat7:run with overlay in eclipse.
>> In the eclipse indigo, i am using the maven plugin, and have imported
>> two maven modules,
>> the childwebapp which depends on the parentwebapp, which is just like
>> a skeleton, with it's own classes, jsps, static resources, but also a
>> runnable webapp of itself.
>> Doing tomcat7:run on the parentwebapp works well as expected ..
>>
>> Here's the dependency in the childwebapp's pom, and i dont have any
>> specific overlay configuration :
>> <dependency>
>>         <groupId>group.id</groupId>
>>         <artifactId>parentwebapp</artifactId>
>>         <version>${project.version}</version>
>>         <type>war</type>
>>         <scope>runtime</scope>
>> </dependency>
> This dependency is a reactor modules ? So in this case I presume
> eclipse (m2e) see the build output directory rather than a war file.
> The plugin doesn't have any idea how your war dependency is available
> in an exploded mode (where are the webapp resources and/or classes
> etc..)
> try to install it first.
>>
>> When i try running tomcat7:run on the childwebapp, i get this error message,
>> as if it tries to find the war of parentwebapp and try to extract it.
>> But in my situation, i dont have the war in my development,
>> since the eclipse maven plugin already resolves the workspace dependencies.
>> I would imagine using the classes from the workspace instead of
>> extracting the non-existent war file and load them into the
>> childwebapp would solve the issue  ..
>>
>> [INFO]
>> [INFO] --- maven-resources-plugin:2.4.3:resources (default-resources)
>> @ childwebapp ---
>> [WARNING] Using platform encoding (Cp1252 actually) to copy filtered
>> resources, i.e. build is platform dependent!
>> [INFO] Copying 0 resource
>> [INFO]
>> [INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @
>> childwebapp ---
>> [INFO] Nothing to compile - all classes are up to date
>> [INFO]
>> [INFO] <<< tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp <<<
>> [INFO]
>> [INFO] --- tomcat7-maven-plugin:2.0-SNAPSHOT:run (default-cli) @ childwebapp ---
>> [INFO] Running war on http://localhost:8080/childwebapp
>> [INFO] Creating Tomcat server configuration at
>> C:\Users\albert\git\Startup\MavenParent\childwebapp\target\tomcat
>> [INFO] create webapp with contextPath: /childwebapp
>> [ERROR] fail to extract war file
>> C:\Users\albert\git\Startup\MavenParent\parentwebapp\target\classes,
>> reason:The source must not be a di
>> rectory.
>> org.codehaus.plexus.archiver.ArchiverException: The source must not be
>> a directory.
>>         at org.codehaus.plexus.archiver.AbstractUnArchiver.validate(AbstractUnArchiver.java:185)
>>         at org.codehaus.plexus.archiver.AbstractUnArchiver.extract(AbstractUnArchiver.java:118)
>>         at org.apache.tomcat.maven.common.run.DefaultClassLoaderEntriesCalculator.calculateClassPathEntries(DefaultClassLoaderEntriesCalc
>> ulator.java:149)
>>         at org.apache.tomcat.maven.plugin.tomcat7.run.RunMojo.createWebappLoader(RunMojo.java:254)
>>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.createContext(AbstractRunMojo.java:563)
>>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.startContainer(AbstractRunMojo.java:927)
>>         at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.execute(AbstractRunMojo.java:476)
>>         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
>>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
>>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
>>         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
>>
>> What can i do to resolve this situation ?
>>
>> Thank you,
>> Albert
>>
>> --
>> Do not pursue the past. Do not lose yourself in the future.
>> The past no longer is. The future has not yet come.
>> Looking deeply at life as it is in the very here and now,
>> the practitioner dwells in stability and freedom.
>> (Thich Nhat Hanh)
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235771-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 09:18:11 2012
Return-Path: <users-return-235771-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54C17DB62
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 09:18:11 +0000 (UTC)
Received: (qmail 85049 invoked by uid 500); 31 Jul 2012 09:18:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84670 invoked by uid 500); 31 Jul 2012 09:18:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84612 invoked by uid 99); 31 Jul 2012 09:18:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:18:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of moonblade.wolf@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 09:17:59 +0000
Received: by ghrr14 with SMTP id r14so6980350ghr.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 02:17:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OvYdmxcPGlBBkbWrwok3bUoY80uaqHnJVa5rMKsT8GM=;
        b=nVk1tFW1Kely9TdDfGA0/inZXKMWkRcLApF8qWHOt6YxvJIjuzg1GILu8rDd5cCRDT
         rkkp9j6Zh5jKgK5ntaUxS7Kdk4/s9/R7PcWr2otgtipTO11yHE8T/Nbj3kWFxWhldYAt
         /UN1FyqI9ckWbtfxsKFS8NwajYy7doL6dcvXEz3TfgtkRqL38j3S2WpH2+IYgnpgEHUe
         2vAdPPPpWbLHIYoibL6R3nz21GbmWNG8PDP1Y0dEEOWFFClws3t+6LZytVN5HVPJphPb
         BqA1ivEvqxTszwcFZwegtKygNXUYAfXIUexErLdWNR0gXeIaMv85fUsuRWQdKARSgizi
         HSGg==
MIME-Version: 1.0
Received: by 10.50.188.131 with SMTP id ga3mr1343033igc.54.1343726258604; Tue,
 31 Jul 2012 02:17:38 -0700 (PDT)
Received: by 10.64.28.17 with HTTP; Tue, 31 Jul 2012 02:17:38 -0700 (PDT)
In-Reply-To: <CAMT20g_A7YQ6TZ+moC4s48QirGb7kv1cRTmYbRHAWU8Mrvr5bg@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
	<CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
	<CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
	<CAPoyBqRmmzwZ+gwtXYODsoRTvZRkLCpsCmWbdceaOH6D8a=Mtw@mail.gmail.com>
	<CAMT20g_A7YQ6TZ+moC4s48QirGb7kv1cRTmYbRHAWU8Mrvr5bg@mail.gmail.com>
Date: Tue, 31 Jul 2012 16:17:38 +0700
Message-ID: <CAMT20g_0Z=7KEVe4q+FBd_hXwWS6OkBtZqVfKRW47AFQ4ro1qw@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
From: Albert Kam <moonblade.wolf@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Sorry, forgot to mention a suggestion to document this feature in :
http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/run-mojo-features.html

Regards,
Albert

On Tue, Jul 31, 2012 at 4:01 PM, Albert Kam <moonblade.wolf@gmail.com> wrote:
> Wow, so fast ! It worked flawlessly :
>
> After adding this in the tomcat maven plugin's configuration ..
> <aliases>
>         <alias>mydomain1.com</alias>
>         <alias>mydomain2.com</alias>
> </aliases>
>
> These work with tomcat7:run :
> http://localhost:8080
> http://mydomain1.com:8080
> http://mydomain2.com:8080
>
> Bye2 tomcat:deploy !
>
> Thanks !
>
> On Tue, Jul 31, 2012 at 3:19 PM, Olivier Lamy <olamy@apache.org> wrote:
>> Try last SNAPSHOT (see how here:
>> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/snapshot-test.html
>> )
>>
>> If any issue using this new feature, feel free to reopen:
>> https://issues.apache.org/jira/browse/MTOMCAT-172
>>
>> HTH,
>> --
>> Olivier
>>
>> 2012/7/31 Albert Kam <moonblade.wolf@gmail.com>:
>>> Hi,
>>>
>>> I have been developing with tomcat7:run happily for some months now.
>>>
>>> But then i am currently expanding the development where different
>>> domains would provide different behaviour for the same webapp (imagine
>>> multitenancy and ACLs based on the domain or the server name)
>>>
>>> To make this work in the development mode,
>>> i would have to modify the hosts file, mapping several .com domains to
>>> localhost + add some <Alias> to the localhost's <Host>
>>>
>>> Currently i am using the standalone tomcat, doing :
>>> - go to the parent module, install all modules, which results in the
>>> newest WAR for the webapp
>>> - go to the webapp project and tomcat7:deploy to it ..
>>>
>>> Not as fast-development-mode as tomcat7:run (which doesnt include
>>> installing the modules + WAR building), but this will do :-)
>>>
>>> I may be too hopeful, but is this useful enough to be added as a new
>>> feature of tomcat maven plugin ?
>>> I imagine putting these aliases in the plugin's configuration in the pom.xml ..
>>>
>>> Thanks !
>>>
>>> On Tue, Jul 31, 2012 at 12:54 AM, Olivier Lamy <olamy@apache.org> wrote:
>>>> Hi,
>>>> Not possible currently.
>>>> What is your use case ? those goals are for dev purpose.
>>>>
>>>> 2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
>>>>> I am currently using the snapshot version of tomcat maven plugin.
>>>>> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
>>>>> overlay) actively.
>>>>>
>>>>> And the time has come for me to try out virtual host .. and as i
>>>>> understand it, i have to configure the host, context, etc ..
>>>>> But i've been using the embedded tomcat 'supplied' by the tomcat maven
>>>>> plugin so far,
>>>>>
>>>>> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>>>>>
>>>>> Or should i just forget embedded tomcat and setup an independent
>>>>> tomcat i can configure freely ?
>>>>>
>>>>> Thank you,
>>>>> Albert
>>>>>
>>>>> --
>>>>> Do not pursue the past. Do not lose yourself in the future.
>>>>> The past no longer is. The future has not yet come.
>>>>> Looking deeply at life as it is in the very here and now,
>>>>> the practitioner dwells in stability and freedom.
>>>>> (Thich Nhat Hanh)
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Olivier Lamy
>>>> Talend: http://coders.talend.com
>>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>
>>>
>>>
>>> --
>>> Do not pursue the past. Do not lose yourself in the future.
>>> The past no longer is. The future has not yet come.
>>> Looking deeply at life as it is in the very here and now,
>>> the practitioner dwells in stability and freedom.
>>> (Thich Nhat Hanh)
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)



-- 
Do not pursue the past. Do not lose yourself in the future.
The past no longer is. The future has not yet come.
Looking deeply at life as it is in the very here and now,
the practitioner dwells in stability and freedom.
(Thich Nhat Hanh)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235772-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 10:31:17 2012
Return-Path: <users-return-235772-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A5AFD5CF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 10:31:17 +0000 (UTC)
Received: (qmail 60632 invoked by uid 500); 31 Jul 2012 10:31:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60429 invoked by uid 500); 31 Jul 2012 10:31:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60400 invoked by uid 99); 31 Jul 2012 10:31:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 10:31:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 10:31:04 +0000
Received: by obbta14 with SMTP id ta14so14068821obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 03:30:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5vzS7AhIwrMA/Kvtd+ps9LO2XQyYGcRx7RHTYy1ZabE=;
        b=V8r+O/KsHMCqy7hC9r5Cpey8IUjy8QDc5/DDuMS6d5CjWM/dijHEKsIol+DVJbTxrQ
         moL4f14heX48aNAeAMJ49PjhNQxaqy2Fxkkfxvr0JxvwAH6tCGN4VXfOWQ8lxQGro4rS
         9GuVtd7TLBfOXFGWA2jiqkj8+G0q0pfkq1gvv/PwX/GV8k7nfhC4bgoszZttI5ZrnUU2
         mUovUp4qNLvwpuhiXs4GSq+4J3p/AkZK4WIyCzM4fkWwIxsDN2el0rRRt7T+QlyjBq82
         H93UaZSr8vdYTKY7PEPPJSrPJ2hw6zKZsM+zAflt5sjrY2sgvki8GN2BmNfW3W22yh41
         VrTQ==
MIME-Version: 1.0
Received: by 10.182.8.6 with SMTP id n6mr22529451oba.39.1343730643868; Tue, 31
 Jul 2012 03:30:43 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Tue, 31 Jul 2012 03:30:43 -0700 (PDT)
In-Reply-To: <CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
Date: Tue, 31 Jul 2012 12:30:43 +0200
Message-ID: <CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0444ec53b39b0704c61dab14

--f46d0444ec53b39b0704c61dab14
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Unluckly the problem is difficult to reproduce (almost 1/10 times appears);
a small script that empty the IE's cache and kill explorer.exe helped me.
I used mod_proxy_ajp because the apache's logs were better for debugging
purposes.
The matter appears even using the http bio connector.
Michele MAs=E8

On Tue, Jul 31, 2012 at 9:52 AM, Jose Mar=EDa Zaragoza
<demablogia@gmail.com>wrote:

> 2012/7/31 Michele Mase' <michele.mase@gmail.com>:
> > With the tomcat locally installed all works fine; the issue occurs from=
 a
> > linux box (rhel6.x in my situation) with tomcat 7.0.29 as the server
> > machine and a client. Both are in lan without filtering elements.
> > Since I'm (as now) unable to determine the root cause of the issue (the
> > worst thing is that the problem is only with some pdf, and it is also
> > difficult to reproduce), the only solution that worked for me was the
> > downgrade to the 7.0.26 release.
> > Regards
> > Michele MAs=E8
> >
>
> But you said that you've got a Apache web server connected to Tomcat
> by AJP,right ?
> Which does  it serve PDF file ? If you get PDF file from Tomcat server
> directly, does it work fine ?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d0444ec53b39b0704c61dab14--

From users-return-235773-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 11:31:10 2012
Return-Path: <users-return-235773-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 906A2D380
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 11:31:10 +0000 (UTC)
Received: (qmail 95496 invoked by uid 500); 31 Jul 2012 11:31:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95392 invoked by uid 500); 31 Jul 2012 11:31:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95346 invoked by uid 99); 31 Jul 2012 11:31:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 11:31:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 11:30:56 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id F0B26DA0573
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 13:30:33 +0200 (CEST)
Message-ID: <5017C1D3.5030608@ice-sa.com>
Date: Tue, 31 Jul 2012 13:30:27 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com> <CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
In-Reply-To: <CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Michele Mase' wrote:
> Unluckly the problem is difficult to reproduce (almost 1/10 times appears);
> a small script that empty the IE's cache and kill explorer.exe helped me.
> I used mod_proxy_ajp because the apache's logs were better for debugging
> purposes.
> The matter appears even using the http bio connector.
> Michele MAs
> 
If it happens 1 time out of 10, then it is not hard to reproduce.
Again :
- install one of the plugins earlier mentioned
- activate it
- load your PDF once
- press the "page refresh", with the shift button pressed (forces reload, even when 
already in cache)
- do this as long as you do not have the problem
- when you have the problem, look at the display of the plugin. Highlight the request that 
did not come back with an OK response (OK=200), and display the request and response 
headers of that request. Copy them to the clipboard, and paste them in you next message to 
the list.

Without "solid" information of that kind, it is difficult to help you further.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235774-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 11:32:52 2012
Return-Path: <users-return-235774-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8625CD382
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 11:32:52 +0000 (UTC)
Received: (qmail 770 invoked by uid 500); 31 Jul 2012 11:32:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 563 invoked by uid 500); 31 Jul 2012 11:32:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 548 invoked by uid 99); 31 Jul 2012 11:32:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 11:32:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.21 as permitted sender)
Received: from [206.46.173.21] (HELO vms173021pub.verizon.net) (206.46.173.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 11:32:41 +0000
Received: from [172.17.47.42] ([unknown] [64.17.225.82])
 by vms173021.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0M80001U9W14YHIZ@vms173021.mailsrvcs.net> for
 users@tomcat.apache.org; Tue, 31 Jul 2012 06:32:02 -0500 (CDT)
Message-id: <5017C227.1080902@verizon.net>
Date: Tue, 31 Jul 2012 07:31:51 -0400
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
MIME-version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Best practice for redeployments
References: <1343679848.2640.44.camel@mrhappy.colorado.edu>
 <5016F059.3090808@apache.org>	<1343681656.2640.47.camel@mrhappy.colorado.edu>
 <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
 <CACmC4yDj-4U1uZ6qf3iitdB+aUW-Wn9JzNvmmbQ0FLcD8MeATQ@mail.gmail.com>
In-reply-to:
 <CACmC4yDj-4U1uZ6qf3iitdB+aUW-Wn9JzNvmmbQ0FLcD8MeATQ@mail.gmail.com>
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 7/30/2012 8:32 PM, Hassan Schroeder wrote:
> On Mon, Jul 30, 2012 at 2:57 PM,<llowder@oreillyauto.com>  wrote:
>
>> Currently, each night we wipe out the wars and then redeploy them with
>> fresh copies ...
>
> ?!
>
>> What's the general consensus for the best practice for this?
>
> Uh, "don't" ?

+1


>
>> Are nightly  tomcat restarts even needed  ...
>
> I have legacy apps that run for months, and then only get "restarted"
> when Tomcat itself is upgraded.

Yup.  Or when OS updates are applied and require a reboot.


>
>> Any recommendations or thoughts or suggestions would be greatly
>> appreciated. I'm sure there is some room for improvement in how we do
>> things, but I was wondering what was considered a "standard practice" in
>> this area.
>
> Also, I only mount the spare tire on my car when one of the other four
> is flat. Irresponsible slacker, I know, but ...
>
> FWIW, YMMV, etc.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235775-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 12:13:36 2012
Return-Path: <users-return-235775-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B3EBD4AA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 12:13:36 +0000 (UTC)
Received: (qmail 99590 invoked by uid 500); 31 Jul 2012 12:13:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99436 invoked by uid 500); 31 Jul 2012 12:13:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99411 invoked by uid 99); 31 Jul 2012 12:13:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 12:13:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ey0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 12:13:24 +0000
Received: by eaah1 with SMTP id h1so2222134eaa.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 05:13:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=K4rR5YN0l0NyXXwLbFQBoHUYJhH7Xuh1JrU5h5Lh7KI=;
        b=P0r6jNQOZ4k7E1OX4bzPGhyiVKRhoNaqvXQOzZx/PJNetCpnWRDLYwqaJs29x0Pv+4
         1zADEJjwPF+p9KQpJgoz7+M74tUfhVFx30hLPO8wOvGpD0rDh/KxkkwCHlV5PiBuENU4
         kpUj92DEFFqW6x3wtJ5agNiPBNZL+enMDZQ+k=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=K4rR5YN0l0NyXXwLbFQBoHUYJhH7Xuh1JrU5h5Lh7KI=;
        b=GR+BtXLgRh71l1w0aDg+p3tNUCUz5UhT0Ep8AT3Rlp+AAI1PUwOi58YSzGtvsVT1g5
         7PCfoH1LFHDjP8iOjfsjn5/xd5EJuUPfONekulo2KE2Ay9tICeZRHtTWc9GGC2DZcMRa
         nEuPMGG9pWEoUxOdNIXurbGn4tROHudi/JybzOI39+0b6wdnrghYDQ0k38J9Rtmcq4KT
         1jrOp9anYWp2LwdJS4NzYZaR2vctXT0Dmpfu9V0JoJIgq+0a+cLC7GWPH7GDqx88RJbp
         EEBchECAybZLk49RcLBWnclZuDhzBRGD/j6Hq4kO+1x/OWvt9OnOSTE8cWZs+O2N1vgx
         ZkDg==
Received: by 10.14.198.200 with SMTP id v48mr16440702een.3.1343736784047;
        Tue, 31 Jul 2012 05:13:04 -0700 (PDT)
Received: from Asura.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id j4sm36448632eeo.11.2012.07.31.05.13.02
        (version=SSLv3 cipher=OTHER);
        Tue, 31 Jul 2012 05:13:03 -0700 (PDT)
Message-ID: <5017CBCB.8080802@pidster.com>
Date: Tue, 31 Jul 2012 13:12:59 +0100
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Best practice for redeployments
References: <1343679848.2640.44.camel@mrhappy.colorado.edu> <5016F059.3090808@apache.org> <1343681656.2640.47.camel@mrhappy.colorado.edu> <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
In-Reply-To: <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
X-Enigmail-Version: 1.4.3
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigD2941357B67B5C95B1AF8588"
X-Gm-Message-State: ALoCoQnUiwJlOWRs6bj84bEBuVbTJqR4Xf76eu0WRHwRfc9M8ktlFlpy/hcqg/qhv6bLWuLVSezN

--------------enigD2941357B67B5C95B1AF8588
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 30/07/2012 22:57, llowder@oreillyauto.com wrote:
> All,
>=20
> I have  70-80 apps that are spread out across 3 different clusters (bas=
ed
> on usage, availability needs etc)
>=20
> Currently, each night we wipe out the wars and then redeploy them with
> fresh copies from the end points of our promotion paths (one for test a=
nd
> one for prod).
>=20
> What's the general consensus for the best practice for this?
>=20
> Do people generally only redeploy whatever has changed?
>=20
> Are nightly  tomcat restarts even needed (or recommended), or should we=

> just hot-deploy things at fixed times (based on traffic patterns) but o=
nly
> if something is needing to be updated?
>=20
> Any recommendations or thoughts or suggestions would be greatly
> appreciated. I'm sure there is some room for improvement in how we do
> things, but I was wondering what was considered a "standard practice" i=
n
> this area.
>=20
> Lee Lowder

In future please start a completely new email, rather than replying to
an existing email* just editing the subject/body (which is call thread
hijacking).


p


* Re: Best practice for redeployments

--=20

[key:62590808]


--------------enigD2941357B67B5C95B1AF8588
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQIcBAEBCgAGBQJQF8vQAAoJEGoM2OGpOvr9cNwQAImJB8FD2naR+bsHOvBF7dQI
X9k2hscD3skYzQVG8k7dCvhSRuIsfTuUclpxNUk5qvc8mI+kg/ABxRW5KYtnFAOH
AJqP5qozQivgCRE8nVzcpC289/a2Lwcf7g+7lMhSSysSJe+ylOpStSATUztDZaL+
TUH46Hphjs69UtVRlfF0kog8kLDg9y4wi+CyGAInrtXmJUMysZ0GFvDx6lOalTZ/
/bliSR2bGxJjzrTwoWw1D/WQnZfHsWMR+tzs4voJc9DXMvL/W1jSE/A92t+wstWZ
jizlhiNzdjNxJxMcGo8MiBWBMcXOFG3pit9r52ntdFuhHEth5WFpgSeAtIKXXWI3
ZMGqczdXo9c++rxioVwazE7eBfh8SamT4KyU+oBx7mQRO+242uAWGNjji/5EKLzV
sBPFGulaC7MZ46LXNg1yRFUyvdNL8Jc0NJOgNBuj3U3tMDV0PkgDnSMHmjcsSndh
6ka1iInCm75w4y0oxLzItO1dGq9KQJ6d07FB3NskvubnymXGhxdONQE+P9PVCFjJ
GiDra9Gnk14CX44r3GBjEpXx0//d4j4Af1GulI/m0z0JyqUYtfHbLLRRYwGL6cZ0
jQT1jjmOnsIT4QRoZv0SrLMyK65rw1yVOax46UWUNly9Cr1ojLvBNCO9AnfL+6E4
3CElGOGVj9AwPx2N93s3
=2S/U
-----END PGP SIGNATURE-----

--------------enigD2941357B67B5C95B1AF8588--

From users-return-235776-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 12:21:32 2012
Return-Path: <users-return-235776-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C68FD4D6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 12:21:32 +0000 (UTC)
Received: (qmail 23406 invoked by uid 500); 31 Jul 2012 12:21:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23342 invoked by uid 500); 31 Jul 2012 12:21:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23329 invoked by uid 99); 31 Jul 2012 12:21:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 12:21:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of keropotter@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 12:21:22 +0000
Received: by bkcji1 with SMTP id ji1so3607956bkc.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 05:21:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=/8DJqShHmYS/bKcdXtFkZnTk6oip83M8Lut2B7nOUnw=;
        b=fofaTbf6Z/q0Wy0CP5/S25Ujf9LRX/MXOzYyGd9Oxtxd+vR7prh69CTTSwVGmMzrpW
         QLqN840ChQ6bvTWZgz+FF3v9/w7Bn/xMA3Fh3+QWawO4y4V0Rf65uOtUd34KIQAJTxl+
         QLFOvNwtGrZHcWv+ePyN1LahF6eHoq4QoNVxVLZMO56Tup8lu3i9a8zbNNr78H03gg+Y
         Kw1dSALuMheRugO8KW81vZ0AOHZiWYGITpgPeeTU6WRWOFCOJh20AytYfLpnxVaBAVTx
         h0vKfyi+sqp1673N6Nl4MvP1XssKHGCaU8pkb220sGJ/BDaFBDA2Xn9KUM5am15XhyWY
         PDwg==
Received: by 10.204.148.78 with SMTP id o14mr5105186bkv.38.1343737262259; Tue,
 31 Jul 2012 05:21:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.13.9 with HTTP; Tue, 31 Jul 2012 05:20:42 -0700 (PDT)
In-Reply-To: <501792ED.3040809@ice-sa.com>
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
 <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com>
From: Alejandro Mehring <keropotter@gmail.com>
Date: Tue, 31 Jul 2012 09:20:42 -0300
Message-ID: <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
Subject: Re: Problems upgrading to Tomcat 7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0015175cac2e303f8a04c61f36d5

--0015175cac2e303f8a04c61f36d5
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

First of all, thank you very much for your quick response! I'm too having a
hard time believing that tomcat would do something like that... I even
tried on a new web project and it didn't remove the parent directory
reference! I'm very confused right now...

The base url of the application is of the form

http://host/app/servlets/FrontController

So when in Tomcat 4 the page fetches the stylesheet (using the
href=3D"../lightStyle.css" form), it resolves to
http://host/app/lightStyle.css, whereas in Tomcat 7 it goes to
http://host/app/servlets/lightStyle.css.

Here's the output of the JSP (the header part) for both 4 and 7 version.

TOMCAT 4
=3D=3D=3D=3D=3D=3D=3D=3D

<html>
<style type=3D"text/css">
@import URL("../lightStyle.css")
</style>
<head>
<!--meta http-equiv=3DContent-Type content=3D"text/html;
charset=3Dwindows-1252"-->
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859-1"=
>
<meta http-equiv=3D"Expires" content=3D"0">
<meta http-equiv=3D"Pragma" content=3D"no-cache">
<meta http-equiv=3D"cache-control" content=3D"no-cache">
<title>Consulta de usuarios</title>
<link rel=3D"stylesheet" href=3D"../lightStyle.css" type=3D"text/css">
...
</head>
...



TOMCAT 7
=3D=3D=3D=3D=3D=3D=3D=3D
<HTML>
<style type=3D"text/css">
@import URL("lightStyle.css")
</style>
<head>
<title>Error</title>
<link rel=3D"stylesheet" href=3D"lightStyle.css" type=3D"text/css">
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859-1"=
>
<meta http-equiv=3D"Expires" content=3D"0">
<meta http-equiv=3D"Pragma" content=3D"no-cache">
<meta http-equiv=3D"cache-control" content=3D"no-cache">
...
</head>
...


Thanks again for anything you can think of!
Cheers!
Ale


On Tue, Jul 31, 2012 at 5:10 AM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Christopher Schultz wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Alejandro,
>>
>> On 7/30/12 5:48 PM, Alejandro Mehring wrote:
>>
>>> I'm migrating to Tomcat 7 a web system that used to run on Tomcat
>>> 4...
>>>
>>
>> Been there (though I went through 5.5 and 6.0 to get there in a
>> relatively short amount of time).
>>
>>  So far, I've been able to sort out all of the issues I've faced,
>>> but I'm stuck at one point. When a page loads in Tomcat 4, it goes
>>> and fetches the stylesheet from the server with a link of the form
>>>
>>> <link type=3D"text/css" href=3D"../lightStyle.css" rel=3D"stylesheet">
>>>
>>
>> Although this should work, I always recommend using context-relative
>> URLs like this:
>>
>> <link type=3D"text/css" href=3D"<%=3D
>> response.encodeURL(request.**getContextPath() + "/lightStyle.css") %>" /=
>
>>
>> This will ensure that your URLs resolve properly no matter how the
>> .jsp is being evaluated (for instance, in an include or after a
>> forward, where the client's URL may not match what your JSP expects).
>>
>>  But on Tomcat 7, the parent directory indirection is removed, and I
>>> can't seem to find the way to prevent this from happening!
>>>
>>
>> That doesn't seem right.
>>
>>  What confuses me more, is that when Tomcat generates the *_jsp.java
>>> files, both 4 and 7 versions generate a line of code like this
>>> one:
>>>
>>> out.write("<link rel=3D\"stylesheet\" href=3D\"../lightStyle.css\"
>>> type=3D\"text/css\">\r\n\r\n");
>>>
>>> So i can't figure out why the rendering process is removing the
>>> '../' bit of the link!
>>>
>>
>> I have a hard time believing that Tomcat is modifying anything: in the
>> case above, Tomcat does not interpret anything at all. As far as
>> Tomcat is concerned, the above is just a string of characters like
>> "Hello, World" and has no URL context or anything like that.
>>
>> Are you sure this isn't being included by another JSP or forwarded
>> from another URL?
>>
>>  Has anyone faced this problem before? I haven't found any parent
>>> directory restriction configuration or something that would point
>>> me in that direction.
>>>
>>
>> What does the output of the JSP look like? That is, what is the actual
>> content of the page as seen by the client?
>>
>>
> +1
>
> And, what does that request for the stylesheet actually look like, when i=
t
> is sent by the client (the browser) to the server ?
> You can find that out by using one of the browser plugins like Fiddler2
> (for IE), HttpFox (for Firefox) or similar.
> The point is : this "href" is interpreted *by the client* and converted t=
o
> a full HTTP request URL (with hostname, path and all), before being sent =
to
> the server.
> The server always receives an absolute URL, starting at the root.
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--0015175cac2e303f8a04c61f36d5--

From users-return-235777-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 13:11:54 2012
Return-Path: <users-return-235777-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E91B4D4A2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 13:11:53 +0000 (UTC)
Received: (qmail 66145 invoked by uid 500); 31 Jul 2012 13:11:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66001 invoked by uid 500); 31 Jul 2012 13:11:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65990 invoked by uid 99); 31 Jul 2012 13:11:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:11:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of llowder@oreillyauto.com designates 208.70.182.171 as permitted sender)
Received: from [208.70.182.171] (HELO domino1.oreillyauto.com) (208.70.182.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:11:44 +0000
MIME-Version: 1.0
In-Reply-To: <5017CBCB.8080802@pidster.com>
Subject: Re: Best practice for redeployments
To: "Tomcat Users List" <users@tomcat.apache.org>
Message-ID: <OFADDA08FF.6199CE7D-ON86257A4C.0048469A-86257A4C.00487402@LocalDomain>
From: llowder@oreillyauto.com
Date: Tue, 31 Jul 2012 08:11:22 -0500
Content-type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
References: <1343679848.2640.44.camel@mrhappy.colorado.edu> <5016F059.3090808@apache.org>
 <1343681656.2640.47.camel@mrhappy.colorado.edu>
 <OFC08E5D09.168306BA-ON86257A4B.0077ECF5-86257A4B.00789E1C@LocalDomain>
 <5017CBCB.8080802@pidster.com>
X-KeepSent: ADDA08FF:6199CE7D-86257A4C:0048469A; name=$KeepSent; type=4
X-Mailer: Lotus Notes Release 8.5.1 September 28, 2009
X-Disclaimed: 54159
X-MIMETrack: CD-MIME by Router on domino1/OReilly(Release 8.5.3|September 15, 2011) at
 07/31/2012 08:11:43,CD-MIME complete at 07/31/2012 08:11:43,Itemize by Router on domino1/OReilly(Release 8.5.3|September 15, 2011) at
 07/31/2012 08:11:43

Pid,

My apologies, I did not realize that I was hijacking.
With how my mail client works I had thought I was starting a new thread.

Lee Lowder




From:	Pid <pid@pidster.com>
To:	Tomcat Users List <users@tomcat.apache.org>
Date:	07/31/2012 07:20 AM
Subject:	Re: Best practice for redeployments



On 30/07/2012 22:57, llowder@oreillyauto.com wrote:
> All,
>
> I have  70-80 apps that are spread out across 3 different clusters (based
> on usage, availability needs etc)
>
> Currently, each night we wipe out the wars and then redeploy them with
> fresh copies from the end points of our promotion paths (one for test and
> one for prod).
>
> What's the general consensus for the best practice for this?
>
> Do people generally only redeploy whatever has changed?
>
> Are nightly  tomcat restarts even needed (or recommended), or should we
> just hot-deploy things at fixed times (based on traffic patterns) but
only
> if something is needing to be updated?
>
> Any recommendations or thoughts or suggestions would be greatly
> appreciated. I'm sure there is some room for improvement in how we do
> things, but I was wondering what was considered a "standard practice" in
> this area.
>
> Lee Lowder

In future please start a completely new email, rather than replying to
an existing email* just editing the subject/body (which is call thread
hijacking).


p


* Re: Best practice for redeployments

--

[key:62590808]

[attachment "signature.asc" deleted by Lee Lowder/OReilly]

This communication and any attachments are confidential, protected by Commu=
nications Privacy Act 18 USCS =A7 2510, solely for the use of the intended =
recipient, and may contain legally privileged material. If you are not the =
intended recipient, please return or destroy it immediately. Thank you.
=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235778-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 13:13:30 2012
Return-Path: <users-return-235778-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 859DFD4AC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 13:13:30 +0000 (UTC)
Received: (qmail 71839 invoked by uid 500); 31 Jul 2012 13:13:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71769 invoked by uid 500); 31 Jul 2012 13:13:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71760 invoked by uid 99); 31 Jul 2012 13:13:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:13:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.86.89.69] (HELO elasmtp-mealy.atl.sa.earthlink.net) (209.86.89.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:13:17 +0000
Received: from [66.32.221.29] (helo=[192.168.2.50])
	by elasmtp-mealy.atl.sa.earthlink.net with esmtpa (Exim 4.67)
	(envelope-from <tim@cliftonfarm.org>)
	id 1SwCFs-00084d-HS
	for users@tomcat.apache.org; Tue, 31 Jul 2012 09:12:56 -0400
Subject: Re: Problems upgrading to Tomcat 7
From: Tim Watts <tim@cliftonfarm.org>
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
References:
	 <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
	 <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com>
	 <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature"; boundary="=-kRzKHUN7ZKAcMmhh21ax"
Organization: Clifton Farm
Date: Tue, 31 Jul 2012 09:13:06 -0400
Message-ID: <1343740386.3018.937.camel@dellberry>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-ELNK-Trace: 3a5701426d89357f74bf435c0eb9d478d255b9203ef9e7a0d124bc6a4fcb34728dfac2e665d9c70b350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 66.32.221.29
X-Virus-Checked: Checked by ClamAV on apache.org

--=-kRzKHUN7ZKAcMmhh21ax
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

On Tue, 2012-07-31 at 09:20 -0300, Alejandro Mehring wrote:
> First of all, thank you very much for your quick response! I'm too having=
 a
> hard time believing that tomcat would do something like that... I even
> tried on a new web project and it didn't remove the parent directory
> reference! I'm very confused right now...
>=20
> The base url of the application is of the form
>=20
> http://host/app/servlets/FrontController
>=20
> So when in Tomcat 4 the page fetches the stylesheet (using the
> href=3D"../lightStyle.css" form), it resolves to
> http://host/app/lightStyle.css, whereas in Tomcat 7 it goes to
> http://host/app/servlets/lightStyle.css.
>=20

In your 4->7 migration process have you made any source code changes
(e.g. using <base> tags)?


> Here's the output of the JSP (the header part) for both 4 and 7 version.
>=20
> TOMCAT 4
> =3D=3D=3D=3D=3D=3D=3D=3D
>=20
> <html>
> <style type=3D"text/css">
> @import URL("../lightStyle.css")
> </style>
> <head>
> <!--meta http-equiv=3DContent-Type content=3D"text/html;
> charset=3Dwindows-1252"-->
> <meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859-=
1">
> <meta http-equiv=3D"Expires" content=3D"0">
> <meta http-equiv=3D"Pragma" content=3D"no-cache">
> <meta http-equiv=3D"cache-control" content=3D"no-cache">
> <title>Consulta de usuarios</title>
> <link rel=3D"stylesheet" href=3D"../lightStyle.css" type=3D"text/css">
> ...
> </head>
> ...
>=20
>=20
>=20
> TOMCAT 7
> =3D=3D=3D=3D=3D=3D=3D=3D
> <HTML>
> <style type=3D"text/css">
> @import URL("lightStyle.css")
> </style>
> <head>
> <title>Error</title>
> <link rel=3D"stylesheet" href=3D"lightStyle.css" type=3D"text/css">
> <meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859-=
1">
> <meta http-equiv=3D"Expires" content=3D"0">
> <meta http-equiv=3D"Pragma" content=3D"no-cache">
> <meta http-equiv=3D"cache-control" content=3D"no-cache">
> ...
> </head>
> ...
>=20
>=20
> Thanks again for anything you can think of!
> Cheers!
> Ale
>=20
>=20
> On Tue, Jul 31, 2012 at 5:10 AM, Andr=C3=A9 Warnier <aw@ice-sa.com> wrote=
:
>=20
> > Christopher Schultz wrote:
> >
> >> -----BEGIN PGP SIGNED MESSAGE-----
> >> Hash: SHA1
> >>
> >> Alejandro,
> >>
> >> On 7/30/12 5:48 PM, Alejandro Mehring wrote:
> >>
> >>> I'm migrating to Tomcat 7 a web system that used to run on Tomcat
> >>> 4...
> >>>
> >>
> >> Been there (though I went through 5.5 and 6.0 to get there in a
> >> relatively short amount of time).
> >>
> >>  So far, I've been able to sort out all of the issues I've faced,
> >>> but I'm stuck at one point. When a page loads in Tomcat 4, it goes
> >>> and fetches the stylesheet from the server with a link of the form
> >>>
> >>> <link type=3D"text/css" href=3D"../lightStyle.css" rel=3D"stylesheet"=
>
> >>>
> >>
> >> Although this should work, I always recommend using context-relative
> >> URLs like this:
> >>
> >> <link type=3D"text/css" href=3D"<%=3D
> >> response.encodeURL(request.**getContextPath() + "/lightStyle.css") %>"=
 />
> >>
> >> This will ensure that your URLs resolve properly no matter how the
> >> .jsp is being evaluated (for instance, in an include or after a
> >> forward, where the client's URL may not match what your JSP expects).
> >>
> >>  But on Tomcat 7, the parent directory indirection is removed, and I
> >>> can't seem to find the way to prevent this from happening!
> >>>
> >>
> >> That doesn't seem right.
> >>
> >>  What confuses me more, is that when Tomcat generates the *_jsp.java
> >>> files, both 4 and 7 versions generate a line of code like this
> >>> one:
> >>>
> >>> out.write("<link rel=3D\"stylesheet\" href=3D\"../lightStyle.css\"
> >>> type=3D\"text/css\">\r\n\r\n");
> >>>
> >>> So i can't figure out why the rendering process is removing the
> >>> '../' bit of the link!
> >>>
> >>
> >> I have a hard time believing that Tomcat is modifying anything: in the
> >> case above, Tomcat does not interpret anything at all. As far as
> >> Tomcat is concerned, the above is just a string of characters like
> >> "Hello, World" and has no URL context or anything like that.
> >>
> >> Are you sure this isn't being included by another JSP or forwarded
> >> from another URL?
> >>
> >>  Has anyone faced this problem before? I haven't found any parent
> >>> directory restriction configuration or something that would point
> >>> me in that direction.
> >>>
> >>
> >> What does the output of the JSP look like? That is, what is the actual
> >> content of the page as seen by the client?
> >>
> >>
> > +1
> >
> > And, what does that request for the stylesheet actually look like, when=
 it
> > is sent by the client (the browser) to the server ?
> > You can find that out by using one of the browser plugins like Fiddler2
> > (for IE), HttpFox (for Firefox) or similar.
> > The point is : this "href" is interpreted *by the client* and converted=
 to
> > a full HTTP request URL (with hostname, path and all), before being sen=
t to
> > the server.
> > The server always receives an absolute URL, starting at the root.
> >
> >
> > ------------------------------**------------------------------**-------=
--
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-uns=
ubscribe@tomcat.apache.org>
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >


--=-kRzKHUN7ZKAcMmhh21ax
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAABAgAGBQJQF9niAAoJEAfDBXDHBQilMu4H/jCyQIFWKSP5JmJyyLM27cDk
Oxodwl3r4QPGN8vmZGtLZDP5gH9YBk2VjzyOqlYQddD+iS1G8g2xMs7qoXUfOCw8
CAll/3FOJG1dFUayf8CuYbiwUit9dE7HYZA8SwKheb+orJFSRMxiuoJq9tHgpTZ0
V3NU6sTqgziOrbZJqE1Dc561b8icYV7RwKzbtdCn9W29qNQx3R2xy/6eAqa5VREz
FwieK1PZZcGUsSeooHrSqL0iLxo+l2OltaBerjJtLMTyqyMQjLzwlnb0RzQ7JWVE
hsPh6tgFh3/0knQjVU8nlN9umIT3Nz7tPlH1FEnoQbaMVTMPA3DR35hRgSPJbCg=
=pV9P
-----END PGP SIGNATURE-----

--=-kRzKHUN7ZKAcMmhh21ax--


From users-return-235779-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 13:56:15 2012
Return-Path: <users-return-235779-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E852958E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 13:56:15 +0000 (UTC)
Received: (qmail 86527 invoked by uid 500); 31 Jul 2012 13:56:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86321 invoked by uid 500); 31 Jul 2012 13:56:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86311 invoked by uid 99); 31 Jul 2012 13:56:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:56:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 13:56:02 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id 5E38ADA06EC
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 15:55:40 +0200 (CEST)
Message-ID: <5017E3D5.8030606@ice-sa.com>
Date: Tue, 31 Jul 2012 15:55:33 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
In-Reply-To: <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Alejandro Mehring wrote:
...

> 
> The base url of the application is of the form
> 
> http://host/app/servlets/FrontController
> 
> So when in Tomcat 4 the page fetches the stylesheet (using the
> href="../lightStyle.css" form), it resolves to
> http://host/app/lightStyle.css, whereas in Tomcat 7 it goes to
> http://host/app/servlets/lightStyle.css.

How do you *know* this ?
Are you watching what the browser really sends as a HTTP request URL, and if yes how ?

> 
> Here's the output of the JSP (the header part) for both 4 and 7 version.
>

Can you also paste the content of the real JSP page which generates the output you showed 
below ? Is that JSP page *exactly* the same for the Tomcats 4 and 7 servers ?

> TOMCAT 4
> ========
> 
> <html>
> <style type="text/css">
> @import URL("../lightStyle.css")
> </style>
> <head>
> <!--meta http-equiv=Content-Type content="text/html;
> charset=windows-1252"-->
> <meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
> <meta http-equiv="Expires" content="0">
> <meta http-equiv="Pragma" content="no-cache">
> <meta http-equiv="cache-control" content="no-cache">
> <title>Consulta de usuarios</title>
> <link rel="stylesheet" href="../lightStyle.css" type="text/css">
> ...
> </head>
> ...
> 
> 
> 
> TOMCAT 7
> ========
> <HTML>
> <style type="text/css">
> @import URL("lightStyle.css")
> </style>
> <head>
> <title>Error</title>
> <link rel="stylesheet" href="lightStyle.css" type="text/css">
> <meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
> <meta http-equiv="Expires" content="0">
> <meta http-equiv="Pragma" content="no-cache">
> <meta http-equiv="cache-control" content="no-cache">
> ...
> </head>
> ...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235780-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 14:08:33 2012
Return-Path: <users-return-235780-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B7429618
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 14:08:33 +0000 (UTC)
Received: (qmail 23041 invoked by uid 500); 31 Jul 2012 14:08:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22961 invoked by uid 500); 31 Jul 2012 14:08:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22950 invoked by uid 99); 31 Jul 2012 14:08:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:08:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of keropotter@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:08:25 +0000
Received: by bkcji1 with SMTP id ji1so3661980bkc.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 07:08:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=RSE6XH4yXVkOHoEtuvN6eAdHZYTPBPDEnkrW3uOhOVc=;
        b=x2ASCv1IylNy4B30+ISwJ+srDITqYd4vUIyQ8GGA6NFOL0WWk8K3rulPLmFkMie8u/
         a4+Ymqm0Xy1lCHYTtbXm6AmU+xcVcDyXnDVeJtGtDkQQ83/OAe9kKKyZaMdF6GHwnUPd
         V1Jh8IWUJPyobYElTl9TBWAf+Siqgmykn7soTGtRaF2x1eKwDe8OaeCbILQoAfoN3neY
         3hf4kStHu9Bvvgm+kvgkevVy5Xu1QGqWHUqayE9yUn7Tf1LfmoI0NrZa68fC38q+GSry
         FH+Hm85a6URMropc3pne4VLVUmqUMN4KmCDYR+8junPbVxpQ3UklMBtUFkZGiruYl3Qj
         J7CQ==
Received: by 10.204.152.136 with SMTP id g8mr5240928bkw.44.1343743683959; Tue,
 31 Jul 2012 07:08:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.13.9 with HTTP; Tue, 31 Jul 2012 07:07:43 -0700 (PDT)
In-Reply-To: <5017E3D5.8030606@ice-sa.com>
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
 <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com>
 <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com> <5017E3D5.8030606@ice-sa.com>
From: Alejandro Mehring <keropotter@gmail.com>
Date: Tue, 31 Jul 2012 11:07:43 -0300
Message-ID: <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
Subject: Re: Problems upgrading to Tomcat 7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0015175d0998f39c1604c620b49f
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175d0998f39c1604c620b49f
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Thank you very much for your help!

Digging a bit more into the system, I came to a part where it's building
the link based on the original servlet request.

If I have this URL:
http://host/app/servlet/FrontController?arg1=3Dyes&arg2=3Dtarget.jsp&arg3=
=3Dsomething

Java 1.4's getRequestURL() returns 'http://host/app/servlet/FrontController=
'
whereas
Java 1.6's getRequestURL() returns 'http://host/app/target.jsp'

I found someone reporting this same issue on JBoss community page, but got
no answer. I'll try to find another way to get the same behaviour in Java
1.6 as of getRequestURL in 1.4.


Thank you very much for your kind help.
Ale

On Tue, Jul 31, 2012 at 10:55 AM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Alejandro Mehring wrote:
> ...
>
>
>> The base url of the application is of the form
>>
>> http://host/app/servlets/**FrontController<http://host/app/servlets/Fron=
tController>
>>
>> So when in Tomcat 4 the page fetches the stylesheet (using the
>> href=3D"../lightStyle.css" form), it resolves to
>> http://host/app/lightStyle.css**, whereas in Tomcat 7 it goes to
>> http://host/app/servlets/**lightStyle.css<http://host/app/servlets/light=
Style.css>
>> .
>>
>
> How do you *know* this ?
> Are you watching what the browser really sends as a HTTP request URL, and
> if yes how ?
>
>
>
>> Here's the output of the JSP (the header part) for both 4 and 7 version.
>>
>>
> Can you also paste the content of the real JSP page which generates the
> output you showed below ? Is that JSP page *exactly* the same for the
> Tomcats 4 and 7 servers ?
>
>
>  TOMCAT 4
>> =3D=3D=3D=3D=3D=3D=3D=3D
>>
>> <html>
>> <style type=3D"text/css">
>> @import URL("../lightStyle.css")
>> </style>
>> <head>
>> <!--meta http-equiv=3DContent-Type content=3D"text/html;
>> charset=3Dwindows-1252"-->
>> <meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859=
-1">
>> <meta http-equiv=3D"Expires" content=3D"0">
>> <meta http-equiv=3D"Pragma" content=3D"no-cache">
>> <meta http-equiv=3D"cache-control" content=3D"no-cache">
>> <title>Consulta de usuarios</title>
>> <link rel=3D"stylesheet" href=3D"../lightStyle.css" type=3D"text/css">
>> ...
>> </head>
>> ...
>>
>>
>>
>> TOMCAT 7
>> =3D=3D=3D=3D=3D=3D=3D=3D
>> <HTML>
>> <style type=3D"text/css">
>> @import URL("lightStyle.css")
>> </style>
>> <head>
>> <title>Error</title>
>> <link rel=3D"stylesheet" href=3D"lightStyle.css" type=3D"text/css">
>> <meta http-equiv=3DContent-Type content=3D"text/html; charset=3DISO-8859=
-1">
>> <meta http-equiv=3D"Expires" content=3D"0">
>> <meta http-equiv=3D"Pragma" content=3D"no-cache">
>> <meta http-equiv=3D"cache-control" content=3D"no-cache">
>> ...
>> </head>
>> ...
>>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--0015175d0998f39c1604c620b49f--

From users-return-235781-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 14:31:52 2012
Return-Path: <users-return-235781-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F00CD35F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 14:31:52 +0000 (UTC)
Received: (qmail 98946 invoked by uid 500); 31 Jul 2012 14:31:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98901 invoked by uid 500); 31 Jul 2012 14:31:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98890 invoked by uid 99); 31 Jul 2012 14:31:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:31:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:31:41 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id E288ADA06D2
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 16:31:17 +0200 (CEST)
Message-ID: <5017EC2F.9070301@ice-sa.com>
Date: Tue, 31 Jul 2012 16:31:11 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com> <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
In-Reply-To: <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Alejandro Mehring wrote:
> Thank you very much for your help!
> 
> Digging a bit more into the system, I came to a part where it's building
> the link based on the original servlet request.
> 
> If I have this URL:
> http://host/app/servlet/FrontController?arg1=yes&arg2=target.jsp&arg3=something
> 
> Java 1.4's getRequestURL() returns 'http://host/app/servlet/FrontController'
> whereas
> Java 1.6's getRequestURL() returns 'http://host/app/target.jsp'
> 
> I found someone reporting this same issue on JBoss community page, but got
> no answer. I'll try to find another way to get the same behaviour in Java
> 1.6 as of getRequestURL in 1.4.
> 

Now you seem to be on the right path.
On the other hand, you seem to be strangely ignoring every bit of advice that people are 
trying to give you, for example what Christopher suggested in his earlier message, and 
which i will repeat here :

quote

Although this should work, I always recommend using context-relative
URLs like this:

<link type="text/css" href="<%=
response.encodeURL(request.getContextPath() + "/lightStyle.css") %>" />

This will ensure that your URLs resolve properly no matter how the
.jsp is being evaluated (for instance, in an include or after a
forward, where the client's URL may not match what your JSP expects).

unquote


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235782-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 14:39:02 2012
Return-Path: <users-return-235782-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90391D42A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 14:39:02 +0000 (UTC)
Received: (qmail 26180 invoked by uid 500); 31 Jul 2012 14:38:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26129 invoked by uid 500); 31 Jul 2012 14:38:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26120 invoked by uid 99); 31 Jul 2012 14:38:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:38:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:38:53 +0000
Received: by obbta14 with SMTP id ta14so14480322obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 07:38:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=umLbGN3LZn2ZKLxF2feswVtkyiqHfSCejqqqYnDzrXQ=;
        b=SB2thsQcbBXlusds16tKu4JG/CRdKvsdcZe00HkD+1OYfCWshmmiXAW1dEmDXsU2i9
         IA67B2m0yDDTw7oRgUdy3nQhOWeG6M3BQhVuTk5QY9cQaD+y0efRJ5IphuldNNl9HA8I
         349aBTlWpKmh1Kdbwe8lKsBoE68PPRoOtq3MvY2eKgWfeLnZF0uUgmzpK2HtYZ7DTRZd
         loOE+aJjkjtIAvxat7taZM+iuD9ea7DieqQPBeFZgbibocqZMxHqOf9cdjYkPCYf6iF0
         JmDcX/c+4q1DJmZfxBEx6fUR6x+/BOgds4EqYOFsamnvc8HfMyW5r3QO0VTKEWZEO8he
         gs/Q==
MIME-Version: 1.0
Received: by 10.182.37.41 with SMTP id v9mr23913145obj.23.1343745512119; Tue,
 31 Jul 2012 07:38:32 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Tue, 31 Jul 2012 07:38:31 -0700 (PDT)
In-Reply-To: <5017C1D3.5030608@ice-sa.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
Date: Tue, 31 Jul 2012 16:38:31 +0200
Message-ID: <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae939969beb1f5504c62121b7

--14dae939969beb1f5504c62121b7
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

The "only" way to reproduce it is (for me) without the plugin; i'm sorry ..=
.
I haven't seen what happens using a sniffer, but the X in the apache's log
file tells me that the client is aborting the session, I suspect a session
reset could happen.
And finally, following your suggestion, a F5 helped me:

200Ok session:
GET /test.pdf HTTP/1.1
Accept: */*
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
CLR 2.0.50727)
Host: installazioni-el6b.insiel.it:8080
Connection: Keep-Alive
Pragma: no-cache

HTTP/1.1 200 OK
Server: Apache-Coyote/1.1
Accept-Ranges: bytes
ETag: W/"3447866-1343391729000"
Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
Content-Type: application/pdf
Content-Length: 3447866
Date: Tue, 31 Jul 2012 12:32:05 GMT

206KO:
GET /test.pdf HTTP/1.1
Accept: */*
Range: bytes=3D3446021-3447865, 475136-1792507
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
CLR 2.0.50727)
Host: installazioni-el6b.insiel.it:8080
Connection: Keep-Alive
Pragma: no-cache

HTTP/1.1 206 Partial Content
Server: Apache-Coyote/1.1
Accept-Ranges: bytes
ETag: W/"3447866-1343391729000"
Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
Content-Type: multipart/byteranges;boundary=3DCATALINA_MIME_BOUNDARY
Date: Tue, 31 Jul 2012 12:32:20 GMT
Content-Length: 1319458

Michele Mas=E8

On Tue, Jul 31, 2012 at 1:30 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Michele Mase' wrote:
>
>> Unluckly the problem is difficult to reproduce (almost 1/10 times
>> appears);
>> a small script that empty the IE's cache and kill explorer.exe helped me=
.
>> I used mod_proxy_ajp because the apache's logs were better for debugging
>> purposes.
>> The matter appears even using the http bio connector.
>> Michele MAs=E8
>>
>>  If it happens 1 time out of 10, then it is not hard to reproduce.
> Again :
> - install one of the plugins earlier mentioned
> - activate it
> - load your PDF once
> - press the "page refresh", with the shift button pressed (forces reload,
> even when already in cache)
> - do this as long as you do not have the problem
> - when you have the problem, look at the display of the plugin. Highlight
> the request that did not come back with an OK response (OK=3D200), and
> display the request and response headers of that request. Copy them to th=
e
> clipboard, and paste them in you next message to the list.
>
> Without "solid" information of that kind, it is difficult to help you
> further.
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae939969beb1f5504c62121b7--

From users-return-235783-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 14:43:49 2012
Return-Path: <users-return-235783-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B7375D477
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 14:43:49 +0000 (UTC)
Received: (qmail 47432 invoked by uid 500); 31 Jul 2012 14:43:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47380 invoked by uid 500); 31 Jul 2012 14:43:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47371 invoked by uid 99); 31 Jul 2012 14:43:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:43:46 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of keropotter@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:43:41 +0000
Received: by bkcji1 with SMTP id ji1so3680960bkc.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 07:43:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=2BVV7m8vZFqoFnF0eR28jClh9HoLsB0CXi9gqJg8C+E=;
        b=TK3vly7ntSRRhIenyVYnC/JzjuDf81E+ayXxDMwoQ+IvEUuMtD9kkZhCWKGuXwMxvG
         voQt3bldZ/gHaLZQ16JN0Oh0EIfIwonrqZF0CJkHaanVtYH/xUcOY1x/hk7/s24ht/V3
         N/v56yv0GGTkUtbJTqTO/wSfc7SaeToWg7+1VBsEWkiiqrpp7qOYBQjKXEsaaP5nugOX
         ffVjbgGOrGOutHRsj6jsZ+5Ta0j0X+WME/egb3bOnFbORJrFtmZZqXS4noFPNCYuRCHK
         M4vTY3QVj363teibLjpq3RKxZb+Kq7ji8R2RNd5QmU986q800zs3HLCLFZJTU9j5sU3y
         ta+w==
Received: by 10.204.148.66 with SMTP id o2mr5335107bkv.43.1343745800085; Tue,
 31 Jul 2012 07:43:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.13.9 with HTTP; Tue, 31 Jul 2012 07:42:59 -0700 (PDT)
In-Reply-To: <5017EC2F.9070301@ice-sa.com>
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
 <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com>
 <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
 <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
 <5017EC2F.9070301@ice-sa.com>
From: Alejandro Mehring <keropotter@gmail.com>
Date: Tue, 31 Jul 2012 11:42:59 -0300
Message-ID: <CAFZTzqaewMBhVgArH7H_bz_V8yiht=VVw37gUQzFkXkjmqAtmA@mail.gmail.com>
Subject: Re: Problems upgrading to Tomcat 7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=000e0cdf134215218c04c62133f7
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cdf134215218c04c62133f7
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I'm very sorry! I forgot to mention that i tried what he suggested, but got
the same result. That's why I started digging more into it and got to that
point and what helped me find this other issue.

Thanks again!
Ale

On Tue, Jul 31, 2012 at 11:31 AM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Alejandro Mehring wrote:
>
>> Thank you very much for your help!
>>
>> Digging a bit more into the system, I came to a part where it's building
>> the link based on the original servlet request.
>>
>> If I have this URL:
>> http://host/app/servlet/**FrontController?arg1=3Dyes&arg2=3D**
>> target.jsp&arg3=3Dsomething<http://host/app/servlet/FrontController?arg1=
=3Dyes&arg2=3Dtarget.jsp&arg3=3Dsomething>
>>
>> Java 1.4's getRequestURL() returns 'http://host/app/servlet/**
>> FrontController <http://host/app/servlet/FrontController>'
>> whereas
>> Java 1.6's getRequestURL() returns 'http://host/app/target.jsp'
>>
>> I found someone reporting this same issue on JBoss community page, but g=
ot
>> no answer. I'll try to find another way to get the same behaviour in Jav=
a
>> 1.6 as of getRequestURL in 1.4.
>>
>>
> Now you seem to be on the right path.
> On the other hand, you seem to be strangely ignoring every bit of advice
> that people are trying to give you, for example what Christopher suggeste=
d
> in his earlier message, and which i will repeat here :
>
> quote
>
>
> Although this should work, I always recommend using context-relative
> URLs like this:
>
> <link type=3D"text/css" href=3D"<%=3D
> response.encodeURL(request.**getContextPath() + "/lightStyle.css") %>" />
>
> This will ensure that your URLs resolve properly no matter how the
> .jsp is being evaluated (for instance, in an include or after a
> forward, where the client's URL may not match what your JSP expects).
>
> unquote
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--000e0cdf134215218c04c62133f7--

From users-return-235784-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 14:58:21 2012
Return-Path: <users-return-235784-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CBF6D4E5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 14:58:21 +0000 (UTC)
Received: (qmail 83557 invoked by uid 500); 31 Jul 2012 14:58:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83478 invoked by uid 500); 31 Jul 2012 14:58:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83468 invoked by uid 99); 31 Jul 2012 14:58:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:58:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [80.12.242.29] (HELO smtpout.wanadoo.co.uk) (80.12.242.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 14:58:09 +0000
Received: from mail.homeinbox.net ([2.24.218.1])
	by mwinf5d10 with ME
	id h2xm1j00A02Pqcq032xmqr; Tue, 31 Jul 2012 16:57:46 +0200
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 238F2B22002
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 15:57:46 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wPzrUA9hqntS for <users@tomcat.apache.org>;
	Tue, 31 Jul 2012 15:57:30 +0100 (BST)
Received: from [192.168.23.9] (study03.dev.local [192.168.23.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id E13ADB22001
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 15:57:29 +0100 (BST)
Message-ID: <5017F254.4040109@apache.org>
Date: Tue, 31 Jul 2012 15:57:24 +0100
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com> <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
In-Reply-To: <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 31/07/2012 15:07, Alejandro Mehring wrote:
> Thank you very much for your help!
> 
> Digging a bit more into the system, I came to a part where it's building
> the link based on the original servlet request.
> 
> If I have this URL:
> http://host/app/servlet/FrontController?arg1=yes&arg2=target.jsp&arg3=something
> 
> Java 1.4's getRequestURL() returns 'http://host/app/servlet/FrontController'
> whereas
> Java 1.6's getRequestURL() returns 'http://host/app/target.jsp'
> 
> I found someone reporting this same issue on JBoss community page, but got
> no answer. I'll try to find another way to get the same behaviour in Java
> 1.6 as of getRequestURL in 1.4.

That is not a Java 1.4 vs Java 6 issue. That is a container
implementation issue since getRequestURL() is provided by the container.

You'll need to dig a little more into exactly what is going on in the
app. I don't recall any spec changes in this area.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235785-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 15:02:52 2012
Return-Path: <users-return-235785-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EBC01D52C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 15:02:52 +0000 (UTC)
Received: (qmail 96645 invoked by uid 500); 31 Jul 2012 15:02:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96566 invoked by uid 500); 31 Jul 2012 15:02:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96556 invoked by uid 99); 31 Jul 2012 15:02:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:02:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of keropotter@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:02:43 +0000
Received: by bkcji1 with SMTP id ji1so3690924bkc.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 08:02:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=6CdXJAFO78A8vfOIAKQr6wfVIQTS+7Mq5GZMOkr5IIo=;
        b=r3RcnnUBZDlf+JqKue92GhGym4ggb/mOhUM/xPYeH5d7NNaB8RHEfKuj3D4IuxyP47
         qyMaN85XSWESAmFoHxDcKX0yGOs27lRBEAm+LnwApThiznIB6etgZs5BIMIc3gYUp/GU
         lF5vAkMqcC1/8ErRYe3MgdEDkR8ZwT1pYPvWpUuyw3U9I6JZztSiuE51GJZEnxHJoCUA
         q42VvnKHOcWzWd/cV6AzXKhZUSQKnbPkza1v4N2mZJDvsAZwQ6Vfng5Gx2mDCHn+mdfr
         r0PubSZHBFZCDfevHVZ8ElC5pX7jtAPxHrofyRQAVe7gzEuy4zU21cT/CgpAgafBiv21
         Cggw==
Received: by 10.204.41.206 with SMTP id p14mr5364780bke.54.1343746941820; Tue,
 31 Jul 2012 08:02:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.13.9 with HTTP; Tue, 31 Jul 2012 08:02:01 -0700 (PDT)
In-Reply-To: <5017F254.4040109@apache.org>
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com>
 <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com>
 <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
 <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
 <5017F254.4040109@apache.org>
From: Alejandro Mehring <keropotter@gmail.com>
Date: Tue, 31 Jul 2012 12:02:01 -0300
Message-ID: <CAFZTzqbbNUyOeT93fbbnMqYx+DTe=szV9QgAgLn2PfqU=e9BaA@mail.gmail.com>
Subject: Re: Problems upgrading to Tomcat 7
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec555517a22a13004c62177c9
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec555517a22a13004c62177c9
Content-Type: text/plain; charset=ISO-8859-1

Thank you, Mark!

I'll look into the container and let you know when i find the solution.

Cheers,
Ale

On Tue, Jul 31, 2012 at 11:57 AM, Mark Thomas <markt@apache.org> wrote:

> On 31/07/2012 15:07, Alejandro Mehring wrote:
> > Thank you very much for your help!
> >
> > Digging a bit more into the system, I came to a part where it's building
> > the link based on the original servlet request.
> >
> > If I have this URL:
> >
> http://host/app/servlet/FrontController?arg1=yes&arg2=target.jsp&arg3=something
> >
> > Java 1.4's getRequestURL() returns '
> http://host/app/servlet/FrontController'
> > whereas
> > Java 1.6's getRequestURL() returns 'http://host/app/target.jsp'
> >
> > I found someone reporting this same issue on JBoss community page, but
> got
> > no answer. I'll try to find another way to get the same behaviour in Java
> > 1.6 as of getRequestURL in 1.4.
>
> That is not a Java 1.4 vs Java 6 issue. That is a container
> implementation issue since getRequestURL() is provided by the container.
>
> You'll need to dig a little more into exactly what is going on in the
> app. I don't recall any spec changes in this area.
>
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec555517a22a13004c62177c9--

From users-return-235786-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 15:16:00 2012
Return-Path: <users-return-235786-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BFD9CD58E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 15:16:00 +0000 (UTC)
Received: (qmail 29914 invoked by uid 500); 31 Jul 2012 15:15:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29864 invoked by uid 500); 31 Jul 2012 15:15:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29852 invoked by uid 99); 31 Jul 2012 15:15:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:15:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:15:48 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id 5F571DA070F
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 17:15:25 +0200 (CEST)
Message-ID: <5017F686.4030500@ice-sa.com>
Date: Tue, 31 Jul 2012 17:15:18 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com> <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com> <5017EC2F.9070301@ice-sa.com> <CAFZTzqaewMBhVgArH7H_bz_V8yiht=VVw37gUQzFkXkjmqAtmA@mail.gmail.com>
In-Reply-To: <CAFZTzqaewMBhVgArH7H_bz_V8yiht=VVw37gUQzFkXkjmqAtmA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Alejandro Mehring wrote:
> I'm very sorry! I forgot to mention that i tried what he suggested, but got
> the same result. That's why I started digging more into it and got to that
> point and what helped me find this other issue.
> 
Allright, but next time try to provide some feedback.  People on the list are people, and 
they may tend to get discouraged from helping you, if you /appear/ to ignore what they are 
saying and continue on your own track no matter what.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235787-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 15:29:36 2012
Return-Path: <users-return-235787-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1DC8CD25B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 15:29:36 +0000 (UTC)
Received: (qmail 60548 invoked by uid 500); 31 Jul 2012 15:29:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60499 invoked by uid 500); 31 Jul 2012 15:29:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60490 invoked by uid 99); 31 Jul 2012 15:29:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:29:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:29:26 +0000
Received: from [192.168.245.129] (p549E8E5A.dip0.t-ipconnect.de [84.158.142.90])
	by tor.combios.es (Postfix) with ESMTPA id 526A6DA0732
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 17:29:03 +0200 (CEST)
Message-ID: <5017F9B8.7090303@ice-sa.com>
Date: Tue, 31 Jul 2012 17:28:56 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>	<5017C1D3.5030608@ice-sa.com> <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
In-Reply-To: <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Michele Mase' wrote:
> The "only" way to reproduce it is (for me) without the plugin; i'm sorry ...
> I haven't seen what happens using a sniffer, but the X in the apache's log
> file tells me that the client is aborting the session, I suspect a session
> reset could happen.
> And finally, following your suggestion, a F5 helped me:
> 
> 200Ok session:
> GET /test.pdf HTTP/1.1
> Accept: */*
> Accept-Encoding: gzip, deflate
> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
> CLR 2.0.50727)
> Host: installazioni-el6b.insiel.it:8080
> Connection: Keep-Alive
> Pragma: no-cache
> 
> HTTP/1.1 200 OK
> Server: Apache-Coyote/1.1
> Accept-Ranges: bytes
> ETag: W/"3447866-1343391729000"
> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
> Content-Type: application/pdf
> Content-Length: 3447866
> Date: Tue, 31 Jul 2012 12:32:05 GMT
> 
> 206KO:
> GET /test.pdf HTTP/1.1
> Accept: */*
> Range: bytes=3446021-3447865, 475136-1792507
> Accept-Encoding: gzip, deflate
> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
> CLR 2.0.50727)
> Host: installazioni-el6b.insiel.it:8080
> Connection: Keep-Alive
> Pragma: no-cache
> 
> HTTP/1.1 206 Partial Content
> Server: Apache-Coyote/1.1
> Accept-Ranges: bytes
> ETag: W/"3447866-1343391729000"
> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
> Content-Type: multipart/byteranges;boundary=CATALINA_MIME_BOUNDARY
> Date: Tue, 31 Jul 2012 12:32:20 GMT
> Content-Length: 1319458
> 

The above appears (to me) to be two correct request/response pairs.
Even the 206, which is a normal response to the "Range" request as per here : 
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html

We still don't know if/why the browser/client resets the connection, but it is not visible 
in the above exchange.
Maybe inspecting the response body to the second request would provide a clue.

It is also a bit of a mystery to me why the same browser would sometimes request the same 
resource in one go, and sometimes as byteranges.  But I don't know exactly how this part 
is supposed to work.
Maybe it depends on which part of the PDF the user decides to display ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235788-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 15:31:34 2012
Return-Path: <users-return-235788-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E24AD267
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 15:31:34 +0000 (UTC)
Received: (qmail 68646 invoked by uid 500); 31 Jul 2012 15:31:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68467 invoked by uid 500); 31 Jul 2012 15:31:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68458 invoked by uid 99); 31 Jul 2012 15:31:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:31:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:31:24 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id gy3C1j0040mv7h0533X6YG; Tue, 31 Jul 2012 15:31:06 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id h3Wy1j00n38FjT13X3X03w; Tue, 31 Jul 2012 15:31:01 +0000
Message-ID: <5017FA34.70603@christopherschultz.net>
Date: Tue, 31 Jul 2012 11:31:00 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com> <5017E3D5.8030606@ice-sa.com> <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
In-Reply-To: <CAFZTzqaBo2K78jVCvSLxBFWocxk2oK7X1fC2mdkTeJte1awiAw@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alejandro,

On 7/31/12 10:07 AM, Alejandro Mehring wrote:
> Digging a bit more into the system, I came to a part where it's
> building the link based on the original servlet request.
> 
> If I have this URL: 
> http://host/app/servlet/FrontController?arg1=yes&arg2=target.jsp&arg3=something
>
>  Java 1.4's getRequestURL() returns
> 'http://host/app/servlet/FrontController' whereas Java 1.6's
> getRequestURL() returns 'http://host/app/target.jsp'
> 
> I found someone reporting this same issue on JBoss community page,
> but got no answer. I'll try to find another way to get the same
> behaviour in Java 1.6 as of getRequestURL in 1.4.

If getRequestURL (from the servlet API, not from the Java API) returns
something different, then something must have changed in your webapp.
The original request (what the client sent) looks like what? Are there
any forwards involved? It looks like you are forwarding from
/servlet/FrontController to /target.jsp. When you do that, the request
URI changes. If you want the original request URI, then you have to
look in the request attributes. I'll point you to the servlet spec to
find out the name(s) of the attribute(s) to fetch if that's what you want.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAX+jQACgkQ9CaO5/Lv0PDWvgCfZ9zqYwtST79UxQ8sO6sYY4Nb
mB4An37ynSb3YxEaKrTBukFXeVf6ylg1
=32Zy
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235789-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 15:40:37 2012
Return-Path: <users-return-235789-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39899D29A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 15:40:37 +0000 (UTC)
Received: (qmail 89384 invoked by uid 500); 31 Jul 2012 15:40:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89339 invoked by uid 500); 31 Jul 2012 15:40:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89327 invoked by uid 99); 31 Jul 2012 15:40:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:40:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 15:40:26 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id h3FE1j00817dt5G593g970; Tue, 31 Jul 2012 15:40:09 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id h3bN1j00A38FjT13Z3bPxl; Tue, 31 Jul 2012 15:35:23 +0000
Message-ID: <5017FB28.6060307@christopherschultz.net>
Date: Tue, 31 Jul 2012 11:35:04 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problems upgrading to Tomcat 7
References: <CAFZTzqY2EVzBdxQGHeCVmOy4ip=Tkh4yx8o0Q6Un29Hrc_OTMw@mail.gmail.com> <50172E7E.2080304@christopherschultz.net> <501792ED.3040809@ice-sa.com> <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
In-Reply-To: <CAFZTzqZzEQr9xzgf1PSDB5fxw3OwH3V5+W7sj2ZcU0PDY-c+yw@mail.gmail.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alejandro,

On 7/31/12 8:20 AM, Alejandro Mehring wrote:
> The base url of the application is of the form
> 
> http://host/app/servlets/FrontController

Is that an HTTP <base> tag, or just the "base" of the webapp that you
use as a mental model?

> So when in Tomcat 4 the page fetches the stylesheet (using the 
> href="../lightStyle.css" form), it resolves to 
> http://host/app/lightStyle.css, whereas in Tomcat 7 it goes to 
> http://host/app/servlets/lightStyle.css.
> 
> Here's the output of the JSP (the header part) for both 4 and 7
> version.
> 
> TOMCAT 4 ========
> 
> <html> <style type="text/css"> @import URL("../lightStyle.css") 
> </style> <head> <!--meta http-equiv=Content-Type
> content="text/html; charset=windows-1252"--> <meta
> http-equiv=Content-Type content="text/html; charset=ISO-8859-1"> 
> <meta http-equiv="Expires" content="0"> <meta http-equiv="Pragma"
> content="no-cache"> <meta http-equiv="cache-control"
> content="no-cache"> <title>Consulta de usuarios</title> <link
> rel="stylesheet" href="../lightStyle.css" type="text/css"> ... 
> </head> ...
> 
> 
> 
> TOMCAT 7 ======== <HTML> <style type="text/css"> @import
> URL("lightStyle.css") </style> <head> <title>Error</title> <link
> rel="stylesheet" href="lightStyle.css" type="text/css"> <meta
> http-equiv=Content-Type content="text/html; charset=ISO-8859-1"> 
> <meta http-equiv="Expires" content="0"> <meta http-equiv="Pragma"
> content="no-cache"> <meta http-equiv="cache-control"
> content="no-cache"> ... </head> ...

Something doesn't look right here. There are lots of differences
between these two outputs:

1. <html> versus <HTML>
2. Missing <!-- comment --> in "TC7" version
3. Re-arranged HTML tags (title/link versus meta)
4. Different language and/or meaning for <title> ("Error" versus
   "Consulta de usuarios")

Are you sure you aren't just seeing the error page in TC7 because
something is broken and you think that the "Consulta de usuarios" page
should be showing instead?

It sounds like a case of mistaken identity. You are probably editing
the wrong page and trying to solve the wrong problem.

Read your log files to see what is really going wrong.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAX+ygACgkQ9CaO5/Lv0PCkSwCfVZmgQ9mwVPf5BP+GVJpvHpJn
AY0AniG6vXFAHGOYrmZDbtXBsHz0r0Xq
=TVES
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235790-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 16:40:37 2012
Return-Path: <users-return-235790-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B64B297DB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 16:40:37 +0000 (UTC)
Received: (qmail 79974 invoked by uid 500); 31 Jul 2012 16:40:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79803 invoked by uid 500); 31 Jul 2012 16:40:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79794 invoked by uid 99); 31 Jul 2012 16:40:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 16:40:34 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chip.McVey@quest.com designates 12.106.87.93 as permitted sender)
Received: from [12.106.87.93] (HELO alvetxw01.quest.com) (12.106.87.93)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 16:40:26 +0000
Received: from ALVHTXW02.prod.quest.corp (10.1.135.18) by alvetxw01.quest.com
 (10.1.100.93) with Microsoft SMTP Server (TLS) id 14.1.355.2; Tue, 31 Jul
 2012 09:40:37 -0700
Received: from ALVMBXW02.prod.quest.corp ([fe80::b862:2ecd:1237:d875]) by
 ALVHTXW02.prod.quest.corp ([::1]) with mapi id 14.01.0355.002; Tue, 31 Jul
 2012 09:40:05 -0700
From: Chip McVey <Chip.McVey@quest.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Permanent servlet in TC7
Thread-Topic: Permanent servlet in TC7
Thread-Index: Ac1rY3WONtgvNMUATyGuGKZ7T2vRmgAPWUKAAA6WU3AAJmgkAACxde8A
Date: Tue, 31 Jul 2012 16:40:04 +0000
Message-ID: <774CCD676B63FE49B1291BE556DD6985227493C1@ALVMBXW02.prod.quest.corp>
References: <774CCD676B63FE49B1291BE556DD698522747AA7@ALVMBXW02.prod.quest.corp>
	 <50119C9F.9010601@christopherschultz.net>
	 <774CCD676B63FE49B1291BE556DD698522747B1A@ALVMBXW02.prod.quest.corp>
 <1343422531.13485.32.camel@localhost.localdomain>
In-Reply-To: <1343422531.13485.32.camel@localhost.localdomain>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.1.104.156]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

VGhhbmtzIHRvIGFsbCBmb3IgdGhlIGlucHV0IC0gSSBhbSBlbmRpbmcgdXAgZG9pbmcgc29tZSBy
ZWZhY3RvcmluZyB0byBmb2xsb3cgQmVuJ3MgYWR2aWNlIHdydCBhIFBPSk8gdGhhdCBkb2VzIHRo
ZSBoZWF2eSBsaWZ0aW5nIHN0b3JlZCBpbiBjb250ZXh0LCBtYWtpbmcgdGhlIGRlc3Ryb3koKSBl
c3NlbnRpYWxseSBhIG5vLW9wIHJhdGhlciB0aGFuIGRvaW5nIGZ1bGwgc2h1dGRvd24sIGFuZCB1
c2luZyB0aGUgQ29udGV4dExpc3RlbmVyIHRvIHJlYWxseSBkbyBmaW5hbCBzaHV0ZG93biB1c2lu
ZyB0aGUgUE9KTyB3aGVuIHRoZSBjb250ZXh0IGl0c2VsZiBpcyBkZXN0cm95ZWQuDQoNCi0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBCZW4gU291dGhlciBbbWFpbHRvOmJlbkBzb3V0
aGVyLnVzXSANClNlbnQ6IEZyaWRheSwgSnVseSAyNywgMjAxMiAxOjU2IFBNDQpUbzogdXNlcnNA
dG9tY2F0LmFwYWNoZS5vcmcNClN1YmplY3Q6IFJFOiBQZXJtYW5lbnQgc2VydmxldCBpbiBUQzcN
Cg0KT24gVGh1LCAyMDEyLTA3LTI2IGF0IDE5OjU0ICswMDAwLCBDaGlwIE1jVmV5IHdyb3RlOg0K
PiBTbyBJJ20gbG9va2luZyBmb3IgYSBndWFyYW50ZWUgdGhhdCBubyBhdXRvbWF0aWMgZGVzdHJv
eXMgd2lsbCBoYXBwZW4gDQo+IGdvaW5nIGZvcndhcmQganVzdCBiZWNhdXNlIFRvbWNhdCBkZWNp
ZGVzIHRvIGRvIGl0IG9uIGl0cyBvd24uICBJZiBpdCANCj4gaXMgaW5zdHJ1Y3RlZCB0byBzaHV0
ZG93bi91bmRlcGxveS91bmxvYWQgYnkgc29tZSBvdXRzaWRlIHN5c3RlbSBvciBieSANCj4gYSBo
dW1hbiB1c2VyLCB0aGF0J3MgZmluZSwgSSdtIG5vdCB3b3JyaWVkIGFib3V0IHRoYXQuICBCdXQg
SSBkb24ndCANCj4gd2FudCB0aGVzZSBzZXJ2bGV0cyB0byBiZSBkZXN0cm95ZWQganVzdCBiZWNh
dXNlIFRvbWNhdCBkZWNpZGVzIHRvIGRvIA0KPiBzbyBmb3Igd2hhdGV2ZXIgcmVhc29uLg0KDQpJ
ZiBJIHdlcmUgbG9va2luZyBmb3IgcGVybWFuZW5jZSwgSSB3b3VsZCBjcmVhdGUgUE9KTywgYmlu
ZCBpdCB0byBjb250ZXh0IHNjb3BlLCBhbmQgdGhlbiBjYWxsIGl0IGZyb20gbXkgc2VydmxldHMs
IHBhc3NpbmcgaXQgd2hhdGV2ZXIgaXQgbmVlZHMgdG8gZnVuY3Rpb24uDQoNCg0KDQo=
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-235791-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 16:47:12 2012
Return-Path: <users-return-235791-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 904DE97FA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 16:47:12 +0000 (UTC)
Received: (qmail 98117 invoked by uid 500); 31 Jul 2012 16:47:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98059 invoked by uid 500); 31 Jul 2012 16:47:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98049 invoked by uid 99); 31 Jul 2012 16:47:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 16:47:09 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pietro54@wp.pl designates 212.77.101.7 as permitted sender)
Received: from [212.77.101.7] (HELO mx3.wp.pl) (212.77.101.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 16:47:04 +0000
Received: (wp-smtpd smtp.wp.pl 29588 invoked from network); 31 Jul 2012 18:40:02 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=wp.pl; s=1024a;
          t=1343752803; bh=B4mN7eIJ5+ehOkTGFhOh7sNVGm9sTOXBQaFFOt3LkRQ=;
          h=From:To:Subject;
          b=SgrGfo4c8QDnTbbbKP3T60ITX3Ym8Rabeau6FWiNautrB/J7vpqyOCJK7FHva0Ju+
           yHim2jHxzgR+WLg+PWiBX6Ab3z/7hk8iH0ZbxdmzlnWt0FvPn/rmdv71d+9JJ+/JSq
           3esjqOH8MIUrP7WmW8Zx1uzgCeNhUEL+vz62HRlM=
Received: from ciz59.neoplus.adsl.tpnet.pl (HELO [192.168.11.11]) (pietro54@[83.31.49.59])
          (envelope-sender <pietro54@wp.pl>)
          by smtp.wp.pl (WP-SMTPD) with SMTP
          for <users@tomcat.apache.org>; 31 Jul 2012 18:40:02 +0200
Message-ID: <50180A5D.9030308@wp.pl>
Date: Tue, 31 Jul 2012 18:39:57 +0200
From: =?ISO-8859-2?Q?Piotr_W=B1cha=B3a?= <pietro54@wp.pl>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Problem with tomcat and jk module
References: <500e7af71d2117.66857428@wp.pl> <500E9F5B.8020805@ice-sa.com> <500ECD8F.4010302@wp.pl>
In-Reply-To: <500ECD8F.4010302@wp.pl>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 8bit
X-WP-AV: skaner antywirusowy poczty Wirtualnej Polski S. A.
X-WP-SPAM: NO 0000000 [ocNU]                               
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
sorry i dident wrote before but we "fight" with the problem.
My coleege from work, restart few switches and we think this was the 
problem.
No we observe in logs only [info] without errors or whitout disconecting 
clients from our network

Piotr


W dniu 2012-07-24 18:30, Piotr Wchaa pisze:
> ok, thanks for advice, but I checked my "front end" enviroment.
> Before connection goes to front end apache, must go to firewall and 
> next to load balancer.
> I remove from this chain load balancer, and it was still the same.
> In firewall I dont observe teardown connecion or sth. like that. (I 
> can`t quit the firewall from this chain)
> I try to attach pid and tid form tomcat to apache(adding %P %{tid}P %D 
> to apache LogFormat) and search the problem, but I think it isent good 
> clue. I cant exactly correkate problem in jklogfile and apache access.log
> The funny thing is the whole system works ok. for over 2y and in last 
> week just from day to another day it starts to work terrible.
> I even change my isp, still no progress.
>
> Q: What is causing that connection to close, before the response can 
> be sent ?
> A: I will try to answer to this after 9pm.
>
> Piotr
>
> W dniu 2012-07-24 15:12, Andr Warnier pisze:
>> Hi.
>>
>> Thanks for the very complete information about your environment.
>>
>> Piotr Wchaa wrote:
>>> Hi,
>>> Maybe someone can help me with my tomcat problem.
>>> Hope that wont be a big problem for you.
>>>
>>> Im observing that our client are disconnected from server, that is 
>>> very bad situation.
>>>
>> In my experience, this kind of message :
>>
>>> In jklogfile.log
>>> [Tue Jul 24 08:43:22 2012] [17466:47245693265248] [info] 
>>> jk_handler::mod_jk.c (2620): Aborting connection for 
>>> worker=loadbalancer
>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>>> ajp_process_callback::jk_ajp_common.c (1885): Writing to client 
>>> aborted or client network problems
>>> [Tue Jul 24 08:43:22 2012] [17023:47245693265248] [info] 
>>> ajp_service::jk_ajp_common.c (2543): (worker1) sending request to 
>>> tomcat failed (unrecoverable), because of client write error 
>>> (attempt=1)
>>
>> in 99% of the cases, indicates a problem that is NOT with Apache 
>> httpd or mod_jk or Tomcat.
>> It is that by the time (tomcat+mod_jk+apache) want to send a response 
>> back to the client (the user's browser), the eonnection to that 
>> user's browser does not exist anymore, so they cannot send it. (And 
>> all the other messages after that, are because after this error, 
>> things kind of get out of sync.)
>>
>> This can happen
>> - either because the user in front of that browser decides that he 
>> has waited long enough, and clicks on another link (or closes the 
>> browser)
>> - or because some piece of equipment or software closes that 
>> connection before (tomcat+mod_jk+apache) had a chance to send back 
>> the response
>>
>> (It happens that in-between routers/firewalls/gatewaysw/proxies, if 
>> they do not see anything happen on a client connection for a while, 
>> will close that connection - to gain on the number of connections 
>> that they must manage).
>>
>> (Both either/or causes above are also more likely if your Tomcat 
>> requests are so that they take a long time to be processed and 
>> generate a response)
>>
>> So the first place to look, is the link between your client 
>> (presumably a user browser) and the front-end Apache.  What is 
>> causing that connection to close, before the response can be sent ?
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235792-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 17:52:54 2012
Return-Path: <users-return-235792-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3607AD6AB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 17:52:54 +0000 (UTC)
Received: (qmail 86825 invoked by uid 500); 31 Jul 2012 17:52:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86783 invoked by uid 500); 31 Jul 2012 17:52:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86771 invoked by uid 99); 31 Jul 2012 17:52:50 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 17:52:50 +0000
Received: from localhost (HELO mail-gg0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 17:52:50 +0000
Received: by ggnp1 with SMTP id p1so7693097ggn.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 10:52:49 -0700 (PDT)
Received: by 10.50.15.202 with SMTP id z10mr2653281igc.67.1343757168588; Tue,
 31 Jul 2012 10:52:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.195.88 with HTTP; Tue, 31 Jul 2012 10:52:28 -0700 (PDT)
In-Reply-To: <CAMT20g_0Z=7KEVe4q+FBd_hXwWS6OkBtZqVfKRW47AFQ4ro1qw@mail.gmail.com>
References: <CAMT20g9rAyAu95Tsqjbq=KtQrexdZEC_sEiQtvt_frmarSNNNQ@mail.gmail.com>
 <CAPoyBqT2GjuOZUpeBb7q7_Ft_Rtg-NbVGdV4wzzzKawgdAH6gQ@mail.gmail.com>
 <CAMT20g_wihh9y2_iOHxtdLE+jbKH_NOrXWY9C+9hRyNkpgDtgQ@mail.gmail.com>
 <CAPoyBqRmmzwZ+gwtXYODsoRTvZRkLCpsCmWbdceaOH6D8a=Mtw@mail.gmail.com>
 <CAMT20g_A7YQ6TZ+moC4s48QirGb7kv1cRTmYbRHAWU8Mrvr5bg@mail.gmail.com> <CAMT20g_0Z=7KEVe4q+FBd_hXwWS6OkBtZqVfKRW47AFQ4ro1qw@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Tue, 31 Jul 2012 19:52:28 +0200
Message-ID: <CAPoyBqSFHtc+FTprSXxo=WSn_wbVh-56JNcpmQgnK_uGjhbH-w@mail.gmail.com>
Subject: Re: tomcat maven plugin + configuring virtual host for the embedded
 tomcat ?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

documentation added here:
http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/tomcat7-maven-plugin/run-mojo.html#aliases

2012/7/31 Albert Kam <moonblade.wolf@gmail.com>:
> Sorry, forgot to mention a suggestion to document this feature in :
> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/run-mojo-features.html
>
> Regards,
> Albert
>
> On Tue, Jul 31, 2012 at 4:01 PM, Albert Kam <moonblade.wolf@gmail.com> wrote:
>> Wow, so fast ! It worked flawlessly :
>>
>> After adding this in the tomcat maven plugin's configuration ..
>> <aliases>
>>         <alias>mydomain1.com</alias>
>>         <alias>mydomain2.com</alias>
>> </aliases>
>>
>> These work with tomcat7:run :
>> http://localhost:8080
>> http://mydomain1.com:8080
>> http://mydomain2.com:8080
>>
>> Bye2 tomcat:deploy !
>>
>> Thanks !
>>
>> On Tue, Jul 31, 2012 at 3:19 PM, Olivier Lamy <olamy@apache.org> wrote:
>>> Try last SNAPSHOT (see how here:
>>> http://tomcat.apache.org/maven-plugin-2.0-SNAPSHOT/snapshot-test.html
>>> )
>>>
>>> If any issue using this new feature, feel free to reopen:
>>> https://issues.apache.org/jira/browse/MTOMCAT-172
>>>
>>> HTH,
>>> --
>>> Olivier
>>>
>>> 2012/7/31 Albert Kam <moonblade.wolf@gmail.com>:
>>>> Hi,
>>>>
>>>> I have been developing with tomcat7:run happily for some months now.
>>>>
>>>> But then i am currently expanding the development where different
>>>> domains would provide different behaviour for the same webapp (imagine
>>>> multitenancy and ACLs based on the domain or the server name)
>>>>
>>>> To make this work in the development mode,
>>>> i would have to modify the hosts file, mapping several .com domains to
>>>> localhost + add some <Alias> to the localhost's <Host>
>>>>
>>>> Currently i am using the standalone tomcat, doing :
>>>> - go to the parent module, install all modules, which results in the
>>>> newest WAR for the webapp
>>>> - go to the webapp project and tomcat7:deploy to it ..
>>>>
>>>> Not as fast-development-mode as tomcat7:run (which doesnt include
>>>> installing the modules + WAR building), but this will do :-)
>>>>
>>>> I may be too hopeful, but is this useful enough to be added as a new
>>>> feature of tomcat maven plugin ?
>>>> I imagine putting these aliases in the plugin's configuration in the pom.xml ..
>>>>
>>>> Thanks !
>>>>
>>>> On Tue, Jul 31, 2012 at 12:54 AM, Olivier Lamy <olamy@apache.org> wrote:
>>>>> Hi,
>>>>> Not possible currently.
>>>>> What is your use case ? those goals are for dev purpose.
>>>>>
>>>>> 2012/7/27 Albert Kam <moonblade.wolf@gmail.com>:
>>>>>> I am currently using the snapshot version of tomcat maven plugin.
>>>>>> And i am using tomcat7:run and tomcat7:run-war-only (for webapps with
>>>>>> overlay) actively.
>>>>>>
>>>>>> And the time has come for me to try out virtual host .. and as i
>>>>>> understand it, i have to configure the host, context, etc ..
>>>>>> But i've been using the embedded tomcat 'supplied' by the tomcat maven
>>>>>> plugin so far,
>>>>>>
>>>>>> so i wonder if there's a way to configure virtual host on the embedded tomcat ?
>>>>>>
>>>>>> Or should i just forget embedded tomcat and setup an independent
>>>>>> tomcat i can configure freely ?
>>>>>>
>>>>>> Thank you,
>>>>>> Albert
>>>>>>
>>>>>> --
>>>>>> Do not pursue the past. Do not lose yourself in the future.
>>>>>> The past no longer is. The future has not yet come.
>>>>>> Looking deeply at life as it is in the very here and now,
>>>>>> the practitioner dwells in stability and freedom.
>>>>>> (Thich Nhat Hanh)
>>>>>>
>>>>>> ---------------------------------------------------------------------
>>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Olivier Lamy
>>>>> Talend: http://coders.talend.com
>>>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Do not pursue the past. Do not lose yourself in the future.
>>>> The past no longer is. The future has not yet come.
>>>> Looking deeply at life as it is in the very here and now,
>>>> the practitioner dwells in stability and freedom.
>>>> (Thich Nhat Hanh)
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>>
>>>
>>>
>>>
>>> --
>>> Olivier Lamy
>>> Talend: http://coders.talend.com
>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>>
>> --
>> Do not pursue the past. Do not lose yourself in the future.
>> The past no longer is. The future has not yet come.
>> Looking deeply at life as it is in the very here and now,
>> the practitioner dwells in stability and freedom.
>> (Thich Nhat Hanh)
>
>
>
> --
> Do not pursue the past. Do not lose yourself in the future.
> The past no longer is. The future has not yet come.
> Looking deeply at life as it is in the very here and now,
> the practitioner dwells in stability and freedom.
> (Thich Nhat Hanh)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235793-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 17:58:52 2012
Return-Path: <users-return-235793-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F4B1D6CA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 17:58:52 +0000 (UTC)
Received: (qmail 4822 invoked by uid 500); 31 Jul 2012 17:58:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4775 invoked by uid 500); 31 Jul 2012 17:58:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4765 invoked by uid 99); 31 Jul 2012 17:58:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 17:58:48 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-yx0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 17:58:42 +0000
Received: by yenl1 with SMTP id l1so7735631yen.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 10:58:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Ge6/KequpmwwLiVDsKdM55MoksliE+XkNkTRBouSgnQ=;
        b=hLcAB5uG0Lm1j5n0by0iiHMs55A/UdW+nZ9rnVtytj49J3YsI7widoCV9eVzRfRJgv
         fbxT1VAVUXnrU+lw4WUK2YelMPnmPYssar0gtRkwlYWOCZkCPabn/X8412ylJ6zgRXOq
         JXXWHcQGxUD1QVTvhHOp/0lOxhaGHRyiP4pcMACfyoxClgfItYiOuZTVTy1jIUGN/+2+
         emzoFEE3hJPpaD1gZSwJqejI8bLKMe7VzBZkfqotxeysQvCK+/iensti0F5+n1dt+uok
         j8R36FV6DpjxZud5+CAq0BAk4DpYGCE5+P5ct6NuSlWg7MRt0s8GR/Vh5DaVvjlh4CsU
         yXEg==
MIME-Version: 1.0
Received: by 10.60.6.195 with SMTP id d3mr25077865oea.42.1343757500985; Tue,
 31 Jul 2012 10:58:20 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Tue, 31 Jul 2012 10:58:20 -0700 (PDT)
In-Reply-To: <5017F9B8.7090303@ice-sa.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
	<5017F9B8.7090303@ice-sa.com>
Date: Tue, 31 Jul 2012 19:58:20 +0200
Message-ID: <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f923e4682b01204c623ecfe

--e89a8f923e4682b01204c623ecfe
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I'm waiting for a better solution ...
Maybe should a sniffer pcap help in diagnosys?
Michele Mas=E8

On Tue, Jul 31, 2012 at 5:28 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Michele Mase' wrote:
>
>> The "only" way to reproduce it is (for me) without the plugin; i'm sorry
>> ...
>> I haven't seen what happens using a sniffer, but the X in the apache's l=
og
>> file tells me that the client is aborting the session, I suspect a sessi=
on
>> reset could happen.
>> And finally, following your suggestion, a F5 helped me:
>>
>> 200Ok session:
>> GET /test.pdf HTTP/1.1
>> Accept: */*
>> Accept-Encoding: gzip, deflate
>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>> CLR 2.0.50727)
>> Host: installazioni-el6b.insiel.it:**8080<http://installazioni-el6b.insi=
el.it:8080>
>> Connection: Keep-Alive
>> Pragma: no-cache
>>
>> HTTP/1.1 200 OK
>> Server: Apache-Coyote/1.1
>> Accept-Ranges: bytes
>> ETag: W/"3447866-1343391729000"
>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>> Content-Type: application/pdf
>> Content-Length: 3447866
>> Date: Tue, 31 Jul 2012 12:32:05 GMT
>>
>> 206KO:
>> GET /test.pdf HTTP/1.1
>> Accept: */*
>> Range: bytes=3D3446021-3447865, 475136-1792507
>> Accept-Encoding: gzip, deflate
>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>> CLR 2.0.50727)
>> Host: installazioni-el6b.insiel.it:**8080<http://installazioni-el6b.insi=
el.it:8080>
>> Connection: Keep-Alive
>> Pragma: no-cache
>>
>> HTTP/1.1 206 Partial Content
>> Server: Apache-Coyote/1.1
>> Accept-Ranges: bytes
>> ETag: W/"3447866-1343391729000"
>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>> Content-Type: multipart/byteranges;boundary=3D**CATALINA_MIME_BOUNDARY
>> Date: Tue, 31 Jul 2012 12:32:20 GMT
>> Content-Length: 1319458
>>
>>
> The above appears (to me) to be two correct request/response pairs.
> Even the 206, which is a normal response to the "Range" request as per
> here : http://www.w3.org/Protocols/**rfc2616/rfc2616-sec10.html<http://ww=
w.w3.org/Protocols/rfc2616/rfc2616-sec10.html>
>
> We still don't know if/why the browser/client resets the connection, but
> it is not visible in the above exchange.
> Maybe inspecting the response body to the second request would provide a
> clue.
>
> It is also a bit of a mystery to me why the same browser would sometimes
> request the same resource in one go, and sometimes as byteranges.  But I
> don't know exactly how this part is supposed to work.
> Maybe it depends on which part of the PDF the user decides to display ?
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8f923e4682b01204c623ecfe--

From users-return-235794-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 18:50:35 2012
Return-Path: <users-return-235794-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A203D499
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 18:50:35 +0000 (UTC)
Received: (qmail 57132 invoked by uid 500); 31 Jul 2012 18:50:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57097 invoked by uid 500); 31 Jul 2012 18:50:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57064 invoked by uid 99); 31 Jul 2012 18:50:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 18:50:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 18:50:23 +0000
Received: from [192.168.245.129] (p549E0998.dip0.t-ipconnect.de [84.158.9.152])
	by tor.combios.es (Postfix) with ESMTPA id 217FBDA069D
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 20:50:00 +0200 (CEST)
Message-ID: <501828D1.7000000@ice-sa.com>
Date: Tue, 31 Jul 2012 20:49:53 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>	<5017C1D3.5030608@ice-sa.com>	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>	<5017F9B8.7090303@ice-sa.com> <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
In-Reply-To: <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Michele Mase' wrote:
> I'm waiting for a better solution ...
> Maybe should a sniffer pcap help in diagnosys?

Wireshark is your friend. It may at least show you when the client disconnects, and maybe 
why.  But if the problem is in the response body, I don't know if it will be very easy to 
find with a packet dump (and these responses are big).

Wait a bit.  Maybe someone else more knowledgeable will see something strange in those 
headers.

Another idea : the 206 response header contains a "Content-Length" header. According to 
the specs, this is supposed to be the total number of bytes which should be contained in 
the response body (before decoding it into parts).
Try to compare this, with what your Apache log tells you about the response size for the 
same request.
Careful when comparing : I believe that the response size, for Apache, includes the HTTP 
headers; while the Content-Length headers refers only to the response body, without the 
headers.

> 
> On Tue, Jul 31, 2012 at 5:28 PM, Andr Warnier <aw@ice-sa.com> wrote:
> 
>> Michele Mase' wrote:
>>
>>> The "only" way to reproduce it is (for me) without the plugin; i'm sorry
>>> ...
>>> I haven't seen what happens using a sniffer, but the X in the apache's log
>>> file tells me that the client is aborting the session, I suspect a session
>>> reset could happen.
>>> And finally, following your suggestion, a F5 helped me:
>>>
>>> 200Ok session:
>>> GET /test.pdf HTTP/1.1
>>> Accept: */*
>>> Accept-Encoding: gzip, deflate
>>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>>> CLR 2.0.50727)
>>> Host: installazioni-el6b.insiel.it:**8080<http://installazioni-el6b.insiel.it:8080>
>>> Connection: Keep-Alive
>>> Pragma: no-cache
>>>
>>> HTTP/1.1 200 OK
>>> Server: Apache-Coyote/1.1
>>> Accept-Ranges: bytes
>>> ETag: W/"3447866-1343391729000"
>>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>>> Content-Type: application/pdf
>>> Content-Length: 3447866
>>> Date: Tue, 31 Jul 2012 12:32:05 GMT
>>>
>>> 206KO:
>>> GET /test.pdf HTTP/1.1
>>> Accept: */*
>>> Range: bytes=3446021-3447865, 475136-1792507
>>> Accept-Encoding: gzip, deflate
>>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>>> CLR 2.0.50727)
>>> Host: installazioni-el6b.insiel.it:**8080<http://installazioni-el6b.insiel.it:8080>
>>> Connection: Keep-Alive
>>> Pragma: no-cache
>>>
>>> HTTP/1.1 206 Partial Content
>>> Server: Apache-Coyote/1.1
>>> Accept-Ranges: bytes
>>> ETag: W/"3447866-1343391729000"
>>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>>> Content-Type: multipart/byteranges;boundary=**CATALINA_MIME_BOUNDARY
>>> Date: Tue, 31 Jul 2012 12:32:20 GMT
>>> Content-Length: 1319458
>>>
>>>
>> The above appears (to me) to be two correct request/response pairs.
>> Even the 206, which is a normal response to the "Range" request as per
>> here : http://www.w3.org/Protocols/**rfc2616/rfc2616-sec10.html<http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html>
>>
>> We still don't know if/why the browser/client resets the connection, but
>> it is not visible in the above exchange.
>> Maybe inspecting the response body to the second request would provide a
>> clue.
>>
>> It is also a bit of a mystery to me why the same browser would sometimes
>> request the same resource in one go, and sometimes as byteranges.  But I
>> don't know exactly how this part is supposed to work.
>> Maybe it depends on which part of the PDF the user decides to display ?
>>
>>
>> ------------------------------**------------------------------**---------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsubscribe@tomcat.apache.org>
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235795-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 19:24:23 2012
Return-Path: <users-return-235795-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 543E9D7BF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 19:24:23 +0000 (UTC)
Received: (qmail 60108 invoked by uid 500); 31 Jul 2012 19:24:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60052 invoked by uid 500); 31 Jul 2012 19:24:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60040 invoked by uid 99); 31 Jul 2012 19:24:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:24:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:24:13 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id gyKS1j0020bG4ec537PsDv; Tue, 31 Jul 2012 19:23:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id h7Pm1j00M38FjT13P7Pn8u; Tue, 31 Jul 2012 19:23:49 +0000
Message-ID: <501830C2.2000202@christopherschultz.net>
Date: Tue, 31 Jul 2012 15:23:46 -0400
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>	<5017C1D3.5030608@ice-sa.com>	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>	<5017F9B8.7090303@ice-sa.com> <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com> <501828D1.7000000@ice-sa.com>
In-Reply-To: <501828D1.7000000@ice-sa.com>
X-Enigmail-Version: 1.4.3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

André,

On 7/31/12 2:49 PM, André Warnier wrote:
> Michele Mase' wrote:
>> I'm waiting for a better solution ... Maybe should a sniffer pcap
>> help in diagnosys?
> 
> Wireshark is your friend. It may at least show you when the client 
> disconnects, and maybe why.  But if the problem is in the response
> body, I don't know if it will be very easy to find with a packet
> dump (and these responses are big).
> 
> Wait a bit.  Maybe someone else more knowledgeable will see
> something strange in those headers.
> 
> Another idea : the 206 response header contains a "Content-Length" 
> header. According to the specs, this is supposed to be the total
> number of bytes which should be contained in the response body
> (before decoding it into parts). Try to compare this, with what
> your Apache log tells you about the response size for the same
> request. Careful when comparing : I believe that the response size,
> for Apache, includes the HTTP headers; while the Content-Length
> headers refers only to the response body, without the headers.

What's interesting to note is that the request specifies two separate
ranges:

Request
- -------
GET /test.pdf HTTP/1.1
Accept: */*
Range: bytes=3446021-3447865, 475136-1792507

...

Response
- --------
HTTP/1.1 206 Partial Content
Server: Apache-Coyote/1.1
Accept-Ranges: bytes
ETag: W/"3447866-1343391729000"
Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
Content-Type: multipart/byteranges;boundary=CATALINA_MIME_BOUNDARY
Date: Tue, 31 Jul 2012 12:32:20 GMT
Content-Length: 1319458
(end of post)

There should probably be a chunk of the response with a Content-Length
of -(3446021-3447865)=1844 bytes and another one with Content-Length
of -(475136-1792507)=1317371 bytes, all packaged-up inside this single
response.

Can we get more of the data that you see?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAlAYMMIACgkQ9CaO5/Lv0PC3MQCfZcQ6Y6fka2miDK4yD5Uufp3K
VKEAoIilIDXuuqDSa1DYWQ/WgxEJYFHa
=qTvX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235796-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 19:29:06 2012
Return-Path: <users-return-235796-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D018D22F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 19:29:06 +0000 (UTC)
Received: (qmail 77600 invoked by uid 500); 31 Jul 2012 19:29:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77554 invoked by uid 500); 31 Jul 2012 19:29:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77544 invoked by uid 99); 31 Jul 2012 19:29:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:29:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:28:56 +0000
Received: by obbta14 with SMTP id ta14so14864074obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 12:28:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=tGdzjr9c8PGhdUlG9J09pNRMqGdCB6XTKDD8rZMspuQ=;
        b=Cr+V0UYLpavIfuS/AAVc14g91cYzReByxgA9aB5Um5h0F0HMH4xH8abjvPcc59Dxt+
         qSyRTd35b/MgzXtT/J5RnJs4T1mFdMetLMul03xVNqt+9k/PguIyzw45QNVnyHtOduAU
         NA7Fq4jhCRQSfjeXiNbXTw23HaTJUBFt08q3Rm4s61ev+cT9PUjKKDlFIM4Y1qDLE2q5
         hM1bskzp/RHXA+FqhXgsqf25IS/hphHsWRE56cSyzUOFqCpgEp2OrWX+vUafNzHMEgIV
         oQMttoczL7+SF3lBhsF47A3Y5kk7b6atuUl/nzrP+Iwcf+stIjVIIuhdseBVgLIeEzeO
         bZWw==
Received: by 10.182.85.8 with SMTP id d8mr25111098obz.70.1343762915786; Tue,
 31 Jul 2012 12:28:35 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Tue, 31 Jul 2012 12:28:15 -0700 (PDT)
In-Reply-To: <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
 <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
 <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
 <CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
 <CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
 <CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
 <CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
 <5017C1D3.5030608@ice-sa.com> <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
 <5017F9B8.7090303@ice-sa.com> <CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Tue, 31 Jul 2012 21:28:15 +0200
Message-ID: <CABOBwRiVAJ_f-_-R4v5WfnP7Ep=ERMkUFKdqCtAFRzr32cDtdg@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/31 Michele Mase' <michele.mase@gmail.com>:
> I'm waiting for a better solution ...

One silly question, do you have try to reproduce this issue with an
upper version of PDF Library ? I know that you cannot to upgrade all
clients but we can to discard a bug in this plugin

And, do you have try with another browser, like Chrome ?  i know that
you cannot to ask your clients to change your browsers , but Chrome
has tools for develovers to monitoring the usage of network, headers,
etc.

Well, finally, they were two silly questions :-)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235797-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 19:30:53 2012
Return-Path: <users-return-235797-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 362B3D23E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 19:30:53 +0000 (UTC)
Received: (qmail 85653 invoked by uid 500); 31 Jul 2012 19:30:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85584 invoked by uid 500); 31 Jul 2012 19:30:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85575 invoked by uid 99); 31 Jul 2012 19:30:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:30:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michele.mase@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:30:43 +0000
Received: by obbta14 with SMTP id ta14so14866424obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 12:30:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fAjd7qe3tR/B7ZLcE/866kJ0gNc03LL8ZaOaPlEm+2s=;
        b=wr7l4k138NqfmPi/DFPyNhMYoyTRip3j3SHIq481vV/uYHKCyqDrL9/mEfAj+3Yn9d
         +VLfCColAjsBgPh509InNDND0PImRcLT+qGRCqO8G2hMQpKbkn0pbExFI5EmklVDnZld
         l1i6IifeQPdyGtyR9Z7FX5UFQSjGvLFvyHcxCVz5ozeWodTnUkKSux6E7tMVA5MRL0WK
         pJCER0gItfUM01CvPJH2ILn/o18wP2OS3VFg7R824p87+5Yb3M5jV9MKC6x+dbggpGXQ
         SECn8N5cSzldkRqz9CURaTQG4u7F8iqwHquhU7hWi74eZpcchRu0+coi+lWlDNQ/DMlI
         jzlw==
MIME-Version: 1.0
Received: by 10.182.37.41 with SMTP id v9mr25364904obj.23.1343763022572; Tue,
 31 Jul 2012 12:30:22 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Tue, 31 Jul 2012 12:30:22 -0700 (PDT)
In-Reply-To: <501830C2.2000202@christopherschultz.net>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
	<5017F9B8.7090303@ice-sa.com>
	<CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
	<501828D1.7000000@ice-sa.com>
	<501830C2.2000202@christopherschultz.net>
Date: Tue, 31 Jul 2012 21:30:22 +0200
Message-ID: <CAC=HuntdfOKDUbPDPU5hsgAGdiZ1AP3QkYVcfvqGFU0OCkmX+A@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae939969b9f6b0b04c6253545

--14dae939969b9f6b0b04c6253545
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Tomorrow I'will try with wireshark hoping better results!

On Tue, Jul 31, 2012 at 9:23 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Andr=E9,
>
> On 7/31/12 2:49 PM, Andr=E9 Warnier wrote:
> > Michele Mase' wrote:
> >> I'm waiting for a better solution ... Maybe should a sniffer pcap
> >> help in diagnosys?
> >
> > Wireshark is your friend. It may at least show you when the client
> > disconnects, and maybe why.  But if the problem is in the response
> > body, I don't know if it will be very easy to find with a packet
> > dump (and these responses are big).
> >
> > Wait a bit.  Maybe someone else more knowledgeable will see
> > something strange in those headers.
> >
> > Another idea : the 206 response header contains a "Content-Length"
> > header. According to the specs, this is supposed to be the total
> > number of bytes which should be contained in the response body
> > (before decoding it into parts). Try to compare this, with what
> > your Apache log tells you about the response size for the same
> > request. Careful when comparing : I believe that the response size,
> > for Apache, includes the HTTP headers; while the Content-Length
> > headers refers only to the response body, without the headers.
>
> What's interesting to note is that the request specifies two separate
> ranges:
>
> Request
> - -------
> GET /test.pdf HTTP/1.1
> Accept: */*
> Range: bytes=3D3446021-3447865, 475136-1792507
>
> ...
>
> Response
> - --------
> HTTP/1.1 206 Partial Content
> Server: Apache-Coyote/1.1
> Accept-Ranges: bytes
> ETag: W/"3447866-1343391729000"
> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
> Content-Type: multipart/byteranges;boundary=3DCATALINA_MIME_BOUNDARY
> Date: Tue, 31 Jul 2012 12:32:20 GMT
> Content-Length: 1319458
> (end of post)
>
> There should probably be a chunk of the response with a Content-Length
> of -(3446021-3447865)=3D1844 bytes and another one with Content-Length
> of -(475136-1792507)=3D1317371 bytes, all packaged-up inside this single
> response.
>
> Can we get more of the data that you see?
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAlAYMMIACgkQ9CaO5/Lv0PC3MQCfZcQ6Y6fka2miDK4yD5Uufp3K
> VKEAoIilIDXuuqDSa1DYWQ/WgxEJYFHa
> =3DqTvX
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae939969b9f6b0b04c6253545--

From users-return-235798-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 19:42:41 2012
Return-Path: <users-return-235798-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69F6ED299
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 19:42:41 +0000 (UTC)
Received: (qmail 16085 invoked by uid 500); 31 Jul 2012 19:42:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16032 invoked by uid 500); 31 Jul 2012 19:42:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16018 invoked by uid 99); 31 Jul 2012 19:42:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:42:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of michele.mase@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 19:42:31 +0000
Received: by ghrr14 with SMTP id r14so7808003ghr.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 12:42:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OOsvrEbf/IK8neDRUJLWEDeuaUiAS6nUhNgX4L2Xrn8=;
        b=0cs3OHkLIv+fwOAaVDiKhYJerwC9+ebInRJFAC/Mal7wbSwzxPuy2JIlyky4OTfHJ9
         KC6/uvLiUU8Xb1OC5m4UEzAKsld9T/PcMGxtLjrUI7lxMPklENI56Aa3Up/92brEUl6K
         Hc56Jq4nfgr/1h2/zMSJD28vWql8dF59a6f90RX2ccPHohOafXteV6+Cscv84A/bm0uL
         cUXetThTor0qoBSd4QEC4BGn0SuL/JNn6ukMYEVKspX/vu8yTnIOm8P4S8Mmn4GUFfet
         5GkvQFmekBR0zoL2Dph8XYhxycVEYPF3uiVBrksa6oWc6U4DDBlHBNdIfV2pePGiWuYT
         EgmQ==
MIME-Version: 1.0
Received: by 10.60.3.202 with SMTP id e10mr2442365oee.52.1343763730958; Tue,
 31 Jul 2012 12:42:10 -0700 (PDT)
Received: by 10.182.40.201 with HTTP; Tue, 31 Jul 2012 12:42:10 -0700 (PDT)
In-Reply-To: <CABOBwRiVAJ_f-_-R4v5WfnP7Ep=ERMkUFKdqCtAFRzr32cDtdg@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
	<5017F9B8.7090303@ice-sa.com>
	<CAC=HunsXryTANAe5ec5KesPn92T-fMoyGSWOFD2GTAj7PTPT4A@mail.gmail.com>
	<CABOBwRiVAJ_f-_-R4v5WfnP7Ep=ERMkUFKdqCtAFRzr32cDtdg@mail.gmail.com>
Date: Tue, 31 Jul 2012 21:42:10 +0200
Message-ID: <CAC=HunvmKA1qsPy-7_CScJKY-exBotQM6JEcmxRyqGUW6rCGNw@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: "Michele Mase'" <michele.mase@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1ce4cd8879504c6255ff1
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff1ce4cd8879504c6255ff1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Since there are a lot of silly technicians that cannot utilize any browser
wxcept ie, and some people told me "look, before the upgrade (was tomcat
7.0.16) all worked for me and now some pdf are ko", it must work with the
ancient configuration XP+IE+Acrobat9.
Other brosers, like firefox or other pdf viewers like foxit seem not have
the problem.
Michele Mas=E8

On Tue, Jul 31, 2012 at 9:28 PM, Jose Mar=EDa Zaragoza
<demablogia@gmail.com>wrote:

> 2012/7/31 Michele Mase' <michele.mase@gmail.com>:
> > I'm waiting for a better solution ...
>
> One silly question, do you have try to reproduce this issue with an
> upper version of PDF Library ? I know that you cannot to upgrade all
> clients but we can to discard a bug in this plugin
>
> And, do you have try with another browser, like Chrome ?  i know that
> you cannot to ask your clients to change your browsers , but Chrome
> has tools for develovers to monitoring the usage of network, headers,
> etc.
>
> Well, finally, they were two silly questions :-)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--e89a8ff1ce4cd8879504c6255ff1--

From users-return-235799-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 20:49:38 2012
Return-Path: <users-return-235799-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBF1BD33B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 20:49:38 +0000 (UTC)
Received: (qmail 16246 invoked by uid 500); 31 Jul 2012 20:49:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16203 invoked by uid 500); 31 Jul 2012 20:49:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16193 invoked by uid 99); 31 Jul 2012 20:49:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 20:49:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 20:49:27 +0000
Received: by vcbfl15 with SMTP id fl15so7734660vcb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 13:49:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=M18Ij9g+x32nzezfkl2stc5osD3AGeTvLVCoEqL5Dk8=;
        b=B/nZvqMApjW1X/WQKKYD0QkjKp0ZkpMF0Ydh0h/4kkcv3Q2NdD3IXy5lFj2PwuaIq6
         xj88lWtmRAT7PFZ2X9GSaCVhW8QJTV3zjfZg7fHykV+R/uaN7krwT1YHOdnauE5chMLU
         pdZNknZmWLPO7DysxauuxUiwbMVvS9qk94v5pKPvvMo+NBalH1JS0E4C7RSnjja+E+qx
         MibloWjUrgiqga9kZl1TWv/wZRYsrW0065yJAAf7oqZmSqAYzFplC35PHs6GrA6SxZvK
         3fUBXovMDgjtH4dXe+E6KEWJApSLxy7PmwZNv4k6U/S7LmecAn/g2N9ASGJkb1J5MyEm
         4c2Q==
MIME-Version: 1.0
Received: by 10.52.179.199 with SMTP id di7mr13276275vdc.83.1343767746914;
 Tue, 31 Jul 2012 13:49:06 -0700 (PDT)
Received: by 10.58.0.35 with HTTP; Tue, 31 Jul 2012 13:49:06 -0700 (PDT)
In-Reply-To: <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
Date: Wed, 1 Aug 2012 00:49:06 +0400
Message-ID: <CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/7/31 Michele Mase' <michele.mase@gmail.com>:
> The "only" way to reproduce it is (for me) without the plugin; i'm sorry ...
> I haven't seen what happens using a sniffer, but the X in the apache's log
> file tells me that the client is aborting the session, I suspect a session
> reset could happen.
> And finally, following your suggestion, a F5 helped me:
>
> 200Ok session:
> GET /test.pdf HTTP/1.1
> Accept: */*
> Accept-Encoding: gzip, deflate
> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
> CLR 2.0.50727)
> Host: installazioni-el6b.insiel.it:8080
> Connection: Keep-Alive
> Pragma: no-cache
>
> HTTP/1.1 200 OK
> Server: Apache-Coyote/1.1
> Accept-Ranges: bytes
> ETag: W/"3447866-1343391729000"
> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
> Content-Type: application/pdf
> Content-Length: 3447866
> Date: Tue, 31 Jul 2012 12:32:05 GMT
>
> 206KO:
> GET /test.pdf HTTP/1.1
> Accept: */*
> Range: bytes=3446021-3447865, 475136-1792507
> Accept-Encoding: gzip, deflate
> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
> CLR 2.0.50727)
> Host: installazioni-el6b.insiel.it:8080
> Connection: Keep-Alive
> Pragma: no-cache
>
> HTTP/1.1 206 Partial Content
> Server: Apache-Coyote/1.1
> Accept-Ranges: bytes
> ETag: W/"3447866-1343391729000"
> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
> Content-Type: multipart/byteranges;boundary=CATALINA_MIME_BOUNDARY
> Date: Tue, 31 Jul 2012 12:32:20 GMT
> Content-Length: 1319458
>

The Content-Length header in the above 206 response is not from Tomcat.

Tomcat's DefaultServlet does not calculate the whole size of the parts
and does not set content-length, and the file size is much more than
fits into the buffer.
So it would use  Transfer-Encoding: chunked  in its response and not
the one that you cited.
There must be some proxy in the way that buffers the data and sends
them as one response instead of chunks. HTTPD? Was there some option
in it that disables chunked encoding when interacting with IE?

I tried to reproduce this request locally with a telnet client, and
when I have local A/V software turned on, it interferes and re-chunks
the response into larger chunks.
If I turn the A/V off, I see Tomcat 7.0.29 responding in chunks of 2Kb
(0x2000 bytes) each, as expected.


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235800-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 21:13:23 2012
Return-Path: <users-return-235800-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CB46D469
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 21:13:23 +0000 (UTC)
Received: (qmail 95104 invoked by uid 500); 31 Jul 2012 21:13:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95062 invoked by uid 500); 31 Jul 2012 21:13:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95053 invoked by uid 99); 31 Jul 2012 21:13:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:13:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of demablogia@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:13:12 +0000
Received: by obbta14 with SMTP id ta14so15002333obb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 14:12:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=BdoJAjhcZIjh/rI5l9XkUphk/foFAN8LG+x0uxAeFLc=;
        b=fXQ7axrnJp0TnxX7tSDImU7pO8uTcFsLARSGI5FK1MFcAOu8IhTOJMWAYwSSoVTORf
         o9hFDqevU5qQQHHGFsbZDCQXuY8OM5umtTlu5NDLTZXlWvJGG/KyyndTmGozKK484qJV
         iTDiztEawbndsxBnzUicQK3PCiATROyBTf8zrdZKl1K+j1atnGS5n3d/544TzQFbO2GB
         NZWrb6ulIeFuGqI8DajoH/JJaxxfrn4/6u+ltcjKdxu+OnpuZf5uBftpc1RKtOrUhG2t
         UuPmJcUu9Yapfs8KmxlEvFB6wJac4Bvua6fMx+3Y0eo/EL8COpGrIvAM8foEIh8aDdf0
         /TBQ==
Received: by 10.182.85.8 with SMTP id d8mr25525069obz.70.1343769172445; Tue,
 31 Jul 2012 14:12:52 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.80.137 with HTTP; Tue, 31 Jul 2012 14:12:32 -0700 (PDT)
In-Reply-To: <CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
 <CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
 <CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
 <CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
 <CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
 <CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
 <CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
 <5017C1D3.5030608@ice-sa.com> <CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
 <CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
From: =?ISO-8859-1?Q?Jose_Mar=EDa_Zaragoza?= <demablogia@gmail.com>
Date: Tue, 31 Jul 2012 23:12:32 +0200
Message-ID: <CABOBwRi4yioOw1GdChFni3ce0E-vX5W7Sghu32wp-u6YZGJ1-A@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

> The Content-Length header in the above 206 response is not from Tomcat.
>
> Tomcat's DefaultServlet does not calculate the whole size of the parts
> and does not set content-length, and the file size is much more than
> fits into the buffer.
> So it would use  Transfer-Encoding: chunked  in its response and not
> the one that you cited.
> There must be some proxy in the way that buffers the data and sends
> them as one response instead of chunks. HTTPD? Was there some option
> in it that disables chunked encoding when interacting with IE?


Well, i don't know so much, but that doesn't have to do with chunked
encoding, but Partial Content support, right ?
And partial content is requested by client (IE) if Content-length is
very big ( I guess ... )
Maybe, IE requests a PDF file (GET) and  if it sees a Content-length
very big , cuts downloading and re-send a GET request with a range of
bytes.

Chrome looks to perform something like that behaviour

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235801-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 21:28:58 2012
Return-Path: <users-return-235801-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3337FD27B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 21:28:58 +0000 (UTC)
Received: (qmail 43944 invoked by uid 500); 31 Jul 2012 21:28:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43903 invoked by uid 500); 31 Jul 2012 21:28:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43894 invoked by uid 99); 31 Jul 2012 21:28:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:28:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:28:46 +0000
Received: from [192.168.245.129] (p549E0998.dip0.t-ipconnect.de [84.158.9.152])
	by tor.combios.es (Postfix) with ESMTPA id B8A15DA068E
	for <users@tomcat.apache.org>; Tue, 31 Jul 2012 23:28:23 +0200 (CEST)
Message-ID: <50184DF1.90506@ice-sa.com>
Date: Tue, 31 Jul 2012 23:28:17 +0200
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PDF Download problem tomcat >= 7.0.27
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>	<5017C1D3.5030608@ice-sa.com>	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com> <CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
In-Reply-To: <CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Konstantin Kolinko wrote:
> 2012/7/31 Michele Mase' <michele.mase@gmail.com>:
>> The "only" way to reproduce it is (for me) without the plugin; i'm sorry ...
>> I haven't seen what happens using a sniffer, but the X in the apache's log
>> file tells me that the client is aborting the session, I suspect a session
>> reset could happen.
>> And finally, following your suggestion, a F5 helped me:
>>
>> 200Ok session:
>> GET /test.pdf HTTP/1.1
>> Accept: */*
>> Accept-Encoding: gzip, deflate
>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>> CLR 2.0.50727)
>> Host: installazioni-el6b.insiel.it:8080
>> Connection: Keep-Alive
>> Pragma: no-cache
>>
>> HTTP/1.1 200 OK
>> Server: Apache-Coyote/1.1
>> Accept-Ranges: bytes
>> ETag: W/"3447866-1343391729000"
>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>> Content-Type: application/pdf
>> Content-Length: 3447866
>> Date: Tue, 31 Jul 2012 12:32:05 GMT
>>
>> 206KO:
>> GET /test.pdf HTTP/1.1
>> Accept: */*
>> Range: bytes=3446021-3447865, 475136-1792507
>> Accept-Encoding: gzip, deflate
>> User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET
>> CLR 2.0.50727)
>> Host: installazioni-el6b.insiel.it:8080
>> Connection: Keep-Alive
>> Pragma: no-cache
>>
>> HTTP/1.1 206 Partial Content
>> Server: Apache-Coyote/1.1
>> Accept-Ranges: bytes
>> ETag: W/"3447866-1343391729000"
>> Last-Modified: Fri, 27 Jul 2012 12:22:09 GMT
>> Content-Type: multipart/byteranges;boundary=CATALINA_MIME_BOUNDARY
>> Date: Tue, 31 Jul 2012 12:32:20 GMT
>> Content-Length: 1319458
>>
> 
> The Content-Length header in the above 206 response is not from Tomcat.
> 
> Tomcat's DefaultServlet does not calculate the whole size of the parts
> and does not set content-length, and the file size is much more than
> fits into the buffer.
> So it would use  Transfer-Encoding: chunked  in its response and not
> the one that you cited.
> There must be some proxy in the way that buffers the data and sends
> them as one response instead of chunks. HTTPD? Was there some option
> in it that disables chunked encoding when interacting with IE?
> 
> I tried to reproduce this request locally with a telnet client, and
> when I have local A/V software turned on, it interferes and re-chunks
> the response into larger chunks.
> If I turn the A/V off, I see Tomcat 7.0.29 responding in chunks of 2Kb
> (0x2000 bytes) each, as expected.
> 
Konstantin, Christopher,

According to the OP, this issue happens with Tomcat 7.0.27, 7.0.28 and 7.0.29, and 
disappears if he reverts to 7.0.26.
Other environmental conditions - according to the OP - appear not to change between these 
tests with different Tomcat versions.  The browser in all cases in WinXP-IE-Acrobat9.
Quote: "Other brosers, like firefox or other pdf viewers like foxit seem not have
the problem."

I could not spot anything in the 7.0.27 Changelog which would explicitly appear to relate 
to this, but maybe you can ?
Not saying that a bug was introduced in Tomcat 7.0.27, but maybe some difference in the 
way in which Tomcat 7.0.27+ produce the response to a Range request could explain why 
7.0.26 does not trigger the problem, and later versions do ?

To be more explicit : my bet at this stage would be a bug in the XP+IE+Acrobat9 
combination (as being "the usual suspects"), but a bug that gets triggered only because 
Tomcat 7.0.27+ send the response just a bit differently than 7.0.26.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-235802-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Jul 31 21:32:35 2012
Return-Path: <users-return-235802-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FBEAD28E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 31 Jul 2012 21:32:35 +0000 (UTC)
Received: (qmail 55564 invoked by uid 500); 31 Jul 2012 21:32:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55274 invoked by uid 500); 31 Jul 2012 21:32:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55265 invoked by uid 99); 31 Jul 2012 21:32:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:32:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jul 2012 21:32:25 +0000
Received: by vcbfl15 with SMTP id fl15so7782184vcb.18
        for <users@tomcat.apache.org>; Tue, 31 Jul 2012 14:32:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=vzS3c9NJiYiaFxFYuEaUUvnR+kdSAo8sYAH5j+rTjg4=;
        b=fHFi6FSUClT+CvyMovuB+TlxCl/396slst8jQK53xzdiWaNNywM87D8XxEnYH/1lJu
         LZ5Qarl1WxQvdCg/aMhpQKXTpgBrhE+9+QS+FtzTw/Wh/O4ZiKdFPDQEFiotyIATpXdB
         mk07IpBSWpWNDBE3vrejANyawam81fH/HUcHb+7HJANf3FQyVLHtou2ZIiAV5PZwhtSW
         0CRsVIKQrsEA7YY3YOj+D1KckR/ViJxPR7eeZL03j54rvC1bmGmi9M13+XCnNjN3ylVa
         akq4LlwvfvL5SBxBdC8PPeHoeOspdHK5po46tIZRcELuPDEo5xxn/AmNle0XULW3r6VS
         uc3g==
MIME-Version: 1.0
Received: by 10.220.219.7 with SMTP id hs7mr15413153vcb.0.1343770324043; Tue,
 31 Jul 2012 14:32:04 -0700 (PDT)
Received: by 10.58.0.35 with HTTP; Tue, 31 Jul 2012 14:32:03 -0700 (PDT)
In-Reply-To: <CABOBwRi4yioOw1GdChFni3ce0E-vX5W7Sghu32wp-u6YZGJ1-A@mail.gmail.com>
References: <CAC=Hunt=16kVDG-GuyPq6mhw3wJTZNYQgU5A8OaPKzmUKJXG-A@mail.gmail.com>
	<CABzHfVkQCH=7-5=3xvOetV2W2ACeTDz-6E703RLu5Ja7+wAqog@mail.gmail.com>
	<CAC=HunuF5zqKf5s_D9syTZ1J2nFXdCjEWKj=zQ+Hc8BgnN1hzA@mail.gmail.com>
	<CABOBwRg_fBPSwUQpiNkzE3m1evWn0-zN=f5oXRaV3kmg9UEBKQ@mail.gmail.com>
	<CAC=HuntJh1ixdv71fhmxRqaHhNxUXptXvywkKKb0=hbCMLnkjA@mail.gmail.com>
	<CABOBwRhxPPO25wRLSjHch0Mj9QCRQ5nzW-JAq47Ddif0BNzOtQ@mail.gmail.com>
	<CAC=Huntp=fA4GiV8HBpLGuq0ZmYJu5=-C179YXK389hpuFv0jg@mail.gmail.com>
	<5017C1D3.5030608@ice-sa.com>
	<CAC=HunsuyMyHL0Dnh-7dU59P846aZ29oPOOZbiHS9w1Lh05ROg@mail.gmail.com>
	<CABzHfVnyirKkDsohGvYpu2DNXEjfDOsGUZVqfuH8k3jJSCUk3Q@mail.gmail.com>
	<CABOBwRi4yioOw1GdChFni3ce0E-vX5W7Sghu32wp-u6YZGJ1-A@mail.gmail.com>
Date: Wed, 1 Aug 2012 01:32:03 +0400
Message-ID: <CABzHfVkncaG-2Dy_5p_SiXGeVMJP3KQY1wXtfwTsxjJ2oE=oMw@mail.gmail.com>
Subject: Re: PDF Download problem tomcat >= 7.0.27
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/8/1 Jose Mar=EDa Zaragoza <demablogia@gmail.com>:
>> The Content-Length header in the above 206 response is not from Tomcat.
>>
>> Tomcat's DefaultServlet does not calculate the whole size of the parts
>> and does not set content-length, and the file size is much more than
>> fits into the buffer.
>> So it would use  Transfer-Encoding: chunked  in its response and not
>> the one that you cited.
>> There must be some proxy in the way that buffers the data and sends
>> them as one response instead of chunks. HTTPD? Was there some option
>> in it that disables chunked encoding when interacting with IE?
>
>
> Well, i don't know so much, but that doesn't have to do with chunked
> encoding, but Partial Content support, right ?
> And partial content is requested by client (IE) if Content-length is
> very big ( I guess ... )
> Maybe, IE requests a PDF file (GET) and  if it sees a Content-length
> very big , cuts downloading and re-send a GET request with a range of
> bytes.
>
> Chrome looks to perform something like that behaviour
>

1. I suspect that the content is requested not by IE, but by the Adobe
Acrobat plugin.

The "User-Agent" header says that it was IE6,  but it is hard to
imagine why the browser by itself would request that strange bytes
range, asking for the tail of the file first. So there is something
else that uses the browser to perform the request.

2. To clarify what I said about chunked encoding:

Tomcat itself does not know the size of data that it sends. So if the
response is HTTP/1.1, the response will be send using
"Transfer-Encoding: chunked" in blocks of bytes (chunks) each prefixed
with the size of the block, up to the terminating block of size 0. It
is a feature of HTTP/1.1 protocol.

If something sends "Content-Length: 1319458" response header, it must
calculate the size of data, and it can be only done by caching the
whole of response sent by Tomcat.  The response headers will not be
sent before the whole data is cached, so the client will observe a
delay. I think there is a possibility that the client can time-out.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


